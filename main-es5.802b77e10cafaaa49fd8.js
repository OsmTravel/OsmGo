(function(){function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(M){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new k(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(M){return{type:"throw",arg:M}}}e.wrap=u;var c={};function h(){}function f(){}function d(){}var p={};s(p,i,function(){return this});var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==t&&n.call(g,i)&&(p=g);var v=d.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,o,s)},function(e){r("throw",e,o,s)}):t.resolve(h).then(function(e){c.value=e,o(c)},function(e){return r("throw",e,o,s)})}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t(function(t,i){r(e,n,t,i)})}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=d,s(v,"constructor",d),s(d,"constructor",f),f.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(_.prototype),s(_.prototype,a,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},y(v),s(v,o,"Generator"),s(v,i,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JZ=Object.defineProperty,kN=Object.getOwnPropertySymbols,QZ=Object.prototype.hasOwnProperty,eJ=Object.prototype.propertyIsEnumerable,PN=function(e,t,n){return t in e?JZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},nE=function(e,t){for(var n in t||(t={}))QZ.call(t,n)&&PN(e,n,t[n]);if(kN){var r,i=_createForOfIteratorHelper(kN(t));try{for(i.s();!(r=i.n()).done;){n=r.value;eJ.call(t,n)&&PN(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e};(self.webpackChunkosm_go=self.webpackChunkosm_go||[]).push([[179],{98255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=98255,e.exports=t},68384:function(e,t,n){"use strict";n.d(t,{Uw:function(){return l},fo:function(){return u}});var r=n(8239);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var i,a=((i=a||(a={})).Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE",a),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).message=e,i.code=r,i}return _createClass(n)}(_wrapNativeSuper(Error)),s=function(e){return e.Capacitor=function(e){var t,n,i,s,u,l=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},h=c.Plugins=c.Plugins||{},f=e.CapacitorPlatforms,d=(null===(t=null==f?void 0:f.currentPlatform)||void 0===t?void 0:t.getPlatform)||function(){return null!==l?l.name:function(e){var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"}(e)},p=(null===(n=null==f?void 0:f.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||function(){return"web"!==d()},m=(null===(i=null==f?void 0:f.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||function(e){var t=v.get(e);return!(!(null==t?void 0:t.platforms.has(d()))&&!g(e))},g=(null===(s=null==f?void 0:f.currentPlatform)||void 0===s?void 0:s.getPluginHeader)||function(e){var t;return null===(t=c.PluginHeaders)||void 0===t?void 0:t.find(function(t){return t.name===e})},v=new Map,y=(null===(u=null==f?void 0:f.currentPlatform)||void 0===u?void 0:u.registerPlugin)||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v.get(e);if(n)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),n.proxy;var i,s,u=d(),f=g(e),p=(s=(0,r.Z)(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i||!(u in t)){e.next=11;break}if("function"!=typeof t[u]){e.next=7;break}return e.next=4,t[u]();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=t[u];case 8:i=i=e.t0,e.next=21;break;case 11:if(e.t1=null!==l&&!i&&"web"in t,!e.t1){e.next=21;break}if("function"!=typeof t.web){e.next=19;break}return e.next=16,t.web();case 16:e.t2=e.sent,e.next=20;break;case 19:e.t2=t.web;case 20:i=i=e.t2;case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)}),m=function(t){var n,i=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];var h=p().then(function(r){var i=function(t,n){var r,i;if(!f){if(t)return null===(i=t[n])||void 0===i?void 0:i.bind(t);throw new o('"'.concat(e,'" plugin is not implemented on ').concat(u),a.Unimplemented)}var s=null==f?void 0:f.methods.find(function(e){return n===e.name});return s?"promise"===s.rtype?function(t){return c.nativePromise(e,n.toString(),t)}:function(t,r){return c.nativeCallback(e,n.toString(),t,r)}:t?null===(r=t[n])||void 0===r?void 0:r.bind(t):void 0}(r,t);if(i){var l=i.apply(void 0,s);return n=null==l?void 0:l.remove,l}throw new o('"'.concat(e,".").concat(t,'()" is not implemented on ').concat(u),a.Unimplemented)});return"addListener"===t&&(h.remove=(0,r.Z)(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n());case 1:case"end":return e.stop()}},e)}))),h};return i.toString=function(){return"".concat(t.toString(),"() { [capacitor code] }")},Object.defineProperty(i,"name",{value:t,writable:!1,configurable:!1}),i},y=m("addListener"),_=m("removeListener"),b=function(e,t){var n,i=y({eventName:e},t),a=(n=(0,r.Z)(_regeneratorRuntime().mark(function n(){var r;return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i;case 2:r=n.sent,_({eventName:e,callbackId:r},t);case 4:case"end":return n.stop()}},n)})),function(){return n.apply(this,arguments)}),o=new Promise(function(e){return i.then(function(){return e({remove:a})})});return o.remove=(0,r.Z)(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Using addListener() without 'await' is deprecated."),e.next=3,a();case 3:case"end":return e.stop()}},e)})),o},w=new Proxy({},{get:function(e,t){switch(t){case"$$typeof":return;case"toJSON":return function(){return{}};case"addListener":return f?b:y;case"removeListener":return _;default:return m(t)}}});return h[e]=w,v.set(e,{name:e,proxy:w,platforms:new Set([].concat(_toConsumableArray(Object.keys(t)),_toConsumableArray(f?[u]:[])))}),w};return c.convertFileSrc||(c.convertFileSrc=function(e){return e}),c.getPlatform=d,c.handleError=function(t){return e.console.error(t)},c.isNativePlatform=p,c.isPluginAvailable=m,c.pluginMethodNoop=function(e,t,n){return Promise.reject("".concat(n,' does not have an implementation of "').concat(t,'".'))},c.registerPlugin=y,c.Exception=o,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c}(e)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),u=s.registerPlugin,l=function(){function e(t){_classCallCheck(this,e),this.listeners={},this.windowListeners={},t&&(console.warn('Capacitor WebPlugin "'.concat(t.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=t)}return _createClass(e,[{key:"addListener",value:function(e,t){var n=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);var i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);var a,o=function(){var i=(0,r.Z)(_regeneratorRuntime().mark(function r(){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n.removeListener(e,t));case 1:case"end":return r.stop()}},r)}));return function(){return i.apply(this,arguments)}}(),s=Promise.resolve({remove:o});return Object.defineProperty(s,"remove",{value:(a=(0,r.Z)(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Using addListener() without 'await' is deprecated."),e.next=3,o();case 3:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})}),s}},{key:"removeAllListeners",value:function(){var e=this;return(0,r.Z)(_regeneratorRuntime().mark(function t(){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n in e.listeners={},e.windowListeners)e.removeWindowListener(e.windowListeners[n]);e.windowListeners={};case 3:case"end":return t.stop()}},t)}))()}},{key:"notifyListeners",value:function(e,t){var n=this.listeners[e];n&&n.forEach(function(e){return e(t)})}},{key:"hasListeners",value:function(e){return!!this.listeners[e].length}},{key:"registerWindowListener",value:function(e,t){var n=this;this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:function(e){n.notifyListeners(t,e)}}}},{key:"unimplemented",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new s.Exception(e,a.Unimplemented)}},{key:"unavailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new s.Exception(e,a.Unavailable)}},{key:"removeListener",value:function(e,t){var n=this;return(0,r.Z)(_regeneratorRuntime().mark(function r(){var i,a;return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=n.listeners[e]){r.next=3;break}return r.abrupt("return");case 3:a=i.indexOf(t),n.listeners[e].splice(a,1),n.listeners[e].length||n.removeWindowListener(n.windowListeners[e]);case 5:case"end":return r.stop()}},r)}))()}},{key:"addWindowListener",value:function(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}},{key:"removeWindowListener",value:function(e){!e||(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}]),e}()},54789:function(e,t,n){"use strict";n.d(t,{y$:function(){return i},k$:function(){return a}});var r,i=((r=i||(i={})).Heavy="HEAVY",r.Medium="MEDIUM",r.Light="LIGHT",i),a=function(){return(e=a||(a={})).Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR",a;var e}()},97235:function(e,t,n){"use strict";n.d(t,{c:function(){return h}});var r,i=n(71567),a=function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},o=function(e){if(void 0===r){var t=void 0!==e.style.webkitAnimationName;r=void 0===e.style.animationName&&t?"-webkit-":""}return r},s=function(e,t,n){var r=t.startsWith("animation")?o(e):"";e.style.setProperty(r+t,n)},u=function(e,t){var n=t.startsWith("animation")?o(e):"";e.style.removeProperty(n+t)},l=[],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(void 0!==t){var n=Array.isArray(t)?t:[t];return[].concat(_toConsumableArray(e),_toConsumableArray(n))}return e},h=function(e){var t,n,r,h,f,d,p,m,g,v,y,_,b,w=[],x=[],k=[],C=!1,S={},M=[],E=[],T={},L=0,I=!1,D=!1,A=!0,P=!1,O=!0,N=e,R=[],F=[],Y=[],z=[],j=[],B=[],H=[],U=[],V=[],G=[],q="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,W="function"==typeof Element&&"function"==typeof Element.prototype.animate&&q,$=function(e,t){return(t&&t.oneTimeCallback?F:R).push({c:e,o:t}),b},X=function(){if(W)G.forEach(function(e){e.cancel()}),G.length=0;else{var e=Y.slice();(0,i.r)(function(){e.forEach(function(e){u(e,"animation-name"),u(e,"animation-duration"),u(e,"animation-timing-function"),u(e,"animation-iteration-count"),u(e,"animation-delay"),u(e,"animation-play-state"),u(e,"animation-fill-mode"),u(e,"animation-direction")})})}},Z=function(){j.forEach(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}),j.length=0},J=function(){return void 0!==f?f:p?p.getFill():"both"},K=function(){return void 0!==g?g:void 0!==d?d:p?p.getDirection():"normal"},Q=function(){return I?"linear":void 0!==r?r:p?p.getEasing():"linear"},ee=function(){return D?0:void 0!==v?v:void 0!==n?n:p?p.getDuration():0},te=function(){return void 0!==h?h:p?p.getIterations():1},ne=function(){return void 0!==y?y:void 0!==t?t:p?p.getDelay():0},re=function(){0!==L&&(0===--L&&(function(){he(),U.forEach(function(e){return e()}),V.forEach(function(e){return e()});var e=A?1:0,t=M,n=E,r=T;Y.forEach(function(e){var i=e.classList;for(var a in t.forEach(function(e){return i.add(e)}),n.forEach(function(e){return i.remove(e)}),r)r.hasOwnProperty(a)&&s(e,a,r[a])}),R.forEach(function(t){return t.c(e,b)}),F.forEach(function(t){return t.c(e,b)}),F.length=0,O=!0,A&&(P=!0),A=!0}(),p&&p.animationFinish()))},ie=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(function(){B.forEach(function(e){return e()}),H.forEach(function(e){return e()});var e=x,t=k,n=S;Y.forEach(function(r){var i=r.classList;for(var a in e.forEach(function(e){return i.add(e)}),t.forEach(function(e){return i.remove(e)}),n)n.hasOwnProperty(a)&&s(r,a,n[a])})})(),w.length>0&&(W?(Y.forEach(function(e){var t=e.animate(w,{id:N,delay:ne(),duration:ee(),easing:Q(),iterations:te(),fill:J(),direction:K()});t.pause(),G.push(t)}),G.length>0&&(G[0].onfinish=function(){re()})):function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Z();var n=function(e){return e.forEach(function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("easing"===t)e["animation-timing-function"]=n,delete e[t];else{var r=a(t);r!==t&&(e[r]=n,delete e[t])}}}),e}(w);Y.forEach(function(r){if(n.length>0){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){var t=e.offset,n=[];for(var r in e)e.hasOwnProperty(r)&&"offset"!==r&&n.push("".concat(r,": ").concat(e[r],";"));return"".concat(100*t,"% { ").concat(n.join(" ")," }")}).join(" ")}(n),u=function(e,t,n){var r=function(e){var t=e.getRootNode();return t.head||t}(n),i=o(n),a=r.querySelector("#"+e);if(a)return a;var s=(n.ownerDocument||document).createElement("style");return s.id=e,s.textContent="@".concat(i,"keyframes ").concat(e," { ").concat(t," } @").concat(i,"keyframes ").concat(e,"-alt { ").concat(t," }"),r.appendChild(s),s}(_=void 0!==e?e:function(e){var t=l.indexOf(e);return t<0&&(t=l.push(e)-1),"ion-animation-".concat(t)}(a),a,r);j.push(u),s(r,"animation-duration","".concat(ee(),"ms")),s(r,"animation-timing-function",Q()),s(r,"animation-delay","".concat(ne(),"ms")),s(r,"animation-fill-mode",J()),s(r,"animation-direction",K());var c=te()===1/0?"infinite":te().toString();s(r,"animation-iteration-count",c),s(r,"animation-play-state","paused"),t&&s(r,"animation-name","".concat(u.id,"-alt")),(0,i.r)(function(){s(r,"animation-name",u.id||null)})}})}(t)),C=!0},ae=function(e){if(e=Math.min(Math.max(e,0),.9999),W)G.forEach(function(t){t.currentTime=t.effect.getComputedTiming().delay+ee()*e,t.pause()});else{var t="-".concat(ee()*e,"ms");Y.forEach(function(e){w.length>0&&(s(e,"animation-delay",t),s(e,"animation-play-state","paused"))})}},oe=function(e){G.forEach(function(e){e.effect.updateTiming({delay:ne(),duration:ee(),easing:Q(),iterations:te(),fill:J(),direction:K()})}),void 0!==e&&ae(e)},se=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;(0,i.r)(function(){Y.forEach(function(n){s(n,"animation-name",_||null),s(n,"animation-duration","".concat(ee(),"ms")),s(n,"animation-timing-function",Q()),s(n,"animation-delay",void 0!==t?"-".concat(t*ee(),"ms"):"".concat(ne(),"ms")),s(n,"animation-fill-mode",J()||null),s(n,"animation-direction",K()||null);var r=te()===1/0?"infinite":te().toString();s(n,"animation-iteration-count",r),e&&s(n,"animation-name","".concat(_,"-alt")),(0,i.r)(function(){s(n,"animation-name",_||null)})})})},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return e&&z.forEach(function(r){r.update(e,t,n)}),W?oe(n):se(t,n),b},le=function(){C&&(W?G.forEach(function(e){e.pause()}):Y.forEach(function(e){s(e,"animation-play-state","paused")}))},ce=function(){m=void 0,re()},he=function(){m&&clearTimeout(m)},fe=function(e){return new Promise(function(t){e&&e.sync&&(D=!0,$(function(){return D=!1},{oneTimeCallback:!0})),C||ie(),P&&(W?(ae(0),oe()):se(),P=!1),O&&(L=z.length+1,O=!1),$(function(){return t()},{oneTimeCallback:!0}),z.forEach(function(e){e.play()}),W?(G.forEach(function(e){e.play()}),(0===w.length||0===Y.length)&&re()):function(){if(he(),(0,i.r)(function(){Y.forEach(function(e){w.length>0&&s(e,"animation-play-state","running")})}),0===w.length||0===Y.length)re();else{var e=ne()||0,t=ee()||0,n=te()||1;isFinite(n)&&(m=setTimeout(ce,e+t*n+100)),function(e,t){var n,r={passive:!0},a=function(t){e===t.target&&(n&&n(),he(),(0,i.r)(function(){Y.forEach(function(e){u(e,"animation-duration"),u(e,"animation-delay"),u(e,"animation-play-state")}),(0,i.r)(re)}))};e&&(e.addEventListener("webkitAnimationEnd",a,r),e.addEventListener("animationend",a,r),n=function(){e.removeEventListener("webkitAnimationEnd",a,r),e.removeEventListener("animationend",a,r)})}(Y[0])}}()})},de=function(e,t){var n=w[0];return void 0===n||void 0!==n.offset&&0!==n.offset?w=[_defineProperty({offset:0},e,t)].concat(_toConsumableArray(w)):n[e]=t,b};return b={parentAnimation:p,elements:Y,childAnimations:z,id:N,animationFinish:re,from:de,to:function(e,t){var n=w[w.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?w=[].concat(_toConsumableArray(w),[_defineProperty({offset:1},e,t)]):n[e]=t,b},fromTo:function(e,t,n){return de(e,t).to(e,n)},parent:function(e){return p=e,b},play:fe,pause:function(){return z.forEach(function(e){e.pause()}),le(),b},stop:function(){z.forEach(function(e){e.stop()}),C&&(X(),C=!1),I=!1,D=!1,O=!0,g=void 0,v=void 0,y=void 0,L=0,P=!1,A=!0},destroy:function(e){return z.forEach(function(t){t.destroy(e)}),function(e){X(),e&&Z()}(e),Y.length=0,z.length=0,w.length=0,R.length=0,F.length=0,C=!1,O=!0,b},keyframes:function(e){return w=e,b},addAnimation:function(e){if(null!=e)if(Array.isArray(e)){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.parent(b),z.push(r)}}catch(i){n.e(i)}finally{n.f()}}else e.parent(b),z.push(e);return b},addElement:function(e){if(null!=e)if(1===e.nodeType)Y.push(e);else if(e.length>=0)for(var t=0;t<e.length;t++)Y.push(e[t]);else console.error("Invalid addElement value");return b},update:ue,fill:function(e){return f=e,ue(!0),b},direction:function(e){return d=e,ue(!0),b},iterations:function(e){return h=e,ue(!0),b},duration:function(e){return!W&&0===e&&(e=1),n=e,ue(!0),b},easing:function(e){return r=e,ue(!0),b},delay:function(e){return t=e,ue(!0),b},getWebAnimations:function(){return G},getKeyframes:function(){return w},getFill:J,getDirection:K,getDelay:ne,getIterations:te,getEasing:Q,getDuration:ee,afterAddRead:function(e){return U.push(e),b},afterAddWrite:function(e){return V.push(e),b},afterClearStyles:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;T[r]=""}}catch(i){n.e(i)}finally{n.f()}return b},afterStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T=e,b},afterRemoveClass:function(e){return E=c(E,e),b},afterAddClass:function(e){return M=c(M,e),b},beforeAddRead:function(e){return B.push(e),b},beforeAddWrite:function(e){return H.push(e),b},beforeClearStyles:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;S[r]=""}}catch(i){n.e(i)}finally{n.f()}return b},beforeStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S=e,b},beforeRemoveClass:function(e){return k=c(k,e),b},beforeAddClass:function(e){return x=c(x,e),b},onFinish:$,progressStart:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return z.forEach(function(n){n.progressStart(e,t)}),le(),I=e,C?ue(!1,!0,t):ie(),b},progressStep:function(e){return z.forEach(function(t){t.progressStep(e)}),ae(e),b},progressEnd:function(e,t,n){return I=!1,z.forEach(function(r){r.progressEnd(e,t,n)}),void 0!==n&&(v=n),P=!1,A=!0,0===e?("reverse"===(g="reverse"===K()?"normal":"reverse")&&(A=!1),W?(ue(),ae(1-t)):(y=(1-t)*ee()*-1,ue(!1,!1))):1===e&&(W?(ue(),ae(t)):(y=t*ee()*-1,ue(!1,!1))),void 0!==e&&($(function(){v=void 0,g=void 0,y=void 0},{oneTimeCallback:!0}),p||fe()),b}}}},57807:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var r=function(e,t,n,r,o){return a(e[1],t[1],n[1],r[1],o).map(function(a){return i(e[0],t[0],n[0],r[0],a)})},i=function(e,t,n,r,i){return i*(3*t*Math.pow(i-1,2)+i*(-3*n*i+3*n+r*i))-e*Math.pow(i-1,3)},a=function(e,t,n,r,i){return o((r-=i)-3*(n-=i)+3*(t-=i)-(e-=i),3*n-6*t+3*e,3*t-3*e,e).filter(function(e){return e>=0&&e<=1})},o=function(e,t,n,r){if(0===e)return function(e,t,n){var r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]}(t,n,r);var i=(3*(n/=e)-(t/=e)*t)/3,a=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===i)return[Math.pow(-a,1/3)];if(0===a)return[Math.sqrt(-i),-Math.sqrt(-i)];var o=Math.pow(a/2,2)+Math.pow(i/3,3);if(0===o)return[Math.pow(a/2,.5)-t/3];if(o>0)return[Math.pow(-a/2+Math.sqrt(o),1/3)-Math.pow(a/2+Math.sqrt(o),1/3)-t/3];var s=Math.sqrt(Math.pow(-i/3,3)),u=Math.acos(-a/(2*Math.sqrt(Math.pow(-i/3,3)))),l=2*Math.pow(s,1/3);return[l*Math.cos(u/3)-t/3,l*Math.cos((u+2*Math.PI)/3)-t/3,l*Math.cos((u+4*Math.PI)/3)-t/3]}},40960:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.id=n,this.name=r,this.disableScroll=a,this.priority=1e6*i+n,this.ctrl=t}return _createClass(e,[{key:"canStart",value:function(){return!!this.ctrl&&this.ctrl.canStart(this.name)}},{key:"start",value:function(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}},{key:"capture",value:function(){if(!this.ctrl)return!1;var e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}},{key:"release",value:function(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}},{key:"destroy",value:function(){this.release(),this.ctrl=void 0}}]),e}(),i=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=n,this.disable=r,this.disableScroll=i,this.ctrl=t}return _createClass(e,[{key:"block",value:function(){if(this.ctrl){if(this.disable){var e,t=_createForOfIteratorHelper(this.disable);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.ctrl.disableGesture(n,this.id)}}catch(r){t.e(r)}finally{t.f()}}this.disableScroll&&this.ctrl.disableScroll(this.id)}}},{key:"unblock",value:function(){if(this.ctrl){if(this.disable){var e,t=_createForOfIteratorHelper(this.disable);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.ctrl.enableGesture(n,this.id)}}catch(r){t.e(r)}finally{t.f()}}this.disableScroll&&this.ctrl.enableScroll(this.id)}}},{key:"destroy",value:function(){this.unblock(),this.ctrl=void 0}}]),e}(),a="backdrop-no-scroll",o=new(function(){function e(){_classCallCheck(this,e),this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}return _createClass(e,[{key:"createGesture",value:function(e){return new r(this,this.newID(),e.name,e.priority||0,!!e.disableScroll)}},{key:"createBlocker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i(this,this.newID(),e.disable,!!e.disableScroll)}},{key:"start",value:function(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}},{key:"capture",value:function(e,t,n){if(!this.start(e,t,n))return!1;var r=this.requestedStart,i=-1e4;if(r.forEach(function(e){i=Math.max(i,e)}),i===n){this.capturedId=t,r.clear();var a=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(a),!0}return r.delete(t),!1}},{key:"release",value:function(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}},{key:"disableGesture",value:function(e,t){var n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}},{key:"enableGesture",value:function(e,t){var n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}},{key:"disableScroll",value:function(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(a)}},{key:"enableScroll",value:function(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(a)}},{key:"canStart",value:function(e){return!(void 0!==this.capturedId||this.isDisabled(e))}},{key:"isCaptured",value:function(){return void 0!==this.capturedId}},{key:"isScrollDisabled",value:function(){return this.disabledScroll.size>0}},{key:"isDisabled",value:function(e){var t=this.disabledGestures.get(e);return!!(t&&t.size>0)}},{key:"newID",value:function(){return this.gestureId++,this.gestureId}}]),e}())},23087:function(e,t,n){"use strict";n.r(t),n.d(t,{MENU_BACK_BUTTON_PRIORITY:function(){return s},OVERLAY_BACK_BUTTON_PRIORITY:function(){return o},blockHardwareBackButton:function(){return i},startHardwareBackButton:function(){return a}});var r=n(8239),i=function(){document.addEventListener("backbutton",function(){})},a=function(){var e=document,t=!1;e.addEventListener("backbutton",function(){if(!t){var n=0,i=[],a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register:function(e,t){i.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(a);var o,s=(o=(0,r.Z)(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t||!t.handler){e.next=7;break}if(n=t.handler(u),e.t0=null!=n,!e.t0){e.next=7;break}return e.next=7,n;case 7:e.next=12;break;case 9:e.prev=9,e.t1=e.catch(0),console.error(e.t1);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(e){return o.apply(this,arguments)}),u=function(){if(i.length>0){var e={priority:Number.MIN_SAFE_INTEGER,handler:function(){},id:-1};i.forEach(function(t){t.priority>=e.priority&&(e=t)}),t=!0,i=i.filter(function(t){return t.id!==e.id}),s(e).then(function(){return t=!1})}};u()}})},o=100,s=99},71567:function(e,t,n){"use strict";n.d(t,{a:function(){return s},b:function(){return u},c:function(){return r},d:function(){return d},e:function(){return p},f:function(){return b},g:function(){return l},h:function(){return i},i:function(){return o},j:function(){return f},k:function(){return m},l:function(){return h},m:function(){return g},n:function(){return _},o:function(){return w},p:function(){return y},q:function(){return v},r:function(){return c}});var r=function(e,t){e.componentOnReady?e.componentOnReady().then(function(e){return t(e)}):c(function(){return t(e)})},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return t.forEach(function(t){e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))}),n},a=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],o=function(e){return i(e,a)},s=function(e,t,n,r){if("undefined"!=typeof window){var i=window,a=i&&i.Ionic&&i.Ionic.config;if(a){var o=a.get("_ael");if(o)return o(e,t,n,r);if(a._ael)return a._ael(e,t,n,r)}}return e.addEventListener(t,n,r)},u=function(e,t,n,r){if("undefined"!=typeof window){var i=window,a=i&&i.Ionic&&i.Ionic.config;if(a){var o=a.get("_rel");if(o)return o(e,t,n,r);if(a._rel)return a._rel(e,t,n,r)}}return e.removeEventListener(t,n,r)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return e.shadowRoot||t},c=function(e){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)},h=function(e){return!!e.shadowRoot&&!!e.attachShadow},f=function(e){var t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},d=function(e,t){var n,r=e.getAttribute("aria-labelledby"),i=e.id,a=null!==r&&""!==r.trim()?r:t+"-lbl",o=null!==r&&""!==r.trim()?document.getElementById(r):f(e);return o?(null===r&&(o.id=a),n=o.textContent,o.setAttribute("aria-hidden","true")):""!==i.trim()&&((o=document.querySelector('label[for="'.concat(i,'"]')))&&(""!==o.id?a=o.id:o.id=a="".concat(i,"-lbl"),n=o.textContent)),{label:o,labelId:a,labelText:n}},p=function(e,t,n,r,i){if(e||h(t)){var a=t.querySelector("input.aux-input");a||((a=t.ownerDocument.createElement("input")).type="hidden",a.classList.add("aux-input"),t.appendChild(a)),a.disabled=i,a.name=n,a.value=r||""}},m=function(e,t,n){return Math.max(e,Math.min(t,n))},g=function(e,t){if(!e){var n="ASSERT: "+t;throw console.error(n),new Error(n)}},v=function(e){return e.timeStamp||Date.now()},y=function(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var n=t[0];return{x:n.clientX,y:n.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},_=function(e){var t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error('"'.concat(e,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},b=function(e,t){var n=e._original||e;return{_original:e,emit:w(n.emit.bind(n),t)}},w=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout.apply(void 0,[e,n].concat(i))}}},96951:function(e,t,n){"use strict";n.d(t,{m:function(){return O}});var r,i,a,o,s,u,l,c,h,f,d,p,m,g,v,y,_,b,w,x,k,C,S=n(8239),M=n(23087),E=n(71567),T=n(97585),L=n(97235),I=function(e){return(0,L.c)().duration(e?400:300)},D=function(e){var t,n,r=e.width+8,i=(0,L.c)(),a=(0,L.c)();e.isEndSide?(t=r+"px",n="0px"):(t=-r+"px",n="0px"),i.addElement(e.menuInnerEl).fromTo("transform","translateX(".concat(t,")"),"translateX(".concat(n,")"));var o="ios"===(0,T.b)(e),s=o?.2:.25;return a.addElement(e.backdropEl).fromTo("opacity",.01,s),I(o).addAnimation([i,a])},A=function(e){var t,n,r=(0,T.b)(e),i=e.width;e.isEndSide?(t=-i+"px",n=i+"px"):(t=i+"px",n=-i+"px");var a=(0,L.c)().addElement(e.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),o=(0,L.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(t,")")),s=(0,L.c)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return I("ios"===r).addAnimation([a,o,s])},P=function(e){var t=(0,T.b)(e),n=e.width*(e.isEndSide?-1:1)+"px",r=(0,L.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return I("ios"===t).addAnimation(r)},O=(i=new Map,a=[],r=(0,S.Z)(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return n=e.sent,e.abrupt("return",!!n&&n.open());case 4:case"end":return e.stop()}},e)})),o=function(e){return r.apply(this,arguments)},s=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,void 0!==t?d(t):p();case 2:return n=e.sent,e.abrupt("return",void 0!==n&&n.close());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return n=e.sent,e.abrupt("return",!!n&&n.toggle());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(t,n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n);case 2:return r=e.sent,e.abrupt("return",(r&&(r.disabled=!t),r));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(t,n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n);case 2:return r=e.sent,e.abrupt("return",(r&&(r.swipeGesture=t),r));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=5;break}return e.next=3,d(t);case 3:return n=e.sent,e.abrupt("return",void 0!==n&&n.isOpen());case 5:return e.t0=void 0,e.next=8,p();case 8:return e.t1=e.sent,e.abrupt("return",e.t0!==e.t1);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return n=e.sent,e.abrupt("return",!!n&&!n.disabled);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return e.abrupt("return","start"===t||"end"===t?k(function(e){return e.side===t&&!e.disabled})||k(function(e){return e.side===t}):null!=t?k(function(e){return e.menuId===t}):k(function(e){return!e.disabled})||(a.length>0?a[0].el:void 0));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return e.abrupt("return",b());case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return e.abrupt("return",w());case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return e.abrupt("return",x());case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(e,t){i.set(e,t)},y=function(e){var t=e.side;a.filter(function(n){return n.side===t&&n!==e}).forEach(function(e){return e.disabled=!0})},_=function(){var e=(0,S.Z)(_regeneratorRuntime().mark(function e(t,n,r){var i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!x()){e.next=2;break}return e.abrupt("return",!1);case 2:if(!n){e.next=10;break}return e.next=5,p();case 5:if(i=e.sent,e.t0=i&&t.el!==i,!e.t0){e.next=10;break}return e.next=10,i.setOpen(!1,!1);case 10:return e.abrupt("return",t._setOpen(n,r));case 11:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){return k(function(e){return e._isOpen})},w=function(){return a.map(function(e){return e.el})},x=function(){return a.some(function(e){return e.isAnimating})},k=function(e){var t=a.find(e);if(void 0!==t)return t.el},C=function(){return Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(function(e){return new Promise(function(t){return(0,E.c)(e,t)})}))},v("reveal",P),v("push",A),v("overlay",D),"undefined"!=typeof document&&document.addEventListener("ionBackButton",function(e){var t=b();t&&e.detail.register(M.MENU_BACK_BUTTON_PRIORITY,function(){return t.close()})}),{registerAnimation:v,get:d,getMenus:m,getOpen:p,isEnabled:f,swipeGesture:c,isAnimating:g,isOpen:h,enable:l,toggle:u,close:s,open:o,_getOpenSync:b,_createAnimation:function(e,t){var n=i.get(e);if(!n)throw new Error("animation not registered");return n(t)},_register:function(e){a.indexOf(e)<0&&(e.disabled||y(e),a.push(e))},_unregister:function(e){var t=a.indexOf(e);t>-1&&a.splice(t,1)},_setOpen:_,_setActiveMenu:y})},39461:function(e,t,n){"use strict";n.r(t),n.d(t,{GESTURE_CONTROLLER:function(){return i.G},createGesture:function(){return u}});var r,i=n(40960),a=function(e,t,n,r){var i,a,s=o(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;return e.__zone_symbol__addEventListener?(i="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(i="addEventListener",a="removeEventListener"),e[i](t,n,s),function(){e[a](t,n,s)}},o=function(e){if(void 0===r)try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});e.addEventListener("optsTest",function(){},t)}catch(t){r=!1}return!!r},s=function(e){return e instanceof Document?e:e.ownerDocument},u=function(e){var t=!1,n=!1,r=!0,o=!1,u=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),f=u.canStart,d=u.onWillStart,p=u.onStart,m=u.onEnd,g=u.notCaptured,v=u.onMove,y=u.threshold,_=u.passive,b=u.blurOnStart,w={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},x=function(e,t,n){var r=n*(Math.PI/180),i="x"===e,a=Math.cos(r),o=t*t,s=0,u=0,l=!1,c=0;return{start:function(e,t){s=e,u=t,c=0,l=!0},detect:function(e,t){if(!l)return!1;var n=e-s,r=t-u,h=n*n+r*r;if(h<o)return!1;var f=Math.sqrt(h),d=(i?n:r)/f;return c=d>a?1:d<-a?-1:0,l=!1,!0},isGesture:function(){return 0!==c},getDirection:function(){return c}}}(u.direction,u.threshold,u.maxAngle),k=i.G.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),C=function(){!t||(o=!1,v&&v(w))},S=function(){return!(k&&!k.capture()||(t=!0,r=!1,w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime,d?d(w).then(M):M(),0))},M=function(){b&&function(){if("undefined"!=typeof document){var e=document.activeElement;null!==e&&e.blur&&e.blur()}}(),p&&p(w),r=!0},E=function(){t=!1,n=!1,o=!1,r=!0,k.release()},T=function(e){var n=t,i=r;if(E(),i){if(l(w,e),n)return void(m&&m(w));g&&g(w)}},L=function(e,t,n,r,i){var o,u,l,c,h,f,d,p=0,m=function(r){p=Date.now()+2e3,t(r)&&(!u&&n&&(u=a(e,"touchmove",n,i)),l||(l=a(r.target,"touchend",v,i)),c||(c=a(r.target,"touchcancel",v,i)))},g=function(r){p>Date.now()||!t(r)||(!f&&n&&(f=a(s(e),"mousemove",n,i)),d||(d=a(s(e),"mouseup",y,i)))},v=function(e){_(),r&&r(e)},y=function(e){b(),r&&r(e)},_=function(){u&&u(),l&&l(),c&&c(),u=l=c=void 0},b=function(){f&&f(),d&&d(),f=d=void 0},w=function(){_(),b()},x=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?(o||(o=a(e,"touchstart",m,i)),h||(h=a(e,"mousedown",g,i))):(o&&o(),h&&h(),o=h=void 0,w())};return{enable:x,stop:w,destroy:function(){x(!1),r=n=t=void 0}}}(u.el,function(e){var t=h(e);return!(n||!r||(c(e,w),w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime=t,w.velocityX=w.velocityY=w.deltaX=w.deltaY=0,w.event=e,f&&!1===f(w))||(k.release(),!k.start()))&&(n=!0,0===y?S():(x.start(w.startX,w.startY),!0))},function(e){t?!o&&r&&(o=!0,l(w,e),requestAnimationFrame(C)):(l(w,e),x.detect(w.currentX,w.currentY)&&(!x.isGesture()||!S())&&I())},T,{capture:!1,passive:_}),I=function(){E(),L.stop(),g&&g(w)};return{enable:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e||(t&&T(void 0),E()),L.enable(e)},destroy:function(){k.destroy(),L.destroy()}}},l=function(e,t){if(t){var n=e.currentX,r=e.currentY,i=e.currentTime;c(t,e);var a=e.currentX,o=e.currentY,s=(e.currentTime=h(t))-i;if(s>0&&s<100){var u=(o-r)/s;e.velocityX=(a-n)/s*.7+.3*e.velocityX,e.velocityY=.7*u+.3*e.velocityY}e.deltaX=a-e.startX,e.deltaY=o-e.startY,e.event=t}},c=function(e,t){var n=0,r=0;if(e){var i=e.changedTouches;if(i&&i.length>0){var a=i[0];n=a.clientX,r=a.clientY}else void 0!==e.pageX&&(n=e.pageX,r=e.pageY)}t.currentX=n,t.currentY=r},h=function(e){return e.timeStamp||Date.now()}},23150:function(e,t,n){"use strict";n.d(t,{B:function(){return Ge},C:function(){return p},H:function(){return Y},a:function(){return y},b:function(){return Se},c:function(){return Ve},e:function(){return oe},f:function(){return Ue},g:function(){return P},h:function(){return R},i:function(){return ae},j:function(){return pe},k:function(){return Me},p:function(){return g},r:function(){return Le},s:function(){return A},w:function(){return d}});var r,i,a,o,s=n(8239),u=!1,l=!1,c=!1,h=!1,f=!1,d="undefined"!=typeof window?window:{},p=d.CSS,m=d.document||{head:{}},g={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,r){return e.addEventListener(t,n,r)},rel:function(e,t,n,r){return e.removeEventListener(t,n,r)},ce:function(e,t){return new CustomEvent(e,t)}},v=(m.head.attachShadow+"").indexOf("[native")>-1,y=function(e){return Promise.resolve(e)},_=function(){try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(o){}return!1}(),b=function(e,t,n,r){n&&n.map(function(n){var r=_slicedToArray(n,3),i=r[0],a=r[1],o=r[2],s=x(e,i),u=w(t,o),l=k(i);g.ael(s,a,u,l),(t.$rmListeners$=t.$rmListeners$||[]).push(function(){return g.rel(s,a,u,l)})})},w=function(e,t){return function(n){try{256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(r){Ae(r)}}},x=function(e,t){return 4&t?m:8&t?d:16&t?m.body:e},k=function(e){return 0!=(2&e)},C="s-id",S="sty-id",M="http://www.w3.org/1999/xlink",E=new WeakMap,T=function(e,t,n){var r=Ne.get(e);_&&n?(r=r||new CSSStyleSheet).replace(t):r=t,Ne.set(e,r)},L=function(e,t,n,r){var i=I(t,n),a=Ne.get(i);if(e=11===e.nodeType?e:m,a)if("string"==typeof a){var o,s=E.get(e=e.head||e);if(s||E.set(e,s=new Set),!s.has(i)){if(e.host&&(o=e.querySelector("[".concat(S,'="').concat(i,'"]'))))o.innerHTML=a;else{if(g.$cssShim$){var u=(o=g.$cssShim$.createHostStyle(r,i,a,!!(10&t.$flags$)))["s-sc"];u&&(i=u,s=null)}else(o=m.createElement("style")).innerHTML=a;e.insertBefore(o,e.querySelector("link"))}s&&s.add(i)}}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=[].concat(_toConsumableArray(e.adoptedStyleSheets),[a]));return i},I=function(e,t){return"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$)},D=function(e){return e.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{")},A=function(e){return Re.push(e)},P=function(e){return Te(e).$modeName$},O={},N=function(e){return"object"==(e=typeof e)||"function"===e},R=function(e,t){for(var n=null,r=null,i=null,a=!1,o=!1,s=[],u=function t(r){for(var i=0;i<r.length;i++)n=r[i],Array.isArray(n)?t(n):null!=n&&"boolean"!=typeof n&&((a="function"!=typeof e&&!N(n))&&(n=String(n)),a&&o?s[s.length-1].$text$+=n:s.push(a?F(null,n):n),o=a)},l=arguments.length,c=new Array(l>2?l-2:0),h=2;h<l;h++)c[h-2]=arguments[h];if(u(c),t){t.key&&(r=t.key),t.name&&(i=t.name);var f=t.className||t.class;f&&(t.class="object"!=typeof f?f:Object.keys(f).filter(function(e){return f[e]}).join(" "))}if("function"==typeof e)return e(null===t?{}:t,s,z);var d=F(e,null);return d.$attrs$=t,s.length>0&&(d.$children$=s),d.$key$=r,d.$name$=i,d},F=function(e,t){return{$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}},Y={},z={forEach:function(e,t){return e.map(j).forEach(t)},map:function(e,t){return e.map(j).map(t).map(B)}},j=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},B=function(e){if("function"==typeof e.vtag){var t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),R.apply(void 0,[e.vtag,t].concat(_toConsumableArray(e.vchildren||[])))}var n=F(e.vtag,e.vtext);return n.$attrs$=e.vattrs,n.$children$=e.vchildren,n.$key$=e.vkey,n.$name$=e.vname,n},H=function(e,t,n,r,i,a){if(n!==r){var o=De(e,t),s=t.toLowerCase();if("class"===t){var u=e.classList,l=V(n),c=V(r);u.remove.apply(u,_toConsumableArray(l.filter(function(e){return e&&!c.includes(e)}))),u.add.apply(u,_toConsumableArray(c.filter(function(e){return e&&!l.includes(e)})))}else if("style"===t){for(var h in n)(!r||null==r[h])&&(h.includes("-")?e.style.removeProperty(h):e.style[h]="");for(var f in r)(!n||r[f]!==n[f])&&(f.includes("-")?e.style.setProperty(f,r[f]):e.style[f]=r[f])}else if("key"!==t)if("ref"===t)r&&r(e);else if(o||"o"!==t[0]||"n"!==t[1]){var p=N(r);if((o||p&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{var m=null==r?"":r;"list"===t?o=!1:(null==n||e[t]!=m)&&(e[t]=m)}}catch(c){}var v=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,v=!0),null==r||!1===r?(!1!==r||""===e.getAttribute(t))&&(v?e.removeAttributeNS(M,t):e.removeAttribute(t)):(!o||4&a||i)&&!p&&(r=!0===r?"":r,v?e.setAttributeNS(M,t,r):e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):De(d,s)?s.slice(2):s[2]+t.slice(3),n&&g.rel(e,t,n,!1),r&&g.ael(e,t,r,!1)}},U=/\s/,V=function(e){return e?e.split(U):[]},G=function(e,t,n,r){var i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||O,o=t.$attrs$||O;for(r in a)r in o||H(i,r,a[r],void 0,n,t.$flags$);for(r in o)H(i,r,a[r],o[r],n,t.$flags$)},q=function e(t,n,o,s){var l,f,d,p=n.$children$[o],g=0;if(u||(c=!0,"slot"===p.$tag$&&(r&&s.classList.add(r+"-s"),p.$flags$|=p.$children$?2:1)),null!==p.$text$)l=p.$elm$=m.createTextNode(p.$text$);else if(1&p.$flags$)l=p.$elm$=m.createTextNode("");else{if(h||(h="svg"===p.$tag$),l=p.$elm$=m.createElementNS(h?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&p.$flags$?"slot-fb":p.$tag$),h&&"foreignObject"===p.$tag$&&(h=!1),G(null,p,h),function(e){return null!=e}(r)&&l["s-si"]!==r&&l.classList.add(l["s-si"]=r),p.$children$)for(g=0;g<p.$children$.length;++g)(f=e(t,p,g,l))&&l.appendChild(f);"svg"===p.$tag$?h=!1:"foreignObject"===l.tagName&&(h=!0)}return l["s-hn"]=a,3&p.$flags$&&(l["s-sr"]=!0,l["s-cr"]=i,l["s-sn"]=p.$name$||"",(d=t&&t.$children$&&t.$children$[o])&&d.$tag$===p.$tag$&&t.$elm$&&W(t.$elm$,!1)),l},W=function e(t,n){g.$flags$|=1;for(var r=t.childNodes,i=r.length-1;i>=0;i--){var o=r[i];o["s-hn"]!==a&&o["s-ol"]&&(K(o).insertBefore(o,J(o)),o["s-ol"].remove(),o["s-ol"]=void 0,c=!0),n&&e(o,n)}g.$flags$&=-2},$=function(e,t,n,r,i,o){var s,u=e["s-cr"]&&e["s-cr"].parentNode||e;for(u.shadowRoot&&u.tagName===a&&(u=u.shadowRoot);i<=o;++i)r[i]&&((s=q(null,n,i,e))&&(r[i].$elm$=s,u.insertBefore(s,J(t))))},X=function(e,t,n,r,i){for(;t<=n;++t)(r=e[t])&&(i=r.$elm$,ie(r),l=!0,i["s-ol"]?i["s-ol"].remove():W(i,!0),i.remove())},Z=function(e,t){return e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$)},J=function(e){return e&&e["s-ol"]||e},K=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},Q=function e(t,n){var r,i=n.$elm$=t.$elm$,a=t.$children$,o=n.$children$,s=n.$tag$,u=n.$text$;null===u?(h="svg"===s||"foreignObject"!==s&&h,"slot"===s||G(t,n,h),null!==a&&null!==o?function(t,n,r,i){for(var a,o,s=0,u=0,l=0,c=0,h=n.length-1,f=n[0],d=n[h],p=i.length-1,m=i[0],g=i[p];s<=h&&u<=p;)if(null==f)f=n[++s];else if(null==d)d=n[--h];else if(null==m)m=i[++u];else if(null==g)g=i[--p];else if(Z(f,m))e(f,m),f=n[++s],m=i[++u];else if(Z(d,g))e(d,g),d=n[--h],g=i[--p];else if(Z(f,g))("slot"===f.$tag$||"slot"===g.$tag$)&&W(f.$elm$.parentNode,!1),e(f,g),t.insertBefore(f.$elm$,d.$elm$.nextSibling),f=n[++s],g=i[--p];else if(Z(d,m))("slot"===f.$tag$||"slot"===g.$tag$)&&W(d.$elm$.parentNode,!1),e(d,m),t.insertBefore(d.$elm$,f.$elm$),d=n[--h],m=i[++u];else{for(l=-1,c=s;c<=h;++c)if(n[c]&&null!==n[c].$key$&&n[c].$key$===m.$key$){l=c;break}l>=0?((o=n[l]).$tag$!==m.$tag$?a=q(n&&n[u],r,l,t):(e(o,m),n[l]=void 0,a=o.$elm$),m=i[++u]):(a=q(n&&n[u],r,u,t),m=i[++u]),a&&K(f.$elm$).insertBefore(a,J(f.$elm$))}s>h?$(t,null==i[p+1]?null:i[p+1].$elm$,r,i,u,p):u>p&&X(n,s,h)}(i,a,n,o):null!==o?(null!==t.$text$&&(i.textContent=""),$(i,null,n,o,0,o.length-1)):null!==a&&X(a,0,a.length-1),h&&"svg"===s&&(h=!1)):(r=i["s-cr"])?r.parentNode.textContent=u:t.$text$!==u&&(i.data=u)},ee=function e(t){var n,r,i,a,o,s,u=t.childNodes;for(r=0,i=u.length;r<i;r++)if(1===(n=u[r]).nodeType){if(n["s-sr"])for(o=n["s-sn"],n.hidden=!1,a=0;a<i;a++)if(s=u[a].nodeType,u[a]["s-hn"]!==n["s-hn"]||""!==o){if(1===s&&o===u[a].getAttribute("slot")){n.hidden=!0;break}}else if(1===s||3===s&&""!==u[a].textContent.trim()){n.hidden=!0;break}e(n)}},te=[],ne=function e(t){for(var n,r,i,a,o,s,u=0,c=t.childNodes,h=c.length;u<h;u++){if((n=c[u])["s-sr"]&&(r=n["s-cr"])&&r.parentNode)for(i=r.parentNode.childNodes,a=n["s-sn"],s=i.length-1;s>=0;s--)!(r=i[s])["s-cn"]&&!r["s-nr"]&&r["s-hn"]!==n["s-hn"]&&(re(r,a)?(o=te.find(function(e){return e.$nodeToRelocate$===r}),l=!0,r["s-sn"]=r["s-sn"]||a,o?o.$slotRefNode$=n:te.push({$slotRefNode$:n,$nodeToRelocate$:r}),r["s-sr"]&&te.map(function(e){re(e.$nodeToRelocate$,r["s-sn"])&&((o=te.find(function(e){return e.$nodeToRelocate$===r}))&&!e.$slotRefNode$&&(e.$slotRefNode$=o.$slotRefNode$))})):te.some(function(e){return e.$nodeToRelocate$===r})||te.push({$nodeToRelocate$:r}));1===n.nodeType&&e(n)}},re=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},ie=function e(t){t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(e)},ae=function(e){return Te(e).$hostElement$},oe=function(e,t,n){var r=ae(e);return{emit:function(e){return se(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}}},se=function(e,t,n){var r=g.ce(t,n);return e.dispatchEvent(r),r},ue=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(function(t){return e.$onRenderResolve$=t}))},le=function(e,t){if(e.$flags$|=16,!(4&e.$flags$))return ue(e,e.$ancestorComponent$),Ve(function(){return ce(e,t)});e.$flags$|=512},ce=function(e,t){var n,r=e.$lazyInstance$;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return ge(r,n,i)}),e.$queuedListeners$=null),n=ge(r,"componentWillLoad")),n=ve(n,function(){return ge(r,"componentWillRender")}),ve(n,function(){return he(e,r,t)})},he=(o=(0,s.Z)(_regeneratorRuntime().mark(function e(t,n,r){var i,a,o,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t.$hostElement$,a=i["s-rc"],r&&function(e){var t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=L(v&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);10&r&&(n["s-sc"]=i,n.classList.add(i+"-h"),2&r&&n.classList.add(i+"-s"))}(t),fe(t,n),g.$cssShim$&&g.$cssShim$.updateHost(i),a&&(a.map(function(e){return e()}),i["s-rc"]=void 0),o=i["s-p"],s=function(){return de(t)},0===o.length?s():(Promise.all(o).then(s),t.$flags$|=4,o.length=0);case 5:case"end":return e.stop()}},e)})),function(e,t,n){return o.apply(this,arguments)}),fe=function(e,t,n){try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,function(e,t){var n=e.$hostElement$,o=e.$cmpMeta$,s=e.$vnode$||F(null,null),h=function(e){return e&&e.$tag$===Y}(t)?t:R(null,null,t);if(a=n.tagName,o.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},o.$attrsToReflect$.map(function(e){var t=_slicedToArray(e,2),r=t[0],i=t[1];return h.$attrs$[i]=n[r]})),h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=s.$elm$=n.shadowRoot||n,r=n["s-sc"],i=n["s-cr"],u=v&&0!=(1&o.$flags$),l=!1,Q(s,h),g.$flags$|=1,c){ne(h.$elm$);for(var f,d,p,y,_,b,w=0;w<te.length;w++)(d=(f=te[w]).$nodeToRelocate$)["s-ol"]||((p=m.createTextNode(""))["s-nr"]=d,d.parentNode.insertBefore(d["s-ol"]=p,d));for(w=0;w<te.length;w++)if(d=(f=te[w]).$nodeToRelocate$,f.$slotRefNode$){for(y=f.$slotRefNode$.parentNode,_=f.$slotRefNode$.nextSibling,p=d["s-ol"];p=p.previousSibling;)if((b=p["s-nr"])&&b["s-sn"]===d["s-sn"]&&y===b.parentNode&&(!(b=b.nextSibling)||!b["s-nr"])){_=b;break}(!_&&y!==d.parentNode||d.nextSibling!==_)&&d!==_&&(!d["s-hn"]&&d["s-ol"]&&(d["s-hn"]=d["s-ol"].parentNode.nodeName),y.insertBefore(d,_))}else 1===d.nodeType&&(d.hidden=!0)}l&&ee(h.$elm$),g.$flags$&=-2,te.length=0}(e,t)}catch(o){Ae(o,e.$hostElement$)}return null},de=function(e){var t=e.$hostElement$,n=e.$lazyInstance$,r=e.$ancestorComponent$;64&e.$flags$?ge(n,"componentDidUpdate"):(e.$flags$|=64,ye(t),ge(n,"componentDidLoad"),e.$onReadyResolve$(t),r||me()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&He(function(){return le(e,!1)}),e.$flags$&=-517},pe=function(e){var t=Te(e),n=t.$hostElement$.isConnected;return n&&2==(18&t.$flags$)&&le(t,!1),n},me=function(e){ye(m.documentElement),He(function(){return se(d,"appload",{detail:{namespace:"ionic"}})})},ge=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(r){Ae(r)}},ve=function(e,t){return e&&e.then?e.then(t):t()},ye=function(e){return e.classList.add("hydrated")},_e=function e(t,n,r,i,a,o,s){var u,l,c,h;if(1===o.nodeType){for((u=o.getAttribute("c-id"))&&(((l=u.split("."))[0]===s||"0"===l[0])&&(c={$flags$:0,$hostId$:l[0],$nodeId$:l[1],$depth$:l[2],$index$:l[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},n.push(c),o.removeAttribute("c-id"),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c,t=c,i&&"0"===c.$depth$&&(i[c.$index$]=c.$elm$))),h=o.childNodes.length-1;h>=0;h--)e(t,n,r,i,a,o.childNodes[h],s);if(o.shadowRoot)for(h=o.shadowRoot.childNodes.length-1;h>=0;h--)e(t,n,r,i,a,o.shadowRoot.childNodes[h],s)}else if(8===o.nodeType)((l=o.nodeValue.split("."))[1]===s||"0"===l[1])&&(u=l[0],c={$flags$:0,$hostId$:l[1],$nodeId$:l[2],$depth$:l[3],$index$:l[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===u?(c.$elm$=o.nextSibling,c.$elm$&&3===c.$elm$.nodeType&&(c.$text$=c.$elm$.textContent,n.push(c),o.remove(),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c,i&&"0"===c.$depth$&&(i[c.$index$]=c.$elm$))):c.$hostId$===s&&("s"===u?(c.$tag$="slot",o["s-sn"]=l[5]?c.$name$=l[5]:"",o["s-sr"]=!0,i&&(c.$elm$=m.createElement(c.$tag$),c.$name$&&c.$elm$.setAttribute("name",c.$name$),o.parentNode.insertBefore(c.$elm$,o),o.remove(),"0"===c.$depth$&&(i[c.$index$]=c.$elm$)),r.push(c),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c):"r"===u&&(i?o.remove():(a["s-cr"]=o,o["s-cn"]=!0))));else if(t&&"style"===t.$tag$){var f=F(null,o.textContent);f.$elm$=o,f.$index$="0",t.$children$=[f]}},be=function e(t,n){if(1===t.nodeType){for(var r=0;r<t.childNodes.length;r++)e(t.childNodes[r],n);if(t.shadowRoot)for(r=0;r<t.shadowRoot.childNodes.length;r++)e(t.shadowRoot.childNodes[r],n)}else if(8===t.nodeType){var i=t.nodeValue.split(".");"o"===i[0]&&(n.set(i[1]+"."+i[2],t),t.nodeValue="",t["s-en"]=i[3])}},we=function(e,t,n){if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);var r=Object.entries(t.$members$),i=e.prototype;if(r.map(function(e){var r=_slicedToArray(e,2),a=r[0],o=_slicedToArray(r[1],1)[0];31&o||2&n&&32&o?Object.defineProperty(i,a,{get:function(){var e=this;return function(t,n){return Te(e).$instanceValues$.get(n)}(0,a)},set:function(e){!function(e,t,n,r){var i=Te(e),a=i.$hostElement$,o=i.$instanceValues$.get(t),s=i.$flags$,u=i.$lazyInstance$;if(n=function(e,t){return null==e||N(e)?e:4&t?"false"!==e&&(""===e||!!e):2&t?parseFloat(e):1&t?String(e):e}(n,r.$members$[t][0]),(!(8&s)||void 0===o)&&n!==o&&(i.$instanceValues$.set(t,n),u)){if(r.$watchers$&&128&s){var l=r.$watchers$[t];l&&l.map(function(e){try{u[e](n,o,t)}catch(r){Ae(r,a)}})}2==(18&s)&&le(i,!1)}}(this,a,e,t)},configurable:!0,enumerable:!0}):1&n&&64&o&&Object.defineProperty(i,a,{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Te(this);return r.$onInstancePromise$.then(function(){var e;return(e=r.$lazyInstance$)[a].apply(e,t)})}})}),1&n){var a=new Map;i.attributeChangedCallback=function(e,t,n){var r=this;g.jmp(function(){var t=a.get(e);r[t]=(null!==n||"boolean"!=typeof r[t])&&n})},e.observedAttributes=r.filter(function(e){var t=_slicedToArray(e,2);t[0];return 15&t[1][0]}).map(function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1],o=i[1]||r;return a.set(o,r),512&i[0]&&t.$attrsToReflect$.push([r,o]),o})}}return e},xe=function(){var e=(0,s.Z)(_regeneratorRuntime().mark(function e(t,r,i,a,o){var s,u,l,c,h,f;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(32&r.$flags$)){e.next=25;break}if(r.$flags$|=32,!(o=Oe(i)).then){e.next=7;break}return s=function(){},e.next=5,o;case 5:o=e.sent,s();case 7:o.isProxied||(i.$watchers$=o.watchers,we(o,i,2),o.isProxied=!0),function(){},r.$flags$|=8;try{new o(r)}catch(s){Ae(s)}if(r.$flags$&=-9,r.$flags$|=128,ke(r.$lazyInstance$),!o.style){e.next=25;break}if("string"!=typeof(u=o.style)&&(u=u[r.$modeName$=function(e){return Re.map(function(t){return t(e)}).find(function(e){return!!e})}(t)]),l=I(i,r.$modeName$),Ne.has(l)){e.next=25;break}if(c=function(){},e.t0=8&i.$flags$,!e.t0){e.next=23;break}return e.next=22,n.e(8810).then(n.bind(n,8810)).then(function(e){return e.scopeCss(u,l,!1)});case 22:u=e.sent;case 23:T(l,u,!!(1&i.$flags$)),c();case 25:h=r.$ancestorComponent$,f=function(){return le(r,!0)},h&&h["s-rc"]?h["s-rc"].push(f):f();case 27:case"end":return e.stop()}},e)}));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),ke=function(e){ge(e,"connectedCallback")},Ce=function(e){var t=e["s-cr"]=m.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Se=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],i=n.exclude||[],a=d.customElements,o=m.head,s=o.querySelector("meta[charset]"),u=m.createElement("style"),l=[],c=m.querySelectorAll("[".concat(S,"]")),h=!0,f=0;for(Object.assign(g,n),g.$resourcesUrl$=new URL(n.resourcesUrl||"./",m.baseURI).href,g.$flags$|=2;f<c.length;f++)T(c[f].getAttribute(S),D(c[f].innerHTML),!0);e.map(function(e){return e[1].map(function(n){var o={$flags$:n[0],$tagName$:n[1],$members$:n[2],$listeners$:n[3]};o.$members$=n[2],o.$listeners$=n[3],o.$attrsToReflect$=[],o.$watchers$={},!v&&1&o.$flags$&&(o.$flags$|=8);var s=o.$tagName$,u=function(e){_inherits(r,e);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),t=n.call(this,e),Ie(e=_assertThisInitialized(t),o),1&o.$flags$&&(v?e.attachShadow({mode:"open",delegatesFocus:!!(16&o.$flags$)}):"shadowRoot"in e||(e.shadowRoot=e)),t}return _createClass(r,[{key:"connectedCallback",value:function(){var e=this;t&&(clearTimeout(t),t=null),h?l.push(this):g.jmp(function(){return function(e){if(0==(1&g.$flags$)){var t=Te(e),n=t.$cmpMeta$;if(1&t.$flags$)b(e,t,n.$listeners$),ke(t.$lazyInstance$);else{var r;if(t.$flags$|=1,r=e.getAttribute(C)){if(v&&1&n.$flags$){var i=L(e.shadowRoot,n,e.getAttribute("s-mode"));e.classList.remove(i+"-h",i+"-s")}!function(e,t,n,r){var i=e.shadowRoot,a=[],o=i?[]:null,s=r.$vnode$=F(t,null);g.$orgLocNodes$||be(m.body,g.$orgLocNodes$=new Map),e[C]=n,e.removeAttribute(C),_e(s,a,[],o,e,e,n),a.map(function(e){var n=e.$hostId$+"."+e.$nodeId$,r=g.$orgLocNodes$.get(n),a=e.$elm$;r&&v&&""===r["s-en"]&&r.parentNode.insertBefore(a,r.nextSibling),i||(a["s-hn"]=t,r&&(a["s-ol"]=r,a["s-ol"]["s-nr"]=a)),g.$orgLocNodes$.delete(n)}),i&&o.map(function(e){e&&i.appendChild(e)})}(e,n.$tagName$,r,t)}r||12&n.$flags$&&Ce(e);for(var a=e;a=a.parentNode||a.host;)if(1===a.nodeType&&a.hasAttribute("s-id")&&a["s-p"]||a["s-p"]){ue(t,t.$ancestorComponent$=a);break}n.$members$&&Object.entries(n.$members$).map(function(t){var n=_slicedToArray(t,2),r=n[0];if(31&_slicedToArray(n[1],1)[0]&&e.hasOwnProperty(r)){var i=e[r];delete e[r],e[r]=i}}),He(function(){return xe(e,t,n)})}}}(e)})}},{key:"disconnectedCallback",value:function(){var e=this;g.jmp(function(){return function(e){if(0==(1&g.$flags$)){var t=Te(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(function(e){return e()}),t.$rmListeners$=void 0),g.$cssShim$&&g.$cssShim$.removeHost(e),ge(n,"disconnectedCallback")}}(e)})}},{key:"componentOnReady",value:function(){return Te(this).$onReadyPromise$}}]),r}(_wrapNativeSuper(HTMLElement));o.$lazyBundleId$=e[0],!i.includes(s)&&!a.get(s)&&(r.push(s),a.define(s,we(u,o,1)))})}),u.innerHTML=r+"{visibility:hidden}.hydrated{visibility:inherit}",u.setAttribute("data-styles",""),o.insertBefore(u,s?s.nextSibling:o.firstChild),h=!1,l.length?l.map(function(e){return e.connectedCallback()}):g.jmp(function(){return t=setTimeout(me,30)})},Me=function(e){var t=new URL(e,g.$resourcesUrl$);return t.origin!==d.location.origin?t.href:t.pathname},Ee=new WeakMap,Te=function(e){return Ee.get(e)},Le=function(e,t){return Ee.set(t.$lazyInstance$=e,t)},Ie=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(function(e){return n.$onInstanceResolve$=e}),n.$onReadyPromise$=new Promise(function(e){return n.$onReadyResolve$=e}),e["s-p"]=[],e["s-rc"]=[],b(e,n,t.$listeners$),Ee.set(e,n)},De=function(e,t){return t in e},Ae=function(e,t){return(0,console.error)(e,t)},Pe=new Map,Oe=function(e,t,r){var i=e.$tagName$.replace(/-/g,"_"),a=e.$lazyBundleId$,o=Pe.get(a);return o?o[i]:n(50863)("./".concat(a,".entry.js")).then(function(e){return Pe.set(a,e),e[i]},Ae)},Ne=new Map,Re=[],Fe=[],Ye=[],ze=function(e,t){return function(n){e.push(n),f||(f=!0,t&&4&g.$flags$?He(Be):g.raf(Be))}},je=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){Ae(n)}e.length=0},Be=function e(){je(Fe),je(Ye),(f=Fe.length>0)&&g.raf(e)},He=function(e){return y().then(e)},Ue=ze(Fe,!1),Ve=ze(Ye,!0),Ge={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},64425:function(e,t,n){"use strict";n.d(t,{L:function(){return s},a:function(){return u},b:function(){return l},c:function(){return c},d:function(){return h},e:function(){return M},g:function(){return L},l:function(){return C},s:function(){return E},t:function(){return f}});var r,i=n(8239),a=n(23150),o=n(71567),s="ionViewWillEnter",u="ionViewDidEnter",l="ionViewWillLeave",c="ionViewDidLeave",h="ionViewWillUnload",f=function(e){return new Promise(function(t,n){(0,a.c)(function(){d(e),p(e).then(function(n){n.animation&&n.animation.destroy(),m(e),t(n)},function(t){m(e),n(t)})})})},d=function(e){var t=e.enteringEl,n=e.leavingEl;T(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),E(t,!1),t.style.setProperty("pointer-events","none"),n&&(E(n,!1),n.style.setProperty("pointer-events","none"))},p=(r=(0,i.Z)(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return n=e.sent,e.abrupt("return",n&&a.B.isBrowser?v(n,t):y(t));case 4:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),m=function(e){var t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},g=function(){var e=(0,i.Z)(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.leavingEl||!t.animated||0===t.duration){e.next=18;break}if(!t.animationBuilder){e.next=5;break}e.t1=t.animationBuilder,e.next=15;break;case 5:if("ios"!==t.mode){e.next=11;break}return e.next=8,Promise.resolve().then(n.bind(n,7689));case 8:e.t2=e.sent.iosTransitionAnimation,e.next=14;break;case 11:return e.next=13,Promise.resolve().then(n.bind(n,25392));case 13:e.t2=e.sent.mdTransitionAnimation;case 14:e.t1=e.t2;case 15:e.t0=e.t1,e.next=19;break;case 18:e.t0=void 0;case 19:return e.abrupt("return",e.t0);case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)(_regeneratorRuntime().mark(function e(t,n){var r,i;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(n,!0);case 2:return r=t(n.baseEl,n),x(n.enteringEl,n.leavingEl),e.next=6,w(r,n);case 6:return i=e.sent,e.abrupt("return",(n.progressCallback&&n.progressCallback(void 0),i&&k(n.enteringEl,n.leavingEl),{hasCompleted:i,animation:r}));case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.enteringEl,r=t.leavingEl,e.next=3,_(t,!1);case 3:return x(n,r),k(n,r),e.abrupt("return",{hasCompleted:!0});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.Z)(_regeneratorRuntime().mark(function e(t,n){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(void 0!==t.deepWait?t.deepWait:n)?[M(t.enteringEl),M(t.leavingEl)]:[S(t.enteringEl),S(t.leavingEl)],e.next=3,Promise.all(r);case 3:return e.next=5,b(t.viewIsReady,t.enteringEl);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)(_regeneratorRuntime().mark(function e(t,n){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=4;break}return e.next=4,t(n);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),w=function(e,t){var n=t.progressCallback,r=new Promise(function(t){e.onFinish(function(e){return t(1===e)})});return n?(e.progressStart(!0),n(e)):e.play(),r},x=function(e,t){C(t,l),C(e,s)},k=function(e,t){C(e,u),C(t,c)},C=function(e,t){if(e){var n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},S=function(e){return e?new Promise(function(t){return(0,o.c)(e,t)}):Promise.resolve()},M=function(){var e=(0,i.Z)(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t)){e.next=12;break}if(e.t0=null!=n.componentOnReady,!e.t0){e.next=8;break}return e.next=6,n.componentOnReady();case 6:e.t1=e.sent,e.t0=null!=e.t1;case 8:if(!e.t0){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Promise.all(Array.from(n.children).map(M));case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=function(e,t){t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},T=function(e,t,n){void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},L=function(e){return e.classList.contains("ion-page")?e:e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||e}},97585:function(e,t,n){"use strict";n.d(t,{a:function(){return o},b:function(){return b},c:function(){return y},g:function(){return a},i:function(){return w}});var r,i=n(23150),a=function(e){return s(e)},o=function(e,t){return"string"==typeof e&&(t=e,e=void 0),a(e).includes(t)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(void 0===e)return[];e.Ionic=e.Ionic||{};var t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=u(e)).forEach(function(t){return e.document.documentElement.classList.add("plt-".concat(t))}),t},u=function(e){return Object.keys(v).filter(function(t){return v[t](e)})},l=function(e){return!!(m(e,/iPad/i)||m(e,/Macintosh/i)&&h(e))},c=function(e){return m(e,/android|sink/i)},h=function(e){return g(e,"(any-pointer:coarse)")},f=function(e){return d(e)||p(e)},d=function(e){return!!(e.cordova||e.phonegap||e.PhoneGap)},p=function(e){var t=e.Capacitor;return!(!t||!t.isNative)},m=function(e,t){return t.test(e.navigator.userAgent)},g=function(e,t){return e.matchMedia(t).matches},v={ipad:l,iphone:function(e){return m(e,/iPhone/i)},ios:function(e){return m(e,/iPhone|iPod/i)||l(e)},android:c,phablet:function(e){var t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return r>390&&r<520&&i>620&&i<800},tablet:function(e){var t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return l(e)||function(e){return c(e)&&!m(e,/mobile/i)}(e)||r>460&&r<820&&i>780&&i<1400},cordova:d,capacitor:p,electron:function(e){return m(e,/electron/i)},pwa:function(e){return!(!e.matchMedia("(display-mode: standalone)").matches&&!e.navigator.standalone)},mobile:h,mobileweb:function(e){return h(e)&&!f(e)},desktop:function(e){return!h(e)},hybrid:f},y=new(function(){function e(){_classCallCheck(this,e),this.m=new Map}return _createClass(e,[{key:"reset",value:function(e){this.m=new Map(Object.entries(e))}},{key:"get",value:function(e,t){var n=this.m.get(e);return void 0!==n?n:t}},{key:"getBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}},{key:"getNumber",value:function(e,t){var n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}},{key:"set",value:function(e,t){this.m.set(e,t)}}]),e}()),_="ionic-persist-config",b=function(e){return e&&(0,i.g)(e)||r},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!=typeof window){var t=window.document,n=window,a=n.Ionic=n.Ionic||{};s(n);var u=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e){try{var n=e.sessionStorage.getItem(_);return null!==n?JSON.parse(n):{}}catch(t){return{}}}(n)),{persistConfig:!1}),a.config),function(e){var t={};return e.location.search.slice(1).split("&").map(function(e){return e.split("=")}).map(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return[decodeURIComponent(n),decodeURIComponent(r)]}).filter(function(e){return function(e,t){return e.substr(0,t.length)===t}(_slicedToArray(e,1)[0],"ionic:")}).map(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return[n.slice("ionic:".length),r]}).forEach(function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1];t[r]=i}),t}(n)),e);y.reset(u),y.getBoolean("persistConfig")&&function(e,t){try{e.sessionStorage.setItem(_,JSON.stringify(t))}catch(n){return}}(n,u),a.config=y,a.mode=r=y.get("mode",t.documentElement.getAttribute("mode")||(o(n,"ios")?"ios":"md")),y.set("mode",r),t.documentElement.setAttribute("mode",r),t.documentElement.classList.add(r),y.getBoolean("_testing")&&y.set("animated",!1);var l=function(e){return e.tagName&&e.tagName.startsWith("ION-")},c=function(e){return["ios","md"].includes(e)};(0,i.s)(function(e){for(;e;){var t=e.mode||e.getAttribute("mode");if(t){if(c(t))return t;l(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return r})}}},7689:function(e,t,n){"use strict";n.r(t),n.d(t,{iosTransitionAnimation:function(){return h},shadow:function(){return o}});var r=n(97235),i=n(64425);n(23150);var a=function(e){return document.querySelector("".concat(e,".ion-cloned-element"))},o=function(e){return e.shadowRoot||e},s=function(e){var t="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs"),n="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=t){var r=t.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=r?r.querySelector(n):null}return e.querySelector(n)},u=function(e,t){var n="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs"),r=[];if(null!=n){var i=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=i&&(r=i.querySelectorAll("ion-buttons"))}else r=e.querySelectorAll("ion-buttons");var a,o=_createForOfIteratorHelper(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.closest("ion-header"),l=u&&!u.classList.contains("header-collapse-condense-inactive"),c=s.querySelector("ion-back-button"),h=s.classList.contains("buttons-collapse"),f="start"===s.slot||""===s.slot;if(null!==c&&f&&(h&&l&&t||!h))return c}}catch(d){o.e(d)}finally{o.f()}return null},l=function(e,t,n,i,s,u){var l=t?"calc(100% - ".concat(u.right+4,"px)"):u.left-4+"px",c=t?"7px":"-7px",h=t?"-4px":"4px",f=t?"-4px":"4px",d=t?"right":"left",p=t?"left":"right",m=n?[{offset:0,opacity:1,transform:"translate3d(".concat(h,", ").concat(u.top-46,"px, 0) scale(1)")},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d(".concat(c,", ").concat(s.top-40,"px, 0) scale(2.1)")}]:[{offset:0,opacity:0,transform:"translate3d(".concat(c,", ").concat(s.top-40,"px, 0) scale(2.1)")},{offset:1,opacity:1,transform:"translate3d(".concat(h,", ").concat(u.top-46,"px, 0) scale(1)")}],g=n?[{offset:0,opacity:1,transform:"translate3d(".concat(f,", ").concat(u.top-46,"px, 0) scale(1)")},{offset:.2,opacity:0,transform:"translate3d(".concat(f,", ").concat(u.top-41,"px, 0) scale(0.6)")},{offset:1,opacity:0,transform:"translate3d(".concat(f,", ").concat(u.top-41,"px, 0) scale(0.6)")}]:[{offset:0,opacity:0,transform:"translate3d(".concat(f,", ").concat(u.top-41,"px, 0) scale(0.6)")},{offset:1,opacity:1,transform:"translate3d(".concat(f,", ").concat(u.top-46,"px, 0) scale(1)")}],v=(0,r.c)(),y=(0,r.c)(),_=a("ion-back-button"),b=o(_).querySelector(".button-text"),w=o(_).querySelector("ion-icon");_.text=i.text,_.mode=i.mode,_.icon=i.icon,_.color=i.color,_.disabled=i.disabled,_.style.setProperty("display","block"),_.style.setProperty("position","fixed"),y.addElement(w),v.addElement(b),v.beforeStyles({"transform-origin":"".concat(d," center")}).beforeAddWrite(function(){i.style.setProperty("display","none"),_.style.setProperty(d,l)}).afterAddWrite(function(){i.style.setProperty("display",""),_.style.setProperty("display","none"),_.style.removeProperty(d)}).keyframes(m),y.beforeStyles({"transform-origin":"".concat(p," center")}).keyframes(g),e.addAnimation([v,y])},c=function(e,t,n,i,o,s){var u=t?"calc(100% - ".concat(o.right,"px)"):"".concat(o.left,"px"),l=t?"-18px":"18px",c=t?"right":"left",h=n?[{offset:0,opacity:0,transform:"translate3d(".concat(l,", ").concat(s.top-4,"px, 0) scale(0.49)")},{offset:.1,opacity:0},{offset:1,opacity:1,transform:"translate3d(0, ".concat(o.top-2,"px, 0) scale(1)")}]:[{offset:0,opacity:.99,transform:"translate3d(0, ".concat(o.top-2,"px, 0) scale(1)")},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d(".concat(l,", ").concat(s.top-4,"px, 0) scale(0.5)")}],f=a("ion-title"),d=(0,r.c)();f.innerText=i.innerText,f.size=i.size,f.color=i.color,d.addElement(f),d.beforeStyles(_defineProperty({"transform-origin":"".concat(c," center"),height:"46px",display:"",position:"relative"},c,u)).beforeAddWrite(function(){i.style.setProperty("display","none")}).afterAddWrite(function(){i.style.setProperty("display",""),f.style.setProperty("display","none")}).keyframes(h),e.addAnimation(d)},h=function(e,t){try{var n="cubic-bezier(0.32,0.72,0,1)",a="opacity",h="transform",f="0%",d="rtl"===e.ownerDocument.dir,p=d?"-99.5%":"99.5%",m=d?"33%":"-33%",g=t.enteringEl,v=t.leavingEl,y="back"===t.direction,_=g.querySelector(":scope > ion-content"),b=g.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),w=g.querySelectorAll(":scope > ion-header > ion-toolbar"),x=(0,r.c)(),k=(0,r.c)();if(x.addElement(g).duration(t.duration||540).easing(t.easing||"cubic-bezier(0.32,0.72,0,1)").fill("both").beforeRemoveClass("ion-page-invisible"),v&&e){var C=(0,r.c)();C.addElement(e),x.addAnimation(C)}if(_||0!==w.length||0!==b.length?(k.addElement(_),k.addElement(b)):k.addElement(g.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),x.addAnimation(k),y?k.beforeClearStyles([a]).fromTo("transform","translateX(".concat(m,")"),"translateX(".concat(f,")")).fromTo(a,.8,1):k.beforeClearStyles([a]).fromTo("transform","translateX(".concat(p,")"),"translateX(".concat(f,")")),_){var S=o(_).querySelector(".transition-effect");if(S){var M=S.querySelector(".transition-cover"),E=S.querySelector(".transition-shadow"),T=(0,r.c)(),L=(0,r.c)(),I=(0,r.c)();T.addElement(S).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),L.addElement(M).beforeClearStyles([a]).fromTo(a,0,.1),I.addElement(E).beforeClearStyles([a]).fromTo(a,.03,.7),T.addAnimation([L,I]),k.addAnimation([T])}}var D=g.querySelector("ion-header.header-collapse-condense"),A=function(e,t,n,r,i){var a=u(r,n),o=s(i),h=s(r),f=u(i,n),d=null!==a&&null!==o&&!n,p=null!==h&&null!==f&&n;if(d){var m=o.getBoundingClientRect(),g=a.getBoundingClientRect();c(e,t,n,o,m,g),l(e,t,n,a,m,g)}else if(p){var v=h.getBoundingClientRect(),y=f.getBoundingClientRect();c(e,t,n,h,v,y),l(e,t,n,f,v,y)}return{forward:d,backward:p}}(x,d,y,g,v),P=A.forward,O=A.backward;if(w.forEach(function(e){var t=(0,r.c)();t.addElement(e),x.addAnimation(t);var n=(0,r.c)();n.addElement(e.querySelector("ion-title"));var i,s=(0,r.c)(),u=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]")),l=e.closest("ion-header"),c=l&&l.classList.contains("header-collapse-condense-inactive");i=u.filter(y?function(e){var t=e.classList.contains("buttons-collapse");return t&&!c||!t}:function(e){return!e.classList.contains("buttons-collapse")}),s.addElement(i);var h=(0,r.c)();h.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));var g=(0,r.c)();g.addElement(o(e).querySelector(".toolbar-background"));var v=(0,r.c)(),_=e.querySelector("ion-back-button");if(_&&v.addElement(_),t.addAnimation([n,s,h,g,v]),s.fromTo(a,.01,1),h.fromTo(a,.01,1),y)c||n.fromTo("transform","translateX(".concat(m,")"),"translateX(".concat(f,")")).fromTo(a,.01,1),h.fromTo("transform","translateX(".concat(m,")"),"translateX(".concat(f,")")),v.fromTo(a,.01,1);else if(D||n.fromTo("transform","translateX(".concat(p,")"),"translateX(".concat(f,")")).fromTo(a,.01,1),h.fromTo("transform","translateX(".concat(p,")"),"translateX(".concat(f,")")),g.beforeClearStyles([a,"transform"]),(null==l?void 0:l.translucent)?g.fromTo("transform",d?"translateX(-100%)":"translateX(100%)","translateX(0px)"):g.fromTo(a,.01,"var(--opacity)"),P||v.fromTo(a,.01,1),_&&!P){var b=(0,r.c)();b.addElement(o(_).querySelector(".button-text")).fromTo("transform",d?"translateX(-100px)":"translateX(100px)","translateX(0px)"),t.addAnimation(b)}}),v){var N=(0,r.c)(),R=v.querySelector(":scope > ion-content"),F=v.querySelectorAll(":scope > ion-header > ion-toolbar"),Y=v.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(R||0!==F.length||0!==Y.length?(N.addElement(R),N.addElement(Y)):N.addElement(v.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),x.addAnimation(N),y){N.beforeClearStyles([a]).fromTo("transform","translateX(".concat(f,")"),d?"translateX(-100%)":"translateX(100%)");var z=(0,i.g)(v);x.afterAddWrite(function(){"normal"===x.getDirection()&&z.style.setProperty("display","none")})}else N.fromTo("transform","translateX(".concat(f,")"),"translateX(".concat(m,")")).fromTo(a,1,.8);if(R){var j=o(R).querySelector(".transition-effect");if(j){var B=j.querySelector(".transition-cover"),H=j.querySelector(".transition-shadow"),U=(0,r.c)(),V=(0,r.c)(),G=(0,r.c)();U.addElement(j).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),V.addElement(B).beforeClearStyles([a]).fromTo(a,.1,0),G.addElement(H).beforeClearStyles([a]).fromTo(a,.7,.03),U.addAnimation([V,G]),N.addAnimation([U])}}F.forEach(function(e){var t=(0,r.c)();t.addElement(e);var n=(0,r.c)();n.addElement(e.querySelector("ion-title"));var i=(0,r.c)(),s=e.querySelectorAll("ion-buttons,[menuToggle]"),u=e.closest("ion-header"),l=u&&u.classList.contains("header-collapse-condense-inactive"),c=Array.from(s).filter(function(e){var t=e.classList.contains("buttons-collapse");return t&&!l||!t});i.addElement(c);var p=(0,r.c)(),g=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");g.length>0&&p.addElement(g);var v=(0,r.c)();v.addElement(o(e).querySelector(".toolbar-background"));var _=(0,r.c)(),b=e.querySelector("ion-back-button");if(b&&_.addElement(b),t.addAnimation([n,i,p,_,v]),x.addAnimation(t),_.fromTo(a,.99,0),i.fromTo(a,.99,0),p.fromTo(a,.99,0),y){if(l||n.fromTo("transform","translateX(".concat(f,")"),d?"translateX(-100%)":"translateX(100%)").fromTo(a,.99,0),p.fromTo("transform","translateX(".concat(f,")"),d?"translateX(-100%)":"translateX(100%)"),v.beforeClearStyles([a,"transform"]),(null==u?void 0:u.translucent)?v.fromTo("transform","translateX(0px)",d?"translateX(-100%)":"translateX(100%)"):v.fromTo(a,"var(--opacity)",0),b&&!O){var w=(0,r.c)();w.addElement(o(b).querySelector(".button-text")).fromTo("transform","translateX(".concat(f,")"),"translateX(".concat((d?-124:124)+"px",")")),t.addAnimation(w)}}else l||n.fromTo("transform","translateX(".concat(f,")"),"translateX(".concat(m,")")).fromTo(a,.99,0).afterClearStyles([h,a]),p.fromTo("transform","translateX(".concat(f,")"),"translateX(".concat(m,")")).afterClearStyles([h,a]),_.afterClearStyles([a]),n.afterClearStyles([a]),i.afterClearStyles([a])})}return x}catch(n){throw n}}},25392:function(e,t,n){"use strict";n.r(t),n.d(t,{mdTransitionAnimation:function(){return a}});var r=n(97235),i=n(64425);n(23150);var a=function(e,t){var n="back"===t.direction,a=t.leavingEl,o=(0,i.g)(t.enteringEl),s=o.querySelector("ion-toolbar"),u=(0,r.c)();if(u.addElement(o).fill("both").beforeRemoveClass("ion-page-invisible"),n?u.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):u.duration(t.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),s){var l=(0,r.c)();l.addElement(s),u.addAnimation(l)}if(a&&n){u.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var c=(0,r.c)();c.addElement((0,i.g)(a)).onFinish(function(e){1===e&&c.elements.length>0&&c.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),u.addAnimation(c)}return u}},53291:function(e,t,n){"use strict";n.d(t,{B:function(){return R},a:function(){return h},b:function(){return f},c:function(){return g},d:function(){return M},e:function(){return y},f:function(){return T},g:function(){return D},h:function(){return l},i:function(){return P},l:function(){return d},m:function(){return p},p:function(){return m},s:function(){return N},t:function(){return v}});var r,i=n(8239),a=n(97585),o=n(23087),s=n(71567),u=0,l=new WeakMap,c=function(e){return{create:function(t){return _(e,t)},dismiss:function(t,n,r){return k(document,t,n,e,r)},getTop:function(){return(0,i.Z)(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",C(document,e));case 1:case"end":return t.stop()}},t)}))()}}},h=c("ion-alert"),f=c("ion-action-sheet"),d=c("ion-loading"),p=c("ion-modal"),m=c("ion-picker"),g=c("ion-popover"),v=c("ion-toast"),y=function(e){"undefined"!=typeof document&&x(document);var t=u++;e.overlayIndex=t,e.hasAttribute("id")||(e.id="ion-overlay-".concat(t))},_=function(e,t){return"undefined"!=typeof customElements?customElements.whenDefined(e).then(function(){var n=document.createElement(e);return n.classList.add("overlay-hidden"),Object.assign(n,t),L(document).appendChild(n),new Promise(function(e){return(0,s.c)(n,e)})}):Promise.resolve()},b='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',w="input:not([type=hidden]), textarea, button, select",x=function(e){0===u&&(u=1,e.addEventListener("focus",function(t){return function(e,t){var n=C(t),r=e.target;if(n&&r)if(n===r)n.lastFocus=void 0;else{var i=(0,s.g)(n);if(!i.contains(r))return;var a=i.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(r))n.lastFocus=r;else{var o=n.lastFocus;(function(e,t){var n=e.querySelector(b),r=n&&n.shadowRoot;r&&(n=r.querySelector(w)||n),n?n.focus():t.focus()})(a,n),o===t.activeElement&&function(e,t){var n=Array.from(e.querySelectorAll(b)),r=n.length>0?n[n.length-1]:null,i=r&&r.shadowRoot;i&&(r=i.querySelector(w)||r),r?r.focus():t.focus()}(a,n),n.lastFocus=t.activeElement}}}(t,e)},!0),e.addEventListener("ionBackButton",function(t){var n=C(e);n&&n.backdropDismiss&&t.detail.register(o.OVERLAY_BACK_BUTTON_PRIORITY,function(){return n.dismiss(void 0,R)})}),e.addEventListener("keyup",function(t){if("Escape"===t.key){var n=C(e);n&&n.backdropDismiss&&n.dismiss(void 0,R)}}))},k=function(e,t,n,r,i){var a=C(e,r,i);return a?a.dismiss(t,n):Promise.reject("overlay does not exist")},C=function(e,t,n){var r=function(e,t){return void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(function(e){return e.overlayIndex>0})}(e,t);return void 0===n?r[r.length-1]:r.find(function(e){return e.id===n})},S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=L(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!t||(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},M=(r=(0,i.Z)(_regeneratorRuntime().mark(function e(t,n,r,i,o){var s,u;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.presented){e.next=2;break}return e.abrupt("return");case 2:return S(!0),t.presented=!0,t.willPresent.emit(),s=(0,a.b)(t),u=t.enterAnimation?t.enterAnimation:a.c.get(n,"ios"===s?r:i),e.next=6,I(t,u,t.el,o);case 6:if(e.t0=e.sent,!e.t0){e.next=9;break}t.didPresent.emit();case 9:"ION-TOAST"!==t.el.tagName&&E(t.el),t.keyboardClose&&t.el.focus();case 11:case"end":return e.stop()}},e)})),function(e,t,n,i,a){return r.apply(this,arguments)}),E=function(){var e=(0,i.Z)(_regeneratorRuntime().mark(function e(t){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.activeElement){e.next=3;break}return e.abrupt("return");case 3:return(r=n&&n.shadowRoot)&&(n=r.querySelector(w)||n),e.next=7,t.onDidDismiss();case 7:n.focus();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,i.Z)(_regeneratorRuntime().mark(function e(t,n,r,i,o,s,u){var c,h;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.presented){e.next=2;break}return e.abrupt("return",!1);case 2:if(S(!1),t.presented=!1,e.prev=3,t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:n,role:r}),c=(0,a.b)(t),h=t.leaveAnimation?t.leaveAnimation:a.c.get(i,"ios"===c?o:s),e.t0="gesture"!==r,!e.t0){e.next=10;break}return e.next=10,I(t,h,t.el,u);case 10:t.didDismiss.emit({data:n,role:r}),l.delete(t),e.next=17;break;case 14:e.prev=14,e.t1=e.catch(3),console.error(e.t1);case 17:return e.abrupt("return",(t.el.remove(),!0));case 18:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}(),L=function(e){return e.querySelector("ion-app")||e.body},I=function(){var e=(0,i.Z)(_regeneratorRuntime().mark(function e(t,n,r,i){var o,s;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.classList.remove("overlay-hidden"),o=n(r.shadowRoot||t.el,i),(!t.animated||!a.c.getBoolean("animated",!0))&&o.duration(0),t.keyboardClose&&o.beforeAddWrite(function(){var e=r.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()}),s=l.get(t)||[],l.set(t,[].concat(_toConsumableArray(s),[o])),e.next=7,o.play();case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}(),D=function(e,t){var n,r=new Promise(function(e){return n=e});return A(e,t,function(e){n(e.detail)}),r},A=function(e,t,n){(0,s.a)(e,t,function r(i){(0,s.b)(e,t,r),n(i)})},P=function(e){return"cancel"===e||e===R},O=function(e){return e()},N=function(e,t){if("function"==typeof e)return a.c.get("_zoneGate",O)(function(){try{return e(t)}catch(n){console.error(n)}})},R="backdrop"},18784:function(e,t){!function(e){"use strict";function t(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");r&&S(r),i&&M(i);var a={type:"Feature"};return i&&(a.id=i),r&&(a.bbox=r),a.properties=t||{},a.geometry=e,a}function n(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,o=n.bbox;if(!e)throw new Error("type is required");if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");switch(o&&S(o),e){case"Point":i=r(t).geometry;break;case"LineString":i=s(t).geometry;break;case"Polygon":i=a(t).geometry;break;case"MultiPoint":i=h(t).geometry;break;case"MultiLineString":i=c(t).geometry;break;case"MultiPolygon":i=f(t).geometry;break;default:throw new Error(e+" is invalid")}return o&&(i.bbox=o),i}function r(e,n,r){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!k(e[0])||!k(e[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:e},n,r)}function i(e,t,n){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");return l(e.map(function(e){return r(e,t)}),n)}function a(e,n,r){if(!e)throw new Error("coordinates is required");for(var i=0;i<e.length;i++){var a=e[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++){if(0===i&&0===o&&!k(a[0][0])||!k(a[0][1]))throw new Error("coordinates must contain numbers");if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}}return t({type:"Polygon",coordinates:e},n,r)}function o(e,t,n){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");return l(e.map(function(e){return a(e,t)}),n)}function s(e,n,r){if(!e)throw new Error("coordinates is required");if(e.length<2)throw new Error("coordinates must be an array of two or more positions");if(!k(e[0][1])||!k(e[0][1]))throw new Error("coordinates must contain numbers");return t({type:"LineString",coordinates:e},n,r)}function u(e,t,n){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");return l(e.map(function(e){return s(e,t)}),n)}function l(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.bbox,r=t.id;if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");n&&S(n),r&&M(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=e,i}function c(e,n,r){if(!e)throw new Error("coordinates is required");return t({type:"MultiLineString",coordinates:e},n,r)}function h(e,n,r){if(!e)throw new Error("coordinates is required");return t({type:"MultiPoint",coordinates:e},n,r)}function f(e,n,r){if(!e)throw new Error("coordinates is required");return t({type:"MultiPolygon",coordinates:e},n,r)}function d(e,n,r){if(!e)throw new Error("geometries is required");if(!Array.isArray(e))throw new Error("geometries must be an Array");return t({type:"GeometryCollection",geometries:e},n,r)}function p(e,t){if(null==e||isNaN(e))throw new Error("num is required");if(t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n}function m(e,t){if(null==e)throw new Error("radians is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var n=Ta[t||"kilometers"];if(!n)throw new Error(t+" units is invalid");return e*n}function g(e,t){if(null==e)throw new Error("distance is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var n=Ta[t||"kilometers"];if(!n)throw new Error(t+" units is invalid");return e/n}function v(e,t){return _(g(e,t))}function y(e){if(null==e)throw new Error("bearing is required");var t=e%360;return t<0&&(t+=360),t}function _(e){if(null==e)throw new Error("radians is required");return e%(2*Math.PI)*180/Math.PI}function b(e){if(null==e)throw new Error("degrees is required");return e%360*Math.PI/180}function w(e,t,n){if(null==e)throw new Error("length is required");if(!(e>=0))throw new Error("length must be a positive number");return m(g(e,t),n||"kilometers")}function x(e,t,n){if(null==e)throw new Error("area is required");if(!(e>=0))throw new Error("area must be a positive number");var r=Ia[t||"meters"];if(!r)throw new Error("invalid original units");var i=Ia[n||"kilometers"];if(!i)throw new Error("invalid final units");return e/r*i}function k(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function C(e){return!!e&&e.constructor===Object}function S(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!k(e))throw new Error("bbox must only contain numbers")})}function M(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}function E(e,t,n){if(null!==e)for(var r,i,a,o,s,u,l,c,h=0,f=0,d=e.type,p="FeatureCollection"===d,m="Feature"===d,g=p?e.features.length:1,v=0;v<g;v++){s=(c=!!(l=p?e.features[v].geometry:m?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var y=0;y<s;y++){var _=0,b=0;if(null!==(o=c?l.geometries[y]:l)){u=o.coordinates;var w=o.type;switch(h=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":t(u,f,v,_,b),f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)t(u[r],f,v,_,b),f++,"MultiPoint"===w&&_++;"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++)t(u[r][i],f,v,_,b),f++;"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===w&&(b=0),i=0;i<u[r].length;i++){for(a=0;a<u[r][i].length-h;a++)t(u[r][i][a],f,v,_,b),f++;b++}_++}break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)E(o.geometries[r],t,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function T(e,t,n,r){var i=n;return E(e,function(e,r,a,o,s){i=0===r&&void 0===n?e:t(i,e,r,a,o,s)},r),i}function L(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length;n++)t(e.features[n].properties,n);break;case"Feature":t(e.properties,0)}}function I(e,t,n){var r=n;return L(e,function(e,i){r=0===i&&void 0===n?e:t(r,e,i)}),r}function D(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)t(e.features[n],n)}function A(e,t,n){var r=n;return D(e,function(e,i){r=0===i&&void 0===n?e:t(r,e,i)}),r}function P(e){var t=[];return E(e,function(e){t.push(e)}),t}function O(e,t){var n,r,i,a,o,s,u,l,c,h,f=0,d="FeatureCollection"===e.type,p="Feature"===e.type,m=d?e.features.length:1;for(n=0;n<m;n++){for(l=d?e.features[n].properties:p?e.properties:{},c=d?e.features[n].bbox:p?e.bbox:void 0,h=d?e.features[n].id:p?e.id:void 0,o=(u=!!(s=d?e.features[n].geometry:p?e.geometry:e)&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<o;i++)if(null!==(a=u?s.geometries[i]:s))switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(a,f,l,c,h);break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)t(a.geometries[r],f,l,c,h);break;default:throw new Error("Unknown Geometry Type")}else t(null,f,l,c,h);f++}}function N(e,t,n){var r=n;return O(e,function(e,i,a,o,s){r=0===i&&void 0===n?e:t(r,e,i,a,o,s)}),r}function R(e,n){O(e,function(e,r,i,a,o){var s,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return void n(t(e,i,{bbox:a,id:o}),r,0)}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}e.coordinates.forEach(function(e,a){n(t({type:s,coordinates:e},i),r,a)})})}function F(e,t,n){var r=n;return R(e,function(e,i,a){r=0===i&&0===a&&void 0===n?e:t(r,e,i,a)}),r}function Y(e,t){R(e,function(e,n,r){var i=0;if(e.geometry){var a=e.geometry.type;"Point"!==a&&"MultiPoint"!==a&&T(e,function(a,o,u,l,c,h){var f=s([a,o],e.properties);return t(f,n,r,h,i),i++,o})}})}function z(e,t,n){var r=n,i=!1;return Y(e,function(e,a,o,s,u){r=!1===i&&void 0===n?e:t(r,e,a,o,s,u),i=!0}),r}function j(e,t){if(!e)throw new Error("geojson is required");R(e,function(e,n,r){if(null!==e.geometry){var i=e.geometry.coordinates;switch(e.geometry.type){case"LineString":t(e,n,r,0,0);break;case"Polygon":for(var a=0;a<i.length;a++)t(s(i[a],e.properties),n,r,a)}}})}function B(e,t,n){var r=n;return j(e,function(e,i,a,o){r=0===i&&void 0===n?e:t(r,e,i,a,o)}),r}function H(e){var t=[1/0,1/0,-1/0,-1/0];return E(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}function U(e){if(!e)throw new Error("obj is required");var t=V(e);if(t.length>1&&k(t[0])&&k(t[1]))return t;throw new Error("Coordinate is not a valid Point")}function V(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return G(t),t;throw new Error("No valid coordinates")}function G(e){if(e.length>1&&k(e[0])&&k(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return G(e[0]);throw new Error("coordinates must only contain numbers")}function q(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)}function W(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)}function $(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<e.features.length;r++){var i=e.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+i.geometry.type)}}function X(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}function Z(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function J(e,t){if(!e)throw new Error((t||"geojson")+" is required");if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error((t||"geojson")+" is invalid")}function K(e,t,n){n=n||{};for(var r=Object.keys(Oa),i=0;i<r.length;i++){var a=r[i],o=n[a];Na[a]=o=null!=o?o:Oa[a]}Na.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+t);var s,u,l,c=(s=function(e,t){for(var n=e.length-1,r=e[0].length-1,i={rows:n,cols:r,cells:[]},a=0;a<n;++a){i.cells[a]=[];for(var o=0;o<r;++o){var s=0,u=e[a+1][o],l=e[a+1][o+1],c=e[a][o+1],h=e[a][o];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){s|=u>=t?8:0,s|=l>=t?4:0,s|=c>=t?2:0;var f,d,p,m,g=!1;if(5==(s|=h>=t?1:0)||10===s){var v=(u+l+c+h)/4;5===s&&v<t?(s=10,g=!0):10===s&&v<t&&(s=5,g=!0)}0!==s&&15!==s&&(f=d=p=m=.5,1===s?(p=1-Q(t,u,h),d=1-Q(t,c,h)):2===s?(d=Q(t,h,c),m=1-Q(t,l,c)):3===s?(p=1-Q(t,u,h),m=1-Q(t,l,c)):4===s?(f=Q(t,u,l),m=Q(t,c,l)):5===s?(f=Q(t,u,l),m=Q(t,c,l),d=1-Q(t,c,h),p=1-Q(t,u,h)):6===s?(d=Q(t,h,c),f=Q(t,u,l)):7===s?(p=1-Q(t,u,h),f=Q(t,u,l)):8===s?(p=Q(t,h,u),f=1-Q(t,l,u)):9===s?(d=1-Q(t,c,h),f=1-Q(t,l,u)):10===s?(f=1-Q(t,l,u),m=1-Q(t,l,c),d=Q(t,h,c),p=Q(t,h,u)):11===s?(f=1-Q(t,l,u),m=1-Q(t,l,c)):12===s?(p=Q(t,h,u),m=Q(t,c,l)):13===s?(d=1-Q(t,c,h),m=Q(t,c,l)):14===s?(p=Q(t,h,u),d=Q(t,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),i.cells[a][o]={cval:s,flipped:g,top:f,right:m,bottom:d,left:p})}}}return i}(e,t),u=[],l=0,s.cells.forEach(function(e,t){e.forEach(function(e,n){if(void 0!==e&&5!==(f=e).cval&&10!==f.cval&&!ee(e)){var r=function(e,t,n){var r,i,a,o=e.length,s=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=e[t][n],f=h.cval,d=ne(h,a=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][f]);s.push([n+d[0],t+d[1]]),d=ne(h,a=c[f]),s.push([n+d[0],t+d[1]]),te(h);for(var p=n+u[f],m=t+l[f],g=f;p>=0&&m>=0&&m<o&&(p!=n||m!=t)&&void 0!==(h=e[m][p]);){if(0===(f=h.cval)||15===f)return{path:s,info:"mergeable"};a=c[f],r=u[f],i=l[f],5!==f&&10!==f||(5===f?h.flipped?-1===l[g]?(a="left",r=-1,i=0):(a="right",r=1,i=0):-1===u[g]&&(a="bottom",r=0,i=-1):10===f&&(h.flipped?-1===u[g]?(a="top",r=0,i=1):(a="bottom",r=0,i=-1):1===l[g]&&(a="left",r=-1,i=0))),d=ne(h,a),s.push([p+d[0],m+d[1]]),te(h),p+=r,m+=i,g=f}return{path:s,info:"closed"}}(s.cells,t,n),i=!1;if("mergeable"===r.info)for(var a=r.path[r.path.length-1][0],o=r.path[r.path.length-1][1],c=l-1;c>=0;c--)if(Math.abs(u[c][0][0]-a)<=1e-7&&Math.abs(u[c][0][1]-o)<=1e-7){for(var h=r.path.length-2;h>=0;--h)u[c].unshift(r.path[h]);i=!0;break}i||(u[l++]=r.path)}var f})}),u);return"function"==typeof Na.successCallback&&Na.successCallback(c),c}function Q(e,t,n){return(e-t)/(n-t)}function ee(e){return 0===e.cval||15===e.cval}function te(e){ee(e)||5===e.cval||10===e.cval||(e.cval=15)}function ne(e,t){return"top"===t?[e.top,1]:"bottom"===t?[e.bottom,0]:"right"===t?[1,e.right]:"left"===t?[0,e.left]:void 0}function re(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ie(e,t){if(!(this instanceof ie))return new ie(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function ae(e,t){oe(e,0,e.children.length,t,e)}function oe(e,t,n,r,i){i||(i=pe(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,o=t;o<n;o++)a=e.children[o],se(i,e.leaf?r(a):a);return i}function se(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function ue(e,t){return e.minX-t.minX}function le(e,t){return e.minY-t.minY}function ce(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function he(e){return e.maxX-e.minX+(e.maxY-e.minY)}function fe(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function de(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function pe(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function me(e,t,n,r,i){for(var a,o=[t,n];o.length;)(n=o.pop())-(t=o.pop())<=r||(a=t+Math.ceil((n-t)/r/2)*r,Ra(e,a,t,n,i),o.push(t,a,a,n))}function ge(e,t){return e(t={exports:{}},t.exports),t.exports}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||function(e,t){return e<t?-1:e>t?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function ye(e,t,n){t=Math.max(0,void 0===t?2:t),n=n||0;for(var r,i=function(e){for(var t=e[0],n=e[0],r=e[0],i=e[0],a=0;a<e.length;a++){var o=e[a];o[0]<t[0]&&(t=o),o[0]>r[0]&&(r=o),o[1]<n[1]&&(n=o),o[1]>i[1]&&(i=o)}var s=[t,n,r,i],u=s.slice();for(a=0;a<e.length;a++)Xa(e[a],s)||u.push(e[a]);var l=Ga(u),c=[];for(a=0;a<l.length;a++)c.push(u[l[a]]);return c}(e),a=Fa(16,["[0]","[1]","[0]","[1]"]).load(e),o=[],s=0;s<i.length;s++){var u=i[s];a.remove(u),r=ke(u,r),o.push(r)}var l=Fa(16);for(s=0;s<o.length;s++)l.insert(xe(o[s]));for(var c=t*t,h=n*n;o.length;){var f=o.shift(),d=f.p,p=f.next.p,m=Ce(d,p);if(!(m<h)){var g=m/c;(u=function(e,t,n,r,i,a,o){for(var s=new Wa(null,_e),u=e.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],h=u.leaf?Se(c,n,r):function(e,t,n){if(be(e,n)||be(t,n))return 0;var r=Me(e[0],e[1],t[0],t[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Me(e[0],e[1],t[0],t[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var a=Me(e[0],e[1],t[0],t[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===a)return 0;var o=Me(e[0],e[1],t[0],t[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===o?0:Math.min(r,i,a,o)}(n,r,c);h>a||s.push({node:c,dist:h})}for(;s.length&&!s.peek().node.children;){var f=s.pop(),d=f.node,p=Se(d,t,n),m=Se(d,r,i);if(f.dist<p&&f.dist<m&&we(n,d,o)&&we(r,d,o))return d}(u=s.pop())&&(u=u.node)}return null}(a,f.prev.p,d,p,f.next.next.p,g,l))&&Math.min(Ce(u,d),Ce(u,p))<=g&&(o.push(f),o.push(ke(u,f)),a.remove(u),l.remove(f),l.insert(xe(f)),l.insert(xe(f.next)))}}f=r;var v=[];do{v.push(f.p),f=f.next}while(f!==r);return v.push(f.p),v}function _e(e,t){return e.dist-t.dist}function be(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function we(e,t,n){for(var r=Math.min(e[0],t[0]),i=Math.min(e[1],t[1]),a=Math.max(e[0],t[0]),o=Math.max(e[1],t[1]),s=n.search({minX:r,minY:i,maxX:a,maxY:o}),u=0;u<s.length;u++)if(c=s[u].next.p,h=e,(l=s[u].p)!==(f=t)&&c!==h&&Za(l,c,h)>0!=Za(l,c,f)>0&&Za(h,f,l)>0!=Za(h,f,c)>0)return!1;var l,c,h,f;return!0}function xe(e){var t=e.p,n=e.next.p;return e.minX=Math.min(t[0],n[0]),e.minY=Math.min(t[1],n[1]),e.maxX=Math.max(t[0],n[0]),e.maxY=Math.max(t[1],n[1]),e}function ke(e,t){var n={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(n.next=t.next,n.prev=t,t.next.prev=n,t.next=n):(n.prev=n,n.next=n),n}function Ce(e,t){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function Se(e,t,n){var r=t[0],i=t[1],a=n[0]-r,o=n[1]-i;if(0!==a||0!==o){var s=((e[0]-r)*a+(e[1]-i)*o)/(a*a+o*o);s>1?(r=n[0],i=n[1]):s>0&&(r+=a*s,i+=o*s)}return(a=e[0]-r)*a+(o=e[1]-i)*o}function Me(e,t,n,r,i,a,o,s){var u,l,c,h,f=n-e,d=r-t,p=o-i,m=s-a,g=e-i,v=t-a,y=f*f+d*d,_=f*p+d*m,b=p*p+m*m,w=f*g+d*v,x=p*g+m*v,k=y*b-_*_,C=k,S=k;0===k?(l=0,C=1,h=x,S=b):(h=y*x-_*w,(l=_*x-b*w)<0?(l=0,h=x,S=b):l>C&&(l=C,h=x+_,S=b)),h<0?(h=0,-w<0?l=0:-w>y?l=C:(l=-w,C=y)):h>S&&(h=S,-w+_<0?l=0:-w+_>y?l=C:(l=-w+_,C=y));var M=(1-(c=0===h?0:h/S))*i+c*o-((1-(u=0===l?0:l/C))*e+u*n),E=(1-c)*a+c*s-((1-u)*t+u*r);return M*M+E*E}function Ee(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.concavity||1/0,r=[];if(E(e,function(e){r.push([e[0],e[1]])}),!r.length)return null;var i=Ja(r,n);return i.length>3?a([i]):null}function Te(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var i,a,o=U(e),s=V(t),u=t.bbox;if(u&&0==((a=u)[0]<=(i=o)[0]&&a[1]<=i[1]&&a[2]>=i[0]&&a[3]>=i[1]))return!1;"Polygon"===(t.geometry?t.geometry.type:t.type)&&(s=[s]);for(var l=0,c=!1;l<s.length&&!c;l++)if(Le(o,s[l][0],r)){for(var h=!1,f=1;f<s[l].length&&!h;)Le(o,s[l][f],!r)&&(h=!0),f++;h||(c=!0)}return c}function Le(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,a=t.length-1;i<t.length;a=i++){var o=t[i][0],s=t[i][1],u=t[a][0],l=t[a][1];if(e[1]*(o-u)+s*(u-e[0])+l*(e[0]-o)==0&&(o-e[0])*(u-e[0])<=0&&(s-e[1])*(l-e[1])<=0)return!n;s>e[1]!=l>e[1]&&e[0]<(u-o)*(e[1]-s)/(l-s)+o&&(r=!r)}return r}function Ie(e,t){var n=[];return O(t,function(t){D(e,function(e){Te(e,t)&&n.push(e)})}),l(n)}function De(e,t){if("FeatureCollection"!==e.type)throw new Error("points must be a FeatureCollection");var n=!1;return l(function(e){if(e.length<3)return[];e.sort(Pe);for(var t,n,r,i=e.length-1,a=e[i].x,o=e[0].x,s=e[i].y,u=s;i--;)e[i].y<s&&(s=e[i].y),e[i].y>u&&(u=e[i].y);var l,c=o-a,h=u-s,f=c>h?c:h,d=.5*(o+a),p=.5*(u+s),m=[new Ae({x:d-20*f,y:p-f,__sentinel:!0},{x:d,y:p+20*f,__sentinel:!0},{x:d+20*f,y:p-f,__sentinel:!0})],g=[],v=[];for(i=e.length;i--;){for(v.length=0,l=m.length;l--;)(c=e[i].x-m[l].x)>0&&c*c>m[l].r?(g.push(m[l]),m.splice(l,1)):c*c+(h=e[i].y-m[l].y)*h>m[l].r||(v.push(m[l].a,m[l].b,m[l].b,m[l].c,m[l].c,m[l].a),m.splice(l,1));for(Oe(v),l=v.length;l;)n=v[--l],t=v[--l],r=e[i],Math.abs(2*((n.x-t.x)*(r.y-n.y)-(n.y-t.y)*(r.x-n.x)))>1e-12&&m.push(new Ae(t,n,r))}for(Array.prototype.push.apply(g,m),i=g.length;i--;)(g[i].a.__sentinel||g[i].b.__sentinel||g[i].c.__sentinel)&&g.splice(i,1);return g}(e.features.map(function(e){var r={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?r.z=e.properties[t]:3===e.geometry.coordinates.length&&(n=!0,r.z=e.geometry.coordinates[2]),r})).map(function(e){var t=[e.a.x,e.a.y],r=[e.b.x,e.b.y],i=[e.c.x,e.c.y],o={};return n?(t.push(e.a.z),r.push(e.b.z),i.push(e.c.z)):o={a:e.a.z,b:e.b.z,c:e.c.z},a([[t,r,i,t]],o)}))}function Ae(e,t,n){this.a=e,this.b=t,this.c=n;var r,i,a=t.x-e.x,o=t.y-e.y,s=n.x-e.x,u=n.y-e.y,l=a*(e.x+t.x)+o*(e.y+t.y),c=s*(e.x+n.x)+u*(e.y+n.y),h=2*(a*(n.y-t.y)-o*(n.x-t.x));this.x=(u*l-o*c)/h,this.y=(a*c-s*l)/h,this.r=(r=this.x-e.x)*r+(i=this.y-e.y)*i}function Pe(e,t){return t.x-e.x}function Oe(e){var t,n,r,i,a,o=e.length;e:for(;o;)for(n=e[--o],t=e[--o],r=o;r;)if(a=e[--r],t===(i=e[--r])&&n===a||t===a&&n===i){e.splice(o,2),e.splice(r,2),o-=2;continue e}}function Ne(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=U(e),a=U(t),o=b(a[1]-i[1]),s=b(a[0]-i[0]),u=b(i[1]),l=b(a[1]),c=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(u)*Math.cos(l);return m(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r)}function Re(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return Fe(e);case"FeatureCollection":return t=e,n={type:"FeatureCollection"},Object.keys(t).forEach(function(e){switch(e){case"type":case"features":return;default:n[e]=t[e]}}),n.features=t.features.map(function(e){return Fe(e)}),n;case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return ze(e);default:throw new Error("unknown GeoJSON type")}var t,n}function Fe(e){var t={type:"Feature"};return Object.keys(e).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}}),t.properties=Ye(e.properties),t.geometry=ze(e.geometry),t}function Ye(e){var t={};return e&&Object.keys(e).forEach(function(n){var r=e[n];t[n]="object"==typeof r?null===r?null:r.length?r.map(function(e){return e}):Ye(r):r}),t}function ze(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map(function(e){return ze(e)}),t):(t.coordinates=je(e.coordinates),t)}function je(e){return"object"!=typeof e[0]?e.slice():e.map(function(e){return je(e)})}function Be(e,t){function n(e,t){t.length&&t.pop();for(var n=u[e<0?~e:e],r=0,i=n.length;r<i;++r)t.push(s(n[r],r));e<0&&eo(t,i)}function r(e){return s(e)}function i(e){for(var t=[],r=0,i=e.length;r<i;++r)n(e[r],t);return t.length<2&&t.push(t[0]),t}function a(e){for(var t=i(e);t.length<4;)t.push(t[0]);return t}function o(e){return e.map(a)}var s=Qa(e.transform),u=e.arcs;return function e(t){var n,a=t.type;switch(a){case"GeometryCollection":return{type:a,geometries:t.geometries.map(e)};case"Point":n=r(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(r);break;case"LineString":n=i(t.arcs);break;case"MultiLineString":n=t.arcs.map(i);break;case"Polygon":n=o(t.arcs);break;case"MultiPolygon":n=t.arcs.map(o);break;default:return null}return{type:a,coordinates:n}}(t)}function He(e,t){function n(e){e.forEach(function(t){t.forEach(function(t){(i[t=t<0?~t:t]||(i[t]=[])).push(e)})}),a.push(e)}function r(t){return function(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)a+=(t=i)[0]*(i=e[n])[1]-t[1]*i[0];return Math.abs(a)}(Be(e,{type:"Polygon",arcs:[t]}).coordinates[0])}var i={},a=[],o=[];return t.forEach(function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":n(t.arcs);break;case"MultiPolygon":t.arcs.forEach(n)}}),a.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,o.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){i[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),a.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:o.map(function(t){var n,a=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){i[e<0?~e:e].length<2&&a.push(e)})})}),(n=(a=to(e,a)).length)>1)for(var o,s,u=1,l=r(a[0]);u<n;++u)(o=r(a[u]))>l&&(s=a[0],a[0]=a[u],a[u]=s,l=o);return a})}}function Ue(e,t,n){for(var r,i=t+(n---t>>1);t<i;++t,--n)r=e[t],e[t]=e[n],e[n]=r}function Ve(e){return null==e?{type:null}:("FeatureCollection"===e.type?function(e){var t={type:"GeometryCollection",geometries:e.features.map(Ge)};return null!=e.bbox&&(t.bbox=e.bbox),t}:"Feature"===e.type?Ge:qe)(e)}function Ge(e){var t,n=qe(e.geometry);for(t in null!=e.id&&(n.id=e.id),null!=e.bbox&&(n.bbox=e.bbox),e.properties){n.properties=e.properties;break}return n}function qe(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(qe)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}function We(e){var t,n=e[0],r=e[1];return r<n&&(t=n,n=r,r=t),n+31*r}function $e(e,t){var n,r=e[0],i=e[1],a=t[0],o=t[1];return i<r&&(n=r,r=i,i=n),o<a&&(n=a,a=o,o=n),r===a&&i===o}function Xe(e){return e[0].toString()+","+e[1].toString()}function Ze(e,n){var r="object"==typeof n?n.mutate:n;if(!e)throw new Error("geojson is required");var i=J(e),a=[];switch(i){case"LineString":a=Je(e);break;case"MultiLineString":case"Polygon":V(e).forEach(function(e){a.push(Je(e))});break;case"MultiPolygon":V(e).forEach(function(e){var t=[];e.forEach(function(e){t.push(Je(e))}),a.push(t)});break;case"Point":return e;case"MultiPoint":var o={};V(e).forEach(function(e){var t=e.join("-");o.hasOwnProperty(t)||(a.push(e),o[t]=!0)});break;default:throw new Error(i+" geometry not supported")}return e.coordinates?!0===r?(e.coordinates=a,e):{type:i,coordinates:a}:!0===r?(e.geometry.coordinates=a,e):t({type:i,coordinates:a},e.properties,e.bbox)}function Je(e){var t,n,r=V(e);if(2===r.length&&((t=r[0])[0]!==(n=r[1])[0]||t[1]!==n[1]))return r;var i,a,o=[],s=r.length-1;o.push(r[0]);for(var u=1;u<s;u++)(function(e,t,n){var r=n[0],i=n[1],a=e[0],o=e[1],s=t[0],u=t[1],l=s-a,c=u-o;return(r-a)*c-(i-o)*l==0&&(Math.abs(l)>=Math.abs(c)?l>0?a<=r&&r<=s:s<=r&&r<=a:c>0?o<=i&&i<=u:u<=i&&i<=o)})(r[u-1],a=r[u+1],i=r[u])||o.push(i);return o.push(a),o}function Ke(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Qe(e,t,n){var r=t.x,i=t.y,a=n.x-r,o=n.y-i;if(0!==a||0!==o){var s=((e.x-r)*a+(e.y-i)*o)/(a*a+o*o);s>1?(r=n.x,i=n.y):s>0&&(r+=a*s,i+=o*s)}return(a=e.x-r)*a+(o=e.y-i)*o}function et(e,t,n,r,i){for(var a,o=r,s=t+1;s<n;s++){var u=Qe(e[s],e[t],e[n]);u>o&&(a=s,o=u)}o>r&&(a-t>1&&et(e,t,a,r,i),i.push(e[a]),n-a>1&&et(e,a,n,r,i))}function tt(e,t,n){if(e.length<=2)return e;var r,i,a,o=void 0!==t?t*t:1;return et(r=e=n?e:function(e,t){for(var n,r=e[0],i=[r],a=1,o=e.length;a<o;a++)Ke(n=e[a],r)>t&&(i.push(n),r=n);return r!==n&&i.push(n),i}(e,o),0,i=r.length-1,o,a=[r[0]]),a.push(r[i]),a}function nt(e,t,n){return tt(e.map(function(e){return{x:e[0],y:e[1],z:e[2]}}),t,n).map(function(e){return e.z?[e.x,e.y,e.z]:[e.x,e.y]})}function rt(e,t,n){return e.map(function(e){var r,i=e.map(function(e){return{x:e[0],y:e[1]}});if(i.length<4)throw new Error("invalid polygon");for(var a=tt(i,t,n).map(function(e){return[e.x,e.y]});(r=a).length<3||3===r.length&&r[2][0]===r[0][0]&&r[2][1]===r[0][1];)a=tt(i,t-=.01*t,n).map(function(e){return[e.x,e.y]});return a[a.length-1][0]===a[0][0]&&a[a.length-1][1]===a[0][1]||a.push(a[0]),a})}function it(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.resolution||1e4,r=t.sharpness||.85;if(!e)throw new Error("line is required");if(!k(n))throw new Error("resolution must be an number");if(!k(r))throw new Error("sharpness must be an number");for(var i=[],a=new co({points:X(e).coordinates.map(function(e){return{x:e[0],y:e[1]}}),duration:n,sharpness:r}),o=0;o<a.duration;o+=10){var u=a.pos(o);Math.floor(o/100)%2==0&&i.push([u.x,u.y])}return s(i,e.properties)}function at(e){S(e);var t=Number(e[0]),n=Number(e[1]),r=Number(e[2]),i=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var o=[t,n];return a([[o,[r,n],[r,i],[t,i],o]])}function ot(e){return at(H(e))}function st(e){var t=e[0],n=e[1],r=e[2],i=e[3];if(Ne(e.slice(0,2),[r,n])>=Ne(e.slice(0,2),[t,i])){var a=(n+i)/2;return[t,a-(r-t)/2,r,a+(r-t)/2]}var o=(t+r)/2;return[o-(i-n)/2,n,o+(i-n)/2,i]}function ut(e,t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var a=i.units,o=i.properties,s=U(e),u=b(s[0]),l=b(s[1]),c=b(n),h=g(t,a),f=Math.asin(Math.sin(l)*Math.cos(h)+Math.cos(l)*Math.sin(h)*Math.cos(c));return r([_(u+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(l),Math.cos(h)-Math.sin(l)*Math.sin(f))),_(f)],o)}function lt(e,t,n){var r=(n=n||{}).steps||64,i=n.properties;if(!e)throw new Error("center is required");if(!t)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||e.properties||{};for(var o=[],s=0;s<r;s++)o.push(ut(e,t,-360*s/r,n).geometry.coordinates);return o.push(o[0]),a([o],i)}function ct(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return(ct(t,e)+180)%360;var r=U(e),i=U(t),a=b(r[0]),o=b(i[0]),s=b(r[1]),u=b(i[1]),l=Math.sin(o-a)*Math.cos(u),c=Math.cos(s)*Math.sin(u)-Math.sin(s)*Math.cos(u)*Math.cos(o-a);return _(Math.atan2(l,c))}function ht(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.properties;if(!e)throw new Error("geojson is required");var i=H(e);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function ft(e,t){var n=0,i=0,a=0;return E(e,function(e){n+=e[0],i+=e[1],a++},!0),r([n/a,i/a],t)}function dt(e){var t=[];return"FeatureCollection"===e.type?D(e,function(e){E(e,function(n){t.push(r(n,e.properties))})}):E(e,function(n){t.push(r(n,e.properties))}),l(t)}function pt(e,t,n){n=n||2;var r,i,a,o,s,u,l,c=t&&t.length,h=c?t[0]*n:e.length,f=mt(e,0,h,n,!0),d=[];if(!f)return d;if(c&&(f=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=mt(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(function(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}(o));for(s.sort(yt),i=0;i<s.length;i++)(function(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&bt(a<h?i:o,a,c,h,a<h?o:i,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&Ct(r,e)&&(n=r,f=u),r=r.next;return n}(e,t)){var n=St(t,e);gt(n,n.next)}})(s[i],n),n=gt(n,n.next);return n}(e,t,f,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<h;p+=n)(s=e[p])<r&&(r=s),(u=e[p+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-i))?1/l:0}return vt(f,d,n,r,i,l),d}function mt(e,t,n,r,i){var a,o;if(i===Lt(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Mt(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Mt(a,e[a],e[a+1],o);return o&&xt(o,o.next)&&(Et(o),o=o.next),o}function gt(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!xt(r,r.next)&&0!==wt(r.prev,r,r.next))r=r.next;else{if(Et(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function vt(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=_t(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?function(e,t,n,r){var i=e.prev,a=e,o=e.next;if(wt(i,a,o)>=0)return!1;for(var s=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,l=_t(i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,t,n,r),c=_t(s,u,t,n,r),h=e.nextZ;h&&h.z<=c;){if(h!==e.prev&&h!==e.next&&bt(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&wt(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=e.prevZ;h&&h.z>=l;){if(h!==e.prev&&h!==e.next&&bt(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&wt(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}(e,r,i,a):function(e){var t=e.prev,n=e,r=e.next;if(wt(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(bt(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&wt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Et(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?vt(e=function(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!xt(i,a)&&kt(i,r,r.next,a)&&Ct(i,a)&&Ct(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Et(r),Et(r.next),r=e=a),r=r.next}while(r!==e);return r}(e,t,n),t,n,r,i,a,2):2===o&&function(e,t,n,r,i,a){var o,s,u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&(o=u).next.i!==(s=l).i&&o.prev.i!==s.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&kt(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(o,s)&&Ct(o,s)&&Ct(s,o)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(o,s)){var c=St(u,l);return u=gt(u,u.next),c=gt(c,c.next),vt(u,t,n,r,i,a),void vt(c,t,n,r,i,a)}l=l.next}u=u.next}while(u!==e)}(e,t,n,r,i,a):vt(gt(e),t,n,r,i,a,1);break}}}function yt(e,t){return e.x-t.x}function _t(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function bt(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function wt(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function xt(e,t){return e.x===t.x&&e.y===t.y}function kt(e,t,n,r){return!!(xt(e,t)&&xt(n,r)||xt(e,r)&&xt(n,t))||wt(e,t,n)>0!=wt(e,t,r)>0&&wt(n,r,e)>0!=wt(n,r,t)>0}function Ct(e,t){return wt(e.prev,e,e.next)<0?wt(e,t,e.next)>=0&&wt(e,e.prev,t)>=0:wt(e,t,e.prev)<0||wt(e,e.next,t)<0}function St(e,t){var n=new Tt(e.i,e.x,e.y),r=new Tt(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Mt(e,t,n,r){var i=new Tt(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Et(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Tt(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lt(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function It(e){var t=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&n.holes.push(r+=e[i-1].length)}return n}(e),n=ho(t.vertices,t.holes,2),r=[],i=[];n.forEach(function(e,r){var a=n[r];i.push([t.vertices[2*a],t.vertices[2*a+1]])});for(var o=0;o<i.length;o+=3){var s=i.slice(o,o+3);s.push(i[o]),r.push(a([s]))}return r}function Dt(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var n,r=1/0;return D(t,function(t,i){var a=Ne(e,t);a<r&&((n=Re(t)).properties.featureIndex=i,n.properties.distanceToPoint=a,r=a)}),n}function At(e,t,n,r,i){Pt(e,t,n||0,r||e.length-1,i||function(e,t){return e<t?-1:e>t?1:0})}function Pt(e,t,n,r,i){for(;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,s=Math.log(a),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(a-u)/a)*(o-a/2<0?-1:1);Pt(e,t,Math.max(n,Math.floor(t-o*u/a+l)),Math.min(r,Math.floor(t+(a-o)*u/a+l)),i)}var c=e[t],h=n,f=r;for(Ot(e,n,t),i(e[r],c)>0&&Ot(e,n,r);h<f;){for(Ot(e,h,f),h++,f--;i(e[h],c)<0;)h++;for(;i(e[f],c)>0;)f--}0===i(e[n],c)?Ot(e,n,f):Ot(e,++f,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function Ot(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Nt(e,t){if(!(this instanceof Nt))return new Nt(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function Rt(e,t){Ft(e,0,e.children.length,t,e)}function Ft(e,t,n,r,i){i||(i=Gt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,o=t;o<n;o++)a=e.children[o],Yt(i,e.leaf?r(a):a);return i}function Yt(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function zt(e,t){return e.minX-t.minX}function jt(e,t){return e.minY-t.minY}function Bt(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Ht(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Ut(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Vt(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Gt(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function qt(e,t,n,r,i){for(var a,o=[t,n];o.length;)(n=o.pop())-(t=o.pop())<=r||(At(e,a=t+Math.ceil((n-t)/r/2)*r,t,n,i),o.push(t,a,a,n))}function Wt(e){var t=Nt(e);return t.insert=function(e){if(Array.isArray(e)){var t=e;(e=$t(t)).bbox=t}else e.bbox=e.bbox?e.bbox:Xt(e);return Nt.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach(function(e){var n=$t(e);n.bbox=e,t.push(n)}):D(e,function(e){e.bbox=e.bbox?e.bbox:Xt(e),t.push(e)}),Nt.prototype.load.call(this,t)},t.remove=function(e){if(Array.isArray(e)){var t=e;(e=$t(t)).bbox=t}return Nt.prototype.remove.call(this,e)},t.clear=function(){return Nt.prototype.clear.call(this)},t.search=function(e){return{type:"FeatureCollection",features:Nt.prototype.search.call(this,this.toBBox(e))}},t.collides=function(e){return Nt.prototype.collides.call(this,this.toBBox(e))},t.all=function(){return{type:"FeatureCollection",features:Nt.prototype.all.call(this)}},t.toJSON=function(){return Nt.prototype.toJSON.call(this)},t.fromJSON=function(e){return Nt.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;return{minX:(t=e.bbox?e.bbox:Array.isArray(e)&&4===e.length?e:Xt(e))[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}function $t(e){var t=[e[0],e[1]];return{type:"Feature",bbox:e,properties:{},geometry:{type:"Polygon",coordinates:[[t,[e[2],e[1]],[e[2],e[3]],[e[0],e[3]],t]]}}}function Xt(e){var t=[1/0,1/0,-1/0,-1/0];return E(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}function Zt(e){if(!e)throw new Error("geojson is required");var t=[];return R(e,function(e){!function(e,t){var n=[],r=e.geometry;switch(r.type){case"Polygon":n=V(r);break;case"LineString":n=[V(r)]}n.forEach(function(n){var r,i;(r=e.properties,i=[],n.reduce(function(e,t){var n,a,o,u,l,c,h=s([e,t],r);return h.bbox=[(o=(n=e)[0])<(l=(a=t)[0])?o:l,(u=n[1])<(c=a[1])?u:c,o>l?o:l,u>c?u:c],i.push(h),t}),i).forEach(function(e){e.id=t.length,t.push(e)})})}(e,t)}),l(t)}function Jt(e,n){var r={},i=[];if("LineString"===e.type&&(e=t(e)),"LineString"===n.type&&(n=t(n)),"Feature"===e.type&&"Feature"===n.type&&"LineString"===e.geometry.type&&"LineString"===n.geometry.type&&2===e.geometry.coordinates.length&&2===n.geometry.coordinates.length){var a=Kt(e,n);return a&&i.push(a),l(i)}var o=Wt();return o.load(Zt(n)),D(Zt(e),function(e){D(o.search(e),function(t){var n=Kt(e,t);if(n){var a=V(n).join(",");r[a]||(r[a]=!0,i.push(n))}})}),l(i)}function Kt(e,t){var n=V(e),i=V(t);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var a=n[0][0],o=n[0][1],s=n[1][0],u=n[1][1],l=i[0][0],c=i[0][1],h=i[1][0],f=i[1][1],d=(f-c)*(s-a)-(h-l)*(u-o);if(0===d)return null;var p=((h-l)*(o-c)-(f-c)*(a-l))/d,m=((s-a)*(o-c)-(u-o)*(a-l))/d;return p>=0&&p<=1&&m>=0&&m<=1?r([a+p*(s-a),o+p*(u-o)]):null}function Qt(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=e.geometry?e.geometry.type:e.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var a=r([1/0,1/0],{dist:1/0}),o=0;return R(e,function(e){for(var i=V(e),u=0;u<i.length-1;u++){var l=r(i[u]);l.properties.dist=Ne(t,l,n);var c=r(i[u+1]);c.properties.dist=Ne(t,c,n);var h=Ne(l,c,n),f=Math.max(l.properties.dist,c.properties.dist),d=ct(l,c),p=ut(t,f,d+90,n),m=ut(t,f,d-90,n),g=Jt(s([p.geometry.coordinates,m.geometry.coordinates]),s([l.geometry.coordinates,c.geometry.coordinates])),v=null;g.features.length>0&&((v=g.features[0]).properties.dist=Ne(t,v,n),v.properties.location=o+Ne(l,v,n)),l.properties.dist<a.properties.dist&&((a=l).properties.index=u,a.properties.location=o),c.properties.dist<a.properties.dist&&((a=c).properties.index=u+1,a.properties.location=o+h),v&&v.properties.dist<a.properties.dist&&((a=v).properties.index=u),o+=h}}),a}function en(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.final;if(!e)throw new Error("start point is required");if(!t)throw new Error("end point is required");return(r=i?tn(U(t),U(e)):tn(U(e),U(t)))>180?-(360-r):r}function tn(e,t){var n=b(e[1]),r=b(t[1]),i=b(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var a=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(_(Math.atan2(i,a))+360)%360}function nn(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!e)throw new Error("from point is required");if(!t)throw new Error("to point is required");var i=U(e),a=U(t);return a[0]+=a[0]-i[0]>180?-360:i[0]-a[0]>180?360:0,w(function(e,t,n){var r=n=void 0===n?Ea:Number(n),i=e[1]*Math.PI/180,a=t[1]*Math.PI/180,o=a-i,s=Math.abs(t[0]-e[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var u=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(u)>1e-11?o/u:Math.cos(i);return Math.sqrt(o*o+l*l*s*s)*r}(i,a),"meters",r)}function rn(e,t){return on(e,"mercator",t)}function an(e,t){return on(e,"wgs84",t)}function on(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&k(e[0])?e="mercator"===t?sn(e):un(e):(!0!==r&&(e=Re(e)),E(e,function(e){var n="mercator"===t?sn(e):un(e);e[0]=n[0],e[1]=n[1]})),e}function sn(e){var t,n=Math.PI/180,r=20037508.342789244,i=[6378137*(Math.abs(e[0])<=180?e[0]:e[0]-360*(t=e[0],t<0?-1:t>0?1:0))*n,6378137*Math.log(Math.tan(.25*Math.PI+.5*e[1]*n))];return i[0]>r&&(i[0]=r),i[0]<-r&&(i[0]=-r),i[1]>r&&(i[1]=r),i[1]<-r&&(i[1]=-r),i}function un(e){var t=180/Math.PI;return[e[0]*t/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/6378137)))*t]}function ln(e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!e)throw new Error("pt is required");if(Array.isArray(e)?e=r(e):"Point"===e.type?e=t(e):W(e,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=s(n):"LineString"===n.type?n=t(n):W(n,"LineString","line");var a=1/0,o=e.geometry.coordinates;return Y(n,function(e){var t=function(e,t,n,i){var a=i.mercator,o=!0!==a?Ne(t,e,i):cn(t,e,i),s=y(!0!==a?ct(t,e):en(t,e)),u=y(!0!==a?ct(t,n):en(t,n)),l=Math.abs(s-u);if(l>90)return o;var c=(u+180)%360,h=y(!0!==a?ct(n,e):en(n,e)),f=Math.abs(h-c);return f>180&&(f=Math.abs(f-360)),f>90?!0!==a?Ne(e,n,i):cn(e,n,i):!0!==a?o*Math.sin(b(l)):function(e,t,n,i){var a=0;(Math.abs(e[0])>=180||Math.abs(t[0])>=180||Math.abs(n[0])>=180)&&(a=e[0]>0||t[0]>0||n[0]>0?-180:180);var o,s,u,l,c,h,f,d,p=r(n),m=rn([e[0]+a,e[1]]),g=rn([t[0]+a,t[1]]),v=rn([n[0]+a,n[1]]),y=an([(l=(o=m)[0])+(d=(((u=v)[0]-l)*(h=(s=g)[0]-l)+(u[1]-(c=o[1]))*(f=s[1]-c))/(h*h+f*f))*h,c+d*f]);return 0!==a&&(y[0]-=a),nn(p,y,i)}(t,n,e,i)}(o,e.geometry.coordinates[0],e.geometry.coordinates[1],i);a>t&&(a=t)}),a}function cn(e,t,n){var r=n.units,i=0;Math.abs(e[0])>=180&&(i=e[0]>0?-180:180),Math.abs(t[0])>=180&&(i=t[0]>0?-180:180);var a=rn([e[0]+i,e[1]]),o=rn([t[0]+i,t[1]]),s=function(e){return e*e},u=s(a[0]-o[0])+s(a[1]-o[1]);return w(Math.sqrt(u),"meters",r)}function hn(e){for(var n="FeatureCollection"!==(p=e).type?l("Feature"!==p.type?[t(p)]:[p]):p,i=ht(n),a=!1,o=0;!a&&o<n.features.length;){var s,u=n.features[o].geometry,c=!1;if("Point"===u.type)i.geometry.coordinates[0]===u.coordinates[0]&&i.geometry.coordinates[1]===u.coordinates[1]&&(a=!0);else if("MultiPoint"===u.type){var h=!1;for(s=0;!h&&s<u.coordinates.length;)i.geometry.coordinates[0]===u.coordinates[s][0]&&i.geometry.coordinates[1]===u.coordinates[s][1]&&(a=!0,h=!0),s++}else if("LineString"===u.type)for(s=0;!c&&s<u.coordinates.length-1;)fn(i.geometry.coordinates[0],i.geometry.coordinates[1],u.coordinates[s][0],u.coordinates[s][1],u.coordinates[s+1][0],u.coordinates[s+1][1])&&(c=!0,a=!0),s++;else if("MultiLineString"===u.type)for(var f=0;f<u.coordinates.length;){c=!1,s=0;for(var d=u.coordinates[f];!c&&s<d.length-1;)fn(i.geometry.coordinates[0],i.geometry.coordinates[1],d[s][0],d[s][1],d[s+1][0],d[s+1][1])&&(c=!0,a=!0),s++;f++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||Te(i,u)&&(a=!0);o++}var p;if(a)return i;var m=l([]);for(o=0;o<n.features.length;o++)m.features=m.features.concat(dt(n.features[o]).features);return r(Dt(i,m).geometry.coordinates)}function fn(e,t,n,r,i,a){return Math.sqrt((i-n)*(i-n)+(a-r)*(a-r))===Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))+Math.sqrt((i-e)*(i-e)+(a-t)*(a-t))}function dn(e){return N(e,function(e,t){return e+pn(t)},0)}function pn(e){var t,n=0;switch(e.type){case"Polygon":return mn(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=mn(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<e.geometries.length;t++)n+=pn(e.geometries[t]);return n}}function mn(e){var t=0;if(e&&e.length>0){t+=Math.abs(gn(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(gn(e[n]))}return t}function gn(e){var t,n,r,i,a,o,s=0,u=e.length;if(u>2){for(o=0;o<u;o++)o===u-2?(r=u-2,i=u-1,a=0):o===u-1?(r=u-1,i=0,a=1):(r=o,i=o+1,a=o+2),t=e[r],n=e[i],s+=(vn(e[a][0])-vn(t[0]))*Math.sin(vn(n[1]));s=s*mo*mo/2}return s}function vn(e){return e*Math.PI/180}function yn(e,t){if(!C(t=t||{}))throw new Error("options is invalid");if(!e)throw new Error("geojson is required");return z(e,function(e,n){var r=n.geometry.coordinates;return e+Ne(r[0],r[1],t)},0)}function _n(e,t,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i,a=[];if("Feature"===e.type)i=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");i=e.coordinates}for(var o,u,l,c=0,h=0;h<i.length&&!(t>=c&&h===i.length-1);h++){if(c>t&&0===a.length){if(!(o=t-c))return a.push(i[h]),s(a);u=ct(i[h],i[h-1])-180,l=ut(i[h],o,u,r),a.push(l.geometry.coordinates)}if(c>=n)return(o=n-c)?(u=ct(i[h],i[h-1])-180,l=ut(i[h],o,u,r),a.push(l.geometry.coordinates),s(a)):(a.push(i[h]),s(a));if(c>=t&&a.push(i[h]),h===i.length-1)return s(a);c+=Ne(i[h],i[h+1],r)}return s(i[i.length-1])}function bn(e,t,n){var r,i,a,o,s,u,l,c,h,f,d,p,m=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!e)throw new Error("pt is required");if(!t)throw new Error("line is required");for(var g=U(e),v=V(t),y=0;y<v.length-1;y++){var _=!1;if(m&&(0===y&&(_="start"),y===v.length-2&&(_="end"),0===y&&y+1===v.length-1&&(_="both")),o=_,s=(a=g)[0],u=a[1],(a[0]-(l=(r=v[y])[0]))*(p=(f=(i=v[y+1])[1])-(c=r[1]))-(a[1]-c)*(d=(h=i[0])-l)==0&&(o?"start"===o?Math.abs(d)>=Math.abs(p)?d>0?l<s&&s<=h:h<=s&&s<l:p>0?c<u&&u<=f:f<=u&&u<c:"end"===o?Math.abs(d)>=Math.abs(p)?d>0?l<=s&&s<h:h<s&&s<=l:p>0?c<=u&&u<f:f<u&&u<=c:"both"===o?Math.abs(d)>=Math.abs(p)?d>0?l<s&&s<h:h<s&&s<l:p>0?c<u&&u<f:f<u&&u<c:void 0:Math.abs(d)>=Math.abs(p)?d>0?l<=s&&s<=h:h<=s&&s<=l:p>0?c<=u&&u<=f:f<=u&&u<=c))return!0}return!1}function wn(e,t){var n=J(e),r=J(t),i=X(e),a=X(t);switch(n){case"Point":switch(r){case"MultiPoint":return function(e,t){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(kn(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,a);case"LineString":return bn(i,a,{ignoreEndVertices:!0});case"Polygon":return Te(i,a,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(e,t){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)kn(e.coordinates[n],t.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,a);case"LineString":return function(e,t){for(var n=!1,r=0;r<e.coordinates.length;r++){if(!bn(e.coordinates[r],t))return!1;n||(n=bn(e.coordinates[r],t,{ignoreEndVertices:!0}))}return n}(i,a);case"Polygon":return function(e,t){for(var n=!0,r=0;r<e.coordinates.length;r++){var i=Te(e.coordinates[1],t);if(!i){n=!1;break}i=Te(e.coordinates[1],t,{ignoreBoundary:!0})}return n&&i}(i,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(e,t){for(var n=0;n<e.coordinates.length;n++)if(!bn(e.coordinates[n],t))return!1;return!0}(i,a);case"Polygon":return function(e,t){var n,r;if(!xn(H(t),H(e)))return!1;for(var i=!1,a=0;a<e.coordinates.length-1;a++){if(!Te(e.coordinates[a],t))return!1;i||(i=Te(e.coordinates[a],t,{ignoreBoundary:!0})),i||(i=Te([((n=e.coordinates[a])[0]+(r=e.coordinates[a+1])[0])/2,(n[1]+r[1])/2],t,{ignoreBoundary:!0}))}return i}(i,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(e,t){var n=H(e);if(!xn(H(t),n))return!1;for(var r=0;r<e.coordinates[0].length;r++)if(!Te(e.coordinates[0][r],t))return!1;return!0}(i,a);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function xn(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function kn(e,t){return e[0]===t[0]&&e[1]===t[1]}function Cn(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.mask,a=n.properties,o=[];if(null==t)throw new Error("cellSide is required");if(!k(t))throw new Error("cellSide is invalid");if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be array");if(4!==e.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(J(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e[0],u=e[1],c=e[2],h=e[3],f=t/Ne([s,u],[c,u],n)*(c-s),d=t/Ne([s,u],[s,h],n)*(h-u),p=c-s,m=h-u,g=Math.floor(p/f),v=(m-Math.floor(m/d)*d)/2,y=s+(p-g*f)/2;y<=c;){for(var _=u+v;_<=h;){var b=r([y,_],a);i?wn(b,i)&&o.push(b):o.push(b),_+=d}y+=f}return l(o)}function Sn(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.precision,r=t.coordinates,i=t.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!e)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(e=JSON.parse(JSON.stringify(e)));var a=Math.pow(10,n);return E(e,function(e){!function(e,t,n){e.length>n&&e.splice(n,e.length);for(var r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}(e,a,r)}),e}function Mn(e,t){if(!e||!t||e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!Mn(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function En(e,t){if(void 0===t&&(t=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==t}function Tn(e,t){if(!e||!t||e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!Tn(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function Ln(e,t){var n=[],r=Wt();return R(t,function(t){if(n.forEach(function(e,t){e.id=t}),n.length){var i=r.search(t);if(i.features.length){var a=Dn(t,i);n=n.filter(function(e){return e.id!==a.id}),r.remove(a),D(In(a,t),function(e){n.push(e),r.insert(e)})}}else(n=In(e,t).features).forEach(function(e){e.bbox||(e.bbox=st(H(e)))}),r.load(l(n))}),l(n)}function In(e,t){var n=[],r=V(e)[0],i=V(e)[e.geometry.coordinates.length-1];if(An(r,U(t))||An(i,U(t)))return l([e]);var a=Wt(),o=Zt(e);a.load(o);var u=a.search(t);if(!u.features.length)return l([e]);var c=Dn(t,u),h=A(o,function(e,r,i){var a=V(r)[1],o=U(t);return i===c.id?(e.push(o),n.push(s(e)),An(o,a)?[o]:[o,a]):(e.push(a),e)},[r]);return h.length>1&&n.push(s(h)),l(n)}function Dn(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var n,r=1/0;return D(t,function(t){var i=Qt(t,e).properties.dist;i<r&&(n=t,r=i)}),n}function An(e,t){return e[0]===t[0]&&e[1]===t[1]}function Pn(e,t,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");var a=i.steps,o=i.units;if(!e)throw new Error("center is required");if(!t)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");a=a||64;var u=On(n),l=On(r),c=e.properties;if(u===l)return s(lt(e,t,i).geometry.coordinates[0],c);for(var h=u,f=u<l?l:l+360,d=h,p=[],m=0;d<f;)p.push(ut(e,t,d,o).geometry.coordinates),d=h+360*++m/a;return d>f&&p.push(ut(e,t,f,o).geometry.coordinates),s(p,c)}function On(e){var t=e%360;return t<0&&(t+=360),t}function Nn(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.properties,r=J(e),i=V(e);if(n=n||e.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Rn(i,n);case"MultiPolygon":var a=[];return i.forEach(function(e){a.push(Rn(e,n))}),l(a);default:throw new Error("geom "+r+" not supported")}}function Rn(e,t){return e.length>1?c(e,t):s(e[0],t)}function Fn(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.properties,r=t.autoComplete,i=t.orderCoords;if(!e)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,J(e)){case"FeatureCollection":case"GeometryCollection":var a=[];return(e.features?e.features:e.geometries).forEach(function(e){a.push(V(Yn(e,{},r,i)))}),f(a,n)}return Yn(e,n,r,i)}function Yn(e,t,n,r){t=t||e.properties||{};var i=V(e),o=J(e);if(!i.length)throw new Error("line must contain coordinates");switch(o){case"LineString":return n&&(i=zn(i)),a([i],t);case"MultiLineString":var u=[],l=0;return i.forEach(function(e){if(n&&(e=zn(e)),r){var t=(a=(i=H(s(e)))[1],o=i[3],Math.abs(i[0]-i[2])*Math.abs(a-o));t>l?(u.unshift(e),l=t):u.push(e)}else u.push(e);var i,a,o}),a(u,t);default:throw new Error("geometry type "+o+" is not supported")}}function zn(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]||e.push(t),e}function jn(e,t,n){var r,i,a,o,s,u=e.length,l=Hn(e[0],t),c=[];for(n||(n=[]),r=1;r<u;r++){for(i=e[r-1],o=s=Hn(a=e[r],t);;){if(!(l|o)){c.push(i),o!==s?(c.push(a),r<u-1&&(n.push(c),c=[])):r===u-1&&c.push(a);break}if(l&o)break;l?l=Hn(i=Bn(i,a,l,t),t):o=Hn(a=Bn(i,a,o,t),t)}l=s}return c.length&&n.push(c),n}function Bn(e,t,n,r){return 8&n?[e[0]+(t[0]-e[0])*(r[3]-e[1])/(t[1]-e[1]),r[3]]:4&n?[e[0]+(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1]),r[1]]:2&n?[r[2],e[1]+(t[1]-e[1])*(r[2]-e[0])/(t[0]-e[0])]:1&n?[r[0],e[1]+(t[1]-e[1])*(r[0]-e[0])/(t[0]-e[0])]:null}function Hn(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function Un(e,t){for(var n=[],r=0;r<e.length;r++){var i=Co.polygon(e[r],t);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Vn(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function Gn(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?e===t:function(e,t,n){var r,i;if(qn(e)||qn(t)||e.prototype!==t.prototype)return!1;if(Vn(e))return!!Vn(t)&&Gn(e=So.call(e),t=So.call(t),n);if(Wn(e)){if(!Wn(t)||e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}try{var a=Object.keys(e),o=Object.keys(t)}catch(s){return!1}if(a.length!==o.length)return!1;for(a.sort(),o.sort(),r=a.length-1;r>=0;r--)if(a[r]!==o[r])return!1;for(r=a.length-1;r>=0;r--)if(!Gn(e[i=a[r]],t[i],n))return!1;return typeof e==typeof t}(e,t,n))}function qn(e){return null==e}function Wn(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}function $n(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,i=n.tolerance||0,a=[],o=Wt();return o.load(Zt(e)),Y(t,function(e){var t=!1;D(o.search(e),function(n){if(!1===t){var a=V(e).sort(),o=V(n).sort();Gn(a,o)||(0===i?bn(a[0],n)&&bn(a[1],n):Qt(n,a[0]).properties.dist<=i&&Qt(n,a[1]).properties.dist<=i)?(t=!0,r=r?Xn(r,e):e):(0===i?bn(o[0],e)&&bn(o[1],e):Qt(e,o[0]).properties.dist<=i&&Qt(e,o[1]).properties.dist<=i)&&(r=r?Xn(r,n):n)}}),!1===t&&r&&(a.push(r),r=void 0)}),r&&a.push(r),l(a)}function Xn(e,t){var n=V(t),r=V(e),i=r[0],a=r[r.length-1],o=e.geometry.coordinates;return Gn(n[0],i)?o.unshift(n[1]):Gn(n[0],a)?o.push(n[1]):Gn(n[1],i)?o.unshift(n[0]):Gn(n[1],a)&&o.push(n[0]),e}function Zn(e){var t=e%360;return t<0&&(t+=360),t}function Jn(e,t,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var a=i.units,o=i.properties;if(!e)throw new Error("origin is required");if(null==t)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(t>=0))throw new Error("distance must be greater than 0");var s=w(t,a,"meters"),u=U(e),l=function(e,t,n,r){var i=t/(r=void 0===r?Ea:Number(r)),a=e[0]*Math.PI/180,o=b(e[1]),s=b(n),u=i*Math.cos(s),l=o+u;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),h=Math.abs(c)>1e-11?u/c:Math.cos(o);return[(180*(a+i*Math.sin(s)/h)/Math.PI+540)%360-180,180*l/Math.PI]}(u,s,n);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,r(l,o)}function Kn(e,t,n,r,i,a){for(var o=0;o<e.length;o++){var s=e[o],u=e[o+1];o===e.length-1&&(u=e[0]),r=Qn(s,u,t),n<=0&&r>0?Qn(t,s,i)<0||(i=s):n>0&&r<=0&&(Qn(t,s,a)>0||(a=s)),n=r}return[i,a]}function Qn(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function er(e){if(!e)throw new Error("line is required");var t=e.geometry?e.geometry.type:e.type;if(!Array.isArray(e)&&"LineString"!==t)throw new Error("geometry must be a LineString");for(var n,r,i=V(e),a=0,o=1;o<i.length;)n=r||i[0],a+=((r=i[o])[0]-n[0])*(r[1]+n[1]),o++;return a>0}function tr(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return O(e,function(e){tr(e,t)}),e;case"LineString":return nr(V(e),t),e;case"Polygon":return rr(V(e),t),e;case"MultiLineString":return V(e).forEach(function(e){nr(e,t)}),e;case"MultiPolygon":return V(e).forEach(function(e){rr(e,t)}),e;case"Point":case"MultiPoint":return e}}function nr(e,t){er(e)===t&&e.reverse()}function rr(e,t){er(e[0])!==t&&e[0].reverse();for(var n=1;n<e.length;n++)er(e[n])===t&&e[n].reverse()}function ir(e,t,n,r){r=r||{};for(var i=Object.keys(Mo),a=0;a<i.length;a++){var o=i[a],s=r[o];Eo[o]=s=null!=s?s:Mo[o]}Eo.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+n)+"]");var u,l,c,h=function(e,t,n){for(var r=e.length-1,i=e[0].length-1,a={rows:r,cols:i,cells:[]},o=t+Math.abs(n),s=0;s<r;++s){a.cells[s]=[];for(var u=0;u<i;++u){var l=0,c=e[s+1][u],h=e[s+1][u+1],f=e[s][u+1],d=e[s][u];if(!(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(d))){l|=c<t?0:c>o?128:64,l|=h<t?0:h>o?32:16,l|=f<t?0:f>o?8:4;var p=+(l|=d<t?0:d>o?2:1),m=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var g=(c+h+f+d)/4;m=g>o?2:g<t?0:1,34===l?1===m?l=35:0===m&&(l=136):136===l?1===m?(l=35,m=4):0===m&&(l=34):17===l?1===m?(l=155,m=4):0===m&&(l=153):68===l?1===m?(l=103,m=4):0===m&&(l=102):153===l?1===m&&(l=155):102===l?1===m&&(l=103):152===l?m<2&&(l=156,m=1):137===l?m<2&&(l=139,m=1):98===l?m<2&&(l=99,m=1):38===l?m<2&&(l=39,m=1):18===l?m>0?(l=156,m=4):l=152:33===l?m>0?(l=139,m=4):l=137:72===l?m>0?(l=99,m=4):l=98:132===l&&(m>0?(l=39,m=4):l=38)}if(0!=l&&170!=l){var v,y,_,b,w,x,k,C;v=y=_=b=w=x=k=C=.5;var S=[];1===l?(_=1-ar(t,f,d),C=1-ar(t,c,d),S.push(ds[l])):169===l?(_=ar(o,d,f),C=ar(o,d,c),S.push(ds[l])):4===l?(x=1-ar(t,h,f),b=ar(t,d,f),S.push(hs[l])):166===l?(x=ar(o,f,h),b=1-ar(o,f,d),S.push(hs[l])):16===l?(w=ar(t,f,h),y=ar(t,c,h),S.push(cs[l])):154===l?(w=1-ar(o,h,f),y=1-ar(o,h,c),S.push(cs[l])):64===l?(k=ar(t,d,c),v=1-ar(t,h,c),S.push(ms[l])):106===l?(k=1-ar(o,c,d),v=ar(o,c,h),S.push(ms[l])):168===l?(b=ar(o,d,f),_=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),S.push(fs[l]),S.push(ds[l])):2===l?(b=1-ar(t,f,d),_=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),S.push(fs[l]),S.push(ds[l])):162===l?(w=ar(o,f,h),x=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),S.push(fs[l]),S.push(ds[l])):8===l?(w=1-ar(t,h,f),x=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),S.push(cs[l]),S.push(hs[l])):138===l?(w=1-ar(t,h,f),x=1-ar(o,h,f),v=1-ar(o,h,c),y=1-ar(t,h,c),S.push(cs[l]),S.push(hs[l])):32===l?(w=ar(o,f,h),x=ar(t,f,h),v=ar(t,c,h),y=ar(o,c,h),S.push(cs[l]),S.push(hs[l])):42===l?(C=1-ar(o,c,d),k=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h),S.push(ps[l]),S.push(ms[l])):128===l&&(C=ar(t,d,c),k=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c),S.push(ps[l]),S.push(ms[l])),5===l?(x=1-ar(t,h,f),C=1-ar(t,c,d),S.push(hs[l])):165===l?(x=ar(o,f,h),C=ar(o,d,c),S.push(hs[l])):20===l?(b=ar(t,d,f),y=ar(t,c,h),S.push(fs[l])):150===l?(b=1-ar(o,f,d),y=1-ar(o,h,c),S.push(fs[l])):80===l?(w=ar(t,f,h),k=ar(t,d,c),S.push(cs[l])):90===l?(w=1-ar(o,h,f),k=1-ar(o,c,d),S.push(cs[l])):65===l?(_=1-ar(t,f,d),v=1-ar(t,h,c),S.push(ds[l])):105===l?(_=ar(o,d,f),v=ar(o,c,h),S.push(ds[l])):160===l?(w=ar(o,f,h),x=ar(t,f,h),C=ar(t,d,c),k=ar(o,d,c),S.push(cs[l]),S.push(hs[l])):10===l?(w=1-ar(t,h,f),x=1-ar(o,h,f),C=1-ar(o,c,d),k=1-ar(t,c,d),S.push(cs[l]),S.push(hs[l])):130===l?(b=1-ar(t,f,d),_=1-ar(o,f,d),v=1-ar(o,h,c),y=1-ar(t,h,c),S.push(fs[l]),S.push(ds[l])):40===l?(b=ar(o,d,f),_=ar(t,d,f),v=ar(t,c,h),y=ar(o,c,h),S.push(fs[l]),S.push(ds[l])):101===l?(x=ar(o,f,h),v=ar(o,c,h),S.push(hs[l])):69===l?(x=1-ar(t,h,f),v=1-ar(t,h,c),S.push(hs[l])):149===l?(C=ar(o,d,c),y=1-ar(o,h,c),S.push(ps[l])):21===l?(C=1-ar(t,c,d),y=ar(t,c,h),S.push(ps[l])):86===l?(b=1-ar(o,f,d),k=1-ar(o,c,d),S.push(fs[l])):84===l?(b=ar(t,d,f),k=ar(t,d,c),S.push(fs[l])):89===l?(w=1-ar(o,h,f),_=ar(o,d,f),S.push(ds[l])):81===l?(w=ar(t,f,h),_=1-ar(t,f,d),S.push(ds[l])):96===l?(w=ar(o,f,h),x=ar(t,f,h),k=ar(t,d,c),v=ar(o,c,h),S.push(cs[l]),S.push(hs[l])):74===l?(w=1-ar(t,h,f),x=1-ar(o,h,f),k=1-ar(o,c,d),v=1-ar(t,h,c),S.push(cs[l]),S.push(hs[l])):24===l?(w=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),y=ar(t,c,h),S.push(cs[l]),S.push(ds[l])):146===l?(w=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),y=1-ar(o,h,c),S.push(cs[l]),S.push(ds[l])):6===l?(x=1-ar(t,h,f),b=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),S.push(hs[l]),S.push(fs[l])):164===l?(x=ar(o,f,h),b=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),S.push(hs[l]),S.push(fs[l])):129===l?(_=1-ar(t,f,d),C=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c),S.push(ds[l]),S.push(ps[l])):41===l?(_=ar(o,d,f),C=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h),S.push(ds[l]),S.push(ps[l])):66===l?(b=1-ar(t,f,d),_=1-ar(o,f,d),k=1-ar(o,c,d),v=1-ar(t,h,c),S.push(fs[l]),S.push(ds[l])):104===l?(b=ar(o,d,f),_=ar(t,d,f),k=ar(t,d,c),v=ar(o,c,h),S.push(ds[l]),S.push(gs[l])):144===l?(w=ar(t,f,h),C=ar(t,d,c),k=ar(o,d,c),y=1-ar(o,h,c),S.push(cs[l]),S.push(ms[l])):26===l?(w=1-ar(o,h,f),C=1-ar(o,c,d),k=1-ar(t,c,d),y=ar(t,c,h),S.push(cs[l]),S.push(ms[l])):36===l?(x=ar(o,f,h),b=ar(t,d,f),v=ar(t,c,h),y=ar(o,c,h),S.push(hs[l]),S.push(fs[l])):134===l?(x=1-ar(t,h,f),b=1-ar(o,f,d),v=1-ar(o,h,c),y=1-ar(t,h,c),S.push(hs[l]),S.push(fs[l])):9===l?(w=1-ar(t,h,f),x=1-ar(o,h,f),_=ar(o,d,f),C=1-ar(t,c,d),S.push(cs[l]),S.push(hs[l])):161===l?(w=ar(o,f,h),x=ar(t,f,h),_=1-ar(t,f,d),C=ar(o,d,c),S.push(cs[l]),S.push(hs[l])):37===l?(x=ar(o,f,h),C=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h),S.push(hs[l]),S.push(ps[l])):133===l?(x=1-ar(t,h,f),C=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c),S.push(hs[l]),S.push(ps[l])):148===l?(b=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),y=1-ar(o,h,c),S.push(fs[l]),S.push(ms[l])):22===l?(b=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),y=ar(t,c,h),S.push(fs[l]),S.push(ms[l])):82===l?(w=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),k=1-ar(o,c,d),S.push(cs[l]),S.push(ds[l])):88===l?(w=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),k=ar(t,d,c),S.push(cs[l]),S.push(ds[l])):73===l?(w=1-ar(t,h,f),x=1-ar(o,h,f),_=ar(o,d,f),v=1-ar(t,h,c),S.push(cs[l]),S.push(hs[l])):97===l?(w=ar(o,f,h),x=ar(t,f,h),_=1-ar(t,f,d),v=ar(o,c,h),S.push(cs[l]),S.push(hs[l])):145===l?(w=ar(t,f,h),_=1-ar(t,f,d),C=ar(o,d,c),y=1-ar(o,h,c),S.push(cs[l]),S.push(ps[l])):25===l?(w=1-ar(o,h,f),_=ar(o,d,f),C=1-ar(t,c,d),y=ar(t,c,h),S.push(cs[l]),S.push(ps[l])):70===l?(x=1-ar(t,h,f),b=1-ar(o,f,d),k=1-ar(o,c,d),v=1-ar(t,h,c),S.push(hs[l]),S.push(fs[l])):100===l?(x=ar(o,f,h),b=ar(t,d,f),k=ar(t,d,c),v=ar(o,c,h),S.push(hs[l]),S.push(fs[l])):34===l?(0===m?(w=1-ar(t,h,f),x=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c)):(w=ar(o,f,h),x=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h)),S.push(cs[l]),S.push(hs[l]),S.push(ps[l]),S.push(ms[l])):35===l?(4===m?(w=1-ar(t,h,f),x=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c)):(w=ar(o,f,h),x=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h)),S.push(cs[l]),S.push(hs[l]),S.push(ds[l]),S.push(ms[l])):136===l?(0===m?(w=ar(o,f,h),x=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h)):(w=1-ar(t,h,f),x=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c)),S.push(cs[l]),S.push(hs[l]),S.push(ps[l]),S.push(ms[l])):153===l?(0===m?(w=ar(t,f,h),_=1-ar(t,f,d),C=1-ar(t,c,d),y=ar(t,c,h)):(w=1-ar(o,h,f),_=ar(o,d,f),C=ar(o,d,c),y=1-ar(o,h,c)),S.push(cs[l]),S.push(ds[l])):102===l?(0===m?(x=1-ar(t,h,f),b=ar(t,d,f),k=ar(t,d,c),v=1-ar(t,h,c)):(x=ar(o,f,h),b=1-ar(o,f,d),k=1-ar(o,c,d),v=ar(o,c,h)),S.push(hs[l]),S.push(ms[l])):155===l?(4===m?(w=ar(t,f,h),_=1-ar(t,f,d),C=1-ar(t,c,d),y=ar(t,c,h)):(w=1-ar(o,h,f),_=ar(o,d,f),C=ar(o,d,c),y=1-ar(o,h,c)),S.push(cs[l]),S.push(ps[l])):103===l?(4===m?(x=1-ar(t,h,f),b=ar(t,d,f),k=ar(t,d,c),v=1-ar(t,h,c)):(x=ar(o,f,h),b=1-ar(o,f,d),k=1-ar(o,c,d),v=ar(o,c,h)),S.push(hs[l]),S.push(fs[l])):152===l?(0===m?(w=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),y=ar(t,c,h)):(w=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),y=1-ar(o,h,c)),S.push(cs[l]),S.push(fs[l]),S.push(ds[l])):156===l?(4===m?(w=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),y=ar(t,c,h)):(w=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),y=1-ar(o,h,c)),S.push(cs[l]),S.push(ds[l]),S.push(ms[l])):137===l?(0===m?(w=ar(o,f,h),x=ar(t,f,h),_=1-ar(t,f,d),C=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h)):(w=1-ar(t,h,f),x=1-ar(o,h,f),_=ar(o,d,f),C=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c)),S.push(cs[l]),S.push(hs[l]),S.push(ds[l])):139===l?(4===m?(w=ar(o,f,h),x=ar(t,f,h),_=1-ar(t,f,d),C=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h)):(w=1-ar(t,h,f),x=1-ar(o,h,f),_=ar(o,d,f),C=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c)),S.push(cs[l]),S.push(hs[l]),S.push(ps[l])):98===l?(0===m?(w=1-ar(t,h,f),x=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),k=ar(t,d,c),v=1-ar(t,h,c)):(w=ar(o,f,h),x=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),k=1-ar(o,c,d),v=ar(o,c,h)),S.push(cs[l]),S.push(hs[l]),S.push(ms[l])):99===l?(4===m?(w=1-ar(t,h,f),x=1-ar(o,h,f),b=ar(o,d,f),_=ar(t,d,f),k=ar(t,d,c),v=1-ar(t,h,c)):(w=ar(o,f,h),x=ar(t,f,h),b=1-ar(t,f,d),_=1-ar(o,f,d),k=1-ar(o,c,d),v=ar(o,c,h)),S.push(cs[l]),S.push(hs[l]),S.push(ds[l])):38===l?(0===m?(x=1-ar(t,h,f),b=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c)):(x=ar(o,f,h),b=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h)),S.push(hs[l]),S.push(ps[l]),S.push(ms[l])):39===l?(4===m?(x=1-ar(t,h,f),b=ar(t,d,f),C=ar(t,d,c),k=ar(o,d,c),v=1-ar(o,h,c),y=1-ar(t,h,c)):(x=ar(o,f,h),b=1-ar(o,f,d),C=1-ar(o,c,d),k=1-ar(t,c,d),v=ar(t,c,h),y=ar(o,c,h)),S.push(hs[l]),S.push(fs[l]),S.push(ms[l])):85===l&&(w=1,x=0,b=1,_=0,C=0,k=1,v=0,y=1),(v<0||v>1||y<0||y>1||w<0||w>1||b<0||b>1||C<0||C>1||k<0||k>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+p+" "+c+","+h+","+f+","+d+" "+m+" "+v+" "+y+" "+w+" "+x+" "+b+" "+_+" "+C+" "+k),a.cells[s][u]={cval:l,cval_real:p,flipped:m,topleft:v,topright:y,righttop:w,rightbottom:x,bottomright:b,bottomleft:_,leftbottom:C,lefttop:k,edges:S}}}}}return a}(e,t,n);return Eo.polygons?(Eo.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),l=[],c=0,h.cells.forEach(function(e,t){e.forEach(function(e,n){if(void 0!==e){var r=ys[e.cval](e);"object"==typeof r&&or(r)?"object"==typeof r[0]&&or(r[0])?"object"==typeof r[0][0]&&or(r[0][0])?r.forEach(function(e){e.forEach(function(e){e[0]+=n,e[1]+=t}),l[c++]=e}):(r.forEach(function(e){e[0]+=n,e[1]+=t}),l[c++]=r):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),u=l):(Eo.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(e){for(var t=[],n=e.rows,r=e.cols,i=[],a=0;a<n;a++)for(var o=0;o<r;o++)if(void 0!==e.cells[a][o]&&e.cells[a][o].edges.length>0){var s=function(e){if(e.edges.length>0){var t=e.cval_real;switch(e.edges[e.edges.length-1]){case 0:return t&Lo?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return t&Io?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return t&Io?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return t&Do?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return t&Lo?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return t&Io?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return t&Io?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return t&Do?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return t&Io?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return t&Do?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return t&Do?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return t&To?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return t&Io?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return t&Do?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return t&Do?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return t&To?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return t&Io?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return t&To?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return t&Do?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return t&To?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return t&To?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return t&Lo?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return t&To?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return t&Lo?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}(e.cells[a][o]),u=null,l=o,c=a;null!==s&&i.push([s.p[0]+l,s.p[1]+c]);do{if(null===(u=function(e,t,n,r){var i,a,o,s,u,l=e.cval;switch(t){case-1:switch(r){case 0:i=hs[l],o=Bo[l],s=Ho[l],u=Uo[l];break;default:i=cs[l],o=Yo[l],s=zo[l],u=jo[l]}break;case 1:switch(r){case 0:i=ps[l],o=Qo[l],s=es[l],u=ts[l];break;default:i=ms[l],o=Zo[l],s=Jo[l],u=Ko[l]}break;default:switch(n){case-1:switch(r){case 0:i=gs[l],o=Ao[l],s=Po[l],u=Oo[l];break;default:i=vs[l],o=No[l],s=Ro[l],u=Fo[l]}break;case 1:switch(r){case 0:i=ds[l],o=Vo[l],s=Go[l],u=qo[l];break;default:i=fs[l],o=Wo[l],s=$o[l],u=Xo[l]}}}if(a=e.edges.indexOf(i),void 0===e.edges[a])return null;switch(function(e,t){delete e.edges[t];for(var n=t+1;n<e.edges.length;n++)e.edges[n-1]=e.edges[n];e.edges.pop()}(e,a),l=e.cval_real,i){case 0:l&Lo?(t=e.topleft,n=1):(t=1,n=e.righttop);break;case 1:l&Io?(t=1,n=e.rightbottom):(t=e.topleft,n=1);break;case 2:l&Io?(t=e.topleft,n=1):(t=e.bottomright,n=0);break;case 3:l&Do?(t=e.bottomleft,n=0):(t=e.topleft,n=1);break;case 4:l&Lo?(t=e.topright,n=1):(t=1,n=e.righttop);break;case 5:l&Io?(t=1,n=e.rightbottom):(t=e.topright,n=1);break;case 6:l&Io?(t=e.topright,n=1):(t=e.bottomright,n=0);break;case 7:l&Do?(t=e.bottomleft,n=0):(t=e.topright,n=1);break;case 8:l&Io?(t=1,n=e.righttop):(t=e.bottomright,n=0);break;case 9:l&Do?(t=e.bottomleft,n=0):(t=1,n=e.righttop);break;case 10:l&Do?(t=1,n=e.righttop):(t=0,n=e.leftbottom);break;case 11:l&To?(t=0,n=e.lefttop):(t=1,n=e.righttop);break;case 12:l&Io?(t=1,n=e.rightbottom):(t=e.bottomright,n=0);break;case 13:l&Do?(t=e.bottomleft,n=0):(t=1,n=e.rightbottom);break;case 14:l&Do?(t=1,n=e.rightbottom):(t=0,n=e.leftbottom);break;case 15:l&To?(t=0,n=e.lefttop):(t=1,n=e.rightbottom);break;case 16:l&Io?(t=0,n=e.leftbottom):(t=e.bottomright,n=0);break;case 17:l&To?(t=0,n=e.lefttop):(t=e.bottomright,n=0);break;case 18:l&Do?(t=e.bottomleft,n=0):(t=0,n=e.leftbottom);break;case 19:l&To?(t=0,n=e.lefttop):(t=e.bottomleft,n=0);break;case 20:l&To?(t=0,n=e.leftbottom):(t=e.topleft,n=1);break;case 21:l&Lo?(t=e.topright,n=1):(t=0,n=e.leftbottom);break;case 22:l&To?(t=0,n=e.lefttop):(t=e.topleft,n=1);break;case 23:l&Lo?(t=e.topright,n=1):(t=0,n=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return void 0!==t&&void 0!==n&&void 0!==o&&void 0!==s&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(t+" "+n+" "+o+" "+s+" "+u)),{p:[t,n],x:o,y:s,o:u}}(e.cells[c][l],s.x,s.y,s.o)))break;if(i.push([u.p[0]+l,u.p[1]+c]),l+=u.x,s=u,(c+=u.y)<0||c>=n||l<0||l>=r||void 0===e.cells[c][l]){var h=function(e,t,n,r,i,a){for(var o=e.cells[n][t],s=o.cval_real,u=t+r,l=n+i,c=[],h=!1;!h;){if(void 0===e.cells[l]||void 0===e.cells[l][u])if(s=(o=e.cells[l-=i][u-=r]).cval_real,-1===i)if(0===a)if(s&Do)c.push([u,l]),r=-1,i=0,a=0;else{if(!(s&Io)){c.push([u+o.bottomright,l]),r=0,i=1,a=1,h=!0;break}c.push([u+1,l]),r=1,i=0,a=0}else{if(!(s&Do)){if(s&Io){c.push([u+o.bottomright,l]),r=0,i=1,a=1,h=!0;break}c.push([u+o.bottomleft,l]),r=0,i=1,a=0,h=!0;break}c.push([u,l]),r=-1,i=0,a=0}else if(1===i)if(0===a){if(!(s&Lo)){if(s&To){c.push([u+o.topleft,l+1]),r=0,i=-1,a=0,h=!0;break}c.push([u+o.topright,l+1]),r=0,i=-1,a=1,h=!0;break}c.push([u+1,l+1]),r=1,i=0,a=1}else c.push([u+1,l+1]),r=1,i=0,a=1;else if(-1===r)if(0===a){if(!(s&To)){if(s&Do){c.push([u,l+o.leftbottom]),r=1,i=0,a=0,h=!0;break}c.push([u,l+o.lefttop]),r=1,i=0,a=1,h=!0;break}c.push([u,l+1]),r=0,i=1,a=0}else{if(!(s&To)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),r=0,i=1,a=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===a){if(!(s&Io)){c.push([u+1,l+o.rightbottom]),r=-1,i=0,a=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,a=1}else{if(!(s&Io)){if(s&Lo){c.push([u+1,l+o.righttop]),r=-1,i=0,a=1;break}c.push([u+1,l+o.rightbottom]),r=-1,i=0,a=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,a=1}}else if(s=(o=e.cells[l][u]).cval_real,-1===r)if(0===a)if(void 0!==e.cells[l-1]&&void 0!==e.cells[l-1][u])r=0,i=-1,a=1;else{if(!(s&Do)){c.push([u+o.bottomright,l]),r=0,i=1,a=1,h=!0;break}c.push([u,l])}else{if(!(s&To)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===a){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[l+1]&&void 0!==e.cells[l+1][u])r=0,i=1,a=0;else{if(!(s&Lo)){c.push([u+o.topleft,l+1]),r=0,i=-1,a=0,h=!0;break}c.push([u+1,l+1]),r=1,i=0,a=1}}else if(-1===i){if(1!==a){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[l][u+1])r=1,i=0,a=1;else{if(!(s&Io)){c.push([u+1,l+o.righttop]),r=-1,i=0,a=1,h=!0;break}c.push([u+1,l]),r=0,i=-1,a=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==a){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[l][u-1])r=-1,i=0,a=0;else{if(!(s&To)){c.push([u,l+o.leftbottom]),r=1,i=0,a=0,h=!0;break}c.push([u,l+1]),r=0,i=1,a=0}}if(l+=i,(u+=r)===t&&l===n)break}return{path:c,i:u,j:l,x:r,y:i,o:a}}(e,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach(function(e){i.push(e)}),l=h.i,c=h.j,s=h}}while(void 0!==e.cells[c][l]&&e.cells[c][l].edges.length>0);t.push(i),i=[],e.cells[a][o].edges.length>0&&o--}return t}(h)),"function"==typeof Eo.successCallback&&Eo.successCallback(u),u}function ar(e,t,n){return(e-t)/(n-t)}function or(e){return e.constructor.toString().indexOf("Array")>-1}function sr(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("angle is required");return 0===t||(r||(r=ft(e)),!1!==i&&void 0!==i||(e=Re(e)),E(e,function(e){var n=en(r,e)+t,i=nn(r,e),a=V(Jn(r,i,n));e[0]=a[0],e[1]=a[1]})),e}function ur(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!e)throw new Error("geojson required");if("number"!=typeof t||0===t)throw new Error("invalid factor");var a=Array.isArray(r)||"object"==typeof r;return!0!==i&&(e=Re(e)),"FeatureCollection"!==e.type||a?lr(e,t,r):(D(e,function(n,i){e.features[i]=lr(n,t,r)}),e)}function lr(e,t,n){var i="Point"===J(e);return n=function(e,t){if(null!=t||(t="centroid"),Array.isArray(t)||"object"==typeof t)return U(t);var n=e.bbox?e.bbox:H(e),i=n[0],a=n[1],o=n[2],s=n[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,a]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([o,a]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,s]);case"ne":case"northeast":case"eastnorth":case"topright":return r([o,s]);case"center":return ht(e);case void 0:case null:case"centroid":return ft(e);default:throw new Error("invalid origin")}}(e,n),1===t||i||E(e,function(e){var r=nn(n,e),i=en(n,e),a=V(Jn(n,r*t,i));e[0]=a[0],e[1]=a[1],3===e.length&&(e[2]*=t)}),e}function cr(e){var t=e[0],n=e[1];return[n[0]-t[0],n[1]-t[1]]}function hr(e,t){return e[0]*t[1]-t[0]*e[1]}function fr(e,t,n){var r=[],i=v(t,n),a=V(e),o=[];return a.forEach(function(e,t){if(t!==a.length-1){var n=(l=e,c=a[t+1],h=i,f=Math.sqrt((l[0]-c[0])*(l[0]-c[0])+(l[1]-c[1])*(l[1]-c[1])),[[l[0]+h*(c[1]-l[1])/f,l[1]+h*(l[0]-c[0])/f],[c[0]+h*(c[1]-l[1])/f,c[1]+h*(l[0]-c[0])/f]]);if(r.push(n),t>0){var s=r[t-1],u=function(e,t){return n=t,!(0===hr(cr(e),cr(n)))&&function(e,t){var n,r,i=e[0],a=cr(e),o=t[0],s=cr(t),u=hr(a,s);return function(e,t){return[e[0]+t[0],e[1]+t[1]]}(i,function(e,t){return[e*t[0],e*t[1]]}(hr([(n=o)[0]-(r=i)[0],n[1]-r[1]],s)/u,a))}(e,t);var n}(n,s);!1!==u&&(s[1]=u,n[0]=u),o.push(s[0]),t===a.length-2&&(o.push(n[0]),o.push(n[1]))}2===a.length&&(o.push(n[0]),o.push(n[1]))}var l,c,h,f}),s(o,e.properties)}function dr(e,t,n){return Math.sign((t[0]-e[0])*(n[1]-t[1])-(n[0]-t[0])*(t[1]-e[1]))}function pr(e,t){return t.geometry.coordinates[0].every(function(t){return Te(r(t),e)})}function mr(e,t){for(var n=0;n<e.coordinates.length-1;n++)if(((a=t.coordinates)[0]-(r=e.coordinates[n])[0])*(s=(i=e.coordinates[n+1])[1]-r[1])-(a[1]-r[1])*(o=i[0]-r[0])==0&&(Math.abs(o)>=Math.abs(s)?o>0?r[0]<=a[0]&&a[0]<=i[0]:i[0]<=a[0]&&a[0]<=r[0]:s>0?r[1]<=a[1]&&a[1]<=i[1]:i[1]<=a[1]&&a[1]<=r[1]))return!0;var r,i,a,o,s;return!1}function gr(e,t){return Jt(t,Nn(e)).features.length>0}function vr(e,t){return!(e[0]>t[0]||e[2]<t[2]||e[1]>t[1]||e[3]<t[3])}function yr(e,t){return e[0]===t[0]&&e[1]===t[1]}function _r(e,t){for(var n=!1,r=!1,i=e.coordinates.length,a=0;a<i&&!n&&!r;){for(var o=0;o<t.coordinates.length-1;o++){var s=!0;0!==o&&o!==t.coordinates.length-2||(s=!1),xr(t.coordinates[o],t.coordinates[o+1],e.coordinates[a],s)?n=!0:r=!0}a++}return n&&r}function br(e,t){return Jt(e,Nn(t)).features.length>0}function wr(e,t){for(var n=!1,i=!1,a=e.coordinates[0].length,o=0;o<a&&n&&i;)Te(r(e.coordinates[0][o]),t)?n=!0:i=!0,o++;return i&&i}function xr(e,t,n,r){var i=t[0]-e[0],a=t[1]-e[1];return(n[0]-e[0])*a-(n[1]-e[1])*i==0&&(r?Math.abs(i)>=Math.abs(a)?i>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:a>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]:Math.abs(i)>=Math.abs(a)?i>0?e[0]<n[0]&&n[0]<t[0]:t[0]<n[0]&&n[0]<e[0]:a>0?e[1]<n[1]&&n[1]<t[1]:t[1]<n[1]&&n[1]<e[1])}function kr(e){return e.coordinates.map(function(t){return{type:e.type.replace("Multi",""),coordinates:t}})}function Cr(e,t){return e.hasOwnProperty("coordinates")?e.coordinates.length===t.coordinates.length:e.length===t.length}function Sr(e,t){return Ms(e,t,{strict:!0})}function Mr(e,t){if(!e)throw new Error("feature1 is required");if(!t)throw new Error("feature2 is required");var n=J(e);if(n!==J(t))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Ts({precision:6}).compare(e,t))return!1;var r=0;switch(n){case"MultiPoint":var i=P(e),a=P(t);i.forEach(function(e){a.forEach(function(t){e[0]===t[0]&&e[1]===t[1]&&r++})});break;case"LineString":case"MultiLineString":Y(e,function(e){Y(t,function(t){$n(e,t).features.length&&r++})});break;case"Polygon":case"MultiPolygon":Y(e,function(e){Y(t,function(t){Jt(e,t).features.length&&r++})})}return r>0}function Er(e,t,n){n=n||[];for(var r=0;r<e;r++)n[r]=t;return n}function Tr(e,t){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+t)}function Lr(e){for(var t=e,n=[];t.parent;)n.unshift(t),t=t.parent;return n}function Ir(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var n=0;n<e.length;n++){this.grid[n]=[];for(var r=0,i=e[n];r<i.length;r++){var a=new Dr(n,r,i[r]);this.grid[n][r]=a,this.nodes.push(a)}}this.init()}function Dr(e,t,n){this.x=e,this.y=t,this.weight=n}function Ar(e){this.content=[],this.scoreFunction=e}function Pr(e){return e[0]}function Or(e){return e[1]}function Nr(){this._=null}function Rr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Fr(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Yr(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function zr(e){for(;e.L;)e=e.L;return e}function jr(e,t,n,r){var i=[null,null],a=Vs.push(i)-1;return i.left=e,i.right=t,n&&Hr(i,e,t,n),r&&Hr(i,t,e,r),Hs[e.index].halfedges.push(a),Hs[t.index].halfedges.push(a),i}function Br(e,t,n){var r=[t,n];return r.left=e,r}function Hr(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function Ur(e,t,n,r,i){var a,o=e[0],s=e[1],u=o[0],l=o[1],c=0,h=1,f=s[0]-u,d=s[1]-l;if(a=t-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>c&&(c=a)}if(a=r-u,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<h&&(h=a)}if(a=n-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>c&&(c=a)}if(a=i-l,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<h&&(h=a)}return!(c>0||h<1)||(c>0&&(e[0]=[u+c*f,l+c*d]),h<1&&(e[1]=[u+h*f,l+h*d]),!0)}}}}}function Vr(e,t,n,r,i){var a=e[1];if(a)return!0;var o,s,u=e[0],l=e.left,c=e.right,h=l[0],f=l[1],d=c[0],p=c[1],m=(h+d)/2;if(p===f){if(m<t||m>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[m,n];a=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];a=[m,n]}}else if(s=(f+p)/2-(o=(h-d)/(p-f))*m,o<-1||o>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/o,i];a=[(n-s)/o,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[t,o*t+s];a=[r,o*r+s]}else{if(u){if(u[0]<t)return}else u=[r,o*r+s];a=[t,o*t+s]}return e[0]=u,e[1]=a,!0}function Gr(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function qr(e,t){return t[+(t.left!==e.site)]}function Wr(e,t){return t[+(t.left===e.site)]}function $r(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,l=r[1]-s,c=a[0]-o,h=a[1]-s,f=2*(u*h-l*c);if(!(f>=-$s)){var d=u*u+l*l,p=c*c+h*h,m=(h*d-l*p)/f,g=(u*p-c*d)/f,v=Gs.pop()||new function(){Rr(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=e,v.site=i,v.x=m+o,v.y=(v.cy=g+s)+Math.sqrt(m*m+g*g),e.circle=v;for(var y=null,_=Us._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Us.insert(y,v),y||(js=v)}}}}function Xr(e){var t=e.circle;t&&(t.P||(js=t.N),Us.remove(t),Gs.push(t),Rr(t),e.circle=null)}function Zr(e){var t=qs.pop()||new function(){Rr(this),this.edge=this.site=this.circle=null};return t.site=e,t}function Jr(e){Xr(e),Bs.remove(e),qs.push(e),Rr(e)}function Kr(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],a=e.P,o=e.N,s=[e];Jr(e);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<Ws&&Math.abs(r-u.circle.cy)<Ws;)a=u.P,s.unshift(u),Jr(u),u=a;s.unshift(u),Xr(u);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Ws&&Math.abs(r-l.circle.cy)<Ws;)o=l.N,s.push(l),Jr(l),l=o;s.push(l),Xr(l);var c,h=s.length;for(c=1;c<h;++c)Hr((l=s[c]).edge,(u=s[c-1]).site,l.site,i);(l=s[h-1]).edge=jr((u=s[0]).site,l.site,null,i),$r(u),$r(l)}function Qr(e){for(var t,n,r,i,a=e[0],o=e[1],s=Bs._;s;)if((r=ei(s,o)-a)>Ws)s=s.L;else{if(!((i=a-function(e,t){var n=e.N;if(n)return ei(n,t);var r=e.site;return r[1]===t?r[0]:1/0}(s,o))>Ws)){r>-Ws?(t=s.P,n=s):i>-Ws?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var u;Hs[(u=e).index]={site:u,halfedges:[]};var l=Zr(e);if(Bs.insert(t,l),t||n){if(t===n)return Xr(t),n=Zr(t.site),Bs.insert(l,n),l.edge=n.edge=jr(t.site,l.site),$r(t),void $r(n);if(n){Xr(t),Xr(n);var c=t.site,h=c[0],f=c[1],d=e[0]-h,p=e[1]-f,m=n.site,g=m[0]-h,v=m[1]-f,y=2*(d*v-p*g),_=d*d+p*p,b=g*g+v*v,w=[(v*_-p*b)/y+h,(d*b-g*_)/y+f];Hr(n.edge,c,m,w),l.edge=jr(c,e,null,w),n.edge=jr(e,m,null,w),$r(t),$r(n)}else l.edge=jr(t.site,l.site)}}function ei(e,t){var n=e.site,r=n[0],i=n[1],a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;var s=(n=o.site)[0],u=n[1],l=u-t;if(!l)return s;var c=s-r,h=1/a-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-a/2)))/h+r:(r+s)/2}function ti(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function ni(e,t){return t[1]-e[1]||t[0]-e[0]}function ri(e,t){var n,r,i,a=e.sort(ni).pop();for(Vs=[],Hs=new Array(e.length),Bs=new Nr,Us=new Nr;;)if(i=js,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(Qr(a),n=a[0],r=a[1]),a=e.pop();else{if(!i)break;Kr(i.arc)}if(function(){for(var e,t,n,r,i=0,a=Hs.length;i<a;++i)if((e=Hs[i])&&(r=(t=e.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=Gr(e,Vs[t[n]]);for(o.sort(function(e,t){return s[t]-s[e]}),n=0;n<r;++n)s[n]=t[o[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var o=+t[0][0],s=+t[0][1],u=+t[1][0],l=+t[1][1];(function(e,t,n,r){for(var i,a=Vs.length;a--;)Vr(i=Vs[a],e,t,n,r)&&Ur(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ws||Math.abs(i[0][1]-i[1][1])>Ws)||delete Vs[a]})(o,s,u,l),function(e,t,n,r){var i,a,o,s,u,l,c,h,f,d,p,m,g=Hs.length,v=!0;for(i=0;i<g;++i)if(a=Hs[i]){for(o=a.site,s=(u=a.halfedges).length;s--;)Vs[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=Wr(a,Vs[u[s]]))[0],m=d[1],h=(c=qr(a,Vs[u[++s%l]]))[0],f=c[1],(Math.abs(p-h)>Ws||Math.abs(m-f)>Ws)&&(u.splice(s,0,Vs.push(Br(o,d,Math.abs(p-e)<Ws&&r-m>Ws?[e,Math.abs(h-e)<Ws?f:r]:Math.abs(m-r)<Ws&&n-p>Ws?[Math.abs(f-r)<Ws?h:n,r]:Math.abs(p-n)<Ws&&m-t>Ws?[n,Math.abs(h-n)<Ws?f:t]:Math.abs(m-t)<Ws&&p-e>Ws?[Math.abs(f-t)<Ws?h:e,t]:null))-1),++l);l&&(v=!1)}if(v){var y,_,b,w=1/0;for(i=0,v=null;i<g;++i)(a=Hs[i])&&(b=(y=(o=a.site)[0]-e)*y+(_=o[1]-t)*_)<w&&(w=b,v=a);if(v){var x=[e,t],k=[e,r],C=[n,r],S=[n,t];v.halfedges.push(Vs.push(Br(o=v.site,x,k))-1,Vs.push(Br(o,k,C))-1,Vs.push(Br(o,C,S))-1,Vs.push(Br(o,S,x))-1)}}for(i=0;i<g;++i)(a=Hs[i])&&(a.halfedges.length||delete Hs[i])}(o,s,u,l)}this.edges=Vs,this.cells=Hs,Bs=Us=Vs=Hs=null}function ii(e){return(e=e.slice()).push(e[0]),a([e])}function ai(e,t,n,r){var i=(r=r||{}).steps||64,o=r.units||"kilometers",s=r.angle||0,u=r.pivot||e,l=r.properties||e.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(r))throw new Error("options must be an object");if(!k(i))throw new Error("steps must be a number");if(!k(s))throw new Error("angle must be a number");var c=U(e);if("degrees"===o)var h=b(s);else t=Jn(e,t,90,{units:o}),n=Jn(e,n,0,{units:o}),t=U(t)[0]-c[0],n=U(n)[1]-c[1];for(var f=[],d=0;d<i;d+=1){var p=-360*d/i,m=t*n/Math.sqrt(Math.pow(n,2)+Math.pow(t,2)*Math.pow(oi(p),2)),g=t*n/Math.sqrt(Math.pow(t,2)+Math.pow(n,2)/Math.pow(oi(p),2));if(p<-90&&p>=-270&&(m=-m),p<-180&&p>=-360&&(g=-g),"degrees"===o){var v=m*Math.cos(h)+g*Math.sin(h),y=g*Math.cos(h)-m*Math.sin(h);m=v,g=y}f.push([m+c[0],g+c[1]])}return f.push(f[0]),"degrees"===o?a([f],l):sr(a([f],l),s,{pivot:u})}function oi(e){var t=e*Math.PI/180;return Math.tan(t)}function si(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.properties,i=t.weight;if(!e)throw new Error("geojson is required");var a=0,o=0,s=0;return O(e,function(e,t,n){var r=n[i];if(!k(r=null==r?1:r))throw new Error("weight value must be a number for feature index "+t);(r=Number(r))>0&&E(e,function(e){a+=e[0]*r,o+=e[1]*r,s+=r})}),r([a/s,o/s],n)}function ui(e,t,n,i){var a=n.properties.tolerance||.001,o=0,s=0,u=0,l=0;if(D(n,function(t){var n=t.properties.weight,r=null==n?1:n;if(!k(r=Number(r)))throw new Error("weight value must be a number");if(r>0){l+=1;var i=r*Ne(t,e);0===i&&(i=1);var a=r/i;o+=t.geometry.coordinates[0]*a,s+=t.geometry.coordinates[1]*a,u+=a}}),l<1)throw new Error("no features to measure");var c=o/u,h=s/u;return 1===l||0===i||Math.abs(c-t[0])<a&&Math.abs(h-t[1])<a?r([c,h],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,h]),ui([c,h],e,n,i-1))}function li(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}function ci(e){if(C(e)&&(e=e.bbox),e&&!Array.isArray(e))throw new Error("bbox is invalid");return e?(t=e,[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]):[360*pi(),180*pi()];var t}function hi(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.bbox;null!=e||(e=1);for(var i=[],a=0;a<e;a++)i.push(r(ci(n)));return l(i)}function fi(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.bbox,r=t.num_vertices,i=t.max_radial_length;null!=e||(e=1),k(r)||(r=10),k(i)||(i=10);for(var o=[],s=0;s<e;s++){var u=[],c=Array.apply(null,new Array(r+1)).map(Math.random);c.forEach(function(e,t,n){n[t]=t>0?e+n[t-1]:e}),c.forEach(function(e){e=2*e*Math.PI/c[c.length-1];var t=Math.random();u.push([t*i*Math.sin(e),t*i*Math.cos(e)])}),u[u.length-1]=u[0],u=u.map(function(e){return function(t){return[t[0]+e[0],t[1]+e[1]]}}(ci(n))),o.push(a([u]))}return l(o)}function di(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.bbox,r=t.num_vertices,i=t.max_length,a=t.max_rotation;null!=e||(e=1),(!k(r)||r<2)&&(r=10),k(i)||(i=1e-4),k(a)||(a=Math.PI/8);for(var o=[],u=0;u<e;u++){for(var c=[ci(n)],h=0;h<r-1;h++){var f=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*a*2,d=Math.random()*i;c.push([c[h][0]+d*Math.cos(f),c[h][1]+d*Math.sin(f)])}o.push(s(c))}return l(o)}function pi(){return Math.random()-.5}function mi(e,t){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("filter is required");var n=[];return D(e,function(e){_i(e.properties,t)&&n.push(e)}),l(n)}function gi(e,t,n){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(null==t)throw new Error("property is required");for(var r=yi(e,t),i=Object.keys(r),a=0;a<i.length;a++){for(var o=i[a],s=r[o],u=[],c=0;c<s.length;c++)u.push(e.features[s[c]]);n(l(u),o,a)}}function vi(e,t,n,r){var i=r;return gi(e,t,function(e,t,a){i=0===a&&void 0===r?e:n(i,e,t,a)}),i}function yi(e,t){var n={};return D(e,function(e,r){var i=e.properties||{};if(i.hasOwnProperty(t)){var a=i[t];n.hasOwnProperty(a)?n[a].push(r):n[a]=[r]}}),n}function _i(e,t){if(void 0===e)return!1;var n=typeof t;if("number"===n||"string"===n)return e.hasOwnProperty(t);if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(!_i(e,t[r]))return!1;return!0}return bi(e,t)}function bi(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(e[i]!==t[i])return!1}return!0}function wi(e,t){if(!t)return{};if(!t.length)return{};for(var n={},r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(n[i]=e[i])}return n}function xi(){}function ki(e){this.message=e||""}function Ci(e){this.message=e||""}function Si(){}function Mi(e){return null===e?ml:e.color}function Ei(e){return null===e?null:e.parent}function Ti(e,t){null!==e&&(e.color=t)}function Li(e){return null===e?null:e.left}function Ii(e){return null===e?null:e.right}function Di(){this.root_=null,this.size_=0}function Ai(){}function Pi(){this.array_=[],arguments[0]instanceof el&&this.addAll(arguments[0])}function Oi(){}function Ni(e){this.message=e||""}function Ri(){this.array_=[]}function Fi(e){switch(e.type){case"Polygon":return dn(e)>1?e:null;case"MultiPolygon":var t=[];if(R(e,function(e){dn(e)>1&&t.push(e.geometry.coordinates)}),t.length)return{type:"MultiPolygon",coordinates:t}}}function Yi(){this.reset()}function zi(e,t,n){var r=e.s=t+n,i=r-t;e.t=t-(r-i)+(n-i)}function ji(e){return e>1?wd:e<-1?-wd:Math.asin(e)}function Bi(){}function Hi(e,t){e&&Rd.hasOwnProperty(e.type)&&Rd[e.type](e,t)}function Ui(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)t.point((r=e[i])[0],r[1],r[2]);t.lineEnd()}function Vi(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Ui(e[n],t,1);t.polygonEnd()}function Gi(e){return[Td(e[1],e[0]),ji(e[2])]}function qi(e){var t=e[0],n=e[1],r=Ld(n);return[r*Ld(t),r*Ad(t),Ad(n)]}function Wi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function $i(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Xi(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Zi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ji(e){var t=Pd(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Ki(e,t){return[e>bd?e-kd:e<-bd?e+kd:e,t]}function Qi(e,t,n){return(e%=kd)?t||n?Yd(ta(e),na(t,n)):ta(e):t||n?na(t,n):Ki}function ea(e){return function(t,n){return[(t+=e)>bd?t-kd:t<-bd?t+kd:t,n]}}function ta(e){var t=ea(e);return t.invert=ea(-e),t}function na(e,t){function n(e,t){var n=Ld(t),s=Ld(e)*n,u=Ad(e)*n,l=Ad(t),c=l*r+s*i;return[Td(u*a-c*o,s*r-l*i),ji(c*a+u*o)]}var r=Ld(e),i=Ad(e),a=Ld(t),o=Ad(t);return n.invert=function(e,t){var n=Ld(t),s=Ld(e)*n,u=Ad(e)*n,l=Ad(t),c=l*a-u*o;return[Td(u*a+l*o,s*r+c*i),ji(c*r-s*i)]},n}function ra(e,t){(t=qi(t))[0]-=e,Ji(t);var n,r=(n=-t[1])>1?0:n<-1?bd:Math.acos(n);return((-t[2]<0?-r:r)+kd-_d)%kd}function ia(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function aa(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function oa(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,s,l){var c=0,h=0;if(null==i||(c=o(i,s))!==(h=o(a,s))||u(i,a)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==h);else l.point(a[0],a[1])}function o(r,i){return Md(r[0]-e)<_d?i>0?0:3:Md(r[0]-n)<_d?i>0?2:1:Md(r[1]-t)<_d?i>0?1:0:i>0?3:2}function s(e,t){return u(e.x,t.x)}function u(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){function u(e,t){i(e,t)&&w.point(e,t)}function l(a,o){var s=i(a,o);if(h&&f.push([a,o]),_)d=a,p=o,m=s,_=!1,s&&(w.lineStart(),w.point(a,o));else if(s&&y)w.point(a,o);else{var u=[g=Math.max($d,Math.min(Wd,g)),v=Math.max($d,Math.min(Wd,v))],l=[a=Math.max($d,Math.min(Wd,a)),o=Math.max($d,Math.min(Wd,o))];Hd(u,l,e,t,n,r)?(y||(w.lineStart(),w.point(u[0],u[1])),w.point(l[0],l[1]),s||w.lineEnd(),b=!1):s&&(w.lineStart(),w.point(a,o),b=!1)}g=a,v=o,y=s}var c,h,f,d,p,m,g,v,y,_,b,w=o,x=Bd(),k={point:u,lineStart:function(){k.point=l,h&&h.push(f=[]),_=!0,y=!1,g=v=NaN},lineEnd:function(){c&&(l(d,p),m&&y&&x.rejoin(),c.push(x.result())),k.point=u,y&&w.lineEnd()},polygonStart:function(){w=x,c=[],h=[],b=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=h.length;n<i;++n)for(var a,o,s=h[n],u=1,l=s.length,c=s[0],f=c[0],d=c[1];u<l;++u)a=f,o=d,f=(c=s[u])[0],d=c[1],o<=r?d>r&&(f-a)*(r-o)>(d-o)*(e-a)&&++t:d<=r&&(f-a)*(r-o)<(d-o)*(e-a)&&--t;return t}(),n=b&&t,i=(c=qd(c)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&Vd(c,s,t,a,o),o.polygonEnd()),w=o,c=h=f=null}};return k}}function sa(e){return e.length>1}function ua(e,t){return((e=e.x)[0]<0?e[1]-wd-_d:wd-e[1])-((t=t.x)[0]<0?t[1]-wd-_d:wd-t[1])}function la(e){return function(t){var n=new ca;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ca(){}function ha(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),Fd(n,e.stream(tp));var o=tp.result(),s=Math.min(r/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+t[0][0]+(r-s*(o[1][0]+o[0][0]))/2,l=+t[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return null!=a&&e.clipExtent(a),e.scale(150*s).translate([u,l])}function fa(e,t){return[e,Dd(Od((wd+t)/2))]}function da(e,t){return[Dd(Od((wd+t)/2)),-e]}function pa(e,n,r,i){var a=e.properties||{},o="Feature"===e.type?e.geometry:e;if("GeometryCollection"===o.type){var s=[];return O(e,function(e){var t=pa(e,n,r,i);t&&s.push(t)}),l(s)}var u,c=H(e),h=c[1]>50&&c[3]>50;u=h?{type:o.type,coordinates:ga(o.coordinates,ya(o))}:rn(o);var f,d=(new ic).read(u),p=m(g(n,r),"meters"),v=Xh.bufferOp(d,p);if(!ma((v=(new ac).write(v)).coordinates))return(f=h?{type:v.type,coordinates:va(v.coordinates,ya(o))}:an(v)).geometry?f:t(f,a)}function ma(e){return Array.isArray(e[0])?ma(e[0]):isNaN(e[0])}function ga(e,t){return"object"!=typeof e[0]?t(e):e.map(function(e){return ga(e,t)})}function va(e,t){return"object"!=typeof e[0]?t.invert(e):e.map(function(e){return va(e,t)})}function ya(e){var t=ht(e).geometry.coordinates.reverse(),n=t.map(function(e){return-e});return up().center(t).rotate(n).scale(Ea)}function _a(){for(var e=new ic,t=e.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)t=gd.union(t,e.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:t=(new ac).write(t),properties:arguments[0].properties}}function ba(e,n){var r=X(e),i=X(n);if(Ze(Sn(i,{precision:4})).coordinates[0].length<4||Ze(Sn(r,{precision:4})).coordinates[0].length<4)return null;var a=new ic,o=a.read(Sn(r)),s=a.read(Sn(i)),u=sd.intersection(o,s);return u.isEmpty()?null:t((new ac).write(u))}function wa(e,t){return function(e,t,n){var r,i;if(!Array.isArray(t))throw new Error("Get closest expects an array as second argument");return t.forEach(function(t,n){var a=function(e,t){return e-t}(t,e);a>=0&&(void 0===i||a<i)&&(i=a,r=n)}),r}(e,t)}function xa(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,o=n.mask;if(null==t)throw new Error("cellSide is required");if(!k(t))throw new Error("cellSide is invalid");if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be array");if(4!==e.length)throw new Error("bbox must contain 4 numbers");if(o&&-1===["Polygon","MultiPolygon"].indexOf(J(o)))throw new Error("options.mask must be a (Multi)Polygon");var s=e[0],u=e[1],c=e[2],h=e[3],f=(u+h)/2,d=(s+c)/2,p=2*t/Ne([s,f],[c,f],n)*(c-s),m=2*t/Ne([d,u],[d,h],n)*(h-u),g=p/2,v=2*g,y=Math.sqrt(3)/2*m,_=c-s,b=h-u,w=.75*v,x=y,S=Math.floor((_-v)/(v-g/2)),M=(S*w-g/2-_)/2-g/2+w/2,E=Math.floor((b-y)/y),T=(b-E*y)/2,L=E*y-b>y/2;L&&(T-=y/4);for(var I=[],D=[],A=0;A<6;A++){var P=2*Math.PI/6*A;I.push(Math.cos(P)),D.push(Math.sin(P))}for(var O=[],N=0;N<=S;N++)for(var R=0;R<=E;R++){var F=N%2==1;if(!(0===R&&F||0===R&&L)){var Y=N*w+s-M,z=R*x+u+T;if(F&&(z-=y/2),!0===i)(function(e,t,n,r,i,o){for(var s=[],u=0;u<6;u++){var l=[];l.push(e),l.push([e[0]+t*i[u],e[1]+n*o[u]]),l.push([e[0]+t*i[(u+1)%6],e[1]+n*o[(u+1)%6]]),l.push(e),s.push(a([l],r))}return s})([Y,z],p/2,m/2,r,I,D).forEach(function(e){o?ba(o,e)&&O.push(e):O.push(e)});else{var j=function(e,t,n,r,i,o){for(var s=[],u=0;u<6;u++)s.push([e[0]+t*i[u],e[1]+n*o[u]]);return s.push(s[0].slice()),a([s],r)}([Y,z],p/2,m/2,r,I,D);o?ba(o,j)&&O.push(j):O.push(j)}}}return l(O)}function ka(e){if(e.features.length<=1)return e;var t,n,r,i=(t=e,n=Fa(),r=[],R(t,function(e,t){var n=H(e);r.push({minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],geojson:e,index:t})}),n.load(r),n),a=[],o={};return R(e,function(e,t){if(o[t])return!0;for(i.remove({index:t},Ca),o[t]=!0;;){var n=H(e),r=i.search({minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]});if(r.length>0){var s=r.map(function(e){return o[e.index]=!0,i.remove({index:e.index},Ca),e.geojson});s.push(e),e=_a.apply(this,s)}if(0===r.length)break}a.push(e)}),l(a)}function Ca(e,t){return e.index===t.index}function Sa(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,o=[];if(null==t)throw new Error("cellSide is required");if(!k(t))throw new Error("cellSide is invalid");if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be array");if(4!==e.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(J(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e[0],u=e[1],c=e[2],h=e[3],f=t/Ne([s,u],[c,u],n)*(c-s),d=t/Ne([s,u],[s,h],n)*(h-u),p=c-s,m=h-u,g=Math.floor(p/f),v=Math.floor(m/d),y=(m-v*d)/2,_=s+(p-g*f)/2,b=0;b<g;b++){for(var w=u+y,x=0;x<v;x++){var S=a([[[_,w],[_,w+d],[_+f,w+d],[_+f,w],[_,w]]],r);i?ba(i,S)&&o.push(S):o.push(S),w+=d}_+=f}return l(o)}function Ma(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.mask,o=[];if(null==t)throw new Error("cellSide is required");if(!k(t))throw new Error("cellSide is invalid");if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be array");if(4!==e.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(J(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t/Ne([e[0],e[1]],[e[2],e[1]],n)*(e[2]-e[0]),u=t/Ne([e[0],e[1]],[e[0],e[3]],n)*(e[3]-e[1]),c=0,h=e[0];h<=e[2];){for(var f=0,d=e[1];d<=e[3];){var p=null,m=null;c%2==0&&f%2==0?(p=a([[[h,d],[h,d+u],[h+s,d],[h,d]]],r),m=a([[[h,d+u],[h+s,d+u],[h+s,d],[h,d+u]]],r)):c%2==0&&f%2==1?(p=a([[[h,d],[h+s,d+u],[h+s,d],[h,d]]],r),m=a([[[h,d],[h,d+u],[h+s,d+u],[h,d]]],r)):f%2==0&&c%2==1?(p=a([[[h,d],[h,d+u],[h+s,d+u],[h,d]]],r),m=a([[[h,d],[h+s,d+u],[h+s,d],[h,d]]],r)):f%2==1&&c%2==1&&(p=a([[[h,d],[h,d+u],[h+s,d],[h,d]]],r),m=a([[[h,d+u],[h+s,d+u],[h+s,d],[h,d+u]]],r)),i?(ba(i,p)&&o.push(p),ba(i,m)&&o.push(m)):(o.push(p),o.push(m)),d+=u,f++}c++,h+=s}return l(o)}var Ea=6371008.8,Ta={meters:Ea,metres:Ea,millimeters:1e3*Ea,millimetres:1e3*Ea,centimeters:100*Ea,centimetres:100*Ea,kilometers:Ea/1e3,kilometres:Ea/1e3,miles:Ea/1609.344,nauticalmiles:Ea/1852,inches:39.37*Ea,yards:Ea/1.0936,feet:3.28084*Ea,radians:1,degrees:Ea/111325},La={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/Ea,degrees:1/111325},Ia={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Da=Object.freeze({earthRadius:Ea,factors:Ta,unitsFactors:La,areaFactors:Ia,feature:t,geometry:n,point:r,points:i,polygon:a,polygons:o,lineString:s,lineStrings:u,featureCollection:l,multiLineString:c,multiPoint:h,multiPolygon:f,geometryCollection:d,round:p,radiansToLength:m,lengthToRadians:g,lengthToDegrees:v,bearingToAzimuth:y,radiansToDegrees:_,degreesToRadians:b,convertLength:w,convertArea:x,isNumber:k,isObject:C,validateBBox:S,validateId:M,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Aa=Object.freeze({coordEach:E,coordReduce:T,propEach:L,propReduce:I,featureEach:D,featureReduce:A,coordAll:P,geomEach:O,geomReduce:N,flattenEach:R,flattenReduce:F,segmentEach:Y,segmentReduce:z,lineEach:j,lineReduce:B}),Pa=Object.freeze({getCoord:U,getCoords:V,containsNumber:G,geojsonType:q,featureOf:W,collectionOf:$,getGeom:X,getGeomType:Z,getType:J}),Oa={successCallback:null,verbose:!1},Na={},Ra=function e(t,n,r,i,a){for(r=r||0,i=i||t.length-1,a=a||function(e,t){return e<t?-1:e>t?1:0};i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,u=Math.log(o),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(o-l)/o)*(s-o/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*l/o+c)),Math.min(i,Math.floor(n+(o-s)*l/o+c)),a)}var h=t[n],f=r,d=i;for(re(t,r,n),a(t[i],h)>0&&re(t,r,i);f<d;){for(re(t,f,d),f++,d--;a(t[f],h)<0;)f++;for(;a(t[d],h)>0;)d--}0===a(t[r],h)?re(t,r,d):re(t,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}},Fa=ie;ie.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!de(e,t))return n;for(var i,a,o,s,u=[];t;){for(i=0,a=t.children.length;i<a;i++)o=t.children[i],de(e,s=t.leaf?r(o):o)&&(t.leaf?n.push(o):fe(e,s)?this._all(o,n):u.push(o));t=u.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!de(e,t))return!1;for(var r,i,a,o,s=[];t;){for(r=0,i=t.children.length;r<i;r++)if(a=t.children[r],de(e,o=t.leaf?n(a):a)){if(t.leaf||fe(e,o))return!0;s.push(a)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=pe([]),this},remove:function(e,t){if(!e)return this;for(var n,r,i,a,o=this.data,s=this.toBBox(e),u=[],l=[];o||u.length;){if(o||(o=u.pop(),r=u[u.length-1],n=l.pop(),a=!0),o.leaf&&-1!==(i=function(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}(e,o.children,t)))return o.children.splice(i,1),u.push(o),this._condense(u),this;a||o.leaf||!fe(o,s)?r?(n++,o=r.children[n],a=!1):o=null:(u.push(o),l.push(n),n=0,r=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:ue,compareMinY:le,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,a=n-t+1,o=this._maxEntries;if(a<=o)return ae(i=pe(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,r-1))),(i=pe([])).leaf=!1,i.height=r;var s,u,l,c,h=Math.ceil(a/o),f=h*Math.ceil(Math.sqrt(o));for(me(e,t,n,f,this.compareMinX),s=t;s<=n;s+=f)for(me(e,s,l=Math.min(s+f-1,n),h,this.compareMinY),u=s;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(e,u,c,r-1));return ae(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,a,o,s,u,l,c,h;r.push(t),!t.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,a=t.children.length;i<a;i++)u=ce(o=t.children[i]),f=e,d=o,(l=(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-u)<h?(h=l,c=u<c?u:c,s=o):l===h&&u<c&&(c=u,s=o);t=s||t.children[0]}var f,d;return t},_insert:function(e,t,n){var r=n?e:(0,this.toBBox)(e),i=[],a=this._chooseSubtree(r,this.data,t,i);for(a.children.push(e),se(a,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),o=pe(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,ae(n,this.toBBox),ae(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(e,t){this.data=pe([e,t]),this.data.height=e.height+1,this.data.leaf=!1,ae(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,a,o,s,u,l,c,h,f,d,p,m,g;for(u=l=1/0,r=t;r<=n-t;r++)h=i=oe(e,0,r,this.toBBox),f=a=oe(e,r,n,this.toBBox),d=Math.max(h.minX,f.minX),p=Math.max(h.minY,f.minY),m=Math.min(h.maxX,f.maxX),g=Math.min(h.maxY,f.maxY),o=Math.max(0,m-d)*Math.max(0,g-p),s=ce(i)+ce(a),o<u?(u=o,c=r,l=s<l?s:l):o===u&&s<l&&(l=s,c=r);return c},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:ue,i=e.leaf?this.compareMinY:le;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,a,o=this.toBBox,s=oe(e,0,t,o),u=oe(e,n-t,n,o),l=he(s)+he(u);for(i=t;i<n-t;i++)a=e.children[i],se(s,e.leaf?o(a):a),l+=he(s);for(i=n-t-1;i>=t;i--)a=e.children[i],se(u,e.leaf?o(a):a),l+=he(u);return l},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)se(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():ae(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};var Ya=function(e,t,n){var r=e*t,i=za*e,a=i-(i-e),o=e-a,s=za*t,u=s-(s-t),l=t-u,c=o*l-(r-a*u-o*u-a*l);return n?(n[0]=c,n[1]=r,n):[c,r]},za=+(Math.pow(2,27)+1),ja=function(e,t){var n,r,i,a,o,s=0|e.length,u=0|t.length;if(1===s&&1===u)return(o=(n=e[0])-((i=n+(r=t[0]))-(a=i-n))+(r-a))?[o,i]:[i];var l,c,h=new Array(s+u),f=0,d=0,p=0,m=Math.abs,g=e[d],v=m(g),y=t[p],_=m(y);v<_?(c=g,(d+=1)<s&&(v=m(g=e[d]))):(c=y,(p+=1)<u&&(_=m(y=t[p]))),d<s&&v<_||p>=u?(l=g,(d+=1)<s&&(v=m(g=e[d]))):(l=y,(p+=1)<u&&(_=m(y=t[p])));for(var b,w,x=l+c,k=x-l,C=c-k,S=C,M=x;d<s&&p<u;)v<_?(l=g,(d+=1)<s&&(v=m(g=e[d]))):(l=y,(p+=1)<u&&(_=m(y=t[p]))),(C=(c=S)-(k=(x=l+c)-l))&&(h[f++]=C),S=M-((b=M+x)-(w=b-M))+(x-w),M=b;for(;d<s;)(C=(c=S)-(k=(x=(l=g)+c)-l))&&(h[f++]=C),S=M-((b=M+x)-(w=b-M))+(x-w),M=b,(d+=1)<s&&(g=e[d]);for(;p<u;)(C=(c=S)-(k=(x=(l=y)+c)-l))&&(h[f++]=C),S=M-((b=M+x)-(w=b-M))+(x-w),M=b,(p+=1)<u&&(y=t[p]);return S&&(h[f++]=S),M&&(h[f++]=M),f||(h[f++]=0),h.length=f,h},Ba=function(e,t,n){var r=e+t,i=r-e,a=t-i,o=e-(r-i);return n?(n[0]=o+a,n[1]=r,n):[o+a,r]},Ha=function(e,t){var n=e.length;if(1===n){var r=Ya(e[0],t);return r[0]?r:[r[1]]}var i=new Array(2*n),a=[.1,.1],o=[.1,.1],s=0;Ya(e[0],t,a),a[0]&&(i[s++]=a[0]);for(var u=1;u<n;++u){Ya(e[u],t,o),Ba(a[1],o[0],a),a[0]&&(i[s++]=a[0]);var l=o[1],c=a[1],h=l+c,f=c-(h-l);a[1]=h,f&&(i[s++]=f)}return a[1]&&(i[s++]=a[1]),0===s&&(i[s++]=0),i.length=s,i},Ua=function(e,t){var n,r,i,a,o,s=0|e.length,u=0|t.length;if(1===s&&1===u)return(o=(n=e[0])-((i=n+(r=-t[0]))-(a=i-n))+(r-a))?[o,i]:[i];var l,c,h=new Array(s+u),f=0,d=0,p=0,m=Math.abs,g=e[d],v=m(g),y=-t[p],_=m(y);v<_?(c=g,(d+=1)<s&&(v=m(g=e[d]))):(c=y,(p+=1)<u&&(_=m(y=-t[p]))),d<s&&v<_||p>=u?(l=g,(d+=1)<s&&(v=m(g=e[d]))):(l=y,(p+=1)<u&&(_=m(y=-t[p])));for(var b,w,x=l+c,k=x-l,C=c-k,S=C,M=x;d<s&&p<u;)v<_?(l=g,(d+=1)<s&&(v=m(g=e[d]))):(l=y,(p+=1)<u&&(_=m(y=-t[p]))),(C=(c=S)-(k=(x=l+c)-l))&&(h[f++]=C),S=M-((b=M+x)-(w=b-M))+(x-w),M=b;for(;d<s;)(C=(c=S)-(k=(x=(l=g)+c)-l))&&(h[f++]=C),S=M-((b=M+x)-(w=b-M))+(x-w),M=b,(d+=1)<s&&(g=e[d]);for(;p<u;)(C=(c=S)-(k=(x=(l=y)+c)-l))&&(h[f++]=C),S=M-((b=M+x)-(w=b-M))+(x-w),M=b,(p+=1)<u&&(y=-t[p]);return S&&(h[f++]=S),M&&(h[f++]=M),f||(h[f++]=0),h.length=f,h},Va=ge(function(e){function t(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),a=0,o=0;a<e.length;++a)a!==t&&(i[o++]=e[r][a]);return n}function n(e){return 1&e?"-":""}function r(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",r(e.slice(0,t)),",",r(e.slice(t)),")"].join("")}function i(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var a=[],o=0;o<e.length;++o)a.push(["scale(",r(i(t(e,o))),",",n(o),e[0][o],")"].join(""));return a}function a(e){for(var n=[],a=[],o=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}(e),s=[],u=0;u<e;++u)0==(1&u)?n.push.apply(n,i(t(o,u))):a.push.apply(a,i(t(o,u))),s.push("m"+u);var l=r(n),c=r(a),h="orientation"+e+"Exact",f=["function ",h,"(",s.join(),"){var p=",l,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",f)(ja,Ya,Ha,Ua)}var o=a(3),s=a(4),u=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),a=(e[0]-n[0])*(t[1]-n[1]),s=i-a;if(i>0){if(a<=0)return s;r=i+a}else{if(!(i<0)||a>=0)return s;r=-(i+a)}var u=33306690738754716e-32*r;return s>=u||s<=-u?s:o(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],a=t[0]-r[0],o=n[0]-r[0],u=e[1]-r[1],l=t[1]-r[1],c=n[1]-r[1],h=e[2]-r[2],f=t[2]-r[2],d=n[2]-r[2],p=a*c,m=o*l,g=o*u,v=i*c,y=i*l,_=a*u,b=h*(p-m)+f*(g-v)+d*(y-_),w=7771561172376103e-31*((Math.abs(p)+Math.abs(m))*Math.abs(h)+(Math.abs(g)+Math.abs(v))*Math.abs(f)+(Math.abs(y)+Math.abs(_))*Math.abs(d));return b>w||-b>w?b:s(e,t,n,r)}];!function(){for(;u.length<=5;)u.push(a(u.length));for(var t=[],n=["slow"],r=0;r<=5;++r)t.push("a"+r),n.push("o"+r);var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(e.exports=o.apply(void 0,[function(e){var t=u[e.length];return t||(t=u[e.length]=a(e.length)),t.apply(void 0,e)}].concat(u)),r=0;r<=5;++r)e.exports[r]=u[r]}()}),Ga=function(e){var t=e.length;if(t<3){for(var n=new Array(t),r=0;r<t;++r)n[r]=r;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}var i=new Array(t);for(r=0;r<t;++r)i[r]=r;i.sort(function(t,n){return e[t][0]-e[n][0]||e[t][1]-e[n][1]});var a=[i[0],i[1]],o=[i[0],i[1]];for(r=2;r<t;++r){for(var s=i[r],u=e[s],l=a.length;l>1&&qa(e[a[l-2]],e[a[l-1]],u)<=0;)l-=1,a.pop();for(a.push(s),l=o.length;l>1&&qa(e[o[l-2]],e[o[l-1]],u)>=0;)l-=1,o.pop();o.push(s)}n=new Array(o.length+a.length-2);for(var c=0,h=(r=0,a.length);r<h;++r)n[c++]=a[r];for(var f=o.length-2;f>0;--f)n[c++]=o[f];return n},qa=Va[3],Wa=ve,$a=ve;ve.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r},_down:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=a+1,s=t[a];if(o<this.length&&n(t[o],s)<0&&(a=o,s=t[o]),n(s,i)>=0)break;t[e]=s,e=a}t[e]=i}},Wa.default=$a;var Xa=function(e,t){for(var n=e[0],r=e[1],i=!1,a=0,o=t.length-1;a<t.length;o=a++){var s=t[a][0],u=t[a][1],l=t[o][1];u>r!=l>r&&n<(t[o][0]-s)*(r-u)/(l-u)+s&&(i=!i)}return i},Za=Va[3],Ja=ye;Ja.default=ye;var Ka=function(e){return e},Qa=function(e){if(null==e)return Ka;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(e,s){s||(t=n=0);var u=2,l=e.length,c=new Array(l);for(c[0]=(t+=e[0])*r+a,c[1]=(n+=e[1])*i+o;u<l;)c[u]=e[u],++u;return c}},eo=function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n},to=function(e,t){function n(e,t){for(var n in e){var i=e[n];delete t[i.start],delete i.start,delete i.end,i.forEach(function(e){r[e<0?~e:e]=1}),o.push(i)}}var r={},i={},a={},o=[],s=-1;return t.forEach(function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++s],t[s]=n,t[r]=i)}),t.forEach(function(t){var n,r,o,s,u,l,c=(l=(u=e.arcs[(o=t)<0?~o:o])[0],e.transform?(s=[0,0],u.forEach(function(e){s[0]+=e[0],s[1]+=e[1]})):s=u[u.length-1],o<0?[s,l]:[l,s]),h=c[0],f=c[1];if(n=a[h])if(delete a[n.end],n.push(t),n.end=f,r=i[f]){delete i[r.start];var d=r===n?n:n.concat(r);i[d.start=n.start]=a[d.end=r.end]=d}else i[n.start]=a[n.end]=n;else if(n=i[f])if(delete i[n.start],n.unshift(t),n.start=h,r=a[h]){delete a[r.end];var p=r===n?n:r.concat(n);i[p.start=r.start]=a[p.end=n.end]=p}else i[n.start]=a[n.end]=n;else i[(n=[t]).start=h]=a[n.end=f]=n}),n(a,i),n(i,a),t.forEach(function(e){r[e<0?~e:e]||o.push([e])}),o},no=function(e){return Be(e,He.apply(this,arguments))},ro=function(e,t,n,r,i,a){3===arguments.length&&(r=a=Array,i=null);for(var o=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),s=new a(e),u=e-1,l=0;l<e;++l)o[l]=i;return{set:function(r,a){for(var l=t(r)&u,c=o[l],h=0;c!=i;){if(n(c,r))return s[l]=a;if(++h>=e)throw new Error("full hashmap");c=o[l=l+1&u]}return o[l]=r,s[l]=a,a},maybeSet:function(r,a){for(var l=t(r)&u,c=o[l],h=0;c!=i;){if(n(c,r))return s[l];if(++h>=e)throw new Error("full hashmap");c=o[l=l+1&u]}return o[l]=r,s[l]=a,a},get:function(r,a){for(var l=t(r)&u,c=o[l],h=0;c!=i;){if(n(c,r))return s[l];if(++h>=e)break;c=o[l=l+1&u]}return a},keys:function(){for(var e=[],t=0,n=o.length;t<n;++t){var r=o[t];r!=i&&e.push(r)}return e}}},io=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ao=new ArrayBuffer(16),oo=new Float64Array(ao),so=new Uint32Array(ao),uo=function(e){oo[0]=e[0],oo[1]=e[1];var t=so[0]^so[1];return 2147483647&(t<<5^t>>7^so[2]^so[3])},lo=function(e,t){function n(e){e&&c.hasOwnProperty(e.type)&&c[e.type](e)}function r(e){var t=[];do{var n=l.get(e);t.push(e[0]<e[1]?n:~n)}while(e=e.next);return t}function i(e){return e.map(r)}var a=function(e){function t(e){null!=e&&l.hasOwnProperty(e.type)&&l[e.type](e)}function n(e){var t=e[0],n=e[1];t<a&&(a=t),t>s&&(s=t),n<o&&(o=n),n>u&&(u=n)}function r(e){e.forEach(n)}function i(e){e.forEach(r)}var a=1/0,o=1/0,s=-1/0,u=-1/0,l={GeometryCollection:function(e){e.geometries.forEach(t)},Point:function(e){n(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(n)},LineString:function(e){r(e.arcs)},MultiLineString:function(e){e.arcs.forEach(r)},Polygon:function(e){e.arcs.forEach(r)},MultiPolygon:function(e){e.arcs.forEach(i)}};for(var c in e)t(e[c]);return s>=a&&u>=o?[a,o,s,u]:void 0}(e=function(e){var t,n={};for(t in e)n[t]=Ve(e[t]);return n}(e)),o=t>0&&a&&function(e,t,n){function r(e){return[Math.round((e[0]-l)*d),Math.round((e[1]-c)*p)]}function i(e,t){for(var n,r,i,a,o,s=-1,u=0,h=e.length,f=new Array(h);++s<h;)n=e[s],a=Math.round((n[0]-l)*d),o=Math.round((n[1]-c)*p),a===r&&o===i||(f[u++]=[r=a,i=o]);for(f.length=u;u<t;)u=f.push([f[0][0],f[0][1]]);return f}function a(e){return i(e,2)}function o(e){return i(e,4)}function s(e){return e.map(o)}function u(e){null!=e&&m.hasOwnProperty(e.type)&&m[e.type](e)}var l=t[0],c=t[1],h=t[2],f=t[3],d=h-l?(n-1)/(h-l):1,p=f-c?(n-1)/(f-c):1,m={GeometryCollection:function(e){e.geometries.forEach(u)},Point:function(e){e.coordinates=r(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(r)},LineString:function(e){e.arcs=a(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(a)},Polygon:function(e){e.arcs=s(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(s)}};for(var g in e)u(e[g]);return{scale:[1/d,1/p],translate:[l,c]}}(e,a,t),s=function(e){function t(e){var t,n,r,i,a,o,s,u;if(r=d.get(t=l[e[0]]))for(s=0,u=r.length;s<u;++s)if(function(e,t){var n=e[0],r=t[0],i=e[1];if(n-i!=r-t[1])return!1;for(;n<=i;++n,++r)if(!io(l[n],l[r]))return!1;return!0}(i=r[s],e))return e[0]=i[0],void(e[1]=i[1]);if(a=d.get(n=l[e[1]]))for(s=0,u=a.length;s<u;++s)if(function(e,t){var n=e[0],r=e[1],i=t[1];if(n-r!=t[0]-i)return!1;for(;n<=r;++n,--i)if(!io(l[n],l[i]))return!1;return!0}(o=a[s],e))return e[1]=o[0],void(e[0]=o[1]);r?r.push(e):d.set(t,[e]),a?a.push(e):d.set(n,[e]),p.push(e)}function n(e,t){var n=e[0],r=t[0],a=e[1]-n;if(a!==t[1]-r)return!1;for(var o=i(e),s=i(t),u=0;u<a;++u)if(!io(l[n+(u+o)%a],l[r+(u+s)%a]))return!1;return!0}function r(e,t){var n=e[0],r=t[1],a=e[1]-n;if(a!==r-t[0])return!1;for(var o=i(e),s=a-i(t),u=0;u<a;++u)if(!io(l[n+(u+o)%a],l[r-(u+s)%a]))return!1;return!0}function i(e){for(var t=e[0],n=e[1],r=t,i=r,a=l[r];++r<n;){var o=l[r];(o[0]<a[0]||o[0]===a[0]&&o[1]<a[1])&&(i=r,a=o)}return i-t}var a,o,s,u,l=e.coordinates,c=e.lines,h=e.rings,f=c.length+h.length;for(delete e.lines,delete e.rings,s=0,u=c.length;s<u;++s)for(a=c[s];a=a.next;)++f;for(s=0,u=h.length;s<u;++s)for(o=h[s];o=o.next;)++f;var d=ro(2*f*1.4,uo,io),p=e.arcs=[];for(s=0,u=c.length;s<u;++s){a=c[s];do{t(a)}while(a=a.next)}for(s=0,u=h.length;s<u;++s)if((o=h[s]).next)do{t(o)}while(o=o.next);else!function(e){var t,a,o,s,u;if(a=d.get(l[e[0]]))for(s=0,u=a.length;s<u;++s){if(n(o=a[s],e))return e[0]=o[0],void(e[1]=o[1]);if(r(o,e))return e[0]=o[1],void(e[1]=o[0])}if(a=d.get(t=l[e[0]+i(e)]))for(s=0,u=a.length;s<u;++s){if(n(o=a[s],e))return e[0]=o[0],void(e[1]=o[1]);if(r(o,e))return e[0]=o[1],void(e[1]=o[0])}a?a.push(e):d.set(t,[e]),p.push(e)}(o);return e}(function(e){var t,n,r,i,a,o,s,u=function(e){function t(e,t,n,r){if(f[n]!==e){f[n]=e;var i=d[n];if(i>=0){var a=p[n];i===t&&a===r||i===r&&a===t||(++g,m[n]=1)}else d[n]=t,p[n]=r}}function n(e){return uo(u[e])}function r(e,t){return io(u[e],u[t])}var i,a,o,s,u=e.coordinates,l=e.lines,c=e.rings,h=function(){for(var e=ro(1.4*u.length,n,r,Int32Array,-1,Int32Array),t=new Int32Array(u.length),i=0,a=u.length;i<a;++i)t[i]=e.maybeSet(i,i);return t}(),f=new Int32Array(u.length),d=new Int32Array(u.length),p=new Int32Array(u.length),m=new Int8Array(u.length),g=0;for(i=0,a=u.length;i<a;++i)f[i]=d[i]=p[i]=-1;for(i=0,a=l.length;i<a;++i){var v=l[i],y=v[0],_=v[1];for(o=h[y],s=h[++y],++g,m[o]=1;++y<=_;)t(i,o,o=s,s=h[y]);++g,m[s]=1}for(i=0,a=u.length;i<a;++i)f[i]=-1;for(i=0,a=c.length;i<a;++i){var b=c[i],w=b[0]+1,x=b[1];for(t(i,h[x-1],o=h[w-1],s=h[w]);++w<=x;)t(i,o,o=s,s=h[w])}f=d=p=null;var k,C=function(e,t,n,r,i){3===arguments.length&&(r=Array,i=null);for(var a=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),o=e-1,s=0;s<e;++s)a[s]=i;return{add:function(r){for(var s=t(r)&o,u=a[s],l=0;u!=i;){if(n(u,r))return!0;if(++l>=e)throw new Error("full hashset");u=a[s=s+1&o]}return a[s]=r,!0},has:function(r){for(var s=t(r)&o,u=a[s],l=0;u!=i;){if(n(u,r))return!0;if(++l>=e)break;u=a[s=s+1&o]}return!1},values:function(){for(var e=[],t=0,n=a.length;t<n;++t){var r=a[t];r!=i&&e.push(r)}return e}}}(1.4*g,uo,io);for(i=0,a=u.length;i<a;++i)m[k=h[i]]&&C.add(u[k]);return C}(e),l=e.coordinates,c=e.lines,h=e.rings;for(n=0,r=c.length;n<r;++n)for(var f=c[n],d=f[0],p=f[1];++d<p;)u.has(l[d])&&(t={0:d,1:f[1]},f[1]=d,f=f.next=t);for(n=0,r=h.length;n<r;++n)for(var m=h[n],g=m[0],v=g,y=m[1],_=u.has(l[g]);++v<y;)u.has(l[v])&&(_?(t={0:v,1:m[1]},m[1]=v,m=m.next=t):(s=y-v,Ue(i=l,a=g,o=y),Ue(i,a,a+s),Ue(i,a+s,o),l[y]=l[g],_=!0,v=g));return e}(function(e){function t(e){e&&l.hasOwnProperty(e.type)&&l[e.type](e)}function n(e){for(var t=0,n=e.length;t<n;++t)u[++a]=e[t];var r={0:a-n+1,1:a};return o.push(r),r}function r(e){for(var t=0,n=e.length;t<n;++t)u[++a]=e[t];var r={0:a-n+1,1:a};return s.push(r),r}function i(e){return e.map(r)}var a=-1,o=[],s=[],u=[],l={GeometryCollection:function(e){e.geometries.forEach(t)},LineString:function(e){e.arcs=n(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(n)},Polygon:function(e){e.arcs=e.arcs.map(r)},MultiPolygon:function(e){e.arcs=e.arcs.map(i)}};for(var c in e)t(e[c]);return{type:"Topology",coordinates:u,lines:o,rings:s,objects:e}}(e))),u=s.coordinates,l=ro(1.4*s.arcs.length,We,$e);e=s.objects,s.bbox=a,s.arcs=s.arcs.map(function(e,t){return l.set(e,t),u.slice(e[0],e[1]+1)}),delete s.coordinates,u=null;var c={GeometryCollection:function(e){e.geometries.forEach(n)},LineString:function(e){e.arcs=r(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(r)},Polygon:function(e){e.arcs=e.arcs.map(r)},MultiPolygon:function(e){e.arcs=e.arcs.map(i)}};for(var h in e)n(e[h]);return o&&(s.transform=o,s.arcs=function(e){for(var t=-1,n=e.length;++t<n;){for(var r,i,a=e[t],o=0,s=1,u=a.length,l=a[0],c=l[0],h=l[1];++o<u;)r=(l=a[o])[0],i=l[1],r===c&&i===h||(a[s++]=[r-c,i-h],c=r,h=i);1===s&&(a[s++]=[0,0]),a.length=s}return e}(s.arcs)),s},co=function(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var n=this.points[t],r=this.points[t+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){n=this.centers[t],r=this.centers[t+1];var i=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,a=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,o=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+i),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+o)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+i),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+o)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};co.prototype.cacheSteps=function(e){var t=[],n=this.pos(0);t.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>e&&(t.push(r),n=i)}return t},co.prototype.vector=function(e){var t=this.pos(e+10),n=this.pos(e-10);return{angle:180*Math.atan2(t.y-n.y,t.x-n.x)/3.14,speed:Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)+(n.z-t.z)*(n.z-t.z))}},co.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var n=t/this.duration;if(n>=1)return this.points[this.length-1];var r,i,a,o,s,u,l,c=Math.floor((this.points.length-1)*n);return l=[(u=(s=(this.length-1)*n-c)*s)*s,3*u*(1-s),3*s*(1-s)*(1-s),(1-s)*(1-s)*(1-s)],{x:(o=this.points[c+1]).x*l[0]+(a=this.controls[c+1][0]).x*l[1]+(i=this.controls[c][1]).x*l[2]+(r=this.points[c]).x*l[3],y:o.y*l[0]+a.y*l[1]+i.y*l[2]+r.y*l[3],z:o.z*l[0]+a.z*l[1]+i.z*l[2]+r.z*l[3]}};var ho=pt,fo=pt;pt.deviation=function(e,t,n,r){var i=t&&t.length,a=Math.abs(Lt(e,0,i?t[0]*n:e.length,n));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(Lt(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var u=0;for(o=0;o<r.length;o+=3){var l=r[o]*n,c=r[o+1]*n,h=r[o+2]*n;u+=Math.abs((e[l]-e[h])*(e[c+1]-e[l+1])-(e[l]-e[c])*(e[h+1]-e[l+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},pt.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&n.holes.push(r+=e[i-1].length)}return n},ho.default=fo,Nt.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!Vt(e,t))return n;for(var i,a,o,s,u=[];t;){for(i=0,a=t.children.length;i<a;i++)o=t.children[i],Vt(e,s=t.leaf?r(o):o)&&(t.leaf?n.push(o):Ut(e,s)?this._all(o,n):u.push(o));t=u.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!Vt(e,t))return!1;for(var r,i,a,o,s=[];t;){for(r=0,i=t.children.length;r<i;r++)if(a=t.children[r],Vt(e,o=t.leaf?n(a):a)){if(t.leaf||Ut(e,o))return!0;s.push(a)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Gt([]),this},remove:function(e,t){if(!e)return this;for(var n,r,i,a,o=this.data,s=this.toBBox(e),u=[],l=[];o||u.length;){if(o||(o=u.pop(),r=u[u.length-1],n=l.pop(),a=!0),o.leaf&&-1!==(i=function(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}(e,o.children,t)))return o.children.splice(i,1),u.push(o),this._condense(u),this;a||o.leaf||!Ut(o,s)?r?(n++,o=r.children[n],a=!1):o=null:(u.push(o),l.push(n),n=0,r=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:zt,compareMinY:jt,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,a=n-t+1,o=this._maxEntries;if(a<=o)return Rt(i=Gt(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,r-1))),(i=Gt([])).leaf=!1,i.height=r;var s,u,l,c,h=Math.ceil(a/o),f=h*Math.ceil(Math.sqrt(o));for(qt(e,t,n,f,this.compareMinX),s=t;s<=n;s+=f)for(qt(e,s,l=Math.min(s+f-1,n),h,this.compareMinY),u=s;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(e,u,c,r-1));return Rt(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,a,o,s,u,l,c,h;r.push(t),!t.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,a=t.children.length;i<a;i++)u=Bt(o=t.children[i]),f=e,d=o,(l=(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-u)<h?(h=l,c=u<c?u:c,s=o):l===h&&u<c&&(c=u,s=o);t=s||t.children[0]}var f,d;return t},_insert:function(e,t,n){var r=n?e:(0,this.toBBox)(e),i=[],a=this._chooseSubtree(r,this.data,t,i);for(a.children.push(e),Yt(a,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),o=Gt(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,Rt(n,this.toBBox),Rt(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(e,t){this.data=Gt([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Rt(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,a,o,s,u,l,c,h,f,d,p,m,g;for(u=l=1/0,r=t;r<=n-t;r++)h=i=Ft(e,0,r,this.toBBox),f=a=Ft(e,r,n,this.toBBox),d=Math.max(h.minX,f.minX),p=Math.max(h.minY,f.minY),m=Math.min(h.maxX,f.maxX),g=Math.min(h.maxY,f.maxY),o=Math.max(0,m-d)*Math.max(0,g-p),s=Bt(i)+Bt(a),o<u?(u=o,c=r,l=s<l?s:l):o===u&&s<l&&(l=s,c=r);return c},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:zt,i=e.leaf?this.compareMinY:jt;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,a,o=this.toBBox,s=Ft(e,0,t,o),u=Ft(e,n-t,n,o),l=Ht(s)+Ht(u);for(i=t;i<n-t;i++)a=e.children[i],Yt(s,e.leaf?o(a):a),l+=Ht(s);for(i=n-t-1;i>=t;i--)a=e.children[i],Yt(u,e.leaf?o(a):a),l+=Ht(u);return l},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)Yt(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():Rt(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};var po=Object.freeze({toMercator:rn,toWgs84:an}),mo=6378137,go=function(e,t,n,r,i){this.coord=e,this.param=t,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},vo=function(e,t,n,r,i,a,o){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=a,this.ringAndEdge2Walkable=o};Number.prototype.modulo=function(e){return(this%e+e)%e};var yo=Math.PI/180,_o=180/Math.PI,bo=function(e,t){this.lon=e,this.lat=t,this.x=yo*e,this.y=yo*t};bo.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},bo.prototype.antipode=function(){return new bo(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var wo=function(){this.coords=[],this.length=0};wo.prototype.move_to=function(e){this.length++,this.coords.push(e)};var xo=function(e){this.properties=e||{},this.geometries=[]};xo.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},xo.prototype.wkt=function(){for(var e="",t="LINESTRING(",n=function(e){t+=e[0]+" "+e[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),e+=t.substring(0,t.length-1)+")"}return e};var ko=function(e,t,n){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new bo(e.x,e.y),this.end=new bo(t.x,t.y),this.properties=n||{};var r=this.start.x-this.end.x,i=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};ko.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),n=Math.sin(e*this.g)/Math.sin(this.g),r=t*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=t*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),a=t*Math.sin(this.start.y)+n*Math.sin(this.end.y),o=_o*Math.atan2(a,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[_o*Math.atan2(i,r),o]},ko.prototype.Arc=function(e,t){var n=[];if(!e||e<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),i=0;i<e;++i){var a=this.interpolate(r*i);n.push(a)}for(var o=!1,s=0,u=t&&t.offset?t.offset:10,l=180-u,c=-180+u,h=360-u,f=1;f<n.length;++f){var d=n[f-1][0],p=n[f][0],m=Math.abs(p-d);m>h&&(p>l&&d<c||d>l&&p<c)?o=!0:m>s&&(s=m)}var g=[];if(o&&s<u){var v=[];g.push(v);for(var y=0;y<n.length;++y){var _=parseFloat(n[y][0]);if(y>0&&Math.abs(_-n[y-1][0])>h){var b=parseFloat(n[y-1][0]),w=parseFloat(n[y-1][1]),x=parseFloat(n[y][0]),k=parseFloat(n[y][1]);if(b>-180&&b<c&&180===x&&y+1<n.length&&n[y-1][0]>-180&&n[y-1][0]<c){v.push([-180,n[y][1]]),y++,v.push([n[y][0],n[y][1]]);continue}if(b>l&&b<180&&-180===x&&y+1<n.length&&n[y-1][0]>l&&n[y-1][0]<180){v.push([180,n[y][1]]),y++,v.push([n[y][0],n[y][1]]);continue}if(b<c&&x>l){var C=b;b=x,x=C;var S=w;w=k,k=S}if(b>l&&x<c&&(x+=360),b<=180&&x>=180&&b<x){var M=(180-b)/(x-b),E=M*k+(1-M)*w;v.push([n[y-1][0]>l?180:-180,E]),(v=[]).push([n[y-1][0]>l?-180:180,E]),g.push(v)}else g.push(v=[]);v.push([_,n[y][1]])}else v.push([n[y][0],n[y][1]])}}else{var T=[];g.push(T);for(var L=0;L<n.length;++L)T.push([n[L][0],n[L][1]])}for(var I=new xo(this.properties),D=0;D<g.length;++D){var A=new wo;I.geometries.push(A);for(var P=g[D],O=0;O<P.length;++O)A.move_to(P[O])}return I};var Co=jn;jn.polyline=jn,jn.polygon=function(e,t){var n,r,i,a,o,s,u;for(r=1;r<=8;r*=2){for(n=[],a=!(Hn(i=e[e.length-1],t)&r),o=0;o<e.length;o++)(u=!(Hn(s=e[o],t)&r))!==a&&n.push(Bn(i,s,r,t)),u&&n.push(s),i=s,a=u;if(!(e=n).length)break}return n};var So=Array.prototype.slice,Mo={successCallback:null,verbose:!1,polygons:!1},Eo={},To=64,Lo=16,Io=4,Do=1,Ao=[],Po=[],Oo=[],No=[],Ro=[],Fo=[],Yo=[],zo=[],jo=[],Bo=[],Ho=[],Uo=[],Vo=[],Go=[],qo=[],Wo=[],$o=[],Xo=[],Zo=[],Jo=[],Ko=[],Qo=[],es=[],ts=[];Yo[85]=Bo[85]=-1,zo[85]=Ho[85]=0,jo[85]=Uo[85]=1,Zo[85]=Qo[85]=1,Jo[85]=es[85]=0,Ko[85]=ts[85]=1,Ao[85]=No[85]=0,Po[85]=Ro[85]=-1,Oo[85]=qo[85]=0,Wo[85]=Vo[85]=0,$o[85]=Go[85]=1,Fo[85]=Xo[85]=1,Qo[1]=Qo[169]=0,es[1]=es[169]=-1,ts[1]=ts[169]=0,Vo[1]=Vo[169]=-1,Go[1]=Go[169]=0,qo[1]=qo[169]=0,Bo[4]=Bo[166]=0,Ho[4]=Ho[166]=-1,Uo[4]=Uo[166]=1,Wo[4]=Wo[166]=1,$o[4]=$o[166]=0,Xo[4]=Xo[166]=0,Yo[16]=Yo[154]=0,zo[16]=zo[154]=1,jo[16]=jo[154]=1,No[16]=No[154]=1,Ro[16]=Ro[154]=0,Fo[16]=Fo[154]=1,Zo[64]=Zo[106]=0,Jo[64]=Jo[106]=1,Ko[64]=Ko[106]=0,Ao[64]=Ao[106]=-1,Po[64]=Po[106]=0,Oo[64]=Oo[106]=1,Zo[2]=Zo[168]=0,Jo[2]=Jo[168]=-1,Ko[2]=Ko[168]=1,Qo[2]=Qo[168]=0,es[2]=es[168]=-1,ts[2]=ts[168]=0,Vo[2]=Vo[168]=-1,Go[2]=Go[168]=0,qo[2]=qo[168]=0,Wo[2]=Wo[168]=-1,$o[2]=$o[168]=0,Xo[2]=Xo[168]=1,Yo[8]=Yo[162]=0,zo[8]=zo[162]=-1,jo[8]=jo[162]=0,Bo[8]=Bo[162]=0,Ho[8]=Ho[162]=-1,Uo[8]=Uo[162]=1,Vo[8]=Vo[162]=1,Go[8]=Go[162]=0,qo[8]=qo[162]=1,Wo[8]=Wo[162]=1,$o[8]=$o[162]=0,Xo[8]=Xo[162]=0,Yo[32]=Yo[138]=0,zo[32]=zo[138]=1,jo[32]=jo[138]=1,Bo[32]=Bo[138]=0,Ho[32]=Ho[138]=1,Uo[32]=Uo[138]=0,Ao[32]=Ao[138]=1,Po[32]=Po[138]=0,Oo[32]=Oo[138]=0,No[32]=No[138]=1,Ro[32]=Ro[138]=0,Fo[32]=Fo[138]=1,Qo[128]=Qo[42]=0,es[128]=es[42]=1,ts[128]=ts[42]=1,Zo[128]=Zo[42]=0,Jo[128]=Jo[42]=1,Ko[128]=Ko[42]=0,Ao[128]=Ao[42]=-1,Po[128]=Po[42]=0,Oo[128]=Oo[42]=1,No[128]=No[42]=-1,Ro[128]=Ro[42]=0,Fo[128]=Fo[42]=0,Bo[5]=Bo[165]=-1,Ho[5]=Ho[165]=0,Uo[5]=Uo[165]=0,Qo[5]=Qo[165]=1,es[5]=es[165]=0,ts[5]=ts[165]=0,Wo[20]=Wo[150]=0,$o[20]=$o[150]=1,Xo[20]=Xo[150]=1,No[20]=No[150]=0,Ro[20]=Ro[150]=-1,Fo[20]=Fo[150]=1,Yo[80]=Yo[90]=-1,zo[80]=zo[90]=0,jo[80]=jo[90]=1,Zo[80]=Zo[90]=1,Jo[80]=Jo[90]=0,Ko[80]=Ko[90]=1,Vo[65]=Vo[105]=0,Go[65]=Go[105]=1,qo[65]=qo[105]=0,Ao[65]=Ao[105]=0,Po[65]=Po[105]=-1,Oo[65]=Oo[105]=0,Yo[160]=Yo[10]=-1,zo[160]=zo[10]=0,jo[160]=jo[10]=1,Bo[160]=Bo[10]=-1,Ho[160]=Ho[10]=0,Uo[160]=Uo[10]=0,Qo[160]=Qo[10]=1,es[160]=es[10]=0,ts[160]=ts[10]=0,Zo[160]=Zo[10]=1,Jo[160]=Jo[10]=0,Ko[160]=Ko[10]=1,Wo[130]=Wo[40]=0,$o[130]=$o[40]=1,Xo[130]=Xo[40]=1,Vo[130]=Vo[40]=0,Go[130]=Go[40]=1,qo[130]=qo[40]=0,Ao[130]=Ao[40]=0,Po[130]=Po[40]=-1,Oo[130]=Oo[40]=0,No[130]=No[40]=0,Ro[130]=Ro[40]=-1,Fo[130]=Fo[40]=1,Bo[37]=Bo[133]=0,Ho[37]=Ho[133]=1,Uo[37]=Uo[133]=1,Qo[37]=Qo[133]=0,es[37]=es[133]=1,ts[37]=ts[133]=0,Ao[37]=Ao[133]=-1,Po[37]=Po[133]=0,Oo[37]=Oo[133]=0,No[37]=No[133]=1,Ro[37]=Ro[133]=0,Fo[37]=Fo[133]=0,Wo[148]=Wo[22]=-1,$o[148]=$o[22]=0,Xo[148]=Xo[22]=0,Qo[148]=Qo[22]=0,es[148]=es[22]=-1,ts[148]=ts[22]=1,Zo[148]=Zo[22]=0,Jo[148]=Jo[22]=1,Ko[148]=Ko[22]=1,No[148]=No[22]=-1,Ro[148]=Ro[22]=0,Fo[148]=Fo[22]=1,Yo[82]=Yo[88]=0,zo[82]=zo[88]=-1,jo[82]=jo[88]=1,Wo[82]=Wo[88]=1,$o[82]=$o[88]=0,Xo[82]=Xo[88]=1,Vo[82]=Vo[88]=-1,Go[82]=Go[88]=0,qo[82]=qo[88]=1,Zo[82]=Zo[88]=0,Jo[82]=Jo[88]=-1,Ko[82]=Ko[88]=0,Yo[73]=Yo[97]=0,zo[73]=zo[97]=1,jo[73]=jo[97]=0,Bo[73]=Bo[97]=0,Ho[73]=Ho[97]=-1,Uo[73]=Uo[97]=0,Vo[73]=Vo[97]=1,Go[73]=Go[97]=0,qo[73]=qo[97]=0,Ao[73]=Ao[97]=1,Po[73]=Po[97]=0,Oo[73]=Oo[97]=1,Yo[145]=Yo[25]=0,zo[145]=zo[25]=-1,jo[145]=jo[25]=0,Vo[145]=Vo[25]=1,Go[145]=Go[25]=0,qo[145]=qo[25]=1,Qo[145]=Qo[25]=0,es[145]=es[25]=1,ts[145]=ts[25]=1,No[145]=No[25]=-1,Ro[145]=Ro[25]=0,Fo[145]=Fo[25]=0,Bo[70]=Bo[100]=0,Ho[70]=Ho[100]=1,Uo[70]=Uo[100]=0,Wo[70]=Wo[100]=-1,$o[70]=$o[100]=0,Xo[70]=Xo[100]=1,Zo[70]=Zo[100]=0,Jo[70]=Jo[100]=-1,Ko[70]=Ko[100]=1,Ao[70]=Ao[100]=1,Po[70]=Po[100]=0,Oo[70]=Oo[100]=0,Bo[101]=Bo[69]=0,Ho[101]=Ho[69]=1,Uo[101]=Uo[69]=0,Ao[101]=Ao[69]=1,Po[101]=Po[69]=0,Oo[101]=Oo[69]=0,Qo[149]=Qo[21]=0,es[149]=es[21]=1,ts[149]=ts[21]=1,No[149]=No[21]=-1,Ro[149]=Ro[21]=0,Fo[149]=Fo[21]=0,Wo[86]=Wo[84]=-1,$o[86]=$o[84]=0,Xo[86]=Xo[84]=1,Zo[86]=Zo[84]=0,Jo[86]=Jo[84]=-1,Ko[86]=Ko[84]=1,Yo[89]=Yo[81]=0,zo[89]=zo[81]=-1,jo[89]=jo[81]=0,Vo[89]=Vo[81]=1,Go[89]=Go[81]=0,qo[89]=qo[81]=1,Yo[96]=Yo[74]=0,zo[96]=zo[74]=1,jo[96]=jo[74]=0,Bo[96]=Bo[74]=-1,Ho[96]=Ho[74]=0,Uo[96]=Uo[74]=1,Zo[96]=Zo[74]=1,Jo[96]=Jo[74]=0,Ko[96]=Ko[74]=0,Ao[96]=Ao[74]=1,Po[96]=Po[74]=0,Oo[96]=Oo[74]=1,Yo[24]=Yo[146]=0,zo[24]=zo[146]=-1,jo[24]=jo[146]=1,Wo[24]=Wo[146]=1,$o[24]=$o[146]=0,Xo[24]=Xo[146]=1,Vo[24]=Vo[146]=0,Go[24]=Go[146]=1,qo[24]=qo[146]=1,No[24]=No[146]=0,Ro[24]=Ro[146]=-1,Fo[24]=Fo[146]=0,Bo[6]=Bo[164]=-1,Ho[6]=Ho[164]=0,Uo[6]=Uo[164]=1,Wo[6]=Wo[164]=-1,$o[6]=$o[164]=0,Xo[6]=Xo[164]=0,Qo[6]=Qo[164]=0,es[6]=es[164]=-1,ts[6]=ts[164]=1,Zo[6]=Zo[164]=1,Jo[6]=Jo[164]=0,Ko[6]=Ko[164]=0,Vo[129]=Vo[41]=0,Go[129]=Go[41]=1,qo[129]=qo[41]=1,Qo[129]=Qo[41]=0,es[129]=es[41]=1,ts[129]=ts[41]=0,Ao[129]=Ao[41]=-1,Po[129]=Po[41]=0,Oo[129]=Oo[41]=0,No[129]=No[41]=0,Ro[129]=Ro[41]=-1,Fo[129]=Fo[41]=0,Wo[66]=Wo[104]=0,$o[66]=$o[104]=1,Xo[66]=Xo[104]=0,Vo[66]=Vo[104]=-1,Go[66]=Go[104]=0,qo[66]=qo[104]=1,Zo[66]=Zo[104]=0,Jo[66]=Jo[104]=-1,Ko[66]=Ko[104]=0,Ao[66]=Ao[104]=0,Po[66]=Po[104]=-1,Oo[66]=Oo[104]=1,Yo[144]=Yo[26]=-1,zo[144]=zo[26]=0,jo[144]=jo[26]=0,Qo[144]=Qo[26]=1,es[144]=es[26]=0,ts[144]=ts[26]=1,Zo[144]=Zo[26]=0,Jo[144]=Jo[26]=1,Ko[144]=Ko[26]=1,No[144]=No[26]=-1,Ro[144]=Ro[26]=0,Fo[144]=Fo[26]=1,Bo[36]=Bo[134]=0,Ho[36]=Ho[134]=1,Uo[36]=Uo[134]=1,Wo[36]=Wo[134]=0,$o[36]=$o[134]=1,Xo[36]=Xo[134]=0,Ao[36]=Ao[134]=0,Po[36]=Po[134]=-1,Oo[36]=Oo[134]=1,No[36]=No[134]=1,Ro[36]=Ro[134]=0,Fo[36]=Fo[134]=0,Yo[9]=Yo[161]=-1,zo[9]=zo[161]=0,jo[9]=jo[161]=0,Bo[9]=Bo[161]=0,Ho[9]=Ho[161]=-1,Uo[9]=Uo[161]=0,Vo[9]=Vo[161]=1,Go[9]=Go[161]=0,qo[9]=qo[161]=0,Qo[9]=Qo[161]=1,es[9]=es[161]=0,ts[9]=ts[161]=1,Yo[136]=0,zo[136]=1,jo[136]=1,Bo[136]=0,Ho[136]=1,Uo[136]=0,Wo[136]=-1,$o[136]=0,Xo[136]=1,Vo[136]=-1,Go[136]=0,qo[136]=0,Qo[136]=0,es[136]=-1,ts[136]=0,Zo[136]=0,Jo[136]=-1,Ko[136]=1,Ao[136]=1,Po[136]=0,Oo[136]=0,No[136]=1,Ro[136]=0,Fo[136]=1,Yo[34]=0,zo[34]=-1,jo[34]=0,Bo[34]=0,Ho[34]=-1,Uo[34]=1,Wo[34]=1,$o[34]=0,Xo[34]=0,Vo[34]=1,Go[34]=0,qo[34]=1,Qo[34]=0,es[34]=1,ts[34]=1,Zo[34]=0,Jo[34]=1,Ko[34]=0,Ao[34]=-1,Po[34]=0,Oo[34]=1,No[34]=-1,Ro[34]=0,Fo[34]=0,Yo[35]=0,zo[35]=1,jo[35]=1,Bo[35]=0,Ho[35]=-1,Uo[35]=1,Wo[35]=1,$o[35]=0,Xo[35]=0,Vo[35]=-1,Go[35]=0,qo[35]=0,Qo[35]=0,es[35]=-1,ts[35]=0,Zo[35]=0,Jo[35]=1,Ko[35]=0,Ao[35]=-1,Po[35]=0,Oo[35]=1,No[35]=1,Ro[35]=0,Fo[35]=1,Yo[153]=0,zo[153]=1,jo[153]=1,Vo[153]=-1,Go[153]=0,qo[153]=0,Qo[153]=0,es[153]=-1,ts[153]=0,No[153]=1,Ro[153]=0,Fo[153]=1,Bo[102]=0,Ho[102]=-1,Uo[102]=1,Wo[102]=1,$o[102]=0,Xo[102]=0,Zo[102]=0,Jo[102]=1,Ko[102]=0,Ao[102]=-1,Po[102]=0,Oo[102]=1,Yo[155]=0,zo[155]=-1,jo[155]=0,Vo[155]=1,Go[155]=0,qo[155]=1,Qo[155]=0,es[155]=1,ts[155]=1,No[155]=-1,Ro[155]=0,Fo[155]=0,Bo[103]=0,Ho[103]=1,Uo[103]=0,Wo[103]=-1,$o[103]=0,Xo[103]=1,Zo[103]=0,Jo[103]=-1,Ko[103]=1,Ao[103]=1,Po[103]=0,Oo[103]=0,Yo[152]=0,zo[152]=1,jo[152]=1,Wo[152]=-1,$o[152]=0,Xo[152]=1,Vo[152]=-1,Go[152]=0,qo[152]=0,Qo[152]=0,es[152]=-1,ts[152]=0,Zo[152]=0,Jo[152]=-1,Ko[152]=1,No[152]=1,Ro[152]=0,Fo[152]=1,Yo[156]=0,zo[156]=-1,jo[156]=1,Wo[156]=1,$o[156]=0,Xo[156]=1,Vo[156]=-1,Go[156]=0,qo[156]=0,Qo[156]=0,es[156]=-1,ts[156]=0,Zo[156]=0,Jo[156]=1,Ko[156]=1,No[156]=-1,Ro[156]=0,Fo[156]=1,Yo[137]=0,zo[137]=1,jo[137]=1,Bo[137]=0,Ho[137]=1,Uo[137]=0,Vo[137]=-1,Go[137]=0,qo[137]=0,Qo[137]=0,es[137]=-1,ts[137]=0,Ao[137]=1,Po[137]=0,Oo[137]=0,No[137]=1,Ro[137]=0,Fo[137]=1,Yo[139]=0,zo[139]=1,jo[139]=1,Bo[139]=0,Ho[139]=-1,Uo[139]=0,Vo[139]=1,Go[139]=0,qo[139]=0,Qo[139]=0,es[139]=1,ts[139]=0,Ao[139]=-1,Po[139]=0,Oo[139]=0,No[139]=1,Ro[139]=0,Fo[139]=1,Yo[98]=0,zo[98]=-1,jo[98]=0,Bo[98]=0,Ho[98]=-1,Uo[98]=1,Wo[98]=1,$o[98]=0,Xo[98]=0,Vo[98]=1,Go[98]=0,qo[98]=1,Zo[98]=0,Jo[98]=1,Ko[98]=0,Ao[98]=-1,Po[98]=0,Oo[98]=1,Yo[99]=0,zo[99]=1,jo[99]=0,Bo[99]=0,Ho[99]=-1,Uo[99]=1,Wo[99]=1,$o[99]=0,Xo[99]=0,Vo[99]=-1,Go[99]=0,qo[99]=1,Zo[99]=0,Jo[99]=-1,Ko[99]=0,Ao[99]=1,Po[99]=0,Oo[99]=1,Bo[38]=0,Ho[38]=-1,Uo[38]=1,Wo[38]=1,$o[38]=0,Xo[38]=0,Qo[38]=0,es[38]=1,ts[38]=1,Zo[38]=0,Jo[38]=1,Ko[38]=0,Ao[38]=-1,Po[38]=0,Oo[38]=1,No[38]=-1,Ro[38]=0,Fo[38]=0,Bo[39]=0,Ho[39]=1,Uo[39]=1,Wo[39]=-1,$o[39]=0,Xo[39]=0,Qo[39]=0,es[39]=-1,ts[39]=1,Zo[39]=0,Jo[39]=1,Ko[39]=0,Ao[39]=-1,Po[39]=0,Oo[39]=1,No[39]=1,Ro[39]=0,Fo[39]=0;var ns=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},rs=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},is=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},as=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},os=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},ss=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},us=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},ls=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},cs=[],hs=[],fs=[],ds=[],ps=[],ms=[],gs=[],vs=[];ds[1]=ps[1]=18,ds[169]=ps[169]=18,fs[4]=hs[4]=12,fs[166]=hs[166]=12,cs[16]=vs[16]=4,cs[154]=vs[154]=4,ms[64]=gs[64]=22,ms[106]=gs[106]=22,fs[2]=ms[2]=17,ds[2]=ps[2]=18,fs[168]=ms[168]=17,ds[168]=ps[168]=18,cs[8]=ds[8]=9,hs[8]=fs[8]=12,cs[162]=ds[162]=9,hs[162]=fs[162]=12,cs[32]=vs[32]=4,hs[32]=gs[32]=1,cs[138]=vs[138]=4,hs[138]=gs[138]=1,ps[128]=vs[128]=21,ms[128]=gs[128]=22,ps[42]=vs[42]=21,ms[42]=gs[42]=22,hs[5]=ps[5]=14,hs[165]=ps[165]=14,fs[20]=vs[20]=6,fs[150]=vs[150]=6,cs[80]=ms[80]=11,cs[90]=ms[90]=11,ds[65]=gs[65]=3,ds[105]=gs[105]=3,cs[160]=ms[160]=11,hs[160]=ps[160]=14,cs[10]=ms[10]=11,hs[10]=ps[10]=14,fs[130]=vs[130]=6,ds[130]=gs[130]=3,fs[40]=vs[40]=6,ds[40]=gs[40]=3,hs[101]=gs[101]=1,hs[69]=gs[69]=1,ps[149]=vs[149]=21,ps[21]=vs[21]=21,fs[86]=ms[86]=17,fs[84]=ms[84]=17,cs[89]=ds[89]=9,cs[81]=ds[81]=9,cs[96]=gs[96]=0,hs[96]=ms[96]=15,cs[74]=gs[74]=0,hs[74]=ms[74]=15,cs[24]=fs[24]=8,ds[24]=vs[24]=7,cs[146]=fs[146]=8,ds[146]=vs[146]=7,hs[6]=ms[6]=15,fs[6]=ps[6]=16,hs[164]=ms[164]=15,fs[164]=ps[164]=16,ds[129]=vs[129]=7,ps[129]=gs[129]=20,ds[41]=vs[41]=7,ps[41]=gs[41]=20,fs[66]=gs[66]=2,ds[66]=ms[66]=19,fs[104]=gs[104]=2,ds[104]=ms[104]=19,cs[144]=ps[144]=10,ms[144]=vs[144]=23,cs[26]=ps[26]=10,ms[26]=vs[26]=23,hs[36]=vs[36]=5,fs[36]=gs[36]=2,hs[134]=vs[134]=5,fs[134]=gs[134]=2,cs[9]=ps[9]=10,hs[9]=ds[9]=13,cs[161]=ps[161]=10,hs[161]=ds[161]=13,hs[37]=vs[37]=5,ps[37]=gs[37]=20,hs[133]=vs[133]=5,ps[133]=gs[133]=20,fs[148]=ps[148]=16,ms[148]=vs[148]=23,fs[22]=ps[22]=16,ms[22]=vs[22]=23,cs[82]=fs[82]=8,ds[82]=ms[82]=19,cs[88]=fs[88]=8,ds[88]=ms[88]=19,cs[73]=gs[73]=0,hs[73]=ds[73]=13,cs[97]=gs[97]=0,hs[97]=ds[97]=13,cs[145]=ds[145]=9,ps[145]=vs[145]=21,cs[25]=ds[25]=9,ps[25]=vs[25]=21,hs[70]=gs[70]=1,fs[70]=ms[70]=17,hs[100]=gs[100]=1,fs[100]=ms[100]=17,cs[34]=ds[34]=9,hs[34]=fs[34]=12,ps[34]=vs[34]=21,ms[34]=gs[34]=22,cs[136]=vs[136]=4,hs[136]=gs[136]=1,fs[136]=ms[136]=17,ds[136]=ps[136]=18,cs[35]=vs[35]=4,hs[35]=fs[35]=12,ds[35]=ps[35]=18,ms[35]=gs[35]=22,cs[153]=vs[153]=4,ds[153]=ps[153]=18,hs[102]=fs[102]=12,ms[102]=gs[102]=22,cs[155]=ds[155]=9,ps[155]=vs[155]=23,hs[103]=gs[103]=1,fs[103]=ms[103]=17,cs[152]=vs[152]=4,fs[152]=ms[152]=17,ds[152]=ps[152]=18,cs[156]=fs[156]=8,ds[156]=ps[156]=18,ms[156]=vs[156]=23,cs[137]=vs[137]=4,hs[137]=gs[137]=1,ds[137]=ps[137]=18,cs[139]=vs[139]=4,hs[139]=ds[139]=13,ps[139]=gs[139]=20,cs[98]=ds[98]=9,hs[98]=fs[98]=12,ms[98]=gs[98]=22,cs[99]=gs[99]=0,hs[99]=fs[99]=12,ds[99]=ms[99]=19,hs[38]=fs[38]=12,ps[38]=vs[38]=21,ms[38]=gs[38]=22,hs[39]=vs[39]=5,fs[39]=ps[39]=16,ms[39]=gs[39]=22;var ys=[];ys[1]=ys[169]=ns,ys[4]=ys[166]=rs,ys[16]=ys[154]=is,ys[64]=ys[106]=as,ys[168]=ys[2]=os,ys[162]=ys[8]=ss,ys[138]=ys[32]=us,ys[42]=ys[128]=ls,ys[5]=ys[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},ys[20]=ys[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},ys[80]=ys[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},ys[65]=ys[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ys[160]=ys[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},ys[130]=ys[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},ys[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ys[101]=ys[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},ys[149]=ys[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},ys[86]=ys[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},ys[89]=ys[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},ys[96]=ys[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},ys[24]=ys[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},ys[6]=ys[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},ys[129]=ys[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},ys[66]=ys[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ys[144]=ys[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ys[36]=ys[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},ys[9]=ys[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ys[37]=ys[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ys[148]=ys[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ys[82]=ys[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},ys[73]=ys[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},ys[145]=ys[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ys[70]=ys[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ys[34]=function(e){return[ls(e),ss(e)]},ys[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},ys[136]=function(e){return[us(e),os(e)]},ys[153]=function(e){return[is(e),ns(e)]},ys[102]=function(e){return[rs(e),as(e)]},ys[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},ys[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ys[152]=function(e){return[is(e),os(e)]},ys[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},ys[137]=function(e){return[us(e),ns(e)]},ys[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},ys[98]=function(e){return[ss(e),as(e)]},ys[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},ys[38]=function(e){return[rs(e),ls(e)]},ys[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};var _s=function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};_s.buildId=function(e){return e.join(",")},_s.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter(function(t){return t.from.id!==e.from.id})},_s.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter(function(t){return t.to.id!==e.to.id})},_s.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},_s.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort(function(t,n){var r=t.to,i=n.to;if(r.coordinates[0]-e.coordinates[0]>=0&&i.coordinates[0]-e.coordinates[0]<0)return 1;if(r.coordinates[0]-e.coordinates[0]<0&&i.coordinates[0]-e.coordinates[0]>=0)return-1;if(r.coordinates[0]-e.coordinates[0]==0&&i.coordinates[0]-e.coordinates[0]==0)return r.coordinates[1]-e.coordinates[1]>=0||i.coordinates[1]-e.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var a=dr(e.coordinates,r.coordinates,i.coordinates);return a<0?1:a>0?-1:Math.pow(r.coordinates[0]-e.coordinates[0],2)+Math.pow(r.coordinates[1]-e.coordinates[1],2)-(Math.pow(i.coordinates[0]-e.coordinates[0],2)+Math.pow(i.coordinates[1]-e.coordinates[1],2))}),this.outerEdgesSorted=!0)},_s.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},_s.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},_s.prototype.addInnerEdge=function(e){this.innerEdges.push(e)};var bs=function(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};bs.prototype.getSymetric=function(){return this.symetric||(this.symetric=new bs(this.to,this.from),this.symetric.symetric=this),this.symetric},bs.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},bs.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},bs.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},bs.prototype.toLineString=function(){return s([this.from.coordinates,this.to.coordinates])},bs.prototype.compareTo=function(e){return dr(e.from.coordinates,e.to.coordinates,this.to.coordinates)};var ws=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},xs={length:{configurable:!0}};ws.prototype.push=function(e){this[this.edges.length]=e,this.edges.push(e),this.polygon=this.envelope=void 0},ws.prototype.get=function(e){return this.edges[e]},xs.length.get=function(){return this.edges.length},ws.prototype.forEach=function(e){this.edges.forEach(e)},ws.prototype.map=function(e){return this.edges.map(e)},ws.prototype.some=function(e){return this.edges.some(e)},ws.prototype.isValid=function(){return!0},ws.prototype.isHole=function(){var e=this,t=this.edges.reduce(function(t,n,r){return n.from.coordinates[1]>e.edges[t].from.coordinates[1]&&(t=r),t},0),n=(0===t?this.length:t)-1,r=(t+1)%this.length,i=dr(this.edges[n].from.coordinates,this.edges[t].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},ws.prototype.toMultiPoint=function(){return h(this.edges.map(function(e){return e.from.coordinates}))},ws.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map(function(e){return e.from.coordinates});return e.push(this.edges[0].from.coordinates),this.polygon=a([e])},ws.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=ot(this.toPolygon())},ws.findEdgeRingContaining=function(e,t){var n,i,a=e.getEnvelope();return t.forEach(function(t){var o,s,u,l,c,h,f=t.getEnvelope();if(i&&(n=i.getEnvelope()),s=a,u=(o=f).geometry.coordinates.map(function(e){return e[0]}),l=o.geometry.coordinates.map(function(e){return e[1]}),c=s.geometry.coordinates.map(function(e){return e[0]}),h=s.geometry.coordinates.map(function(e){return e[1]}),(Math.max(null,u)!==Math.max(null,c)||Math.max(null,l)!==Math.max(null,h)||Math.min(null,u)!==Math.min(null,c)||Math.min(null,l)!==Math.min(null,h))&&pr(f,a)){var d=e.map(function(e){return e.from.coordinates}).find(function(e){return!t.some(function(t){return function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e,t.from.coordinates)})});d&&t.inside(r(d))&&(i&&!pr(n,f)||(i=t))}}),i},ws.prototype.inside=function(e){return Te(e,this.toPolygon())},Object.defineProperties(ws.prototype,xs);var ks=function(){this.edges=[],this.nodes={}};ks.fromGeoJson=function(e){!function(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var t=new ks;return R(e,function(e){W(e,"LineString","Graph::fromGeoJson"),T(e,function(e,n){if(e){var r=t.getNode(e),i=t.getNode(n);t.addEdge(r,i)}return n})}),t},ks.prototype.getNode=function(e){var t=_s.buildId(e),n=this.nodes[t];return n||(n=this.nodes[t]=new _s(e)),n},ks.prototype.addEdge=function(e,t){var n=new bs(e,t),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},ks.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map(function(t){return e.nodes[t]}).forEach(function(t){return e._removeIfDangle(t)})},ks.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var n=e.getOuterEdges().map(function(e){return e.to});this.removeNode(e),n.forEach(function(e){return t._removeIfDangle(e)})}},ks.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))})},ks.prototype._computeNextCWEdges=function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach(function(e){return t._computeNextCWEdges(t.nodes[e])}):e.getOuterEdges().forEach(function(t,n){e.getOuterEdge((0===n?e.getOuterEdges().length:n)-1).symetric.next=t})},ks.prototype._computeNextCCWEdges=function(e,t){for(var n,r,i=e.getOuterEdges(),a=i.length-1;a>=0;--a){var o=i[a],s=o.symetric,u=void 0,l=void 0;o.label===t&&(u=o),s.label===t&&(l=s),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},ks.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach(function(n){if(!(n.label>=0)){e.push(n);var r=n;do{r.label=t,r=r.next}while(!n.isEqual(r));t++}}),e},ks.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach(function(e){e.label=void 0}),this._findLabeledEdgeRings().forEach(function(t){e._findIntersectionNodes(t).forEach(function(n){e._computeNextCCWEdges(n,t.label)})});var t=[];return this.edges.forEach(function(n){n.ring||t.push(e._findEdgeRing(n))}),t},ks.prototype._findIntersectionNodes=function(e){var t=[],n=e,r=function(){var r=0;n.from.getOuterEdges().forEach(function(t){t.label===e.label&&++r}),r>1&&t.push(n.from),n=n.next};do{r()}while(!e.isEqual(n));return t},ks.prototype._findEdgeRing=function(e){var t=e,n=new ws;do{n.push(t),t.ring=n,t=t.next}while(!e.isEqual(t));return n},ks.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach(function(e){return t.removeEdge(e)}),e.innerEdges.forEach(function(e){return t.removeEdge(e)}),delete this.nodes[e.id]},ks.prototype.removeEdge=function(e){this.edges=this.edges.filter(function(t){return!t.isEqual(e)}),e.deleteEdge()};var Cs=ge(function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),Ss=ge(function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(t=e.exports=i?n:r).supported=n,t.unsupported=r}),Ms=ge(function(e){function t(e){return null==e}function n(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}var r=Array.prototype.slice,i=e.exports=function(e,a,o){return o||(o={}),e===a||(e instanceof Date&&a instanceof Date?e.getTime()===a.getTime():!e||!a||"object"!=typeof e&&"object"!=typeof a?o.strict?e===a:e==a:function(e,a,o){var s,u;if(t(e)||t(a)||e.prototype!==a.prototype)return!1;if(Ss(e))return!!Ss(a)&&(e=r.call(e),a=r.call(a),i(e,a,o));if(n(e)){if(!n(a)||e.length!==a.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==a[s])return!1;return!0}try{var l=Cs(e),c=Cs(a)}catch(h){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),s=l.length-1;s>=0;s--)if(l[s]!=c[s])return!1;for(s=l.length-1;s>=0;s--)if(!i(e[u=l[s]],a[u],o))return!1;return typeof e==typeof a}(e,a,o))}}),Es=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:Sr};Es.prototype.compare=function(e,t){if(e.type!==t.type||!Cr(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,t);case"Feature":return this.compareFeature(e,t);default:if(0===e.type.indexOf("Multi")){var n=this,r=kr(e),i=kr(t);return r.every(function(e){return this.some(function(t){return n.compare(e,t)})},i)}}return!1},Es.prototype.compareCoord=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].toFixed(this.precision)!==t[n].toFixed(this.precision))return!1;return!0},Es.prototype.compareLine=function(e,t,n,r){if(!Cr(e,t))return!1;var i=this.pseudoNode?e:this.removePseudo(e),a=this.pseudoNode?t:this.removePseudo(t);if(!r||this.compareCoord(i[0],a[0])||(a=this.fixStartIndex(a,i))){var o=this.compareCoord(i[n],a[n]);return this.direction||o?this.comparePath(i,a):!!this.compareCoord(i[n],a[a.length-(1+n)])&&this.comparePath(i.slice().reverse(),a)}},Es.prototype.fixStartIndex=function(e,t){for(var n,r=-1,i=0;i<e.length;i++)if(this.compareCoord(e[i],t[0])){r=i;break}return r>=0&&(n=[].concat(e.slice(r,e.length),e.slice(1,r+1))),n},Es.prototype.comparePath=function(e,t){var n=this;return e.every(function(e,t){return n.compareCoord(e,this[t])},t)},Es.prototype.comparePolygon=function(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){var n=e.coordinates.slice(1,e.coordinates.length),r=t.coordinates.slice(1,t.coordinates.length),i=this;return n.every(function(e){return this.some(function(t){return i.compareLine(e,t,1,!0)})},r)}return!1},Es.prototype.compareFeature=function(e,t){return!(e.id!==t.id||!this.objectComparator(e.properties,t.properties)||!this.compareBBox(e,t))&&this.compare(e.geometry,t.geometry)},Es.prototype.compareBBox=function(e,t){return!!(!e.bbox&&!t.bbox||e.bbox&&t.bbox&&this.compareCoord(e.bbox,t.bbox))},Es.prototype.removePseudo=function(e){return e};var Ts=Es,Ls=ge(function(e){function t(e,t,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(e,t,n,r)}t.prototype.run=function(e,t,n,r){this._init(e,t,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var a=this._regionQuery(i);if(a.length<this.minPts)this.noise.push(i);else{var o=this.clusters.length;this.clusters.push([]),this._addToCluster(i,o),this._expandCluster(o,a)}}return this.clusters},t.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this.noise=[],this._datasetLength=e.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},t.prototype._expandCluster=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(t=this._mergeArrays(t,i))}1!==this._assigned[r]&&this._addToCluster(r,e)}},t.prototype._addToCluster=function(e,t){this.clusters[t].push(e),this._assigned[e]=1},t.prototype._regionQuery=function(e){for(var t=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[e],this.dataset[n])<this.epsilon&&t.push(n);return t},t.prototype._mergeArrays=function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r];e.indexOf(i)<0&&e.push(i)}return e},t.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=t)}),Is=ge(function(e){function t(e,t,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(e,t,n)}t.prototype.init=function(e,t,n){this.assignments=[],this.centroids=[],void 0!==e&&(this.dataset=e),void 0!==t&&(this.k=t),void 0!==n&&(this.distance=n)},t.prototype.run=function(e,t){this.init(e,t);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var a=0;a<this.k;a++){for(var o=new Array(c),s=0,u=0;u<c;u++)o[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(a===this.assignments[l]){for(u=0;u<c;u++)o[u]+=this.dataset[l][u];s++}}if(s>0){for(u=0;u<c;u++)o[u]/=s;this.centroids[a]=o}else this.centroids[a]=this.randomCentroid(),i=!0}}return this.getClusters()},t.prototype.randomCentroid=function(){var e,t,n=this.dataset.length-1;do{t=Math.round(Math.random()*n),e=this.dataset[t]}while(this.centroids.indexOf(e)>=0);return e},t.prototype.assign=function(){for(var e,t=!1,n=this.dataset.length,r=0;r<n;r++)(e=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=e,t=!0);return t},t.prototype.getClusters=function(){for(var e,t=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===t[e=this.assignments[n]]&&(t[e]=[]),t[e].push(n);return t},t.prototype.argmin=function(e,t,n){for(var r,i=Number.MAX_VALUE,a=0,o=t.length,s=0;s<o;s++)(r=n(e,t[s]))<i&&(i=r,a=s);return a},t.prototype.distance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)},e.exports&&(e.exports=t)}),Ds=ge(function(e){function t(e,t,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(e,t,n)}t.prototype.insert=function(e,t){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?t>i&&(n=r):t<i&&(n=r)}this._insertAt(e,t,n)},t.prototype.remove=function(e){for(var t=this._queue.length;t--;)if(e===this._queue[t]){this._queue.splice(t,1),this._priorities.splice(t,1);break}},t.prototype.forEach=function(e){this._queue.forEach(e)},t.prototype.getElements=function(){return this._queue},t.prototype.getElementPriority=function(e){return this._priorities[e]},t.prototype.getPriorities=function(){return this._priorities},t.prototype.getElementsWithPriorities=function(){for(var e=[],t=0,n=this._queue.length;t<n;t++)e.push([this._queue[t],this._priorities[t]]);return e},t.prototype._init=function(e,t,n){if(e&&t){if(this._queue=[],this._priorities=[],e.length!==t.length)throw new Error("Arrays must have the same length");for(var r=0;r<e.length;r++)this.insert(e[r],t[r])}n&&(this._sorting=n)},t.prototype._insertAt=function(e,t,n){this._queue.length===n?(this._queue.push(e),this._priorities.push(t)):(this._queue.splice(n,0,e),this._priorities.splice(n,0,t))},e.exports&&(e.exports=t)}),As=ge(function(e){function t(e,t,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(e,t,n,r)}if(e.exports)var n=Ds;t.prototype.run=function(e,t,r,i){this._init(e,t,r,i);for(var a=0,o=this.dataset.length;a<o;a++)if(1!==this._processed[a]){this._processed[a]=1,this.clusters.push([a]);var s=this.clusters.length-1;this._orderedList.push(a);var u=new n(null,null,"asc"),l=this._regionQuery(a);void 0!==this._distanceToCore(a)&&(this._updateQueue(a,l,u),this._expandCluster(s,u))}return this.clusters},t.prototype.getReachabilityPlot=function(){for(var e=[],t=0,n=this._orderedList.length;t<n;t++){var r=this._orderedList[t];e.push([r,this._reachability[r]])}return e},t.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},t.prototype._updateQueue=function(e,t,n){var r=this;this._coreDistance=this._distanceToCore(e),t.forEach(function(t){if(void 0===r._processed[t]){var i=r.distance(r.dataset[e],r.dataset[t]),a=Math.max(r._coreDistance,i);void 0===r._reachability[t]?(r._reachability[t]=a,n.insert(t,a)):a<r._reachability[t]&&(r._reachability[t]=a,n.remove(t),n.insert(t,a))}})},t.prototype._expandCluster=function(e,t){for(var n=t.getElements(),r=0,i=n.length;r<i;r++){var a=n[r];if(void 0===this._processed[a]){var o=this._regionQuery(a);this._processed[a]=1,this.clusters[e].push(a),this._orderedList.push(a),void 0!==this._distanceToCore(a)&&(this._updateQueue(a,o,t),this._expandCluster(e,t))}}},t.prototype._distanceToCore=function(e){for(var t=this.epsilon,n=0;n<t;n++)if(this._regionQuery(e,n).length>=this.minPts)return n},t.prototype._regionQuery=function(e,t){t=t||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[e],this.dataset[r])<t&&n.push(r);return n},t.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=t)}),Ps=ge(function(e){e.exports&&(e.exports={DBSCAN:Ls,KMEANS:Is,OPTICS:As,PriorityQueue:Ds})}),Os=function(e,t,n){for(var r=e.length,i=0,a=0;a<r;a++){var o=(e[a]||0)-(t[a]||0);i+=o*o}return n?Math.sqrt(i):i},Ns=Os,Rs=function(e,t,n){var r=Math.abs(e-t);return n?r:r*r},Fs=Os,Ys={search:function(e,t,n,r){e.cleanDirty();var i=(r=r||{}).heuristic||Ys.heuristics.manhattan,a=r.closest||!1,o=new Ar(function(e){return e.f}),s=t;for(t.h=i(t,n),o.push(t);o.size()>0;){var u=o.pop();if(u===n)return Lr(u);u.closed=!0;for(var l=e.neighbors(u),c=0,h=l.length;c<h;++c){var f=l[c];if(!f.closed&&!f.isWall()){var d=u.g+f.getCost(u),p=f.visited;(!p||d<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||i(f,n),f.g=d,f.f=f.g+f.h,e.markDirty(f),a&&(f.h<s.h||f.h===s.h&&f.g<s.g)&&(s=f),p?o.rescoreElement(f):o.push(f))}}}return a?Lr(s):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var n=Math.sqrt(2),r=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};Ir.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)Ys.cleanNode(this.nodes[e])},Ir.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)Ys.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},Ir.prototype.markDirty=function(e){this.dirtyNodes.push(e)},Ir.prototype.neighbors=function(e){var t=[],n=e.x,r=e.y,i=this.grid;return i[n-1]&&i[n-1][r]&&t.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&t.push(i[n+1][r]),i[n]&&i[n][r-1]&&t.push(i[n][r-1]),i[n]&&i[n][r+1]&&t.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&t.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&t.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&t.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&t.push(i[n+1][r+1])),t},Ir.prototype.toString=function(){for(var e,t,n,r,i=[],a=this.grid,o=0,s=a.length;o<s;o++){for(e=[],n=0,r=(t=a[o]).length;n<r;n++)e.push(t[n].weight);i.push(e.join(" "))}return i.join("\n")},Dr.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Dr.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},Dr.prototype.isWall=function(){return 0===this.weight},Ar.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},bubbleUp:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i,a=e+1<<1,o=a-1,s=null;if(o<t&&(i=this.scoreFunction(this.content[o]))<r&&(s=o),a<t&&this.scoreFunction(this.content[a])<(null===s?r:i)&&(s=a),null===s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}};var zs=function(e){return function(){return e}};Nr.prototype={constructor:Nr,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=zr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Fr(this,n),n=(e=n).U),n.C=!1,r.C=!0,Yr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Yr(this,n),n=(e=n).U),n.C=!1,r.C=!0,Fr(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?zr(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,i.L=e=n.R,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Fr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Yr(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Fr(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Yr(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Fr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Yr(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var js,Bs,Hs,Us,Vs,Gs=[],qs=[],Ws=1e-6,$s=1e-12;ri.prototype={constructor:ri,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return qr(t,e[n])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s=n.site,u=-1,l=t[i[a-1]],c=l.left===s?l.right:l.left;++u<a;)o=c,c=(l=t[i[u]]).left===s?l.right:l.left,o&&c&&r<o.index&&r<c.index&&ti(s,o,c)<0&&e.push([s.data,o.data,c.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var u=e-i.site[0],l=t-i.site[1],c=u*u+l*l;do{i=a.cells[r=o],o=null,i.halfedges.forEach(function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=e-s[0],l=t-s[1],h=u*u+l*l;h<c&&(c=h,o=s.index)}})}while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}};var Xs=Object.freeze({randomPosition:ci,randomPoint:hi,randomPolygon:fi,randomLineString:di}),Zs=Object.freeze({getCluster:mi,clusterEach:gi,clusterReduce:vi,createBins:yi,applyFilter:_i,propertiesContainsFilter:bi,filterProperties:wi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(null==this)throw new TypeError(this+" is not an object");var t=Object(this),n=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)t[r]=e,++r;return t},writable:!0}),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var Js=function(){};Js.prototype.interfaces_=function(){return[]},Js.prototype.getClass=function(){return Js},Js.prototype.equalsWithTolerance=function(e,t,n){return Math.abs(e-t)<=n};var Ks=function(){},Qs=function(){},eu={MAX_VALUE:{configurable:!0}};Qs.isNaN=function(e){return Number.isNaN(e)},Qs.doubleToLongBits=function(e){return e},Qs.longBitsToDouble=function(e){return e},Qs.isInfinite=function(e){return!Number.isFinite(e)},eu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Qs,eu);var tu=function(){},nu=function(){},ru=function(){},iu=function e(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},au={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};iu.prototype.setOrdinate=function(e,t){switch(e){case iu.X:this.x=t;break;case iu.Y:this.y=t;break;case iu.Z:this.z=t;break;default:throw new Ks("Invalid ordinate index: "+e)}},iu.prototype.equals2D=function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!Js.equalsWithTolerance(this.x,t.x,n)&&!!Js.equalsWithTolerance(this.y,t.y,n)}},iu.prototype.getOrdinate=function(e){switch(e){case iu.X:return this.x;case iu.Y:return this.y;case iu.Z:return this.z}throw new Ks("Invalid ordinate index: "+e)},iu.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||Qs.isNaN(this.z))&&Qs.isNaN(e.z)},iu.prototype.equals=function(e){return e instanceof iu&&this.equals2D(e)},iu.prototype.equalInZ=function(e,t){return Js.equalsWithTolerance(this.z,e.z,t)},iu.prototype.compareTo=function(e){return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},iu.prototype.clone=function(){},iu.prototype.copy=function(){return new iu(this)},iu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},iu.prototype.distance3D=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+n*n+r*r)},iu.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},iu.prototype.hashCode=function(){var e=17;return 37*(e=37*e+iu.hashCode(this.x))+iu.hashCode(this.y)},iu.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},iu.prototype.interfaces_=function(){return[tu,nu,xi]},iu.prototype.getClass=function(){return iu},iu.hashCode=function(){if(1===arguments.length){var e=Qs.doubleToLongBits(arguments[0]);return Math.trunc((e^e)>>>32)}},au.DimensionalComparator.get=function(){return ou},au.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},au.NULL_ORDINATE.get=function(){return Qs.NaN},au.X.get=function(){return 0},au.Y.get=function(){return 1},au.Z.get=function(){return 2},Object.defineProperties(iu,au);var ou=function(e){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new Ks("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}};ou.prototype.compare=function(e,t){var n=e,r=t,i=ou.compare(n.x,r.x);if(0!==i)return i;var a=ou.compare(n.y,r.y);return 0!==a?a:this._dimensionsToTest<=2?0:ou.compare(n.z,r.z)},ou.prototype.interfaces_=function(){return[ru]},ou.prototype.getClass=function(){return ou},ou.compare=function(e,t){return e<t?-1:e>t?1:Qs.isNaN(e)?Qs.isNaN(t)?0:-1:Qs.isNaN(t)?1:0};var su=function(){};su.prototype.create=function(){},su.prototype.interfaces_=function(){return[]},su.prototype.getClass=function(){return su};var uu=function(){},lu={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};uu.prototype.interfaces_=function(){return[]},uu.prototype.getClass=function(){return uu},uu.toLocationSymbol=function(e){switch(e){case uu.EXTERIOR:return"e";case uu.BOUNDARY:return"b";case uu.INTERIOR:return"i";case uu.NONE:return"-"}throw new Ks("Unknown location value: "+e)},lu.INTERIOR.get=function(){return 0},lu.BOUNDARY.get=function(){return 1},lu.EXTERIOR.get=function(){return 2},lu.NONE.get=function(){return-1},Object.defineProperties(uu,lu);var cu=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},hu=function(){},fu={LOG_10:{configurable:!0}};hu.prototype.interfaces_=function(){return[]},hu.prototype.getClass=function(){return hu},hu.log10=function(e){var t=Math.log(e);return Qs.isInfinite(t)||Qs.isNaN(t)?t:t/hu.LOG_10},hu.min=function(e,t,n,r){var i=e;return t<i&&(i=t),n<i&&(i=n),r<i&&(i=r),i},hu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],a=arguments[2];return r<i?i:r>a?a:r}},hu.wrap=function(e,t){return e<0?t- -e%t:e%t},hu.max=function(){if(3===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[0];return e>n&&(n=e),t>n&&(n=t),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],a=arguments[3],o=arguments[0];return r>o&&(o=r),i>o&&(o=i),a>o&&(o=a),o}},hu.average=function(e,t){return(e+t)/2},fu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(hu,fu);var du=function(e){this.str=e};du.prototype.append=function(e){this.str+=e},du.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},du.prototype.toString=function(e){return this.str};var pu=function(e){this.value=e};pu.prototype.intValue=function(){return this.value},pu.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},pu.isNaN=function(e){return Number.isNaN(e)};var mu=function(){};mu.isWhitespace=function(e){return e<=32&&e>=0||127===e},mu.toUpperCase=function(e){return e.toUpperCase()};var gu=function e(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof e?this.init(arguments[0]):"string"==typeof arguments[0]&&e.call(this,e.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},vu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};gu.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},gu.prototype.extractSignificantDigits=function(e,t){var n=this.abs(),r=gu.magnitude(n._hi),i=gu.TEN.pow(r);(n=n.divide(i)).gt(gu.TEN)?(n=n.divide(gu.TEN),r+=1):n.lt(gu.ONE)&&(n=n.multiply(gu.TEN),r-=1);for(var a=r+1,o=new du,s=gu.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){e&&u===a&&o.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,o.append(h),n=n.subtract(gu.valueOf(l)).multiply(gu.TEN),c&&n.selfAdd(gu.TEN);var f=!0,d=gu.magnitude(n._hi);if(d<0&&Math.abs(d)>=s-u&&(f=!1),!f)break}return t[0]=r,o.toString()},gu.prototype.sqr=function(){return this.multiply(this)},gu.prototype.doubleValue=function(){return this._hi+this._lo},gu.prototype.subtract=function(){return arguments[0]instanceof gu?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},gu.prototype.equals=function(){if(1===arguments.length){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},gu.prototype.isZero=function(){return 0===this._hi&&0===this._lo},gu.prototype.selfSubtract=function(){if(arguments[0]instanceof gu){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}},gu.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},gu.prototype.min=function(e){return this.le(e)?this:e},gu.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof gu){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var t=arguments[0],n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return this._hi=l=(o=this._hi/t)+(s=(this._hi-(u=o*t)-(l=(n=(s=gu.SPLIT*o)-(n=s-o))*(i=(l=gu.SPLIT*t)-(i=l-t))-u+n*(a=t-i)+(r=o-n)*i+r*a)+this._lo-o*arguments[1])/t),this._lo=o-l+s,this}},gu.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},gu.prototype.divide=function(){if(arguments[0]instanceof gu){var e=arguments[0],t=null,n=null,r=null,i=null,a=null,o=null,s=null,u=null;return n=(a=this._hi/e._hi)-(t=(o=gu.SPLIT*a)-(t=o-a)),u=t*(r=(u=gu.SPLIT*e._hi)-(r=u-e._hi))-(s=a*e._hi)+t*(i=e._hi-r)+n*r+n*i,new gu(u=a+(o=(this._hi-s-u+this._lo-a*e._lo)/e._hi),a-u+o)}if("number"==typeof arguments[0]){var l=arguments[0];return Qs.isNaN(l)?gu.createNaN():gu.copy(this).selfDivide(l,0)}},gu.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},gu.prototype.pow=function(e){if(0===e)return gu.valueOf(1);var t=new gu(this),n=gu.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(t),(r/=2)>0&&(t=t.sqr());else n=t;return e<0?n.reciprocal():n},gu.prototype.ceil=function(){if(this.isNaN())return gu.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new gu(e,t)},gu.prototype.compareTo=function(e){return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},gu.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},gu.prototype.setValue=function(){return arguments[0]instanceof gu||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},gu.prototype.max=function(e){return this.ge(e)?this:e},gu.prototype.sqrt=function(){if(this.isZero())return gu.valueOf(0);if(this.isNegative())return gu.NaN;var e=1/Math.sqrt(this._hi),t=gu.valueOf(this._hi*e),n=this.subtract(t.sqr())._hi*(.5*e);return t.add(n)},gu.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof gu){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0],n=null,r=null,i=null,a=null,o=null;return this._hi=(n=(i=this._hi+t)+(o=t-(a=i-this._hi)+(this._hi-(i-a))+this._lo))+(r=o+(i-n)),this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var s=arguments[0],u=arguments[1],l=null,c=null,h=null,f=null,d=null,p=null,m=null;d=(f=this._hi+s)-(p=f-this._hi),h=(c=this._lo+u)-(m=c-this._lo);var g=(l=f+(p=(d=s-p+(this._hi-d))+c))+(p=(h=u-m+(this._lo-h))+(p+(f-l))),v=p+(l-g);return this._hi=g,this._lo=v,this}},gu.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof gu){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var t=arguments[0],n=null,r=null,i=null,a=null,o=null,s=null;n=(o=gu.SPLIT*this._hi)-this._hi,n=o-n;var u=(o=this._hi*t)+(s=n*(i=(s=gu.SPLIT*t)-(i=s-t))-o+n*(a=t-i)+(r=this._hi-n)*i+r*a+(this._hi*arguments[1]+this._lo*t)),l=s+(n=o-u);return this._hi=u,this._lo=l,this}},gu.prototype.selfSqr=function(){return this.selfMultiply(this)},gu.prototype.floor=function(){if(this.isNaN())return gu.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new gu(e,t)},gu.prototype.negate=function(){return this.isNaN()?this:new gu(-this._hi,-this._lo)},gu.prototype.clone=function(){},gu.prototype.multiply=function(){if(arguments[0]instanceof gu){var e=arguments[0];return e.isNaN()?gu.createNaN():gu.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var t=arguments[0];return Qs.isNaN(t)?gu.createNaN():gu.copy(this).selfMultiply(t,0)}},gu.prototype.isNaN=function(){return Qs.isNaN(this._hi)},gu.prototype.intValue=function(){return Math.trunc(this._hi)},gu.prototype.toString=function(){var e=gu.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},gu.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!0,t),r=t[0]+1,i=n;return"."===n.charAt(0)?i="0"+n:r<0?i="0."+gu.stringOfChar("0",-r)+n:-1===n.indexOf(".")&&(i=n+gu.stringOfChar("0",r-n.length)+".0"),this.isNegative()?"-"+i:i},gu.prototype.reciprocal=function(){var e,t,n,r,i=null,a=null,o=null,s=null;e=(n=1/this._hi)-(i=(o=gu.SPLIT*n)-(i=o-n)),a=(s=gu.SPLIT*this._hi)-this._hi;var u=n+(o=(1-(r=n*this._hi)-(s=i*(a=s-a)-r+i*(t=this._hi-a)+e*a+e*t)-n*this._lo)/this._hi);return new gu(u,n-u+o)},gu.prototype.toSciNotation=function(){if(this.isZero())return gu.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!1,t),r=gu.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var a=n.charAt(0)+"."+i;return this.isNegative()?"-"+a+r:a+r},gu.prototype.abs=function(){return this.isNaN()?gu.NaN:this.isNegative()?this.negate():new gu(this)},gu.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},gu.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},gu.prototype.add=function(){if(arguments[0]instanceof gu){var e=arguments[0];return gu.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var t=arguments[0];return gu.copy(this).selfAdd(t)}},gu.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof gu){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var t=arguments[1];this._hi=arguments[0],this._lo=t}},gu.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},gu.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},gu.prototype.trunc=function(){return this.isNaN()?gu.NaN:this.isPositive()?this.floor():this.ceil()},gu.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},gu.prototype.interfaces_=function(){return[xi,tu,nu]},gu.prototype.getClass=function(){return gu},gu.sqr=function(e){return gu.valueOf(e).selfMultiply(e)},gu.valueOf=function(){return"string"==typeof arguments[0]?gu.parse(arguments[0]):"number"==typeof arguments[0]?new gu(arguments[0]):void 0},gu.sqrt=function(e){return gu.valueOf(e).sqrt()},gu.parse=function(e){for(var t=0,n=e.length;mu.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<n){var i=e.charAt(t);"-"!==i&&"+"!==i||(t++,"-"===i&&(r=!0))}for(var a=new gu,o=0,s=0,u=0;!(t>=n);){var l=e.charAt(t);if(t++,mu.isDigit(l)){var c=l-"0";a.selfMultiply(gu.TEN),a.selfAdd(c),o++}else{if("."!==l){if("e"===l||"E"===l){var h=e.substring(t);try{u=pu.parseInt(h)}catch(g){throw g instanceof Error?new Error("Invalid exponent "+h+" in string "+e):g}break}throw new Error("Unexpected character '"+l+"' at position "+t+" in string "+e)}s=o}}var f=a,d=o-s-u;if(0===d)f=a;else if(d>0){var p=gu.TEN.pow(d);f=a.divide(p)}else if(d<0){var m=gu.TEN.pow(-d);f=a.multiply(m)}return r?f.negate():f},gu.createNaN=function(){return new gu(Qs.NaN,Qs.NaN)},gu.copy=function(e){return new gu(e)},gu.magnitude=function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=t&&(r+=1),r},gu.stringOfChar=function(e,t){for(var n=new du,r=0;r<t;r++)n.append(e);return n.toString()},vu.PI.get=function(){return new gu(3.141592653589793,12246467991473532e-32)},vu.TWO_PI.get=function(){return new gu(6.283185307179586,24492935982947064e-32)},vu.PI_2.get=function(){return new gu(1.5707963267948966,6123233995736766e-32)},vu.E.get=function(){return new gu(2.718281828459045,14456468917292502e-32)},vu.NaN.get=function(){return new gu(Qs.NaN,Qs.NaN)},vu.EPS.get=function(){return 123259516440783e-46},vu.SPLIT.get=function(){return 134217729},vu.MAX_PRINT_DIGITS.get=function(){return 32},vu.TEN.get=function(){return gu.valueOf(10)},vu.ONE.get=function(){return gu.valueOf(1)},vu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},vu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(gu,vu);var yu=function(){},_u={DP_SAFE_EPSILON:{configurable:!0}};yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu},yu.orientationIndex=function(e,t,n){var r=yu.orientationIndexFilter(e,t,n);if(r<=1)return r;var i=gu.valueOf(t.x).selfAdd(-e.x),a=gu.valueOf(t.y).selfAdd(-e.y),o=gu.valueOf(n.x).selfAdd(-t.x),s=gu.valueOf(n.y).selfAdd(-t.y);return i.selfMultiply(s).selfSubtract(a.selfMultiply(o)).signum()},yu.signOfDet2x2=function(e,t,n,r){return e.multiply(r).selfSubtract(t.multiply(n)).signum()},yu.intersection=function(e,t,n,r){var i=gu.valueOf(r.y).selfSubtract(n.y).selfMultiply(gu.valueOf(t.x).selfSubtract(e.x)),a=gu.valueOf(r.x).selfSubtract(n.x).selfMultiply(gu.valueOf(t.y).selfSubtract(e.y)),o=i.subtract(a),s=gu.valueOf(r.x).selfSubtract(n.x).selfMultiply(gu.valueOf(e.y).selfSubtract(n.y)),u=gu.valueOf(r.y).selfSubtract(n.y).selfMultiply(gu.valueOf(e.x).selfSubtract(n.x)),l=s.subtract(u).selfDivide(o).doubleValue(),c=gu.valueOf(e.x).selfAdd(gu.valueOf(t.x).selfSubtract(e.x).selfMultiply(l)).doubleValue(),h=gu.valueOf(t.x).selfSubtract(e.x).selfMultiply(gu.valueOf(e.y).selfSubtract(n.y)),f=gu.valueOf(t.y).selfSubtract(e.y).selfMultiply(gu.valueOf(e.x).selfSubtract(n.x)),d=h.subtract(f).selfDivide(o).doubleValue(),p=gu.valueOf(n.y).selfAdd(gu.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new iu(c,p)},yu.orientationIndexFilter=function(e,t,n){var r=null,i=(e.x-n.x)*(t.y-n.y),a=(e.y-n.y)*(t.x-n.x),o=i-a;if(i>0){if(a<=0)return yu.signum(o);r=i+a}else{if(!(i<0)||a>=0)return yu.signum(o);r=-i-a}var s=yu.DP_SAFE_EPSILON*r;return o>=s||-o>=s?yu.signum(o):2},yu.signum=function(e){return e>0?1:e<0?-1:0},_u.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(yu,_u);var bu=function(){},wu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};wu.X.get=function(){return 0},wu.Y.get=function(){return 1},wu.Z.get=function(){return 2},wu.M.get=function(){return 3},bu.prototype.setOrdinate=function(e,t,n){},bu.prototype.size=function(){},bu.prototype.getOrdinate=function(e,t){},bu.prototype.getCoordinate=function(){},bu.prototype.getCoordinateCopy=function(e){},bu.prototype.getDimension=function(){},bu.prototype.getX=function(e){},bu.prototype.clone=function(){},bu.prototype.expandEnvelope=function(e){},bu.prototype.copy=function(){},bu.prototype.getY=function(e){},bu.prototype.toCoordinateArray=function(){},bu.prototype.interfaces_=function(){return[nu]},bu.prototype.getClass=function(){return bu},Object.defineProperties(bu,wu);var xu=function(){},ku=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(xu),Cu=function(){};Cu.arraycopy=function(e,t,n,r,i){for(var a=0,o=t;o<t+i;o++)n[r+a]=e[o],a++},Cu.getProperty=function(e){return{"line.separator":"\n"}[e]};var Su=function e(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[1];this.x=arguments[0],this.y=n,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var r=arguments[0],i=arguments[1];this.x=r.y*i.w-i.y*r.w,this.y=i.x*r.w-r.x*i.w,this.w=r.x*i.y-i.x*r.y}else if(arguments[0]instanceof iu&&arguments[1]instanceof iu){var a=arguments[0],o=arguments[1];this.x=a.y-o.y,this.y=o.x-a.x,this.w=a.x*o.y-o.x*a.y}}else if(3===arguments.length){var s=arguments[1],u=arguments[2];this.x=arguments[0],this.y=s,this.w=u}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],f=arguments[3],d=l.y-c.y,p=c.x-l.x,m=l.x*c.y-c.x*l.y,g=h.y-f.y,v=f.x-h.x,y=h.x*f.y-f.x*h.y;this.x=p*y-v*m,this.y=g*m-d*y,this.w=d*v-g*p}};Su.prototype.getY=function(){var e=this.y/this.w;if(Qs.isNaN(e)||Qs.isInfinite(e))throw new ku;return e},Su.prototype.getX=function(){var e=this.x/this.w;if(Qs.isNaN(e)||Qs.isInfinite(e))throw new ku;return e},Su.prototype.getCoordinate=function(){var e=new iu;return e.x=this.getX(),e.y=this.getY(),e},Su.prototype.interfaces_=function(){return[]},Su.prototype.getClass=function(){return Su},Su.intersection=function(e,t,n,r){var i=e.y-t.y,a=t.x-e.x,o=e.x*t.y-t.x*e.y,s=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-s*a,h=(a*l-u*o)/c,f=(s*o-i*l)/c;if(Qs.isNaN(h)||Qs.isInfinite(h)||Qs.isNaN(f)||Qs.isInfinite(f))throw new ku;return new iu(h,f)};var Mu=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof iu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else arguments[0]instanceof e&&this.init(arguments[0]);else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Eu={serialVersionUID:{configurable:!0}};Mu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Mu.prototype.equals=function(e){if(!(e instanceof Mu))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()},Mu.prototype.intersection=function(e){return this.isNull()||e.isNull()||!this.intersects(e)?new Mu:new Mu(this._minx>e._minx?this._minx:e._minx,this._maxx<e._maxx?this._maxx:e._maxx,this._miny>e._miny?this._miny:e._miny,this._maxy<e._maxy?this._maxy:e._maxy)},Mu.prototype.isNull=function(){return this._maxx<this._minx},Mu.prototype.getMaxX=function(){return this._maxx},Mu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof iu){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof Mu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Mu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Mu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof iu){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Mu.prototype.getMinY=function(){return this._miny},Mu.prototype.getMinX=function(){return this._minx},Mu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof iu){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof Mu){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Mu.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t},Mu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Mu.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0},Mu.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)},Mu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Mu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Mu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Mu.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t},Mu.prototype.expandBy=function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Mu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Mu)return this.covers(arguments[0]);if(arguments[0]instanceof iu)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Mu.prototype.centre=function(){return this.isNull()?null:new iu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Mu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof iu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof Mu){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];i<a?(this._minx=i,this._maxx=a):(this._minx=a,this._maxx=i),o<s?(this._miny=o,this._maxy=s):(this._miny=s,this._maxy=o)}},Mu.prototype.getMaxY=function(){return this._maxy},Mu.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)},Mu.prototype.hashCode=function(){var e=17;return 37*(e=37*(e=37*(e=37*e+iu.hashCode(this._minx))+iu.hashCode(this._maxx))+iu.hashCode(this._miny))+iu.hashCode(this._maxy)},Mu.prototype.interfaces_=function(){return[tu,xi]},Mu.prototype.getClass=function(){return Mu},Mu.intersects=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],a=arguments[2],o=arguments[3],s=Math.min(a.x,o.x),u=Math.max(a.x,o.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<s||(s=Math.min(a.y,o.y),u=Math.max(a.y,o.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u||c<s))}},Eu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Mu,Eu);var Tu={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Lu=function(e){this.geometryFactory=e||new Kl};Lu.prototype.read=function(e){var t,n;e=e.replace(/[\n\r]/g," ");var r=Tu.typeStr.exec(e);if(-1!==e.search("EMPTY")&&((r=Tu.emptyTypeStr.exec(e))[2]=void 0),r&&(n=r[1].toLowerCase(),Du[n]&&(t=Du[n].apply(this,[r[2]]))),void 0===t)throw new Error("Could not parse WKT "+e);return t},Lu.prototype.write=function(e){return this.extractGeometry(e)},Lu.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!Iu[t])return null;var n=t.toUpperCase();return e.isEmpty()?n+" EMPTY":n+"("+Iu[t].apply(this,[e])+")"};var Iu={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Iu.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Iu.point.apply(this,[e._geometries[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Iu.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},linearring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Iu.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Iu.linestring.apply(this,[e._geometries[n]])+")");return t.join(",")},polygon:function(e){var t=[];t.push("("+Iu.linestring.apply(this,[e._shell])+")");for(var n=0,r=e._holes.length;n<r;++n)t.push("("+Iu.linestring.apply(this,[e._holes[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Iu.polygon.apply(this,[e._geometries[n]])+")");return t.join(",")},geometrycollection:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push(this.extractGeometry(e._geometries[n]));return t.join(",")}},Du={point:function(e){if(void 0===e)return this.geometryFactory.createPoint();var t=e.trim().split(Tu.spaces);return this.geometryFactory.createPoint(new iu(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){if(void 0===e)return this.geometryFactory.createMultiPoint();for(var t,n=e.trim().split(","),r=[],i=0,a=n.length;i<a;++i)t=n[i].replace(Tu.trimParens,"$1"),r.push(Du.point.apply(this,[t]));return this.geometryFactory.createMultiPoint(r)},linestring:function(e){if(void 0===e)return this.geometryFactory.createLineString();for(var t,n=e.trim().split(","),r=[],i=0,a=n.length;i<a;++i)t=n[i].trim().split(Tu.spaces),r.push(new iu(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLineString(r)},linearring:function(e){if(void 0===e)return this.geometryFactory.createLinearRing();for(var t,n=e.trim().split(","),r=[],i=0,a=n.length;i<a;++i)t=n[i].trim().split(Tu.spaces),r.push(new iu(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(e){if(void 0===e)return this.geometryFactory.createMultiLineString();for(var t,n=e.trim().split(Tu.parenComma),r=[],i=0,a=n.length;i<a;++i)t=n[i].replace(Tu.trimParens,"$1"),r.push(Du.linestring.apply(this,[t]));return this.geometryFactory.createMultiLineString(r)},polygon:function(e){if(void 0===e)return this.geometryFactory.createPolygon();for(var t,n,r,i,a=e.trim().split(Tu.parenComma),o=[],s=0,u=a.length;s<u;++s)t=a[s].replace(Tu.trimParens,"$1"),n=Du.linestring.apply(this,[t]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:o.push(r);return this.geometryFactory.createPolygon(i,o)},multipolygon:function(e){if(void 0===e)return this.geometryFactory.createMultiPolygon();for(var t,n=e.trim().split(Tu.doubleParenComma),r=[],i=0,a=n.length;i<a;++i)t=n[i].replace(Tu.trimParens,"$1"),r.push(Du.polygon.apply(this,[t]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(e){if(void 0===e)return this.geometryFactory.createGeometryCollection();for(var t=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=t.length;r<i;++r)n.push(this.read(t[r]));return this.geometryFactory.createGeometryCollection(n)}},Au=function(e){this.parser=new Lu(e)};Au.prototype.write=function(e){return this.parser.write(e)},Au.toLineString=function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var Pu=function(e){function t(t){e.call(this,t),this.name="RuntimeException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),Ou=function(e){function t(){e.call(this),0===arguments.length?e.call(this):1===arguments.length&&e.call(this,arguments[0])}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Pu),Nu=function(){};Nu.prototype.interfaces_=function(){return[]},Nu.prototype.getClass=function(){return Nu},Nu.shouldNeverReachHere=function(){if(0===arguments.length)Nu.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new Ou("Should never reach here"+(null!==e?": "+e:""))}},Nu.isTrue=function(){var e;if(1===arguments.length)Nu.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new Ou:new Ou(e)},Nu.equals=function(){var e,t,n;if(2===arguments.length)Nu.equals(e=arguments[0],t=arguments[1],null);else if(3===arguments.length&&(n=arguments[2],!(t=arguments[1]).equals(e=arguments[0])))throw new Ou("Expected "+e+" but encountered "+t+(null!==n?": "+n:""))};var Ru=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new iu,this._intPt[1]=new iu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Fu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ru.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]},Ru.prototype.getTopologySummary=function(){var e=new du;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},Ru.prototype.computeIntersection=function(e,t,n,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,n,r)},Ru.prototype.getIntersectionNum=function(){return this._result},Ru.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},Ru.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ru.prototype.setPrecisionModel=function(e){this._precisionModel=e},Ru.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}},Ru.prototype.getIntersection=function(e){return this._intPt[e]},Ru.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ru.prototype.hasIntersection=function(){return this._result!==Ru.NO_INTERSECTION},Ru.prototype.getEdgeDistance=function(e,t){return Ru.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1])},Ru.prototype.isCollinear=function(){return this._result===Ru.COLLINEAR_INTERSECTION},Ru.prototype.toString=function(){return Au.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Au.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ru.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]},Ru.prototype.isIntersection=function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1},Ru.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]},Ru.prototype.interfaces_=function(){return[]},Ru.prototype.getClass=function(){return Ru},Ru.computeEdgeDistance=function(e,t,n){var r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),a=-1;if(e.equals(t))a=0;else if(e.equals(n))a=r>i?r:i;else{var o=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(a=r>i?o:s)||e.equals(t)||(a=Math.max(o,s))}return Nu.isTrue(!(0===a&&!e.equals(t)),"Bad distance calculation"),a},Ru.nonRobustComputeEdgeDistance=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,a=Math.sqrt(r*r+i*i);return Nu.isTrue(!(0===a&&!e.equals(t)),"Invalid distance calculation"),a},Fu.DONT_INTERSECT.get=function(){return 0},Fu.DO_INTERSECT.get=function(){return 1},Fu.COLLINEAR.get=function(){return 2},Fu.NO_INTERSECTION.get=function(){return 0},Fu.POINT_INTERSECTION.get=function(){return 1},Fu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ru,Fu);var Yu=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.isInSegmentEnvelopes=function(e){var t=new Mu(this._inputLines[0][0],this._inputLines[0][1]),n=new Mu(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)},t.prototype.computeIntersection=function(){if(3!==arguments.length)return e.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Mu.intersects(n,r,t)&&0===Bu.orientationIndex(n,r,t)&&0===Bu.orientationIndex(r,n,t))return this._isProper=!0,(t.equals(n)||t.equals(r))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},t.prototype.normalizeToMinimum=function(e,t,n,r,i){i.x=this.smallestInAbsValue(e.x,t.x,n.x,r.x),i.y=this.smallestInAbsValue(e.y,t.y,n.y,r.y),e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.safeHCoordinateIntersection=function(e,n,r,i){var a=null;try{a=Su.intersection(e,n,r,i)}catch(o){if(!(o instanceof ku))throw o;a=t.nearestEndpoint(e,n,r,i)}return a},t.prototype.intersection=function(e,n,r,i){var a=this.intersectionWithNormalization(e,n,r,i);return this.isInSegmentEnvelopes(a)||(a=new iu(t.nearestEndpoint(e,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(a),a},t.prototype.smallestInAbsValue=function(e,t,n,r){var i=e,a=Math.abs(i);return Math.abs(t)<a&&(i=t,a=Math.abs(t)),Math.abs(n)<a&&(i=n,a=Math.abs(n)),Math.abs(r)<a&&(i=r),i},t.prototype.checkDD=function(e,t,n,r,i){var a=yu.intersection(e,t,n,r),o=this.isInSegmentEnvelopes(a);Cu.out.println("DD in env = "+o+"  --------------------- "+a),i.distance(a)>1e-4&&Cu.out.println("Distance = "+i.distance(a))},t.prototype.intersectionWithNormalization=function(e,t,n,r){var i=new iu(e),a=new iu(t),o=new iu(n),s=new iu(r),u=new iu;this.normalizeToEnvCentre(i,a,o,s,u);var l=this.safeHCoordinateIntersection(i,a,o,s);return l.x+=u.x,l.y+=u.y,l},t.prototype.computeCollinearIntersection=function(t,n,r,i){var a=Mu.intersects(t,n,r),o=Mu.intersects(t,n,i),s=Mu.intersects(r,i,t),u=Mu.intersects(r,i,n);return a&&o?(this._intPt[0]=r,this._intPt[1]=i,e.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=t,this._intPt[1]=n,e.COLLINEAR_INTERSECTION):a&&s?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||o||u?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):o&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||a||u?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):o&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||a||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(e,t,n,r,i){var a=e.x<t.x?e.x:t.x,o=e.y<t.y?e.y:t.y,s=e.x>t.x?e.x:t.x,u=e.y>t.y?e.y:t.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,d=((o>c?o:c)+(u<f?u:f))/2;i.x=((a>l?a:l)+(s<h?s:h))/2,i.y=d,e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.computeIntersect=function(t,n,r,i){if(this._isProper=!1,!Mu.intersects(t,n,r,i))return e.NO_INTERSECTION;var a=Bu.orientationIndex(t,n,r),o=Bu.orientationIndex(t,n,i);if(a>0&&o>0||a<0&&o<0)return e.NO_INTERSECTION;var s=Bu.orientationIndex(r,i,t),u=Bu.orientationIndex(r,i,n);return s>0&&u>0||s<0&&u<0?e.NO_INTERSECTION:0===a&&0===o&&0===s&&0===u?this.computeCollinearIntersection(t,n,r,i):(0===a||0===o||0===s||0===u?(this._isProper=!1,t.equals2D(r)||t.equals2D(i)?this._intPt[0]=t:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===a?this._intPt[0]=new iu(r):0===o?this._intPt[0]=new iu(i):0===s?this._intPt[0]=new iu(t):0===u&&(this._intPt[0]=new iu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(t,n,r,i)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(e,t,n,r){var i=e,a=Bu.distancePointLine(e,n,r),o=Bu.distancePointLine(t,n,r);return o<a&&(a=o,i=t),(o=Bu.distancePointLine(n,e,t))<a&&(a=o,i=n),(o=Bu.distancePointLine(r,e,t))<a&&(a=o,i=r),i},t}(Ru),zu=function(){};zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu},zu.orientationIndex=function(e,t,n){return zu.signOfDet2x2(t.x-e.x,t.y-e.y,n.x-t.x,n.y-t.y)},zu.signOfDet2x2=function(e,t,n,r){var i=null,a=null,o=null;if(i=1,0===e||0===r)return 0===t||0===n?0:t>0?n>0?-i:i:n>0?i:-i;if(0===t||0===n)return r>0?e>0?i:-i:e>0?-i:i;if(t>0?r>0?t<=r||(i=-i,a=e,e=n,n=a,a=t,t=r,r=a):t<=-r?(i=-i,n=-n,r=-r):(a=e,e=-n,n=a,a=t,t=-r,r=a):r>0?-t<=r?(i=-i,e=-e,t=-t):(a=-e,e=n,n=a,a=-t,t=r,r=a):t>=r?(e=-e,t=-t,n=-n,r=-r):(i=-i,a=-e,e=-n,n=a,a=-t,t=-r,r=a),e>0){if(!(n>0&&e<=n))return i}else{if(n>0||!(e>=n))return-i;i=-i,e=-e,n=-n}for(;;){if((r-=(o=Math.floor(n/e))*t)<0)return-i;if(r>t)return i;if(e>(n-=o*e)+n){if(t<r+r)return i}else{if(t>r+r)return-i;n=e-n,r=t-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n||(e-=(o=Math.floor(e/n))*n,(t-=o*r)<0))return i;if(t>r)return-i;if(n>e+e){if(r<t+t)return-i}else{if(r>t+t)return i;e=n-e,t=r-t,i=-i}if(0===t)return 0===e?0:i;if(0===e)return-i}};var ju=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};ju.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var i=e.y-this._p.y,a=t.y-this._p.y,o=zu.signOfDet2x2(e.x-this._p.x,i,t.x-this._p.x,a);if(0===o)return this._isPointOnSegment=!0,null;a<i&&(o=-o),o>0&&this._crossingCount++}},ju.prototype.isPointInPolygon=function(){return this.getLocation()!==uu.EXTERIOR},ju.prototype.getLocation=function(){return this._isPointOnSegment?uu.BOUNDARY:this._crossingCount%2==1?uu.INTERIOR:uu.EXTERIOR},ju.prototype.isOnSegment=function(){return this._isPointOnSegment},ju.prototype.interfaces_=function(){return[]},ju.prototype.getClass=function(){return ju},ju.locatePointInRing=function(){if(arguments[0]instanceof iu&&cu(arguments[1],bu)){for(var e=arguments[1],t=new ju(arguments[0]),n=new iu,r=new iu,i=1;i<e.size();i++)if(e.getCoordinate(i,n),e.getCoordinate(i-1,r),t.countSegment(n,r),t.isOnSegment())return t.getLocation();return t.getLocation()}if(arguments[0]instanceof iu&&arguments[1]instanceof Array){for(var a=arguments[1],o=new ju(arguments[0]),s=1;s<a.length;s++)if(o.countSegment(a[s],a[s-1]),o.isOnSegment())return o.getLocation();return o.getLocation()}};var Bu=function(){},Hu={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Bu.prototype.interfaces_=function(){return[]},Bu.prototype.getClass=function(){return Bu},Bu.orientationIndex=function(e,t,n){return yu.orientationIndex(e,t,n)},Bu.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++)t+=(e[r].x-n)*(e[r-1].y-e[r+1].y);return t/2}if(cu(arguments[0],bu)){var i=arguments[0],a=i.size();if(a<3)return 0;var o=new iu,s=new iu,u=new iu;i.getCoordinate(0,s),i.getCoordinate(1,u);var l=s.x;u.x-=l;for(var c=0,h=1;h<a-1;h++)o.y=s.y,s.x=u.x,s.y=u.y,i.getCoordinate(h+1,u),u.x-=l,c+=s.x*(o.y-u.y);return c/2}},Bu.distanceLineLine=function(e,t,n,r){if(e.equals(t))return Bu.distancePointLine(e,n,r);if(n.equals(r))return Bu.distancePointLine(r,e,t);var i=!1;if(Mu.intersects(e,t,n,r)){var a=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(0===a)i=!0;else{var o=((e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/a,s=((e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y))/a;(s<0||s>1||o<0||o>1)&&(i=!0)}}else i=!0;return i?hu.min(Bu.distancePointLine(e,n,r),Bu.distancePointLine(t,n,r),Bu.distancePointLine(n,e,t),Bu.distancePointLine(r,e,t)):0},Bu.isPointInRing=function(e,t){return Bu.locatePointInRing(e,t)!==uu.EXTERIOR},Bu.computeLength=function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new iu;e.getCoordinate(0,r);for(var i=r.x,a=r.y,o=1;o<t;o++){e.getCoordinate(o,r);var s=r.x,u=r.y,l=s-i,c=u-a;n+=Math.sqrt(l*l+c*c),i=s,a=u}return n},Bu.isCCW=function(e){var t=e.length-1;if(t<3)throw new Ks("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],r=0,i=1;i<=t;i++){var a=e[i];a.y>n.y&&(n=a,r=i)}var o=r;do{(o-=1)<0&&(o=t)}while(e[o].equals2D(n)&&o!==r);var s=r;do{s=(s+1)%t}while(e[s].equals2D(n)&&s!==r);var u=e[o],l=e[s];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=Bu.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},Bu.locatePointInRing=function(e,t){return ju.locatePointInRing(e,t)},Bu.distancePointLinePerpendicular=function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y);return Math.abs(((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r)*Math.sqrt(r)},Bu.computeOrientation=function(e,t,n){return Bu.orientationIndex(e,t,n)},Bu.distancePointLine=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(0===t.length)throw new Ks("Line array must contain at least one vertex");for(var n=e.distance(t[0]),r=0;r<t.length-1;r++){var i=Bu.distancePointLine(e,t[r],t[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var a=arguments[0],o=arguments[1],s=arguments[2];if(o.x===s.x&&o.y===s.y)return a.distance(o);var u=(s.x-o.x)*(s.x-o.x)+(s.y-o.y)*(s.y-o.y),l=((a.x-o.x)*(s.x-o.x)+(a.y-o.y)*(s.y-o.y))/u;return l<=0?a.distance(o):l>=1?a.distance(s):Math.abs(((o.y-a.y)*(s.x-o.x)-(o.x-a.x)*(s.y-o.y))/u)*Math.sqrt(u)}},Bu.isOnLine=function(e,t){for(var n=new Yu,r=1;r<t.length;r++)if(n.computeIntersection(e,t[r-1],t[r]),n.hasIntersection())return!0;return!1},Hu.CLOCKWISE.get=function(){return-1},Hu.RIGHT.get=function(){return Bu.CLOCKWISE},Hu.COUNTERCLOCKWISE.get=function(){return 1},Hu.LEFT.get=function(){return Bu.COUNTERCLOCKWISE},Hu.COLLINEAR.get=function(){return 0},Hu.STRAIGHT.get=function(){return Bu.COLLINEAR},Object.defineProperties(Bu,Hu);var Uu=function(){};Uu.prototype.filter=function(e){},Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu};var Vu=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},Gu={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Vu.prototype.isGeometryCollection=function(){return this.getSortIndex()===Vu.SORTINDEX_GEOMETRYCOLLECTION},Vu.prototype.getFactory=function(){return this._factory},Vu.prototype.getGeometryN=function(e){return this},Vu.prototype.getArea=function(){return 0},Vu.prototype.isRectangle=function(){return!1},Vu.prototype.equals=function(){if(arguments[0]instanceof Vu){var e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var t=arguments[0];return t instanceof Vu&&this.equalsExact(t)}},Vu.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},Vu.prototype.geometryChanged=function(){this.apply(Vu.geometryChangedFilter)},Vu.prototype.geometryChangedAction=function(){this._envelope=null},Vu.prototype.equalsNorm=function(e){return null!==e&&this.norm().equalsExact(e.norm())},Vu.prototype.getLength=function(){return 0},Vu.prototype.getNumGeometries=function(){return 1},Vu.prototype.compareTo=function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},Vu.prototype.getUserData=function(){return this._userData},Vu.prototype.getSRID=function(){return this._SRID},Vu.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Vu.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===Vu.SORTINDEX_GEOMETRYCOLLECTION)throw new Ks("This method does not support GeometryCollection arguments")},Vu.prototype.equal=function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n},Vu.prototype.norm=function(){var e=this.copy();return e.normalize(),e},Vu.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Vu.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Mu(this._envelope)},Vu.prototype.setSRID=function(e){this._SRID=e},Vu.prototype.setUserData=function(e){this._userData=e},Vu.prototype.compare=function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),a=r.next(),o=i.compareTo(a);if(0!==o)return o}return n.hasNext()?1:r.hasNext()?-1:0},Vu.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Vu.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Vu.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Vu.SORTINDEX_MULTIPOINT||this.getSortIndex()===Vu.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Vu.SORTINDEX_MULTIPOLYGON},Vu.prototype.interfaces_=function(){return[nu,tu,xi]},Vu.prototype.getClass=function(){return Vu},Vu.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1},Vu.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1},Gu.serialVersionUID.get=function(){return 0x799ea46522854c00},Gu.SORTINDEX_POINT.get=function(){return 0},Gu.SORTINDEX_MULTIPOINT.get=function(){return 1},Gu.SORTINDEX_LINESTRING.get=function(){return 2},Gu.SORTINDEX_LINEARRING.get=function(){return 3},Gu.SORTINDEX_MULTILINESTRING.get=function(){return 4},Gu.SORTINDEX_POLYGON.get=function(){return 5},Gu.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Gu.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Gu.geometryChangedFilter.get=function(){return qu},Object.defineProperties(Vu,Gu);var qu=function(){};qu.interfaces_=function(){return[Uu]},qu.filter=function(e){e.geometryChangedAction()};var Wu=function(){};Wu.prototype.filter=function(e){},Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu};var $u=function(){},Xu={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};$u.prototype.isInBoundary=function(e){},$u.prototype.interfaces_=function(){return[]},$u.prototype.getClass=function(){return $u},Xu.Mod2BoundaryNodeRule.get=function(){return Zu},Xu.EndPointBoundaryNodeRule.get=function(){return Ju},Xu.MultiValentEndPointBoundaryNodeRule.get=function(){return Ku},Xu.MonoValentEndPointBoundaryNodeRule.get=function(){return Qu},Xu.MOD2_BOUNDARY_RULE.get=function(){return new Zu},Xu.ENDPOINT_BOUNDARY_RULE.get=function(){return new Ju},Xu.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Ku},Xu.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Qu},Xu.OGC_SFS_BOUNDARY_RULE.get=function(){return $u.MOD2_BOUNDARY_RULE},Object.defineProperties($u,Xu);var Zu=function(){};Zu.prototype.isInBoundary=function(e){return e%2==1},Zu.prototype.interfaces_=function(){return[$u]},Zu.prototype.getClass=function(){return Zu};var Ju=function(){};Ju.prototype.isInBoundary=function(e){return e>0},Ju.prototype.interfaces_=function(){return[$u]},Ju.prototype.getClass=function(){return Ju};var Ku=function(){};Ku.prototype.isInBoundary=function(e){return e>1},Ku.prototype.interfaces_=function(){return[$u]},Ku.prototype.getClass=function(){return Ku};var Qu=function(){};Qu.prototype.isInBoundary=function(e){return 1===e},Qu.prototype.interfaces_=function(){return[$u]},Qu.prototype.getClass=function(){return Qu};var el=function(){};el.prototype.add=function(){},el.prototype.addAll=function(){},el.prototype.isEmpty=function(){},el.prototype.iterator=function(){},el.prototype.size=function(){},el.prototype.toArray=function(){},el.prototype.remove=function(){};var tl=function(e){function t(t){e.call(this),this.message=t||""}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(t,n),t}(Error),nl=function(){};nl.prototype.hasNext=function(){},nl.prototype.next=function(){},nl.prototype.remove=function(){};var rl=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(el);(ki.prototype=new Error).name="NoSuchElementException";var il=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof el&&this.addAll(arguments[0])}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,el]},t.prototype.add=function(e){return 1===arguments.length?this.array_.push(e):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.set=function(e,t){var n=this.array_[e];return this.array_[e]=t,n},t.prototype.iterator=function(){return new al(this)},t.prototype.get=function(e){if(e<0||e>=this.size())throw new tl;return this.array_[e]},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.remove=function(e){for(var t=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===e){this.array_.splice(n,1),t=!0;break}return t},t}(rl),al=function(e){function t(t){e.call(this),this.arrayList_=t,this.position_=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new ki;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(nl),ol=function(e){function t(){if(e.call(this),0!==arguments.length)if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(e){return this.get(e)},t.prototype.addAll=function(){if(2===arguments.length){for(var t=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),t),n=!0;return n}return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=0;n<this.size();n++)t.add(n,this.get(n).copy());return t},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){if(1===arguments.length)e.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof iu&&"boolean"==typeof arguments[1]){var t=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(t))return null;e.prototype.add.call(this,t)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];if(arguments[2])for(var i=0;i<n.length;i++)this.add(n[i],r);else for(var a=n.length-1;a>=0;a--)this.add(n[a],r);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof iu){var o=arguments[0],s=arguments[1];if(!arguments[2]){var u=this.size();if(u>0&&(o>0&&this.get(o-1).equals2D(s)||o<u&&this.get(o).equals2D(s)))return null}e.prototype.add.call(this,o,s)}}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],f=arguments[3],d=1;h>f&&(d=-1);for(var p=h;p!==f;p+=d)this.add(l[p],c);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new iu(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(il),sl=function(){},ul={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};ul.ForwardComparator.get=function(){return ll},ul.BidirectionalComparator.get=function(){return cl},ul.coordArrayType.get=function(){return new Array(0).fill(null)},sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl},sl.isRing=function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))},sl.ptNotInList=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(sl.indexOf(r,t)<0)return r}return null},sl.scroll=function(e,t){var n=sl.indexOf(t,e);if(n<0)return null;var r=new Array(e.length).fill(null);Cu.arraycopy(e,n,r,0,e.length-n),Cu.arraycopy(e,0,r,e.length-n,n),Cu.arraycopy(r,0,e,0,e.length)},sl.equals=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],a=arguments[2];if(r===i)return!0;if(null===r||null===i||r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(0!==a.compare(r[o],i[o]))return!1;return!0}},sl.intersection=function(e,t){for(var n=new ol,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()},sl.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1},sl.removeRepeatedPoints=function(e){return sl.hasRepeatedPoints(e)?new ol(e,!1).toCoordinateArray():e},sl.reverse=function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var i=e[r];e[r]=e[t-r],e[t-r]=i}},sl.removeNull=function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var r=new Array(t).fill(null);if(0===t)return r;for(var i=0,a=0;a<e.length;a++)null!==e[a]&&(r[i++]=e[a]);return r},sl.copyDeep=function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=new iu(e[n]);return t}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],a=arguments[2],o=arguments[3],s=arguments[4],u=0;u<s;u++)a[o+u]=new iu(r[i+u])},sl.isEqualReversed=function(e,t){for(var n=0;n<e.length;n++)if(0!==e[n].compareTo(t[e.length-n-1]))return!1;return!0},sl.envelope=function(e){for(var t=new Mu,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t},sl.toCoordinateArray=function(e){return e.toArray(sl.coordArrayType)},sl.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]},sl.indexOf=function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1},sl.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e[t].compareTo(e[e.length-1-t]);if(0!==n)return n}return 1},sl.compare=function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(0!==r)return r;n++}return n<t.length?-1:n<e.length?1:0},sl.minCoordinate=function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t},sl.extract=function(e,t,n){t=hu.clamp(t,0,e.length);var r=(n=hu.clamp(n,-1,e.length))-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var a=0,o=t;o<=n;o++)i[a++]=e[o];return i},Object.defineProperties(sl,ul);var ll=function(){};ll.prototype.compare=function(e,t){return sl.compare(e,t)},ll.prototype.interfaces_=function(){return[ru]},ll.prototype.getClass=function(){return ll};var cl=function(){};cl.prototype.compare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=sl.compare(n,r);return sl.isEqualReversed(n,r)?0:i},cl.prototype.OLDcompare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=sl.increasingDirection(n),a=sl.increasingDirection(r),o=i>0?0:n.length-1,s=a>0?0:n.length-1,u=0;u<n.length;u++){var l=n[o].compareTo(r[s]);if(0!==l)return l;o+=i,s+=a}return 0},cl.prototype.interfaces_=function(){return[ru]},cl.prototype.getClass=function(){return cl};var hl=function(){};hl.prototype.get=function(){},hl.prototype.put=function(){},hl.prototype.size=function(){},hl.prototype.values=function(){},hl.prototype.entrySet=function(){};var fl=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(hl);(Ci.prototype=new Error).name="OperationNotSupported",(Si.prototype=new el).contains=function(){};var dl=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof el&&this.addAll(arguments[0])}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(this.array_[t]===e)return!0;return!1},t.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.remove=function(e){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.iterator=function(){return new pl(this)},t}(Si),pl=function(e){function t(t){e.call(this),this.hashSet_=t,this.position_=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new ki;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new Ci},t}(nl),ml=0;(Di.prototype=new fl).get=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null},Di.prototype.put=function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:ml,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=e.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var a=i.value;return i.value=t,a}i=i.right}}while(null!==i);var o={key:e,left:null,right:null,value:t,parent:n,color:ml,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=o:n.right=o,this.fixAfterInsertion(o),this.size_++,null},Di.prototype.fixAfterInsertion=function(e){for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)if(Ei(e)===Li(Ei(Ei(e)))){var t=Ii(Ei(Ei(e)));1===Mi(t)?(Ti(Ei(e),ml),Ti(t,ml),Ti(Ei(Ei(e)),1),e=Ei(Ei(e))):(e===Ii(Ei(e))&&(e=Ei(e),this.rotateLeft(e)),Ti(Ei(e),ml),Ti(Ei(Ei(e)),1),this.rotateRight(Ei(Ei(e))))}else{var n=Li(Ei(Ei(e)));1===Mi(n)?(Ti(Ei(e),ml),Ti(n,ml),Ti(Ei(Ei(e)),1),e=Ei(Ei(e))):(e===Li(Ei(e))&&(e=Ei(e),this.rotateRight(e)),Ti(Ei(e),ml),Ti(Ei(Ei(e)),1),this.rotateLeft(Ei(Ei(e))))}this.root_.color=ml},Di.prototype.values=function(){var e=new il,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=Di.successor(t));)e.add(t.value);return e},Di.prototype.entrySet=function(){var e=new dl,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=Di.successor(t));)e.add(t);return e},Di.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},Di.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},Di.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},Di.successor=function(e){if(null===e)return null;if(null!==e.right){for(var t=e.right;null!==t.left;)t=t.left;return t}for(var n=e.parent,r=e;null!==n&&r===n.right;)r=n,n=n.parent;return n},Di.prototype.size=function(){return this.size_};var gl=function(){};gl.prototype.interfaces_=function(){return[]},gl.prototype.getClass=function(){return gl},Ai.prototype=new Si,(Pi.prototype=new Ai).contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(0===this.array_[t].compareTo(e))return!0;return!1},Pi.prototype.add=function(e){if(this.contains(e))return!1;for(var t=0,n=this.array_.length;t<n;t++)if(1===this.array_[t].compareTo(e))return this.array_.splice(t,0,e),!0;return this.array_.push(e),!0},Pi.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},Pi.prototype.remove=function(e){throw new Ci},Pi.prototype.size=function(){return this.array_.length},Pi.prototype.isEmpty=function(){return 0===this.array_.length},Pi.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},Pi.prototype.iterator=function(){return new vl(this)};var vl=function(e){this.treeSet_=e,this.position_=0};vl.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new ki;return this.treeSet_.array_[this.position_++]},vl.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},vl.prototype.remove=function(){throw new Ci};var yl=function(){};yl.sort=function(){var e,t,n,r=arguments[0];if(1===arguments.length)r.sort(function(e,t){return e.compareTo(t)});else if(2===arguments.length)n=arguments[1],r.sort(function(e,t){return n.compare(e,t)});else if(3===arguments.length){(t=r.slice(arguments[1],arguments[2])).sort();var i=r.slice(0,arguments[1]).concat(t,r.slice(arguments[2],r.length));for(r.splice(0,r.length),e=0;e<i.length;e++)r.push(i[e])}else if(4===arguments.length)for(t=r.slice(arguments[1],arguments[2]),n=arguments[3],t.sort(function(e,t){return n.compare(e,t)}),i=r.slice(0,arguments[1]).concat(t,r.slice(arguments[2],r.length)),r.splice(0,r.length),e=0;e<i.length;e++)r.push(i[e])},yl.asList=function(e){for(var t=new il,n=0,r=e.length;n<r;n++)t.add(e[n]);return t};var _l=function(){},bl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};bl.P.get=function(){return 0},bl.L.get=function(){return 1},bl.A.get=function(){return 2},bl.FALSE.get=function(){return-1},bl.TRUE.get=function(){return-2},bl.DONTCARE.get=function(){return-3},bl.SYM_FALSE.get=function(){return"F"},bl.SYM_TRUE.get=function(){return"T"},bl.SYM_DONTCARE.get=function(){return"*"},bl.SYM_P.get=function(){return"0"},bl.SYM_L.get=function(){return"1"},bl.SYM_A.get=function(){return"2"},_l.prototype.interfaces_=function(){return[]},_l.prototype.getClass=function(){return _l},_l.toDimensionSymbol=function(e){switch(e){case _l.FALSE:return _l.SYM_FALSE;case _l.TRUE:return _l.SYM_TRUE;case _l.DONTCARE:return _l.SYM_DONTCARE;case _l.P:return _l.SYM_P;case _l.L:return _l.SYM_L;case _l.A:return _l.SYM_A}throw new Ks("Unknown dimension value: "+e)},_l.toDimensionValue=function(e){switch(mu.toUpperCase(e)){case _l.SYM_FALSE:return _l.FALSE;case _l.SYM_TRUE:return _l.TRUE;case _l.SYM_DONTCARE:return _l.DONTCARE;case _l.SYM_P:return _l.P;case _l.SYM_L:return _l.L;case _l.SYM_A:return _l.A}throw new Ks("Unknown dimension symbol: "+e)},Object.defineProperties(_l,bl);var wl=function(){};wl.prototype.filter=function(e){},wl.prototype.interfaces_=function(){return[]},wl.prototype.getClass=function(){return wl};var xl=function(){};xl.prototype.filter=function(e,t){},xl.prototype.isDone=function(){},xl.prototype.isGeometryChanged=function(){},xl.prototype.interfaces_=function(){return[]},xl.prototype.getClass=function(){return xl};var kl=function(e){function t(t,n){if(e.call(this,n),this._geometries=t||[],e.hasNullElements(this._geometries))throw new Ks("geometries must not contain null elements")}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var e=new Mu,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e},t.prototype.getGeometryN=function(e){return this._geometries[e]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)e[++t]=r[i];return e},t.prototype.getArea=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();yl.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var e=_l.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e},t.prototype.getDimension=function(){for(var e=_l.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e},t.prototype.getLength=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<this._geometries.length;t++)e[t]=this._geometries[t].reverse();return this.getFactory().createGeometryCollection(e)},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=new Pi(yl.asList(this._geometries)),n=new Pi(yl.asList(e._geometries));return this.compare(t,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],a=this.getNumGeometries(),o=i.getNumGeometries(),s=0;s<a&&s<o;){var u=this.getGeometryN(s),l=i.getGeometryN(s),c=u.compareToSameClass(l,r);if(0!==c)return c;s++}return s<a?1:s<o?-1:0}},t.prototype.apply=function(){if(cu(arguments[0],Wu))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(cu(arguments[0],xl)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(cu(arguments[0],wl)){var i=arguments[0];i.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(i)}else if(cu(arguments[0],Uu)){var o=arguments[0];o.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(o)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Nu.shouldNeverReachHere(),null},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)t._geometries[n]=this._geometries[n].clone();return t},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.isEmpty=function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(t,n),t}(Vu),Cl=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Vu.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?_l.FALSE:0},t.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[e-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(t)},t.prototype.getBoundary=function(){return new Sl(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[gl]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(t,n),t}(kl),Sl=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var e=arguments[0],t=$u.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Sl.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)},Sl.prototype.getBoundary=function(){return this._geom instanceof Il?this.boundaryLineString(this._geom):this._geom instanceof Cl?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Sl.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},Sl.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Sl.prototype.computeBoundaryCoordinates=function(e){var t=new il;this._endpointMap=new Di;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var a=i.next(),o=a.getValue().count;this._bnRule.isInBoundary(o)&&t.add(a.getKey())}return sl.toCoordinateArray(t)},Sl.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);null===t&&(t=new Ml,this._endpointMap.put(e,t)),t.count++},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl},Sl.getBoundary=function(){return 1===arguments.length?new Sl(arguments[0]).getBoundary():2===arguments.length?new Sl(arguments[0],arguments[1]).getBoundary():void 0};var Ml=function(){this.count=null};Ml.prototype.interfaces_=function(){return[]},Ml.prototype.getClass=function(){return Ml};var El=function(){},Tl={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El},El.chars=function(e,t){for(var n=new Array(t).fill(null),r=0;r<t;r++)n[r]=e;return String(n)},El.getStackTrace=function(){if(1===arguments.length){var e=arguments[0],t=new function(){},n=new function(){}(t);return e.printStackTrace(n),t.toString()}if(2===arguments.length){for(var r=arguments[1],i="",a=new function(){}(new function(){}(El.getStackTrace(arguments[0]))),o=0;o<r;o++)try{i+=a.readLine()+El.NEWLINE}catch(s){if(!(s instanceof Oi))throw s;Nu.shouldNeverReachHere()}return i}},El.split=function(e,t){for(var n=t.length,r=new il,i=""+e,a=i.indexOf(t);a>=0;){var o=i.substring(0,a);r.add(o),a=(i=i.substring(a+n)).indexOf(t)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),u=0;u<s.length;u++)s[u]=r.get(u);return s},El.toString=function(){if(1===arguments.length)return El.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},El.spaces=function(e){return El.chars(" ",e)},Tl.NEWLINE.get=function(){return Cu.getProperty("line.separator")},Tl.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(El,Tl);var Ll=function(){};Ll.prototype.interfaces_=function(){return[]},Ll.prototype.getClass=function(){return Ll},Ll.copyCoord=function(e,t,n,r){for(var i=Math.min(e.getDimension(),n.getDimension()),a=0;a<i;a++)n.setOrdinate(r,a,e.getOrdinate(t,a))},Ll.isRing=function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,bu.X)===e.getOrdinate(t-1,bu.X)&&e.getOrdinate(0,bu.Y)===e.getOrdinate(t-1,bu.Y)},Ll.isEqual=function(e,t){var n=e.size();if(n!==t.size())return!1;for(var r=Math.min(e.getDimension(),t.getDimension()),i=0;i<n;i++)for(var a=0;a<r;a++){var o=e.getOrdinate(i,a),s=t.getOrdinate(i,a);if(!(e.getOrdinate(i,a)===t.getOrdinate(i,a)||Qs.isNaN(o)&&Qs.isNaN(s)))return!1}return!0},Ll.extend=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();if(Ll.copy(t,0,r,0,i),i>0)for(var a=i;a<n;a++)Ll.copy(t,i-1,r,a,1);return r},Ll.reverse=function(e){for(var t=e.size()-1,n=Math.trunc(t/2),r=0;r<=n;r++)Ll.swap(e,r,t-r)},Ll.swap=function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var i=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,i)}},Ll.copy=function(e,t,n,r,i){for(var a=0;a<i;a++)Ll.copyCoord(e,t+a,n,r+a)},Ll.toString=function(){if(1===arguments.length){var e=arguments[0],t=e.size();if(0===t)return"()";var n=e.getDimension(),r=new du;r.append("(");for(var i=0;i<t;i++){i>0&&r.append(" ");for(var a=0;a<n;a++)a>0&&r.append(","),r.append(El.toString(e.getOrdinate(i,a)))}return r.append(")"),r.toString()}},Ll.ensureValidRing=function(e,t){var n=t.size();return 0===n?t:n<=3?Ll.createClosedRing(e,t,4):t.getOrdinate(0,bu.X)===t.getOrdinate(n-1,bu.X)&&t.getOrdinate(0,bu.Y)===t.getOrdinate(n-1,bu.Y)?t:Ll.createClosedRing(e,t,n+1)},Ll.createClosedRing=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();Ll.copy(t,0,r,0,i);for(var a=i;a<n;a++)Ll.copy(t,0,r,a,1);return r};var Il=function(e){function t(t,n){e.call(this,n),this._points=null,this.init(t)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Mu:this._points.expandEnvelope(new Mu)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t)))return this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0&&Ll.reverse(this._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?_l.FALSE:0},t.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return Bu.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var e=this._points.copy();return Ll.reverse(e),this.getFactory().createLineString(e)},t.prototype.compareToSameClass=function(){if(1===arguments.length){for(var e=arguments[0],t=0,n=0;t<this._points.size()&&n<e._points.size();){var r=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(n));if(0!==r)return r;t++,n++}return t<this._points.size()?1:n<e._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},t.prototype.apply=function(){if(cu(arguments[0],Wu))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(cu(arguments[0],xl)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(cu(arguments[0],wl)||cu(arguments[0],Uu))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return new Sl(this).getBoundary()},t.prototype.isEquivalentClass=function(e){return e instanceof t},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._points=this._points.clone(),t},t.prototype.getCoordinateN=function(e){return this._points.getCoordinate(e)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return 0===this._points.size()},t.prototype.init=function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new Ks("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e},t.prototype.isCoordinate=function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))},t.prototype.interfaces_=function(){return[gl]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(Vu),Dl=function(){};Dl.prototype.interfaces_=function(){return[]},Dl.prototype.getClass=function(){return Dl};var Al=function(e){function t(t,n){e.call(this,n),this._coordinates=t||null,this.init(this._coordinates)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Mu;var e=new Mu;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),n))}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return _l.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},t.prototype.apply=function(){if(cu(arguments[0],Wu)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(cu(arguments[0],xl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(cu(arguments[0],wl)||cu(arguments[0],Uu))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return 0===this._coordinates.size()},t.prototype.init=function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),Nu.isTrue(e.size()<=1),this._coordinates=e},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[Dl]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(t,n),t}(Vu),Pl=function(){};Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl};var Ol=function(e){function t(t,n,r){if(e.call(this,r),this._shell=null,this._holes=null,null===t&&(t=this.getFactory().createLinearRing()),null===n&&(n=[]),e.hasNullElements(n))throw new Ks("holes must not contain null elements");if(t.isEmpty()&&e.hasNonEmptyElements(n))throw new Ks("shell is empty but holes are not");this._shell=t,this._holes=n}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)e[++t]=n[r];for(var i=0;i<this._holes.length;i++)for(var a=this._holes[i].getCoordinates(),o=0;o<a.length;o++)e[++t]=a[o];return e},t.prototype.getArea=function(){var e=0;e+=Math.abs(Bu.signedArea(this._shell.getCoordinateSequence()));for(var t=0;t<this._holes.length;t++)e-=Math.abs(Bu.signedArea(this._holes[t].getCoordinateSequence()));return e},t.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var r=e.getX(n);if(r!==t.getMinX()&&r!==t.getMaxX())return!1;var i=e.getY(n);if(i!==t.getMinY()&&i!==t.getMaxY())return!1}for(var a=e.getX(0),o=e.getY(0),s=1;s<=4;s++){var u=e.getX(s),l=e.getY(s);if(u!==a==(l!==o))return!1;a=u,o=l}return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(!this._shell.equalsExact(r._shell,n)||this._holes.length!==r._holes.length)return!1;for(var i=0;i<this._holes.length;i++)if(!this._holes[i].equalsExact(r._holes[i],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var e=0;e<this._holes.length;e++)this.normalize(this._holes[e],!1);yl.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t.isEmpty())return null;var r=new Array(t.getCoordinates().length-1).fill(null);Cu.arraycopy(t.getCoordinates(),0,r,0,r.length);var i=sl.minCoordinate(t.getCoordinates());sl.scroll(r,i),Cu.arraycopy(r,0,t.getCoordinates(),0,r.length),t.getCoordinates()[r.length]=r[0],Bu.isCCW(t.getCoordinates())===n&&sl.reverse(t.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e},t.prototype.reverse=function(){var e=this.copy();e._shell=this._shell.copy().reverse(),e._holes=new Array(this._holes.length).fill(null);for(var t=0;t<this._holes.length;t++)e._holes[t]=this._holes[t].copy().reverse();return e},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var e=arguments[1],t=arguments[0],n=this._shell.compareToSameClass(t._shell,e);if(0!==n)return n;for(var r=this.getNumInteriorRing(),i=t.getNumInteriorRing(),a=0;a<r&&a<i;){var o=this.getInteriorRingN(a),s=t.getInteriorRingN(a),u=o.compareToSameClass(s,e);if(0!==u)return u;a++}return a<r?1:a<i?-1:0}},t.prototype.apply=function(e){if(cu(e,Wu)){this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(cu(e,xl)){if(this._shell.apply(e),!e.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(e),!e.isDone());n++);e.isGeometryChanged()&&this.geometryChanged()}else if(cu(e,wl))e.filter(this);else if(cu(e,Uu)){e.filter(this),this._shell.apply(e);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(e)}},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)t._holes[n]=this._holes[n].clone();return t},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var e=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new t(e,n,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(e){return this._holes[e]},t.prototype.interfaces_=function(){return[Pl]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(Vu),Nl=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Vu.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return _l.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Dl]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(t,n),t}(kl),Rl=function(e){function t(t,n){t instanceof iu&&n instanceof Kl&&(t=n.getCoordinateSequenceFactory().create(t)),e.call(this,t,n),this.validateConstruction()}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Vu.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return _l.FALSE},t.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var e=this._points.copy();return Ll.reverse(e),this.getFactory().createLinearRing(e)},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new Ks("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new Ks("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(Il),Fl=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Vu.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<this._geometries.length;t++)e[t]=this._geometries[t].reverse();return this.getFactory().createMultiPolygon(e)},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new il,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),r=0;r<n.getNumGeometries();r++)e.add(n.getGeometryN(r));var i=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(i))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Pl]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(kl),Yl=function(e){this._factory=e||null,this._isUserDataCopied=!1},zl={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Yl.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},Yl.prototype.edit=function(e,t){if(null===e)return null;var n=this.editInternal(e,t);return this._isUserDataCopied&&n.setUserData(e.getUserData()),n},Yl.prototype.editInternal=function(e,t){return null===this._factory&&(this._factory=e.getFactory()),e instanceof kl?this.editGeometryCollection(e,t):e instanceof Ol?this.editPolygon(e,t):e instanceof Al||e instanceof Il?t.edit(e,this._factory):(Nu.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},Yl.prototype.editGeometryCollection=function(e,t){for(var n=t.edit(e,this._factory),r=new il,i=0;i<n.getNumGeometries();i++){var a=this.edit(n.getGeometryN(i),t);null===a||a.isEmpty()||r.add(a)}return n.getClass()===Nl?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Cl?this._factory.createMultiLineString(r.toArray([])):n.getClass()===Fl?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},Yl.prototype.editPolygon=function(e,t){var n=t.edit(e,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),t);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new il,a=0;a<n.getNumInteriorRing();a++){var o=this.edit(n.getInteriorRingN(a),t);null===o||o.isEmpty()||i.add(o)}return this._factory.createPolygon(r,i.toArray([]))},Yl.prototype.interfaces_=function(){return[]},Yl.prototype.getClass=function(){return Yl},Yl.GeometryEditorOperation=function(){},zl.NoOpGeometryOperation.get=function(){return jl},zl.CoordinateOperation.get=function(){return Bl},zl.CoordinateSequenceOperation.get=function(){return Hl},Object.defineProperties(Yl,zl);var jl=function(){};jl.prototype.edit=function(e,t){return e},jl.prototype.interfaces_=function(){return[Yl.GeometryEditorOperation]},jl.prototype.getClass=function(){return jl};var Bl=function(){};Bl.prototype.edit=function(e,t){var n=this.editCoordinates(e.getCoordinates(),e);return null===n?e:e instanceof Rl?t.createLinearRing(n):e instanceof Il?t.createLineString(n):e instanceof Al?n.length>0?t.createPoint(n[0]):t.createPoint():e},Bl.prototype.interfaces_=function(){return[Yl.GeometryEditorOperation]},Bl.prototype.getClass=function(){return Bl};var Hl=function(){};Hl.prototype.edit=function(e,t){return e instanceof Rl?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Il?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof Al?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e},Hl.prototype.interfaces_=function(){return[Yl.GeometryEditorOperation]},Hl.prototype.getClass=function(){return Hl};var Ul=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var t=0;t<e;t++)this._coordinates[t]=new iu}else if(cu(arguments[0],bu)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],a=arguments[1];this._coordinates=i,this._dimension=a,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=new Array(o).fill(null),this._dimension=s;for(var u=0;u<o;u++)this._coordinates[u]=new iu}},Vl={serialVersionUID:{configurable:!0}};Ul.prototype.setOrdinate=function(e,t,n){switch(t){case bu.X:this._coordinates[e].x=n;break;case bu.Y:this._coordinates[e].y=n;break;case bu.Z:this._coordinates[e].z=n;break;default:throw new Ks("invalid ordinateIndex")}},Ul.prototype.size=function(){return this._coordinates.length},Ul.prototype.getOrdinate=function(e,t){switch(t){case bu.X:return this._coordinates[e].x;case bu.Y:return this._coordinates[e].y;case bu.Z:return this._coordinates[e].z}return Qs.NaN},Ul.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var e=arguments[0],t=arguments[1];t.x=this._coordinates[e].x,t.y=this._coordinates[e].y,t.z=this._coordinates[e].z}},Ul.prototype.getCoordinateCopy=function(e){return new iu(this._coordinates[e])},Ul.prototype.getDimension=function(){return this._dimension},Ul.prototype.getX=function(e){return this._coordinates[e].x},Ul.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].clone();return new Ul(e,this._dimension)},Ul.prototype.expandEnvelope=function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e},Ul.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].copy();return new Ul(e,this._dimension)},Ul.prototype.toString=function(){if(this._coordinates.length>0){var e=new du(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"},Ul.prototype.getY=function(e){return this._coordinates[e].y},Ul.prototype.toCoordinateArray=function(){return this._coordinates},Ul.prototype.interfaces_=function(){return[bu,xi]},Ul.prototype.getClass=function(){return Ul},Vl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Ul,Vl);var Gl=function(){},ql={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Gl.prototype.readResolve=function(){return Gl.instance()},Gl.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Ul(arguments[0]);if(cu(arguments[0],bu))return new Ul(arguments[0])}else if(2===arguments.length){var e=arguments[0],t=arguments[1];return t>3&&(t=3),t<2?new Ul(e):new Ul(e,t)}},Gl.prototype.interfaces_=function(){return[su,xi]},Gl.prototype.getClass=function(){return Gl},Gl.instance=function(){return Gl.instanceObject},ql.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ql.instanceObject.get=function(){return new Gl},Object.defineProperties(Gl,ql);var Wl=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return this.map_.get(e)||null},t.prototype.put=function(e,t){return this.map_.set(e,t),t},t.prototype.values=function(){for(var e=new il,t=this.map_.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e},t.prototype.entrySet=function(){var e=new dl;return this.map_.entries().forEach(function(t){return e.add(t)}),e},t.prototype.size=function(){return this.map_.size()},t}(hl),$l=function e(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Zl){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},Xl={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};$l.prototype.equals=function(e){return e instanceof $l&&this._modelType===e._modelType&&this._scale===e._scale},$l.prototype.compareTo=function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new pu(n).compareTo(new pu(r))},$l.prototype.getScale=function(){return this._scale},$l.prototype.isFloating=function(){return this._modelType===$l.FLOATING||this._modelType===$l.FLOATING_SINGLE},$l.prototype.getType=function(){return this._modelType},$l.prototype.toString=function(){var e="UNKNOWN";return this._modelType===$l.FLOATING?e="Floating":this._modelType===$l.FLOATING_SINGLE?e="Floating-Single":this._modelType===$l.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},$l.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var e=arguments[0];return Qs.isNaN(e)||this._modelType===$l.FLOATING_SINGLE?e:this._modelType===$l.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof iu){var t=arguments[0];if(this._modelType===$l.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}},$l.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===$l.FLOATING?e=16:this._modelType===$l.FLOATING_SINGLE?e=6:this._modelType===$l.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},$l.prototype.setScale=function(e){this._scale=Math.abs(e)},$l.prototype.interfaces_=function(){return[xi,tu]},$l.prototype.getClass=function(){return $l},$l.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t},Xl.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Xl.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties($l,Xl);var Zl=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},Jl={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Zl.prototype.readResolve=function(){return Zl.nameToTypeMap.get(this._name)},Zl.prototype.toString=function(){return this._name},Zl.prototype.interfaces_=function(){return[xi]},Zl.prototype.getClass=function(){return Zl},Jl.serialVersionUID.get=function(){return-552860263173159e4},Jl.nameToTypeMap.get=function(){return new Wl},Object.defineProperties(Zl,Jl),$l.Type=Zl,$l.FIXED=new Zl("FIXED"),$l.FLOATING=new Zl("FLOATING"),$l.FLOATING_SINGLE=new Zl("FLOATING SINGLE");var Kl=function e(){this._precisionModel=new $l,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?cu(arguments[0],su)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof $l&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ql={serialVersionUID:{configurable:!0}};Kl.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new iu(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new iu(e.getMinX(),e.getMinY()),new iu(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new iu(e.getMinX(),e.getMinY()),new iu(e.getMinX(),e.getMaxY()),new iu(e.getMaxX(),e.getMaxY()),new iu(e.getMaxX(),e.getMinY()),new iu(e.getMinX(),e.getMinY())]),null)},Kl.prototype.createLineString=function(e){return e?e instanceof Array?new Il(this.getCoordinateSequenceFactory().create(e),this):cu(e,bu)?new Il(e,this):void 0:new Il(this.getCoordinateSequenceFactory().create([]),this)},Kl.prototype.createMultiLineString=function(){return 0===arguments.length?new Cl(null,this):1===arguments.length?new Cl(arguments[0],this):void 0},Kl.prototype.buildGeometry=function(e){for(var t=null,n=!1,r=!1,i=e.iterator();i.hasNext();){var a=i.next(),o=a.getClass();null===t&&(t=o),o!==t&&(n=!0),a.isGeometryCollectionOrDerived()&&(r=!0)}if(null===t)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Kl.toGeometryArray(e));var s=e.iterator().next();if(e.size()>1){if(s instanceof Ol)return this.createMultiPolygon(Kl.toPolygonArray(e));if(s instanceof Il)return this.createMultiLineString(Kl.toLineStringArray(e));if(s instanceof Al)return this.createMultiPoint(Kl.toPointArray(e));Nu.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},Kl.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)},Kl.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof iu){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(cu(arguments[0],bu))return new Al(arguments[0],this)}},Kl.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Kl.prototype.createPolygon=function(){if(0===arguments.length)return new Ol(null,null,this);if(1===arguments.length){if(cu(arguments[0],bu))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Rl)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Ol(arguments[0],arguments[1],this)},Kl.prototype.getSRID=function(){return this._SRID},Kl.prototype.createGeometryCollection=function(){return 0===arguments.length?new kl(null,this):1===arguments.length?new kl(arguments[0],this):void 0},Kl.prototype.createGeometry=function(e){return new Yl(this).edit(e,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Kl.prototype.getPrecisionModel=function(){return this._precisionModel},Kl.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(cu(arguments[0],bu))return new Rl(arguments[0],this)}},Kl.prototype.createMultiPolygon=function(){return 0===arguments.length?new Fl(null,this):1===arguments.length?new Fl(arguments[0],this):void 0},Kl.prototype.createMultiPoint=function(){if(0===arguments.length)return new Nl(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Nl(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(cu(arguments[0],bu)){var t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(t.size()).fill(null),r=0;r<t.size();r++){var i=this.getCoordinateSequenceFactory().create(1,t.getDimension());Ll.copy(t,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},Kl.prototype.interfaces_=function(){return[xi]},Kl.prototype.getClass=function(){return Kl},Kl.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},Kl.toGeometryArray=function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)},Kl.getDefaultCoordinateSequenceFactory=function(){return Gl.instance()},Kl.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},Kl.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},Kl.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},Kl.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},Kl.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},Kl.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},Kl.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)},Ql.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Kl,Ql);var ec=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],tc=function(e){this.geometryFactory=e||new Kl};tc.prototype.read=function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!nc[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==ec.indexOf(n)?nc[n].apply(this,[t.coordinates]):nc[n].apply(this,"GeometryCollection"===n?[t.geometries]:[t])},tc.prototype.write=function(e){var t=e.getGeometryType();if(!rc[t])throw new Error("Geometry is not supported");return rc[t].apply(this,[e])};var nc={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){if(!nc[e.geometry.type])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=nc.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.apply(this,[e.bbox])),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new iu(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new iu(e[0],e[1]),new iu(e[2],e[1]),new iu(e[2],e[3]),new iu(e[0],e[3]),new iu(e[0],e[1])])},Point:function(e){var t=new iu(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(nc.Point.apply(this,[e[n]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=nc.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(nc.LineString.apply(this,[e[n]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=nc.coordinates.apply(this,[e[0]]),n=this.geometryFactory.createLinearRing(t),r=[],i=1;i<e.length;++i){var a=nc.coordinates.apply(this,[e[i]]),o=this.geometryFactory.createLinearRing(a);r.push(o)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n)t.push(nc.Polygon.apply(this,[e[n]]));return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n)t.push(this.read(e[n]));return this.geometryFactory.createGeometryCollection(t)}},rc={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:rc.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=rc.Point.apply(this,[e._geometries[n]]);t.push(r.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),r=0;r<n.length;++r)t.push(rc.coordinate.apply(this,[n[r]]));return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=rc.LineString.apply(this,[e._geometries[n]]);t.push(r.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=rc.LineString.apply(this,[e._shell]);t.push(n.coordinates);for(var r=0;r<e._holes.length;++r){var i=rc.LineString.apply(this,[e._holes[r]]);t.push(i.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=rc.Polygon.apply(this,[e._geometries[n]]);t.push(r.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=r.getGeometryType();t.push(rc[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:t}}},ic=function(e){this.geometryFactory=e||new Kl,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new tc(this.geometryFactory)};ic.prototype.read=function(e){var t=this.parser.read(e);return this.precisionModel.getType()===$l.FIXED&&this.reducePrecision(t),t},ic.prototype.reducePrecision=function(e){var t,n;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(t=0,n=e.points.length;t<n;t++)this.precisionModel.makePrecise(e.points[t]);else if(e.geometries)for(t=0,n=e.geometries.length;t<n;t++)this.reducePrecision(e.geometries[t])};var ac=function(){this.parser=new tc(this.geometryFactory)};ac.prototype.write=function(e){return this.parser.write(e)};var oc=function(){},sc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc},oc.opposite=function(e){return e===oc.LEFT?oc.RIGHT:e===oc.RIGHT?oc.LEFT:e},sc.ON.get=function(){return 0},sc.LEFT.get=function(){return 1},sc.RIGHT.get=function(){return 2},Object.defineProperties(oc,sc),(Ni.prototype=new Error).name="EmptyStackException",(Ri.prototype=new rl).add=function(e){return this.array_.push(e),!0},Ri.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},Ri.prototype.push=function(e){return this.array_.push(e),e},Ri.prototype.pop=function(e){if(0===this.array_.length)throw new Ni;return this.array_.pop()},Ri.prototype.peek=function(){if(0===this.array_.length)throw new Ni;return this.array_[this.array_.length-1]},Ri.prototype.empty=function(){return 0===this.array_.length},Ri.prototype.isEmpty=function(){return this.empty()},Ri.prototype.search=function(e){return this.array_.indexOf(e)},Ri.prototype.size=function(){return this.array_.length},Ri.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e};var uc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};uc.prototype.getCoordinate=function(){return this._minCoord},uc.prototype.getRightmostSide=function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n},uc.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();Nu.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],r=Bu.computeOrientation(this._minCoord,n,t),i=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&r===Bu.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&r===Bu.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},uc.prototype.getRightmostSideOfSegment=function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length||n[t].y===n[t+1].y)return-1;var r=oc.LEFT;return n[t].y<n[t+1].y&&(r=oc.RIGHT),r},uc.prototype.getEdge=function(){return this._orientedDe},uc.prototype.checkForRightmostCoordinate=function(e){for(var t=e.getEdge().getCoordinates(),n=0;n<t.length-1;n++)(null===this._minCoord||t[n].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=n,this._minCoord=t[n])},uc.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},uc.prototype.findEdge=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Nu.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===oc.LEFT&&(this._orientedDe=this._minDe.getSym())},uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc};var lc=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new iu(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(e,t){return t?e:e+" [ "+t+" ]"},t}(Pu),cc=function(){this.array_=[]};cc.prototype.addLast=function(e){this.array_.push(e)},cc.prototype.removeFirst=function(){return this.array_.shift()},cc.prototype.isEmpty=function(){return 0===this.array_.length};var hc=function(){this._finder=null,this._dirEdgeList=new il,this._nodes=new il,this._rightMostCoord=null,this._env=null,this._finder=new uc};hc.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},hc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},hc.prototype.computeNodeDepth=function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){t=r;break}}if(null===t)throw new lc("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var i=e.getEdges().iterator();i.hasNext();){var a=i.next();a.setVisited(!0),this.copySymDepths(a)}},hc.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(oc.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)},hc.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},hc.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(oc.RIGHT)>=1&&t.getDepth(oc.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}},hc.prototype.computeDepths=function(e){var t=new dl,n=new cc,r=e.getNode();for(n.addLast(r),t.add(r),e.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();t.add(i),this.computeNodeDepth(i);for(var a=i.getEdges().iterator();a.hasNext();){var o=a.next().getSym();if(!o.isVisited()){var s=o.getNode();t.contains(s)||(n.addLast(s),t.add(s))}}}},hc.prototype.compareTo=function(e){return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},hc.prototype.getEnvelope=function(){if(null===this._env){for(var e=new Mu,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)e.expandToInclude(n[r]);this._env=e}return this._env},hc.prototype.addReachable=function(e){var t=new Ri;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}},hc.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(oc.LEFT,e.getDepth(oc.RIGHT)),t.setDepth(oc.RIGHT,e.getDepth(oc.LEFT))},hc.prototype.add=function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||t.push(i)}},hc.prototype.getNodes=function(){return this._nodes},hc.prototype.getDirectedEdges=function(){return this._dirEdgeList},hc.prototype.interfaces_=function(){return[tu]},hc.prototype.getClass=function(){return hc};var fc=function e(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var t=arguments[0];this.init(1),this.location[oc.ON]=t}else if(arguments[0]instanceof e){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var i=arguments[0],a=arguments[1],o=arguments[2];this.init(3),this.location[oc.ON]=i,this.location[oc.LEFT]=a,this.location[oc.RIGHT]=o}};fc.prototype.setAllLocations=function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e},fc.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==uu.NONE)return!1;return!0},fc.prototype.setAllLocationsIfNull=function(e){for(var t=0;t<this.location.length;t++)this.location[t]===uu.NONE&&(this.location[t]=e)},fc.prototype.isLine=function(){return 1===this.location.length},fc.prototype.merge=function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[oc.ON]=this.location[oc.ON],t[oc.LEFT]=uu.NONE,t[oc.RIGHT]=uu.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===uu.NONE&&n<e.location.length&&(this.location[n]=e.location[n])},fc.prototype.getLocations=function(){return this.location},fc.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[oc.LEFT];this.location[oc.LEFT]=this.location[oc.RIGHT],this.location[oc.RIGHT]=e},fc.prototype.toString=function(){var e=new du;return this.location.length>1&&e.append(uu.toLocationSymbol(this.location[oc.LEFT])),e.append(uu.toLocationSymbol(this.location[oc.ON])),this.location.length>1&&e.append(uu.toLocationSymbol(this.location[oc.RIGHT])),e.toString()},fc.prototype.setLocations=function(e,t,n){this.location[oc.ON]=e,this.location[oc.LEFT]=t,this.location[oc.RIGHT]=n},fc.prototype.get=function(e){return e<this.location.length?this.location[e]:uu.NONE},fc.prototype.isArea=function(){return this.location.length>1},fc.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===uu.NONE)return!0;return!1},fc.prototype.setLocation=function(){1===arguments.length?this.setLocation(oc.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},fc.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(uu.NONE)},fc.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]},fc.prototype.allPositionsEqual=function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var dc=function e(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new fc(t),this.elt[1]=new fc(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new fc(n.elt[0]),this.elt[1]=new fc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new fc(uu.NONE),this.elt[1]=new fc(uu.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var a=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new fc(a,o,s),this.elt[1]=new fc(a,o,s)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new fc(uu.NONE,uu.NONE,uu.NONE),this.elt[1]=new fc(uu.NONE,uu.NONE,uu.NONE),this.elt[u].setLocations(l,c,h)}};dc.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},dc.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)},dc.prototype.isNull=function(e){return this.elt[e].isNull()},dc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},dc.prototype.isLine=function(e){return this.elt[e].isLine()},dc.prototype.merge=function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new fc(e.elt[t]):this.elt[t].merge(e.elt[t])},dc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},dc.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(oc.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},dc.prototype.toString=function(){var e=new du;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},dc.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},dc.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},dc.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(oc.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},dc.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)},dc.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)},dc.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new fc(this.elt[e].location[0]))},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc},dc.toLineLabel=function(e){for(var t=new dc(uu.NONE),n=0;n<2;n++)t.setLocation(n,e.getLocation(n));return t};var pc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new il,this._pts=new il,this._label=new dc(uu.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new il,this._geometryFactory=null;var e=arguments[0];this._geometryFactory=arguments[1],this.computePoints(e),this.computeRing()};pc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=Bu.isCCW(this._ring.getCoordinates())},pc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},pc.prototype.computePoints=function(e){this._startDe=e;var t=e,n=!0;do{if(null===t)throw new lc("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new lc("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var r=t.getLabel();Nu.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)},pc.prototype.getLinearRing=function(){return this._ring},pc.prototype.getCoordinate=function(e){return this._pts.get(e)},pc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},pc.prototype.addPoints=function(e,t,n){var r=e.getCoordinates();if(t){var i=1;n&&(i=0);for(var a=i;a<r.length;a++)this._pts.add(r[a])}else{var o=r.length-2;n&&(o=r.length-1);for(var s=o;s>=0;s--)this._pts.add(r[s])}},pc.prototype.isHole=function(){return this._isHole},pc.prototype.setInResult=function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)},pc.prototype.containsPoint=function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e)||!Bu.isPointInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0},pc.prototype.addHole=function(e){this._holes.add(e)},pc.prototype.isShell=function(){return null===this._shell},pc.prototype.getLabel=function(){return this._label},pc.prototype.getEdges=function(){return this._edges},pc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},pc.prototype.getShell=function(){return this._shell},pc.prototype.mergeLabel=function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[1],n=arguments[0].getLocation(t,oc.RIGHT);if(n===uu.NONE)return null;if(this._label.getLocation(t)===uu.NONE)return this._label.setLocation(t,n),null}},pc.prototype.setShell=function(e){this._shell=e,null!==e&&e.addHole(this)},pc.prototype.toPolygon=function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)},pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc};var mc=function(e){function t(){e.call(this,arguments[0],arguments[1])}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setEdgeRing=function(e,t){e.setMinEdgeRing(t)},t.prototype.getNext=function(e){return e.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(pc),gc=function(e){function t(){e.call(this,arguments[0],arguments[1])}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.buildMinimalRings=function(){var e=new il,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new mc(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e},t.prototype.setEdgeRing=function(e,t){e.setEdgeRing(t)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)},t.prototype.getNext=function(e){return e.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(pc),vc=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};vc.prototype.setVisited=function(e){this._isVisited=e},vc.prototype.setInResult=function(e){this._isInResult=e},vc.prototype.isCovered=function(){return this._isCovered},vc.prototype.isCoveredSet=function(){return this._isCoveredSet},vc.prototype.setLabel=function(e){this._label=e},vc.prototype.getLabel=function(){return this._label},vc.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},vc.prototype.updateIM=function(e){Nu.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},vc.prototype.isInResult=function(){return this._isInResult},vc.prototype.isVisited=function(){return this._isVisited},vc.prototype.interfaces_=function(){return[]},vc.prototype.getClass=function(){return vc};var yc=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var t=arguments[1];this._coord=arguments[0],this._edges=t,this._label=new dc(0,uu.NONE)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1},t.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(e){e.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(e){},t.prototype.computeMergedLocation=function(e,t){var n=uu.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var r=e.getLocation(t);n!==uu.BOUNDARY&&(n=r)}return n},t.prototype.setLabel=function(){if(2!==arguments.length)return e.prototype.setLabel.apply(this,arguments);var t=arguments[0],n=arguments[1];null===this._label?this._label=new dc(t,n):this._label.setLocation(t,n)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){if(arguments[0]instanceof t)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof dc)for(var e=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(e,n);this._label.getLocation(n)===uu.NONE&&this._label.setLocation(n,r)}},t.prototype.add=function(e){this._edges.insert(e),e.setNode(this)},t.prototype.setLabelBoundary=function(e){if(null===this._label)return null;var t=uu.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;switch(t){case uu.BOUNDARY:n=uu.INTERIOR;break;case uu.INTERIOR:default:n=uu.BOUNDARY}this._label.setLocation(e,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(vc),_c=function(){this.nodeMap=new Di,this.nodeFact=null,this.nodeFact=arguments[0]};_c.prototype.find=function(e){return this.nodeMap.get(e)},_c.prototype.addNode=function(){if(arguments[0]instanceof iu){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof yc){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},_c.prototype.print=function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)},_c.prototype.iterator=function(){return this.nodeMap.values().iterator()},_c.prototype.values=function(){return this.nodeMap.values()},_c.prototype.getBoundaryNodes=function(e){for(var t=new il,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===uu.BOUNDARY&&t.add(r)}return t},_c.prototype.add=function(e){var t=e.getCoordinate();this.addNode(t).add(e)},_c.prototype.interfaces_=function(){return[]},_c.prototype.getClass=function(){return _c};var bc=function(){},wc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};bc.prototype.interfaces_=function(){return[]},bc.prototype.getClass=function(){return bc},bc.isNorthern=function(e){return e===bc.NE||e===bc.NW},bc.isOpposite=function(e,t){return e!==t&&(e-t+4)%4==2},bc.commonHalfPlane=function(e,t){if(e===t)return e;if((e-t+4)%4==2)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n},bc.isInHalfPlane=function(e,t){return t===bc.SE?e===bc.SE||e===bc.SW:e===t||e===t+1},bc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new Ks("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?bc.NE:bc.SE:t>=0?bc.NW:bc.SW}if(arguments[0]instanceof iu&&arguments[1]instanceof iu){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new Ks("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?bc.NE:bc.SE:r.y>=n.y?bc.NW:bc.SW}},wc.NE.get=function(){return 0},wc.NW.get=function(){return 1},wc.SW.get=function(){return 2},wc.SE.get=function(){return 3},Object.defineProperties(bc,wc);var xc=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var e=arguments[1],t=arguments[2];this._edge=arguments[0],this.init(e,t),this._label=null}else if(4===arguments.length){var n=arguments[1],r=arguments[2],i=arguments[3];this._edge=arguments[0],this.init(n,r),this._label=i}};xc.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:Bu.computeOrientation(e._p0,e._p1,this._p1)},xc.prototype.getDy=function(){return this._dy},xc.prototype.getCoordinate=function(){return this._p0},xc.prototype.setNode=function(e){this._node=e},xc.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);e.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)},xc.prototype.compareTo=function(e){return this.compareDirection(e)},xc.prototype.getDirectedCoordinate=function(){return this._p1},xc.prototype.getDx=function(){return this._dx},xc.prototype.getLabel=function(){return this._label},xc.prototype.getEdge=function(){return this._edge},xc.prototype.getQuadrant=function(){return this._quadrant},xc.prototype.getNode=function(){return this._node},xc.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},xc.prototype.computeLabel=function(e){},xc.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=bc.quadrant(this._dx,this._dy),Nu.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},xc.prototype.interfaces_=function(){return[tu]},xc.prototype.getClass=function(){return xc};var kc=function(e){function t(){var t=arguments[0],n=arguments[1];if(e.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var r=t.getNumPoints()-1;this.init(t.getCoordinate(r),t.getCoordinate(r-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(e){return this._depth[e]},t.prototype.setVisited=function(e){this._isVisited=e},t.prototype.computeDirectedLabel=function(){this._label=new dc(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new lc("assigned depths do not match",this.getCoordinate());this._depth[e]=t},t.prototype.isInteriorAreaEdge=function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,oc.LEFT)===uu.INTERIOR&&this._label.getLocation(t,oc.RIGHT)===uu.INTERIOR||(e=!1);return e},t.prototype.setNextMin=function(e){this._nextMin=e},t.prototype.print=function(t){e.prototype.print.call(this,t),t.print(" "+this._depth[oc.LEFT]+"/"+this._depth[oc.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},t.prototype.setMinEdgeRing=function(e){this._minEdgeRing=e},t.prototype.isLineEdge=function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,uu.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,uu.EXTERIOR);return e&&t&&n},t.prototype.setEdgeRing=function(e){this._edgeRing=e},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e},t.prototype.setInResult=function(e){this._isInResult=e},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)},t.prototype.setSym=function(e){this._sym=e},t.prototype.setVisitedEdge=function(e){this.setVisited(e),this._sym.setVisited(e)},t.prototype.setEdgeDepths=function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;e===oc.LEFT&&(r=-1);var i=oc.opposite(e),a=t+n*r;this.setDepth(e,t),this.setDepth(i,a)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(e){this._next=e},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(e,t){return e===uu.EXTERIOR&&t===uu.INTERIOR?1:e===uu.INTERIOR&&t===uu.EXTERIOR?-1:0},t}(xc),Cc=function(){};Cc.prototype.createNode=function(e){return new yc(e,null)},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc};var Sc=function(){this._edges=new il,this._nodes=null,this._edgeEndList=new il,0===arguments.length?this._nodes=new _c(new Cc):1===arguments.length&&(this._nodes=new _c(arguments[0]))};Sc.prototype.printEdges=function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}},Sc.prototype.find=function(e){return this._nodes.find(e)},Sc.prototype.addNode=function(){return arguments[0]instanceof yc||arguments[0]instanceof iu?this._nodes.addNode(arguments[0]):void 0},Sc.prototype.getNodeIterator=function(){return this._nodes.iterator()},Sc.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Sc.prototype.debugPrintln=function(e){Cu.out.println(e)},Sc.prototype.isBoundaryNode=function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(e)===uu.BOUNDARY},Sc.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Sc.prototype.matchInSameDirection=function(e,t,n,r){return!!e.equals(n)&&Bu.computeOrientation(e,t,r)===Bu.COLLINEAR&&bc.quadrant(e,t)===bc.quadrant(n,r)},Sc.prototype.getEdgeEnds=function(){return this._edgeEndList},Sc.prototype.debugPrint=function(e){Cu.out.print(e)},Sc.prototype.getEdgeIterator=function(){return this._edges.iterator()},Sc.prototype.findEdgeInSameDirection=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(e,t,i[0],i[1])||this.matchInSameDirection(e,t,i[i.length-1],i[i.length-2]))return r}return null},Sc.prototype.insertEdge=function(e){this._edges.add(e)},Sc.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null},Sc.prototype.addEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this._edges.add(n);var r=new kc(n,!0),i=new kc(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Sc.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Sc.prototype.getNodes=function(){return this._nodes.values()},Sc.prototype.findEdge=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(e.equals(i[0])&&t.equals(i[1]))return r}return null},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc},Sc.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()};var Mc=function(){this._geometryFactory=null,this._shellList=new il,this._geometryFactory=arguments[0]};Mc.prototype.sortShellsAndHoles=function(e,t,n){for(var r=e.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):t.add(i)}},Mc.prototype.computePolygons=function(e){for(var t=new il,n=e.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);t.add(r)}return t},Mc.prototype.placeFreeHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,e);if(null===i)throw new lc("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Mc.prototype.buildMinimalEdgeRings=function(e,t,n){for(var r=new il,i=e.iterator();i.hasNext();){var a=i.next();if(a.getMaxNodeDegree()>2){a.linkDirectedEdgesForMinimalEdgeRings();var o=a.buildMinimalRings(),s=this.findShell(o);null!==s?(this.placePolygonHoles(s,o),t.add(s)):n.addAll(o)}else r.add(a)}return r},Mc.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();)if(t.next().containsPoint(e))return!0;return!1},Mc.prototype.buildMaximalEdgeRings=function(e){for(var t=new il,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new gc(r,this._geometryFactory);t.add(i),i.setInResult()}}return t},Mc.prototype.placePolygonHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}},Mc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Mc.prototype.findEdgeRingContaining=function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),a=null,o=null,s=t.iterator();s.hasNext();){var u=s.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==a&&(o=a.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&Bu.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===a||o.contains(c))&&(a=u)}return a},Mc.prototype.findShell=function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,t++)}return Nu.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n},Mc.prototype.add=function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0];Sc.linkResultDirectedEdges(arguments[1]);var n=this.buildMaximalEdgeRings(t),r=new il,i=this.buildMinimalEdgeRings(n,this._shellList,r);this.sortShellsAndHoles(i,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},Mc.prototype.interfaces_=function(){return[]},Mc.prototype.getClass=function(){return Mc};var Ec=function(){};Ec.prototype.getBounds=function(){},Ec.prototype.interfaces_=function(){return[]},Ec.prototype.getClass=function(){return Ec};var Tc=function(){this._bounds=null,this._item=null;var e=arguments[1];this._bounds=arguments[0],this._item=e};Tc.prototype.getItem=function(){return this._item},Tc.prototype.getBounds=function(){return this._bounds},Tc.prototype.interfaces_=function(){return[Ec,xi]},Tc.prototype.getClass=function(){return Tc};var Lc=function(){this._size=null,this._items=null,this._size=0,this._items=new il,this._items.add(null)};Lc.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},Lc.prototype.size=function(){return this._size},Lc.prototype.reorder=function(e){for(var t=null,n=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(n)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,n)},Lc.prototype.clear=function(){this._size=0,this._items.clear()},Lc.prototype.isEmpty=function(){return 0===this._size},Lc.prototype.add=function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)},Lc.prototype.interfaces_=function(){return[]},Lc.prototype.getClass=function(){return Lc};var Ic=function(){};Ic.prototype.visitItem=function(e){},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic};var Dc=function(){};Dc.prototype.insert=function(e,t){},Dc.prototype.remove=function(e,t){},Dc.prototype.query=function(){},Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc};var Ac=function(){this._childBoundables=new il,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},Pc={serialVersionUID:{configurable:!0}};Ac.prototype.getLevel=function(){return this._level},Ac.prototype.size=function(){return this._childBoundables.size()},Ac.prototype.getChildBoundables=function(){return this._childBoundables},Ac.prototype.addChildBoundable=function(e){Nu.isTrue(null===this._bounds),this._childBoundables.add(e)},Ac.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Ac.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Ac.prototype.interfaces_=function(){return[Ec,xi]},Ac.prototype.getClass=function(){return Ac},Pc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Ac,Pc);var Oc=function(){};Oc.reverseOrder=function(){return{compare:function(e,t){return t.compareTo(e)}}},Oc.min=function(e){return Oc.sort(e),e.get(0)},Oc.sort=function(e,t){var n=e.toArray();t?yl.sort(n,t):yl.sort(n);for(var r=e.iterator(),i=0,a=n.length;i<a;i++)r.next(),r.set(n[i])},Oc.singletonList=function(e){var t=new il;return t.add(e),t};var Nc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[1],t=arguments[2];this._boundable1=arguments[0],this._boundable2=e,this._itemDistance=t,this._distance=this.distance()};Nc.prototype.expandToQueue=function(e,t){var n=Nc.isComposite(this._boundable1),r=Nc.isComposite(this._boundable2);if(n&&r)return Nc.area(this._boundable1)>Nc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(n)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new Ks("neither boundable is composite")},Nc.prototype.isLeaves=function(){return!(Nc.isComposite(this._boundable1)||Nc.isComposite(this._boundable2))},Nc.prototype.compareTo=function(e){return this._distance<e._distance?-1:this._distance>e._distance?1:0},Nc.prototype.expand=function(e,t,n,r){for(var i=e.getChildBoundables().iterator();i.hasNext();){var a=i.next(),o=new Nc(a,t,this._itemDistance);o.getDistance()<r&&n.add(o)}},Nc.prototype.getBoundable=function(e){return 0===e?this._boundable1:this._boundable2},Nc.prototype.getDistance=function(){return this._distance},Nc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Nc.prototype.interfaces_=function(){return[tu]},Nc.prototype.getClass=function(){return Nc},Nc.area=function(e){return e.getBounds().getArea()},Nc.isComposite=function(e){return e instanceof Ac};var Rc=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new il,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=e.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var t=arguments[0];Nu.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}},Fc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Rc.prototype.getNodeCapacity=function(){return this._nodeCapacity},Rc.prototype.lastNode=function(e){return e.get(e.size()-1)},Rc.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();n instanceof Ac?e+=this.size(n):n instanceof Tc&&(e+=1)}return e}},Rc.prototype.removeItem=function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Tc&&i.getItem()===t&&(n=i)}return null!==n&&(e.getChildBoundables().remove(n),!0)},Rc.prototype.itemsTree=function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new il:e}if(1===arguments.length){for(var t=arguments[0],n=new il,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Ac){var a=this.itemsTree(i);null!==a&&n.add(a)}else i instanceof Tc?n.add(i.getItem()):Nu.shouldNeverReachHere()}return n.size()<=0?null:n}},Rc.prototype.insert=function(e,t){Nu.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Tc(e,t))},Rc.prototype.boundablesAtLevel=function(){if(1===arguments.length){var e=arguments[0],t=new il;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(Nu.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var a=r.getChildBoundables().iterator();a.hasNext();){var o=a.next();o instanceof Ac?this.boundablesAtLevel(n,o,i):(Nu.isTrue(o instanceof Tc),-1===n&&i.add(o))}return null}},Rc.prototype.query=function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new il;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,t),t}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(cu(arguments[2],Ic)&&arguments[0]instanceof Object&&arguments[1]instanceof Ac)for(var i=arguments[0],a=arguments[2],o=arguments[1].getChildBoundables(),s=0;s<o.size();s++){var u=o.get(s);this.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof Ac?this.query(i,u,a):u instanceof Tc?a.visitItem(u.getItem()):Nu.shouldNeverReachHere())}else if(cu(arguments[2],rl)&&arguments[0]instanceof Object&&arguments[1]instanceof Ac)for(var l=arguments[0],c=arguments[2],h=arguments[1].getChildBoundables(),f=0;f<h.size();f++){var d=h.get(f);this.getIntersectsOp().intersects(d.getBounds(),l)&&(d instanceof Ac?this.query(l,d,c):d instanceof Tc?c.add(d.getItem()):Nu.shouldNeverReachHere())}},Rc.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Rc.prototype.getRoot=function(){return this.build(),this._root},Rc.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],a=this.removeItem(r,i);if(a)return!0;for(var o=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Ac&&(a=this.remove(n,u,i))){o=u;break}}return null!==o&&o.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(o),a}},Rc.prototype.createHigherLevels=function(e,t){Nu.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)},Rc.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();if(n instanceof Ac){var r=this.depth(n);r>e&&(e=r)}}return e+1}},Rc.prototype.createParentBoundables=function(e,t){Nu.isTrue(!e.isEmpty());var n=new il;n.add(this.createNode(t));var r=new il(e);Oc.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var a=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(a)}return n},Rc.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Rc.prototype.interfaces_=function(){return[xi]},Rc.prototype.getClass=function(){return Rc},Rc.compareDoubles=function(e,t){return e>t?1:e<t?-1:0},Fc.IntersectsOp.get=function(){return Yc},Fc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Fc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Rc,Fc);var Yc=function(){},zc=function(){};zc.prototype.distance=function(e,t){},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc};var jc=function(e){function t(n){e.call(this,n=n||t.DEFAULT_NODE_CAPACITY)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(e,t){Nu.isTrue(e.length>0);for(var n=new il,r=0;r<e.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[r],t));return n},t.prototype.createNode=function(e){return new Bc(e)},t.prototype.size=function(){return 0===arguments.length?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(2!==arguments.length)return e.prototype.insert.apply(this,arguments);var t=arguments[0],n=arguments[1];if(t.isNull())return null;e.prototype.insert.call(this,t,n)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),r=new Array(t).fill(null),i=e.iterator(),a=0;a<t;a++){r[a]=new il;for(var o=0;i.hasNext()&&o<n;){var s=i.next();r[a].add(s),o++}}return r},t.prototype.query=function(){if(1===arguments.length)return e.prototype.query.call(this,arguments[0]);2===arguments.length?e.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(cu(arguments[2],Ic)&&arguments[0]instanceof Object&&arguments[1]instanceof Ac||cu(arguments[2],rl)&&arguments[0]instanceof Object&&arguments[1]instanceof Ac)&&e.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(t,n){return e.prototype.createParentBoundables.call(this,t,n)},t.prototype.remove=function(){return 2===arguments.length?e.prototype.remove.call(this,arguments[0],arguments[1]):e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return 0===arguments.length?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(e,n){Nu.isTrue(!e.isEmpty());var r=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),i=new il(e);Oc.sort(i,t.xComparator);var a=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(a,n)},t.prototype.nearestNeighbour=function(){if(1===arguments.length){if(cu(arguments[0],zc)){var e=arguments[0],n=new Nc(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(n)}if(arguments[0]instanceof Nc)return this.nearestNeighbour(arguments[0],Qs.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof t&&cu(arguments[1],zc)){var r=arguments[0],i=arguments[1],a=new Nc(this.getRoot(),r.getRoot(),i);return this.nearestNeighbour(a)}if(arguments[0]instanceof Nc&&"number"==typeof arguments[1]){var o=arguments[0],s=arguments[1],u=null,l=new Lc;for(l.add(o);!l.isEmpty()&&s>0;){var c=l.poll(),h=c.getDistance();if(h>=s)break;c.isLeaves()?(s=h,u=c):c.expandToQueue(l,s)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var f=arguments[2],d=new Tc(arguments[0],arguments[1]),p=new Nc(this.getRoot(),d,f);return this.nearestNeighbour(p)[0]}},t.prototype.interfaces_=function(){return[Dc,xi]},t.prototype.getClass=function(){return t},t.centreX=function(e){return t.avg(e.getMinX(),e.getMaxX())},t.avg=function(e,t){return(e+t)/2},t.centreY=function(e){return t.avg(e.getMinY(),e.getMaxY())},n.STRtreeNode.get=function(){return Bc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[ru]},compare:function(n,r){return e.compareDoubles(t.centreX(n.getBounds()),t.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[ru]},compare:function(n,r){return e.compareDoubles(t.centreY(n.getBounds()),t.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(e,t){return e.intersects(t)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,n),t}(Rc),Bc=function(e){function t(){e.call(this,arguments[0])}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.computeBounds=function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new Mu(n.getBounds()):e.expandToInclude(n.getBounds())}return e},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ac),Hc=function(){};Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc},Hc.relativeSign=function(e,t){return e<t?-1:e>t?1:0},Hc.compare=function(e,t,n){if(t.equals2D(n))return 0;var r=Hc.relativeSign(t.x,n.x),i=Hc.relativeSign(t.y,n.y);switch(e){case 0:return Hc.compareValue(r,i);case 1:return Hc.compareValue(i,r);case 2:return Hc.compareValue(i,-r);case 3:return Hc.compareValue(-r,i);case 4:return Hc.compareValue(-r,-i);case 5:return Hc.compareValue(-i,-r);case 6:return Hc.compareValue(-i,r);case 7:return Hc.compareValue(r,-i)}return Nu.shouldNeverReachHere("invalid octant value"),0},Hc.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var Uc=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._segString=e,this.coord=new iu(t),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))};Uc.prototype.getCoordinate=function(){return this.coord},Uc.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},Uc.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:Hc.compare(this._segmentOctant,this.coord,t.coord)},Uc.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e},Uc.prototype.isInterior=function(){return this._isInterior},Uc.prototype.interfaces_=function(){return[tu]},Uc.prototype.getClass=function(){return Uc};var Vc=function(){this._nodeMap=new Di,this._edge=null,this._edge=arguments[0]};Vc.prototype.getSplitCoordinates=function(){var e=new ol;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next();this.addEdgeCoordinates(n,r,e),n=r}return e.toCoordinateArray()},Vc.prototype.addCollapsedNodes=function(){var e=new il;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Vc.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},Vc.prototype.findCollapsesFromExistingVertices=function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t),r=this._edge.getCoordinate(t+2);n.equals2D(r)&&e.add(new pu(t+1))}},Vc.prototype.addEdgeCoordinates=function(e,t,n){var r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);n.add(new iu(e.coord),!1);for(var a=e.segmentIndex+1;a<=t.segmentIndex;a++)n.add(this._edge.getCoordinate(a));i&&n.add(new iu(t.coord))},Vc.prototype.iterator=function(){return this._nodeMap.values().iterator()},Vc.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},Vc.prototype.findCollapseIndex=function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,1===r&&(n[0]=e.segmentIndex+1,!0)},Vc.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,t)&&e.add(new pu(t[0])),r=i}},Vc.prototype.getEdge=function(){return this._edge},Vc.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},Vc.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);i||n--;var a=new Array(n).fill(null),o=0;a[o++]=new iu(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)a[o++]=this._edge.getCoordinate(s);return i&&(a[o]=new iu(t.coord)),new $c(a,this._edge.getData())},Vc.prototype.add=function(e,t){var n=new Uc(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(n);return null!==r?(Nu.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},Vc.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new Pu("bad split edge start point at "+n);var r=e.get(e.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(t[t.length-1]))throw new Pu("bad split edge end point at "+i)},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var Gc=function(){};Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc},Gc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new Ks("Cannot compute the octant for point ( "+e+", "+t+" )");var n=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?n>=r?0:1:n>=r?7:6:t>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof iu&&arguments[1]instanceof iu){var i=arguments[0],a=arguments[1],o=a.x-i.x,s=a.y-i.y;if(0===o&&0===s)throw new Ks("Cannot compute the octant for two identical points "+i);return Gc.octant(o,s)}};var qc=function(){};qc.prototype.getCoordinates=function(){},qc.prototype.size=function(){},qc.prototype.getCoordinate=function(e){},qc.prototype.isClosed=function(){},qc.prototype.setData=function(e){},qc.prototype.getData=function(){},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc};var Wc=function(){};Wc.prototype.addIntersection=function(e,t){},Wc.prototype.interfaces_=function(){return[qc]},Wc.prototype.getClass=function(){return Wc};var $c=function(){this._nodeList=new Vc(this),this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};$c.prototype.getCoordinates=function(){return this._pts},$c.prototype.size=function(){return this._pts.length},$c.prototype.getCoordinate=function(e){return this._pts[e]},$c.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},$c.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},$c.prototype.setData=function(e){this._data=e},$c.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:Gc.octant(e,t)},$c.prototype.getData=function(){return this._data},$c.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var e=arguments[1],t=new iu(arguments[0].getIntersection(arguments[3]));this.addIntersection(t,e)}},$c.prototype.toString=function(){return Au.toLineString(new Ul(this._pts))},$c.prototype.getNodeList=function(){return this._nodeList},$c.prototype.addIntersectionNode=function(e,t){var n=t,r=n+1;return r<this._pts.length&&e.equals2D(this._pts[r])&&(n=r),this._nodeList.add(e,n)},$c.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},$c.prototype.interfaces_=function(){return[Wc]},$c.prototype.getClass=function(){return $c},$c.getNodedSubstrings=function(){if(1===arguments.length){var e=arguments[0],t=new il;return $c.getNodedSubstrings(e,t),t}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var Xc=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new iu,this.p1=new iu;else if(1===arguments.length){var e=arguments[0];this.p0=new iu(e.p0),this.p1=new iu(e.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var t=arguments[2],n=arguments[3];this.p0=new iu(arguments[0],arguments[1]),this.p1=new iu(t,n)}},Zc={serialVersionUID:{configurable:!0}};Xc.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Xc.prototype.orientationIndex=function(){if(arguments[0]instanceof Xc){var e=arguments[0],t=Bu.orientationIndex(this.p0,this.p1,e.p0),n=Bu.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&n>=0||t<=0&&n<=0?Math.max(t,n):0}if(arguments[0]instanceof iu)return Bu.orientationIndex(this.p0,this.p1,arguments[0])},Xc.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},Xc.prototype.isVertical=function(){return this.p0.x===this.p1.x},Xc.prototype.equals=function(e){if(!(e instanceof Xc))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)},Xc.prototype.intersection=function(e){var t=new Yu;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null},Xc.prototype.project=function(){if(arguments[0]instanceof iu){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new iu(e);var t=this.projectionFactor(e),n=new iu;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Xc){var r=arguments[0],i=this.projectionFactor(r.p0),a=this.projectionFactor(r.p1);if(i>=1&&a>=1||i<=0&&a<=0)return null;var o=this.project(r.p0);i<0&&(o=this.p0),i>1&&(o=this.p1);var s=this.project(r.p1);return a<0&&(s=this.p0),a>1&&(s=this.p1),new Xc(o,s)}},Xc.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Xc.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Xc.prototype.getCoordinate=function(e){return 0===e?this.p0:this.p1},Xc.prototype.distancePerpendicular=function(e){return Bu.distancePointLinePerpendicular(e,this.p0,this.p1)},Xc.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Xc.prototype.midPoint=function(){return Xc.midPoint(this.p0,this.p1)},Xc.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;return r<=0?Qs.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r},Xc.prototype.closestPoints=function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),r=Qs.MAX_VALUE,i=null,a=this.closestPoint(e.p0);r=a.distance(e.p0),n[0]=a,n[1]=e.p0;var o=this.closestPoint(e.p1);(i=o.distance(e.p1))<r&&(r=i,n[0]=o,n[1]=e.p1);var s=e.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var u=e.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},Xc.prototype.closestPoint=function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},Xc.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Xc.prototype.getLength=function(){return this.p0.distance(this.p1)},Xc.prototype.compareTo=function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)},Xc.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},Xc.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},Xc.prototype.lineIntersection=function(e){try{return Su.intersection(this.p0,this.p1,e.p0,e.p1)}catch(jd){if(!(jd instanceof ku))throw jd}return null},Xc.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Xc.prototype.pointAlongOffset=function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,a=this.p1.y-this.p0.y,o=Math.sqrt(i*i+a*a),s=0,u=0;if(0!==t){if(o<=0)throw new Error("Cannot compute offset from zero-length line segment");s=t*i/o,u=t*a/o}return new iu(n-u,r+s)},Xc.prototype.setCoordinates=function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}},Xc.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||Qs.isNaN(t))&&(t=1),t},Xc.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Xc.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Xc.prototype.distance=function(){if(arguments[0]instanceof Xc){var e=arguments[0];return Bu.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof iu)return Bu.distancePointLine(arguments[0],this.p0,this.p1)},Xc.prototype.pointAlong=function(e){var t=new iu;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t},Xc.prototype.hashCode=function(){var e=Qs.doubleToLongBits(this.p0.x);e^=31*Qs.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=Qs.doubleToLongBits(this.p1.x);return n^=31*Qs.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)},Xc.prototype.interfaces_=function(){return[tu,xi]},Xc.prototype.getClass=function(){return Xc},Xc.midPoint=function(e,t){return new iu((e.x+t.x)/2,(e.y+t.y)/2)},Zc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Xc,Zc);var Jc=function(){this.tempEnv1=new Mu,this.tempEnv2=new Mu,this._overlapSeg1=new Xc,this._overlapSeg2=new Xc};Jc.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var e=arguments[2],t=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),e.getLineSegment(t,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc};var Kc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[1],t=arguments[2],n=arguments[3];this._pts=arguments[0],this._start=e,this._end=t,this._context=n};Kc.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]},Kc.prototype.computeSelect=function(e,t,n,r){if(r.tempEnv1.init(this._pts[t],this._pts[n]),n-t==1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var i=Math.trunc((t+n)/2);t<i&&this.computeSelect(e,t,i,r),i<n&&this.computeSelect(e,i,n,r)},Kc.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e},Kc.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)},Kc.prototype.setId=function(e){this._id=e},Kc.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)},Kc.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Mu(this._pts[this._start],this._pts[this._end])),this._env},Kc.prototype.getEndIndex=function(){return this._end},Kc.prototype.getStartIndex=function(){return this._start},Kc.prototype.getContext=function(){return this._context},Kc.prototype.getId=function(){return this._id},Kc.prototype.computeOverlapsInternal=function(e,t,n,r,i,a){var o=this._pts[e],s=this._pts[t],u=n._pts[r],l=n._pts[i];if(t-e==1&&i-r==1)return a.overlap(this,e,n,r),null;if(a.tempEnv1.init(o,s),a.tempEnv2.init(u,l),!a.tempEnv1.intersects(a.tempEnv2))return null;var c=Math.trunc((e+t)/2),h=Math.trunc((r+i)/2);e<c&&(r<h&&this.computeOverlapsInternal(e,c,n,r,h,a),h<i&&this.computeOverlapsInternal(e,c,n,h,i,a)),c<t&&(r<h&&this.computeOverlapsInternal(c,t,n,r,h,a),h<i&&this.computeOverlapsInternal(c,t,n,h,i,a))},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var Qc=function(){};Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc},Qc.getChainStartIndices=function(e){var t=0,n=new il;n.add(new pu(t));do{var r=Qc.findChainEnd(e,t);n.add(new pu(r)),t=r}while(t<e.length-1);return Qc.toIntArray(n)},Qc.findChainEnd=function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=bc.quadrant(e[n],e[n+1]),i=t+1;i<e.length&&(e[i-1].equals2D(e[i])||bc.quadrant(e[i-1],e[i])===r);)i++;return i-1},Qc.getChains=function(){if(1===arguments.length)return Qc.getChains(arguments[0],null);if(2===arguments.length){for(var e=arguments[0],t=arguments[1],n=new il,r=Qc.getChainStartIndices(e),i=0;i<r.length-1;i++){var a=new Kc(e,r[i],r[i+1],t);n.add(a)}return n}},Qc.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var eh=function(){};eh.prototype.computeNodes=function(e){},eh.prototype.getNodedSubstrings=function(){},eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh};var th=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};th.prototype.setSegmentIntersector=function(e){this._segInt=e},th.prototype.interfaces_=function(){return[eh]},th.prototype.getClass=function(){return th};var nh=function(e){function t(t){t?e.call(this,t):e.call(this),this._monoChains=new il,this._index=new jc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return $c.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(e){for(var t=Qc.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var n=t.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},t.prototype.computeNodes=function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var e=new rh(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var n=t.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,e),this._nOverlaps++),this._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return rh},Object.defineProperties(t,n),t}(th),rh=function(e){function t(){e.call(this),this._si=null,this._si=arguments[0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.overlap=function(){if(4!==arguments.length)return e.prototype.overlap.apply(this,arguments);var t=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),a=n.getContext();this._si.processIntersections(i,t,a,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Jc),ih=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var t=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(t)}else if(4===arguments.length){var n=arguments[1],r=arguments[2],i=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(n),this.setJoinStyle(r),this.setMitreLimit(i)}},ah={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};ih.prototype.getEndCapStyle=function(){return this._endCapStyle},ih.prototype.isSingleSided=function(){return this._isSingleSided},ih.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=ih.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=ih.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==ih.JOIN_ROUND&&(this._quadrantSegments=ih.DEFAULT_QUADRANT_SEGMENTS)},ih.prototype.getJoinStyle=function(){return this._joinStyle},ih.prototype.setJoinStyle=function(e){this._joinStyle=e},ih.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},ih.prototype.getSimplifyFactor=function(){return this._simplifyFactor},ih.prototype.getQuadrantSegments=function(){return this._quadrantSegments},ih.prototype.setEndCapStyle=function(e){this._endCapStyle=e},ih.prototype.getMitreLimit=function(){return this._mitreLimit},ih.prototype.setMitreLimit=function(e){this._mitreLimit=e},ih.prototype.setSingleSided=function(e){this._isSingleSided=e},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih},ih.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)},ah.CAP_ROUND.get=function(){return 1},ah.CAP_FLAT.get=function(){return 2},ah.CAP_SQUARE.get=function(){return 3},ah.JOIN_ROUND.get=function(){return 1},ah.JOIN_MITRE.get=function(){return 2},ah.JOIN_BEVEL.get=function(){return 3},ah.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},ah.DEFAULT_MITRE_LIMIT.get=function(){return 5},ah.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(ih,ah);var oh=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Bu.COUNTERCLOCKWISE,this._inputLine=e||null},sh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};oh.prototype.isDeletable=function(e,t,n,r){var i=this._inputLine[e],a=this._inputLine[t],o=this._inputLine[n];return!!this.isConcave(i,a,o)&&!!this.isShallow(i,a,o,r)&&this.isShallowSampled(i,a,e,n,r)},oh.prototype.deleteShallowConcavities=function(){for(var e=1,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(e,t,n,this._distanceTol)&&(this._isDeleted[t]=oh.DELETE,i=!0,r=!0),t=this.findNextNonDeletedIndex(e=i?n:t),n=this.findNextNonDeletedIndex(t)}return r},oh.prototype.isShallowConcavity=function(e,t,n,r){return Bu.computeOrientation(e,t,n)===this._angleOrientation&&Bu.distancePointLine(t,e,n)<r},oh.prototype.isShallowSampled=function(e,t,n,r,i){var a=Math.trunc((r-n)/oh.NUM_PTS_TO_CHECK);a<=0&&(a=1);for(var o=n;o<r;o+=a)if(!this.isShallow(e,t,this._inputLine[o],i))return!1;return!0},oh.prototype.isConcave=function(e,t,n){return Bu.computeOrientation(e,t,n)===this._angleOrientation},oh.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=Bu.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()},oh.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===oh.DELETE;)t++;return t},oh.prototype.isShallow=function(e,t,n,r){return Bu.distancePointLine(t,e,n)<r},oh.prototype.collapseLine=function(){for(var e=new ol,t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==oh.DELETE&&e.add(this._inputLine[t]);return e.toCoordinateArray()},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh},oh.simplify=function(e,t){return new oh(e).simplify(t)},sh.INIT.get=function(){return 0},sh.DELETE.get=function(){return 1},sh.KEEP.get=function(){return 1},sh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(oh,sh);var uh=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new il},lh={COORDINATE_ARRAY_TYPE:{configurable:!0}};uh.prototype.getCoordinates=function(){return this._ptList.toArray(uh.COORDINATE_ARRAY_TYPE)},uh.prototype.setPrecisionModel=function(e){this._precisionModel=e},uh.prototype.addPt=function(e){var t=new iu(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)},uh.prototype.revere=function(){},uh.prototype.addPts=function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var r=e.length-1;r>=0;r--)this.addPt(e[r])},uh.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance},uh.prototype.toString=function(){return(new Kl).createLineString(this.getCoordinates()).toString()},uh.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new iu(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)},uh.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh},lh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(uh,lh);var ch=function(){},hh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch},ch.toDegrees=function(e){return 180*e/Math.PI},ch.normalize=function(e){for(;e>Math.PI;)e-=ch.PI_TIMES_2;for(;e<=-Math.PI;)e+=ch.PI_TIMES_2;return e},ch.angle=function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return Math.atan2(n.y-t.y,n.x-t.x)}},ch.isAcute=function(e,t,n){return(e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y)>0},ch.isObtuse=function(e,t,n){return(e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y)<0},ch.interiorAngle=function(e,t,n){var r=ch.angle(t,e),i=ch.angle(t,n);return Math.abs(i-r)},ch.normalizePositive=function(e){if(e<0){for(;e<0;)e+=ch.PI_TIMES_2;e>=ch.PI_TIMES_2&&(e=0)}else{for(;e>=ch.PI_TIMES_2;)e-=ch.PI_TIMES_2;e<0&&(e=0)}return e},ch.angleBetween=function(e,t,n){var r=ch.angle(t,e),i=ch.angle(t,n);return ch.diff(r,i)},ch.diff=function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n},ch.toRadians=function(e){return e*Math.PI/180},ch.getTurn=function(e,t){var n=Math.sin(t-e);return n>0?ch.COUNTERCLOCKWISE:n<0?ch.CLOCKWISE:ch.NONE},ch.angleBetweenOriented=function(e,t,n){var r=ch.angle(t,e),i=ch.angle(t,n)-r;return i<=-Math.PI?i+ch.PI_TIMES_2:i>Math.PI?i-ch.PI_TIMES_2:i},hh.PI_TIMES_2.get=function(){return 2*Math.PI},hh.PI_OVER_2.get=function(){return Math.PI/2},hh.PI_OVER_4.get=function(){return Math.PI/4},hh.COUNTERCLOCKWISE.get=function(){return Bu.COUNTERCLOCKWISE},hh.CLOCKWISE.get=function(){return Bu.CLOCKWISE},hh.NONE.get=function(){return Bu.COLLINEAR},Object.defineProperties(ch,hh);var fh=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Xc,this._seg1=new Xc,this._offset0=new Xc,this._offset1=new Xc,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[1],n=arguments[2];this._precisionModel=arguments[0],this._bufParams=t,this._li=new Yu,this._filletAngleQuantum=Math.PI/2/t.getQuadrantSegments(),t.getQuadrantSegments()>=8&&t.getJoinStyle()===ih.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},dh={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};fh.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Bu.computeOrientation(this._s0,this._s1,this._s2),r=n===Bu.CLOCKWISE&&this._side===oc.LEFT||n===Bu.COUNTERCLOCKWISE&&this._side===oc.RIGHT;0===n?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)},fh.prototype.addLineEndCap=function(e,t){var n=new Xc(e,t),r=new Xc;this.computeOffsetSegment(n,oc.LEFT,this._distance,r);var i=new Xc;this.computeOffsetSegment(n,oc.RIGHT,this._distance,i);var a=Math.atan2(t.y-e.y,t.x-e.x);switch(this._bufParams.getEndCapStyle()){case ih.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,a+Math.PI/2,a-Math.PI/2,Bu.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case ih.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case ih.CAP_SQUARE:var o=new iu;o.x=Math.abs(this._distance)*Math.cos(a),o.y=Math.abs(this._distance)*Math.sin(a);var s=new iu(r.p1.x+o.x,r.p1.y+o.y),u=new iu(i.p1.x+o.x,i.p1.y+o.y);this._segList.addPt(s),this._segList.addPt(u)}},fh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},fh.prototype.addMitreJoin=function(e,t,n,r){var i=!0,a=null;try{a=Su.intersection(t.p0,t.p1,n.p0,n.p1),(r<=0?1:a.distance(e)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(o){if(!(o instanceof ku))throw o;a=new iu(0,0),i=!1}i?this._segList.addPt(a):this.addLimitedMitreJoin(t,n,r,this._bufParams.getMitreLimit())},fh.prototype.addFilletCorner=function(e,t,n,r,i){var a=Math.atan2(t.y-e.y,t.x-e.x),o=Math.atan2(n.y-e.y,n.x-e.x);r===Bu.CLOCKWISE?a<=o&&(a+=2*Math.PI):a>=o&&(a-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,a,o,r,i),this._segList.addPt(n)},fh.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*fh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===ih.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===ih.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},fh.prototype.createSquare=function(e){this._segList.addPt(new iu(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new iu(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new iu(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new iu(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},fh.prototype.addSegments=function(e,t){this._segList.addPts(e,t)},fh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},fh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},fh.prototype.initSideSegments=function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},fh.prototype.addLimitedMitreJoin=function(e,t,n,r){var i=this._seg0.p1,a=ch.angle(i,this._seg0.p0),o=ch.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=ch.normalize(a+o),u=ch.normalize(s+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(o)),h=i.x+l*Math.cos(u),f=i.y+l*Math.sin(u),d=new iu(h,f),p=new Xc(i,d),m=p.pointAlongOffset(1,c),g=p.pointAlongOffset(1,-c);this._side===oc.LEFT?(this._segList.addPt(m),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(m))},fh.prototype.computeOffsetSegment=function(e,t,n,r){var i=t===oc.LEFT?1:-1,a=e.p1.x-e.p0.x,o=e.p1.y-e.p0.y,s=Math.sqrt(a*a+o*o),u=i*n*a/s,l=i*n*o/s;r.p0.x=e.p0.x-l,r.p0.y=e.p0.y+u,r.p1.x=e.p1.x-l,r.p1.y=e.p1.y+u},fh.prototype.addFilletArc=function(e,t,n,r,i){var a=r===Bu.CLOCKWISE?-1:1,o=Math.abs(t-n),s=Math.trunc(o/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=o/s,l=0,c=new iu;l<o;){var h=t+a*l;c.x=e.x+i*Math.cos(h),c.y=e.y+i*Math.sin(h),this._segList.addPt(c),l+=u}},fh.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*fh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new iu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new iu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},fh.prototype.createCircle=function(e){var t=new iu(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},fh.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)},fh.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new uh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*fh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},fh.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===ih.JOIN_BEVEL||this._bufParams.getJoinStyle()===ih.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Bu.CLOCKWISE,this._distance))},fh.prototype.closeRing=function(){this._segList.closeRing()},fh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh},dh.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},dh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},dh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},dh.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(fh,dh);var ph=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[1];this._precisionModel=arguments[0],this._bufParams=e};ph.prototype.getOffsetCurve=function(e,t){if(this._distance=t,0===t)return null;var n=t<0,r=Math.abs(t),i=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],i):this.computeOffsetCurve(e,n,i);var a=i.getCoordinates();return n&&sl.reverse(a),a},ph.prototype.computeSingleSidedBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var i=oh.simplify(e,-r),a=i.length-1;n.initSideSegments(i[a],i[a-1],oc.LEFT),n.addFirstSegment();for(var o=a-2;o>=0;o--)n.addNextSegment(i[o],!0)}else{n.addSegments(e,!1);var s=oh.simplify(e,r),u=s.length-1;n.initSideSegments(s[0],s[1],oc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()},ph.prototype.computeRingBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);t===oc.RIGHT&&(r=-r);var i=oh.simplify(e,r),a=i.length-1;n.initSideSegments(i[a-1],i[0],t);for(var o=1;o<=a;o++)n.addNextSegment(i[o],1!==o);n.closeRing()},ph.prototype.computeLineBufferCurve=function(e,t){var n=this.simplifyTolerance(this._distance),r=oh.simplify(e,n),i=r.length-1;t.initSideSegments(r[0],r[1],oc.LEFT);for(var a=2;a<=i;a++)t.addNextSegment(r[a],!0);t.addLastSegment(),t.addLineEndCap(r[i-1],r[i]);var o=oh.simplify(e,-n),s=o.length-1;t.initSideSegments(o[s],o[s-1],oc.LEFT);for(var u=s-2;u>=0;u--)t.addNextSegment(o[u],!0);t.addLastSegment(),t.addLineEndCap(o[1],o[0]),t.closeRing()},ph.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case ih.CAP_ROUND:t.createCircle(e);break;case ih.CAP_SQUARE:t.createSquare(e)}},ph.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided()||0===t)return null;var n=Math.abs(t),r=this.getSegGen(n);return e.length<=1?this.computePointCurve(e[0],r):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(e,t<0,r):this.computeLineBufferCurve(e,r),r.getCoordinates()},ph.prototype.getBufferParameters=function(){return this._bufParams},ph.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},ph.prototype.getRingCurve=function(e,t,n){if(this._distance=n,e.length<=2)return this.getLineCurve(e,n);if(0===n)return ph.copyCoordinates(e);var r=this.getSegGen(n);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()},ph.prototype.computeOffsetCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){var i=oh.simplify(e,-r),a=i.length-1;n.initSideSegments(i[a],i[a-1],oc.LEFT),n.addFirstSegment();for(var o=a-2;o>=0;o--)n.addNextSegment(i[o],!0)}else{var s=oh.simplify(e,r),u=s.length-1;n.initSideSegments(s[0],s[1],oc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()},ph.prototype.getSegGen=function(e){return new fh(this._precisionModel,this._bufParams,e)},ph.prototype.interfaces_=function(){return[]},ph.prototype.getClass=function(){return ph},ph.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new iu(e[n]);return t};var mh=function(){this._subgraphs=null,this._seg=new Xc,this._cga=new Bu,this._subgraphs=arguments[0]},gh={DepthSegment:{configurable:!0}};mh.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var e=arguments[0],t=new il,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();e.y<i.getMinY()||e.y>i.getMaxY()||this.findStabbedSegments(e,r.getDirectedEdges(),t)}return t}if(3===arguments.length)if(cu(arguments[2],rl)&&arguments[0]instanceof iu&&arguments[1]instanceof kc){for(var a=arguments[0],o=arguments[1],s=arguments[2],u=o.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<a.x||this._seg.isHorizontal()||a.y<this._seg.p0.y||a.y>this._seg.p1.y||Bu.computeOrientation(this._seg.p0,this._seg.p1,a)===Bu.RIGHT)){var c=o.getDepth(oc.LEFT);this._seg.p0.equals(u[l])||(c=o.getDepth(oc.RIGHT));var h=new vh(this._seg,c);s.add(h)}}else if(cu(arguments[2],rl)&&arguments[0]instanceof iu&&cu(arguments[1],rl))for(var f=arguments[0],d=arguments[2],p=arguments[1].iterator();p.hasNext();){var m=p.next();m.isForward()&&this.findStabbedSegments(f,m,d)}},mh.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:Oc.min(t)._leftDepth},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh},gh.DepthSegment.get=function(){return vh},Object.defineProperties(mh,gh);var vh=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[1];this._upwardSeg=new Xc(arguments[0]),this._leftDepth=e};vh.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!=(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)},vh.prototype.compareX=function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)},vh.prototype.toString=function(){return this._upwardSeg.toString()},vh.prototype.interfaces_=function(){return[tu]},vh.prototype.getClass=function(){return vh};var yh=function(e,t,n){this.p0=e||null,this.p1=t||null,this.p2=n||null};yh.prototype.area=function(){return yh.area(this.p0,this.p1,this.p2)},yh.prototype.signedArea=function(){return yh.signedArea(this.p0,this.p1,this.p2)},yh.prototype.interpolateZ=function(e){if(null===e)throw new Ks("Supplied point is null.");return yh.interpolateZ(e,this.p0,this.p1,this.p2)},yh.prototype.longestSideLength=function(){return yh.longestSideLength(this.p0,this.p1,this.p2)},yh.prototype.isAcute=function(){return yh.isAcute(this.p0,this.p1,this.p2)},yh.prototype.circumcentre=function(){return yh.circumcentre(this.p0,this.p1,this.p2)},yh.prototype.area3D=function(){return yh.area3D(this.p0,this.p1,this.p2)},yh.prototype.centroid=function(){return yh.centroid(this.p0,this.p1,this.p2)},yh.prototype.inCentre=function(){return yh.inCentre(this.p0,this.p1,this.p2)},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh},yh.area=function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)},yh.signedArea=function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2},yh.det=function(e,t,n,r){return e*r-t*n},yh.interpolateZ=function(e,t,n,r){var i=t.x,a=t.y,o=n.x-i,s=r.x-i,u=n.y-a,l=r.y-a,c=o*l-s*u,h=e.x-i,f=e.y-a;return t.z+(l*h-s*f)/c*(n.z-t.z)+(-u*h+o*f)/c*(r.z-t.z)},yh.longestSideLength=function(e,t,n){var r=e.distance(t),i=t.distance(n),a=n.distance(e),o=r;return i>o&&(o=i),a>o&&(o=a),o},yh.isAcute=function(e,t,n){return!!ch.isAcute(e,t,n)&&!!ch.isAcute(t,n,e)&&!!ch.isAcute(n,e,t)},yh.circumcentre=function(e,t,n){var r=n.x,i=n.y,a=e.x-r,o=e.y-i,s=t.x-r,u=t.y-i,l=2*yh.det(a,o,s,u),c=yh.det(o,a*a+o*o,u,s*s+u*u),h=yh.det(a,a*a+o*o,s,s*s+u*u);return new iu(r-c/l,i+h/l)},yh.perpendicularBisector=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=new Su(e.x+n/2,e.y+r/2,1),a=new Su(e.x-r+n/2,e.y+n+r/2,1);return new Su(i,a)},yh.angleBisector=function(e,t,n){var r=t.distance(e),i=r/(r+t.distance(n));return new iu(e.x+i*(n.x-e.x),e.y+i*(n.y-e.y))},yh.area3D=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,a=t.z-e.z,o=n.x-e.x,s=n.y-e.y,u=n.z-e.z,l=i*u-a*s,c=a*o-r*u,h=r*s-i*o;return Math.sqrt(l*l+c*c+h*h)/2},yh.centroid=function(e,t,n){return new iu((e.x+t.x+n.x)/3,(e.y+t.y+n.y)/3)},yh.inCentre=function(e,t,n){var r=t.distance(n),i=e.distance(n),a=e.distance(t),o=r+i+a;return new iu((r*e.x+i*t.x+a*n.x)/o,(r*e.y+i*t.y+a*n.y)/o)};var _h=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new il;var e=arguments[1],t=arguments[2];this._inputGeom=arguments[0],this._distance=e,this._curveBuilder=t};_h.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,uu.EXTERIOR,uu.INTERIOR)},_h.prototype.addPolygon=function(e){var t=this._distance,n=oc.LEFT;this._distance<0&&(t=-this._distance,n=oc.RIGHT);var r=e.getExteriorRing(),i=sl.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance)||this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,t,n,uu.EXTERIOR,uu.INTERIOR);for(var a=0;a<e.getNumInteriorRing();a++){var o=e.getInteriorRingN(a),s=sl.removeRepeatedPoints(o.getCoordinates());this._distance>0&&this.isErodedCompletely(o,-this._distance)||this.addPolygonRing(s,t,oc.opposite(n),uu.INTERIOR,uu.EXTERIOR)}},_h.prototype.isTriangleErodedCompletely=function(e,t){var n=new yh(e[0],e[1],e[2]),r=n.inCentre();return Bu.distancePointLine(r,n.p0,n.p1)<Math.abs(t)},_h.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=sl.removeRepeatedPoints(e.getCoordinates()),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,uu.EXTERIOR,uu.INTERIOR)},_h.prototype.addCurve=function(e,t,n){if(null===e||e.length<2)return null;var r=new $c(e,new dc(0,uu.BOUNDARY,t,n));this._curveList.add(r)},_h.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},_h.prototype.addPolygonRing=function(e,t,n,r,i){if(0===t&&e.length<Rl.MINIMUM_VALID_SIZE)return null;var a=r,o=i;e.length>=Rl.MINIMUM_VALID_SIZE&&Bu.isCCW(e)&&(a=i,o=r,n=oc.opposite(n));var s=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(s,a,o)},_h.prototype.add=function(e){if(e.isEmpty())return null;e instanceof Ol?this.addPolygon(e):e instanceof Il?this.addLineString(e):e instanceof Al?this.addPoint(e):(e instanceof Nl||e instanceof Cl||e instanceof Fl||e instanceof kl)&&this.addCollection(e)},_h.prototype.isErodedCompletely=function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>i},_h.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},_h.prototype.interfaces_=function(){return[]},_h.prototype.getClass=function(){return _h};var bh=function(){};bh.prototype.locate=function(e){},bh.prototype.interfaces_=function(){return[]},bh.prototype.getClass=function(){return bh};var wh=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};wh.prototype.next=function(){if(this._atStart)return this._atStart=!1,wh.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new ki;var e=this._parent.getGeometryN(this._index++);return e instanceof kl?(this._subcollectionIterator=new wh(e),this._subcollectionIterator.next()):e},wh.prototype.remove=function(){throw new Error(this.getClass().getName())},wh.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},wh.prototype.interfaces_=function(){return[nl]},wh.prototype.getClass=function(){return wh},wh.isAtomic=function(e){return!(e instanceof kl)};var xh=function(){this._geom=null,this._geom=arguments[0]};xh.prototype.locate=function(e){return xh.locate(e,this._geom)},xh.prototype.interfaces_=function(){return[bh]},xh.prototype.getClass=function(){return xh},xh.isPointInRing=function(e,t){return!!t.getEnvelopeInternal().intersects(e)&&Bu.isPointInRing(e,t.getCoordinates())},xh.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var n=t.getExteriorRing();if(!xh.isPointInRing(e,n))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);if(xh.isPointInRing(e,i))return!1}return!0},xh.containsPoint=function(e,t){if(t instanceof Ol)return xh.containsPointInPolygon(e,t);if(t instanceof kl)for(var n=new wh(t);n.hasNext();){var r=n.next();if(r!==t&&xh.containsPoint(e,r))return!0}return!1},xh.locate=function(e,t){return t.isEmpty()?uu.EXTERIOR:xh.containsPoint(e,t)?uu.INTERIOR:uu.EXTERIOR};var kh=function(){this._edgeMap=new Di,this._edgeList=null,this._ptInAreaLocation=[uu.NONE,uu.NONE]};kh.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)},kh.prototype.propagateSideLabels=function(e){for(var t=uu.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(e)&&r.getLocation(e,oc.LEFT)!==uu.NONE&&(t=r.getLocation(e,oc.LEFT))}if(t===uu.NONE)return null;for(var i=t,a=this.iterator();a.hasNext();){var o=a.next(),s=o.getLabel();if(s.getLocation(e,oc.ON)===uu.NONE&&s.setLocation(e,oc.ON,i),s.isArea(e)){var u=s.getLocation(e,oc.LEFT),l=s.getLocation(e,oc.RIGHT);if(l!==uu.NONE){if(l!==i)throw new lc("side location conflict",o.getCoordinate());u===uu.NONE&&Nu.shouldNeverReachHere("found single null side (at "+o.getCoordinate()+")"),i=u}else Nu.isTrue(s.getLocation(e,oc.LEFT)===uu.NONE,"found single null side"),s.setLocation(e,oc.RIGHT,i),s.setLocation(e,oc.LEFT,i)}}},kh.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},kh.prototype.print=function(e){Cu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)},kh.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},kh.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel().getLocation(e,oc.LEFT);Nu.isTrue(r!==uu.NONE,"Found unlabelled area edge");for(var i=r,a=this.iterator();a.hasNext();){var o=a.next().getLabel();Nu.isTrue(o.isArea(e),"Found non-area edge");var s=o.getLocation(e,oc.LEFT),u=o.getLocation(e,oc.RIGHT);if(s===u||u!==i)return!1;i=s}return!0},kh.prototype.findIndex=function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1},kh.prototype.iterator=function(){return this.getEdges().iterator()},kh.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new il(this._edgeMap.values())),this._edgeList},kh.prototype.getLocation=function(e,t,n){return this._ptInAreaLocation[e]===uu.NONE&&(this._ptInAreaLocation[e]=xh.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]},kh.prototype.toString=function(){var e=new du;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()},kh.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)},kh.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===uu.BOUNDARY&&(t[i]=!0);for(var a=this.iterator();a.hasNext();)for(var o=a.next(),s=o.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var l=uu.NONE;if(t[u])l=uu.EXTERIOR;else{var c=o.getCoordinate();l=this.getLocation(u,c,e)}s.setAllLocationsIfNull(u,l)}},kh.prototype.getDegree=function(){return this._edgeMap.size()},kh.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null},kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh};var Ch=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var e=null,t=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),a=i.getSym();if(i.getLabel().isArea())switch(null===e&&i.isInResult()&&(e=i),n){case this._SCANNING_FOR_INCOMING:if(!a.isInResult())continue;t=a,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;t.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new lc("no outgoing dirEdge found",this.getCoordinate());Nu.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}},t.prototype.insert=function(e){this.insertEdgeEnd(e,e)},t.prototype.getRightmostEdge=function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var r=e.get(t-1),i=n.getQuadrant(),a=r.getQuadrant();return bc.isNorthern(i)&&bc.isNorthern(a)?n:bc.isNorthern(i)||bc.isNorthern(a)?0!==n.getDy()?n:0!==r.getDy()?r:(Nu.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},t.prototype.print=function(e){Cu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}},t.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new il;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===t&&(t=i),null!==e&&i.setNext(e),e=r}t.setNext(e)},t.prototype.computeDepths=function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),n=e.getDepth(oc.LEFT),r=e.getDepth(oc.RIGHT),i=this.computeDepths(t+1,this._edgeList.size(),n);if(this.computeDepths(0,t,i)!==r)throw new lc("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var a=arguments[1],o=arguments[2],s=arguments[0];s<a;s++){var u=this._edgeList.get(s);u.setEdgeDepths(oc.RIGHT,o),o=u.getDepth(oc.LEFT)}return o}},t.prototype.mergeSymLabels=function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(e){for(var t=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var a=this._resultAreaEdgeList.get(i),o=a.getSym();switch(null===t&&a.getEdgeRing()===e&&(t=a),r){case this._SCANNING_FOR_INCOMING:if(o.getEdgeRing()!==e)continue;n=o,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(a.getEdgeRing()!==e)continue;n.setNextMin(a),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(Nu.isTrue(null!==t,"found null for first outgoing dirEdge"),Nu.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),n.setNextMin(t))},t.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var e=uu.NONE,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=uu.INTERIOR;break}if(r.isInResult()){e=uu.EXTERIOR;break}}}if(e===uu.NONE)return null;for(var i=e,a=this.iterator();a.hasNext();){var o=a.next(),s=o.getSym();o.isLineEdge()?o.getEdge().setCovered(i===uu.INTERIOR):(o.isInResult()&&(i=uu.EXTERIOR),s.isInResult()&&(i=uu.INTERIOR))}},t.prototype.computeLabelling=function(t){e.prototype.computeLabelling.call(this,t),this._label=new dc(uu.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var a=r.getLocation(i);a!==uu.INTERIOR&&a!==uu.BOUNDARY||this._label.setLocation(i,uu.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(kh),Sh=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createNode=function(e){return new yc(e,new Ch)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Cc),Mh=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};Mh.prototype.compareTo=function(e){return Mh.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Mh.prototype.interfaces_=function(){return[tu]},Mh.prototype.getClass=function(){return Mh},Mh.orientation=function(e){return 1===sl.increasingDirection(e)},Mh.compareOriented=function(e,t,n,r){for(var i=t?1:-1,a=r?1:-1,o=t?e.length:-1,s=r?n.length:-1,u=t?0:e.length-1,l=r?0:n.length-1;;){var c=e[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=i)===o,f=(l+=a)===s;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};var Eh=function(){this._edges=new il,this._ocaMap=new Di};Eh.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&e.print(","),e.print(r[i].x+" "+r[i].y);e.println(")")}e.print(")  ")},Eh.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())},Eh.prototype.findEdgeIndex=function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1},Eh.prototype.iterator=function(){return this._edges.iterator()},Eh.prototype.getEdges=function(){return this._edges},Eh.prototype.get=function(e){return this._edges.get(e)},Eh.prototype.findEqualEdge=function(e){var t=new Mh(e.getCoordinates());return this._ocaMap.get(t)},Eh.prototype.add=function(e){this._edges.add(e);var t=new Mh(e.getCoordinates());this._ocaMap.put(t,e)},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh};var Th=function(){};Th.prototype.processIntersections=function(e,t,n,r){},Th.prototype.isDone=function(){},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th};var Lh=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Lh.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(Lh.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.size()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},Lh.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Lh.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Lh.prototype.getLineIntersector=function(){return this._li},Lh.prototype.hasProperIntersection=function(){return this._hasProper},Lh.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],a=e.getCoordinates()[t+1],o=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,a,o,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Lh.prototype.hasIntersection=function(){return this._hasIntersection},Lh.prototype.isDone=function(){return!1},Lh.prototype.hasInteriorIntersection=function(){return this._hasInterior},Lh.prototype.interfaces_=function(){return[Th]},Lh.prototype.getClass=function(){return Lh},Lh.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var Ih=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[1],t=arguments[2];this.coord=new iu(arguments[0]),this.segmentIndex=e,this.dist=t};Ih.prototype.getSegmentIndex=function(){return this.segmentIndex},Ih.prototype.getCoordinate=function(){return this.coord},Ih.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},Ih.prototype.compareTo=function(e){return this.compare(e.segmentIndex,e.dist)},Ih.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e},Ih.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Ih.prototype.getDistance=function(){return this.dist},Ih.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0},Ih.prototype.interfaces_=function(){return[tu]},Ih.prototype.getClass=function(){return Ih};var Dh=function(){this._nodeMap=new Di,this.edge=null,this.edge=arguments[0]};Dh.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},Dh.prototype.iterator=function(){return this._nodeMap.values().iterator()},Dh.prototype.addSplitEdges=function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},Dh.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},Dh.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=t.dist>0||!t.coord.equals2D(this.edge.pts[t.segmentIndex]);r||n--;var i=new Array(n).fill(null),a=0;i[a++]=new iu(e.coord);for(var o=e.segmentIndex+1;o<=t.segmentIndex;o++)i[a++]=this.edge.pts[o];return r&&(i[a]=t.coord),new Rh(i,new dc(this.edge._label))},Dh.prototype.add=function(e,t,n){var r=new Ih(e,t,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Dh.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1},Dh.prototype.interfaces_=function(){return[]},Dh.prototype.getClass=function(){return Dh};var Ah=function(){};Ah.prototype.getChainStartIndices=function(e){var t=0,n=new il;n.add(new pu(t));do{var r=this.findChainEnd(e,t);n.add(new pu(r)),t=r}while(t<e.length-1);return Ah.toIntArray(n)},Ah.prototype.findChainEnd=function(e,t){for(var n=bc.quadrant(e[t],e[t+1]),r=t+1;r<e.length&&bc.quadrant(e[r-1],e[r])===n;)r++;return r-1},Ah.prototype.interfaces_=function(){return[]},Ah.prototype.getClass=function(){return Ah},Ah.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var Ph=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Mu,this.env2=new Mu;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new Ah;this.startIndex=t.getChainStartIndices(this.pts)};Ph.prototype.getCoordinates=function(){return this.pts},Ph.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n},Ph.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n},Ph.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],arguments[3])}else if(6===arguments.length){var r=arguments[0],i=arguments[1],a=arguments[2],o=arguments[3],s=arguments[4],u=arguments[5],l=this.pts[r],c=this.pts[i],h=a.pts[o],f=a.pts[s];if(i-r==1&&s-o==1)return u.addIntersections(this.e,r,a.e,o),null;if(this.env1.init(l,c),this.env2.init(h,f),!this.env1.intersects(this.env2))return null;var d=Math.trunc((r+i)/2),p=Math.trunc((o+s)/2);r<d&&(o<p&&this.computeIntersectsForChain(r,d,a,o,p,u),p<s&&this.computeIntersectsForChain(r,d,a,p,s,u)),d<i&&(o<p&&this.computeIntersectsForChain(d,i,a,o,p,u),p<s&&this.computeIntersectsForChain(d,i,a,p,s,u))}},Ph.prototype.getStartIndexes=function(){return this.startIndex},Ph.prototype.computeIntersects=function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<e.startIndex.length-1;r++)this.computeIntersectsForChain(n,e,r,t)},Ph.prototype.interfaces_=function(){return[]},Ph.prototype.getClass=function(){return Ph};var Oh=function e(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE},Nh={NULL_VALUE:{configurable:!0}};Oh.prototype.getDepth=function(e,t){return this._depth[e][t]},Oh.prototype.setDepth=function(e,t,n){this._depth[e][t]=n},Oh.prototype.isNull=function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var t=0;t<3;t++)if(this._depth[e][t]!==Oh.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Oh.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Oh.NULL_VALUE:void 0},Oh.prototype.normalize=function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var n=1;n<3;n++){var r=0;this._depth[e][n]>t&&(r=1),this._depth[e][n]=r}}},Oh.prototype.getDelta=function(e){return this._depth[e][oc.RIGHT]-this._depth[e][oc.LEFT]},Oh.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?uu.EXTERIOR:uu.INTERIOR},Oh.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Oh.prototype.add=function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<2;t++)for(var n=1;n<3;n++){var r=e.getLocation(t,n);r!==uu.EXTERIOR&&r!==uu.INTERIOR||(this.isNull(t,n)?this._depth[t][n]=Oh.depthAtLocation(r):this._depth[t][n]+=Oh.depthAtLocation(r))}else 3===arguments.length&&arguments[2]===uu.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh},Oh.depthAtLocation=function(e){return e===uu.EXTERIOR?0:e===uu.INTERIOR?1:Oh.NULL_VALUE},Nh.NULL_VALUE.get=function(){return-1},Object.defineProperties(Oh,Nh);var Rh=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new Dh(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Oh,this._depthDelta=0,1===arguments.length)t.call(this,arguments[0],null);else if(2===arguments.length){var n=arguments[1];this.pts=arguments[0],this._label=n}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new t(e,dc.toLineLabel(this._label))},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(e){this._isIsolated=e},t.prototype.setName=function(e){this._name=e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,a=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(n.pts[o])||(r=!1),this.pts[o].equals2D(n.pts[--a])||(i=!1),!r&&!i)return!1;return!0},t.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},t.prototype.print=function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(e){t.updateIM(this._label,e)},t.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")},t.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Ph(this)),this._mce},t.prototype.getEnvelope=function(){if(null===this._env){this._env=new Mu;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env},t.prototype.addIntersection=function(e,t,n,r){var i=new iu(e.getIntersection(r)),a=t,o=e.getEdgeDistance(n,r),s=a+1;s<this.pts.length&&i.equals2D(this.pts[s])&&(a=s,o=0),this.eiList.add(i,a,o)},t.prototype.toString=function(){var e=new du;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()},t.prototype.isPointwiseEqual=function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0},t.prototype.setDepthDelta=function(e){this._depthDelta=e},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(2!==arguments.length)return e.prototype.updateIM.apply(this,arguments);var t=arguments[0],n=arguments[1];n.setAtLeastIfValid(t.getLocation(0,oc.ON),t.getLocation(1,oc.ON),1),t.isArea()&&(n.setAtLeastIfValid(t.getLocation(0,oc.LEFT),t.getLocation(1,oc.LEFT),2),n.setAtLeastIfValid(t.getLocation(0,oc.RIGHT),t.getLocation(1,oc.RIGHT),2))},t}(vc),Fh=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Eh,this._bufParams=e||null};Fh.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},Fh.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new dc(e.getLabel())).flip(),n.merge(r);var i=Fh.depthDelta(r),a=t.getDepthDelta()+i;t.setDepthDelta(a)}else this._edgeList.add(e),e.setDepthDelta(Fh.depthDelta(e.getLabel()))},Fh.prototype.buildSubgraphs=function(e,t){for(var n=new il,r=e.iterator();r.hasNext();){var i=r.next(),a=i.getRightmostCoordinate(),o=new mh(n).getDepth(a);i.computeDepth(o),i.findResultEdges(),n.add(i),t.add(i.getDirectedEdges(),i.getNodes())}},Fh.prototype.createSubgraphs=function(e){for(var t=new il,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new hc;i.create(r),t.add(i)}}return Oc.sort(t,Oc.reverseOrder()),t},Fh.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Fh.prototype.getNoder=function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new nh,n=new Yu;return n.setPrecisionModel(e),t.setSegmentIntersector(new Lh(n)),t},Fh.prototype.buffer=function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new ph(n,this._bufParams),i=new _h(e,t,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Sc(new Sh),this._graph.addEdges(this._edgeList.getEdges());var a=this.createSubgraphs(this._graph),o=new Mc(this._geomFact);this.buildSubgraphs(a,o);var s=o.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},Fh.prototype.computeNodedEdges=function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),a=i.getCoordinates();if(2!==a.length||!a[0].equals2D(a[1])){var o=i.getData(),s=new Rh(i.getCoordinates(),new dc(o));this.insertUniqueEdge(s)}}},Fh.prototype.setNoder=function(e){this._workingNoder=e},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},Fh.depthDelta=function(e){var t=e.getLocation(0,oc.LEFT),n=e.getLocation(0,oc.RIGHT);return t===uu.INTERIOR&&n===uu.EXTERIOR?1:t===uu.EXTERIOR&&n===uu.INTERIOR?-1:0},Fh.convertSegStrings=function(e){for(var t=new Kl,n=new il;e.hasNext();){var r=e.next(),i=t.createLineString(r.getCoordinates());n.add(i)}return t.buildGeometry(n)};var Yh=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[1];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var t=arguments[1],n=arguments[2],r=arguments[3];this._noder=arguments[0],this._scaleFactor=t,this._offsetX=n,this._offsetY=r,this._isScaled=!this.isIntegerPrecision()}};Yh.prototype.rescale=function(){if(cu(arguments[0],el))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&Cu.out.println(n)}},Yh.prototype.scale=function(){if(cu(arguments[0],el)){for(var e=arguments[0],t=new il,n=e.iterator();n.hasNext();){var r=n.next();t.add(new $c(this.scale(r.getCoordinates()),r.getData()))}return t}if(arguments[0]instanceof Array){for(var i=arguments[0],a=new Array(i.length).fill(null),o=0;o<i.length;o++)a[o]=new iu(Math.round((i[o].x-this._offsetX)*this._scaleFactor),Math.round((i[o].y-this._offsetY)*this._scaleFactor),i[o].z);return sl.removeRepeatedPoints(a)}},Yh.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Yh.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},Yh.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)},Yh.prototype.interfaces_=function(){return[eh]},Yh.prototype.getClass=function(){return Yh};var zh=function(){this._li=new Yu,this._segStrings=null,this._segStrings=arguments[0]},jh={fact:{configurable:!0}};zh.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),a=1;a<i.length-1;a++)if(i[a].equals(n))throw new Pu("found endpt/interior pt intersection at index "+a+" :pt "+n)},zh.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(t,r)}else if(2===arguments.length)for(var i=arguments[0],a=arguments[1],o=i.getCoordinates(),s=a.getCoordinates(),u=0;u<o.length-1;u++)for(var l=0;l<s.length-1;l++)this.checkInteriorIntersections(i,u,a,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],d=arguments[3];if(c===f&&h===d)return null;var p=c.getCoordinates()[h],m=c.getCoordinates()[h+1],g=f.getCoordinates()[d],v=f.getCoordinates()[d+1];if(this._li.computeIntersection(p,m,g,v),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,m)||this.hasInteriorIntersection(this._li,g,v)))throw new Pu("found non-noded intersection at "+p+"-"+m+" and "+g+"-"+v)}},zh.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},zh.prototype.checkCollapses=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},zh.prototype.hasInteriorIntersection=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var i=e.getIntersection(r);if(!i.equals(t)&&!i.equals(n))return!0}return!1},zh.prototype.checkCollapse=function(e,t,n){if(e.equals(n))throw new Pu("found non-noded collapse at "+zh.fact.createLineString([e,t,n]))},zh.prototype.interfaces_=function(){return[]},zh.prototype.getClass=function(){return zh},jh.fact.get=function(){return new Kl},Object.defineProperties(zh,jh);var Bh=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new Ks("Scale factor must be non-zero");1!==t&&(this._pt=new iu(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new iu,this._p1Scaled=new iu),this.initCorners(this._pt)},Hh={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Bh.prototype.intersectsScaled=function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),i=Math.min(e.y,t.y),a=Math.max(e.y,t.y),o=this._maxx<n||this._minx>r||this._maxy<i||this._miny>a;if(o)return!1;var s=this.intersectsToleranceSquare(e,t);return Nu.isTrue(!(o&&s),"Found bad envelope test"),s},Bh.prototype.initCorners=function(e){this._minx=e.x-.5,this._maxx=e.x+.5,this._miny=e.y-.5,this._maxy=e.y+.5,this._corner[0]=new iu(this._maxx,this._maxy),this._corner[1]=new iu(this._minx,this._maxy),this._corner[2]=new iu(this._minx,this._miny),this._corner[3]=new iu(this._maxx,this._miny)},Bh.prototype.intersects=function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Bh.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},Bh.prototype.getCoordinate=function(){return this._originalPt},Bh.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)},Bh.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var e=Bh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Mu(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},Bh.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Bh.prototype.intersectsToleranceSquare=function(e,t){var n=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||e.equals(this._pt)||t.equals(this._pt)))))},Bh.prototype.addSnappedNode=function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return!!this.intersects(n,r)&&(e.addIntersection(this.getCoordinate(),t),!0)},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh},Hh.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Bh,Hh);var Uh=function(){this.tempEnv1=new Mu,this.selectedSegment=new Xc};Uh.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Uh.prototype.interfaces_=function(){return[]},Uh.prototype.getClass=function(){return Uh};var Vh=function(){this._index=null,this._index=arguments[0]},Gh={HotPixelSnapAction:{configurable:!0}};Vh.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=e.getSafeEnvelope(),i=new qh(e,t,n);return this._index.query(r,{interfaces_:function(){return[Ic]},visitItem:function(e){e.select(r,i)}}),i.isNodeAdded()}},Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh},Gh.HotPixelSnapAction.get=function(){return qh},Object.defineProperties(Vh,Gh);var qh=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[1],n=arguments[2];this._hotPixel=arguments[0],this._parentEdge=t,this._hotPixelVertexIndex=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(2!==arguments.length)return e.prototype.select.apply(this,arguments);var t=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&t===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,t)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Uh),Wh=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new il};Wh.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;var i=e.getCoordinates()[t],a=e.getCoordinates()[t+1],o=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,a,o,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)}},Wh.prototype.isDone=function(){return!1},Wh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Wh.prototype.interfaces_=function(){return[Th]},Wh.prototype.getClass=function(){return Wh};var $h=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Yu,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};$h.prototype.checkCorrectness=function(e){var t=$c.getNodedSubstrings(e),n=new zh(t);try{n.checkValid()}catch(r){if(!(r instanceof xu))throw r;r.printStackTrace()}},$h.prototype.getNodedSubstrings=function(){return $c.getNodedSubstrings(this._nodedSegStrings)},$h.prototype.snapRound=function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)},$h.prototype.findInteriorIntersections=function(e,t){var n=new Wh(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()},$h.prototype.computeVertexSnaps=function(){if(cu(arguments[0],el))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof $c)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var a=new Bh(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(a,n,i)&&n.addIntersection(r[i],i)}},$h.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new nh,this._pointSnapper=new Vh(this._noder.getIndex()),this.snapRound(e,this._li)},$h.prototype.computeIntersectionSnaps=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=new Bh(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},$h.prototype.interfaces_=function(){return[eh]},$h.prototype.getClass=function(){return $h};var Xh=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new ih,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var e=arguments[1];this._argGeom=arguments[0],this._bufParams=e}},Zh={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Xh.prototype.bufferFixedPrecision=function(e){var t=new Yh(new $h(new $l(1)),e.getScale()),n=new Fh(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Xh.prototype.bufferReducedPrecision=function(){var e=this;if(0===arguments.length){for(var t=Xh.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(i){if(!(i instanceof lc))throw i;e._saveException=i}if(null!==e._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=Xh.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),r=new $l(n);this.bufferFixedPrecision(r)}},Xh.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===$l.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},Xh.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},Xh.prototype.bufferOriginalPrecision=function(){try{var e=new Fh(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(jd){if(!(jd instanceof Pu))throw jd;this._saveException=jd}},Xh.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},Xh.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh},Xh.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new Xh(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Vu&&"number"==typeof arguments[1]){var t=arguments[1],n=arguments[2],r=new Xh(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(t)}if(arguments[2]instanceof ih&&arguments[0]instanceof Vu&&"number"==typeof arguments[1]){var i=arguments[1];return new Xh(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var a=arguments[1],o=arguments[2],s=arguments[3],u=new Xh(arguments[0]);return u.setQuadrantSegments(o),u.setEndCapStyle(s),u.getResultGeometry(a)}},Xh.precisionScaleFactor=function(e,t,n){var r=e.getEnvelopeInternal(),i=hu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(t>0?t:0),a=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,a)},Zh.CAP_ROUND.get=function(){return ih.CAP_ROUND},Zh.CAP_BUTT.get=function(){return ih.CAP_FLAT},Zh.CAP_FLAT.get=function(){return ih.CAP_FLAT},Zh.CAP_SQUARE.get=function(){return ih.CAP_SQUARE},Zh.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Xh,Zh);var Jh=function(){this._pt=[new iu,new iu],this._distance=Qs.NaN,this._isNull=!0};Jh.prototype.getCoordinates=function(){return this._pt},Jh.prototype.getCoordinate=function(e){return this._pt[e]},Jh.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},Jh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},Jh.prototype.getDistance=function(){return this._distance},Jh.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},Jh.prototype.interfaces_=function(){return[]},Jh.prototype.getClass=function(){return Jh};var Kh=function(){};Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh},Kh.computeDistance=function(){if(arguments[2]instanceof Jh&&arguments[0]instanceof Il&&arguments[1]instanceof iu)for(var e=arguments[1],t=arguments[2],n=arguments[0].getCoordinates(),r=new Xc,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var a=r.closestPoint(e);t.setMinimum(a,e)}else if(arguments[2]instanceof Jh&&arguments[0]instanceof Ol&&arguments[1]instanceof iu){var o=arguments[0],s=arguments[1],u=arguments[2];Kh.computeDistance(o.getExteriorRing(),s,u);for(var l=0;l<o.getNumInteriorRing();l++)Kh.computeDistance(o.getInteriorRingN(l),s,u)}else if(arguments[2]instanceof Jh&&arguments[0]instanceof Vu&&arguments[1]instanceof iu){var c=arguments[0],h=arguments[1],f=arguments[2];if(c instanceof Il)Kh.computeDistance(c,h,f);else if(c instanceof Ol)Kh.computeDistance(c,h,f);else if(c instanceof kl)for(var d=c,p=0;p<d.getNumGeometries();p++){var m=d.getGeometryN(p);Kh.computeDistance(m,h,f)}else f.setMinimum(c.getCoordinate(),h)}else if(arguments[2]instanceof Jh&&arguments[0]instanceof Xc&&arguments[1]instanceof iu){var g=arguments[1],v=arguments[2],y=arguments[0].closestPoint(g);v.setMinimum(y,g)}};var Qh=function(e){this._maxPtDist=new Jh,this._inputGeom=e||null},ef={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Qh.prototype.computeMaxMidpointDistance=function(e){var t=new nf(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},Qh.prototype.computeMaxVertexDistance=function(e){var t=new tf(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},Qh.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},Qh.prototype.getDistancePoints=function(){return this._maxPtDist},Qh.prototype.interfaces_=function(){return[]},Qh.prototype.getClass=function(){return Qh},ef.MaxPointDistanceFilter.get=function(){return tf},ef.MaxMidpointDistanceFilter.get=function(){return nf},Object.defineProperties(Qh,ef);var tf=function(e){this._maxPtDist=new Jh,this._minPtDist=new Jh,this._geom=e||null};tf.prototype.filter=function(e){this._minPtDist.initialize(),Kh.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},tf.prototype.getMaxPointDistance=function(){return this._maxPtDist},tf.prototype.interfaces_=function(){return[Wu]},tf.prototype.getClass=function(){return tf};var nf=function(e){this._maxPtDist=new Jh,this._minPtDist=new Jh,this._geom=e||null};nf.prototype.filter=function(e,t){if(0===t)return null;var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=new iu((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),Kh.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},nf.prototype.isDone=function(){return!1},nf.prototype.isGeometryChanged=function(){return!1},nf.prototype.getMaxPointDistance=function(){return this._maxPtDist},nf.prototype.interfaces_=function(){return[xl]},nf.prototype.getClass=function(){return nf};var rf=function(e){this._comps=e||null};rf.prototype.filter=function(e){e instanceof Ol&&this._comps.add(e)},rf.prototype.interfaces_=function(){return[wl]},rf.prototype.getClass=function(){return rf},rf.getPolygons=function(){if(1===arguments.length)return rf.getPolygons(arguments[0],new il);if(2===arguments.length){var e=arguments[0],t=arguments[1];return e instanceof Ol?t.add(e):e instanceof kl&&e.apply(new rf(t)),t}};var af=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var e=arguments[1];this._lines=arguments[0],this._isForcedToLineString=e}};af.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof Rl){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof Il&&this._lines.add(e)},af.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},af.prototype.interfaces_=function(){return[Uu]},af.prototype.getClass=function(){return af},af.getGeometry=function(){if(1===arguments.length){var e=arguments[0];return e.getFactory().buildGeometry(af.getLines(e))}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().buildGeometry(af.getLines(t,n))}},af.getLines=function(){if(1===arguments.length)return af.getLines(arguments[0],!1);if(2===arguments.length){if(cu(arguments[0],el)&&cu(arguments[1],el)){for(var e=arguments[1],t=arguments[0].iterator();t.hasNext();){var n=t.next();af.getLines(n,e)}return e}if(arguments[0]instanceof Vu&&"boolean"==typeof arguments[1]){var r=arguments[0],i=arguments[1],a=new il;return r.apply(new af(a,i)),a}if(arguments[0]instanceof Vu&&cu(arguments[1],el)){var o=arguments[0],s=arguments[1];return o instanceof Il?s.add(o):o.apply(new af(s)),s}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&cu(arguments[0],el)&&cu(arguments[1],el)){for(var u=arguments[1],l=arguments[2],c=arguments[0].iterator();c.hasNext();){var h=c.next();af.getLines(h,u,l)}return u}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Vu&&cu(arguments[1],el)){var f=arguments[1];return arguments[0].apply(new af(f,arguments[2])),f}}};var of=function(){if(this._boundaryRule=$u.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var e=arguments[0];if(null===e)throw new Ks("Rule must be non-null");this._boundaryRule=e}};of.prototype.locateInternal=function(){if(arguments[0]instanceof iu&&arguments[1]instanceof Ol){var e=arguments[0],t=arguments[1];if(t.isEmpty())return uu.EXTERIOR;var n=t.getExteriorRing(),r=this.locateInPolygonRing(e,n);if(r===uu.EXTERIOR)return uu.EXTERIOR;if(r===uu.BOUNDARY)return uu.BOUNDARY;for(var i=0;i<t.getNumInteriorRing();i++){var a=t.getInteriorRingN(i),o=this.locateInPolygonRing(e,a);if(o===uu.INTERIOR)return uu.EXTERIOR;if(o===uu.BOUNDARY)return uu.BOUNDARY}return uu.INTERIOR}if(arguments[0]instanceof iu&&arguments[1]instanceof Il){var s=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(s))return uu.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!s.equals(l[0])&&!s.equals(l[l.length-1])?Bu.isOnLine(s,l)?uu.INTERIOR:uu.EXTERIOR:uu.BOUNDARY}if(arguments[0]instanceof iu&&arguments[1]instanceof Al){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?uu.INTERIOR:uu.EXTERIOR}},of.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?Bu.locatePointInRing(e,t.getCoordinates()):uu.EXTERIOR},of.prototype.intersects=function(e,t){return this.locate(e,t)!==uu.EXTERIOR},of.prototype.updateLocationInfo=function(e){e===uu.INTERIOR&&(this._isIn=!0),e===uu.BOUNDARY&&this._numBoundaries++},of.prototype.computeLocation=function(e,t){if(t instanceof Al&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof Il)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Ol)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Cl)for(var n=t,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(e,i))}else if(t instanceof Fl)for(var a=t,o=0;o<a.getNumGeometries();o++){var s=a.getGeometryN(o);this.updateLocationInfo(this.locateInternal(e,s))}else if(t instanceof kl)for(var u=new wh(t);u.hasNext();){var l=u.next();l!==t&&this.computeLocation(e,l)}},of.prototype.locate=function(e,t){return t.isEmpty()?uu.EXTERIOR:t instanceof Il||t instanceof Ol?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?uu.BOUNDARY:this._numBoundaries>0||this._isIn?uu.INTERIOR:uu.EXTERIOR)},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of};var sf=function e(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)e.call(this,arguments[0],e.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var t=arguments[1],n=arguments[2];this._component=arguments[0],this._segIndex=t,this._pt=n}},uf={INSIDE_AREA:{configurable:!0}};sf.prototype.isInsideArea=function(){return this._segIndex===sf.INSIDE_AREA},sf.prototype.getCoordinate=function(){return this._pt},sf.prototype.getGeometryComponent=function(){return this._component},sf.prototype.getSegmentIndex=function(){return this._segIndex},sf.prototype.interfaces_=function(){return[]},sf.prototype.getClass=function(){return sf},uf.INSIDE_AREA.get=function(){return-1},Object.defineProperties(sf,uf);var lf=function(e){this._pts=e||null};lf.prototype.filter=function(e){e instanceof Al&&this._pts.add(e)},lf.prototype.interfaces_=function(){return[wl]},lf.prototype.getClass=function(){return lf},lf.getPoints=function(){if(1===arguments.length){var e=arguments[0];return e instanceof Al?Oc.singletonList(e):lf.getPoints(e,new il)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof Al?n.add(t):t instanceof kl&&t.apply(new lf(n)),n}};var cf=function(){this._locations=null,this._locations=arguments[0]};cf.prototype.filter=function(e){(e instanceof Al||e instanceof Il||e instanceof Ol)&&this._locations.add(new sf(e,0,e.getCoordinate()))},cf.prototype.interfaces_=function(){return[wl]},cf.prototype.getClass=function(){return cf},cf.getLocations=function(e){var t=new il;return e.apply(new cf(t)),t};var hf=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new of,this._minDistanceLocation=null,this._minDistance=Qs.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t,this._terminateDistance=n}};hf.prototype.computeContainmentDistance=function(){if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=1-t,i=rf.getPolygons(this._geom[t]);if(i.size()>0){var a=cf.getLocations(this._geom[r]);if(this.computeContainmentDistance(a,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[t]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&cu(arguments[0],rl)&&cu(arguments[1],rl)){for(var o=arguments[0],s=arguments[1],u=arguments[2],l=0;l<o.size();l++)for(var c=o.get(l),h=0;h<s.size();h++)if(this.computeContainmentDistance(c,s.get(h),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof sf&&arguments[1]instanceof Ol){var f=arguments[0],d=arguments[1],p=arguments[2],m=f.getCoordinate();if(uu.EXTERIOR!==this._ptLocator.locate(m,d))return this._minDistance=0,p[0]=f,p[1]=new sf(d,m),null}},hf.prototype.computeMinDistanceLinesPoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),a=0;a<t.size();a++){var o=t.get(a);if(this.computeMinDistance(i,o,n),this._minDistance<=this._terminateDistance)return null}},hf.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=af.getLines(this._geom[0]),n=af.getLines(this._geom[1]),r=lf.getPoints(this._geom[0]),i=lf.getPoints(this._geom[1]);return this.computeMinDistanceLines(t,n,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,i,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(r,i,e),void this.updateMinDistance(e,!1))))},hf.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},hf.prototype.updateMinDistance=function(e,t){if(null===e[0])return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},hf.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},hf.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Il&&arguments[1]instanceof Al){var e=arguments[0],t=arguments[1],n=arguments[2];if(e.getEnvelopeInternal().distance(t.getEnvelopeInternal())>this._minDistance)return null;for(var r=e.getCoordinates(),i=t.getCoordinate(),a=0;a<r.length-1;a++){var o=Bu.distancePointLine(i,r[a],r[a+1]);if(o<this._minDistance){this._minDistance=o;var s=new Xc(r[a],r[a+1]).closestPoint(i);n[0]=new sf(e,a,s),n[1]=new sf(t,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Il&&arguments[1]instanceof Il){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var h=u.getCoordinates(),f=l.getCoordinates(),d=0;d<h.length-1;d++)for(var p=0;p<f.length-1;p++){var m=Bu.distanceLineLine(h[d],h[d+1],f[p],f[p+1]);if(m<this._minDistance){this._minDistance=m;var g=new Xc(h[d],h[d+1]),v=new Xc(f[p],f[p+1]),y=g.closestPoints(v);c[0]=new sf(u,d,y[0]),c[1]=new sf(l,p,y[1])}if(this._minDistance<=this._terminateDistance)return null}}},hf.prototype.computeMinDistancePoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),a=0;a<t.size();a++){var o=t.get(a),s=i.getCoordinate().distance(o.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new sf(i,0,i.getCoordinate()),n[1]=new sf(o,0,o.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},hf.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Ks("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},hf.prototype.computeMinDistanceLines=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),a=0;a<t.size();a++){var o=t.get(a);if(this.computeMinDistance(i,o,n),this._minDistance<=this._terminateDistance)return null}},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.distance=function(e,t){return new hf(e,t).distance()},hf.isWithinDistance=function(e,t,n){return new hf(e,t,n).distance()<=n},hf.nearestPoints=function(e,t){return new hf(e,t).nearestPoints()};var ff=function(){this._pt=[new iu,new iu],this._distance=Qs.NaN,this._isNull=!0};ff.prototype.getCoordinates=function(){return this._pt},ff.prototype.getCoordinate=function(e){return this._pt[e]},ff.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},ff.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},ff.prototype.toString=function(){return Au.toLineString(this._pt[0],this._pt[1])},ff.prototype.getDistance=function(){return this._distance},ff.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff};var df=function(){};df.prototype.interfaces_=function(){return[]},df.prototype.getClass=function(){return df},df.computeDistance=function(){if(arguments[2]instanceof ff&&arguments[0]instanceof Il&&arguments[1]instanceof iu)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=new Xc,i=e.getCoordinates(),a=0;a<i.length-1;a++){r.setCoordinates(i[a],i[a+1]);var o=r.closestPoint(t);n.setMinimum(o,t)}else if(arguments[2]instanceof ff&&arguments[0]instanceof Ol&&arguments[1]instanceof iu){var s=arguments[0],u=arguments[1],l=arguments[2];df.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)df.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof ff&&arguments[0]instanceof Vu&&arguments[1]instanceof iu){var h=arguments[0],f=arguments[1],d=arguments[2];if(h instanceof Il)df.computeDistance(h,f,d);else if(h instanceof Ol)df.computeDistance(h,f,d);else if(h instanceof kl)for(var p=h,m=0;m<p.getNumGeometries();m++){var g=p.getGeometryN(m);df.computeDistance(g,f,d)}else d.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof ff&&arguments[0]instanceof Xc&&arguments[1]instanceof iu){var v=arguments[1],y=arguments[2],_=arguments[0].closestPoint(v);y.setMinimum(_,v)}};var pf=function(){this._g0=null,this._g1=null,this._ptDist=new ff,this._densifyFrac=0;var e=arguments[1];this._g0=arguments[0],this._g1=e},mf={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};pf.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},pf.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new Ks("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},pf.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)},pf.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},pf.prototype.computeOrientedDistance=function(e,t,n){var r=new gf(t);if(e.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new vf(t,this._densifyFrac);e.apply(i),n.setMaximum(i.getMaxPointDistance())}},pf.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf},pf.distance=function(){if(2===arguments.length)return new pf(arguments[0],arguments[1]).distance();if(3===arguments.length){var e=arguments[2],t=new pf(arguments[0],arguments[1]);return t.setDensifyFraction(e),t.distance()}},mf.MaxPointDistanceFilter.get=function(){return gf},mf.MaxDensifiedByFractionDistanceFilter.get=function(){return vf},Object.defineProperties(pf,mf);var gf=function(){this._maxPtDist=new ff,this._minPtDist=new ff,this._euclideanDist=new df,this._geom=null,this._geom=arguments[0]};gf.prototype.filter=function(e){this._minPtDist.initialize(),df.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},gf.prototype.getMaxPointDistance=function(){return this._maxPtDist},gf.prototype.interfaces_=function(){return[Wu]},gf.prototype.getClass=function(){return gf};var vf=function(){this._maxPtDist=new ff,this._minPtDist=new ff,this._geom=null,this._numSubSegs=0;var e=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/e))};vf.prototype.filter=function(e,t){if(0===t)return null;for(var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=(r.x-n.x)/this._numSubSegs,a=(r.y-n.y)/this._numSubSegs,o=0;o<this._numSubSegs;o++){var s=new iu(n.x+o*i,n.y+o*a);this._minPtDist.initialize(),df.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},vf.prototype.isDone=function(){return!1},vf.prototype.isGeometryChanged=function(){return!1},vf.prototype.getMaxPointDistance=function(){return this._maxPtDist},vf.prototype.interfaces_=function(){return[xl]},vf.prototype.getClass=function(){return vf};var yf=function(e,t,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=n||null},_f={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};yf.prototype.checkMaximumDistance=function(e,t,n){var r=new pf(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Au.toLineString(i[0],i[1])+")"}},yf.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=yf.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),yf.VERBOSE&&Cu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},yf.prototype.checkNegativeValid=function(){if(!(this._input instanceof Ol||this._input instanceof Fl||this._input instanceof kl))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},yf.prototype.getErrorIndicator=function(){return this._errorIndicator},yf.prototype.checkMinimumDistance=function(e,t,n){var r=new hf(e,t,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Au.toLineString(i[0],i[1])+" )"}},yf.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},yf.prototype.getErrorLocation=function(){return this._errorLocation},yf.prototype.getPolygonLines=function(e){for(var t=new il,n=new af(t),r=rf.getPolygons(e).iterator();r.hasNext();)r.next().apply(n);return e.getFactory().buildGeometry(t)},yf.prototype.getErrorMessage=function(){return this._errMsg},yf.prototype.interfaces_=function(){return[]},yf.prototype.getClass=function(){return yf},_f.VERBOSE.get=function(){return!1},_f.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(yf,_f);var bf=function(e,t,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=n||null},wf={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};bf.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},bf.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*bf.MAX_ENV_DIFF_FRAC;0===e&&(e=.001);var t=new Mu(this._input.getEnvelopeInternal());t.expandBy(this._distance);var n=new Mu(this._result.getEnvelopeInternal());n.expandBy(e),n.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},bf.prototype.checkDistance=function(){var e=new yf(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},bf.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},bf.prototype.checkPolygonal=function(){this._result instanceof Ol||this._result instanceof Fl||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},bf.prototype.getErrorIndicator=function(){return this._errorIndicator},bf.prototype.getErrorLocation=function(){return this._errorLocation},bf.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},bf.prototype.report=function(e){if(!bf.VERBOSE)return null;Cu.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},bf.prototype.getErrorMessage=function(){return this._errorMsg},bf.prototype.interfaces_=function(){return[]},bf.prototype.getClass=function(){return bf},bf.isValidMsg=function(e,t,n){var r=new bf(e,t,n);return r.isValid()?null:r.getErrorMessage()},bf.isValid=function(e,t,n){return!!new bf(e,t,n).isValid()},wf.VERBOSE.get=function(){return!1},wf.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(bf,wf);var xf=function(){this._pts=null,this._data=null;var e=arguments[1];this._pts=arguments[0],this._data=e};xf.prototype.getCoordinates=function(){return this._pts},xf.prototype.size=function(){return this._pts.length},xf.prototype.getCoordinate=function(e){return this._pts[e]},xf.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},xf.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:Gc.octant(this.getCoordinate(e),this.getCoordinate(e+1))},xf.prototype.setData=function(e){this._data=e},xf.prototype.getData=function(){return this._data},xf.prototype.toString=function(){return Au.toLineString(new Ul(this._pts))},xf.prototype.interfaces_=function(){return[qc]},xf.prototype.getClass=function(){return xf};var kf=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new il,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};kf.prototype.getInteriorIntersection=function(){return this._interiorIntersection},kf.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},kf.prototype.getIntersectionSegments=function(){return this._intSegments},kf.prototype.count=function(){return this._intersectionCount},kf.prototype.getIntersections=function(){return this._intersections},kf.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},kf.prototype.setKeepIntersections=function(e){this._keepIntersections=e},kf.prototype.processIntersections=function(e,t,n,r){if(!this._findAllIntersections&&this.hasIntersection()||e===n&&t===r||this._isCheckEndSegmentsOnly&&!this.isEndSegment(e,t)&&!this.isEndSegment(n,r))return null;var i=e.getCoordinates()[t],a=e.getCoordinates()[t+1],o=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,a,o,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=a,this._intSegments[2]=o,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},kf.prototype.isEndSegment=function(e,t){return 0===t||t>=e.size()-2},kf.prototype.hasIntersection=function(){return null!==this._interiorIntersection},kf.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},kf.prototype.interfaces_=function(){return[Th]},kf.prototype.getClass=function(){return kf},kf.createAllIntersectionsFinder=function(e){var t=new kf(e);return t.setFindAllIntersections(!0),t},kf.createAnyIntersectionFinder=function(e){return new kf(e)},kf.createIntersectionCounter=function(e){var t=new kf(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var Cf=function(){this._li=new Yu,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};Cf.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Cf.prototype.getIntersections=function(){return this._segInt.getIntersections()},Cf.prototype.isValid=function(){return this.execute(),this._isValid},Cf.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Cf.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new kf(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new nh;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Cf.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new lc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Cf.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Au.toLineString(e[0],e[1])+" and "+Au.toLineString(e[2],e[3])},Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf},Cf.computeIntersections=function(e){var t=new Cf(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var Sf=function e(){this._nv=null,this._nv=new Cf(e.toSegmentStrings(arguments[0]))};Sf.prototype.checkValid=function(){this._nv.checkValid()},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf},Sf.toSegmentStrings=function(e){for(var t=new il,n=e.iterator();n.hasNext();){var r=n.next();t.add(new xf(r.getCoordinates(),r))}return t},Sf.checkValid=function(e){new Sf(e).checkValid()};var Mf=function(e){this._mapOp=e};Mf.prototype.map=function(e){for(var t=new il,n=0;n<e.getNumGeometries();n++){var r=this._mapOp.map(e.getGeometryN(n));r.isEmpty()||t.add(r)}return e.getFactory().createGeometryCollection(Kl.toGeometryArray(t))},Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf},Mf.map=function(e,t){return new Mf(t).map(e)};var Ef=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new il,this._resultLineList=new il;var e=arguments[1],t=arguments[2];this._op=arguments[0],this._geometryFactory=e,this._ptLocator=t};Ef.prototype.collectLines=function(e){for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next();this.collectLineEdge(n,e,this._lineEdgesList),this.collectBoundaryTouchEdge(n,e,this._lineEdgesList)}},Ef.prototype.labelIsolatedLine=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,n)},Ef.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Ef.prototype.collectLineEdge=function(e,t,n){var r=e.getLabel(),i=e.getEdge();e.isLineEdge()&&(e.isVisited()||!sd.isResultOfOp(r,t)||i.isCovered()||(n.add(i),e.setVisitedEdge(!0)))},Ef.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Ef.prototype.labelIsolatedLines=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Ef.prototype.buildLines=function(e){for(var t=this._lineEdgesList.iterator();t.hasNext();){var n=t.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Ef.prototype.collectBoundaryTouchEdge=function(e,t,n){var r=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(Nu.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(sd.isResultOfOp(r,t)&&t===sd.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0))))},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef};var Tf=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new il;var e=arguments[1];this._op=arguments[0],this._geometryFactory=e};Tf.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var n=this._geometryFactory.createPoint(t);this._resultPointList.add(n)}},Tf.prototype.extractNonCoveredResultNodes=function(e){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){var n=t.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&e!==sd.INTERSECTION)){var r=n.getLabel();sd.isResultOfOp(r,e)&&this.filterCoveredNodeToPoint(n)}}},Tf.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf};var Lf=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Lf.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},Lf.prototype.transformPolygon=function(e,t){var n=!0,r=this.transformLinearRing(e.getExteriorRing(),e);null!==r&&r instanceof Rl&&!r.isEmpty()||(n=!1);for(var i=new il,a=0;a<e.getNumInteriorRing();a++){var o=this.transformLinearRing(e.getInteriorRingN(a),e);null===o||o.isEmpty()||(o instanceof Rl||(n=!1),i.add(o))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new il;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},Lf.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},Lf.prototype.getInputGeometry=function(){return this._inputGeom},Lf.prototype.transformMultiLineString=function(e,t){for(var n=new il,r=0;r<e.getNumGeometries();r++){var i=this.transformLineString(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Lf.prototype.transformCoordinates=function(e,t){return this.copy(e)},Lf.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},Lf.prototype.transformMultiPoint=function(e,t){for(var n=new il,r=0;r<e.getNumGeometries();r++){var i=this.transformPoint(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Lf.prototype.transformMultiPolygon=function(e,t){for(var n=new il,r=0;r<e.getNumGeometries();r++){var i=this.transformPolygon(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Lf.prototype.copy=function(e){return e.copy()},Lf.prototype.transformGeometryCollection=function(e,t){for(var n=new il,r=0;r<e.getNumGeometries();r++){var i=this.transform(e.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Kl.toGeometryArray(n)):this._factory.buildGeometry(n)},Lf.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof Al)return this.transformPoint(e,null);if(e instanceof Nl)return this.transformMultiPoint(e,null);if(e instanceof Rl)return this.transformLinearRing(e,null);if(e instanceof Il)return this.transformLineString(e,null);if(e instanceof Cl)return this.transformMultiLineString(e,null);if(e instanceof Ol)return this.transformPolygon(e,null);if(e instanceof Fl)return this.transformMultiPolygon(e,null);if(e instanceof kl)return this.transformGeometryCollection(e,null);throw new Ks("Unknown Geometry subtype: "+e.getClass().getName())},Lf.prototype.transformLinearRing=function(e,t){var n=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf};var If=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Xc,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Il&&"number"==typeof arguments[1]){var t=arguments[1];e.call(this,arguments[0].getCoordinates(),t)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=e.isClosed(n),this._snapTolerance=r}};If.prototype.snapVertices=function(e,t){for(var n=this._isClosed?e.size()-1:e.size(),r=0;r<n;r++){var i=e.get(r),a=this.findSnapForVertex(i,t);null!==a&&(e.set(r,new iu(a)),0===r&&this._isClosed&&e.set(e.size()-1,new iu(a)))}},If.prototype.findSnapForVertex=function(e,t){for(var n=0;n<t.length;n++){if(e.equals2D(t[n]))return null;if(e.distance(t[n])<this._snapTolerance)return t[n]}return null},If.prototype.snapTo=function(e){var t=new ol(this._srcPts);return this.snapVertices(t,e),this.snapSegments(t,e),t.toCoordinateArray()},If.prototype.snapSegments=function(e,t){if(0===t.length)return null;var n=t.length;t[0].equals2D(t[t.length-1])&&(n=t.length-1);for(var r=0;r<n;r++){var i=t[r],a=this.findSegmentIndexToSnap(i,e);a>=0&&e.add(a+1,new iu(i),!1)}},If.prototype.findSegmentIndexToSnap=function(e,t){for(var n=Qs.MAX_VALUE,r=-1,i=0;i<t.size()-1;i++){if(this._seg.p0=t.get(i),this._seg.p1=t.get(i+1),this._seg.p0.equals2D(e)||this._seg.p1.equals2D(e)){if(this._allowSnappingToSourceVertices)continue;return-1}var a=this._seg.distance(e);a<this._snapTolerance&&a<n&&(n=a,r=i)}return r},If.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If},If.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var Df=function(e){this._srcGeom=e||null},Af={SNAP_PRECISION_FACTOR:{configurable:!0}};Df.prototype.snapTo=function(e,t){var n=this.extractTargetCoordinates(e);return new Pf(t,n).transform(this._srcGeom)},Df.prototype.snapToSelf=function(e,t){var n=this.extractTargetCoordinates(this._srcGeom),r=new Pf(e,n,!0).transform(this._srcGeom),i=r;return t&&cu(i,Pl)&&(i=r.buffer(0)),i},Df.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},Df.prototype.extractTargetCoordinates=function(e){for(var t=new Pi,n=e.getCoordinates(),r=0;r<n.length;r++)t.add(n[r]);return t.toArray(new Array(0).fill(null))},Df.prototype.computeMinimumSegmentLength=function(e){for(var t=Qs.MAX_VALUE,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);r<t&&(t=r)}return t},Df.prototype.interfaces_=function(){return[]},Df.prototype.getClass=function(){return Df},Df.snap=function(e,t,n){var r=new Array(2).fill(null),i=new Df(e);r[0]=i.snapTo(t,n);var a=new Df(t);return r[1]=a.snapTo(r[0],n),r},Df.computeOverlaySnapTolerance=function(){if(1===arguments.length){var e=arguments[0],t=Df.computeSizeBasedSnapTolerance(e),n=e.getPrecisionModel();if(n.getType()===$l.FIXED){var r=1/n.getScale()*2/1.415;r>t&&(t=r)}return t}if(2===arguments.length){var i=arguments[1];return Math.min(Df.computeOverlaySnapTolerance(arguments[0]),Df.computeOverlaySnapTolerance(i))}},Df.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal();return Math.min(t.getHeight(),t.getWidth())*Df.SNAP_PRECISION_FACTOR},Df.snapToSelf=function(e,t,n){return new Df(e).snapToSelf(t,n)},Af.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Df,Af);var Pf=function(e){function t(t,n,r){e.call(this),this._snapTolerance=t||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.snapLine=function(e,t){var n=new If(e,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(t)},t.prototype.transformCoordinates=function(e,t){var n=e.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Lf),Of=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Of.prototype.getCommon=function(){return Qs.longBitsToDouble(this._commonBits)},Of.prototype.add=function(e){var t=Qs.doubleToLongBits(e);return this._isFirst?(this._commonBits=t,this._commonSignExp=Of.signExpBits(this._commonBits),this._isFirst=!1,null):Of.signExpBits(t)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Of.numCommonMostSigMantissaBits(this._commonBits,t),void(this._commonBits=Of.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Of.prototype.toString=function(){if(1===arguments.length){var e=arguments[0],t=Qs.longBitsToDouble(e),n="0000000000000000000000000000000000000000000000000000000000000000"+Qs.toBinaryString(e),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+t+" ]"}},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.getBit=function(e,t){return 0!=(e&1<<t)?1:0},Of.signExpBits=function(e){return e>>52},Of.zeroLowerBits=function(e,t){return e&~((1<<t)-1)},Of.numCommonMostSigMantissaBits=function(e,t){for(var n=0,r=52;r>=0;r--){if(Of.getBit(e,r)!==Of.getBit(t,r))return n;n++}return 52};var Nf=function(){this._commonCoord=null,this._ccFilter=new Ff},Rf={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Nf.prototype.addCommonBits=function(e){var t=new Yf(this._commonCoord);e.apply(t),e.geometryChanged()},Nf.prototype.removeCommonBits=function(e){if(0===this._commonCoord.x&&0===this._commonCoord.y)return e;var t=new iu(this._commonCoord);t.x=-t.x,t.y=-t.y;var n=new Yf(t);return e.apply(n),e.geometryChanged(),e},Nf.prototype.getCommonCoordinate=function(){return this._commonCoord},Nf.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf},Rf.CommonCoordinateFilter.get=function(){return Ff},Rf.Translater.get=function(){return Yf},Object.defineProperties(Nf,Rf);var Ff=function(){this._commonBitsX=new Of,this._commonBitsY=new Of};Ff.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},Ff.prototype.getCommonCoordinate=function(){return new iu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Ff.prototype.interfaces_=function(){return[Wu]},Ff.prototype.getClass=function(){return Ff};var Yf=function(){this.trans=null,this.trans=arguments[0]};Yf.prototype.filter=function(e,t){var n=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,r)},Yf.prototype.isDone=function(){return!1},Yf.prototype.isGeometryChanged=function(){return!0},Yf.prototype.interfaces_=function(){return[xl]},Yf.prototype.getClass=function(){return Yf};var zf=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};zf.prototype.selfSnap=function(e){return new Df(e).snapTo(e,this._snapTolerance)},zf.prototype.removeCommonBits=function(e){this._cbr=new Nf,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t},zf.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},zf.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),n=sd.overlayOp(t[0],t[1],e);return this.prepareResult(n)},zf.prototype.checkValid=function(e){e.isValid()||Cu.out.println("Snapped geometry is invalid")},zf.prototype.computeSnapTolerance=function(){this._snapTolerance=Df.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},zf.prototype.snap=function(e){var t=this.removeCommonBits(e);return Df.snap(t[0],t[1],this._snapTolerance)},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf},zf.overlayOp=function(e,t,n){return new zf(e,t).getResultGeometry(n)},zf.union=function(e,t){return zf.overlayOp(e,t,sd.UNION)},zf.intersection=function(e,t){return zf.overlayOp(e,t,sd.INTERSECTION)},zf.symDifference=function(e,t){return zf.overlayOp(e,t,sd.SYMDIFFERENCE)},zf.difference=function(e,t){return zf.overlayOp(e,t,sd.DIFFERENCE)};var jf=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};jf.prototype.getResultGeometry=function(e){var t=null,n=!1,r=null;try{t=sd.overlayOp(this._geom[0],this._geom[1],e),n=!0}catch(i){if(!(i instanceof Pu))throw i;r=i}if(!n)try{t=zf.overlayOp(this._geom[0],this._geom[1],e)}catch(i){throw i instanceof Pu?r:i}return t},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf},jf.overlayOp=function(e,t,n){return new jf(e,t).getResultGeometry(n)},jf.union=function(e,t){return jf.overlayOp(e,t,sd.UNION)},jf.intersection=function(e,t){return jf.overlayOp(e,t,sd.INTERSECTION)},jf.symDifference=function(e,t){return jf.overlayOp(e,t,sd.SYMDIFFERENCE)},jf.difference=function(e,t){return jf.overlayOp(e,t,sd.DIFFERENCE)};var Bf=function(){this.mce=null,this.chainIndex=null;var e=arguments[1];this.mce=arguments[0],this.chainIndex=e};Bf.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)},Bf.prototype.interfaces_=function(){return[]},Bf.prototype.getClass=function(){return Bf};var Hf=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],a=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=i,this._obj=a}},Uf={INSERT:{configurable:!0},DELETE:{configurable:!0}};Hf.prototype.isDelete=function(){return this._eventType===Hf.DELETE},Hf.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},Hf.prototype.getObject=function(){return this._obj},Hf.prototype.compareTo=function(e){return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},Hf.prototype.getInsertEvent=function(){return this._insertEvent},Hf.prototype.isInsert=function(){return this._eventType===Hf.INSERT},Hf.prototype.isSameLabel=function(e){return null!==this._label&&this._label===e._label},Hf.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Hf.prototype.interfaces_=function(){return[tu]},Hf.prototype.getClass=function(){return Hf},Uf.INSERT.get=function(){return 1},Uf.DELETE.get=function(){return 2},Object.defineProperties(Hf,Uf);var Vf=function(){};Vf.prototype.interfaces_=function(){return[]},Vf.prototype.getClass=function(){return Vf};var Gf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[1],t=arguments[2];this._li=arguments[0],this._includeProper=e,this._recordIsolated=t};Gf.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(Gf.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.getNumPoints()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},Gf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Gf.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},Gf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Gf.prototype.isBoundaryPointInternal=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next().getCoordinate();if(e.isIntersection(r))return!0}return!1},Gf.prototype.hasProperIntersection=function(){return this._hasProper},Gf.prototype.hasIntersection=function(){return this._hasIntersection},Gf.prototype.isDone=function(){return this._isDone},Gf.prototype.isBoundaryPoint=function(e,t){return!(null===t||!this.isBoundaryPointInternal(e,t[0])&&!this.isBoundaryPointInternal(e,t[1]))},Gf.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t},Gf.prototype.addIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],a=e.getCoordinates()[t+1],o=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,a,o,s),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf},Gf.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var qf=function(e){function t(){e.call(this),this.events=new il,this.nOverlaps=null}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.prepareEvents=function(){Oc.sort(this.events);for(var e=0;e<this.events.size();e++){var t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}},t.prototype.computeIntersections=function(){if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var t=0;t<this.events.size();t++){var n=this.events.get(t);if(n.isInsert()&&this.processOverlaps(t,n.getDeleteEventIndex(),n,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Gf&&cu(arguments[0],rl)&&cu(arguments[1],rl)){var r=arguments[0],i=arguments[1],a=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(a)}else if("boolean"==typeof arguments[2]&&cu(arguments[0],rl)&&arguments[1]instanceof Gf){var o=arguments[0],s=arguments[1];arguments[2]?this.addEdges(o,null):this.addEdges(o),this.computeIntersections(s)}},t.prototype.addEdge=function(e,t){for(var n=e.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var a=new Bf(n,i),o=new Hf(t,n.getMinX(i),a);this.events.add(o),this.events.add(new Hf(n.getMaxX(i),o))}},t.prototype.processOverlaps=function(e,t,n,r){for(var i=n.getObject(),a=e;a<t;a++){var o=this.events.get(a);if(o.isInsert()){var s=o.getObject();n.isSameLabel(o)||(i.computeIntersections(s,r),this.nOverlaps++)}}},t.prototype.addEdges=function(){if(1===arguments.length)for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.addEdge(t,t)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Vf),Wf=function(){this._min=Qs.POSITIVE_INFINITY,this._max=Qs.NEGATIVE_INFINITY},$f={NodeComparator:{configurable:!0}};Wf.prototype.getMin=function(){return this._min},Wf.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)},Wf.prototype.getMax=function(){return this._max},Wf.prototype.toString=function(){return Au.toLineString(new iu(this._min,0),new iu(this._max,0))},Wf.prototype.interfaces_=function(){return[]},Wf.prototype.getClass=function(){return Wf},$f.NodeComparator.get=function(){return Xf},Object.defineProperties(Wf,$f);var Xf=function(){};Xf.prototype.compare=function(e,t){var n=(e._min+e._max)/2,r=(t._min+t._max)/2;return n<r?-1:n>r?1:0},Xf.prototype.interfaces_=function(){return[ru]},Xf.prototype.getClass=function(){return Xf};var Zf=function(e){function t(){e.call(this),this._item=null;var t=arguments[1],n=arguments[2];this._min=arguments[0],this._max=t,this._item=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;n.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Wf),Jf=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var t=arguments[1];this._node1=arguments[0],this._node2=t,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.buildExtent=function(e,t){this._min=Math.min(e._min,t._min),this._max=Math.max(e._max,t._max)},t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;null!==this._node1&&this._node1.query(e,t,n),null!==this._node2&&this._node2.query(e,t,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Wf),Kf=function(){this._leaves=new il,this._root=null,this._level=0};Kf.prototype.buildTree=function(){Oc.sort(this._leaves,new Wf.NodeComparator);for(var e=this._leaves,t=null,n=new il;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}},Kf.prototype.insert=function(e,t,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Zf(e,t,n))},Kf.prototype.query=function(e,t,n){this.init(),this._root.query(e,t,n)},Kf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Kf.prototype.printNode=function(e){Cu.out.println(Au.toLineString(new iu(e._min,this._level),new iu(e._max,this._level)))},Kf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Kf.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var n=0;n<e.size();n+=2){var r=e.get(n);if(null===(n+1<e.size()?e.get(n):null))t.add(r);else{var i=new Jf(e.get(n),e.get(n+1));t.add(i)}}},Kf.prototype.interfaces_=function(){return[]},Kf.prototype.getClass=function(){return Kf};var Qf=function(){this._items=new il};Qf.prototype.visitItem=function(e){this._items.add(e)},Qf.prototype.getItems=function(){return this._items},Qf.prototype.interfaces_=function(){return[Ic]},Qf.prototype.getClass=function(){return Qf};var ed=function(){this._index=null;var e=arguments[0];if(!cu(e,Pl))throw new Ks("Argument must be Polygonal");this._index=new rd(e)},td={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};ed.prototype.locate=function(e){var t=new ju(e),n=new nd(t);return this._index.query(e.y,e.y,n),t.getLocation()},ed.prototype.interfaces_=function(){return[bh]},ed.prototype.getClass=function(){return ed},td.SegmentVisitor.get=function(){return nd},td.IntervalIndexedGeometry.get=function(){return rd},Object.defineProperties(ed,td);var nd=function(){this._counter=null,this._counter=arguments[0]};nd.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},nd.prototype.interfaces_=function(){return[Ic]},nd.prototype.getClass=function(){return nd};var rd=function(){this._index=new Kf,this.init(arguments[0])};rd.prototype.init=function(e){for(var t=af.getLines(e).iterator();t.hasNext();){var n=t.next().getCoordinates();this.addLine(n)}},rd.prototype.addLine=function(e){for(var t=1;t<e.length;t++){var n=new Xc(e[t-1],e[t]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},rd.prototype.query=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new Qf;return this._index.query(e,t,n),n.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd};var id=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new Wl,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new of,2===arguments.length){var t=arguments[1],n=$u.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=t,this._boundaryNodeRule=n,null!==t&&this.add(t)}else if(3===arguments.length){var r=arguments[1],i=arguments[2];this._argIndex=arguments[0],this._parentGeom=r,this._boundaryNodeRule=i,null!==r&&this.add(r)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.insertBoundaryPoint=function(e,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(e,oc.ON)===uu.BOUNDARY&&i++;var a=t.determineBoundary(this._boundaryNodeRule,i);r.setLocation(e,a)},t.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var e=arguments[1],t=arguments[2],n=new Gf(arguments[0],!0,!1);return n.setIsDoneIfProperInt(t),this.createEdgeSetIntersector().computeIntersections(this._edges,n,e||!(this._parentGeom instanceof Rl||this._parentGeom instanceof Ol||this._parentGeom instanceof Fl)),this.addSelfIntersectionNodes(this._argIndex),n}},t.prototype.computeSplitEdges=function(e){for(var t=this._edges.iterator();t.hasNext();)t.next().eiList.addSplitEdges(e)},t.prototype.computeEdgeIntersections=function(e,t,n){var r=new Gf(t,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,e._edges,r),r},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof Al){var e=arguments[0].getCoordinate();this.insertPoint(this._argIndex,e,uu.INTERIOR)}else arguments[0]instanceof iu&&this.insertPoint(this._argIndex,arguments[0],uu.INTERIOR)},t.prototype.addPolygon=function(e){this.addPolygonRing(e.getExteriorRing(),uu.EXTERIOR,uu.INTERIOR);for(var t=0;t<e.getNumInteriorRing();t++){var n=e.getInteriorRingN(t);this.addPolygonRing(n,uu.INTERIOR,uu.EXTERIOR)}},t.prototype.addEdge=function(e){this.insertEdge(e);var t=e.getCoordinates();this.insertPoint(this._argIndex,t[0],uu.BOUNDARY),this.insertPoint(this._argIndex,t[t.length-1],uu.BOUNDARY)},t.prototype.addLineString=function(e){var t=sl.removeRepeatedPoints(e.getCoordinates());if(t.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=t[0],null;var n=new Rh(t,new dc(this._argIndex,uu.INTERIOR));this._lineEdgeMap.put(e,n),this.insertEdge(n),Nu.isTrue(t.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,t[0]),this.insertBoundaryPoint(this._argIndex,t[t.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var e=this.getBoundaryNodes(),t=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var i=r.next();t[n++]=i.getCoordinate().copy()}return t},t.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(e,t,n){if(this.isBoundaryNode(e,t))return null;n===uu.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,n)},t.prototype.addPolygonRing=function(e,t,n){if(e.isEmpty())return null;var r=sl.removeRepeatedPoints(e.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=t,a=n;Bu.isCCW(r)&&(i=n,a=t);var o=new Rh(r,new dc(this._argIndex,uu.BOUNDARY,i,a));this._lineEdgeMap.put(e,o),this.insertEdge(o),this.insertPoint(this._argIndex,r[0],uu.BOUNDARY)},t.prototype.insertPoint=function(e,t,n){var r=this._nodes.addNode(t),i=r.getLabel();null===i?r._label=new dc(e,n):i.setLocation(e,n)},t.prototype.createEdgeSetIntersector=function(){return new qf},t.prototype.addSelfIntersectionNodes=function(e){for(var t=this._edges.iterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),i=n.eiList.iterator();i.hasNext();){var a=i.next();this.addSelfIntersectionNode(e,a.coord,r)}},t.prototype.add=function(){if(1!==arguments.length)return e.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof Fl&&(this._useBoundaryDeterminationRule=!1),t instanceof Ol)this.addPolygon(t);else if(t instanceof Il)this.addLineString(t);else if(t instanceof Al)this.addPoint(t);else if(t instanceof Nl)this.addCollection(t);else if(t instanceof Cl)this.addCollection(t);else if(t instanceof Fl)this.addCollection(t);else{if(!(t instanceof kl))throw new Error(t.getClass().getName());this.addCollection(t)}},t.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},t.prototype.locate=function(e){return cu(this._parentGeom,Pl)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new ed(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)},t.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(e,t){return e.isInBoundary(t)?uu.BOUNDARY:uu.INTERIOR},t}(Sc),ad=function(){if(this._li=new Yu,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new id(0,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=$u.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new id(0,t,r),this._arg[1]=new id(1,n,r)}else if(3===arguments.length){var i=arguments[0],a=arguments[1],o=arguments[2];i.getPrecisionModel().compareTo(a.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(a.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new id(0,i,o),this._arg[1]=new id(1,a,o)}};ad.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},ad.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},ad.prototype.interfaces_=function(){return[]},ad.prototype.getClass=function(){return ad};var od=function(){};od.prototype.interfaces_=function(){return[]},od.prototype.getClass=function(){return od},od.map=function(){if(arguments[0]instanceof Vu&&cu(arguments[1],od.MapOp)){for(var e=arguments[0],t=arguments[1],n=new il,r=0;r<e.getNumGeometries();r++){var i=t.map(e.getGeometryN(r));null!==i&&n.add(i)}return e.getFactory().buildGeometry(n)}if(cu(arguments[0],el)&&cu(arguments[1],od.MapOp)){for(var a=arguments[0],o=arguments[1],s=new il,u=a.iterator();u.hasNext();){var l=u.next(),c=o.map(l);null!==c&&s.add(c)}return s}},od.MapOp=function(){};var sd=function(e){function t(){var t=arguments[0];e.call(this,t,arguments[1]),this._ptLocator=new of,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Eh,this._resultPolyList=new il,this._resultLineList=new il,this._resultPointList=new il,this._graph=new Sc(new Sh),this._geomFact=t.getFactory()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new dc(e.getLabel())).flip();var i=t.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(e)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var t=e.next(),n=t.getSym();t.isInResult()&&n.isInResult()&&(t.setInResult(!1),n.setInResult(!1))}},t.prototype.isCoveredByLA=function(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)},t.prototype.computeGeometry=function(e,n,r,i){var a=new il;return a.addAll(e),a.addAll(n),a.addAll(r),a.isEmpty()?t.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(a)},t.prototype.mergeSymLabels=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().mergeSymLabels()},t.prototype.isCovered=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(e,r)!==uu.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var e=new il,t=this._edgeList.iterator();t.hasNext();){var n=t.next();n.isCollapsed()&&(t.remove(),e.add(n.getCollapsedEdge()))}this._edgeList.addAll(e)},t.prototype.updateNodeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getEdges().getLabel();t.getLabel().merge(n)}},t.prototype.getResultGeometry=function(e){return this.computeOverlay(e),this._resultGeom},t.prototype.insertUniqueEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertUniqueEdge(n)}},t.prototype.computeOverlay=function(e){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var t=new il;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t),this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Sf.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();var n=new Mc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Ef(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(e);var i=new Tf(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(e),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,e)},t.prototype.labelIncompleteNode=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._arg[t].getGeometry());e.getLabel().setLocation(t,n)},t.prototype.copyPoints=function(e){for(var t=this._arg[e].getNodeIterator();t.hasNext();){var n=t.next();this._graph.addNode(n.getCoordinate()).setLabel(e,n.getLabel().getLocation(e))}},t.prototype.findResultAreaEdges=function(e){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&t.isResultOfOp(i.getLocation(0,oc.RIGHT),i.getLocation(1,oc.RIGHT),e)&&r.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var e=this._edgeList.iterator();e.hasNext();){var t=e.next(),n=t.getLabel(),r=t.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(Nu.isTrue(!r.isNull(i,oc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,oc.LEFT,r.getLocation(i,oc.LEFT)),Nu.isTrue(!r.isNull(i,oc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,oc.RIGHT,r.getLocation(i,oc.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getLabel();t.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(t,0):this.labelIncompleteNode(t,1)),t.getEdges().updateLabelling(n)}},t.prototype.isCoveredByA=function(e){return!!this.isCovered(e,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ad);sd.overlayOp=function(e,t,n){return new sd(e,t).getResultGeometry(n)},sd.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return sd.createEmptyResult(sd.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return Mf.map(e,{interfaces_:function(){return[od.MapOp]},map:function(e){return e.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),jf.overlayOp(e,t,sd.INTERSECTION)},sd.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return sd.createEmptyResult(sd.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),jf.overlayOp(e,t,sd.SYMDIFFERENCE)},sd.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),a=-1;switch(e){case sd.INTERSECTION:a=Math.min(r,i);break;case sd.UNION:a=Math.max(r,i);break;case sd.DIFFERENCE:a=r;break;case sd.SYMDIFFERENCE:a=Math.max(r,i)}return a},sd.createEmptyResult=function(e,t,n,r){var i=null;switch(sd.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},sd.difference=function(e,t){return e.isEmpty()?sd.createEmptyResult(sd.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),jf.overlayOp(e,t,sd.DIFFERENCE))},sd.isResultOfOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return sd.isResultOfOp(n,r,t)}if(3===arguments.length){var i=arguments[0],a=arguments[1];switch(i===uu.BOUNDARY&&(i=uu.INTERIOR),a===uu.BOUNDARY&&(a=uu.INTERIOR),arguments[2]){case sd.INTERSECTION:return i===uu.INTERIOR&&a===uu.INTERIOR;case sd.UNION:return i===uu.INTERIOR||a===uu.INTERIOR;case sd.DIFFERENCE:return i===uu.INTERIOR&&a!==uu.INTERIOR;case sd.SYMDIFFERENCE:return i===uu.INTERIOR&&a!==uu.INTERIOR||i!==uu.INTERIOR&&a===uu.INTERIOR}return!1}},sd.INTERSECTION=1,sd.UNION=2,sd.DIFFERENCE=3,sd.SYMDIFFERENCE=4;var ud=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new of,this._seg=new Xc;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};ud.prototype.isWithinToleranceOfBoundary=function(e){for(var t=0;t<this._linework.getNumGeometries();t++)for(var n=this._linework.getGeometryN(t).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(e)<=this._boundaryDistanceTolerance)return!0;return!1},ud.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?uu.BOUNDARY:this._ptLocator.locate(e,this._g)},ud.prototype.extractLinework=function(e){var t=new ld;e.apply(t);var n=t.getLinework(),r=Kl.toLineStringArray(n);return e.getFactory().createMultiLineString(r)},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud};var ld=function(){this._linework=null,this._linework=new il};ld.prototype.getLinework=function(){return this._linework},ld.prototype.filter=function(e){if(e instanceof Ol){var t=e;this._linework.add(t.getExteriorRing());for(var n=0;n<t.getNumInteriorRing();n++)this._linework.add(t.getInteriorRingN(n))}},ld.prototype.interfaces_=function(){return[wl]},ld.prototype.getClass=function(){return ld};var cd=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};cd.prototype.extractPoints=function(e,t,n){for(var r=e.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],t,n)},cd.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t},cd.prototype.getPoints=function(e){for(var t=new il,n=af.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,e,t)}return t},cd.prototype.computeOffsetPoints=function(e,t,n,r){var i=t.x-e.x,a=t.y-e.y,o=Math.sqrt(i*i+a*a),s=n*i/o,u=n*a/o,l=(t.x+e.x)/2,c=(t.y+e.y)/2;if(this._doLeft){var h=new iu(l-u,c+s);r.add(h)}if(this._doRight){var f=new iu(l+u,c-s);r.add(f)}},cd.prototype.interfaces_=function(){return[]},cd.prototype.getClass=function(){return cd};var hd=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new il;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new ud(this._geom[0],this._boundaryDistanceTolerance),new ud(this._geom[1],this._boundaryDistanceTolerance),new ud(this._geom[2],this._boundaryDistanceTolerance)]},fd={TOLERANCE:{configurable:!0}};hd.prototype.reportResult=function(e,t,n){Cu.out.println("Overlay result invalid - A:"+uu.toLocationSymbol(t[0])+" B:"+uu.toLocationSymbol(t[1])+" expected:"+(n?"i":"e")+" actual:"+uu.toLocationSymbol(t[2]))},hd.prototype.isValid=function(e){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(e)},hd.prototype.checkValid=function(){if(1===arguments.length){for(var e=arguments[0],t=0;t<this._testCoords.size();t++){var n=this._testCoords.get(t);if(!this.checkValid(e,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!hd.hasLocation(this._location,uu.BOUNDARY)||this.isValidResult(r,this._location)}},hd.prototype.addTestPts=function(e){var t=new cd(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))},hd.prototype.isValidResult=function(e,t){var n=sd.isResultOfOp(t[0],t[1],e),r=!(n^t[2]===uu.INTERIOR);return r||this.reportResult(e,t,n),r},hd.prototype.getInvalidLocation=function(){return this._invalidLocation},hd.prototype.interfaces_=function(){return[]},hd.prototype.getClass=function(){return hd},hd.hasLocation=function(e,t){for(var n=0;n<3;n++)if(e[n]===t)return!0;return!1},hd.computeBoundaryDistanceTolerance=function(e,t){return Math.min(Df.computeSizeBasedSnapTolerance(e),Df.computeSizeBasedSnapTolerance(t))},hd.isValid=function(e,t,n,r){return new hd(e,t,r).isValid(n)},fd.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(hd,fd);var dd=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};dd.prototype.extractElements=function(e,t){if(null===e)return null;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);this._skipEmpty&&r.isEmpty()||t.add(r)}},dd.prototype.combine=function(){for(var e=new il,t=this._inputGeoms.iterator();t.hasNext();){var n=t.next();this.extractElements(n,e)}return 0===e.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},dd.prototype.interfaces_=function(){return[]},dd.prototype.getClass=function(){return dd},dd.combine=function(){return 1===arguments.length?new dd(arguments[0]).combine():2===arguments.length?new dd(dd.createList(arguments[0],arguments[1])).combine():3===arguments.length?new dd(dd.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},dd.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},dd.createList=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new il;return n.add(e),n.add(t),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],a=arguments[2],o=new il;return o.add(r),o.add(i),o.add(a),o}};var pd=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new il)},md={STRTREE_NODE_CAPACITY:{configurable:!0}};pd.prototype.reduceToGeometries=function(e){for(var t=new il,n=e.iterator();n.hasNext();){var r=n.next(),i=null;cu(r,rl)?i=this.unionTree(r):r instanceof Vu&&(i=r),t.add(i)}return t},pd.prototype.extractByEnvelope=function(e,t,n){for(var r=new il,i=0;i<t.getNumGeometries();i++){var a=t.getGeometryN(i);a.getEnvelopeInternal().intersects(e)?r.add(a):n.add(a)}return this._geomFactory.buildGeometry(r)},pd.prototype.unionOptimized=function(e,t){var n=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!n.intersects(r))return dd.combine(e,t);if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,i)},pd.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new jc(pd.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var n=t.next();e.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=e.itemsTree();return this.unionTree(r)},pd.prototype.binaryUnion=function(){if(1===arguments.length){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=pd.getGeometry(t,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(pd.getGeometry(t,n),pd.getGeometry(t,n+1));var a=Math.trunc((r+n)/2),o=this.binaryUnion(t,n,a),s=this.binaryUnion(t,a,r);return this.unionSafe(o,s)}},pd.prototype.repeatedUnion=function(e){for(var t=null,n=e.iterator();n.hasNext();){var r=n.next();t=null===t?r.copy():t.union(r)}return t},pd.prototype.unionSafe=function(e,t){return null===e&&null===t?null:null===e?t.copy():null===t?e.copy():this.unionOptimized(e,t)},pd.prototype.unionActual=function(e,t){return pd.restrictToPolygons(e.union(t))},pd.prototype.unionTree=function(e){var t=this.reduceToGeometries(e);return this.binaryUnion(t)},pd.prototype.unionUsingEnvelopeIntersection=function(e,t,n){var r=new il,i=this.extractByEnvelope(n,e,r),a=this.extractByEnvelope(n,t,r),o=this.unionActual(i,a);return r.add(o),dd.combine(r)},pd.prototype.bufferUnion=function(){if(1===arguments.length){var e=arguments[0];return e.get(0).getFactory().buildGeometry(e).buffer(0)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().createGeometryCollection([t,n]).buffer(0)}},pd.prototype.interfaces_=function(){return[]},pd.prototype.getClass=function(){return pd},pd.restrictToPolygons=function(e){if(cu(e,Pl))return e;var t=rf.getPolygons(e);return 1===t.size()?t.get(0):e.getFactory().createMultiPolygon(Kl.toPolygonArray(t))},pd.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)},pd.union=function(e){return new pd(e).union()},md.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(pd,md);var gd=function(){};gd.prototype.interfaces_=function(){return[]},gd.prototype.getClass=function(){return gd},gd.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return sd.createEmptyResult(sd.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),jf.overlayOp(e,t,sd.UNION)};var vd=function(){return new Yi};Yi.prototype={constructor:Yi,reset:function(){this.s=this.t=0},add:function(e){zi(yd,e,this.t),zi(this,yd.s,this.s),this.s?this.t+=yd.t:this.s=yd.t},valueOf:function(){return this.s}};var yd=new Yi,_d=1e-6,bd=Math.PI,wd=bd/2,xd=bd/4,kd=2*bd,Cd=180/bd,Sd=bd/180,Md=Math.abs,Ed=Math.atan,Td=Math.atan2,Ld=Math.cos,Id=Math.exp,Dd=Math.log,Ad=Math.sin,Pd=Math.sqrt,Od=Math.tan,Nd={Feature:function(e,t){Hi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Hi(n[r].geometry,t)}},Rd={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)t.point((e=n[r])[0],e[1],e[2])},LineString:function(e,t){Ui(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ui(n[r],t,0)},Polygon:function(e,t){Vi(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Vi(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Hi(n[r],t)}},Fd=function(e,t){e&&Nd.hasOwnProperty(e.type)?Nd[e.type](e,t):Hi(e,t)},Yd=(vd(),vd(),vd(),function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n});Ki.invert=Ki;var zd,jd,Bd=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Bi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},Hd=function(e,t,n,r,i,a){var o,s=e[0],u=e[1],l=0,c=1,h=t[0]-s,f=t[1]-u;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>l&&(l=o)}if(o=i-s,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<c&&(c=o)}if(o=r-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=a-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}return l>0&&(e[0]=s+l*h,e[1]=u+l*f),c<1&&(t[0]=s+c*h,t[1]=u+c*f),!0}}}}},Ud=function(e,t){return Md(e[0]-t[0])<_d&&Md(e[1]-t[1])<_d},Vd=function(e,t,n,r,i){var a,o,s=[],u=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(Ud(r,o)){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);i.lineEnd()}else s.push(n=new ia(r,e,null,!0)),u.push(n.o=new ia(r,null,n,!1)),s.push(n=new ia(o,e,null,!1)),u.push(n.o=new ia(o,null,n,!0))}}),s.length){for(u.sort(t),aa(s),aa(u),a=0,o=u.length;a<o;++a)u[a].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(a=0,o=l.length;a<o;++a)i.point((c=l[a])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(a=(l=f.p.z).length-1;a>=0;--a)i.point((c=l[a])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}},Gd=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},qd=(1===(zd=Gd).length&&(jd=zd,zd=function(e,t){return Gd(jd(e),t)}),function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--o]=r[t];return n}),Wd=1e9,$d=-Wd,Xd=vd(),Zd=(vd(),function(e){return e}),Jd=(vd(),vd(),1/0),Kd=Jd,Qd=-Jd,ep=Qd,tp={point:function(e,t){e<Jd&&(Jd=e),e>Qd&&(Qd=e),t<Kd&&(Kd=t),t>ep&&(ep=t)},lineStart:Bi,lineEnd:Bi,polygonStart:Bi,polygonEnd:Bi,result:function(){var e=[[Jd,Kd],[Qd,ep]];return Qd=ep=-(Kd=Jd=1/0),e}},np=(vd(),function(e,t,n,r){return function(i,a){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function s(e,t){var n=i(e,t);g.point(n[0],n[1])}function u(){w.point=s,g.lineStart()}function l(){w.point=o,g.lineEnd()}function c(e,t){m.push([e,t]);var n=i(e,t);_.point(n[0],n[1])}function h(){_.lineStart(),m=[]}function f(){c(m[0][0],m[0][1]),_.lineEnd();var e,t,n,r,i=_.clean(),o=y.result(),s=o.length;if(m.pop(),d.push(m),m=null,s)if(1&i){if((t=(n=o[0]).length-1)>0){for(b||(a.polygonStart(),b=!0),a.lineStart(),e=0;e<t;++e)a.point((r=n[e])[0],r[1]);a.lineEnd()}}else s>1&&2&i&&o.push(o.pop().concat(o.shift())),p.push(o.filter(sa))}var d,p,m,g=t(a),v=i.invert(r[0],r[1]),y=Bd(),_=t(y),b=!1,w={point:o,lineStart:u,lineEnd:l,polygonStart:function(){w.point=c,w.lineStart=h,w.lineEnd=f,p=[],d=[]},polygonEnd:function(){w.point=o,w.lineStart=u,w.lineEnd=l,p=qd(p);var e=function(e,t){var n=t[0],r=t[1],i=[Ad(n),-Ld(n),0],a=0,o=0;Xd.reset();for(var s=0,u=e.length;s<u;++s)if(c=(l=e[s]).length)for(var l,c,h=l[c-1],f=h[0],d=h[1]/2+xd,p=Ad(d),m=Ld(d),g=0;g<c;++g,f=y,p=b,m=w,h=v){var v=l[g],y=v[0],_=v[1]/2+xd,b=Ad(_),w=Ld(_),x=y-f,k=x>=0?1:-1,C=k*x,S=C>bd,M=p*b;if(Xd.add(Td(M*k*Ad(C),m*w+M*Ld(C))),a+=S?x+k*kd:x,S^f>=n^y>=n){var E=$i(qi(h),qi(v));Ji(E);var T=$i(i,E);Ji(T);var L=(S^x>=0?-1:1)*ji(T[2]);(r>L||r===L&&(E[0]||E[1]))&&(o+=S^x>=0?1:-1)}}return(a<-_d||a<_d&&Xd<-_d)^1&o}(d,v);p.length?(b||(a.polygonStart(),b=!0),Vd(p,ua,e,n,a)):e&&(b||(a.polygonStart(),b=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),p=d=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};return w}}),rp=np(function(){return!0},function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s,u,l,c,h,f,d,p=a>0?bd:-bd,m=Md(a-n);Md(m-bd)<_d?(e.point(n,r=(r+o)/2>0?wd:-wd),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(p,r),e.point(a,r),t=0):i!==p&&m>=bd&&(Md(n-i)<_d&&(n-=i*_d),Md(a-p)<_d&&(a-=p*_d),u=r,c=o,d=Ad((s=n)-(l=a)),r=Md(d)>_d?Ed((Ad(u)*(f=Ld(c))*Ad(l)-Ad(c)*(h=Ld(u))*Ad(s))/(h*f*d)):(u+c)/2,e.point(i,r),e.lineEnd(),e.lineStart(),e.point(p,r),t=0),e.point(n=a,r=o),i=p},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(null==e)r.point(-bd,i=n*wd),r.point(0,i),r.point(bd,i),r.point(bd,0),r.point(bd,-i),r.point(0,-i),r.point(-bd,-i),r.point(-bd,0),r.point(-bd,i);else if(Md(e[0]-t[0])>_d){var a=e[0]<t[0]?bd:-bd;r.point(-a,i=n*a/2),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])},[-bd,-wd]),ip=function(e,t){function n(e,t){return Ld(e)*Ld(t)>a}function r(e,t,n){var r=[1,0,0],i=$i(qi(e),qi(t)),o=Wi(i,i),s=i[0],u=o-s*s;if(!u)return!n&&e;var l=a*o/u,c=-a*s/u,h=$i(r,i),f=Zi(r,l);Xi(f,Zi(i,c));var d=h,p=Wi(f,d),m=Wi(d,d),g=p*p-m*(Wi(f,f)-1);if(!(g<0)){var v=Pd(g),y=Zi(d,(-p-v)/m);if(Xi(y,f),y=Gi(y),!n)return y;var _,b=e[0],w=t[0],x=e[1],k=t[1];w<b&&(_=b,b=w,w=_);var C=w-b,S=Md(C-bd)<_d;if(!S&&k<x&&(_=x,x=k,k=_),S||C<_d?S?x+k>0^y[1]<(Md(y[0]-b)<_d?x:k):x<=y[1]&&y[1]<=k:C>bd^(b<=y[0]&&y[0]<=w)){var M=Zi(d,(-p+v)/m);return Xi(M,f),[y,Gi(M)]}}}function i(t,n){var r=o?e:bd-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var a=Ld(e),o=a>0,s=Md(a)>_d;return np(n,function(e){var t,a,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],m=n(h,f),g=o?m?0:i(h,f):m?i(h+(h<0?bd:-bd),f):0;if(!t&&(l=u=m)&&e.lineStart(),m!==u&&(!(d=r(t,p))||Ud(t,d)||Ud(p,d))&&(p[0]+=_d,p[1]+=_d,m=n(p[0],p[1])),m!==u)c=0,m?(e.lineStart(),d=r(p,t),e.point(d[0],d[1])):(d=r(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(s&&t&&o^m){var v;g&a||!(v=r(p,t,!0))||(c=0,o?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||t&&Ud(t,p)||e.point(p[0],p[1]),t=p,u=m,a=g},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return c|(l&&u)<<1}}},function(n,r,i,a){!function(e,t,n,r,i,a){if(n){var o=Ld(t),s=Ad(t),u=r*n;null==i?(i=t+r*kd,a=t-u/2):(i=ra(o,i),a=ra(o,a),(r>0?i<a:i>a)&&(i+=r*kd));for(var l,c=i;r>0?c>a:c<a;c-=u)l=Gi([o,-s*Ld(c),-s*Ad(c)]),e.point(l[0],l[1])}}(a,e,t,i,n,r)},o?[0,-e]:[-bd,e-bd])};ca.prototype={constructor:ca,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ap=Ld(30*Sd),op=function(e,t){return+t?function(e,t){function n(r,i,a,o,s,u,l,c,h,f,d,p,m,g){var v=l-r,y=c-i,_=v*v+y*y;if(_>4*t&&m--){var b=o+f,w=s+d,x=u+p,k=Pd(b*b+w*w+x*x),C=ji(x/=k),S=Md(Md(x)-1)<_d||Md(a-h)<_d?(a+h)/2:Td(w,b),M=e(S,C),E=M[0],T=M[1],L=E-r,I=T-i,D=y*L-v*I;(D*D/_>t||Md((v*L+y*I)/_-.5)>.3||o*f+s*d+u*p<ap)&&(n(r,i,a,o,s,u,E,T,S,b/=k,w/=k,x,m,g),g.point(E,T),n(E,T,S,b,w,x,l,c,h,f,d,p,m,g))}}return function(t){function r(n,r){n=e(n,r),t.point(n[0],n[1])}function i(){v=NaN,x.point=a,t.lineStart()}function a(r,i){var a=qi([r,i]),o=e(r,i);n(v,y,g,_,b,w,v=o[0],y=o[1],g=r,_=a[0],b=a[1],w=a[2],16,t),t.point(v,y)}function o(){x.point=r,t.lineEnd()}function s(){i(),x.point=u,x.lineEnd=l}function u(e,t){a(c=e,t),h=v,f=y,d=_,p=b,m=w,x.point=a}function l(){n(v,y,g,_,b,w,h,f,c,d,p,m,16,t),x.lineEnd=o,o()}var c,h,f,d,p,m,g,v,y,_,b,w,x={point:r,lineStart:i,lineEnd:o,polygonStart:function(){t.polygonStart(),x.lineStart=s},polygonEnd:function(){t.polygonEnd(),x.lineStart=i}};return x}}(e,t):(n=e,la({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}}));var n},sp=la({point:function(e,t){this.stream.point(e*Sd,t*Sd)}});fa.invert=function(e,t){return[e,2*Ed(Id(t))-wd]},da.invert=function(e,t){return[-t,2*Ed(Id(e))-wd]};var up=function(){var e=function(e){function t(){var t=bd*s(),o=a(function(e){function t(t){return(t=e(t[0]*Sd,t[1]*Sd))[0]*=Cd,t[1]*=Cd,t}return e=Qi(e[0]*Sd,e[1]*Sd,e.length>2?e[2]*Sd:0),t.invert=function(t){return(t=e.invert(t[0]*Sd,t[1]*Sd))[0]*=Cd,t[1]*=Cd,t},t}(a.rotate()).invert([0,0]));return l(null==c?[[o[0]-t,o[1]-t],[o[0]+t,o[1]+t]]:e===fa?[[Math.max(o[0]-t,c),n],[Math.min(o[0]+t,r),i]]:[[c,Math.max(o[1]-t,n)],[r,Math.min(o[1]+t,i)]])}var n,r,i,a=function(e){return function(e){function t(e){return[(e=l(e[0]*Sd,e[1]*Sd))[0]*m+o,s-e[1]*m]}function n(e,t){return[(e=a(e,t))[0]*m+o,s-e[1]*m]}function r(){l=Yd(u=Qi(b,w,x),a);var e=a(y,_);return o=g-e[0]*m,s=v+e[1]*m,i()}function i(){return d=p=null,t}var a,o,s,u,l,c,h,f,d,p,m=150,g=480,v=250,y=0,_=0,b=0,w=0,x=0,k=null,C=rp,S=null,M=Zd,E=.5,T=op(n,E);return t.stream=function(e){return d&&p===e?d:d=sp(C(u,T(M(p=e))))},t.clipAngle=function(e){return arguments.length?(C=+e?ip(k=e*Sd,6*Sd):(k=null,rp),i()):k*Cd},t.clipExtent=function(e){return arguments.length?(M=null==e?(S=c=h=f=null,Zd):oa(S=+e[0][0],c=+e[0][1],h=+e[1][0],f=+e[1][1]),i()):null==S?null:[[S,c],[h,f]]},t.scale=function(e){return arguments.length?(m=+e,r()):m},t.translate=function(e){return arguments.length?(g=+e[0],v=+e[1],r()):[g,v]},t.center=function(e){return arguments.length?(y=e[0]%360*Sd,_=e[1]%360*Sd,r()):[y*Cd,_*Cd]},t.rotate=function(e){return arguments.length?(b=e[0]%360*Sd,w=e[1]%360*Sd,x=e.length>2?e[2]%360*Sd:0,r()):[b*Cd,w*Cd,x*Cd]},t.precision=function(e){return arguments.length?(T=op(n,E=e*e),i()):Pd(E)},t.fitExtent=function(e,n){return ha(t,e,n)},t.fitSize=function(e,n){return ha(t,[[0,0],e],n)},function(){return a=e.apply(this,arguments),t.invert=a.invert&&function(e){return(e=l.invert((e[0]-o)/m,(s-e[1])/m))&&[e[0]*Cd,e[1]*Cd]},r()}}(function(){return e})()}(e),o=a.center,s=a.scale,u=a.translate,l=a.clipExtent,c=null;return a.scale=function(e){return arguments.length?(s(e),t()):s()},a.translate=function(e){return arguments.length?(u(e),t()):u()},a.center=function(e){return arguments.length?(o(e),t()):o()},a.clipExtent=function(e){return arguments.length?(null==e?c=n=r=i=null:(c=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),t()):null==c?null:[[c,n],[r,i]]},t()}(da),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};e.projection=po,e.random=Xs,e.clusters=Zs,e.helpers=Da,e.invariant=Pa,e.meta=Aa,e.isolines=function(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},a=n.breaksProperties||[];if($(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!C(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(a))throw new Error("breaksProperties must be an Array");var o,s,u,h,f,d,p,m,g=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,i=t.flags;$(e,"Point","input must contain Points");for(var a=function(e,t){var n={};return D(e,function(e){var t=V(e)[1];n[t]||(n[t]=[]),n[t].push(e)}),Object.keys(n).map(function(e){return n[e].sort(function(e,t){return V(e)[0]-V(t)[0]})}).sort(function(e,n){return t?V(e[0])[1]-V(n[0])[1]:V(n[0])[1]-V(e[0])[1]})}(e,r),o=[],s=0;s<a.length;s++){for(var u=a[s],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===i&&(h.properties.matrixPosition=[s,c])}o.push(l)}return o}(e,{zProperty:r,flip:!0});return l((o=function(e,t,n,r,i){for(var a=[],o=1;o<t.length;o++){var s=+t[o],u=Object.assign({},r,i[o]);u[n]=s;var l=c(K(e,s),u);a.push(l)}return a}(g,t,r,i,a),s=g,u=H(e),h=u[0],f=u[1],d=(u[2]-u[0])/(s[0].length-1),p=(u[3]-u[1])/(s.length-1),m=function(e){e[0]=e[0]*d+h,e[1]=e[1]*p+f},o.forEach(function(e){E(e,m)}),o))},e.convex=Ee,e.pointsWithinPolygon=Ie,e.concave=function(e,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!e)throw new Error("points is required");var r=n.maxEdge||1/0;if(!k(r))throw new Error("maxEdge is invalid");var i,a,o=De((i=[],a={},D(e,function(e){if(e.geometry){var t=e.geometry.coordinates.join("-");a.hasOwnProperty(t)||(i.push(e),a[t]=!0)}}),l(i)));if(o.features=o.features.filter(function(e){var t=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][1],a=e.geometry.coordinates[0][2],o=Ne(t,i,n),s=Ne(i,a,n),u=Ne(t,a,n);return o<=r&&s<=r&&u<=r}),o.features.length<1)return null;var u=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==J(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=Re(e));var r=function(e){var t={};R(e,function(e){t[e.geometry.type]=!0});var n=Object.keys(t);return 1===n.length?n[0]:null}(e);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==J(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=Re(e));var r=[],i=B(e,function(e,t){return function(e,t){var n,r=e.geometry.coordinates,i=t.geometry.coordinates,a=Xe(r[0]),o=Xe(r[r.length-1]),u=Xe(i[0]),l=Xe(i[i.length-1]);if(a===l)n=i.concat(r.slice(1));else if(u===o)n=r.concat(i.slice(1));else if(a===u)n=r.slice(1).reverse().concat(i);else{if(o!==l)return null;n=r.concat(i.reverse().slice(1))}return s(n)}(e,t)||(r.push(e),t)});return i&&r.push(i),r.length?1===r.length?r[0]:c(r.map(function(e){return e.coordinates})):null}(e,t);case"Polygon":return function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==J(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=Re(e));var r=[];R(e,function(e){r.push(e.geometry)});var i=lo({geoms:d(r).geometry});return no(i,i.objects.geoms.geometries)}(e,t);default:throw new Error(r+" is not supported")}}(o,n);return 1===u.coordinates.length&&(u.coordinates=u.coordinates[0],u.type="Polygon"),t(u)},e.collect=function(e,t,n,r){var i=Fa(6),a=t.features.map(function(e){return{minX:e.geometry.coordinates[0],minY:e.geometry.coordinates[1],maxX:e.geometry.coordinates[0],maxY:e.geometry.coordinates[1],property:e.properties[n]}});return i.load(a),e.features.forEach(function(e){e.properties||(e.properties={});var t=H(e),n=[];i.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).forEach(function(t){Te([t.minX,t.minY],e)&&n.push(t.property)}),e.properties[r]=n}),e},e.flip=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.mutate;if(!e)throw new Error("geojson is required");return!1!==n&&void 0!==n||(e=Re(e)),E(e,function(e){var t=e[0];e[0]=e[1],e[1]=t}),e},e.simplify=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=void 0!==t.tolerance?t.tolerance:1,r=t.highQuality||!1,i=t.mutate||!1;if(!e)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(e=Re(e)),O(e,function(e){!function(e,t,n){var r=e.type;if("Point"===r||"MultiPoint"===r)return e;Ze(e,!0);var i=e.coordinates;switch(r){case"LineString":e.coordinates=nt(i,t,n);break;case"MultiLineString":e.coordinates=i.map(function(e){return nt(e,t,n)});break;case"Polygon":e.coordinates=rt(i,t,n);break;case"MultiPolygon":e.coordinates=i.map(function(e){return rt(e,t,n)})}}(e,n,r)}),e},e.bezierSpline=it,e.tag=function(e,t,n,r){return e=Re(e),t=Re(t),D(e,function(e){e.properties||(e.properties={}),D(t,function(t){void 0===e.properties[r]&&Te(e,t)&&(e.properties[r]=t.properties[n])})}),e},e.sample=function(e,t){if(!e)throw new Error("featurecollection is required");if(null==t)throw new Error("num is required");if("number"!=typeof t)throw new Error("num must be a number");return l(function(e,t){for(var n,r,i=e.slice(0),a=e.length,o=a-t;a-- >o;)n=i[r=Math.floor((a+1)*Math.random())],i[r]=i[a],i[a]=n;return i.slice(o)}(e.features,t))},e.envelope=ot,e.square=st,e.circle=lt,e.midpoint=function(e,t){return ut(e,Ne(e,t)/2,ct(e,t))},e.center=ht,e.centerOfMass=function e(t,n){switch(J(t)){case"Point":return t;case"Polygon":var i=[];E(t,function(e){i.push(e)});var a,o,s,u,l,c,h,f,d=ft(t,n),p=d.geometry.coordinates,m=0,g=0,v=0,y=i.map(function(e){return[e[0]-p[0],e[1]-p[1]]});for(a=0;a<i.length-1;a++)u=(o=y[a])[0],l=(s=y[a+1])[0],v+=f=u*(h=s[1])-l*(c=o[1]),m+=(u+l)*f,g+=(c+h)*f;if(0===v)return d;var _=1/(.5*v*6);return r([p[0]+_*m,p[1]+_*g],n);default:var b=Ee(t);return b?e(b,n):ft(t,n)}},e.centroid=ft,e.combine=function(e){function n(e,t,n){n?r[t].coordinates=r[t].coordinates.concat(e.geometry.coordinates):r[t].coordinates.push(e.geometry.coordinates),r[t].properties.push(e.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce(function(e,t){return e[t.replace("Multi","")]=t,e},{});return D(e,function(e){e.geometry&&(r[e.geometry.type]?n(e,e.geometry.type,!0):i[e.geometry.type]&&n(e,i[e.geometry.type],!1))}),l(Object.keys(r).filter(function(e){return r[e].coordinates.length}).sort().map(function(e){return t({type:e,coordinates:r[e].coordinates},{collectedProperties:r[e].properties})}))},e.distance=Ne,e.explode=dt,e.bbox=H,e.tesselate=function(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var t={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?t.features=It(e.geometry.coordinates):e.geometry.coordinates.forEach(function(e){t.features=t.features.concat(It(e))}),t},e.bboxPolygon=at,e.booleanPointInPolygon=Te,e.nearestPoint=Dt,e.nearestPointOnLine=Qt,e.nearestPointToLine=function(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!e)throw new Error("points is required");if(!(e=function(e){var t=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return O(e,function(e){"Point"===e.type&&t.push({type:"Feature",properties:{},geometry:e})}),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter(function(e){return"Point"===e.geometry.type}),e;default:throw new Error("points must be a Point Collection")}}(e)).features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if("LineString"!==J(t))throw new Error("line must be a LineString");var a=1/0,o=null;return D(e,function(e){var n=ln(e,t,{units:r});n<a&&(a=n,o=e)}),o&&(o.properties=Object.assign({dist:a},o.properties,i)),o},e.planepoint=function(e,t){var n=U(e),r=X(t).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=t.properties||{},a=i.a,o=i.b,s=i.c,u=n[0],l=n[1],c=r[0][0],h=r[0][1],f=void 0!==a?a:r[0][2],d=r[1][0],p=r[1][1],m=void 0!==o?o:r[1][2],g=r[2][0],v=r[2][1],y=void 0!==s?s:r[2][2];return(y*(u-c)*(l-p)+f*(u-d)*(l-v)+m*(u-g)*(l-h)-m*(u-c)*(l-v)-y*(u-d)*(l-h)-f*(u-g)*(l-p))/((u-c)*(l-p)+(u-d)*(l-v)+(u-g)*(l-h)-(u-c)*(l-v)-(u-d)*(l-h)-(u-g)*(l-p))},e.tin=De,e.bearing=ct,e.destination=ut,e.kinks=function(e){var t,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===e.type?e.geometry:e).type)t=[n.coordinates];else if("MultiLineString"===n.type)t=n.coordinates;else if("MultiPolygon"===n.type)t=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=n.coordinates}return t.forEach(function(e){t.forEach(function(t){for(var n=0;n<e.length-1;n++)for(var a=n;a<t.length-1;a++)if(e!==t||1!==Math.abs(n-a)&&(0!==n||a!==e.length-2||e[n][0]!==e[e.length-1][0]||e[n][1]!==e[e.length-1][1])){var o=(g=void 0,v=void 0,y=void 0,_=void 0,_={x:null,y:null,onLine1:!1,onLine2:!1},0==(m=((p=t[a+1][1])-(f=t[a][1]))*((l=e[n+1][0])-(s=e[n][0]))-((d=t[a+1][0])-(h=t[a][0]))*((c=e[n+1][1])-(u=e[n][1])))?null!==_.x&&null!==_.y&&_:(y=(d-h)*(g=u-f)-(p-f)*(v=s-h),v=((l-s)*g-(c-u)*v)/m,_.x=s+(g=y/m)*(l-s),_.y=u+g*(c-u),g>=0&&g<=1&&(_.onLine1=!0),v>=0&&v<=1&&(_.onLine2=!0),!(!_.onLine1||!_.onLine2)&&[_.x,_.y]));o&&i.features.push(r([o[0],o[1]]))}var s,u,l,c,h,f,d,p,m,g,v,y,_})}),i},e.pointOnFeature=hn,e.area=dn,e.along=function(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var i;if("Feature"===e.type)i=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");i=e.coordinates}if(!k(t))throw new Error("distance must be a number");for(var a=0,o=0;o<i.length&&!(t>=a&&o===i.length-1);o++){if(a>=t){var s=t-a;if(s){var u=ct(i[o],i[o-1])-180;return ut(i[o],s,u,n)}return r(i[o])}a+=Ne(i[o],i[o+1],n)}return r(i[i.length-1])},e.length=yn,e.lineSlice=function(e,t,n){var r=V(n);if("LineString"!==J(n))throw new Error("line must be a LineString");for(var i,a=Qt(n,e),o=Qt(n,t),u=[(i=a.properties.index<=o.properties.index?[a,o]:[o,a])[0].geometry.coordinates],l=i[0].properties.index+1;l<i[1].properties.index+1;l++)u.push(r[l]);return u.push(i[1].geometry.coordinates),s(u,n.properties)},e.lineSliceAlong=_n,e.pointGrid=Cn,e.truncate=Sn,e.flatten=function(e){if(!e)throw new Error("geojson is required");var t=[];return R(e,function(e){t.push(e)}),l(t)},e.lineIntersect=Jt,e.lineChunk=function(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var a=[];return R(e,function(e){i&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),function(e,t,n,r){var i=yn(e,{units:n});if(i<=t)return r(e);var a=i/t;Number.isInteger(a)||(a=Math.floor(a)+1);for(var o=0;o<a;o++)r(_n(e,t*o,t*(o+1),{units:n}))}(e,t,r,function(e){a.push(e)})}),l(a)},e.unkinkPolygon=function(e){var t=[];return R(e,function(e){"Polygon"===e.geometry.type&&D(function(e){function t(){for(var e=[],t=0;t<p.features.length;t++)-1==p.features[t].properties.parent&&e.push(t);if(e.length>1)for(t=0;t<e.length;t++){for(var n=-1,r=0;r<p.features.length;r++)e[t]!=r&&Te(p.features[e[t]].geometry.coordinates[0][0],p.features[r],{ignoreBoundary:!0})&&dn(p.features[r])<1/0&&(n=r);p.features[e[t]].properties.parent=n}}function n(){for(var e=0;e<p.features.length;e++)if(-1==p.features[e].properties.parent){var t=p.features[e].properties.winding;p.features[e].properties.netWinding=t,r(e,t)}}function r(e,t){for(var n=0;n<p.features.length;n++)if(p.features[n].properties.parent==e){var i=t+p.features[n].properties.winding;p.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=e.geometry.coordinates.length,o=[],s=0;s<i;s++){var u=e.geometry.coordinates[s];Tn(u[0],u[u.length-1])||u.push(u[0]),o.push.apply(o,u.slice(0,u.length-1))}if(!function(e){for(var t={},n=1,r=0,i=e.length;r<i;++r){if(t.hasOwnProperty(e[r])){n=0;break}t[e[r]]=1}return n}(o))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=o.length,h=function(e,t,n){function r(e,n,r,i){var u,l,c=a[e][n],h=a[e][n+1],f=a[r][i],d=a[r][i+1],p=function(e,t,n,r){if(Mn(e,n)||Mn(e,r)||Mn(t,n)||Mn(r,n))return null;var i=e[0],a=e[1],o=t[0],s=t[1],u=n[0],l=n[1],c=r[0],h=r[1],f=(i-o)*(l-h)-(a-s)*(u-c);return 0===f?null:[((i*s-a*o)*(u-c)-(i-o)*(u*h-l*c))/f,((i*s-a*o)*(l-h)-(a-s)*(u*h-l*c))/f]}(c,h,f,d);if(null!==p&&(l=d[0]!==f[0]?(p[0]-f[0])/(d[0]-f[0]):(p[1]-f[1])/(d[1]-f[1]),!((u=h[0]!==c[0]?(p[0]-c[0])/(h[0]-c[0]):(p[1]-c[1])/(h[1]-c[1]))>=1||u<=0||l>=1||l<=0))){var m=!s[p];m&&(s[p]=!0),o.push(t?t(p,e,n,c,h,u,r,i,f,d,l,m):p)}}function i(e,t){var n,r,i,o,s=a[e][t],u=a[e][t+1];return s[0]<u[0]?(n=s[0],r=u[0]):(n=u[0],r=s[0]),s[1]<u[1]?(i=s[1],o=u[1]):(i=u[1],o=s[1]),{minX:n,minY:i,maxX:r,maxY:o,ring:e,edge:t}}if("Polygon"!==e.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var a=e.geometry.coordinates,o=[],s={};if(n){for(var u=[],l=0;l<a.length;l++)for(var c=0;c<a[l].length-1;c++)u.push(i(l,c));var h=Fa();h.load(u)}for(var f=0;f<a.length;f++)for(var d=0;d<a[f].length-1;d++)if(n)h.search(i(f,d)).forEach(function(e){r(f,d,e.ring,e.edge)});else for(var p=0;p<a.length;p++)for(var m=0;m<a[p].length-1;m++)r(f,d,p,m);return t||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o}(e,function(e,t,n,r,i,a,o,s,u,l,c,h){return[e,t,n,r,i,a,o,s,u,l,c,h]}),f=h.length;if(0==f){var d=[];for(s=0;s<i;s++)d.push(a([e.geometry.coordinates[s]],{parent:-1,winding:function(e){for(var t=0,n=0;n<e.length-1;n++)e[n][0]<e[t][0]&&(t=n);if(En([e[(t-1).modulo(e.length-1)],e[t],e[(t+1).modulo(e.length-1)]],!0))var r=1;else r=-1;return r}(e.geometry.coordinates[s])}));var p=l(d);return t(),n(),p}var m=[],g=[];for(s=0;s<i;s++){m.push([]);for(var v=0;v<e.geometry.coordinates[s].length-1;v++)m[s].push([new go(e.geometry.coordinates[s][(v+1).modulo(e.geometry.coordinates[s].length-1)],1,[s,v],[s,(v+1).modulo(e.geometry.coordinates[s].length-1)],void 0)]),g.push(new vo(e.geometry.coordinates[s][v],[s,(v-1).modulo(e.geometry.coordinates[s].length-1)],[s,v],void 0,void 0,!1,!0))}for(s=0;s<f;s++)m[h[s][1]][h[s][2]].push(new go(h[s][0],h[s][5],[h[s][1],h[s][2]],[h[s][6],h[s][7]],void 0)),h[s][11]&&g.push(new vo(h[s][0],[h[s][1],h[s][2]],[h[s][6],h[s][7]],void 0,void 0,!0,!0));var y=g.length;for(s=0;s<m.length;s++)for(v=0;v<m[s].length;v++)m[s][v].sort(function(e,t){return e.param<t.param?-1:1});var _=[];for(s=0;s<y;s++)_.push({minX:g[s].coord[0],minY:g[s].coord[1],maxX:g[s].coord[0],maxY:g[s].coord[1],index:s});var b=Fa();for(b.load(_),s=0;s<m.length;s++)for(v=0;v<m[s].length;v++)for(var w=0;w<m[s][v].length;w++){k=w==m[s][v].length-1?m[s][(v+1).modulo(e.geometry.coordinates[s].length-1)][0].coord:m[s][v][w+1].coord;var x=b.search({minX:k[0],minY:k[1],maxX:k[0],maxY:k[1]})[0];m[s][v][w].nxtIsectAlongEdgeIn=x.index}for(s=0;s<m.length;s++)for(v=0;v<m[s].length;v++)for(w=0;w<m[s][v].length;w++){var k=m[s][v][w].coord,C=(x=b.search({minX:k[0],minY:k[1],maxX:k[0],maxY:k[1]})[0]).index;C<c?g[C].nxtIsectAlongRingAndEdge2=m[s][v][w].nxtIsectAlongEdgeIn:Tn(g[C].ringAndEdge1,m[s][v][w].ringAndEdgeIn)?g[C].nxtIsectAlongRingAndEdge1=m[s][v][w].nxtIsectAlongEdgeIn:g[C].nxtIsectAlongRingAndEdge2=m[s][v][w].nxtIsectAlongEdgeIn}var S=[];for(s=0,v=0;v<i;v++){var M=s;for(w=0;w<e.geometry.coordinates[v].length-1;w++)g[s].coord[0]<g[M].coord[0]&&(M=s),s++;var E=g[M].nxtIsectAlongRingAndEdge2;for(w=0;w<g.length;w++)if(g[w].nxtIsectAlongRingAndEdge1==M||g[w].nxtIsectAlongRingAndEdge2==M){var T=w;break}var L=En([g[T].coord,g[M].coord,g[E].coord],!0)?1:-1;S.push({isect:M,parent:-1,winding:L})}for(S.sort(function(e,t){return g[e.isect].coord>g[t.isect].coord?-1:1}),d=[];S.length>0;){var I=S.pop(),D=I.isect,A=I.parent,P=I.winding,O=d.length,N=[g[D].coord],R=D;if(g[D].ringAndEdge1Walkable)var F=g[D].ringAndEdge1,Y=g[D].nxtIsectAlongRingAndEdge1;else F=g[D].ringAndEdge2,Y=g[D].nxtIsectAlongRingAndEdge2;for(;!Tn(g[D].coord,g[Y].coord);){N.push(g[Y].coord);var z=void 0;for(s=0;s<S.length;s++)if(S[s].isect==Y){z=s;break}if(null!=z&&S.splice(z,1),Tn(F,g[Y].ringAndEdge1)){if(F=g[Y].ringAndEdge2,g[Y].ringAndEdge2Walkable=!1,g[Y].ringAndEdge1Walkable){var j={isect:Y};En([g[R].coord,g[Y].coord,g[g[Y].nxtIsectAlongRingAndEdge2].coord],1==P)?(j.parent=A,j.winding=-P):(j.parent=O,j.winding=P),S.push(j)}R=Y,Y=g[Y].nxtIsectAlongRingAndEdge2}else F=g[Y].ringAndEdge1,g[Y].ringAndEdge1Walkable=!1,g[Y].ringAndEdge2Walkable&&(j={isect:Y},En([g[R].coord,g[Y].coord,g[g[Y].nxtIsectAlongRingAndEdge1].coord],1==P)?(j.parent=A,j.winding=-P):(j.parent=O,j.winding=P),S.push(j)),R=Y,Y=g[Y].nxtIsectAlongRingAndEdge1}N.push(g[Y].coord),d.push(a([N],{index:O,parent:A,winding:P,netWinding:void 0}))}return p=l(d),t(),n(),p}(e),function(n){t.push(a(n.geometry.coordinates,e.properties))})}),l(t)},e.greatCircle=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,a=n.offset;return e=U(e),t=U(t),i=i||100,a=a||10,new ko({x:e[0],y:e[1]},{x:t[0],y:t[1]},r=r||{}).Arc(i,{offset:a}).json()},e.lineSegment=Zt,e.lineSplit=function(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var n=J(e),r=J(t);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=Sn(t,{precision:7});switch(r){case"Point":return In(e,i);case"MultiPoint":return Ln(e,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Ln(e,Jt(e,i))}},e.lineArc=Pn,e.polygonToLine=Nn,e.lineToPolygon=Fn,e.bboxClip=function(e,t){var n,r=(n=e).geometry?n.geometry.type:n.type,i=V(e),o=e.properties;switch(r){case"LineString":case"MultiLineString":var u=[];return"LineString"===r&&(i=[i]),i.forEach(function(e){Co(e,t,u)}),1===u.length?s(u[0],o):c(u,o);case"Polygon":return a(Un(i,t),o);case"MultiPolygon":return f(i.map(function(e){return Un(e,t)}),o);default:throw new Error("geometry "+r+" not supported")}},e.lineOverlap=$n,e.sector=function(e,t,n,r,i){if(!C(i=i||{}))throw new Error("options is invalid");if(!e)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(Zn(n)===Zn(r))return lt(e,t,i);var o=V(e),s=[[o]];return E(Pn(e,t,n,r,i),function(e){s[0].push(e)}),s[0].push(o),a(s)},e.rhumbBearing=en,e.rhumbDistance=nn,e.rhumbDestination=Jn,e.polygonTangents=function(e,t){var n,i,a,o=V(e),s=V(t);switch(J(t)){case"Polygon":n=s[0][0],i=s[0][0],a=Qn(s[0][0],s[0][s[0].length-1],o);var u=Kn(s[0],o,a,void 0,n,i);n=u[0],i=u[1];break;case"MultiPolygon":n=s[0][0][0],i=s[0][0][0],a=Qn(s[0][0][0],s[0][0][s[0][0].length-1],o),s.forEach(function(e){var t=Kn(e[0],o,a,void 0,n,i);n=t[0],i=t[1]})}return l([r(n),r(i)])},e.rewind=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.reverse||!1,r=t.mutate||!1;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(e=Re(e));var i=[];switch(e.type){case"GeometryCollection":return O(e,function(e){tr(e,n)}),e;case"FeatureCollection":return D(e,function(e){D(tr(e,n),function(e){i.push(e)})}),l(i)}return tr(e,n)},e.isobands=function(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if($(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!C(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");var s,u,c,h,d,p,m,g,v,y=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,i=t.flags;$(e,"Point","input must contain Points");for(var a=function(e,t){var n={};return D(e,function(e){var t=V(e)[1];n[t]||(n[t]=[]),n[t].push(e)}),Object.keys(n).map(function(e){return n[e].sort(function(e,t){return V(e)[0]-V(t)[0]})}).sort(function(e,n){return t?V(e[0])[1]-V(n[0])[1]:V(n[0])[1]-V(e[0])[1]})}(e,r),o=[],s=0;s<a.length;s++){for(var u=a[s],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===i&&(h.properties.matrixPosition=[s,c])}o.push(l)}return o}(e,{zProperty:r,flip:!0}),_=function(e,t,n){for(var r=[],i=1;i<t.length;i++){var o=+t[i-1],s=+t[i],u=function(e){for(var t=e.map(function(e){return{lrCoordinates:e,grouped:!1}}),n=[];!function(e){for(var t=0;t<e.length;t++)if(!1===e[t].grouped)return!1;return!0}(t);)for(var r=0;r<t.length;r++)if(!t[r].grouped){var i=[];i.push(t[r].lrCoordinates),t[r].grouped=!0;for(var o=a([t[r].lrCoordinates]),s=r+1;s<t.length;s++)t[s].grouped||function(e,t){for(var n=dt(e),r=0;r<n.features.length;r++)if(!Te(n.features[r],t))return!1;return!0}(a([t[s].lrCoordinates]),o)&&(i.push(t[s].lrCoordinates),t[s].grouped=!0);n.push(i)}return n}(function(e){var t=[],n=[];e.forEach(function(e){var r=dn(a([e]));n.push(r),t.push({ring:e,area:r})}),n.sort(function(e,t){return t-e});var r=[];return n.forEach(function(e){for(var n=0;n<t.length;n++)if(t[n].area===e){r.push(t[n].ring),t.splice(n,1);break}}),r}(ir(e,o,s-o))),l={};l.groupedRings=u,l[n]=o+"-"+s,r.push(l)}return r}(y,t,r);return l((s=_,u=y,c=e,h=H(c),d=h[0],p=h[1],m=(h[2]-h[0])/(u[0].length-1),g=(h[3]-h[1])/(u.length-1),v=function(e){e[0]=e[0]*m+d,e[1]=e[1]*g+p},s.forEach(function(e){e.groupedRings.forEach(function(e){e.forEach(function(e){e.forEach(v)})})}),_=s).map(function(e,t){if(o[t]&&!C(o[t]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,o[t]);return n[r]=e[r],f(e.groupedRings,n)}))},e.transformRotate=sr,e.transformScale=ur,e.transformTranslate=function(e,t,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var i=r.units,a=r.zTranslation,o=r.mutate;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");if(a&&"number"!=typeof a&&isNaN(a))throw new Error("zTranslation is not a number");if(a=void 0!==a?a:0,0===t&&0===a)return e;if(null==n||isNaN(n))throw new Error("direction is required");return t<0&&(t=-t,n=-n),!1!==o&&void 0!==o||(e=Re(e)),E(e,function(e){var r=V(Jn(e,t,n,{units:i}));e[0]=r[0],e[1]=r[1],a&&3===e.length&&(e[2]+=a)}),e},e.lineOffset=function(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.units;if(!e)throw new Error("geojson is required");if(null==t||isNaN(t))throw new Error("distance is required");var i=J(e),a=e.properties;switch(i){case"LineString":return fr(e,t,r);case"MultiLineString":var o=[];return R(e,function(e){o.push(fr(e,t,r).geometry.coordinates)}),c(o,a);default:throw new Error("geometry "+i+" is not supported")}},e.polygonize=function(e){var t=ks.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();var n=[],r=[];return t.getEdgeRings().filter(function(e){return e.isValid()}).forEach(function(e){e.isHole()?n.push(e):r.push(e)}),n.forEach(function(e){ws.findEdgeRingContaining(e,r)&&r.push(e)}),l(r.map(function(e){return e.toPolygon()}))},e.booleanDisjoint=function(e,t){var n;return R(e,function(e){R(t,function(t){if(!1===n)return!1;n=function(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return!((n=e.coordinates)[0]===(r=t.coordinates)[0]&&n[1]===r[1]);case"LineString":return!mr(t,e);case"Polygon":return!Te(e,t)}break;case"LineString":switch(t.type){case"Point":return!mr(e,t);case"LineString":return!function(e,t){return Jt(e,t).features.length>0}(e,t);case"Polygon":return!gr(t,e)}break;case"Polygon":switch(t.type){case"Point":return!Te(t,e);case"LineString":return!gr(e,t);case"Polygon":return!function(e,t){for(var n=0;n<e.coordinates[0].length;n++)if(Te(e.coordinates[0][n],t))return!0;for(var r=0;r<t.coordinates[0].length;r++)if(Te(t.coordinates[0][r],e))return!0;return!1}(t,e)}}var n,r}(e.geometry,t.geometry)})}),n},e.booleanContains=function(e,t){var n=J(e),r=J(t),i=X(e),a=X(t),o=V(e),s=V(t);switch(n){case"Point":switch(r){case"Point":return yr(o,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(e,t){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(yr(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,a);case"MultiPoint":return function(e,t){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)if(yr(t.coordinates[n],e.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return bn(a,i,{ignoreEndVertices:!0});case"LineString":return function(e,t){for(var n=!1,r=0;r<t.coordinates.length;r++)if(bn({type:"Point",coordinates:t.coordinates[r]},e,{ignoreEndVertices:!0})&&(n=!0),!bn({type:"Point",coordinates:t.coordinates[r]},e,{ignoreEndVertices:!1}))return!1;return n}(i,a);case"MultiPoint":return function(e,t){for(var n=!1,r=0;r<t.coordinates.length;r++)if(bn(t.coordinates[r],e,{ignoreEndVertices:!0})&&(n=!0),!bn(t.coordinates[r],e))return!1;return!!n}(i,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Te(a,i,{ignoreBoundary:!0});case"LineString":return function(e,t){var n,r,i=!1,a=0;if(!vr(H(e),H(t)))return!1;for(;a<t.coordinates.length-1;a++)if(Te({type:"Point",coordinates:[((n=t.coordinates[a])[0]+(r=t.coordinates[a+1])[0])/2,(n[1]+r[1])/2]},e,{ignoreBoundary:!0})){i=!0;break}return i}(i,a);case"Polygon":return function(e,t){if(!vr(H(e),H(t)))return!1;for(var n=0;n<t.coordinates[0].length;n++)if(!Te(t.coordinates[0][n],e))return!1;return!0}(i,a);case"MultiPoint":return function(e,t){for(var n=0;n<t.coordinates.length;n++)if(!Te(t.coordinates[n],e,{ignoreBoundary:!0}))return!1;return!0}(i,a);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},e.booleanCrosses=function(e,t){var n=J(e),r=J(t),i=X(e),a=X(t);switch(n){case"MultiPoint":switch(r){case"LineString":return _r(i,a);case"Polygon":return wr(i,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return _r(a,i);case"LineString":return function(e,t){if(Jt(e,t).features.length>0)for(var n=0;n<e.coordinates.length-1;n++)for(var r=0;r<t.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==t.coordinates.length-2||(i=!1),xr(e.coordinates[n],e.coordinates[n+1],t.coordinates[r],i))return!0}return!1}(i,a);case"Polygon":return br(i,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return wr(a,i);case"LineString":return br(a,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},e.booleanClockwise=er,e.booleanOverlap=Mr,e.booleanPointOnLine=bn,e.booleanEqual=function(e,t){if(!e)throw new Error("feature1 is required");if(!t)throw new Error("feature2 is required");return J(e)===J(t)&&new Ts({precision:6}).compare(Ze(e),Ze(t))},e.booleanWithin=wn,e.clone=Re,e.cleanCoords=Ze,e.clustersDbscan=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if($(e,"Point","Input must contain Points"),null==t)throw new Error("maxDistance is required");if(!(Math.sign(t)>0))throw new Error("Invalid maxDistance");if(!(null==r||Math.sign(r)>0))throw new Error("Invalid minPoints");e=Re(e),r=r||3;var a=new Ps.DBSCAN,o=-1;return a.run(P(e),w(t,i),r,Ne).forEach(function(t){o++,t.forEach(function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster=o,n.properties.dbscan="core"})}),a.noise.forEach(function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.dbscan=n.properties.cluster?"edge":"noise"}),e},e.clustersKmeans=function(e,t){if("object"!=typeof(t=t||{}))throw new Error("options is invalid");var n=t.numberOfClusters,r=t.mutate;$(e,"Point","Input must contain Points");var i=e.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(e=Re(e));var a=P(e),o=a.slice(0,n),s=function(e,t,n,r){var i=[],a=[],o=[],s=[],u=!1,l=r||1e4,c=e.length,h=e[0].length,f=h>0,d=[];if(n)i="kmrand"==n?function(e,t){for(var n={},r=[],i=t<<2,a=e.length,o=e[0].length>0;r.length<t&&i-- >0;){var s=e[Math.floor(Math.random()*a)],u=o?s.join("_"):""+s;n[u]||(n[u]=!0,r.push(s))}if(r.length<t)throw new Error("Error initializating clusters");return r}(e,t):"kmpp"==n?function(e,t){var n=e[0].length?Ns:Rs,r=[],i=e.length,a=e[0].length>0,o=e[Math.floor(Math.random()*i)];for(a&&o.join("_"),r.push(o);r.length<t;){for(var s=[],u=r.length,l=0,c=[],h=0;h<i;h++){for(var f=1/0,d=0;d<u;d++){var p=n(e[h],r[d]);p<=f&&(f=p)}s[h]=f}for(var m=0;m<i;m++)l+=s[m];for(var g=0;g<i;g++)c[g]={i:g,v:e[g],pr:s[g]/l,cs:0};c.sort(function(e,t){return e.pr-t.pr}),c[0].cs=c[0].pr;for(var v=1;v<i;v++)c[v].cs=c[v-1].cs+c[v].pr;for(var y=Math.random(),_=0;_<i-1&&c[_++].cs<y;);r.push(c[_-1].v)}return r}(e,t):n;else for(var p={};i.length<t;){var m=Math.floor(Math.random()*c);p[m]||(p[m]=!0,i.push(e[m]))}do{Er(t,0,d);for(var g=0;g<c;g++){for(var v=1/0,y=0,_=0;_<t;_++)(s=f?Fs(e[g],i[_]):Math.abs(e[g]-i[_]))<=v&&(v=s,y=_);o[g]=y,d[y]++}for(var b=[],w=(a=[],0);w<t;w++)b[w]=f?Er(h,0,b[w]):0,a[w]=i[w];if(f){for(var x=0;x<t;x++)i[x]=[];for(var k=0;k<c;k++)for(var C=b[o[k]],S=e[k],M=0;M<h;M++)C[M]+=S[M];u=!0;for(var E=0;E<t;E++){for(var T=i[E],L=b[E],I=a[E],D=d[E],A=0;A<h;A++)T[A]=L[A]/D||0;if(u)for(var P=0;P<h;P++)if(I[P]!=T[P]){u=!1;break}}}else{for(var O=0;O<c;O++)b[o[O]]+=e[O];for(var N=0;N<t;N++)i[N]=b[N]/d[N]||0;u=!0;for(var R=0;R<t;R++)if(a[R]!=i[R]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:t,idxs:o,centroids:i}}(a,n,o),u={};return s.centroids.forEach(function(e,t){u[t]=e}),D(e,function(e,t){var n=s.idxs[t];e.properties.cluster=n,e.properties.centroid=u[n]}),e},e.pointToLineDistance=ln,e.booleanParallel=function(e,t){if(!e)throw new Error("line1 is required");if(!t)throw new Error("line2 is required");if("LineString"!==Tr(e,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Tr(t,"line2"))throw new Error("line2 must be a LineString");for(var n=Zt(Ze(e)).features,r=Zt(Ze(t)).features,i=0;i<n.length;i++){var a=n[i].geometry.coordinates;if(!r[i])break;if(s=r[i].geometry.coordinates,y(en((o=a)[0],o[1]))!==y(en(s[0],s[1])))return!1}var o,s;return!0},e.shortestPath=function(e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var a=i.resolution,o=i.minDistance,u=i.obstacles||l([]);if(!e)throw new Error("start is required");if(!n)throw new Error("end is required");if(a&&!k(a)||a<=0)throw new Error("options.resolution must be a number, greater than 0");if(o)throw new Error("options.minDistance is not yet implemented");var c=U(e),h=U(n);switch(e=r(c),n=r(h),J(u)){case"FeatureCollection":if(0===u.features.length)return s([c,h]);break;case"Polygon":u=l([t(X(u))]);break;default:throw new Error("invalid obstacles")}var f=u;f.features.push(e),f.features.push(n);var d=H(ur(at(H(f)),1.15));a||(a=Ne([d[0],d[1]],[d[2],d[1]],i)/100),f.features.pop(),f.features.pop();for(var p=d[0],m=d[1],g=d[2],v=d[3],y=a/Ne([p,m],[g,m],i)*(g-p),_=a/Ne([p,m],[p,v],i)*(v-m),b=g-p,w=v-m,x=(b-Math.floor(b/y)*y)/2,S=[],M=[],E=[],T=[],L=1/0,I=1/0,D=v-(w-Math.floor(w/_)*_)/2,A=0;D>=m;){for(var P=[],O=[],N=p+x,R=0;N<=g;){var F=r([N,D]),Y=function(e,t){for(var n=0;n<t.features.length;n++)if(Te(e,t.features[n]))return!0;return!1}(F,u);P.push(Y?0:1),O.push(N+"|"+D);var z=Ne(F,e);!Y&&z<L&&(L=z,E={x:R,y:A});var j=Ne(F,n);!Y&&j<I&&(I=j,T={x:R,y:A}),N+=y,R++}M.push(P),S.push(O),D-=_,A++}var B=new Ir(M,{diagonal:!0}),V=[c];return Ys.search(B,B.grid[E.y][E.x],B.grid[T.y][T.x]).forEach(function(e){var t=S[e.x][e.y].split("|");V.push([+t[0],+t[1]])}),V.push(h),Ze(s(V))},e.voronoi=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return $(e,"Point","points"),l(function(){function e(e){return new ri(e.map(function(r,i){var a=[Math.round(t(r,i,e)/Ws)*Ws,Math.round(n(r,i,e)/Ws)*Ws];return a.index=i,a.data=r,a}),r)}var t=Pr,n=Or,r=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(n){return arguments.length?(t="function"==typeof n?n:zs(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:zs(+t),e):n},e.extent=function(t){return arguments.length?(r=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},e.size=function(t){return arguments.length?(r=null==t?null:[[0,0],[+t[0],+t[1]]],e):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},e}().x(function(e){return e.geometry.coordinates[0]}).y(function(e){return e.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(e.features).map(ii))},e.ellipse=ai,e.centerMean=si,e.centerMedian=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.counter||10;if(!k(n))throw new Error("counter must be a number");var r=t.weight,i=si(e,{weight:t.weight}),a=l([]);return D(e,function(e){a.features.push(ft(e,{weight:e.properties[r]}))}),a.properties={tolerance:t.tolerance,medianCandidates:[]},ui(i.geometry.coordinates,[0,0],a,n)},e.standardDeviationalEllipse=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.steps||64,r=t.weight,i=t.properties||{};if(!k(n))throw new Error("steps must be a number");if(!C(i))throw new Error("properties must be a number");var a=P(e).length,o=si(e,{weight:r}),s=0,u=0,c=0;D(e,function(e){var t=e.properties[r]||1,n=li(V(e),V(o));s+=Math.pow(n.x,2)*t,u+=Math.pow(n.y,2)*t,c+=n.x*n.y*t});var h=s-u,f=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),d=Math.atan((h+f)/(2*c)),p=180*d/Math.PI,m=0,g=0,v=0;D(e,function(e){var t=e.properties[r]||1,n=li(V(e),V(o));m+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*t,g+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*t,v+=t});var y=Math.sqrt(2*m/v),_=Math.sqrt(2*g/v),b=ai(o,y,_,{units:"degrees",angle:p,steps:n,properties:i}),w=Ie(e,l([b])),x={meanCenterCoordinates:V(o),semiMajorAxis:y,semiMinorAxis:_,numberOfFeatures:a,angle:p,percentageWithinEllipse:100*P(w).length/a};return b.properties.standardDeviationalEllipse=x,b},e.difference=function(e,n){var r=X(e),i=X(n),a=e.properties||{};if(r=Fi(r),i=Fi(i),!r)return null;if(!i)return t(r,a);var o=new ic,s=o.read(r),u=o.read(i),l=sd.difference(s,u);return l.isEmpty()?null:t((new ac).write(l),a)},e.buffer=function(e,t,n){var r=(n=n||{}).units,i=n.steps||64;if(!e)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var a=[];switch(e.type){case"GeometryCollection":return O(e,function(e){var n=pa(e,t,r,i);n&&a.push(n)}),l(a);case"FeatureCollection":return D(e,function(e){var n=pa(e,t,r,i);n&&D(n,function(e){e&&a.push(e)})}),l(a)}return pa(e,t,r,i)},e.union=_a,e.intersect=ba,e.dissolve=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.propertyName;$(e,"Polygon","dissolve");var r=Re(e),i=r.features,a=[];i.forEach(function(e,t){e.properties.origIndexPosition=t});var o=Wt();for(var u in o.load(r),i){var l=i[u],c=!1;if(o.search(l).features.forEach(function(e){l=i[u];var t,r=e.properties.origIndexPosition;if(a.length>0&&0!==r)if(r>a[a.length-1])r-=a.length;else{var h=wa(r,a);0!==h&&(r-=h)}if(r!==+u){var f=i[r];f&&l&&(void 0!==n&&f.properties[n]!==l.properties[n]||Mr(l,f)&&(t=f,Jt(s(P(l)),s(P(t))).features.length>0)&&(i[u]=_a(l,f),a.push(e.properties.origIndexPosition),a.sort(function(e,t){return e-t}),o.remove(e),i.splice(r,1),l.properties.origIndexPosition=u,o.remove(l,function(e,t){return e.properties.origIndexPosition===t.properties.origIndexPosition}),c=!0))}}),c){if(!l)continue;l.properties.origIndexPosition=u,o.insert(l),u--}}return i.forEach(function(e){delete e.properties.origIndexPosition,delete e.bbox}),r},e.hexGrid=xa,e.mask=function(e,t){var n,r=a((n=t)&&n.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]),i=function(e){var t=[],n=[];return R(e,function(e){var r=e.geometry.coordinates,i=r[0],o=r.slice(1);t.push(a([i])),o.forEach(function(e){n.push(a([e]))})}),[l(t),l(n)]}(e),o=i[0],s=i[1];return function(e,t,n){var r=[];return r.push(e.geometry.coordinates[0]),R(t,function(e){r.push(e.geometry.coordinates[0])}),R(n,function(e){r.push(e.geometry.coordinates[0])}),a(r)}(r,o=ka(o),s=ka(s))},e.squareGrid=Sa,e.triangleGrid=Ma,e.interpolate=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,a=n.weight;if(!e)throw new Error("points is required");if($(e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(void 0!==a&&"number"!=typeof a)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",a=a||1;var o,s=H(e);switch(r){case"point":case"points":o=Cn(s,t,n);break;case"square":case"squares":o=Sa(s,t,n);break;case"hex":case"hexes":o=xa(s,t,n);break;case"triangle":case"triangles":o=Ma(s,t,n);break;default:throw new Error("invalid gridType")}var u=[];return D(o,function(t){var o=0,s=0;D(e,function(e){var u,l=Ne("point"===r?t:ft(t),e,n);if(void 0!==i&&(u=e.properties[i]),void 0===u&&(u=e.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(o=u);var c=1/Math.pow(l,a);s+=c,o+=c*u});var l=Re(t);l.properties[i]=o/s,u.push(l)}),l(u)},e.pointOnSurface=hn,e.polygonToLineString=Nn,e.lineStringToPolygon=Fn,e.inside=Te,e.within=Ie,e.bezier=it,e.nearest=Dt,e.pointOnLine=Qt,e.lineDistance=yn,e.radians2degrees=_,e.degrees2radians=b,e.distanceToDegrees=v,e.distanceToRadians=g,e.radiansToDistance=m,e.bearingToAngle=y,e.convertDistance=w,e.toMercator=rn,e.toWgs84=an,e.randomPosition=ci,e.randomPoint=hi,e.randomPolygon=fi,e.randomLineString=di,e.getCluster=mi,e.clusterEach=gi,e.clusterReduce=vi,e.createBins=yi,e.applyFilter=_i,e.propertiesContainsFilter=bi,e.filterProperties=wi,e.earthRadius=Ea,e.factors=Ta,e.unitsFactors=La,e.areaFactors=Ia,e.feature=t,e.geometry=n,e.point=r,e.points=i,e.polygon=a,e.polygons=o,e.lineString=s,e.lineStrings=u,e.featureCollection=l,e.multiLineString=c,e.multiPoint=h,e.multiPolygon=f,e.geometryCollection=d,e.round=p,e.radiansToLength=m,e.lengthToRadians=g,e.lengthToDegrees=v,e.bearingToAzimuth=y,e.radiansToDegrees=_,e.degreesToRadians=b,e.convertLength=w,e.convertArea=x,e.isNumber=k,e.isObject=C,e.validateBBox=S,e.validateId=M,e.getCoord=U,e.getCoords=V,e.containsNumber=G,e.geojsonType=q,e.featureOf=W,e.collectionOf=$,e.getGeom=X,e.getGeomType=Z,e.getType=J,e.coordEach=E,e.coordReduce=T,e.propEach=L,e.propReduce=I,e.featureEach=D,e.featureReduce=A,e.coordAll=P,e.geomEach=O,e.geomReduce=N,e.flattenEach=R,e.flattenReduce=F,e.segmentEach=Y,e.segmentReduce=z,e.lineEach=j,e.lineReduce=B,Object.defineProperty(e,"__esModule",{value:!0})}(t)},88363:function(e,t,n){"use strict";var r=n(8655),i=n(7974),a=n(98420);e.exports={XMLParser:i,XMLValidator:r,XMLBuilder:a}},4528:function(e,t){"use strict";var n="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",r=new RegExp("^"+n+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t)for(var r=Object.keys(t),i=r.length,a=0;a<i;a++)e[r[a]]="strict"===n?[t[r[a]]]:t[r[a]]},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){return!(null==r.exec(e))},t.getAllMatches=function(e,t){for(var n=[],r=t.exec(e);r;){var i=[];i.startIndex=t.lastIndex-r[0].length;for(var a=r.length,o=0;o<a;o++)i.push(r[o]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=n},8655:function(e,t,n){"use strict";var r=n(4528),i={allowBooleanAttributes:!1,unpairedTags:[]};function a(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function o(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var r=e.substr(n,t-n);if(t>5&&"xml"===r)return f("InvalidXml","XML declaration allowed only at the start of the document.",m(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){var n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&0===--n)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function u(e,t){for(var n="",r="",i=!1;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}t.validate=function(e,t){t=Object.assign({},i,t);var n=[],r=!1,l=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(var d=0;d<e.length;d++)if("<"===e[d]&&"?"===e[d+1]){if((d=o(e,d+=2)).err)return d}else{if("<"!==e[d]){if(a(e[d]))continue;return f("InvalidChar","char '"+e[d]+"' is not expected.",m(e,d))}var g=d;if("!"===e[++d]){d=s(e,d);continue}var v=!1;"/"===e[d]&&(v=!0,d++);for(var y="";d<e.length&&">"!==e[d]&&" "!==e[d]&&"\t"!==e[d]&&"\n"!==e[d]&&"\r"!==e[d];d++)y+=e[d];if("/"===(y=y.trim())[y.length-1]&&(y=y.substring(0,y.length-1),d--),!p(y)){return f("InvalidTag",0===y.trim().length?"Invalid space after '<'.":"Tag '"+y+"' is an invalid name.",m(e,d))}var _=u(e,d);if(!1===_)return f("InvalidAttr","Attributes for '"+y+"' have open quote.",m(e,d));var b=_.value;if(d=_.index,"/"===b[b.length-1]){var w=d-b.length,x=c(b=b.substring(0,b.length-1),t);if(!0!==x)return f(x.err.code,x.err.msg,m(e,w+x.err.line));r=!0}else if(v){if(!_.tagClosed)return f("InvalidTag","Closing tag '"+y+"' doesn't have proper closing.",m(e,d));if(b.trim().length>0)return f("InvalidTag","Closing tag '"+y+"' can't have attributes or invalid starting.",m(e,g));var k=n.pop();if(y!==k.tagName){var C=m(e,k.tagStartPos);return f("InvalidTag","Expected closing tag '"+k.tagName+"' (opened in line "+C.line+", col "+C.col+") instead of closing tag '"+y+"'.",m(e,g))}0==n.length&&(l=!0)}else{var S=c(b,t);if(!0!==S)return f(S.err.code,S.err.msg,m(e,d-b.length+S.err.line));if(!0===l)return f("InvalidXml","Multiple possible root nodes found.",m(e,d));-1!==t.unpairedTags.indexOf(y)||n.push({tagName:y,tagStartPos:g}),r=!0}for(d++;d<e.length;d++)if("<"===e[d]){if("!"===e[d+1]){d=s(e,++d);continue}if("?"!==e[d+1])break;if((d=o(e,++d)).err)return d}else if("&"===e[d]){var M=h(e,d);if(-1==M)return f("InvalidChar","char '&' is not expected.",m(e,d));d=M}else if(!0===l&&!a(e[d]))return f("InvalidXml","Extra text at the end",m(e,d));"<"===e[d]&&d--}return r?1==n.length?f("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",m(e,n[0].tagStartPos)):!(n.length>0)||f("InvalidXml","Invalid '"+JSON.stringify(n.map(function(e){return e.tagName}),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):f("InvalidXml","Start tag expected.",1)};var l=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function c(e,t){for(var n=r.getAllMatches(e,l),i={},a=0;a<n.length;a++){if(0===n[a][1].length)return f("InvalidAttr","Attribute '"+n[a][2]+"' has no space in starting.",g(n[a]));if(void 0!==n[a][3]&&void 0===n[a][4])return f("InvalidAttr","Attribute '"+n[a][2]+"' is without value.",g(n[a]));if(void 0===n[a][3]&&!t.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+n[a][2]+"' is not allowed.",g(n[a]));var o=n[a][2];if(!d(o))return f("InvalidAttr","Attribute '"+o+"' is an invalid name.",g(n[a]));if(i.hasOwnProperty(o))return f("InvalidAttr","Attribute '"+o+"' is repeated.",g(n[a]));i[o]=1}return!0}function h(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){var n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);for(var n=0;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function f(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function d(e){return r.isName(e)}function p(e){return r.isName(e)}function m(e,t){var n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function g(e){return e.startIndex+e[1].length}},98420:function(e,t,n){"use strict";var r=n(27990),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function a(e){this.options=Object.assign({},i,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=p),this.processTextOrObjNode=s,this.options.format?(this.indentate=d,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.suppressEmptyNode?(this.buildTextNode=f,this.buildObjNode=l):(this.buildTextNode=c,this.buildObjNode=u),this.buildTextValNode=c,this.buildObjectNode=u,this.replaceEntitiesValue=h,this.buildAttrPairStr=o}function o(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'}function s(e,t,n){var r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function u(e,t,n,r){var i="</"+t+this.tagEndChar,a="";return"?"===t[0]&&(a="?",i=""),n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+a+">"+e+i:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===a.length?this.indentate(r)+"\x3c!--".concat(e,"--\x3e")+this.newLine:this.indentate(r)+"<"+t+n+a+this.tagEndChar+e+this.indentate(r)+i}function l(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function c(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+"<![CDATA[".concat(e,"]]>")+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+"\x3c!--".concat(e,"--\x3e")+this.newLine;var i=this.options.tagValueProcessor(t,e);return""===(i=this.replaceEntitiesValue(i))&&-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode?this.indentate(r)+"<"+t+this.tagEndChar:this.indentate(r)+"<"+t+"/"+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+i+"</"+t+this.tagEndChar}function h(e){if(e&&e.length>0&&this.options.processEntities)for(var t=0;t<this.options.entities.length;t++){var n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e}function f(e,t,n,r){return""===e&&-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode?this.indentate(r)+"<"+t+this.tagEndChar:this.indentate(r)+"<"+t+"/"+this.tagEndChar:""!==e?this.buildTextValNode(e,t,n,r):"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function d(e){return this.options.indentBy.repeat(e)}function p(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}a.prototype.build=function(e){return this.options.preserveOrder?r(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e=_defineProperty({},this.options.arrayNodeName,e)),this.j2x(e,0).val)},a.prototype.j2x=function(e,t){var n="",r="";for(var i in e)if(void 0!==e[i])if(null===e[i])r+="?"===i[0]?this.indentate(t)+"<"+i+"?"+this.tagEndChar:this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){var a=this.isAttribute(i);if(a)n+=this.buildAttrPairStr(a,""+e[i]);else if(i===this.options.textNodeName){var o=this.options.tagValueProcessor(i,""+e[i]);r+=this.replaceEntitiesValue(o)}else r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))for(var s=e[i].length,u=0;u<s;u++){var l=e[i][u];void 0===l||(r+=null===l?"?"===i[0]?this.indentate(t)+"<"+i+"?"+this.tagEndChar:this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof l?this.processTextOrObjNode(l,i,t):this.buildTextNode(l,i,"",t))}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName)for(var c=Object.keys(e[i]),h=c.length,f=0;f<h;f++)n+=this.buildAttrPairStr(c[f],""+e[i][c[f]]);else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}},e.exports=a},27990:function(e){function t(e,o,s,u){var l="",c="";o.format&&o.indentBy.length>0&&(c="\n"+o.indentBy.repeat(u));for(var h=0;h<e.length;h++){var f,d=e[h],p=n(d);if(f=0===s.length?p:"".concat(s,".").concat(p),p!==o.textNodeName)if(p!==o.cdataPropName)if(p!==o.commentPropName)if("?"!==p[0]){var m=c+"<".concat(p).concat(r(d[":@"],o)),g=t(d[p],o,f,u+1);-1!==o.unpairedTags.indexOf(p)?l+=o.suppressUnpairedNode?m+">":m+"/>":l+=g&&0!==g.length||!o.suppressEmptyNode?m+">".concat(g).concat(c,"</").concat(p,">"):m+"/>"}else{var v=r(d[":@"],o),y=d[p][0][o.textNodeName];y=0!==y.length?" "+y:"",l+=("?xml"===p?"":c)+"<".concat(p).concat(y).concat(v,"?>")}else l+=c+"\x3c!--".concat(d[p][0][o.textNodeName],"--\x3e");else l+=c+"<![CDATA[".concat(d[p][0][o.textNodeName],"]]>");else{var _=d[p];i(f,o)||(_=a(_=o.tagValueProcessor(p,_),o)),l+=c+_}}return l}function n(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];if(":@"!==r)return r}}function r(e,t){var n="";if(e&&!t.ignoreAttributes)for(var r in e){var i=t.attributeValueProcessor(r,e[r]);n+=!0===(i=a(i,t))&&t.suppressBooleanAttributes?" ".concat(r.substr(t.attributeNamePrefix.length)):" ".concat(r.substr(t.attributeNamePrefix.length),'="').concat(i,'"')}return n}function i(e,t){var n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(var r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function a(e,t){if(e&&e.length>0&&t.processEntities)for(var n=0;n<t.entities.length;n++){var r=t.entities[n];e=e.replace(r.regex,r.val)}return e}e.exports=function(e,n){return t(e,n,"",0)}},24824:function(e){var t=RegExp("^\\s([a-zA-z0-0]+)[ \t](['\"])([^&]+)\\2");function n(e,n){var r=t.exec(e);r&&(n[r[1]]={regx:RegExp("&".concat(r[1],";"),"g"),val:r[3]})}e.exports=function(e,t){var r={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");t+=9;for(var i=1,a=!1,o=!1,s=!1,u="";t<e.length;t++)if("<"===e[t]){if(a&&"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7])t+=7,o=!0;else if(a&&"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8])t+=8;else{if("!"!==e[t+1]||"-"!==e[t+2]||"-"!==e[t+3])throw new Error("Invalid DOCTYPE");s=!0}i++,u=""}else if(">"===e[t]){if(s){if("-"!==e[t-1]||"-"!==e[t-2])throw new Error("Invalid XML comment in DOCTYPE");s=!1}else o&&(n(u,r),o=!1);if(0===--i)break}else"["===e[t]?a=!0:u+=e[t];if(0!==i)throw new Error("Unclosed DOCTYPE");return{entities:r,i:t}}},6733:function(e,t){var n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:function(){return!1},commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1};t.buildOptions=function(e){return Object.assign({},n,e)},t.defaultOptions=n},65484:function(e,t,n){"use strict";var r=n(4528),i=n(9702),a=n(24824),o=n(93221);function s(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function u(e,t,n,r,i,a,o){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));var s=this.options.tagValueProcessor(t,e,n,i,a);return null==s?e:typeof s!=typeof e||s!==e?s:this.options.trimValues||e.trim()===e?_(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function l(e){if(this.options.removeNSPrefix){var t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);var c=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(e,t){if(!this.options.ignoreAttributes&&"string"==typeof e){for(var n=r.getAllMatches(e,c),i=n.length,a={},o=0;o<i;o++){var s=this.resolveNameSpace(n[o][1]),u=n[o][4],l=this.options.attributeNamePrefix+s;if(s.length)if(void 0!==u){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);var h=this.options.attributeValueProcessor(s,u,t);a[l]=null==h?u:typeof h!=typeof u||h!==u?h:_(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(a[l]=!0)}if(!Object.keys(a).length)return;if(this.options.attributesGroupName){var f={};return f[this.options.attributesGroupName]=a,f}return a}}var f=function(e){e=e.replace(/\r\n?/g,"\n");for(var t=new i("!xml"),n=t,r="",o="",s=0;s<e.length;s++)if("<"===e[s])if("/"===e[s+1]){var u=g(e,">",s,"Closing Tag is not closed."),l=e.substring(s+2,u).trim();if(this.options.removeNSPrefix){var c=l.indexOf(":");-1!==c&&(l=l.substr(c+1))}n&&(r=this.saveTextToParentTag(r,n,o)),o=o.substr(0,o.lastIndexOf(".")),n=this.tagsNodeStack.pop(),r="",s=u}else if("?"===e[s+1]){var h=v(e,s,!1,"?>");if(!h)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,o),!(this.options.ignoreDeclaration&&"?xml"===h.tagName||this.options.ignorePiTags)){var f=new i(h.tagName);f.add(this.options.textNodeName,""),h.tagName!==h.tagExp&&h.attrExpPresent&&(f[":@"]=this.buildAttributesMap(h.tagExp,o)),n.addChild(f)}s=h.closeIndex+1}else if("!--"===e.substr(s+1,3)){var d=g(e,"--\x3e",s+4,"Comment is not closed.");if(this.options.commentPropName){var p=e.substring(s+4,d-2);r=this.saveTextToParentTag(r,n,o),n.add(this.options.commentPropName,[_defineProperty({},this.options.textNodeName,p)])}s=d}else if("!D"===e.substr(s+1,2)){var m=a(e,s);this.docTypeEntities=m.entities,s=m.i}else if("!["===e.substr(s+1,2)){var y=g(e,"]]>",s,"CDATA is not closed.")-2,_=e.substring(s+9,y);if(r=this.saveTextToParentTag(r,n,o),this.options.cdataPropName)n.add(this.options.cdataPropName,[_defineProperty({},this.options.textNodeName,_)]);else{var b=this.parseTextData(_,n.tagname,o,!0,!1,!0);null==b&&(b=""),n.add(this.options.textNodeName,b)}s=y+2}else{var w=v(e,s,this.options.removeNSPrefix),x=w.tagName,k=w.tagExp,C=w.attrExpPresent,S=w.closeIndex;n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,o,!1)),x!==t.tagname&&(o+=o?"."+x:x);var M=n;if(M&&-1!==this.options.unpairedTags.indexOf(M.tagname)&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,o,x)){var E="";if(k.length>0&&k.lastIndexOf("/")===k.length-1)s=w.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(x))s=w.closeIndex;else{var T=this.readStopNodeData(e,x,S+1);if(!T)throw new Error("Unexpected end of ".concat(x));s=T.i,E=T.tagContent}var L=new i(x);x!==k&&C&&(L[":@"]=this.buildAttributesMap(k,o)),E&&(E=this.parseTextData(E,x,o,!0,C,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),L.add(this.options.textNodeName,E),n.addChild(L)}else{if(k.length>0&&k.lastIndexOf("/")===k.length-1){"/"===x[x.length-1]?k=x=x.substr(0,x.length-1):k=k.substr(0,k.length-1);var I=new i(x);x!==k&&C&&(I[":@"]=this.buildAttributesMap(k,o)),o=o.substr(0,o.lastIndexOf(".")),n.addChild(I)}else{var D=new i(x);this.tagsNodeStack.push(n),x!==k&&C&&(D[":@"]=this.buildAttributesMap(k,o)),n.addChild(D),n=D}r="",s=S}}else r+=e[s];return t.child},d=function(e){if(this.options.processEntities){for(var t in this.docTypeEntities){var n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(var r in this.lastEntities){var i=this.lastEntities[r];e=e.replace(i.regex,i.val)}if(this.options.htmlEntities)for(var a in this.htmlEntities){var o=this.htmlEntities[a];e=e.replace(o.regex,o.val)}}return e};function p(e,t,n,r){return e&&(void 0===r&&(r=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function m(e,t,n){var r="*."+n;for(var i in e){var a=e[i];if(r===a||t===a)return!0}return!1}function g(e,t,n,r){var i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}function v(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",i=function(e,t){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",i="",a=t;a<e.length;a++){var o=e[a];if(n)o===n&&(n="");else if('"'===o||"'"===o)n=o;else if(o===r[0]){if(!r[1])return{data:i,index:a};if(e[a+1]===r[1])return{data:i,index:a}}else"\t"===o&&(o=" ");i+=o}}(e,t+1,r);if(i){var a=i.data,o=i.index,s=a.search(/\s/),u=a,l=!0;if(-1!==s&&(u=a.substr(0,s).replace(/\s\s*$/,""),a=a.substr(s+1)),n){var c=u.indexOf(":");-1!==c&&(l=(u=u.substr(c+1))!==i.data.substr(c+1))}return{tagName:u,tagExp:a,closeIndex:o,attrExpPresent:l}}}function y(e,t,n){for(var r=n,i=1;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){var a=g(e,">",n,"".concat(t," is not closed"));if(e.substring(n+2,a).trim()===t&&0===--i)return{tagContent:e.substring(r,n),i:a};n=a}else{var o=v(e,n,">");o&&((o&&o.tagName)===t&&i++,n=o.closeIndex)}}function _(e,t,n){if(t&&"string"==typeof e){var i=e.trim();return"true"===i||"false"!==i&&o(e,n)}return r.isExist(e)?e:""}e.exports=function(){return _createClass(function e(t){_classCallCheck(this,e),this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={amp:{regex:/&(amp|#38|#x26);/g,val:"&"},apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"\u20ac"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"\u20b9"}},this.addExternalEntities=s,this.parseXml=f,this.parseTextData=u,this.resolveNameSpace=l,this.buildAttributesMap=h,this.isItStopNode=m,this.replaceEntitiesValue=d,this.readStopNodeData=y,this.saveTextToParentTag=p})}()},7974:function(e,t,n){var r=n(6733).buildOptions,i=n(65484),a=n(28999).prettify,o=n(8655);e.exports=function(){function e(t){_classCallCheck(this,e),this.externalEntities={},this.options=r(t)}return _createClass(e,[{key:"parse",value:function(e,t){if("string"!=typeof e){if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});var n=o.validate(e,t);if(!0!==n)throw Error("".concat(n.err.msg,":").concat(n.err.line,":").concat(n.err.col))}var r=new i(this.options);r.addExternalEntities(this.externalEntities);var s=r.parseXml(e);return this.options.preserveOrder||void 0===s?s:a(s,this.options)}},{key:"addEntity",value:function(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");this.externalEntities[e]=t}}]),e}()},28999:function(e,t){"use strict";function n(e,t,o){for(var s,u={},l=0;l<e.length;l++){var c,h=e[l],f=r(h);if(c=void 0===o?f:o+"."+f,f===t.textNodeName)void 0===s?s=h[f]:s+=""+h[f];else{if(void 0===f)continue;if(h[f]){var d=n(h[f],t,c),p=a(d,t);h[":@"]?i(d,h[":@"],c,t):1!==Object.keys(d).length||void 0===d[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(d).length&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""):d=d[t.textNodeName],void 0!==u[f]&&u.hasOwnProperty(f)?(Array.isArray(u[f])||(u[f]=[u[f]]),u[f].push(d)):u[f]=t.isArray(f,c,p)?[d]:d}}}return"string"==typeof s?s.length>0&&(u[t.textNodeName]=s):void 0!==s&&(u[t.textNodeName]=s),u}function r(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];if(":@"!==r)return r}}function i(e,t,n,r){if(t)for(var i=Object.keys(t),a=i.length,o=0;o<a;o++){var s=i[o];e[s]=r.isArray(s,n+"."+s,!0,!0)?[t[s]]:t[s]}}function a(e,t){var n=Object.keys(e).length;return!!(0===n||1===n&&e[t.textNodeName])}t.prettify=function(e,t){return n(e,t)}},9702:function(e){"use strict";e.exports=function(){function e(t){_classCallCheck(this,e),this.tagname=t,this.child=[],this[":@"]={}}return _createClass(e,[{key:"add",value:function(e,t){this.child.push(_defineProperty({},e,t))}},{key:"addChild",value:function(e){var t;e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push((_defineProperty(t={},e.tagname,e.child),_defineProperty(t,":@",e[":@"]),t)):this.child.push(_defineProperty({},e.tagname,e.child))}}]),e}()},11524:function(e,t,n){var r;!function(i,a,o,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=a.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(e,t,n){return setTimeout(w(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=i.console&&(i.console.warn||i.console.log);return a&&a.call(i.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var y=v(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),_=v(function(e,t){return y(e,t,!0)},"merge","Use `assign`.");function b(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function x(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function k(e,t){return e===s?t:e}function C(e,t,n){g(T(t),function(t){e.addEventListener(t,n,!1)})}function S(e,t,n){g(T(t),function(t){e.removeEventListener(t,n,!1)})}function M(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function E(e,t){return e.indexOf(t)>-1}function T(e){return e.trim().split(/\s+/g)}function L(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function I(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var r=[],i=[],a=0;a<e.length;){var o=t?e[a][t]:e[a];L(i,o)<0&&r.push(e[a]),i[a]=o,a++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function A(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),a=0;a<l.length;){if((r=(n=l[a])?n+i:t)in e)return r;a++}return s}var P=1;function O(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N="ontouchstart"in i,R=A(i,"PointerEvent")!==s,F=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Y="touch",z="mouse",j=["x","y"],B=["clientX","clientY"];function H(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){x(e.options.enable,[e])&&n.handler(t)},this.init()}function U(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,a=1&t&&r-i==0,o=12&t&&r-i==0;n.isFirst=!!a,n.isFinal=!!o,a&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=V(t)),i>1&&!n.firstMultiple?n.firstMultiple=V(t):1===i&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,u=o?o.center:a.center,l=t.center=G(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=X(u,l),t.distance=$(u,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},a=e.prevInput||{};(1===t.eventType||4===a.eventType)&&(i=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=W(t.deltaX,t.deltaY);var c=q(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=f(c.x)>f(c.y)?c.x:c.y,t.scale=o?function(e,t){return $(t[0],t[1],B)/$(e[0],e[1],B)}(o.pointers,r):1,t.rotation=o?function(e,t){return X(t[1],t[0],B)+X(e[1],e[0],B)}(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,a,o=e.lastInterval||t,u=t.timeStamp-o.timeStamp;if(8!=t.eventType&&(u>25||o.velocity===s)){var l=t.deltaX-o.deltaX,c=t.deltaY-o.deltaY,h=q(u,l,c);r=h.x,i=h.y,n=f(h.x)>f(h.y)?h.x:h.y,a=W(l,c),e.lastInterval=t}else n=o.velocity,r=o.velocityX,i=o.velocityY,a=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=a}(n,t);var h=e.element;M(t.srcEvent.target,h)&&(h=t.srcEvent.target),t.target=h}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function V(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:h(n/t),y:h(r/t)}}function q(e,t,n){return{x:t/e||0,y:n/e||0}}function W(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function $(e,t,n){n||(n=j);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function X(e,t,n){return n||(n=j),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(O(this.element),this.evWin,this.domHandler)}};var Z={mousedown:1,mousemove:2,mouseup:4},J="mousedown",K="mousemove mouseup";function Q(){this.evEl=J,this.evWin=K,this.pressed=!1,H.apply(this,arguments)}b(Q,H,{handler:function(e){var t=Z[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:z,srcEvent:e}))}});var ee={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},te={2:Y,3:"pen",4:z,5:"kinect"},ne="pointerdown",re="pointermove pointerup pointercancel";function ie(){this.evEl=ne,this.evWin=re,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(ne="MSPointerDown",re="MSPointerMove MSPointerUp MSPointerCancel"),b(ie,H,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=ee[r],a=te[e.pointerType]||e.pointerType,o=a==Y,s=L(t,e.pointerId,"pointerId");1&i&&(0===e.button||o)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),!(s<0)&&(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},oe="touchstart",se="touchstart touchmove touchend touchcancel";function ue(){this.evTarget=oe,this.evWin=se,this.started=!1,H.apply(this,arguments)}function le(e,t){var n=I(e.touches),r=I(e.changedTouches);return 12&t&&(n=D(n.concat(r),"identifier",!0)),[n,r]}b(ue,H,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=le.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Y,srcEvent:e})}}});var ce={touchstart:1,touchmove:2,touchend:4,touchcancel:8},he="touchstart touchmove touchend touchcancel";function fe(){this.evTarget=he,this.targetIds={},H.apply(this,arguments)}function de(e,t){var n=I(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,a,o=I(e.changedTouches),s=[],u=this.target;if(a=n.filter(function(e){return M(e.target,u)}),1===t)for(i=0;i<a.length;)r[a[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&s.push(o[i]),12&t&&delete r[o[i].identifier],i++;return s.length?[D(a.concat(s),"identifier",!0),s]:void 0}function pe(){H.apply(this,arguments);var e=w(this.handler,this);this.touch=new fe(this.manager,e),this.mouse=new Q(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function me(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ge.call(this,t)):12&e&&ge.call(this,t)}function ge(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},2500)}}function ve(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(t-i.x),o=Math.abs(n-i.y);if(a<=25&&o<=25)return!0}return!1}b(fe,H,{handler:function(e){var t=ce[e.type],n=de.call(this,e,t);!n||this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Y,srcEvent:e})}}),b(pe,H,{handler:function(e,t,n){var r=n.pointerType==z;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(n.pointerType==Y)me.call(this,t,n);else if(r&&ve.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ye=A(c.style,"touchAction"),_e=ye!==s,be="compute",we="manipulation",xe="none",ke="pan-x",Ce="pan-y",Se=function(){if(!_e)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||i.CSS.supports("touch-action",n)}),e}();function Me(e,t){this.manager=e,this.set(t)}function Ee(e){this.options=u({},this.defaults,e||{}),this.id=P++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Te(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Le(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ie(e,t){var n=t.manager;return n?n.get(e):e}function De(){Ee.apply(this,arguments)}function Ae(){De.apply(this,arguments),this.pX=null,this.pY=null}function Pe(){De.apply(this,arguments)}function Oe(){Ee.apply(this,arguments),this._timer=null,this._input=null}function Ne(){De.apply(this,arguments)}function Re(){De.apply(this,arguments)}function Fe(){Ee.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ye(e,t){return(t=t||{}).recognizers=k(t.recognizers,Ye.defaults.preset),new ze(e,t)}function ze(e,t){this.options=u({},Ye.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(R?ie:F?fe:N?pe:Q))(e,U)}(this),this.touchAction=new Me(this,this.options.touchAction),je(this,!0),g(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function je(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,function(i,a){n=A(r.style,a),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}Me.prototype={set:function(e){e==be&&(e=this.compute()),_e&&this.manager.element.style&&Se[e]&&(this.manager.element.style[ye]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,function(t){x(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(E(e,xe))return xe;var t=E(e,ke),n=E(e,Ce);return t&&n?xe:t||n?t?ke:Ce:E(e,we)?we:"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var r=this.actions,i=E(r,xe)&&!Se[xe],a=E(r,Ce)&&!Se[Ce],o=E(r,ke)&&!Se[ke];if(i&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;return o&&a||!(i||a&&6&n||o&&24&n)?void 0:this.preventSrc(t)}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},Ee.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ie(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=Ie(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===L(t,e=Ie(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=Ie(e,this);var t=L(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Te(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Te(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!x(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(De,Ee,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),b(Ae,De,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Ce),24&e&&t.push(ke),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,a=e.deltaX,o=e.deltaY;return i&t.direction||(6&t.direction?(i=0===a?1:a<0?2:4,n=a!=this.pX,r=Math.abs(e.deltaX)):(i=0===o?1:o<0?8:16,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return De.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Le(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(Pe,De,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),b(Oe,Ee,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p(function(){this.state=8,this.tryEmit()},t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),b(Ne,De,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Re,De,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ae.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Le(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(Fe,Ee,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[we]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||$(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&a?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ye.VERSION="2.0.7",Ye.defaults={domEvents:!1,touchAction:be,enable:!0,inputTarget:null,inputClass:null,preset:[[Ne,{enable:!1}],[Pe,{enable:!1},["rotate"]],[Re,{direction:6}],[Ae,{direction:6},["swipe"]],[Fe],[Fe,{event:"doubletap",taps:2},["tap"]],[Oe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ze.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var a=0;a<r.length;)n=r[a],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),a++}},get:function(e){if(e instanceof Ee)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=L(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return g(T(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return g(T(e),function(e){t?n[e]&&n[e].splice(L(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=a.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&je(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ye,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:ze,Input:H,TouchAction:Me,TouchInput:fe,MouseInput:Q,PointerEventInput:ie,TouchMouseInput:pe,SingleTouchInput:ue,Recognizer:Ee,AttrRecognizer:De,Tap:Fe,Pan:Ae,Swipe:Re,Pinch:Pe,Rotate:Ne,Press:Oe,on:C,off:S,each:g,merge:_,extend:y,assign:u,inherit:b,bindFn:w,prefixed:A}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Ye,(r=(function(){return Ye}).call(t,n,t,e))!==s&&(e.exports=r)}(window,document)},9588:function(e,t,n){var r;!function(){var i;function a(e){var t,n,r,i="",a=-1;if(e&&e.length)for(r=e.length;(a+=1)<r;)t=e.charCodeAt(a),n=a+1<r?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),a+=1),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t){return e<<t|e>>>32-t}function u(e,t){for(var n,r=t?"0123456789ABCDEF":"0123456789abcdef",i="",a=0,o=e.length;a<o;a+=1)n=e.charCodeAt(a),i+=r.charAt(n>>>4&15)+r.charAt(15&n);return i}function l(e){var t,n=32*e.length,r="";for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>24-t%32&255);return r}function c(e){var t,n=32*e.length,r="";for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function h(e){var t,n=8*e.length,r=Array(e.length>>2),i=r.length;for(t=0;t<i;t+=1)r[t]=0;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function f(e){var t,n=8*e.length,r=Array(e.length>>2),i=r.length;for(t=0;t<i;t+=1)r[t]=0;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<24-t%32;return r}function d(e,t){var n,r,i,a,o,s,u,l,c=t.length,h=Array();for(a=(s=Array(Math.ceil(e.length/2))).length,n=0;n<a;n+=1)s[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);for(;s.length>0;){for(o=Array(),i=0,n=0;n<s.length;n+=1)i=(i<<16)+s[n],i-=(r=Math.floor(i/c))*c,(o.length>0||r>0)&&(o[o.length]=r);h[h.length]=i,s=o}for(u="",n=h.length-1;n>=0;n--)u+=t.charAt(h[n]);for(l=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),n=u.length;n<l;n+=1)u=t[0]+u;return u}function p(e,t){var n,r,i,a="",o=e.length;for(t=t||"=",n=0;n<o;n+=3)for(i=e.charCodeAt(n)<<16|(n+1<o?e.charCodeAt(n+1)<<8:0)|(n+2<o?e.charCodeAt(n+2):0),r=0;r<4;r+=1)a+=8*n+6*r>8*e.length?t:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63);return a}i={VERSION:"1.0.6",Base64:function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="=",n=!0;this.encode=function(r){var i,o,s,u="",l=r.length;for(t=t||"=",r=n?a(r):r,i=0;i<l;i+=3)for(s=r.charCodeAt(i)<<16|(i+1<l?r.charCodeAt(i+1)<<8:0)|(i+2<l?r.charCodeAt(i+2):0),o=0;o<4;o+=1)u+=8*i+6*o>8*l?t:e.charAt(s>>>6*(3-o)&63);return u},this.decode=function(r){var i,a,o,s,u,l,c,h,f,d=[];if(!r)return r;i=h=0,r=r.replace(new RegExp("\\"+t,"gi"),"");do{a=(c=e.indexOf(r.charAt(i+=1))<<18|e.indexOf(r.charAt(i+=1))<<12|(u=e.indexOf(r.charAt(i+=1)))<<6|(l=e.indexOf(r.charAt(i+=1))))>>16&255,o=c>>8&255,s=255&c,d[h+=1]=64===u?String.fromCharCode(a):64===l?String.fromCharCode(a,o):String.fromCharCode(a,o,s)}while(i<r.length);return f=d.join(""),n?function(e){var t,n,r,i,a,o,s=[];if(t=n=r=i=a=0,e&&e.length)for(o=e.length,e+="";t<o;)n+=1,(r=e.charCodeAt(t))<128?(s[n]=String.fromCharCode(r),t+=1):r>191&&r<224?(i=e.charCodeAt(t+1),s[n]=String.fromCharCode((31&r)<<6|63&i),t+=2):(i=e.charCodeAt(t+1),a=e.charCodeAt(t+2),s[n]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a),t+=3);return s.join("")}(f):f},this.setPad=function(e){return t=e||t,this},this.setTab=function(t){return e=t||e,this},this.setUTF8=function(e){return"boolean"==typeof e&&(n=e),this}},CRC32:function(e){var t,n,r,i=0,o=0;for(e=a(e),t=["00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ","79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ","84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ","63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ","A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ","51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ","B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ","06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ","E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ","12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ","D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ","33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ","CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ","9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ","7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ","806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ","60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ","AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ","5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ","B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ","05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ","F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ","11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ","D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ","30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ","C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"].join(""),i^=-1,n=0,r=e.length;n<r;n+=1)o=255&(i^e.charCodeAt(n)),i=i>>>8^"0x"+t.substr(9*o,8);return(-1^i)>>>0},MD5:function(e){var t=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e){return c(f(h(e=r?a(e):e),8*e.length))}function l(e,t){var n,i,o,s,u;for(e=r?a(e):e,t=r?a(t):t,(n=h(e)).length>16&&(n=f(n,8*e.length)),i=Array(16),o=Array(16),u=0;u<16;u+=1)i[u]=909522486^n[u],o[u]=1549556828^n[u];return s=f(i.concat(h(t)),512+8*t.length),c(f(o.concat(s),640))}function f(e,t){var n,r,i,a,s,u=1732584193,l=-271733879,c=-1732584194,h=271733878;for(e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t,n=0;n<e.length;n+=16)r=u,i=l,a=c,s=h,u=g(u,l,c,h,e[n+0],7,-680876936),h=g(h,u,l,c,e[n+1],12,-389564586),c=g(c,h,u,l,e[n+2],17,606105819),l=g(l,c,h,u,e[n+3],22,-1044525330),u=g(u,l,c,h,e[n+4],7,-176418897),h=g(h,u,l,c,e[n+5],12,1200080426),c=g(c,h,u,l,e[n+6],17,-1473231341),l=g(l,c,h,u,e[n+7],22,-45705983),u=g(u,l,c,h,e[n+8],7,1770035416),h=g(h,u,l,c,e[n+9],12,-1958414417),c=g(c,h,u,l,e[n+10],17,-42063),l=g(l,c,h,u,e[n+11],22,-1990404162),u=g(u,l,c,h,e[n+12],7,1804603682),h=g(h,u,l,c,e[n+13],12,-40341101),c=g(c,h,u,l,e[n+14],17,-1502002290),u=v(u,l=g(l,c,h,u,e[n+15],22,1236535329),c,h,e[n+1],5,-165796510),h=v(h,u,l,c,e[n+6],9,-1069501632),c=v(c,h,u,l,e[n+11],14,643717713),l=v(l,c,h,u,e[n+0],20,-373897302),u=v(u,l,c,h,e[n+5],5,-701558691),h=v(h,u,l,c,e[n+10],9,38016083),c=v(c,h,u,l,e[n+15],14,-660478335),l=v(l,c,h,u,e[n+4],20,-405537848),u=v(u,l,c,h,e[n+9],5,568446438),h=v(h,u,l,c,e[n+14],9,-1019803690),c=v(c,h,u,l,e[n+3],14,-187363961),l=v(l,c,h,u,e[n+8],20,1163531501),u=v(u,l,c,h,e[n+13],5,-1444681467),h=v(h,u,l,c,e[n+2],9,-51403784),c=v(c,h,u,l,e[n+7],14,1735328473),u=y(u,l=v(l,c,h,u,e[n+12],20,-1926607734),c,h,e[n+5],4,-378558),h=y(h,u,l,c,e[n+8],11,-2022574463),c=y(c,h,u,l,e[n+11],16,1839030562),l=y(l,c,h,u,e[n+14],23,-35309556),u=y(u,l,c,h,e[n+1],4,-1530992060),h=y(h,u,l,c,e[n+4],11,1272893353),c=y(c,h,u,l,e[n+7],16,-155497632),l=y(l,c,h,u,e[n+10],23,-1094730640),u=y(u,l,c,h,e[n+13],4,681279174),h=y(h,u,l,c,e[n+0],11,-358537222),c=y(c,h,u,l,e[n+3],16,-722521979),l=y(l,c,h,u,e[n+6],23,76029189),u=y(u,l,c,h,e[n+9],4,-640364487),h=y(h,u,l,c,e[n+12],11,-421815835),c=y(c,h,u,l,e[n+15],16,530742520),u=_(u,l=y(l,c,h,u,e[n+2],23,-995338651),c,h,e[n+0],6,-198630844),h=_(h,u,l,c,e[n+7],10,1126891415),c=_(c,h,u,l,e[n+14],15,-1416354905),l=_(l,c,h,u,e[n+5],21,-57434055),u=_(u,l,c,h,e[n+12],6,1700485571),h=_(h,u,l,c,e[n+3],10,-1894986606),c=_(c,h,u,l,e[n+10],15,-1051523),l=_(l,c,h,u,e[n+1],21,-2054922799),u=_(u,l,c,h,e[n+8],6,1873313359),h=_(h,u,l,c,e[n+15],10,-30611744),c=_(c,h,u,l,e[n+6],15,-1560198380),l=_(l,c,h,u,e[n+13],21,1309151649),u=_(u,l,c,h,e[n+4],6,-145523070),h=_(h,u,l,c,e[n+11],10,-1120210379),c=_(c,h,u,l,e[n+2],15,718787259),l=_(l,c,h,u,e[n+9],21,-343485551),u=o(u,r),l=o(l,i),c=o(c,a),h=o(h,s);return Array(u,l,c,h)}function m(e,t,n,r,i,a){return o(s(o(o(t,e),o(r,a)),i),n)}function g(e,t,n,r,i,a,o){return m(t&n|~t&r,e,t,i,a,o)}function v(e,t,n,r,i,a,o){return m(t&r|n&~r,e,t,i,a,o)}function y(e,t,n,r,i,a,o){return m(t^n^r,e,t,i,a,o)}function _(e,t,n,r,i,a,o){return m(n^(t|~r),e,t,i,a,o)}this.hex=function(e){return u(i(e),t)},this.b64=function(e){return p(i(e),n)},this.any=function(e,t){return d(i(e),t)},this.raw=function(e){return i(e)},this.hex_hmac=function(e,n){return u(l(e,n),t)},this.b64_hmac=function(e,t){return p(l(e,t),n)},this.any_hmac=function(e,t,n){return d(l(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(t=e),this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},SHA1:function(e){var t=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e){return l(h(f(e=r?a(e):e),8*e.length))}function c(e,t){var n,i,o,s,u;for(e=r?a(e):e,t=r?a(t):t,(n=f(e)).length>16&&(n=h(n,8*e.length)),i=Array(16),o=Array(16),s=0;s<16;s+=1)i[s]=909522486^n[s],o[s]=1549556828^n[s];return u=h(i.concat(f(t)),512+8*t.length),l(h(o.concat(u),672))}function h(e,t){var n,r,i,a,u,l,c,h,f=Array(80),d=1732584193,p=-271733879,v=-1732584194,y=271733878,_=-1009589776;for(e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t,n=0;n<e.length;n+=16){for(a=d,u=p,l=v,c=y,h=_,r=0;r<80;r+=1)f[r]=r<16?e[n+r]:s(f[r-3]^f[r-8]^f[r-14]^f[r-16],1),i=o(o(s(d,5),m(r,p,v,y)),o(o(_,f[r]),g(r))),_=y,y=v,v=s(p,30),p=d,d=i;d=o(d,a),p=o(p,u),v=o(v,l),y=o(y,c),_=o(_,h)}return Array(d,p,v,y,_)}function m(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function g(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}this.hex=function(e){return u(i(e),t)},this.b64=function(e){return p(i(e),n)},this.any=function(e,t){return d(i(e),t)},this.raw=function(e){return i(e)},this.hex_hmac=function(e,t){return u(c(e,t))},this.b64_hmac=function(e,t){return p(c(e,t),n)},this.any_hmac=function(e,t,n){return d(c(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(t=e),this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},SHA256:function(e){var t,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e,t){return l(w(f(e=t?a(e):e),8*e.length))}function s(e,t){e=r?a(e):e,t=r?a(t):t;var n,i=0,o=f(e),s=Array(16),u=Array(16);for(o.length>16&&(o=w(o,8*e.length));i<16;i+=1)s[i]=909522486^o[i],u[i]=1549556828^o[i];return n=w(s.concat(f(t)),512+8*t.length),l(w(u.concat(n),768))}function c(e,t){return e>>>t|e<<32-t}function h(e,t){return e>>>t}function m(e,t,n){return e&t^~e&n}function g(e,t,n){return e&t^e&n^t&n}function v(e){return c(e,2)^c(e,13)^c(e,22)}function y(e){return c(e,6)^c(e,11)^c(e,25)}function _(e){return c(e,7)^c(e,18)^h(e,3)}function b(e){return c(e,17)^c(e,19)^h(e,10)}function w(e,n){var r,i,a,s,u,l,c,h,f,d,p,w,x=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],k=new Array(64);for(e[n>>5]|=128<<24-n%32,e[15+(n+64>>9<<4)]=n,f=0;f<e.length;f+=16){for(r=x[0],i=x[1],a=x[2],s=x[3],u=x[4],l=x[5],c=x[6],h=x[7],d=0;d<64;d+=1)k[d]=d<16?e[d+f]:o(o(o(b(k[d-2]),k[d-7]),_(k[d-15])),k[d-16]),p=o(o(o(o(h,y(u)),m(u,l,c)),t[d]),k[d]),w=o(v(r),g(r,i,a)),h=c,c=l,l=u,u=o(s,p),s=a,a=i,i=r,r=o(p,w);x[0]=o(r,x[0]),x[1]=o(i,x[1]),x[2]=o(a,x[2]),x[3]=o(s,x[3]),x[4]=o(u,x[4]),x[5]=o(l,x[5]),x[6]=o(c,x[6]),x[7]=o(h,x[7])}return x}this.hex=function(e){return u(i(e,r))},this.b64=function(e){return p(i(e,r),n)},this.any=function(e,t){return d(i(e,r),t)},this.raw=function(e){return i(e,r)},this.hex_hmac=function(e,t){return u(s(e,t))},this.b64_hmac=function(e,t){return p(s(e,t),n)},this.any_hmac=function(e,t,n){return d(s(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this},t=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998]},SHA512:function(e){var t,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e){return l(s(f(e=r?a(e):e),8*e.length))}function o(e,t){e=r?a(e):e,t=r?a(t):t;var n,i=0,o=f(e),u=Array(32),c=Array(32);for(o.length>32&&(o=s(o,8*e.length));i<32;i+=1)u[i]=909522486^o[i],c[i]=1549556828^o[i];return n=s(u.concat(f(t)),1024+8*t.length),l(s(c.concat(n),1536))}function s(e,n){var r,i,a,o=new Array(80),s=new Array(16),u=[new c(1779033703,-205731576),new c(-1150833019,-2067093701),new c(1013904242,-23791573),new c(-1521486534,1595750129),new c(1359893119,-1377402159),new c(-1694144372,725511199),new c(528734635,-79577749),new c(1541459225,327033209)],l=new c(0,0),f=new c(0,0),d=new c(0,0),p=new c(0,0),w=new c(0,0),x=new c(0,0),k=new c(0,0),C=new c(0,0),S=new c(0,0),M=new c(0,0),E=new c(0,0),T=new c(0,0),L=new c(0,0),I=new c(0,0),D=new c(0,0),A=new c(0,0),P=new c(0,0);for(void 0===t&&(t=[new c(1116352408,-685199838),new c(1899447441,602891725),new c(-1245643825,-330482897),new c(-373957723,-2121671748),new c(961987163,-213338824),new c(1508970993,-1241133031),new c(-1841331548,-1357295717),new c(-1424204075,-630357736),new c(-670586216,-1560083902),new c(310598401,1164996542),new c(607225278,1323610764),new c(1426881987,-704662302),new c(1925078388,-226784913),new c(-2132889090,991336113),new c(-1680079193,633803317),new c(-1046744716,-815192428),new c(-459576895,-1628353838),new c(-272742522,944711139),new c(264347078,-1953704523),new c(604807628,2007800933),new c(770255983,1495990901),new c(1249150122,1856431235),new c(1555081692,-1119749164),new c(1996064986,-2096016459),new c(-1740746414,-295247957),new c(-1473132947,766784016),new c(-1341970488,-1728372417),new c(-1084653625,-1091629340),new c(-958395405,1034457026),new c(-710438585,-1828018395),new c(113926993,-536640913),new c(338241895,168717936),new c(666307205,1188179964),new c(773529912,1546045734),new c(1294757372,1522805485),new c(1396182291,-1651133473),new c(1695183700,-1951439906),new c(1986661051,1014477480),new c(-2117940946,1206759142),new c(-1838011259,344077627),new c(-1564481375,1290863460),new c(-1474664885,-1136513023),new c(-1035236496,-789014639),new c(-949202525,106217008),new c(-778901479,-688958952),new c(-694614492,1432725776),new c(-200395387,1467031594),new c(275423344,851169720),new c(430227734,-1194143544),new c(506948616,1363258195),new c(659060556,-544281703),new c(883997877,-509917016),new c(958139571,-976659869),new c(1322822218,-482243893),new c(1537002063,2003034995),new c(1747873779,-692930397),new c(1955562222,1575990012),new c(2024104815,1125592928),new c(-2067236844,-1578062990),new c(-1933114872,442776044),new c(-1866530822,593698344),new c(-1538233109,-561857047),new c(-1090935817,-1295615723),new c(-965641998,-479046869),new c(-903397682,-366583396),new c(-779700025,566280711),new c(-354779690,-840897762),new c(-176337025,-294727304),new c(116418474,1914138554),new c(174292421,-1563912026),new c(289380356,-1090974290),new c(460393269,320620315),new c(685471733,587496836),new c(852142971,1086792851),new c(1017036298,365543100),new c(1126000580,-1676669620),new c(1288033470,-885112138),new c(1501505948,-60457430),new c(1607167915,987167468),new c(1816402316,1246189591)]),i=0;i<80;i+=1)o[i]=new c(0,0);for(e[n>>5]|=128<<24-(31&n),e[31+(n+128>>10<<5)]=n,a=e.length,i=0;i<a;i+=32){for(h(d,u[0]),h(p,u[1]),h(w,u[2]),h(x,u[3]),h(k,u[4]),h(C,u[5]),h(S,u[6]),h(M,u[7]),r=0;r<16;r+=1)o[r].h=e[i+2*r],o[r].l=e[i+2*r+1];for(r=16;r<80;r+=1)m(D,o[r-2],19),g(A,o[r-2],29),v(P,o[r-2],6),T.l=D.l^A.l^P.l,T.h=D.h^A.h^P.h,m(D,o[r-15],1),m(A,o[r-15],8),v(P,o[r-15],7),E.l=D.l^A.l^P.l,E.h=D.h^A.h^P.h,_(o[r],T,o[r-7],E,o[r-16]);for(r=0;r<80;r+=1)L.l=k.l&C.l^~k.l&S.l,L.h=k.h&C.h^~k.h&S.h,m(D,k,14),m(A,k,18),g(P,k,9),T.l=D.l^A.l^P.l,T.h=D.h^A.h^P.h,m(D,d,28),g(A,d,2),g(P,d,7),E.l=D.l^A.l^P.l,E.h=D.h^A.h^P.h,I.l=d.l&p.l^d.l&w.l^p.l&w.l,I.h=d.h&p.h^d.h&w.h^p.h&w.h,b(l,M,T,L,t[r],o[r]),y(f,E,I),h(M,S),h(S,C),h(C,k),y(k,x,l),h(x,w),h(w,p),h(p,d),y(d,l,f);y(u[0],u[0],d),y(u[1],u[1],p),y(u[2],u[2],w),y(u[3],u[3],x),y(u[4],u[4],k),y(u[5],u[5],C),y(u[6],u[6],S),y(u[7],u[7],M)}for(i=0;i<8;i+=1)s[2*i]=u[i].h,s[2*i+1]=u[i].l;return s}function c(e,t){this.h=e,this.l=t}function h(e,t){e.h=t.h,e.l=t.l}function m(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n|t.l<<32-n}function g(e,t,n){e.l=t.h>>>n|t.l<<32-n,e.h=t.l>>>n|t.h<<32-n}function v(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n}function y(e,t,n){var r=(65535&t.l)+(65535&n.l),i=(t.l>>>16)+(n.l>>>16)+(r>>>16),a=(65535&t.h)+(65535&n.h)+(i>>>16),o=(t.h>>>16)+(n.h>>>16)+(a>>>16);e.l=65535&r|i<<16,e.h=65535&a|o<<16}function _(e,t,n,r,i){var a=(65535&t.l)+(65535&n.l)+(65535&r.l)+(65535&i.l),o=(t.l>>>16)+(n.l>>>16)+(r.l>>>16)+(i.l>>>16)+(a>>>16),s=(65535&t.h)+(65535&n.h)+(65535&r.h)+(65535&i.h)+(o>>>16),u=(t.h>>>16)+(n.h>>>16)+(r.h>>>16)+(i.h>>>16)+(s>>>16);e.l=65535&a|o<<16,e.h=65535&s|u<<16}function b(e,t,n,r,i,a){var o=(65535&t.l)+(65535&n.l)+(65535&r.l)+(65535&i.l)+(65535&a.l),s=(t.l>>>16)+(n.l>>>16)+(r.l>>>16)+(i.l>>>16)+(a.l>>>16)+(o>>>16),u=(65535&t.h)+(65535&n.h)+(65535&r.h)+(65535&i.h)+(65535&a.h)+(s>>>16),l=(t.h>>>16)+(n.h>>>16)+(r.h>>>16)+(i.h>>>16)+(a.h>>>16)+(u>>>16);e.l=65535&o|s<<16,e.h=65535&u|l<<16}this.hex=function(e){return u(i(e))},this.b64=function(e){return p(i(e),n)},this.any=function(e,t){return d(i(e),t)},this.raw=function(e){return i(e)},this.hex_hmac=function(e,t){return u(o(e,t))},this.b64_hmac=function(e,t){return p(o(e,t),n)},this.any_hmac=function(e,t,n){return d(o(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},RMD160:function(e){var t=e&&"string"==typeof e.pad?e.pa:"=",n=!e||"boolean"!=typeof e.utf8||e.utf8,r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function f(e){return g(v(h(e=n?a(e):e),8*e.length))}function m(e,t){e=n?a(e):e,t=n?a(t):t;var r,i,o=h(e),s=Array(16),u=Array(16);for(o.length>16&&(o=v(o,8*e.length)),r=0;r<16;r+=1)s[r]=909522486^o[r],u[r]=1549556828^o[r];return i=v(s.concat(h(t)),512+8*t.length),g(v(u.concat(i),672))}function g(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function v(e,t){var n,a,u,h,f,d,p,m,g,v,w,x,k,C,S=1732584193,M=4023233417,E=2562383102,T=271733878,L=3285377520;for(e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t,h=e.length,u=0;u<h;u+=16){for(f=v=S,d=w=M,p=x=E,m=k=T,g=C=L,a=0;a<=79;a+=1)n=o(f,y(a,d,p,m)),n=o(n,e[u+r[a]]),n=o(n,_(a)),n=o(s(n,l[a]),g),f=g,g=m,m=s(p,10),p=d,d=n,n=o(v,y(79-a,w,x,k)),n=o(n,e[u+i[a]]),n=o(n,b(a)),n=o(s(n,c[a]),C),v=C,C=k,k=s(x,10),x=w,w=n;n=o(M,o(p,k)),M=o(E,o(m,C)),E=o(T,o(g,v)),T=o(L,o(f,w)),L=o(S,o(d,x)),S=n}return[S,M,E,T,L]}function y(e,t,n,r){return 0<=e&&e<=15?t^n^r:16<=e&&e<=31?t&n|~t&r:32<=e&&e<=47?(t|~n)^r:48<=e&&e<=63?t&r|n&~r:64<=e&&e<=79?t^(n|~r):"rmd160_f: j out of range"}function _(e){return 0<=e&&e<=15?0:16<=e&&e<=31?1518500249:32<=e&&e<=47?1859775393:48<=e&&e<=63?2400959708:64<=e&&e<=79?2840853838:"rmd160_K1: j out of range"}function b(e){return 0<=e&&e<=15?1352829926:16<=e&&e<=31?1548603684:32<=e&&e<=47?1836072691:48<=e&&e<=63?2053994217:64<=e&&e<=79?0:"rmd160_K2: j out of range"}this.hex=function(e){return u(f(e))},this.b64=function(e){return p(f(e),t)},this.any=function(e,t){return d(f(e),t)},this.raw=function(e){return f(e)},this.hex_hmac=function(e,t){return u(m(e,t))},this.b64_hmac=function(e,n){return p(m(e,n),t)},this.any_hmac=function(e,t,n){return d(m(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return this},this.setPad=function(e){return void 0!==e&&(t=e),this},this.setUTF8=function(e){return"boolean"==typeof e&&(n=e),this}}},t&&"object"==typeof global&&global&&global===global.global&&global,void 0!==(r=(function(){return i}).call(t,n,t,e))&&(e.exports=r)}()},92430:function(e){e.exports=function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return i(t[o][1][e]||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var a=void 0,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){(function(e){"use strict";var n,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var i=0,a=new r(c),o=e.document.createTextNode("");a.observe(o,{characterData:!0}),n=function(){o.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var s=new e.MessageChannel;s.port1.onmessage=c,n=function(){s.port2.postMessage(0)}}var u,l=[];function c(){u=!0;for(var e,t,n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}u=!1}t.exports=function(e){1===l.push(e)&&!u&&n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r(function(){var r;try{r=t(n)}catch(i){return a.reject(e,i)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=p(function(){t(i,r)});"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=l,l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==u?h(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return a.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,u=-1,l=new this(i);++u<n;)c(e[u],u);return l;function c(e,i){t.resolve(e).then(function(e){o[i]=e,++s===n&&!r&&(r=!0,a.resolve(l,o))},function(e){r||(r=!0,a.reject(l,e))})}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r=-1,o=new this(i);++r<t;)this.resolve(e[r]).then(function(e){n||(n=!0,a.resolve(o,e))},function(e){n||(n=!0,a.reject(o,e))});return o}},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var o=Promise;function s(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function l(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",f=void 0,d={},p=Object.prototype.toString,m="readonly",g="readwrite";function v(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function y(e){var t=d[e.name],n={};n.promise=new o(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady=t.dbReady?t.dbReady.then(function(){return n.promise}):n.promise}function _(e){var t=d[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function b(e,t){var n=d[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function w(e,t){return new o(function(n,r){if(d[e.name]=d[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);y(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var o=i.open.apply(i,a);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),_(e)}})}function x(e){return w(e,!1)}function k(e){return w(e,!0)}function C(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version>e.db.version;if(e.version<e.db.version&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function S(e){return a([v(atob(e.data))],{type:e.type})}function M(e){return e&&e.__local_forage_encoded_blob}function E(e){var t=this,n=t._initReady().then(function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return u(n,e,e),n}function T(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(a){if(r>0&&(!e.db||"InvalidStateError"===a.name||"NotFoundError"===a.name))return o.resolve().then(function(){if(!e.db||"NotFoundError"===a.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),k(e)}).then(function(){return function(e){y(e);for(var t=d[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,x(e).then(function(t){return e.db=t,C(e)?k(e):t}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(t){throw b(e,t),t})}(e).then(function(){T(e,t,n,r-1)})}).catch(n);n(a)}}var L={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=d[n.name];i||(d[n.name]=i={forages:[],db:null,dbReady:null,deferredOperations:[]}),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=E);var a=[];function s(){return o.resolve()}for(var u=0;u<i.forages.length;u++){var l=i.forages[u];l!==t&&a.push(l._initReady().catch(s))}var c=i.forages.slice(0);return o.all(a).then(function(){return n.db=i.db,x(n)}).then(function(e){return n.db=e,C(n,t._defaultConfig.version)?k(n):e}).then(function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<c.length;r++){var a=c[r];a!==t&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}})},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(e,t){var n=this,r=new o(function(t,r){n.ready().then(function(){T(n._dbInfo,m,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).openCursor(),s=1;o.onsuccess=function(){var n=o.result;if(n){var r=n.value;M(r)&&(r=S(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},o.onerror=function(){r(o.error)}}catch(u){r(u)}})}).catch(r)});return s(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new o(function(t,r){n.ready().then(function(){T(n._dbInfo,m,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),M(e)&&(e=S(e)),t(e)},o.onerror=function(){r(o.error)}}catch(s){r(s)}})}).catch(r)});return s(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var i=new o(function(n,i){var s;r.ready().then(function(){return s=r._dbInfo,"[object Blob]"===p.call(t)?function(e){return"boolean"==typeof f?o.resolve(f):function(e){return new o(function(t){var n=e.transaction(h,g),r=a([""]);n.objectStore(h).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return f=e})}(s.db).then(function(e){return e?t:function(e){return new o(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}(t)}):t}).then(function(t){T(r._dbInfo,g,function(a,o){if(a)return i(a);try{var s=o.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),n(t)},o.onabort=o.onerror=function(){i(u.error?u.error:u.transaction.error)}}catch(l){i(l)}})}).catch(i)});return s(i,n),i},removeItem:function(e,t){var n=this;e=l(e);var r=new o(function(t,r){n.ready().then(function(){T(n._dbInfo,g,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){r(o.error)},a.onabort=function(){r(o.error?o.error:o.transaction.error)}}catch(s){r(s)}})}).catch(r)});return s(r,t),r},clear:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){T(t._dbInfo,g,function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){n(a.error?a.error:a.transaction.error)}}catch(o){n(o)}})}).catch(n)});return s(n,e),n},length:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){T(t._dbInfo,m,function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(o){n(o)}})}).catch(n)});return s(n,e),n},key:function(e,t){var n=this,r=new o(function(t,r){e<0?t(null):n.ready().then(function(){T(n._dbInfo,m,function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName),s=!1,u=o.openKeyCursor();u.onsuccess=function(){var n=u.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(l){r(l)}})}).catch(r)});return s(r,t),r},keys:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){T(t._dbInfo,m,function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];a.onsuccess=function(){var t=a.result;t?(o.push(t.key),t.continue()):e(o)},a.onerror=function(){n(a.error)}}catch(s){n(s)}})}).catch(n)});return s(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,a=this;if(e.name){var u=e.name===n.name&&a._dbInfo.db?o.resolve(a._dbInfo.db):x(e).then(function(t){var n=d[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t});r=u.then(e.storeName?function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;y(e);var r=d[e.name],a=r.forages;t.close();for(var s=0;s<a.length;s++){var u=a[s];u._dbInfo.db=null,u._dbInfo.version=n}return new o(function(t,r){var a=i.open(e.name,n);a.onerror=function(e){a.result.close(),r(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,_(n._dbInfo)}}).catch(function(t){throw(b(e,t)||o.resolve()).catch(function(){}),t})}}:function(t){y(e);var n=d[e.name],r=n.forages;t.close();for(var a=0;a<r.length;a++)r[a]._dbInfo.db=null;return new o(function(t,n){var r=i.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)_(r[t]._dbInfo)}).catch(function(t){throw(b(e,t)||o.resolve()).catch(function(){}),t})})}else r=o.reject("Invalid arguments");return s(r,t),r}},I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=/^~~local_forage_type~([^~]+)~/,A="__lfsc__:",P=A.length,O="arbf",N="blob",R=P+O.length,F=Object.prototype.toString;function Y(e){var t,n,r,i,a,o=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l=new ArrayBuffer(o),c=new Uint8Array(l);for(t=0;t<s;t+=4)n=I.indexOf(e[t]),r=I.indexOf(e[t+1]),i=I.indexOf(e[t+2]),a=I.indexOf(e[t+3]),c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&a;return l}function z(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=I[n[t]>>2],r+=I[(3&n[t])<<4|n[t+1]>>4],r+=I[(15&n[t+1])<<2|n[t+2]>>6],r+=I[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var j={serialize:function(e,t){var n="";if(e&&(n=F.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===F.call(e.buffer))){var r,i=A;e instanceof ArrayBuffer?(r=e,i+=O):(r=e.buffer,"[object Int8Array]"===n?i+="si08":"[object Uint8Array]"===n?i+="ui08":"[object Uint8ClampedArray]"===n?i+="uic8":"[object Int16Array]"===n?i+="si16":"[object Uint16Array]"===n?i+="ur16":"[object Int32Array]"===n?i+="si32":"[object Uint32Array]"===n?i+="ui32":"[object Float32Array]"===n?i+="fl32":"[object Float64Array]"===n?i+="fl64":t(new Error("Failed to get type for BinaryArray"))),t(i+z(r))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n="~~local_forage_type~"+e.type+"~"+z(this.result);t(A+N+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(o){console.error("Couldn't convert value into a JSON string: ",e),t(null,o)}},deserialize:function(e){if(e.substring(0,P)!==A)return JSON.parse(e);var t,n=e.substring(R),r=e.substring(P,R);if(r===N&&D.test(n)){var i=n.match(D);t=i[1],n=n.substring(i[0].length)}var o=Y(n);switch(r){case O:return o;case N:return a([o],{type:t});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:Y,bufferToString:z};function B(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function H(e,t,n,r,i,a){e.executeSql(n,r,i,function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,s){s.rows.length?a(e,o):B(e,t,function(){e.executeSql(n,r,i,a)},a)},a):a(e,o)},a)}function U(e,t,n,r){var i=this;e=l(e);var a=new o(function(a,o){i.ready().then(function(){void 0===t&&(t=null);var s=t,u=i._dbInfo;u.serializer.serialize(t,function(t,l){l?o(l):u.db.transaction(function(n){H(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){a(s)},function(e,t){o(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void a(U.apply(i,[e,s,n,r-1]));o(t)}})})}).catch(o)});return s(a,n),a}function V(e){return new o(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],a=0;a<r.rows.length;a++)i.push(r.rows.item(a).name);t({db:e,storeNames:i})},function(e,t){n(t)})},function(e){n(e)})})}var G={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new o(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction(function(i){B(i,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=j,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new o(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){H(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var a=r.rows,o=a.length,s=0;s<o;s++){var u=a.item(s),l=u.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=e(l,u.key,s+1)))return void t(l)}t()},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=new o(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){H(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},setItem:function(e,t,n){return U.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=l(e);var r=new o(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){H(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},clear:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){H(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},length:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){H(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},key:function(e,t){var n=this,r=new o(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){H(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return s(r,t),r},keys:function(e){var t=this,n=new o(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){H(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return s(n,e),n},dropInstance:function(e,t){t=c.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return s(r=e.name?new o(function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),t(e.storeName?{db:r,storeNames:[e.storeName]}:V(r))}).then(function(e){return new o(function(t,n){e.db.transaction(function(r){function i(e){return new o(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}for(var a=[],s=0,u=e.storeNames.length;s<u;s++)a.push(i(e.storeNames[s]));o.all(a).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):o.reject("Invalid arguments"),t),r}};function q(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}var W={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=q(e,this._defaultConfig),!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(t){return!0}}()||localStorage.length>0?(this._dbInfo=t,t.serializer=j,o.resolve()):o.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,a=localStorage.length,o=1,s=0;s<a;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var l=localStorage.getItem(u);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,u.substring(i),o++)))return l}}});return s(r,t),r},getItem:function(e,t){var n=this;e=l(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return s(r,t),r},setItem:function(e,t,n){var r=this;e=l(e);var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new o(function(i,a){var o=r._dbInfo;o.serializer.serialize(t,function(t,r){if(r)a(r);else try{localStorage.setItem(o.keyPrefix+e,t),i(n)}catch(s){("QuotaExceededError"===s.name||"NS_ERROR_DOM_QUOTA_REACHED"===s.name)&&a(s),a(s)}})})});return s(i,n),i},removeItem:function(e,t){var n=this;e=l(e);var r=n.ready().then(function(){localStorage.removeItem(n._dbInfo.keyPrefix+e)});return s(r,t),r},clear:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return s(n,e),n},length:function(e){var t=this.keys().then(function(e){return e.length});return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(i){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return s(r,t),r},keys:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var a=localStorage.key(i);0===a.indexOf(e.keyPrefix)&&r.push(a.substring(e.keyPrefix.length))}return r});return s(n,e),n},dropInstance:function(e,t){if(t=c.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return s(r=e.name?new o(function(t){t(e.storeName?q(e,i._defaultConfig):e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):o.reject("Invalid arguments"),t),r}},$=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},X=function(e,t){for(var n=e.length,r=0;r<n;){if($(e[r],t))return!0;r++}return!1},Z=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},J={},K={},Q={INDEXEDDB:L,WEBSQL:G,LOCALSTORAGE:W},ee=[Q.INDEXEDDB._driver,Q.WEBSQL._driver,Q.LOCALSTORAGE._driver],te=["dropInstance"],ne=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(te),re={description:"",driver:ee.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ie(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function ae(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(arguments[0][n]=Z(t[n])?t[n].slice():t[n])}return arguments[0]}var oe=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Q)if(Q.hasOwnProperty(n)){var r=Q[n],i=r._driver;this[n]=i,J[i]||this.defineDriver(r)}this._defaultConfig=ae({},re),this._config=ae({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new o(function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var a=ne.concat("_initStorage"),u=0,l=a.length;u<l;u++){var c=a[u];if((!X(te,c)||e[c])&&"function"!=typeof e[c])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=o.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=te.length;n<r;n++){var i=te[n];e[i]||(e[i]=t(i))}}();var h=function(n){J[r]&&console.info("Redefining LocalForage driver: "+r),J[r]=e,K[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,n):h(!!e._support):h(!0)}catch(f){n(f)}});return u(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=J[e]?o.resolve(J[e]):o.reject(new Error("Driver not found."));return u(r,t,n),r},e.prototype.getSerializer=function(e){var t=o.resolve(j);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Z(e)||(e=[e]);var i=this._getSupportedDrivers(e);function a(){r._config.driver=r.driver()}function s(e){return r._extend(e),a(),r._ready=r._initStorage(r._config),r._ready}var l=null!==this._driverSet?this._driverSet.catch(function(){return o.resolve()}):o.resolve();return this._driverSet=l.then(function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,a(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}a();var u=new Error("No available storage method found.");return r._driverSet=o.reject(u),r._driverSet}()}}(i)})}).catch(function(){a();var e=new Error("No available storage method found.");return r._driverSet=o.reject(e),r._driverSet}),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!K[e]},e.prototype._extend=function(e){ae(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ne.length;e<t;e++)ie(this,ne[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=oe},{3:3}]},{},[4])(4)},23815:function(e,t,n){var r;e=n.nmd(e),(function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=1/0,l=9007199254740991,c=4294967295,h=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],f="[object Arguments]",d="[object Array]",p="[object Boolean]",m="[object Date]",g="[object Error]",v="[object Function]",y="[object GeneratorFunction]",_="[object Map]",b="[object Number]",w="[object Object]",x="[object Promise]",k="[object RegExp]",C="[object Set]",S="[object String]",M="[object Symbol]",E="[object WeakMap]",T="[object ArrayBuffer]",L="[object DataView]",I="[object Float32Array]",D="[object Float64Array]",A="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",F="[object Uint16Array]",Y="[object Uint32Array]",z=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,V=RegExp(H.source),G=RegExp(U.source),q=/<%-([\s\S]+?)%>/g,W=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,Q=RegExp(K.source),ee=/^\s+/,te=/\s/,ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,re=/\{\n\/\* \[wrapped with (.+)\] \*/,ie=/,? & /,ae=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,oe=/[()=,{}\[\]\/\s]/,se=/\\(\\)?/g,ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,le=/\w*$/,ce=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,fe=/^\[object .+?Constructor\]$/,de=/^0o[0-7]+$/i,pe=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ge=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,ye="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",be="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",xe="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Se="["+ye+"]",Me="["+Ce+"]",Ee="["+_e+"]",Te="\\d+",Le="["+be+"]",Ie="["+we+"]",De="[^"+ye+Ce+Te+be+we+xe+"]",Ae="\\ud83c[\\udffb-\\udfff]",Pe="[^"+ye+"]",Oe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",Re="["+xe+"]",Fe="(?:"+Ie+"|"+De+")",Ye="(?:"+Re+"|"+De+")",ze="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",je="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Be="(?:"+Ee+"|"+Ae+")?",He="["+ke+"]?",Ue=He+Be+"(?:\\u200d(?:"+[Pe,Oe,Ne].join("|")+")"+He+Be+")*",Ve="(?:"+[Le,Oe,Ne].join("|")+")"+Ue,Ge="(?:"+[Pe+Ee+"?",Ee,Oe,Ne,Se].join("|")+")",qe=RegExp("['\u2019]","g"),We=RegExp(Ee,"g"),$e=RegExp(Ae+"(?="+Ae+")|"+Ge+Ue,"g"),Xe=RegExp([Re+"?"+Ie+"+"+ze+"(?="+[Me,Re,"$"].join("|")+")",Ye+"+"+je+"(?="+[Me,Re+Fe,"$"].join("|")+")",Re+"?"+Fe+"+"+ze,Re+"+"+je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Te,Ve].join("|"),"g"),Ze=RegExp("[\\u200d"+ye+_e+ke+"]"),Je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ke=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,et={};et[I]=et[D]=et[A]=et[P]=et[O]=et[N]=et[R]=et[F]=et[Y]=!0,et[f]=et[d]=et[T]=et[p]=et[L]=et[m]=et[g]=et[v]=et[_]=et[b]=et[w]=et[k]=et[C]=et[S]=et[E]=!1;var tt={};tt[f]=tt[d]=tt[T]=tt[L]=tt[p]=tt[m]=tt[I]=tt[D]=tt[A]=tt[P]=tt[O]=tt[_]=tt[b]=tt[w]=tt[k]=tt[C]=tt[S]=tt[M]=tt[N]=tt[R]=tt[F]=tt[Y]=!0,tt[g]=tt[v]=tt[E]=!1;var nt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rt=parseFloat,it=parseInt,at="object"==typeof global&&global&&global.Object===Object&&global,ot="object"==typeof self&&self&&self.Object===Object&&self,st=at||ot||Function("return this")(),ut=t&&!t.nodeType&&t,lt=ut&&e&&!e.nodeType&&e,ct=lt&&lt.exports===ut,ht=ct&&at.process,ft=function(){try{return lt&&lt.require&&lt.require("util").types||ht&&ht.binding&&ht.binding("util")}catch(e){}}(),dt=ft&&ft.isArrayBuffer,pt=ft&&ft.isDate,mt=ft&&ft.isMap,gt=ft&&ft.isRegExp,vt=ft&&ft.isSet,yt=ft&&ft.isTypedArray;function _t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function bt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function St(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Et(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Tt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function It(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var At=zt("length");function Pt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function Ot(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Nt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ot(e,Ft,n)}function Rt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Ft(e){return e!=e}function Yt(e,t){var n=null==e?0:e.length;return n?Ht(e,t)/n:NaN}function zt(e){return function(t){return null==t?i:t[e]}}function jt(e){return function(t){return null==e?i:e[t]}}function Bt(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Ht(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Ut(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Vt(e){return e&&e.slice(0,un(e)+1).replace(ee,"")}function Gt(e){return function(t){return e(t)}}function qt(e,t){return Et(t,function(t){return e[t]})}function Wt(e,t){return e.has(t)}function $t(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function Xt(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Jt=jt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Kt=jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qt(e){return"\\"+nt[e]}function en(e){return Ze.test(e)}function tn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function nn(e,t){return function(n){return e(t(n))}}function rn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];(o===t||o===s)&&(e[n]=s,a[i++]=n)}return a}function an(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function on(e){return en(e)?function(e){for(var t=$e.lastIndex=0;$e.test(e);)++t;return t}(e):At(e)}function sn(e){return en(e)?function(e){return e.match($e)||[]}(e):function(e){return e.split("")}(e)}function un(e){for(var t=e.length;t--&&te.test(e.charAt(t)););return t}var ln=jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function e(t){var n,r=(t=null==t?st:cn.defaults(st.Object(),t,cn.pick(st,Ke))).Array,te=t.Date,ye=t.Error,_e=t.Function,be=t.Math,we=t.Object,xe=t.RegExp,ke=t.String,Ce=t.TypeError,Se=r.prototype,Me=we.prototype,Ee=t["__core-js_shared__"],Te=_e.prototype.toString,Le=Me.hasOwnProperty,Ie=0,De=(n=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=Me.toString,Pe=Te.call(we),Oe=st._,Ne=xe("^"+Te.call(Le).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=ct?t.Buffer:i,Fe=t.Symbol,Ye=t.Uint8Array,ze=Re?Re.allocUnsafe:i,je=nn(we.getPrototypeOf,we),Be=we.create,He=Me.propertyIsEnumerable,Ue=Se.splice,Ve=Fe?Fe.isConcatSpreadable:i,Ge=Fe?Fe.iterator:i,$e=Fe?Fe.toStringTag:i,Ze=function(){try{var e=ia(we,"defineProperty");return e({},"",{}),e}catch(La){}}(),nt=t.clearTimeout!==st.clearTimeout&&t.clearTimeout,at=te&&te.now!==st.Date.now&&te.now,ot=t.setTimeout!==st.setTimeout&&t.setTimeout,ut=be.ceil,lt=be.floor,ht=we.getOwnPropertySymbols,ft=Re?Re.isBuffer:i,At=t.isFinite,jt=Se.join,hn=nn(we.keys,we),fn=be.max,dn=be.min,pn=te.now,mn=t.parseInt,gn=be.random,vn=Se.reverse,yn=ia(t,"DataView"),_n=ia(t,"Map"),bn=ia(t,"Promise"),wn=ia(t,"Set"),xn=ia(t,"WeakMap"),kn=ia(we,"create"),Cn=xn&&new xn,Sn={},Mn=Pa(yn),En=Pa(_n),Tn=Pa(bn),Ln=Pa(wn),In=Pa(xn),Dn=Fe?Fe.prototype:i,An=Dn?Dn.valueOf:i,Pn=Dn?Dn.toString:i;function On(e){if(Jo(e)&&!jo(e)&&!(e instanceof Yn)){if(e instanceof Fn)return e;if(Le.call(e,"__wrapped__"))return Oa(e)}return new Fn(e)}var Nn=function(){function e(){}return function(t){if(!Zo(t))return{};if(Be)return Be(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Rn(){}function Fn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Yn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=c,this.__views__=[]}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Bn;++t<n;)this.add(e[t])}function Un(e){var t=this.__data__=new jn(e);this.size=t.size}function Vn(e,t){var n=jo(e),r=!n&&zo(e),i=!n&&!r&&Vo(e),a=!n&&!r&&!i&&as(e),o=n||r||i||a,s=o?Ut(e.length,ke):[],u=s.length;for(var l in e)(t||Le.call(e,l))&&(!o||!("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ha(l,u)))&&s.push(l);return s}function Gn(e){var t=e.length;return t?e[Br(0,t-1)]:i}function qn(e,t){return Ta(xi(e),tr(t,0,e.length))}function Wn(e){return Ta(xi(e))}function $n(e,t,n){(n!==i&&!Ro(e[t],n)||n===i&&!(t in e))&&Qn(e,t,n)}function Xn(e,t,n){var r=e[t];(!Le.call(e,t)||!Ro(r,n)||n===i&&!(t in e))&&Qn(e,t,n)}function Zn(e,t){for(var n=e.length;n--;)if(Ro(e[n][0],t))return n;return-1}function Jn(e,t,n,r){return or(e,function(e,i,a){t(r,e,n(e),a)}),r}function Kn(e,t){return e&&ki(t,Es(t),e)}function Qn(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function er(e,t){for(var n=-1,a=t.length,o=r(a),s=null==e;++n<a;)o[n]=s?i:xs(e,t[n]);return o}function tr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function nr(e,t,n,r,a,o){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!Zo(e))return e;var h=jo(e);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return xi(e,s)}else{var d=sa(e),g=d==v||d==y;if(Vo(e))return gi(e,u);if(d==w||d==f||g&&!a){if(s=l||g?{}:la(e),!u)return l?function(e,t){return ki(e,oa(e),t)}(e,function(e,t){return e&&ki(t,Ts(t),e)}(s,e)):function(e,t){return ki(e,aa(e),t)}(e,Kn(s,e))}else{if(!tt[d])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case T:return vi(e);case p:case m:return new r(+e);case L:return function(e,t){var n=t?vi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case I:case D:case A:case P:case O:case N:case R:case F:case Y:return yi(e,n);case _:return new r;case b:case S:return new r(e);case k:return function(e){var t=new e.constructor(e.source,le.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new r;case M:return function(e){return An?we(An.call(e)):{}}(e)}}(e,d,u)}}o||(o=new Un);var x=o.get(e);if(x)return x;o.set(e,s),ns(e)?e.forEach(function(r){s.add(nr(r,t,n,r,e,o))}):Ko(e)&&e.forEach(function(r,i){s.set(i,nr(r,t,n,i,e,o))});var E=h?i:(c?l?Ji:Zi:l?Ts:Es)(e);return wt(E||e,function(r,i){E&&(r=e[i=r]),Xn(s,i,nr(r,t,n,i,e,o))}),s}function rr(e,t,n){var r=n.length;if(null==e)return!r;for(e=we(e);r--;){var a=n[r],o=e[a];if(o===i&&!(a in e)||!(0,t[a])(o))return!1}return!0}function ir(e,t,n){if("function"!=typeof e)throw new Ce(a);return Ca(function(){e.apply(i,n)},t)}function ar(e,t,n,r){var i=-1,a=St,o=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Et(t,Gt(n))),r?(a=Mt,o=!1):t.length>=200&&(a=Wt,o=!1,t=new Hn(t));e:for(;++i<s;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h==h){for(var f=l;f--;)if(t[f]===h)continue e;u.push(c)}else a(t,h,r)||u.push(c)}return u}On.templateSettings={escape:q,evaluate:W,interpolate:$,variable:"",imports:{_:On}},(On.prototype=Rn.prototype).constructor=On,(Fn.prototype=Nn(Rn.prototype)).constructor=Fn,(Yn.prototype=Nn(Rn.prototype)).constructor=Yn,zn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zn.prototype.get=function(e){var t=this.__data__;if(kn){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},zn.prototype.has=function(e){var t=this.__data__;return kn?t[e]!==i:Le.call(t,e)},zn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kn&&t===i?o:t,this},jn.prototype.clear=function(){this.__data__=[],this.size=0},jn.prototype.delete=function(e){var t=this.__data__,n=Zn(t,e);return!(n<0||(n==t.length-1?t.pop():Ue.call(t,n,1),--this.size,0))},jn.prototype.get=function(e){var t=this.__data__,n=Zn(t,e);return n<0?i:t[n][1]},jn.prototype.has=function(e){return Zn(this.__data__,e)>-1},jn.prototype.set=function(e,t){var n=this.__data__,r=Zn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Bn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(_n||jn),string:new zn}},Bn.prototype.delete=function(e){var t=na(this,e).delete(e);return this.size-=t?1:0,t},Bn.prototype.get=function(e){return na(this,e).get(e)},Bn.prototype.has=function(e){return na(this,e).has(e)},Bn.prototype.set=function(e,t){var n=na(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Hn.prototype.add=Hn.prototype.push=function(e){return this.__data__.set(e,o),this},Hn.prototype.has=function(e){return this.__data__.has(e)},Un.prototype.clear=function(){this.__data__=new jn,this.size=0},Un.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Un.prototype.get=function(e){return this.__data__.get(e)},Un.prototype.has=function(e){return this.__data__.has(e)},Un.prototype.set=function(e,t){var n=this.__data__;if(n instanceof jn){var r=n.__data__;if(!_n||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Bn(r)}return n.set(e,t),this.size=n.size,this};var or=Mi(pr),sr=Mi(mr,!0);function ur(e,t){var n=!0;return or(e,function(e,r,i){return n=!!t(e,r,i)}),n}function lr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(u===i?s==s&&!is(s):n(s,u)))var u=s,l=o}return l}function cr(e,t){var n=[];return or(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function hr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ca),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?hr(s,t-1,n,r,i):Tt(i,s):r||(i[i.length]=s)}return i}var fr=Ei(),dr=Ei(!0);function pr(e,t){return e&&fr(e,t,Es)}function mr(e,t){return e&&dr(e,t,Es)}function gr(e,t){return Ct(t,function(t){return Wo(e[t])})}function vr(e,t){for(var n=0,r=(t=fi(t,e)).length;null!=e&&n<r;)e=e[Aa(t[n++])];return n&&n==r?e:i}function yr(e,t,n){var r=t(e);return jo(e)?r:Tt(r,n(e))}function _r(e){return null==e?e===i?"[object Undefined]":"[object Null]":$e&&$e in we(e)?function(e){var t=Le.call(e,$e),n=e[$e];try{e[$e]=i;var r=!0}catch(o){}var a=Ae.call(e);return r&&(t?e[$e]=n:delete e[$e]),a}(e):function(e){return Ae.call(e)}(e)}function br(e,t){return e>t}function wr(e,t){return null!=e&&Le.call(e,t)}function xr(e,t){return null!=e&&t in we(e)}function kr(e,t,n){for(var a=n?Mt:St,o=e[0].length,s=e.length,u=s,l=r(s),c=1/0,h=[];u--;){var f=e[u];u&&t&&(f=Et(f,Gt(t))),c=dn(f.length,c),l[u]=!n&&(t||o>=120&&f.length>=120)?new Hn(u&&f):i}f=e[0];var d=-1,p=l[0];e:for(;++d<o&&h.length<c;){var m=f[d],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?Wt(p,g):a(h,g,n))){for(u=s;--u;){var v=l[u];if(!(v?Wt(v,g):a(e[u],g,n)))continue e}p&&p.push(g),h.push(m)}}return h}function Cr(e,t,n){var r=null==(e=ba(e,t=fi(t,e)))?e:e[Aa(Ga(t))];return null==r?i:_t(r,e,n)}function Sr(e){return Jo(e)&&_r(e)==f}function Mr(e,t,n,r,a){return e===t||(null==e||null==t||!Jo(e)&&!Jo(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var s=jo(e),u=jo(t),l=s?d:sa(e),c=u?d:sa(t),h=(l=l==f?w:l)==w,v=(c=c==f?w:c)==w,y=l==c;if(y&&Vo(e)){if(!Vo(t))return!1;s=!0,h=!1}if(y&&!h)return o||(o=new Un),s||as(e)?$i(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!a(new Ye(e),new Ye(t)));case p:case m:case b:return Ro(+e,+t);case g:return e.name==t.name&&e.message==t.message;case k:case S:return e==t+"";case _:var s=tn;case C:if(s||(s=an),e.size!=t.size&&!(1&r))return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var l=$i(s(e),s(t),r,i,a,o);return o.delete(e),l;case M:if(An)return An.call(e)==An.call(t)}return!1}(e,t,l,n,r,a,o);if(!(1&n)){var x=h&&Le.call(e,"__wrapped__"),E=v&&Le.call(t,"__wrapped__");if(x||E){var I=x?e.value():e,D=E?t.value():t;return o||(o=new Un),a(I,D,n,r,o)}}return!!y&&(o||(o=new Un),function(e,t,n,r,a,o){var s=1&n,u=Zi(e),l=u.length;if(l!=Zi(t).length&&!s)return!1;for(var c=l;c--;){var h=u[c];if(!(s?h in t:Le.call(t,h)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);for(var m=s;++c<l;){var g=e[h=u[c]],v=t[h];if(r)var y=s?r(v,g,h,t,e,o):r(g,v,h,e,t,o);if(!(y===i?g===v||a(g,v,n,r,o):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,a,o))}(e,t,n,r,Mr,a))}function Er(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=we(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var l=(u=n[a])[0],c=e[l],h=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var f=new Un;if(r)var d=r(c,h,l,e,t,f);if(!(d===i?Mr(h,c,3,r,f):d))return!1}}return!0}function Tr(e){return!(!Zo(e)||function(e){return!!De&&De in e}(e))&&(Wo(e)?Ne:fe).test(Pa(e))}function Lr(e){return"function"==typeof e?e:null==e?Qs:"object"==typeof e?jo(e)?Or(e[0],e[1]):Pr(e):uu(e)}function Ir(e){if(!ga(e))return hn(e);var t=[];for(var n in we(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Dr(e,t){return e<t}function Ar(e,t){var n=-1,i=Ho(e)?r(e.length):[];return or(e,function(e,r,a){i[++n]=t(e,r,a)}),i}function Pr(e){var t=ra(e);return 1==t.length&&t[0][2]?ya(t[0][0],t[0][1]):function(n){return n===e||Er(n,e,t)}}function Or(e,t){return da(e)&&va(t)?ya(Aa(e),t):function(n){var r=xs(n,e);return r===i&&r===t?ks(n,e):Mr(t,r,3)}}function Nr(e,t,n,r,a){e!==t&&fr(t,function(o,s){if(a||(a=new Un),Zo(o))!function(e,t,n,r,a,o,s){var u=xa(e,n),l=xa(t,n),c=s.get(l);if(c)$n(e,n,c);else{var h=o?o(u,l,n+"",e,t,s):i,f=h===i;if(f){var d=jo(l),p=!d&&Vo(l),m=!d&&!p&&as(l);h=l,d||p||m?jo(u)?h=u:Uo(u)?h=xi(u):p?(f=!1,h=gi(l,!0)):m?(f=!1,h=yi(l,!0)):h=[]:es(l)||zo(l)?(h=u,zo(u)?h=ds(u):(!Zo(u)||Wo(u))&&(h=la(l))):f=!1}f&&(s.set(l,h),a(h,l,r,o,s),s.delete(l)),$n(e,n,h)}}(e,t,s,n,Nr,r,a);else{var u=r?r(xa(e,s),o,s+"",e,t,a):i;u===i&&(u=o),$n(e,s,u)}},Ts)}function Rr(e,t){var n=e.length;if(n)return ha(t+=t<0?n:0,n)?e[t]:i}function Fr(e,t,n){t=t.length?Et(t,function(e){return jo(e)?function(t){return vr(t,1===e.length?e[0]:e)}:e}):[Qs];var r=-1;return t=Et(t,Gt(ta())),function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var u=_i(i[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}(Ar(e,function(e,n,i){return{criteria:Et(t,function(t){return t(e)}),index:++r,value:e}}))}function Yr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=vr(e,o);n(s,o)&&qr(a,fi(o,e),s)}return a}function zr(e,t,n,r){var i=r?Rt:Nt,a=-1,o=t.length,s=e;for(e===t&&(t=xi(t)),n&&(s=Et(e,Gt(n)));++a<o;)for(var u=0,l=t[a],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Ue.call(s,u,1),Ue.call(e,u,1);return e}function jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ha(i)?Ue.call(e,i,1):ii(e,i)}}return e}function Br(e,t){return e+lt(gn()*(t-e+1))}function Hr(e,t){var n="";if(!e||t<1||t>l)return n;do{t%2&&(n+=e),(t=lt(t/2))&&(e+=e)}while(t);return n}function Ur(e,t){return Sa(_a(e,t,Qs),e+"")}function Vr(e){return Gn(Rs(e))}function Gr(e,t){var n=Rs(e);return Ta(n,tr(t,0,n.length))}function qr(e,t,n,r){if(!Zo(e))return e;for(var a=-1,o=(t=fi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var l=Aa(t[a]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=s){var h=u[l];(c=r?r(h,l,u):i)===i&&(c=Zo(h)?h:ha(t[a+1])?[]:{})}Xn(u,l,c),u=u[l]}return e}var Wr=Cn?function(e,t){return Cn.set(e,t),e}:Qs,$r=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:Zs(t),writable:!0})}:Qs;function Xr(e){return Ta(Rs(e))}function Zr(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function Jr(e,t){var n;return or(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function Kr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!is(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return Qr(e,t,Qs,n)}function Qr(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,u=null===t,l=is(t),c=t===i;a<o;){var h=lt((a+o)/2),f=n(e[h]),d=f!==i,p=null===f,m=f==f,g=is(f);if(s)var v=r||m;else v=c?m&&(r||d):u?m&&d&&(r||!p):l?m&&d&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);v?a=h+1:o=h}return dn(o,4294967294)}function ei(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Ro(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function ti(e){return"number"==typeof e?e:is(e)?NaN:+e}function ni(e){if("string"==typeof e)return e;if(jo(e))return Et(e,ni)+"";if(is(e))return Pn?Pn.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}function ri(e,t,n){var r=-1,i=St,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=Mt;else if(a>=200){var l=t?null:Hi(e);if(l)return an(l);o=!1,i=Wt,u=new Hn}else u=t?[]:s;e:for(;++r<a;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue e;t&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function ii(e,t){return null==(e=ba(e,t=fi(t,e)))||delete e[Aa(Ga(t))]}function ai(e,t,n,r){return qr(e,t,n(vr(e,t)),r)}function oi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Zr(e,r?0:a,r?a+1:i):Zr(e,r?a+1:0,r?i:a)}function si(e,t){var n=e;return n instanceof Yn&&(n=n.value()),Lt(t,function(e,t){return t.func.apply(t.thisArg,Tt([e],t.args))},n)}function ui(e,t,n){var i=e.length;if(i<2)return i?ri(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],u=-1;++u<i;)u!=a&&(o[a]=ar(o[a]||s,e[u],t,n));return ri(hr(o,1),t,n)}function li(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;)n(s,e[r],r<o?t[r]:i);return s}function ci(e){return Uo(e)?e:[]}function hi(e){return"function"==typeof e?e:Qs}function fi(e,t){return jo(e)?e:da(e,t)?[e]:Da(ps(e))}var di=Ur;function pi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Zr(e,t,n)}var mi=nt||function(e){return st.clearTimeout(e)};function gi(e,t){if(t)return e.slice();var n=e.length,r=ze?ze(n):new e.constructor(n);return e.copy(r),r}function vi(e){var t=new e.constructor(e.byteLength);return new Ye(t).set(new Ye(e)),t}function yi(e,t){var n=t?vi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _i(e,t){if(e!==t){var n=e!==i,r=null===e,a=e==e,o=is(e),s=t!==i,u=null===t,l=t==t,c=is(t);if(!u&&!c&&!o&&e>t||o&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||u&&n&&a||!s&&a||!l)return-1}return 0}function bi(e,t,n,i){for(var a=-1,o=e.length,s=n.length,u=-1,l=t.length,c=fn(o-s,0),h=r(l+c),f=!i;++u<l;)h[u]=t[u];for(;++a<s;)(f||a<o)&&(h[n[a]]=e[a]);for(;c--;)h[u++]=e[a++];return h}function wi(e,t,n,i){for(var a=-1,o=e.length,s=-1,u=n.length,l=-1,c=t.length,h=fn(o-u,0),f=r(h+c),d=!i;++a<h;)f[a]=e[a];for(var p=a;++l<c;)f[p+l]=t[l];for(;++s<u;)(d||a<o)&&(f[p+n[s]]=e[a++]);return f}function xi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function ki(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),a?Qn(n,u,l):Xn(n,u,l)}return n}function Ci(e,t){return function(n,r){var i=jo(n)?bt:Jn,a=t?t():{};return i(n,e,ta(r,2),a)}}function Si(e){return Ur(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&fa(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=we(t);++r<a;){var u=n[r];u&&e(t,u,r,o)}return t})}function Mi(e,t){return function(n,r){if(null==n)return n;if(!Ho(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=we(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Ei(e){return function(t,n,r){for(var i=-1,a=we(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}function Ti(e){return function(t){var n=en(t=ps(t))?sn(t):i,r=n?n[0]:t.charAt(0),a=n?pi(n,1).join(""):t.slice(1);return r[e]()+a}}function Li(e){return function(t){return Lt(Ws(zs(t).replace(qe,"")),e,"")}}function Ii(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Nn(e.prototype),r=e.apply(n,t);return Zo(r)?r:n}}function Di(e){return function(t,n,r){var a=we(t);if(!Ho(t)){var o=ta(n,3);t=Es(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function Ai(e){return Xi(function(t){var n=t.length,r=n,o=Fn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ce(a);if(o&&!u&&"wrapper"==Qi(s))var u=new Fn([],!0)}for(r=u?r:n;++r<n;){var l=Qi(s=t[r]),c="wrapper"==l?Ki(s):i;u=c&&pa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[Qi(c[0])].apply(u,c[3]):1==s.length&&pa(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&jo(r))return u.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}function Pi(e,t,n,a,o,s,u,l,c,h){var f=128&t,d=1&t,p=2&t,m=24&t,g=512&t,v=p?i:Ii(e);return function i(){for(var y=arguments.length,_=r(y),b=y;b--;)_[b]=arguments[b];if(m)var w=ea(i),x=Zt(_,w);if(a&&(_=bi(_,a,o,m)),s&&(_=wi(_,s,u,m)),y-=x,m&&y<h){var k=rn(_,w);return ji(e,t,Pi,i.placeholder,n,_,k,l,c,h-y)}var C=d?n:this,S=p?C[e]:e;return y=_.length,l?_=wa(_,l):g&&y>1&&_.reverse(),f&&c<y&&(_.length=c),this&&this!==st&&this instanceof i&&(S=v||Ii(S)),S.apply(C,_)}}function Oi(e,t){return function(n,r){return function(e,t,n,r){return pr(e,function(e,i,a){t(r,n(e),i,a)}),r}(n,e,t(r),{})}}function Ni(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ni(n),r=ni(r)):(n=ti(n),r=ti(r)),a=e(n,r)}return a}}function Ri(e){return Xi(function(t){return t=Et(t,Gt(ta())),Ur(function(n){var r=this;return e(t,function(e){return _t(e,r,n)})})})}function Fi(e,t){var n=(t=t===i?" ":ni(t)).length;if(n<2)return n?Hr(t,e):t;var r=Hr(t,ut(e/on(t)));return en(t)?pi(sn(r),0,e).join(""):r.slice(0,e)}function Yi(e){return function(t,n,a){return a&&"number"!=typeof a&&fa(t,n,a)&&(n=a=i),t=ls(t),n===i?(n=t,t=0):n=ls(n),function(e,t,n,i){for(var a=-1,o=fn(ut((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,a=a===i?t<n?1:-1:ls(a),e)}}function zi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=fs(t),n=fs(n)),e(t,n)}}function ji(e,t,n,r,a,o,s,u,l,c){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var f=[e,t,a,h?o:i,h?s:i,h?i:o,h?i:s,u,l,c],d=n.apply(i,f);return pa(e)&&ka(d,f),d.placeholder=r,Ma(d,e,t)}function Bi(e){var t=be[e];return function(e,n){if(e=fs(e),(n=null==n?0:dn(cs(n),292))&&At(e)){var r=(ps(e)+"e").split("e");return+((r=(ps(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Hi=wn&&1/an(new wn([,-0]))[1]==u?function(e){return new wn(e)}:iu;function Ui(e){return function(t){var n=sa(t);return n==_?tn(t):n==C?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return Et(t,function(t){return[t,e[t]]})}(t,e(t))}}function Vi(e,t,n,o,u,l,c,h){var f=2&t;if(!f&&"function"!=typeof e)throw new Ce(a);var d=o?o.length:0;if(d||(t&=-97,o=u=i),c=c===i?c:fn(cs(c),0),h=h===i?h:cs(h),d-=u?u.length:0,64&t){var p=o,m=u;o=u=i}var g=f?i:Ki(e),v=[e,t,n,o,u,p,m,l,c,h];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n))return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var a=t[3];if(a){var o=e[3];e[3]=o?bi(o,a,t[4]):a,e[4]=o?rn(e[3],s):t[4]}(a=t[5])&&(e[5]=(o=e[5])?wi(o,a,t[6]):a,e[6]=o?rn(e[5],s):t[6]),(a=t[7])&&(e[7]=a),128&r&&(e[8]=null==e[8]?t[8]:dn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(v,g),e=v[0],t=v[1],n=v[2],o=v[3],u=v[4],!(h=v[9]=v[9]===i?f?0:e.length:fn(v[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var a=Ii(e);return function o(){for(var s=arguments.length,u=r(s),l=s,c=ea(o);l--;)u[l]=arguments[l];var h=s<3&&u[0]!==c&&u[s-1]!==c?[]:rn(u,c);return(s-=h.length)<n?ji(e,t,Pi,o.placeholder,i,u,h,i,i,n-s):_t(this&&this!==st&&this instanceof o?a:e,this,u)}}(e,t,h):32!=t&&33!=t||u.length?Pi.apply(i,v):function(e,t,n,i){var a=1&t,o=Ii(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,h=r(c+u),f=this&&this!==st&&this instanceof t?o:e;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++s];return _t(f,a?n:this,h)}}(e,t,n,o);else var y=function(e,t,n){var r=1&t,i=Ii(e);return function t(){return(this&&this!==st&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Ma((g?Wr:ka)(y,v),e,t)}function Gi(e,t,n,r){return e===i||Ro(e,Me[n])&&!Le.call(r,n)?t:e}function qi(e,t,n,r,a,o){return Zo(e)&&Zo(t)&&(o.set(t,e),Nr(e,t,i,qi,o),o.delete(t)),e}function Wi(e){return es(e)?i:e}function $i(e,t,n,r,a,o){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var f=-1,d=!0,p=2&n?new Hn:i;for(o.set(e,t),o.set(t,e);++f<u;){var m=e[f],g=t[f];if(r)var v=s?r(g,m,f,t,e,o):r(m,g,f,e,t,o);if(v!==i){if(v)continue;d=!1;break}if(p){if(!Dt(t,function(e,t){if(!Wt(p,t)&&(m===e||a(m,e,n,r,o)))return p.push(t)})){d=!1;break}}else if(m!==g&&!a(m,g,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Xi(e){return Sa(_a(e,i,ja),e+"")}function Zi(e){return yr(e,Es,aa)}function Ji(e){return yr(e,Ts,oa)}var Ki=Cn?function(e){return Cn.get(e)}:iu;function Qi(e){for(var t=e.name+"",n=Sn[t],r=Le.call(Sn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ea(e){return(Le.call(On,"placeholder")?On:e).placeholder}function ta(){var e=On.iteratee||eu;return e=e===eu?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function na(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ra(e){for(var t=Es(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,va(i)]}return t}function ia(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Tr(n)?n:i}var aa=ht?function(e){return null==e?[]:(e=we(e),Ct(ht(e),function(t){return He.call(e,t)}))}:hu,oa=ht?function(e){for(var t=[];e;)Tt(t,aa(e)),e=je(e);return t}:hu,sa=_r;function ua(e,t,n){for(var r=-1,i=(t=fi(t,e)).length,a=!1;++r<i;){var o=Aa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Xo(i)&&ha(o,i)&&(jo(e)||zo(e))}function la(e){return"function"!=typeof e.constructor||ga(e)?{}:Nn(je(e))}function ca(e){return jo(e)||zo(e)||!!(Ve&&e&&e[Ve])}function ha(e,t){var n=typeof e;return!!(t=null==t?l:t)&&("number"==n||"symbol"!=n&&pe.test(e))&&e>-1&&e%1==0&&e<t}function fa(e,t,n){if(!Zo(n))return!1;var r=typeof t;return!!("number"==r?Ho(n)&&ha(t,n.length):"string"==r&&t in n)&&Ro(n[t],e)}function da(e,t){if(jo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!is(e))||Z.test(e)||!X.test(e)||null!=t&&e in we(t)}function pa(e){var t=Qi(e),n=On[t];if("function"!=typeof n||!(t in Yn.prototype))return!1;if(e===n)return!0;var r=Ki(n);return!!r&&e===r[0]}(yn&&sa(new yn(new ArrayBuffer(1)))!=L||_n&&sa(new _n)!=_||bn&&sa(bn.resolve())!=x||wn&&sa(new wn)!=C||xn&&sa(new xn)!=E)&&(sa=function(e){var t=_r(e),n=t==w?e.constructor:i,r=n?Pa(n):"";if(r)switch(r){case Mn:return L;case En:return _;case Tn:return x;case Ln:return C;case In:return E}return t});var ma=Ee?Wo:fu;function ga(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function va(e){return e==e&&!Zo(e)}function ya(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in we(n))}}function _a(e,t,n){return t=fn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=fn(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=r(t+1);++a<t;)u[a]=i[a];return u[t]=n(s),_t(e,this,u)}}function ba(e,t){return t.length<2?e:vr(e,Zr(t,0,-1))}function wa(e,t){for(var n=e.length,r=dn(t.length,n),a=xi(e);r--;){var o=t[r];e[r]=ha(o,n)?a[o]:i}return e}function xa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ka=Ea(Wr),Ca=ot||function(e,t){return st.setTimeout(e,t)},Sa=Ea($r);function Ma(e,t,n){var r=t+"";return Sa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ne,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return wt(h,function(n){var r="_."+n[0];t&n[1]&&!St(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(re);return t?t[1].split(ie):[]}(r),n)))}function Ea(e){var t=0,n=0;return function(){var r=pn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ta(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=Br(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var La,Ia,Da=(La=Io(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(J,function(e,n,r,i){t.push(r?i.replace(se,"$1"):n||e)}),t},function(e){return 500===Ia.size&&Ia.clear(),e}),Ia=La.cache,La);function Aa(e){if("string"==typeof e||is(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function Pa(e){if(null!=e){try{return Te.call(e)}catch(La){}try{return e+""}catch(La){}}return""}function Oa(e){if(e instanceof Yn)return e.clone();var t=new Fn(e.__wrapped__,e.__chain__);return t.__actions__=xi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Na=Ur(function(e,t){return Uo(e)?ar(e,hr(t,1,Uo,!0)):[]}),Ra=Ur(function(e,t){var n=Ga(t);return Uo(n)&&(n=i),Uo(e)?ar(e,hr(t,1,Uo,!0),ta(n,2)):[]}),Fa=Ur(function(e,t){var n=Ga(t);return Uo(n)&&(n=i),Uo(e)?ar(e,hr(t,1,Uo,!0),i,n):[]});function Ya(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:cs(n);return i<0&&(i=fn(r+i,0)),Ot(e,ta(t,3),i)}function za(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=cs(n),a=n<0?fn(r+a,0):dn(a,r-1)),Ot(e,ta(t,3),a,!0)}function ja(e){return null!=e&&e.length?hr(e,1):[]}function Ba(e){return e&&e.length?e[0]:i}var Ha=Ur(function(e){var t=Et(e,ci);return t.length&&t[0]===e[0]?kr(t):[]}),Ua=Ur(function(e){var t=Ga(e),n=Et(e,ci);return t===Ga(n)?t=i:n.pop(),n.length&&n[0]===e[0]?kr(n,ta(t,2)):[]}),Va=Ur(function(e){var t=Ga(e),n=Et(e,ci);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?kr(n,i,t):[]});function Ga(e){var t=null==e?0:e.length;return t?e[t-1]:i}var qa=Ur(Wa);function Wa(e,t){return e&&e.length&&t&&t.length?zr(e,t):e}var $a=Xi(function(e,t){var n=null==e?0:e.length,r=er(e,t);return jr(e,Et(t,function(e){return ha(e,n)?+e:e}).sort(_i)),r});function Xa(e){return null==e?e:vn.call(e)}var Za=Ur(function(e){return ri(hr(e,1,Uo,!0))}),Ja=Ur(function(e){var t=Ga(e);return Uo(t)&&(t=i),ri(hr(e,1,Uo,!0),ta(t,2))}),Ka=Ur(function(e){var t=Ga(e);return t="function"==typeof t?t:i,ri(hr(e,1,Uo,!0),i,t)});function Qa(e){if(!e||!e.length)return[];var t=0;return e=Ct(e,function(e){if(Uo(e))return t=fn(e.length,t),!0}),Ut(t,function(t){return Et(e,zt(t))})}function eo(e,t){if(!e||!e.length)return[];var n=Qa(e);return null==t?n:Et(n,function(e){return _t(t,i,e)})}var to=Ur(function(e,t){return Uo(e)?ar(e,t):[]}),no=Ur(function(e){return ui(Ct(e,Uo))}),ro=Ur(function(e){var t=Ga(e);return Uo(t)&&(t=i),ui(Ct(e,Uo),ta(t,2))}),io=Ur(function(e){var t=Ga(e);return t="function"==typeof t?t:i,ui(Ct(e,Uo),i,t)}),ao=Ur(Qa),oo=Ur(function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,eo(e,n)});function so(e){var t=On(e);return t.__chain__=!0,t}function uo(e,t){return t(e)}var lo=Xi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return er(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Yn&&ha(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:uo,args:[a],thisArg:i}),new Fn(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(a)}),co=Ci(function(e,t,n){Le.call(e,n)?++e[n]:Qn(e,n,1)}),ho=Di(Ya),fo=Di(za);function po(e,t){return(jo(e)?wt:or)(e,ta(t,3))}function mo(e,t){return(jo(e)?xt:sr)(e,ta(t,3))}var go=Ci(function(e,t,n){Le.call(e,n)?e[n].push(t):Qn(e,n,[t])}),vo=Ur(function(e,t,n){var i=-1,a="function"==typeof t,o=Ho(e)?r(e.length):[];return or(e,function(e){o[++i]=a?_t(t,e,n):Cr(e,t,n)}),o}),yo=Ci(function(e,t,n){Qn(e,n,t)});function _o(e,t){return(jo(e)?Et:Ar)(e,ta(t,3))}var bo=Ci(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),wo=Ur(function(e,t){if(null==e)return[];var n=t.length;return n>1&&fa(e,t[0],t[1])?t=[]:n>2&&fa(t[0],t[1],t[2])&&(t=[t[0]]),Fr(e,hr(t,1),[])}),xo=at||function(){return st.Date.now()};function ko(e,t,n){return t=n?i:t,Vi(e,128,i,i,i,i,t=e&&null==t?e.length:t)}function Co(e,t){var n;if("function"!=typeof t)throw new Ce(a);return e=cs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var So=Ur(function(e,t,n){var r=1;if(n.length){var i=rn(n,ea(So));r|=32}return Vi(e,r,t,n,i)}),Mo=Ur(function(e,t,n){var r=3;if(n.length){var i=rn(n,ea(Mo));r|=32}return Vi(t,r,e,n,i)});function Eo(e,t,n){var r,o,s,u,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ce(a);function m(t){var n=r,a=o;return r=o=i,h=t,u=e.apply(a,n)}function g(e){return h=e,l=Ca(y,t),f?m(e):u}function v(e){var n=e-c;return c===i||n>=t||n<0||d&&e-h>=s}function y(){var e=xo();if(v(e))return _(e);l=Ca(y,function(e){var n=t-(e-c);return d?dn(n,s-(e-h)):n}(e))}function _(e){return l=i,p&&r?m(e):(r=o=i,u)}function b(){var e=xo(),n=v(e);if(r=arguments,o=this,c=e,n){if(l===i)return g(c);if(d)return mi(l),l=Ca(y,t),m(c)}return l===i&&(l=Ca(y,t)),u}return t=fs(t)||0,Zo(n)&&(f=!!n.leading,s=(d="maxWait"in n)?fn(fs(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==i&&mi(l),h=0,r=c=o=l=i},b.flush=function(){return l===i?u:_(xo())},b}var To=Ur(function(e,t){return ir(e,1,t)}),Lo=Ur(function(e,t,n){return ir(e,fs(t)||0,n)});function Io(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Io.Cache||Bn),n}function Do(e){if("function"!=typeof e)throw new Ce(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Io.Cache=Bn;var Ao=di(function(e,t){var n=(t=1==t.length&&jo(t[0])?Et(t[0],Gt(ta())):Et(hr(t,1),Gt(ta()))).length;return Ur(function(r){for(var i=-1,a=dn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return _t(e,this,r)})}),Po=Ur(function(e,t){var n=rn(t,ea(Po));return Vi(e,32,i,t,n)}),Oo=Ur(function(e,t){var n=rn(t,ea(Oo));return Vi(e,64,i,t,n)}),No=Xi(function(e,t){return Vi(e,256,i,i,i,t)});function Ro(e,t){return e===t||e!=e&&t!=t}var Fo=zi(br),Yo=zi(function(e,t){return e>=t}),zo=Sr(function(){return arguments}())?Sr:function(e){return Jo(e)&&Le.call(e,"callee")&&!He.call(e,"callee")},jo=r.isArray,Bo=dt?Gt(dt):function(e){return Jo(e)&&_r(e)==T};function Ho(e){return null!=e&&Xo(e.length)&&!Wo(e)}function Uo(e){return Jo(e)&&Ho(e)}var Vo=ft||fu,Go=pt?Gt(pt):function(e){return Jo(e)&&_r(e)==m};function qo(e){if(!Jo(e))return!1;var t=_r(e);return t==g||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!es(e)}function Wo(e){if(!Zo(e))return!1;var t=_r(e);return t==v||t==y||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $o(e){return"number"==typeof e&&e==cs(e)}function Xo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function Zo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Jo(e){return null!=e&&"object"==typeof e}var Ko=mt?Gt(mt):function(e){return Jo(e)&&sa(e)==_};function Qo(e){return"number"==typeof e||Jo(e)&&_r(e)==b}function es(e){if(!Jo(e)||_r(e)!=w)return!1;var t=je(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Te.call(n)==Pe}var ts=gt?Gt(gt):function(e){return Jo(e)&&_r(e)==k},ns=vt?Gt(vt):function(e){return Jo(e)&&sa(e)==C};function rs(e){return"string"==typeof e||!jo(e)&&Jo(e)&&_r(e)==S}function is(e){return"symbol"==typeof e||Jo(e)&&_r(e)==M}var as=yt?Gt(yt):function(e){return Jo(e)&&Xo(e.length)&&!!et[_r(e)]},os=zi(Dr),ss=zi(function(e,t){return e<=t});function us(e){if(!e)return[];if(Ho(e))return rs(e)?sn(e):xi(e);if(Ge&&e[Ge])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ge]());var t=sa(e);return(t==_?tn:t==C?an:Rs)(e)}function ls(e){return e?(e=fs(e))===u||e===-u?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function cs(e){var t=ls(e),n=t%1;return t==t?n?t-n:t:0}function hs(e){return e?tr(cs(e),0,c):0}function fs(e){if("number"==typeof e)return e;if(is(e))return NaN;if(Zo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vt(e);var n=he.test(e);return n||de.test(e)?it(e.slice(2),n?2:8):ce.test(e)?NaN:+e}function ds(e){return ki(e,Ts(e))}function ps(e){return null==e?"":ni(e)}var ms=Si(function(e,t){if(ga(t)||Ho(t))ki(t,Es(t),e);else for(var n in t)Le.call(t,n)&&Xn(e,n,t[n])}),gs=Si(function(e,t){ki(t,Ts(t),e)}),vs=Si(function(e,t,n,r){ki(t,Ts(t),e,r)}),ys=Si(function(e,t,n,r){ki(t,Es(t),e,r)}),_s=Xi(er),bs=Ur(function(e,t){e=we(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&fa(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=Ts(o),u=-1,l=s.length;++u<l;){var c=s[u],h=e[c];(h===i||Ro(h,Me[c])&&!Le.call(e,c))&&(e[c]=o[c])}return e}),ws=Ur(function(e){return e.push(i,qi),_t(Is,i,e)});function xs(e,t,n){var r=null==e?i:vr(e,t);return r===i?n:r}function ks(e,t){return null!=e&&ua(e,t,xr)}var Cs=Oi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n},Zs(Qs)),Ss=Oi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]},ta),Ms=Ur(Cr);function Es(e){return Ho(e)?Vn(e):Ir(e)}function Ts(e){return Ho(e)?Vn(e,!0):function(e){if(!Zo(e))return function(e){var t=[];if(null!=e)for(var n in we(e))t.push(n);return t}(e);var t=ga(e),n=[];for(var r in e)"constructor"==r&&(t||!Le.call(e,r))||n.push(r);return n}(e)}var Ls=Si(function(e,t,n){Nr(e,t,n)}),Is=Si(function(e,t,n,r){Nr(e,t,n,r)}),Ds=Xi(function(e,t){var n={};if(null==e)return n;var r=!1;t=Et(t,function(t){return t=fi(t,e),r||(r=t.length>1),t}),ki(e,Ji(e),n),r&&(n=nr(n,7,Wi));for(var i=t.length;i--;)ii(n,t[i]);return n}),As=Xi(function(e,t){return null==e?{}:function(e,t){return Yr(e,t,function(t,n){return ks(e,n)})}(e,t)});function Ps(e,t){if(null==e)return{};var n=Et(Ji(e),function(e){return[e]});return t=ta(t),Yr(e,n,function(e,n){return t(e,n[0])})}var Os=Ui(Es),Ns=Ui(Ts);function Rs(e){return null==e?[]:qt(e,Es(e))}var Fs=Li(function(e,t,n){return t=t.toLowerCase(),e+(n?Ys(t):t)});function Ys(e){return qs(ps(e).toLowerCase())}function zs(e){return(e=ps(e))&&e.replace(me,Jt).replace(We,"")}var js=Li(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Bs=Li(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Hs=Ti("toLowerCase"),Us=Li(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Vs=Li(function(e,t,n){return e+(n?" ":"")+qs(t)}),Gs=Li(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),qs=Ti("toUpperCase");function Ws(e,t,n){return e=ps(e),(t=n?i:t)===i?function(e){return Je.test(e)}(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.match(ae)||[]}(e):e.match(t)||[]}var $s=Ur(function(e,t){try{return _t(e,i,t)}catch(Ia){return qo(Ia)?Ia:new ye(Ia)}}),Xs=Xi(function(e,t){return wt(t,function(t){t=Aa(t),Qn(e,t,So(e[t],e))}),e});function Zs(e){return function(){return e}}var Js=Ai(),Ks=Ai(!0);function Qs(e){return e}function eu(e){return Lr("function"==typeof e?e:nr(e,1))}var tu=Ur(function(e,t){return function(n){return Cr(n,e,t)}}),nu=Ur(function(e,t){return function(n){return Cr(e,n,t)}});function ru(e,t,n){var r=Es(t),i=gr(t,r);null==n&&(!Zo(t)||!i.length&&r.length)&&(n=t,t=e,e=this,i=gr(t,Es(t)));var a=!(Zo(n)&&"chain"in n&&!n.chain),o=Wo(e);return wt(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=xi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Tt([this.value()],arguments))})}),e}function iu(){}var au=Ri(Et),ou=Ri(kt),su=Ri(Dt);function uu(e){return da(e)?zt(Aa(e)):function(e){return function(t){return vr(t,e)}}(e)}var lu=Yi(),cu=Yi(!0);function hu(){return[]}function fu(){return!1}var du=Ni(function(e,t){return e+t},0),pu=Bi("ceil"),mu=Ni(function(e,t){return e/t},1),gu=Bi("floor"),vu=Ni(function(e,t){return e*t},1),yu=Bi("round"),_u=Ni(function(e,t){return e-t},0);return On.after=function(e,t){if("function"!=typeof t)throw new Ce(a);return e=cs(e),function(){if(--e<1)return t.apply(this,arguments)}},On.ary=ko,On.assign=ms,On.assignIn=gs,On.assignInWith=vs,On.assignWith=ys,On.at=_s,On.before=Co,On.bind=So,On.bindAll=Xs,On.bindKey=Mo,On.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return jo(e)?e:[e]},On.chain=so,On.chunk=function(e,t,n){t=(n?fa(e,t,n):t===i)?1:fn(cs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,u=r(ut(a/t));o<a;)u[s++]=Zr(e,o,o+=t);return u},On.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},On.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Tt(jo(n)?xi(n):[n],hr(t,1))},On.cond=function(e){var t=null==e?0:e.length,n=ta();return e=t?Et(e,function(e){if("function"!=typeof e[1])throw new Ce(a);return[n(e[0]),e[1]]}):[],Ur(function(n){for(var r=-1;++r<t;){var i=e[r];if(_t(i[0],this,n))return _t(i[1],this,n)}})},On.conforms=function(e){return function(e){var t=Es(e);return function(n){return rr(n,e,t)}}(nr(e,1))},On.constant=Zs,On.countBy=co,On.create=function(e,t){var n=Nn(e);return null==t?n:Kn(n,t)},On.curry=function e(t,n,r){var a=Vi(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},On.curryRight=function e(t,n,r){var a=Vi(t,16,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},On.debounce=Eo,On.defaults=bs,On.defaultsDeep=ws,On.defer=To,On.delay=Lo,On.difference=Na,On.differenceBy=Ra,On.differenceWith=Fa,On.drop=function(e,t,n){var r=null==e?0:e.length;return r?Zr(e,(t=n||t===i?1:cs(t))<0?0:t,r):[]},On.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Zr(e,0,(t=r-(t=n||t===i?1:cs(t)))<0?0:t):[]},On.dropRightWhile=function(e,t){return e&&e.length?oi(e,ta(t,3),!0,!0):[]},On.dropWhile=function(e,t){return e&&e.length?oi(e,ta(t,3),!0):[]},On.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&fa(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=cs(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:cs(r))<0&&(r+=a),r=n>r?0:hs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},On.filter=function(e,t){return(jo(e)?Ct:cr)(e,ta(t,3))},On.flatMap=function(e,t){return hr(_o(e,t),1)},On.flatMapDeep=function(e,t){return hr(_o(e,t),u)},On.flatMapDepth=function(e,t,n){return n=n===i?1:cs(n),hr(_o(e,t),n)},On.flatten=ja,On.flattenDeep=function(e){return null!=e&&e.length?hr(e,u):[]},On.flattenDepth=function(e,t){return null!=e&&e.length?hr(e,t=t===i?1:cs(t)):[]},On.flip=function(e){return Vi(e,512)},On.flow=Js,On.flowRight=Ks,On.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},On.functions=function(e){return null==e?[]:gr(e,Es(e))},On.functionsIn=function(e){return null==e?[]:gr(e,Ts(e))},On.groupBy=go,On.initial=function(e){return null!=e&&e.length?Zr(e,0,-1):[]},On.intersection=Ha,On.intersectionBy=Ua,On.intersectionWith=Va,On.invert=Cs,On.invertBy=Ss,On.invokeMap=vo,On.iteratee=eu,On.keyBy=yo,On.keys=Es,On.keysIn=Ts,On.map=_o,On.mapKeys=function(e,t){var n={};return t=ta(t,3),pr(e,function(e,r,i){Qn(n,t(e,r,i),e)}),n},On.mapValues=function(e,t){var n={};return t=ta(t,3),pr(e,function(e,r,i){Qn(n,r,t(e,r,i))}),n},On.matches=function(e){return Pr(nr(e,1))},On.matchesProperty=function(e,t){return Or(e,nr(t,1))},On.memoize=Io,On.merge=Ls,On.mergeWith=Is,On.method=tu,On.methodOf=nu,On.mixin=ru,On.negate=Do,On.nthArg=function(e){return e=cs(e),Ur(function(t){return Rr(t,e)})},On.omit=Ds,On.omitBy=function(e,t){return Ps(e,Do(ta(t)))},On.once=function(e){return Co(2,e)},On.orderBy=function(e,t,n,r){return null==e?[]:(jo(t)||(t=null==t?[]:[t]),jo(n=r?i:n)||(n=null==n?[]:[n]),Fr(e,t,n))},On.over=au,On.overArgs=Ao,On.overEvery=ou,On.overSome=su,On.partial=Po,On.partialRight=Oo,On.partition=bo,On.pick=As,On.pickBy=Ps,On.property=uu,On.propertyOf=function(e){return function(t){return null==e?i:vr(e,t)}},On.pull=qa,On.pullAll=Wa,On.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,ta(n,2)):e},On.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?zr(e,t,i,n):e},On.pullAt=$a,On.range=lu,On.rangeRight=cu,On.rearg=No,On.reject=function(e,t){return(jo(e)?Ct:cr)(e,Do(ta(t,3)))},On.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ta(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return jr(e,i),n},On.rest=function(e,t){if("function"!=typeof e)throw new Ce(a);return Ur(e,t=t===i?t:cs(t))},On.reverse=Xa,On.sampleSize=function(e,t,n){return t=(n?fa(e,t,n):t===i)?1:cs(t),(jo(e)?qn:Gr)(e,t)},On.set=function(e,t,n){return null==e?e:qr(e,t,n)},On.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:qr(e,t,n,r)},On.shuffle=function(e){return(jo(e)?Wn:Xr)(e)},On.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&fa(e,t,n)?(t=0,n=r):(t=null==t?0:cs(t),n=n===i?r:cs(n)),Zr(e,t,n)):[]},On.sortBy=wo,On.sortedUniq=function(e){return e&&e.length?ei(e):[]},On.sortedUniqBy=function(e,t){return e&&e.length?ei(e,ta(t,2)):[]},On.split=function(e,t,n){return n&&"number"!=typeof n&&fa(e,t,n)&&(t=n=i),(n=n===i?c:n>>>0)?(e=ps(e))&&("string"==typeof t||null!=t&&!ts(t))&&!(t=ni(t))&&en(e)?pi(sn(e),0,n):e.split(t,n):[]},On.spread=function(e,t){if("function"!=typeof e)throw new Ce(a);return t=null==t?0:fn(cs(t),0),Ur(function(n){var r=n[t],i=pi(n,0,t);return r&&Tt(i,r),_t(e,this,i)})},On.tail=function(e){var t=null==e?0:e.length;return t?Zr(e,1,t):[]},On.take=function(e,t,n){return e&&e.length?Zr(e,0,(t=n||t===i?1:cs(t))<0?0:t):[]},On.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Zr(e,(t=r-(t=n||t===i?1:cs(t)))<0?0:t,r):[]},On.takeRightWhile=function(e,t){return e&&e.length?oi(e,ta(t,3),!1,!0):[]},On.takeWhile=function(e,t){return e&&e.length?oi(e,ta(t,3)):[]},On.tap=function(e,t){return t(e),e},On.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ce(a);return Zo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Eo(e,t,{leading:r,maxWait:t,trailing:i})},On.thru=uo,On.toArray=us,On.toPairs=Os,On.toPairsIn=Ns,On.toPath=function(e){return jo(e)?Et(e,Aa):is(e)?[e]:xi(Da(ps(e)))},On.toPlainObject=ds,On.transform=function(e,t,n){var r=jo(e),i=r||Vo(e)||as(e);if(t=ta(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Zo(e)&&Wo(a)?Nn(je(e)):{}}return(i?wt:pr)(e,function(e,r,i){return t(n,e,r,i)}),n},On.unary=function(e){return ko(e,1)},On.union=Za,On.unionBy=Ja,On.unionWith=Ka,On.uniq=function(e){return e&&e.length?ri(e):[]},On.uniqBy=function(e,t){return e&&e.length?ri(e,ta(t,2)):[]},On.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ri(e,i,t):[]},On.unset=function(e,t){return null==e||ii(e,t)},On.unzip=Qa,On.unzipWith=eo,On.update=function(e,t,n){return null==e?e:ai(e,t,hi(n))},On.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ai(e,t,hi(n),r)},On.values=Rs,On.valuesIn=function(e){return null==e?[]:qt(e,Ts(e))},On.without=to,On.words=Ws,On.wrap=function(e,t){return Po(hi(t),e)},On.xor=no,On.xorBy=ro,On.xorWith=io,On.zip=ao,On.zipObject=function(e,t){return li(e||[],t||[],Xn)},On.zipObjectDeep=function(e,t){return li(e||[],t||[],qr)},On.zipWith=oo,On.entries=Os,On.entriesIn=Ns,On.extend=gs,On.extendWith=vs,ru(On,On),On.add=du,On.attempt=$s,On.camelCase=Fs,On.capitalize=Ys,On.ceil=pu,On.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=fs(n))==n?n:0),t!==i&&(t=(t=fs(t))==t?t:0),tr(fs(e),t,n)},On.clone=function(e){return nr(e,4)},On.cloneDeep=function(e){return nr(e,5)},On.cloneDeepWith=function(e,t){return nr(e,5,t="function"==typeof t?t:i)},On.cloneWith=function(e,t){return nr(e,4,t="function"==typeof t?t:i)},On.conformsTo=function(e,t){return null==t||rr(e,t,Es(t))},On.deburr=zs,On.defaultTo=function(e,t){return null==e||e!=e?t:e},On.divide=mu,On.endsWith=function(e,t,n){e=ps(e),t=ni(t);var r=e.length,a=n=n===i?r:tr(cs(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},On.eq=Ro,On.escape=function(e){return(e=ps(e))&&G.test(e)?e.replace(U,Kt):e},On.escapeRegExp=function(e){return(e=ps(e))&&Q.test(e)?e.replace(K,"\\$&"):e},On.every=function(e,t,n){var r=jo(e)?kt:ur;return n&&fa(e,t,n)&&(t=i),r(e,ta(t,3))},On.find=ho,On.findIndex=Ya,On.findKey=function(e,t){return Pt(e,ta(t,3),pr)},On.findLast=fo,On.findLastIndex=za,On.findLastKey=function(e,t){return Pt(e,ta(t,3),mr)},On.floor=gu,On.forEach=po,On.forEachRight=mo,On.forIn=function(e,t){return null==e?e:fr(e,ta(t,3),Ts)},On.forInRight=function(e,t){return null==e?e:dr(e,ta(t,3),Ts)},On.forOwn=function(e,t){return e&&pr(e,ta(t,3))},On.forOwnRight=function(e,t){return e&&mr(e,ta(t,3))},On.get=xs,On.gt=Fo,On.gte=Yo,On.has=function(e,t){return null!=e&&ua(e,t,wr)},On.hasIn=ks,On.head=Ba,On.identity=Qs,On.includes=function(e,t,n,r){e=Ho(e)?e:Rs(e),n=n&&!r?cs(n):0;var i=e.length;return n<0&&(n=fn(i+n,0)),rs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Nt(e,t,n)>-1},On.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:cs(n);return i<0&&(i=fn(r+i,0)),Nt(e,t,i)},On.inRange=function(e,t,n){return t=ls(t),n===i?(n=t,t=0):n=ls(n),function(e,t,n){return e>=dn(t,n)&&e<fn(t,n)}(e=fs(e),t,n)},On.invoke=Ms,On.isArguments=zo,On.isArray=jo,On.isArrayBuffer=Bo,On.isArrayLike=Ho,On.isArrayLikeObject=Uo,On.isBoolean=function(e){return!0===e||!1===e||Jo(e)&&_r(e)==p},On.isBuffer=Vo,On.isDate=Go,On.isElement=function(e){return Jo(e)&&1===e.nodeType&&!es(e)},On.isEmpty=function(e){if(null==e)return!0;if(Ho(e)&&(jo(e)||"string"==typeof e||"function"==typeof e.splice||Vo(e)||as(e)||zo(e)))return!e.length;var t=sa(e);if(t==_||t==C)return!e.size;if(ga(e))return!Ir(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},On.isEqual=function(e,t){return Mr(e,t)},On.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Mr(e,t,i,n):!!r},On.isError=qo,On.isFinite=function(e){return"number"==typeof e&&At(e)},On.isFunction=Wo,On.isInteger=$o,On.isLength=Xo,On.isMap=Ko,On.isMatch=function(e,t){return e===t||Er(e,t,ra(t))},On.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Er(e,t,ra(t),n)},On.isNaN=function(e){return Qo(e)&&e!=+e},On.isNative=function(e){if(ma(e))throw new ye("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tr(e)},On.isNil=function(e){return null==e},On.isNull=function(e){return null===e},On.isNumber=Qo,On.isObject=Zo,On.isObjectLike=Jo,On.isPlainObject=es,On.isRegExp=ts,On.isSafeInteger=function(e){return $o(e)&&e>=-l&&e<=l},On.isSet=ns,On.isString=rs,On.isSymbol=is,On.isTypedArray=as,On.isUndefined=function(e){return e===i},On.isWeakMap=function(e){return Jo(e)&&sa(e)==E},On.isWeakSet=function(e){return Jo(e)&&"[object WeakSet]"==_r(e)},On.join=function(e,t){return null==e?"":jt.call(e,t)},On.kebabCase=js,On.last=Ga,On.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=cs(n))<0?fn(r+a,0):dn(a,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Ot(e,Ft,a,!0)},On.lowerCase=Bs,On.lowerFirst=Hs,On.lt=os,On.lte=ss,On.max=function(e){return e&&e.length?lr(e,Qs,br):i},On.maxBy=function(e,t){return e&&e.length?lr(e,ta(t,2),br):i},On.mean=function(e){return Yt(e,Qs)},On.meanBy=function(e,t){return Yt(e,ta(t,2))},On.min=function(e){return e&&e.length?lr(e,Qs,Dr):i},On.minBy=function(e,t){return e&&e.length?lr(e,ta(t,2),Dr):i},On.stubArray=hu,On.stubFalse=fu,On.stubObject=function(){return{}},On.stubString=function(){return""},On.stubTrue=function(){return!0},On.multiply=vu,On.nth=function(e,t){return e&&e.length?Rr(e,cs(t)):i},On.noConflict=function(){return st._===this&&(st._=Oe),this},On.noop=iu,On.now=xo,On.pad=function(e,t,n){e=ps(e);var r=(t=cs(t))?on(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Fi(lt(i),n)+e+Fi(ut(i),n)},On.padEnd=function(e,t,n){e=ps(e);var r=(t=cs(t))?on(e):0;return t&&r<t?e+Fi(t-r,n):e},On.padStart=function(e,t,n){e=ps(e);var r=(t=cs(t))?on(e):0;return t&&r<t?Fi(t-r,n)+e:e},On.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),mn(ps(e).replace(ee,""),t||0)},On.random=function(e,t,n){if(n&&"boolean"!=typeof n&&fa(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ls(e),t===i?(t=e,e=0):t=ls(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=gn();return dn(e+a*(t-e+rt("1e-"+((a+"").length-1))),t)}return Br(e,t)},On.reduce=function(e,t,n){var r=jo(e)?Lt:Bt,i=arguments.length<3;return r(e,ta(t,4),n,i,or)},On.reduceRight=function(e,t,n){var r=jo(e)?It:Bt,i=arguments.length<3;return r(e,ta(t,4),n,i,sr)},On.repeat=function(e,t,n){return t=(n?fa(e,t,n):t===i)?1:cs(t),Hr(ps(e),t)},On.replace=function(){var e=arguments,t=ps(e[0]);return e.length<3?t:t.replace(e[1],e[2])},On.result=function(e,t,n){var r=-1,a=(t=fi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Aa(t[r])];o===i&&(r=a,o=n),e=Wo(o)?o.call(e):o}return e},On.round=yu,On.runInContext=e,On.sample=function(e){return(jo(e)?Gn:Vr)(e)},On.size=function(e){if(null==e)return 0;if(Ho(e))return rs(e)?on(e):e.length;var t=sa(e);return t==_||t==C?e.size:Ir(e).length},On.snakeCase=Us,On.some=function(e,t,n){var r=jo(e)?Dt:Jr;return n&&fa(e,t,n)&&(t=i),r(e,ta(t,3))},On.sortedIndex=function(e,t){return Kr(e,t)},On.sortedIndexBy=function(e,t,n){return Qr(e,t,ta(n,2))},On.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Kr(e,t);if(r<n&&Ro(e[r],t))return r}return-1},On.sortedLastIndex=function(e,t){return Kr(e,t,!0)},On.sortedLastIndexBy=function(e,t,n){return Qr(e,t,ta(n,2),!0)},On.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Kr(e,t,!0)-1;if(Ro(e[n],t))return n}return-1},On.startCase=Vs,On.startsWith=function(e,t,n){return e=ps(e),n=null==n?0:tr(cs(n),0,e.length),t=ni(t),e.slice(n,n+t.length)==t},On.subtract=_u,On.sum=function(e){return e&&e.length?Ht(e,Qs):0},On.sumBy=function(e,t){return e&&e.length?Ht(e,ta(t,2)):0},On.template=function(e,t,n){var r=On.templateSettings;n&&fa(e,t,n)&&(t=i),e=ps(e),t=vs({},t,r,Gi);var a,o,s=vs({},t.imports,r.imports,Gi),u=Es(s),l=qt(s,u),c=0,h=t.interpolate||ge,f="__p += '",d=xe((t.escape||ge).source+"|"+h.source+"|"+(h===$?ue:ge).source+"|"+(t.evaluate||ge).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qe+"]")+"\n";e.replace(d,function(t,n,r,i,s,u){return r||(r=i),f+=e.slice(c,u).replace(ve,Qt),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),f+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(oe.test(m))throw new ye("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(z,""):f).replace(j,"$1").replace(B,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=$s(function(){return _e(u,p+"return "+f).apply(i,l)});if(g.source=f,qo(g))throw g;return g},On.times=function(e,t){if((e=cs(e))<1||e>l)return[];var n=c,r=dn(e,c);t=ta(t),e-=c;for(var i=Ut(r,t);++n<e;)t(n);return i},On.toFinite=ls,On.toInteger=cs,On.toLength=hs,On.toLower=function(e){return ps(e).toLowerCase()},On.toNumber=fs,On.toSafeInteger=function(e){return e?tr(cs(e),-l,l):0===e?e:0},On.toString=ps,On.toUpper=function(e){return ps(e).toUpperCase()},On.trim=function(e,t,n){if((e=ps(e))&&(n||t===i))return Vt(e);if(!e||!(t=ni(t)))return e;var r=sn(e),a=sn(t);return pi(r,$t(r,a),Xt(r,a)+1).join("")},On.trimEnd=function(e,t,n){if((e=ps(e))&&(n||t===i))return e.slice(0,un(e)+1);if(!e||!(t=ni(t)))return e;var r=sn(e);return pi(r,0,Xt(r,sn(t))+1).join("")},On.trimStart=function(e,t,n){if((e=ps(e))&&(n||t===i))return e.replace(ee,"");if(!e||!(t=ni(t)))return e;var r=sn(e);return pi(r,$t(r,sn(t))).join("")},On.truncate=function(e,t){var n=30,r="...";if(Zo(t)){var a="separator"in t?t.separator:a;n="length"in t?cs(t.length):n,r="omission"in t?ni(t.omission):r}var o=(e=ps(e)).length;if(en(e)){var s=sn(e);o=s.length}if(n>=o)return e;var u=n-on(r);if(u<1)return r;var l=s?pi(s,0,u).join(""):e.slice(0,u);if(a===i)return l+r;if(s&&(u+=l.length-u),ts(a)){if(e.slice(u).search(a)){var c,h=l;for(a.global||(a=xe(a.source,ps(le.exec(a))+"g")),a.lastIndex=0;c=a.exec(h);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(e.indexOf(ni(a),u)!=u){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+r},On.unescape=function(e){return(e=ps(e))&&V.test(e)?e.replace(H,ln):e},On.uniqueId=function(e){var t=++Ie;return ps(e)+t},On.upperCase=Gs,On.upperFirst=qs,On.each=po,On.eachRight=mo,On.first=Ba,ru(On,function(){var e={};return pr(On,function(t,n){Le.call(On.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),On.VERSION="4.17.21",wt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){On[e].placeholder=On}),wt(["drop","take"],function(e,t){Yn.prototype[e]=function(n){n=n===i?1:fn(cs(n),0);var r=this.__filtered__&&!t?new Yn(this):this.clone();return r.__filtered__?r.__takeCount__=dn(n,r.__takeCount__):r.__views__.push({size:dn(n,c),type:e+(r.__dir__<0?"Right":"")}),r},Yn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),wt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Yn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ta(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),wt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Yn.prototype[e]=function(){return this[n](1).value()[0]}}),wt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Yn.prototype[e]=function(){return this.__filtered__?new Yn(this):this[n](1)}}),Yn.prototype.compact=function(){return this.filter(Qs)},Yn.prototype.find=function(e){return this.filter(e).head()},Yn.prototype.findLast=function(e){return this.reverse().find(e)},Yn.prototype.invokeMap=Ur(function(e,t){return"function"==typeof e?new Yn(this):this.map(function(n){return Cr(n,e,t)})}),Yn.prototype.reject=function(e){return this.filter(Do(ta(e)))},Yn.prototype.slice=function(e,t){e=cs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Yn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=cs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Yn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Yn.prototype.toArray=function(){return this.take(c)},pr(Yn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=On[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);!a||(On.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Yn,l=s[0],c=u||jo(t),h=function(e){var t=a.apply(On,Tt([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,m=u&&!d;if(!o&&c){t=m?t:new Yn(this);var g=e.apply(t,s);return g.__actions__.push({func:uo,args:[h],thisArg:i}),new Fn(g,f)}return p&&m?e.apply(this,s):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})}),wt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Se[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);On.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(jo(i)?i:[],e)}return this[n](function(n){return t.apply(jo(n)?n:[],e)})}}),pr(Yn.prototype,function(e,t){var n=On[t];if(n){var r=n.name+"";Le.call(Sn,r)||(Sn[r]=[]),Sn[r].push({name:t,func:n})}}),Sn[Pi(i,2).name]=[{name:"wrapper",func:i}],Yn.prototype.clone=function(){var e=new Yn(this.__wrapped__);return e.__actions__=xi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xi(this.__views__),e},Yn.prototype.reverse=function(){if(this.__filtered__){var e=new Yn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Yn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=jo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=dn(t,e+o);break;case"takeRight":e=fn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,c=this.__iteratees__,h=c.length,f=0,d=dn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return si(e,this.__actions__);var p=[];e:for(;u--&&f<d;){for(var m=-1,g=e[l+=t];++m<h;){var v=c[m],y=v.type,_=(0,v.iteratee)(g);if(2==y)g=_;else if(!_){if(1==y)continue e;break e}}p[f++]=g}return p},On.prototype.at=lo,On.prototype.chain=function(){return so(this)},On.prototype.commit=function(){return new Fn(this.value(),this.__chain__)},On.prototype.next=function(){this.__values__===i&&(this.__values__=us(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},On.prototype.plant=function(e){for(var t,n=this;n instanceof Rn;){var r=Oa(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},On.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Yn){var t=e;return this.__actions__.length&&(t=new Yn(this)),(t=t.reverse()).__actions__.push({func:uo,args:[Xa],thisArg:i}),new Fn(t,this.__chain__)}return this.thru(Xa)},On.prototype.toJSON=On.prototype.valueOf=On.prototype.value=function(){return si(this.__wrapped__,this.__actions__)},On.prototype.first=On.prototype.head,Ge&&(On.prototype[Ge]=function(){return this}),On}();st._=cn,(r=(function(){return cn}).call(t,n,t,e))!==i&&(e.exports=r)}).call(this)},41770:function(e,t){!function(e){"use strict";function t(e,t){return e>t?1:e<t?-1:0}var n=function(e,n){void 0===e&&(e=t),void 0===n&&(n=!1),this._compare=e,this._root=null,this._size=0,this._noDuplicates=!!n},r={size:{configurable:!0}};function i(e,t,n,r,a){var o=a-r;if(o>0){var s=r+Math.floor(o/2),u={key:t[s],data:n[s],parent:e};return u.left=i(u,t,n,r,s),u.right=i(u,t,n,s+1,a),u}return null}function a(e,t,n,r,i){if(!(n>=r)){for(var o=e[n+r>>1],s=n-1,u=r+1;;){do{s++}while(i(e[s],o)<0);do{u--}while(i(e[u],o)>0);if(s>=u)break;var l=e[s];e[s]=e[u],e[u]=l,l=t[s],t[s]=t[u],t[u]=l}a(e,t,n,u,i),a(e,t,u+1,r,i)}}function o(e,t,n){null===t?(e.inOut=!1,e.otherInOut=!0):(e.isSubject===t.isSubject?(e.inOut=!t.inOut,e.otherInOut=t.otherInOut):(e.inOut=!t.otherInOut,e.otherInOut=t.isVertical()?!t.inOut:t.inOut),t&&(e.prevInResult=!s(t,n)||t.isVertical()?t.prevInResult:t));var r=s(e,n);e.resultTransition=r?function(e,t){var n,r=!e.inOut,i=!e.otherInOut;switch(t){case 0:n=r&&i;break;case 1:n=r||i;break;case 3:n=r^i;break;case 2:n=e.isSubject?r&&!i:i&&!r}return n?1:-1}(e,n):0}function s(e,t){switch(e.type){case 0:switch(t){case 0:return!e.otherInOut;case 1:return e.otherInOut;case 2:return e.isSubject&&e.otherInOut||!e.isSubject&&!e.otherInOut;case 3:return!0}break;case 2:return 0===t||1===t;case 3:return 2===t;case 1:return!1}return!1}n.prototype.rotateLeft=function(e){var t=e.right;t&&(e.right=t.left,t.left&&(t.left.parent=e),t.parent=e.parent),e.parent?e===e.parent.left?e.parent.left=t:e.parent.right=t:this._root=t,t&&(t.left=e),e.parent=t},n.prototype.rotateRight=function(e){var t=e.left;t&&(e.left=t.right,t.right&&(t.right.parent=e),t.parent=e.parent),e.parent?e===e.parent.left?e.parent.left=t:e.parent.right=t:this._root=t,t&&(t.right=e),e.parent=t},n.prototype._splay=function(e){for(;e.parent;){var t=e.parent;t.parent?t.left===e&&t.parent.left===t?(this.rotateRight(t.parent),this.rotateRight(t)):t.right===e&&t.parent.right===t?(this.rotateLeft(t.parent),this.rotateLeft(t)):t.left===e&&t.parent.right===t?(this.rotateRight(t),this.rotateLeft(t)):(this.rotateLeft(t),this.rotateRight(t)):t.left===e?this.rotateRight(t):this.rotateLeft(t)}},n.prototype.splay=function(e){for(var t,n,r,i,a;e.parent;)(n=(t=e.parent).parent)&&n.parent?((r=n.parent).left===n?r.left=e:r.right=e,e.parent=r):(e.parent=null,this._root=e),i=e.left,a=e.right,e===t.left?(n&&(n.left===t?(t.right?(n.left=t.right,n.left.parent=n):n.left=null,t.right=n,n.parent=t):(i?(n.right=i,i.parent=n):n.right=null,e.left=n,n.parent=e)),a?(t.left=a,a.parent=t):t.left=null,e.right=t,t.parent=e):(n&&(n.right===t?(t.left?(n.right=t.left,n.right.parent=n):n.right=null,t.left=n,n.parent=t):(a?(n.left=a,a.parent=n):n.left=null,e.right=n,n.parent=e)),i?(t.right=i,i.parent=t):t.right=null,e.left=t,t.parent=e)},n.prototype.replace=function(e,t){e.parent?e===e.parent.left?e.parent.left=t:e.parent.right=t:this._root=t,t&&(t.parent=e.parent)},n.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},n.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},n.prototype.insert=function(e,t){var n=this._root,r=null,i=this._compare;if(this._noDuplicates)for(;n;){if(r=n,0===i(n.key,e))return;n=i(n.key,e)<0?n.right:n.left}else for(;n;)r=n,n=i(n.key,e)<0?n.right:n.left;return n={key:e,data:t,left:null,right:null,parent:r},r?i(r.key,n.key)<0?r.right=n:r.left=n:this._root=n,this.splay(n),this._size++,n},n.prototype.find=function(e){for(var t=this._root,n=this._compare;t;){var r=n(t.key,e);if(r<0)t=t.right;else{if(!(r>0))return t;t=t.left}}return null},n.prototype.contains=function(e){for(var t=this._root,n=this._compare;t;){var r=n(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},n.prototype.remove=function(e){var t=this.find(e);if(!t)return!1;if(this.splay(t),t.left)if(t.right){var n=this.minNode(t.right);n.parent!==t&&(this.replace(n,n.right),n.right=t.right,n.right.parent=n),this.replace(t,n),n.left=t.left,n.left.parent=n}else this.replace(t,t.left);else this.replace(t,t.right);return this._size--,!0},n.prototype.removeNode=function(e){if(!e)return!1;if(this.splay(e),e.left)if(e.right){var t=this.minNode(e.right);t.parent!==e&&(this.replace(t,t.right),t.right=e.right,t.right.parent=t),this.replace(e,t),t.left=e.left,t.left.parent=t}else this.replace(e,e.left);else this.replace(e,e.right);return this._size--,!0},n.prototype.erase=function(e){var t=this.find(e);if(t){this.splay(t);var n=t.left,r=t.right,i=null;n&&(n.parent=null,i=this.maxNode(n),this.splay(i),this._root=i),r&&(n?i.right=r:this._root=r,r.parent=i),this._size--}},n.prototype.pop=function(){var e=this._root,t=null;if(e){for(;e.left;)e=e.left;t={key:e.key,data:e.data},this.remove(e.key)}return t},n.prototype.next=function(e){var t=e;if(t)if(t.right)for(t=t.right;t&&t.left;)t=t.left;else for(t=e.parent;t&&t.right===e;)e=t,t=t.parent;return t},n.prototype.prev=function(e){var t=e;if(t)if(t.left)for(t=t.left;t&&t.right;)t=t.right;else for(t=e.parent;t&&t.left===e;)e=t,t=t.parent;return t},n.prototype.forEach=function(e){for(var t=this._root,n=[],r=!1,i=0;!r;)t?(n.push(t),t=t.left):n.length>0?(e(t=n.pop(),i++),t=t.right):r=!0;return this},n.prototype.range=function(e,t,n,r){for(var i=[],a=this._compare,o=this._root;0!==i.length||o;)if(o)i.push(o),o=o.left;else{if(a((o=i.pop()).key,t)>0)break;if(a(o.key,e)>=0&&n.call(r,o))return this;o=o.right}return this},n.prototype.keys=function(){for(var e=this._root,t=[],n=[],r=!1;!r;)e?(t.push(e),e=e.left):t.length>0?(e=t.pop(),n.push(e.key),e=e.right):r=!0;return n},n.prototype.values=function(){for(var e=this._root,t=[],n=[],r=!1;!r;)e?(t.push(e),e=e.left):t.length>0?(e=t.pop(),n.push(e.data),e=e.right):r=!0;return n},n.prototype.at=function(e){for(var t=this._root,n=[],r=!1,i=0;!r;)if(t)n.push(t),t=t.left;else if(n.length>0){if(t=n.pop(),i===e)return t;i++,t=t.right}else r=!0;return null},n.prototype.load=function(e,t,n){if(void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===n&&(n=!1),0!==this._size)throw new Error("bulk-load: tree is not empty");var r=e.length;return n&&a(e,t,0,r-1,this._compare),this._root=i(null,e,t,0,r),this._size=r,this},n.prototype.min=function(){var e=this.minNode(this._root);return e?e.key:null},n.prototype.max=function(){var e=this.maxNode(this._root);return e?e.key:null},n.prototype.isEmpty=function(){return null===this._root},r.size.get=function(){return this._size},n.createTree=function(e,t,r,i,a){return new n(r,a).load(e,t,i)},Object.defineProperties(n.prototype,r);var u=function(e,t,n,r,i){this.left=t,this.point=e,this.otherEvent=n,this.isSubject=r,this.type=i||0,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.resultTransition=0,this.otherPos=-1,this.outputContourId=-1,this.isExteriorRing=!0},l={inResult:{configurable:!0}};function c(e,t){return e[0]===t[0]&&e[1]===t[1]}u.prototype.isBelow=function(e){var t=this.point,n=this.otherEvent.point;return this.left?(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])>0:(n[0]-e[0])*(t[1]-e[1])-(t[0]-e[0])*(n[1]-e[1])>0},u.prototype.isAbove=function(e){return!this.isBelow(e)},u.prototype.isVertical=function(){return this.point[0]===this.otherEvent.point[0]},l.inResult.get=function(){return 0!==this.resultTransition},u.prototype.clone=function(){var e=new u(this.point,this.left,this.otherEvent,this.isSubject,this.type);return e.contourId=this.contourId,e.resultTransition=this.resultTransition,e.prevInResult=this.prevInResult,e.isExteriorRing=this.isExteriorRing,e.inOut=this.inOut,e.otherInOut=this.otherInOut,e},Object.defineProperties(u.prototype,l);var h=134217729;function f(e,t,n,r,i){var a,o,s,u,l=t[0],c=r[0],h=0,f=0;c>l==c>-l?(a=l,l=t[++h]):(a=c,c=r[++f]);var d=0;if(h<e&&f<n)for(c>l==c>-l?(s=a-((o=l+a)-l),l=t[++h]):(s=a-((o=c+a)-c),c=r[++f]),a=o,0!==s&&(i[d++]=s);h<e&&f<n;)c>l==c>-l?(s=a-((o=a+l)-(u=o-a))+(l-u),l=t[++h]):(s=a-((o=a+c)-(u=o-a))+(c-u),c=r[++f]),a=o,0!==s&&(i[d++]=s);for(;h<e;)s=a-((o=a+l)-(u=o-a))+(l-u),l=t[++h],a=o,0!==s&&(i[d++]=s);for(;f<n;)s=a-((o=a+c)-(u=o-a))+(c-u),c=r[++f],a=o,0!==s&&(i[d++]=s);return(0!==a||0===d)&&(i[d++]=a),d}function d(e){return new Float64Array(e)}var p=d(4),m=d(8),g=d(12),v=d(16),y=d(4);function _(e,t,n){var r=function(e,t,n,r,i,a){var o=(t-a)*(n-i),s=(e-i)*(r-a),u=o-s;if(0===o||0===s||o>0!=s>0)return u;var l=Math.abs(o+s);return Math.abs(u)>=33306690738754716e-32*l?u:-function(e,t,n,r,i,a,o){var s,u,l,c,d,_,b,w,x,k,C,S,M,E,T,L,I,D,A=e-i,P=n-i,O=t-a,N=r-a;p[0]=(T=(w=A-(b=(_=h*A)-(_-A)))*(k=N-(x=(_=h*N)-(_-N)))-((E=A*N)-b*x-w*x-b*k))-((C=T-(I=(w=O-(b=(_=h*O)-(_-O)))*(k=P-(x=(_=h*P)-(_-P)))-((L=O*P)-b*x-w*x-b*k)))+(d=T-C))+(d-I),p[1]=(M=E-((S=E+C)-(d=S-E))+(C-d))-((C=M-L)+(d=M-C))+(d-L),p[2]=S-((D=S+C)-(d=D-S))+(C-d),p[3]=D;var R=function(e,t){for(var n=t[0],r=1;r<4;r++)n+=t[r];return n}(0,p),F=22204460492503146e-32*o;if(R>=F||-R>=F||(s=e-(A+(d=e-A))+(d-i),l=n-(P+(d=n-P))+(d-i),u=t-(O+(d=t-O))+(d-a),c=r-(N+(d=r-N))+(d-a),0===s&&0===u&&0===l&&0===c)||(F=11093356479670487e-47*o+33306690738754706e-32*Math.abs(R),(R+=A*c+N*s-(O*l+P*u))>=F||-R>=F))return R;y[0]=(T=(w=s-(b=(_=h*s)-(_-s)))*(k=N-(x=(_=h*N)-(_-N)))-((E=s*N)-b*x-w*x-b*k))-((C=T-(I=(w=u-(b=(_=h*u)-(_-u)))*(k=P-(x=(_=h*P)-(_-P)))-((L=u*P)-b*x-w*x-b*k)))+(d=T-C))+(d-I),y[1]=(M=E-((S=E+C)-(d=S-E))+(C-d))-((C=M-L)+(d=M-C))+(d-L),y[2]=S-((D=S+C)-(d=D-S))+(C-d),y[3]=D;var Y=f(4,p,4,y,m);y[0]=(T=(w=A-(b=(_=h*A)-(_-A)))*(k=c-(x=(_=h*c)-(_-c)))-((E=A*c)-b*x-w*x-b*k))-((C=T-(I=(w=O-(b=(_=h*O)-(_-O)))*(k=l-(x=(_=h*l)-(_-l)))-((L=O*l)-b*x-w*x-b*k)))+(d=T-C))+(d-I),y[1]=(M=E-((S=E+C)-(d=S-E))+(C-d))-((C=M-L)+(d=M-C))+(d-L),y[2]=S-((D=S+C)-(d=D-S))+(C-d),y[3]=D;var z=f(Y,m,4,y,g);y[0]=(T=(w=s-(b=(_=h*s)-(_-s)))*(k=c-(x=(_=h*c)-(_-c)))-((E=s*c)-b*x-w*x-b*k))-((C=T-(I=(w=u-(b=(_=h*u)-(_-u)))*(k=l-(x=(_=h*l)-(_-l)))-((L=u*l)-b*x-w*x-b*k)))+(d=T-C))+(d-I),y[1]=(M=E-((S=E+C)-(d=S-E))+(C-d))-((C=M-L)+(d=M-C))+(d-L),y[2]=S-((D=S+C)-(d=D-S))+(C-d),y[3]=D;var j=f(z,g,4,y,v);return v[j-1]}(e,t,n,r,i,a,l)}(e[0],e[1],t[0],t[1],n[0],n[1]);return r>0?-1:r<0?1:0}function b(e,t){var n=e.point,r=t.point;return n[0]>r[0]?1:n[0]<r[0]?-1:n[1]!==r[1]?n[1]>r[1]?1:-1:function(e,t,n,r){return e.left!==t.left?e.left?1:-1:0!==_(n,e.otherEvent.point,t.otherEvent.point)?e.isBelow(t.otherEvent.point)?-1:1:!e.isSubject&&t.isSubject?1:-1}(e,t,n)}function w(e,t,n){var r=new u(t,!1,e,e.isSubject),i=new u(t,!0,e.otherEvent,e.isSubject);return c(e.point,e.otherEvent.point)&&console.warn("what is that, a collapsed segment?",e),r.contourId=i.contourId=e.contourId,b(i,e.otherEvent)>0&&(e.otherEvent.left=!0,i.left=!1),e.otherEvent.otherEvent=i,e.otherEvent=r,n.push(i),n.push(r),n}function x(e,t){return e[0]*t[1]-e[1]*t[0]}function k(e,t){return e[0]*t[0]+e[1]*t[1]}function C(e,t,n){var r=function(e,t,n,r,i){var a=[t[0]-e[0],t[1]-e[1]],o=[r[0]-n[0],r[1]-n[1]];function s(e,t,n){return[e[0]+t*n[0],e[1]+t*n[1]]}var u=[n[0]-e[0],n[1]-e[1]],l=x(a,o),c=l*l,h=k(a,a);if(c>0){var f=x(u,o)/l;if(f<0||f>1)return null;var d=x(u,a)/l;return d<0||d>1?null:0===f||1===f?[s(e,f,a)]:0===d||1===d?[s(n,d,o)]:[s(e,f,a)]}if((c=(l=x(u,a))*l)>0)return null;var p=k(a,u)/h,m=p+k(a,o)/h,g=Math.min(p,m),v=Math.max(p,m);return g<=1&&v>=0?1===g?[s(e,g>0?g:0,a)]:0===v?[s(e,v<1?v:1,a)]:[s(e,g>0?g:0,a),s(e,v<1?v:1,a)]:null}(e.point,e.otherEvent.point,t.point,t.otherEvent.point),i=r?r.length:0;if(0===i||1===i&&(c(e.point,t.point)||c(e.otherEvent.point,t.otherEvent.point))||2===i&&e.isSubject===t.isSubject)return 0;if(1===i)return!c(e.point,r[0])&&!c(e.otherEvent.point,r[0])&&w(e,r[0],n),!c(t.point,r[0])&&!c(t.otherEvent.point,r[0])&&w(t,r[0],n),1;var a=[],o=!1,s=!1;return c(e.point,t.point)?o=!0:1===b(e,t)?a.push(t,e):a.push(e,t),c(e.otherEvent.point,t.otherEvent.point)?s=!0:1===b(e.otherEvent,t.otherEvent)?a.push(t.otherEvent,e.otherEvent):a.push(e.otherEvent,t.otherEvent),o&&s||o?(t.type=1,e.type=t.inOut===e.inOut?2:3,o&&!s&&w(a[1].otherEvent,a[0].point,n),2):s?(w(a[0],a[1].point,n),3):a[0]!==a[3].otherEvent?(w(a[0],a[1].point,n),w(a[1],a[2].point,n),3):(w(a[0],a[1].point,n),w(a[3].otherEvent,a[2].point,n),3)}function S(e,t){if(e===t)return 0;if(0!==_(e.point,e.otherEvent.point,t.point)||0!==_(e.point,e.otherEvent.point,t.otherEvent.point))return c(e.point,t.point)?e.isBelow(t.otherEvent.point)?-1:1:e.point[0]===t.point[0]?e.point[1]<t.point[1]?-1:1:1===b(e,t)?t.isAbove(e.point)?-1:1:e.isBelow(t.point)?-1:1;if(e.isSubject!==t.isSubject)return e.isSubject?-1:1;var n=e.point,r=t.point;return n[0]===r[0]&&n[1]===r[1]?(n=e.otherEvent.point)[0]===(r=t.otherEvent.point)[0]&&n[1]===r[1]?0:e.contourId>t.contourId?1:-1:1===b(e,t)?1:-1}var M=function(){this.points=[],this.holeIds=[],this.holeOf=null,this.depth=null};function E(e,t,n,r){var i,a=e+1,o=t[e].point,s=t.length;for(a<s&&(i=t[a].point);a<s&&i[0]===o[0]&&i[1]===o[1];){if(!n[a])return a;++a<s&&(i=t[a].point)}for(a=e-1;n[a]&&a>r;)a--;return a}M.prototype.isExterior=function(){return null==this.holeOf};var T=I,L=I;function I(e,t){if(!(this instanceof I))return new I(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||D,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function D(e,t){return e<t?-1:e>t?1:0}I.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r},_down:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=a+1,s=t[a];if(o<this.length&&n(t[o],s)<0&&(a=o,s=t[o]),n(s,i)>=0)break;t[e]=s,e=a}t[e]=i}},T.default=L;var A=Math.max,P=Math.min,O=0;function N(e,t,n,r,i,a){var o,s,l,c,h,f;for(o=0,s=e.length-1;o<s;o++)if(c=e[o+1],h=new u(l=e[o],!1,void 0,t),f=new u(c,!1,h,t),h.otherEvent=f,l[0]!==c[0]||l[1]!==c[1]){h.contourId=f.contourId=n,a||(h.isExteriorRing=!1,f.isExteriorRing=!1),b(h,f)>0?f.left=!0:h.left=!0;var d=l[0],p=l[1];i[0]=P(i[0],d),i[1]=P(i[1],p),i[2]=A(i[2],d),i[3]=A(i[3],p),r.push(h),r.push(f)}}var R=[];function F(e,t,r){"number"==typeof e[0][0][0]&&(e=[e]),"number"==typeof t[0][0][0]&&(t=[t]);var i=function(e,t,n){var r=null;return e.length*t.length==0&&(0===n?r=R:2===n?r=e:(1===n||3===n)&&(r=0===e.length?t:e)),r}(e,t,r);if(i)return i===R?null:i;var a=[1/0,1/0,-1/0,-1/0],s=[1/0,1/0,-1/0,-1/0],u=function(e,t,n,r,i){var a,o,s,u,l,c,h=new T(null,b);for(s=0,u=e.length;s<u;s++)for(l=0,c=(a=e[s]).length;l<c;l++)(o=0===l)&&O++,N(a[l],!0,O,h,n,o);for(s=0,u=t.length;s<u;s++)for(l=0,c=(a=t[s]).length;l<c;l++)o=0===l,2===i&&(o=!1),o&&O++,N(a[l],!1,O,h,r,o);return h}(e,t,a,s,r);if(i=function(e,t,n,r,i){var a=null;return(n[0]>r[2]||r[0]>n[2]||n[1]>r[3]||r[1]>n[3])&&(0===i?a=R:2===i?a=e:(1===i||3===i)&&(a=e.concat(t))),a}(e,t,a,s,r))return i===R?null:i;for(var l=function(e){var t,n,r=function(e){var t,n,r,i,a=[];for(n=0,r=e.length;n<r;n++)((t=e[n]).left&&t.inResult||!t.left&&t.otherEvent.inResult)&&a.push(t);for(var o=!1;!o;)for(o=!0,n=0,r=a.length;n<r;n++)n+1<r&&1===b(a[n],a[n+1])&&(i=a[n],a[n]=a[n+1],a[n+1]=i,o=!1);for(n=0,r=a.length;n<r;n++)(t=a[n]).otherPos=n;for(n=0,r=a.length;n<r;n++)(t=a[n]).left||(i=t.otherPos,t.otherPos=t.otherEvent.otherPos,t.otherEvent.otherPos=i);return a}(e),i={},a=[],o=function(){if(!i[t]){var e=a.length,n=function(e,t,n){var r=new M;if(null!=e.prevInResult){var i=e.prevInResult,a=i.outputContourId;if(i.resultTransition>0){var o=t[a];if(null!=o.holeOf){var s=o.holeOf;t[s].holeIds.push(n),r.holeOf=s,r.depth=t[a].depth}else t[a].holeIds.push(n),r.holeOf=a,r.depth=t[a].depth+1}else r.holeOf=null,r.depth=t[a].depth}else r.holeOf=null,r.depth=0;return r}(r[t],a,e),o=function(t){i[t]=!0,t<r.length&&r[t]&&(r[t].outputContourId=e)},s=t,u=t;for(n.points.push(r[t].point);o(s),o(s=r[s].otherPos),n.points.push(r[s].point),!((s=E(s,r,i,u))==u||s>=r.length)&&r[s];);a.push(n)}};for(t=0,n=r.length;t<n;t++)o();return a}(function(e,t,r,i,a,s){for(var u,l,c,h=new n(S),f=[],d=Math.min(i[2],a[2]);0!==e.length;){var p=e.pop();if(f.push(p),0===s&&p.point[0]>d||2===s&&p.point[0]>i[2])break;if(p.left){l=u=h.insert(p),u=u!==(c=h.minNode())?h.prev(u):null,l=h.next(l);var m=u?u.key:null;if(o(p,m,s),l&&2===C(p,l.key,e)&&(o(p,m,s),o(l.key,p,s)),u&&2===C(u.key,p,e)){var g=u;o(m,(g=g!==c?h.prev(g):null)?g.key:null,s),o(p,m,s)}}else l=u=h.find(p=p.otherEvent),u&&l&&(u=u!==c?h.prev(u):null,l=h.next(l),h.remove(p),l&&u&&C(u.key,l.key,e))}return f}(u,0,0,a,s,r)),c=[],h=0;h<l.length;h++){var f=l[h];if(f.isExterior()){for(var d=[f.points],p=0;p<f.holeIds.length;p++)d.push(l[f.holeIds[p]].points);c.push(d)}}return c}e.diff=function(e,t){return F(e,t,2)},e.intersection=function(e,t){return F(e,t,0)},e.operations={UNION:1,DIFFERENCE:2,INTERSECTION:0,XOR:3},e.union=function(e,t){return F(e,t,1)},e.xor=function(e,t){return F(e,t,3)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},26431:function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(16738))},1616:function(e,t,n){!function(e){"use strict";var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},r=function(e){return function(r,i,a,o){var s=t(r),u=n[e][t(r)];return 2===s&&(u=u[i?0:1]),u.replace(/%d/i,r)}},i=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];e.defineLocale("ar-dz",{months:i,monthsShort:i,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(n(16738))},9759:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(n(16738))},43160:function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},i=function(e){return function(t,i,a,o){var s=n(t),u=r[e][n(t)];return 2===s&&(u=u[i?0:1]),u.replace(/%d/i,t)}},a=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];e.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n(16738))},62551:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(n(16738))},79989:function(e,t,n){!function(e){"use strict";var t={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};e.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return n[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(n(16738))},6962:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(n(16738))},81286:function(e,t,n){!function(e){"use strict";var t={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},a=function(e){return function(t,n,a,o){var s=r(t),u=i[e][r(t)];return 2===s&&(u=u[n?0:1]),u.replace(/%d/i,t)}},o=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return n[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n(16738))},15887:function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(e){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec\u0259":e<12?"s\u0259h\u0259r":e<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(e){if(0===e)return e+"-\u0131nc\u0131";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(16738))},14572:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===n?t?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:t?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:t?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[n],+e)}e.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:t,mm:t,h:t,hh:t,d:"\u0434\u0437\u0435\u043d\u044c",dd:t,M:"\u043c\u0435\u0441\u044f\u0446",MM:t,y:"\u0433\u043e\u0434",yy:t},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(e)},meridiem:function(e,t,n){return e<4?"\u043d\u043e\u0447\u044b":e<12?"\u0440\u0430\u043d\u0456\u0446\u044b":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-\u044b":e+"-\u0456";case"D":return e+"-\u0433\u0430";default:return e}},week:{dow:1,doy:7}})}(n(16738))},3276:function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-\u0435\u0432":0===n?e+"-\u0435\u043d":n>10&&n<20?e+"-\u0442\u0438":1===t?e+"-\u0432\u0438":2===t?e+"-\u0440\u0438":7===t||8===t?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n(16738))},93344:function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(16738))},83990:function(e,t,n){!function(e){"use strict";var t={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},n={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};e.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u09b0\u09be\u09a4"===t?e<4?e:e+12:"\u09ad\u09cb\u09b0"===t||"\u09b8\u0995\u09be\u09b2"===t?e:"\u09a6\u09c1\u09aa\u09c1\u09b0"===t?e>=3?e:e+12:"\u09ac\u09bf\u0995\u09be\u09b2"===t||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u09b0\u09be\u09a4":e<6?"\u09ad\u09cb\u09b0":e<12?"\u09b8\u0995\u09be\u09b2":e<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":e<18?"\u09ac\u09bf\u0995\u09be\u09b2":e<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(n(16738))},58985:function(e,t,n){!function(e){"use strict";var t={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},n={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};e.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u09b0\u09be\u09a4"===t&&e>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===t&&e<5||"\u09ac\u09bf\u0995\u09be\u09b2"===t?e+12:e},meridiem:function(e,t,n){return e<4?"\u09b0\u09be\u09a4":e<10?"\u09b8\u0995\u09be\u09b2":e<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":e<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(n(16738))},94391:function(e,t,n){!function(e){"use strict";var t={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},n={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};e.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(e){return e.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===t&&e>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===t&&e<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===t?e+12:e},meridiem:function(e,t,n){return e<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":e<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":e<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":e<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(n(16738))},46728:function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){return e>9?n(e%10):e}var r=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],i=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,a=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:a,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:a,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(e){return e+(1===e?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(16738))},5536:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(16738))},41043:function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8";return("w"===t||"W"===t)&&(n="a"),e+n},week:{dow:1,doy:4}})}(n(16738))},70420:function(e,t,n){!function(e){"use strict";var t={format:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),standalone:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_")},n="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),r=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],i=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function a(e){return e>1&&e<5&&1!=~~(e/10)}function o(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return t||r?i+(a(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(a(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(a(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(a(e)?"dny":"dn\xed"):i+"dny";case"M":return t||r?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return t||r?i+(a(e)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):i+"m\u011bs\xedci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(a(e)?"roky":"let"):i+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},33513:function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(e){return e+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(e)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(n(16738))},6771:function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(16738))},47978:function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},25204:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},2653:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},46061:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},85:function(e,t,n){!function(e){"use strict";var t=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],n=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(e){return"\u0789\u078a"===e},meridiem:function(e,t,n){return e<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(n(16738))},8579:function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(e,t,n){return e>11?n?"\u03bc\u03bc":"\u039c\u039c":n?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(e){return"\u03bc"===(e+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return function(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}(n)&&(n=n.apply(t)),n.replace("{}",r%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(n(16738))},25724:function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(16738))},10525:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(16738))},52847:function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(16738))},67216:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(16738))},39305:function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(16738))},73364:function(e,t,n){!function(e){"use strict";e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(16738))},79130:function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(16738))},11161:function(e,t,n){!function(e){"use strict";e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(16738))},50802:function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(16738))},45551:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(16738))},75615:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(n(16738))},64790:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(n(16738))},40328:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(n(16738))},96389:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[e+" minuti",e+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[e+" tunni",e+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[e+" kuu",e+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d p\xe4eva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},52961:function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(16738))},26151:function(e,t,n){!function(e){"use strict";var t={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},n={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};e.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(e){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(e)},meridiem:function(e,t,n){return e<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/[\u06f0-\u06f9]/g,function(e){return n[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(n(16738))},7997:function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),n=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",t[7],t[8],t[9]];function r(e,r,i,a){var o="";switch(i){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"ss":o=a?"sekunnin":"sekuntia";break;case"m":return a?"minuutin":"minuutti";case"mm":o=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":o=a?"tunnin":"tuntia";break;case"d":return a?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":o=a?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return a?"kuukauden":"kuukausi";case"MM":o=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":o=a?"vuoden":"vuotta"}return function(e,r){return e<10?r?n[e]:t[e]:e}(e,a)+" "+o}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},58898:function(e,t,n){!function(e){"use strict";e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(16738))},37779:function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},3287:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(16738))},38867:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(16738))},28174:function(e,t,n){!function(e){"use strict";var t=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,n=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];e.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(16738))},50452:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(16738))},45014:function(e,t,n){!function(e){"use strict";e.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(16738))},74127:function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(16738))},72124:function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(16738))},6444:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[e+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",e+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[e+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",e+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[e+" \u0935\u0930\u093e\u0902\u0928\u0940",e+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[e+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",e+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[e+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",e+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[e+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",e+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(e,t){switch(t){case"D":return e+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924\u0940"===t?e<4?e:e+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===t?e:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===t?e>12?e:e+12:"\u0938\u093e\u0902\u091c\u0947"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0930\u093e\u0924\u0940":e<12?"\u0938\u0915\u093e\u0933\u0940\u0902":e<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":e<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(n(16738))},37953:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(16738))},76604:function(e,t,n){!function(e){"use strict";var t={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},n={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};e.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(e){return e.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0ab0\u0abe\u0aa4"===t?e<4?e:e+12:"\u0ab8\u0ab5\u0abe\u0ab0"===t?e:"\u0aac\u0aaa\u0acb\u0ab0"===t?e>=10?e:e+12:"\u0ab8\u0abe\u0a82\u0a9c"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0ab0\u0abe\u0aa4":e<10?"\u0ab8\u0ab5\u0abe\u0ab0":e<17?"\u0aac\u0aaa\u0acb\u0ab0":e<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(n(16738))},1222:function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(e){return 2===e?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":e+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(e){return 2===e?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":e+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(e){return 2===e?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":e+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(e){return 2===e?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":e%10==0&&10!==e?e+" \u05e9\u05e0\u05d4":e+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(e){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(e)},meridiem:function(e,t,n){return e<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":e<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":e<12?n?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":e<18?n?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(n(16738))},74235:function(e,t,n){!function(e){"use strict";var t={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},r=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];e.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:r,longMonthsParse:r,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924"===t?e<4?e:e+12:"\u0938\u0941\u092c\u0939"===t?e:"\u0926\u094b\u092a\u0939\u0930"===t?e>=10?e:e+12:"\u0936\u093e\u092e"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0930\u093e\u0924":e<10?"\u0938\u0941\u092c\u0939":e<17?"\u0926\u094b\u092a\u0939\u0930":e<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(n(16738))},622:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(16738))},37735:function(e,t,n){!function(e){"use strict";var t="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return i+(r||t)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" \xf3ra":" \xf3r\xe1ja");case"hh":return i+(r||t?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" h\xf3nap":" h\xf3napja");case"MM":return i+(r||t?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(r||t?" \xe9v":" \xe9ve");case"yy":return i+(r||t?" \xe9v":" \xe9ve")}return""}function r(e){return(e?"":"[m\xfalt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},90402:function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(e){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(e)},meridiem:function(e){return e<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":e<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":e<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-\u056b\u0576":e+"-\u0580\u0564";default:return e}},week:{dow:1,doy:7}})}(n(16738))},59187:function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(16738))},30536:function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var a=e+" ";switch(r){case"s":return n||i?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return t(e)?a+(n||i?"sek\xfandur":"sek\xfandum"):a+"sek\xfanda";case"m":return n?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return t(e)?a+(n||i?"m\xedn\xfatur":"m\xedn\xfatum"):n?a+"m\xedn\xfata":a+"m\xedn\xfatu";case"hh":return t(e)?a+(n||i?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?a+"dagar":a+(i?"daga":"d\xf6gum"):n?a+"dagur":a+(i?"dag":"degi");case"M":return n?"m\xe1nu\xf0ur":i?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return t(e)?n?a+"m\xe1nu\xf0ir":a+(i?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):n?a+"m\xe1nu\xf0ur":a+(i?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return n||i?"\xe1r":"\xe1ri";case"yy":return t(e)?a+(n||i?"\xe1r":"\xe1rum"):a+(n||i?"\xe1r":"\xe1ri")}}e.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},94667:function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(16738))},35007:function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(16738))},62093:function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(e,t){return"\u5143"===t[1]?1:parseInt(t[1]||e,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"\u5348\u5f8c"===e},meridiem:function(e,t,n){return e<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(e){return e.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(e){return this.week()!==e.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(e,t){switch(t){case"y":return 1===e?"\u5143\u5e74":e+"\u5e74";case"d":case"D":case"DDD":return e+"\u65e5";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(n(16738))},80059:function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(16738))},66870:function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(e,t,n){return"\u10d8"===n?t+"\u10e8\u10d8":t+n+"\u10e8\u10d8"})},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):e},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(e){return 0===e?e:1===e?e+"-\u10da\u10d8":e<20||e<=100&&e%20==0||e%100==0?"\u10db\u10d4-"+e:e+"-\u10d4"},week:{dow:1,doy:7}})}(n(16738))},80880:function(e,t,n){!function(e){"use strict";var t={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};e.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(16738))},1083:function(e,t,n){!function(e){"use strict";var t={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},n={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};e.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(e){return"\u179b\u17d2\u1784\u17b6\u1785"===e},meridiem:function(e,t,n){return e<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(e){return e.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(16738))},68785:function(e,t,n){!function(e){"use strict";var t={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},n={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};e.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(e){return e.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===t?e<4?e:e+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===t?e:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===t?e>=10?e:e+12:"\u0cb8\u0c82\u0c9c\u0cc6"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":e<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":e<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":e<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(e){return e+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(n(16738))},21721:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\uc77c";case"M":return e+"\uc6d4";case"w":case"W":return e+"\uc8fc";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e,t,n){return e<12?"\uc624\uc804":"\uc624\ud6c4"}})}(n(16738))},37851:function(e,t,n){!function(e){"use strict";var t={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},r=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(e){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(e)},meridiem:function(e,t,n){return e<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return n[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n(16738))},1727:function(e,t,n){!function(e){"use strict";var t={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};e.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(16738))},40346:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d M\xe9int",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},93002:function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(e){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===e},meridiem:function(e,t,n){return e<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(e){return"\u0e97\u0eb5\u0ec8"+e}})}(n(16738))},64035:function(e,t,n){!function(e){"use strict";var t={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function n(e,t,n,r){return t?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(e){return e%10==0||e>10&&e<20}function i(e){return t[e].split("_")}function a(e,t,a,o){var s=e+" ";return 1===e?s+n(0,t,a[0],o):t?s+(r(e)?i(a)[1]:i(a)[0]):o?s+i(a)[1]:s+(r(e)?i(a)[1]:i(a)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(e,t,n,r){return t?"kelios sekund\u0117s":r?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:a,m:n,mm:a,h:n,hh:a,d:n,dd:a,M:n,MM:a,y:n,yy:a},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(16738))},56927:function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}e.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(e,t){return t?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},5634:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(16738))},94173:function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(16738))},86320:function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-\u0435\u0432":0===n?e+"-\u0435\u043d":n>10&&n<20?e+"-\u0442\u0438":1===t?e+"-\u0432\u0438":2===t?e+"-\u0440\u0438":7===t||8===t?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n(16738))},11705:function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===t&&e>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===t||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===t?e+12:e},meridiem:function(e,t,n){return e<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":e<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":e<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":e<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(n(16738))},31062:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return e+(t?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return e+(t?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return e+(t?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return e+(t?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return e+(t?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return e+(t?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return e}}e.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(e){return"\u04ae\u0425"===e},meridiem:function(e,t,n){return e<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" \u04e9\u0434\u04e9\u0440";default:return e}}})}(n(16738))},92805:function(e,t,n){!function(e){"use strict";var t={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":i="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":i="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":i="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":i="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":i="%d \u0924\u093e\u0938";break;case"d":i="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":i="%d \u0926\u093f\u0935\u0938";break;case"M":i="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":i="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":i="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":i="%d \u0935\u0930\u094d\u0937\u0947"}else switch(n){case"s":i="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":i="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":i="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":i="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":i="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":i="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":i="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":i="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":i="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":i="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":i="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":i="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u092a\u0939\u093e\u091f\u0947"===t||"\u0938\u0915\u093e\u0933\u0940"===t?e:"\u0926\u0941\u092a\u093e\u0930\u0940"===t||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===t||"\u0930\u093e\u0924\u094d\u0930\u0940"===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"\u092a\u0939\u093e\u091f\u0947":e<12?"\u0938\u0915\u093e\u0933\u0940":e<17?"\u0926\u0941\u092a\u093e\u0930\u0940":e<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(n(16738))},59900:function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(16738))},11341:function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(16738))},37734:function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(16738))},19034:function(e,t,n){!function(e){"use strict";var t={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},n={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};e.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(e){return e.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(16738))},9324:function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},46495:function(e,t,n){!function(e){"use strict";var t={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};e.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0930\u093e\u0924\u093f"===t?e<4?e:e+12:"\u092c\u093f\u0939\u093e\u0928"===t?e:"\u0926\u093f\u0909\u0901\u0938\u094b"===t?e>=10?e:e+12:"\u0938\u093e\u0901\u091d"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"\u0930\u093e\u0924\u093f":e<12?"\u092c\u093f\u0939\u093e\u0928":e<16?"\u0926\u093f\u0909\u0901\u0938\u094b":e<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(n(16738))},76272:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(16738))},70673:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(16738))},72486:function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},46219:function(e,t,n){!function(e){"use strict";e.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8";return("w"===t||"W"===t)&&(n="a"),e+n},week:{dow:1,doy:4}})}(n(16738))},2829:function(e,t,n){!function(e){"use strict";var t={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},n={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};e.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(e){return e.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0a30\u0a3e\u0a24"===t?e<4?e:e+12:"\u0a38\u0a35\u0a47\u0a30"===t?e:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===t?e>=10?e:e+12:"\u0a38\u0a3c\u0a3e\u0a2e"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0a30\u0a3e\u0a24":e<10?"\u0a38\u0a35\u0a47\u0a30":e<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":e<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(n(16738))},78444:function(e,t,n){!function(e){"use strict";var t="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function a(e,t,n){var r=e+" ";switch(n){case"ss":return r+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut\u0119";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzin\u0119";case"hh":return r+(i(e)?"godziny":"godzin");case"ww":return r+(i(e)?"tygodnie":"tygodni");case"MM":return r+(i(e)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return r+(i(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:a,M:"miesi\u0105c",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},66117:function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(n(16738))},53170:function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(16738))},96587:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:t,m:"un minut",mm:t,h:"o or\u0103",hh:t,d:"o zi",dd:t,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:t,M:"o lun\u0103",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(16738))},39264:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:t?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[n],+e)}var n=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];e.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:t,m:t,mm:t,h:"\u0447\u0430\u0441",hh:t,d:"\u0434\u0435\u043d\u044c",dd:t,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:t,M:"\u043c\u0435\u0441\u044f\u0446",MM:t,y:"\u0433\u043e\u0434",yy:t},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(e)},meridiem:function(e,t,n){return e<4?"\u043d\u043e\u0447\u0438":e<12?"\u0443\u0442\u0440\u0430":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-\u0439";case"D":return e+"-\u0433\u043e";case"w":case"W":return e+"-\u044f";default:return e}},week:{dow:1,doy:4}})}(n(16738))},42135:function(e,t,n){!function(e){"use strict";var t=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],n=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n(16738))},95366:function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},93379:function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(e){return e+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(e){return"\u0db4.\u0dc0."===e||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===e},meridiem:function(e,t,n){return e>11?n?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":n?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(n(16738))},46143:function(e,t,n){!function(e){"use strict";var t="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),n="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return t||i?a+(r(e)?"sekundy":"sek\xfand"):a+"sekundami";case"m":return t?"min\xfata":i?"min\xfatu":"min\xfatou";case"mm":return t||i?a+(r(e)?"min\xfaty":"min\xfat"):a+"min\xfatami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?a+(r(e)?"hodiny":"hod\xedn"):a+"hodinami";case"d":return t||i?"de\u0148":"d\u0148om";case"dd":return t||i?a+(r(e)?"dni":"dn\xed"):a+"d\u0148ami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?a+(r(e)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?a+(r(e)?"roky":"rokov"):a+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},196:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+(1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund");case"m":return t?"ena minuta":"eno minuto";case"mm":return i+(1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return i+(1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami");case"d":return t||r?"en dan":"enim dnem";case"dd":return i+(1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi");case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+(1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci");case"y":return t||r?"eno leto":"enim letom";case"yy":return i+(1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti")}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(16738))},21082:function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},98963:function(e,t,n){!function(e){"use strict";var t={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var a,o=t.words[r];return 1===r.length?"y"===r&&n?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":i||n?o[0]:o[1]:(a=t.correctGrammaticalCase(e,o),"yy"===r&&n&&"\u0433\u043e\u0434\u0438\u043d\u0443"===a?e+" \u0433\u043e\u0434\u0438\u043d\u0430":e+" "+a)}};e.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(16738))},91621:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var a,o=t.words[r];return 1===r.length?"y"===r&&n?"jedna godina":i||n?o[0]:o[1]:(a=t.correctGrammaticalCase(e,o),"yy"===r&&n&&"godinu"===a?e+" godina":e+" "+a)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(16738))},41404:function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(16738))},55685:function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(16738))},46490:function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(16738))},54106:function(e,t,n){!function(e){"use strict";var t={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},n={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};e.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(e){return e+"\u0bb5\u0ba4\u0bc1"},preparse:function(e){return e.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(e,t,n){return e<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":e<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":e<10?" \u0b95\u0bbe\u0bb2\u0bc8":e<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":e<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":e<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(e,t){return 12===e&&(e=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===t?e<2?e:e+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===t||"\u0b95\u0bbe\u0bb2\u0bc8"===t||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(16738))},39204:function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===t?e<4?e:e+12:"\u0c09\u0c26\u0c2f\u0c02"===t?e:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===t?e>=10?e:e+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":e<10?"\u0c09\u0c26\u0c2f\u0c02":e<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":e<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(n(16738))},83692:function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(16738))},86361:function(e,t,n){!function(e){"use strict";var t={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};e.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u0448\u0430\u0431"===t?e<4?e:e+12:"\u0441\u0443\u0431\u04b3"===t?e:"\u0440\u04ef\u0437"===t?e>=11?e:e+12:"\u0431\u0435\u0433\u043e\u04b3"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"\u0448\u0430\u0431":e<11?"\u0441\u0443\u0431\u04b3":e<16?"\u0440\u04ef\u0437":e<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(16738))},31735:function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(e){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===e},meridiem:function(e,t,n){return e<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(n(16738))},1568:function(e,t,n){!function(e){"use strict";var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(16738))},96129:function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(16738))},13759:function(e,t,n){!function(e){"use strict";var t="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,r,i){var a=function(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,a="";return n>0&&(a+=t[n]+"vatlh"),r>0&&(a+=(""!==a?" ":"")+t[r]+"maH"),i>0&&(a+=(""!==a?" ":"")+t[i]),""===a?"pagh":a}(e);switch(r){case"ss":return a+" lup";case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}e.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu\u2019":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa\u2019 tup",mm:n,h:"wa\u2019 rep",hh:n,d:"wa\u2019 jaj",dd:n,M:"wa\u2019 jar",MM:n,y:"wa\u2019 DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},81644:function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};e.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"\xf6\xf6":"\xd6\xd6":n?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(e){return"\xf6s"===e||"\xd6S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'\u0131nc\u0131";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(16738))},90875:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[e+" m\xeduts",e+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[e+" \xfeoras",e+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(16738))},11041:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(16738))},16878:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(n(16738))},74357:function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===t||"\u0633\u06d5\u06be\u06d5\u0631"===t||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===t?e:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===t||"\u0643\u06d5\u0686"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":r<900?"\u0633\u06d5\u06be\u06d5\u0631":r<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":r<1230?"\u0686\u06c8\u0634":r<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return e+"-\u06be\u06d5\u067e\u062a\u06d5";default:return e}},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(n(16738))},74810:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===n?t?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:t?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:t?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[n],+e)}function n(e){return function(){return e+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}e.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(e,t){var n={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(t)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:n("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:n("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:n("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:n("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:t,m:t,mm:t,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:t,d:"\u0434\u0435\u043d\u044c",dd:t,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:t,y:"\u0440\u0456\u043a",yy:t},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(e)},meridiem:function(e,t,n){return e<4?"\u043d\u043e\u0447\u0456":e<12?"\u0440\u0430\u043d\u043a\u0443":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-\u0439";case"D":return e+"-\u0433\u043e";default:return e}},week:{dow:1,doy:7}})}(n(16738))},86794:function(e,t,n){!function(e){"use strict";var t=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],n=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,t,n){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n(16738))},77959:function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(16738))},28966:function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(n(16738))},35386:function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(16738))},23156:function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(16738))},68028:function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(n(16738))},9330:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(e){return e.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(e){return this.week()!==e.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(n(16738))},89380:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e2d\u5348"===t?e>=11?e:e+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1200?"\u4e0a\u5348":1200===r?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n(16738))},60874:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e2d\u5348"===t?e>=11?e:e+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n(16738))},96508:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e2d\u5348"===t?e>=11?e:e+12:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n(16738))},16738:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Mt(e,t,n,r,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=m(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=i.momentProperties=[],_=!1;function b(e,t){var n,r,i,a=y.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=m(t)),l(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)l(i=t[r=y[n]])||(e[r]=i);return e}function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,i.updateOffset(this),_=!1)}function x(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function k(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var n=!0;return d(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,a,o,u=[],l=arguments.length;for(a=0;a<l;a++){if(r="","object"==typeof arguments[a]){for(o in r+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[a];u.push(r)}k(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var S,M={};function E(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),M[e]||(k(t),M[e]=!0)}function T(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function L(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function I(e){null!=e&&this.set(e)}function D(e,t,n){var r=""+Math.abs(e);return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-r.length)).toString().substr(1)+r}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var A=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,O={},N={};function R(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(N[e]=i),t&&(N[t[0]]=function(){return D(i.apply(this,arguments),t[1],t[2])}),n&&(N[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function F(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e,t){return e.isValid()?(t=z(t,e.localeData()),O[t]=O[t]||function(e){var t,n,r=e.match(A);for(t=0,n=r.length;t<n;t++)r[t]=N[r[t]]?N[r[t]]:F(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=T(r[i])?r[i].call(t,e):r[i];return a}}(t),O[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(P.lastIndex=0;n>=0&&P.test(e);)e=e.replace(P,r),P.lastIndex=0,n-=1;return e}var j={};function B(e,t){var n=e.toLowerCase();j[n]=j[n+"s"]=j[t]=e}function H(e){return"string"==typeof e?j[e]||j[e.toLowerCase()]:void 0}function U(e){var t,n,r={};for(n in e)s(e,n)&&(t=H(n))&&(r[t]=e[n]);return r}var V={};function G(e,t){V[e]=t}function q(e){return e%4==0&&e%100!=0||e%400==0}function W(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=W(t)),n}function X(e,t){return function(n){return null!=n?(J(this,e,n),i.updateOffset(this,t),this):Z(this,e)}}function Z(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&q(e.year())&&1===e.month()&&29===e.date()?(n=$(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ke(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var K,Q=/\d/,ee=/\d\d/,te=/\d{3}/,ne=/\d{4}/,re=/[+-]?\d{6}/,ie=/\d\d?/,ae=/\d\d\d\d?/,oe=/\d\d\d\d\d\d?/,se=/\d{1,3}/,ue=/\d{1,4}/,le=/[+-]?\d{1,6}/,ce=/\d+/,he=/[+-]?\d+/,fe=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function me(e,t,n){K[e]=T(t)?t:function(e,r){return e&&n?n:t}}function ge(e,t){return s(K,e)?K[e](t._strict,t._locale):new RegExp(function(e){return ve(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}(e))}function ve(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}K={};var ye,_e={};function be(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=$(e)}),r=e.length,n=0;n<r;n++)_e[e[n]]=i}function we(e,t){be(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function xe(e,t,n){null!=t&&s(_e,e)&&_e[e](t,n._a,n,e)}function ke(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%12+12)%12}(t);return e+=(t-n)/12,1===n?q(e)?29:28:31-n%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),R("MMMM",0,0,function(e){return this.localeData().months(this,e)}),B("month","M"),G("month",8),me("M",ie),me("MM",ie,ee),me("MMM",function(e,t){return t.monthsShortRegex(e)}),me("MMMM",function(e,t){return t.monthsRegex(e)}),be(["M","MM"],function(e,t){t[1]=$(e)-1}),be(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:m(n).invalidMonth=e});var Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Se="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Me=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ee=pe,Te=pe;function Le(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ye.call(this._shortMonthsParse,o))?i:null:-1!==(i=ye.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=ye.call(this._shortMonthsParse,o))||-1!==(i=ye.call(this._longMonthsParse,o))?i:null:-1!==(i=ye.call(this._longMonthsParse,o))||-1!==(i=ye.call(this._shortMonthsParse,o))?i:null}function Ie(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=$(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),ke(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function De(e){return null!=e?(Ie(this,e),i.updateOffset(this,!0),this):Z(this,"Month")}function Ae(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=ve(r[t]),i[t]=ve(i[t]);for(t=0;t<24;t++)a[t]=ve(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Pe(e){return q(e)?366:365}R("Y",0,0,function(){var e=this.year();return e<=9999?D(e,4):"+"+e}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),B("year","y"),G("year",1),me("Y",he),me("YY",ie,ee),me("YYYY",ue,ne),me("YYYYY",le,re),me("YYYYYY",le,re),be(["YYYYY","YYYYYY"],0),be("YYYY",function(e,t){t[0]=2===e.length?i.parseTwoDigitYear(e):$(e)}),be("YY",function(e,t){t[0]=i.parseTwoDigitYear(e)}),be("Y",function(e,t){t[0]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return $(e)+($(e)>68?1900:2e3)};var Oe=X("FullYear",!0);function Ne(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function Re(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Fe(e,t,n){var r=7+t-n;return-(7+Re(e,0,r).getUTCDay()-t)%7+r-1}function Ye(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+Fe(e,r,i);return s<=0?o=Pe(a=e-1)+s:s>Pe(e)?(a=e+1,o=s-Pe(e)):(a=e,o=s),{year:a,dayOfYear:o}}function ze(e,t,n){var r,i,a=Fe(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+je(i=e.year()-1,t,n):o>je(e.year(),t,n)?(r=o-je(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function je(e,t,n){var r=Fe(e,t,n),i=Fe(e+1,t,n);return(Pe(e)-r+i)/7}function Be(e,t){return e.slice(t,7).concat(e.slice(0,t))}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),B("week","w"),B("isoWeek","W"),G("week",5),G("isoWeek",5),me("w",ie),me("ww",ie,ee),me("W",ie),me("WW",ie,ee),we(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=$(e)}),R("d",0,"do","day"),R("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),R("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),R("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),B("day","d"),B("weekday","e"),B("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),me("d",ie),me("e",ie),me("E",ie),me("dd",function(e,t){return t.weekdaysMinRegex(e)}),me("ddd",function(e,t){return t.weekdaysShortRegex(e)}),me("dddd",function(e,t){return t.weekdaysRegex(e)}),we(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e}),we(["d","e","E"],function(e,t,n,r){t[r]=$(e)});var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ue="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ve="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ge=pe,qe=pe,We=pe;function $e(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ye.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ye.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=ye.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=ye.call(this._weekdaysParse,o))||-1!==(i=ye.call(this._shortWeekdaysParse,o))||-1!==(i=ye.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ye.call(this._shortWeekdaysParse,o))||-1!==(i=ye.call(this._weekdaysParse,o))||-1!==(i=ye.call(this._minWeekdaysParse,o))?i:null:-1!==(i=ye.call(this._minWeekdaysParse,o))||-1!==(i=ye.call(this._weekdaysParse,o))||-1!==(i=ye.call(this._shortWeekdaysParse,o))?i:null}function Xe(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=ve(this.weekdaysMin(n,"")),i=ve(this.weekdaysShort(n,"")),a=ve(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),l.push(r),l.push(i),l.push(a);o.sort(e),s.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ze(){return this.hours()%12||12}function Je(e,t){R(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ke(e,t){return t._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Ze),R("k",["kk",2],0,function(){return this.hours()||24}),R("hmm",0,0,function(){return""+Ze.apply(this)+D(this.minutes(),2)}),R("hmmss",0,0,function(){return""+Ze.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+D(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)}),Je("a",!0),Je("A",!1),B("hour","h"),G("hour",13),me("a",Ke),me("A",Ke),me("H",ie),me("h",ie),me("k",ie),me("HH",ie,ee),me("hh",ie,ee),me("kk",ie,ee),me("hmm",ae),me("hmmss",oe),me("Hmm",ae),me("Hmmss",oe),be(["H","HH"],3),be(["k","kk"],function(e,t,n){var r=$(e);t[3]=24===r?0:r}),be(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),be(["h","hh"],function(e,t,n){t[3]=$(e),m(n).bigHour=!0}),be("hmm",function(e,t,n){var r=e.length-2;t[3]=$(e.substr(0,r)),t[4]=$(e.substr(r)),m(n).bigHour=!0}),be("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=$(e.substr(0,r)),t[4]=$(e.substr(r,2)),t[5]=$(e.substr(i)),m(n).bigHour=!0}),be("Hmm",function(e,t,n){var r=e.length-2;t[3]=$(e.substr(0,r)),t[4]=$(e.substr(r))}),be("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=$(e.substr(0,r)),t[4]=$(e.substr(r,2)),t[5]=$(e.substr(i))});var Qe,et=X("Hours",!0),tt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:Se,week:{dow:0,doy:6},weekdays:He,weekdaysMin:Ve,weekdaysShort:Ue,meridiemParse:/[ap]\.?m?\.?/i},nt={},rt={};function it(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function at(e){return e&&e.toLowerCase().replace("_","-")}function ot(t){var r=null;if(void 0===nt[t]&&e&&e.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(t))try{r=Qe._abbr,n(46700)("./"+t),st(r)}catch(i){nt[t]=null}return nt[t]}function st(e,t){var n;return e&&((n=l(t)?lt(e):ut(e,t))?Qe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Qe._abbr}function ut(e,t){if(null!==t){var n,r=tt;if(t.abbr=e,null!=nt[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=nt[e]._config;else if(null!=t.parentLocale)if(null!=nt[t.parentLocale])r=nt[t.parentLocale]._config;else{if(null==(n=ot(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return nt[e]=new I(L(r,t)),rt[e]&&rt[e].forEach(function(e){ut(e.name,e.config)}),st(e),nt[e]}return delete nt[e],null}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qe;if(!a(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=at(e[a]).split("-")).length,n=(n=at(e[a+1]))?n.split("-"):null;t>0;){if(r=ot(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&it(i,n)>=t-1)break;t--}a++}return Qe}(e)}function ct(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ke(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,m(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),m(e)._overflowWeeks&&-1===t&&(t=7),m(e)._overflowWeekday&&-1===t&&(t=8),m(e).overflow=t),e}var ht=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],mt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gt=/^\/?Date\((-?\d+)/i,vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _t(e){var t,n,r,i,a,o,s=e._i,u=ht.exec(s)||ft.exec(s),l=pt.length,c=mt.length;if(u){for(m(e).iso=!0,t=0,n=l;t<n;t++)if(pt[t][1].exec(u[1])){i=pt[t][0],r=!1!==pt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=c;t<n;t++)if(mt[t][1].exec(u[3])){a=(u[2]||" ")+mt[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!dt.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Ct(e)}else e._isValid=!1}function bt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function wt(e){var t,n=vt.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(n){if(t=function(e,t,n,r,i,a){var o=[bt(e),Se.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}(n[4],n[3],n[2],n[5],n[6],n[7]),!function(e,t,n){return!e||Ue.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(n[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return yt[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(n[8],n[9],n[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function xt(e,t,n){return null!=e?e:null!=t?t:n}function kt(e){var t,n,r,a,o,s=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,a,o,s,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=xt(t.GG,e._a[0],ze(Et(),1,4).year),r=xt(t.W,1),((i=xt(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,l=ze(Et(),a,o),n=xt(t.gg,e._a[0],l.year),r=xt(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>je(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=Ye(n,r,i,a,o),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=xt(e._a[0],r[0]),(e._dayOfYear>Pe(o)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=Re(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:Ne).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(m(e).weekdayMismatch=!0)}}function Ct(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],m(e).empty=!0;var t,n,r,a,o,s,u,l=""+e._i,c=l.length,h=0;for(u=(r=z(e._f,e._locale).match(A)||[]).length,t=0;t<u;t++)(n=(l.match(ge(a=r[t],e))||[])[0])&&((o=l.substr(0,l.indexOf(n))).length>0&&m(e).unusedInput.push(o),l=l.slice(l.indexOf(n)+n.length),h+=n.length),N[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),xe(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-h,l.length>0&&m(e).unusedInput.push(l),e._a[3]<=12&&!0===m(e).bigHour&&e._a[3]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((r=e.isPM(n))&&t<12&&(t+=12),!r&&12===t&&(t=0)),t)}(e._locale,e._a[3],e._meridiem),null!==(s=m(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),kt(e),ct(e)}else wt(e);else _t(e)}function St(e){var t=e._i,n=e._f;return e._locale=e._locale||lt(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new w(ct(t)):(h(t)?e._d=t:a(n)?function(e){var t,n,r,i,a,o,s=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ct(t),g(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));d(e,n||t)}(e):n?Ct(e):function(e){var t=e._i;l(t)?e._d=new Date(i.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=gt.exec(e._i);null===t?(_t(e),!1===e._isValid&&(delete e._isValid,wt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=f(t.slice(0),function(e){return parseInt(e,10)}),kt(e)):o(t)?function(e){if(!e._d){var t=U(e._i);e._a=f([t.year,t.month,void 0===t.day?t.date:t.day,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),kt(e)}}(e):c(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function Mt(e,t,n,r,i){var s={};return(!0===t||!1===t)&&(r=t,t=void 0),(!0===n||!1===n)&&(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,function(e){var t=new w(ct(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function Et(e,t,n,r){return Mt(e,t,n,r,!1)}i.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Tt=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Lt=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()});function It(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Et();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function At(e){var t=U(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,l=t.minute||0,c=t.second||0,h=t.millisecond||0;this._isValid=function(e){var t,n,r=!1,i=Dt.length;for(t in e)if(s(e,t)&&(-1===ye.call(Dt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[Dt[n]]){if(r)return!1;parseFloat(e[Dt[n]])!==$(e[Dt[n]])&&(r=!0)}return!0}(t),this._milliseconds=+h+1e3*c+6e4*l+1e3*u*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=lt(),this._bubble()}function Pt(e){return e instanceof At}function Ot(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,t){R(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)})}Nt("Z",":"),Nt("ZZ",""),me("Z",de),me("ZZ",de),be(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ft(de,e)});var Rt=/([\+\-]|\d\d)/gi;function Ft(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(Rt)||["-",0,0])[1]+$(n[2]))?0:"+"===n[0]?r:-r}function Yt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(x(e)||h(e)?e.valueOf():Et(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Et(e).local()}function zt(e){return-Math.round(e._d.getTimezoneOffset())}function jt(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Bt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ut(e,t){var n,r,i,a=e,o=null;return Pt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Bt.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:$(o[2])*n,h:$(o[3])*n,m:$(o[4])*n,s:$(o[5])*n,ms:$(Ot(1e3*o[6]))*n}):(o=Ht.exec(e))?a={y:Vt(o[2],n="-"===o[1]?-1:1),M:Vt(o[3],n),w:Vt(o[4],n),d:Vt(o[5],n),h:Vt(o[6],n),m:Vt(o[7],n),s:Vt(o[8],n)}:null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Yt(t,e),e.isBefore(t)?n=Gt(e,t):((n=Gt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Et(a.from),Et(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new At(a),Pt(e)&&s(e,"_locale")&&(r._locale=e._locale),Pt(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(e,t){return function(n,r){var i;return null!==r&&!isNaN(+r)&&(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Wt(this,Ut(n,r),e),this}}function Wt(e,t,n,r){var a=t._milliseconds,o=Ot(t._days),s=Ot(t._months);!e.isValid()||(r=null==r||r,s&&Ie(e,Z(e,"Month")+s*n),o&&J(e,"Date",Z(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&i.updateOffset(e,o||s))}Ut.fn=At.prototype,Ut.invalid=function(){return Ut(NaN)};var $t=qt(1,"add"),Xt=qt(-1,"subtract");function Zt(e){return"string"==typeof e||e instanceof String}function Jt(e){return x(e)||h(e)||Zt(e)||c(e)||function(e){var t=a(e),n=!1;return t&&(n=0===e.filter(function(t){return!c(t)&&Zt(e)}).length),t&&n}(e)||function(e){var t,n=o(e)&&!u(e),r=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=i.length;for(t=0;t<a;t+=1)r=r||s(e,i[t]);return n&&r}(e)||null==e}function Kt(e){var t,n=o(e)&&!u(e),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)r=r||s(e,i[t]);return n&&r}function Qt(e,t){if(e.date()<t.date())return-Qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function en(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function nn(){return this._locale}var rn=6e4,an=60*rn,on=3506328*an;function sn(e,t){return(e%t+t)%t}function un(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-on:new Date(e,t,n).valueOf()}function ln(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-on:Date.UTC(e,t,n)}function cn(e,t){return t.erasAbbrRegex(e)}function hn(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(ve(o[e].name)),n.push(ve(o[e].abbr)),i.push(ve(o[e].narrow)),a.push(ve(o[e].name)),a.push(ve(o[e].abbr)),a.push(ve(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function fn(e,t){R(0,[e,e.length],0,t)}function dn(e,t,n,r,i){var a;return null==e?ze(this,r,i).year:(t>(a=je(e,r,i))&&(t=a),pn.call(this,e,t,n,r,i))}function pn(e,t,n,r,i){var a=Ye(e,t,n,r,i),o=Re(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),me("N",cn),me("NN",cn),me("NNN",cn),me("NNNN",function(e,t){return t.erasNameRegex(e)}),me("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),be(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e}),me("y",ce),me("yy",ce),me("yyy",ce),me("yyyy",ce),me("yo",function(e,t){return t._eraYearOrdinalRegex||ce}),be(["y","yy","yyy","yyyy"],0),be(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),t[0]=n._locale.eraYearOrdinalParse?n._locale.eraYearOrdinalParse(e,i):parseInt(e,10)}),R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),fn("gggg","weekYear"),fn("ggggg","weekYear"),fn("GGGG","isoWeekYear"),fn("GGGGG","isoWeekYear"),B("weekYear","gg"),B("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),me("G",he),me("g",he),me("GG",ie,ee),me("gg",ie,ee),me("GGGG",ue,ne),me("gggg",ue,ne),me("GGGGG",le,re),me("ggggg",le,re),we(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=$(e)}),we(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),R("Q",0,"Qo","quarter"),B("quarter","Q"),G("quarter",7),me("Q",Q),be("Q",function(e,t){t[1]=3*($(e)-1)}),R("D",["DD",2],"Do","date"),B("date","D"),G("date",9),me("D",ie),me("DD",ie,ee),me("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),be(["D","DD"],2),be("Do",function(e,t){t[2]=$(e.match(ie)[0])});var mn=X("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),B("dayOfYear","DDD"),G("dayOfYear",4),me("DDD",se),me("DDDD",te),be(["DDD","DDDD"],function(e,t,n){n._dayOfYear=$(e)}),R("m",["mm",2],0,"minute"),B("minute","m"),G("minute",14),me("m",ie),me("mm",ie,ee),be(["m","mm"],4);var gn=X("Minutes",!1);R("s",["ss",2],0,"second"),B("second","s"),G("second",15),me("s",ie),me("ss",ie,ee),be(["s","ss"],5);var vn,yn,_n=X("Seconds",!1);for(R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),B("millisecond","ms"),G("millisecond",16),me("S",se,Q),me("SS",se,ee),me("SSS",se,te),vn="SSSS";vn.length<=9;vn+="S")me(vn,ce);function bn(e,t){t[6]=$(1e3*("0."+e))}for(vn="S";vn.length<=9;vn+="S")be(vn,bn);yn=X("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var wn=w.prototype;function xn(e){return e}wn.add=$t,wn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Jt(arguments[0])?(e=arguments[0],t=void 0):Kt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Et(),r=Yt(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse",o=t&&(T(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Et(n)))},wn.clone=function(){return new w(this)},wn.diff=function(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=Yt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=H(t)){case"year":a=Qt(this,r)/12;break;case"month":a=Qt(this,r);break;case"quarter":a=Qt(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:W(a)},wn.endOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ln:un,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=an-sn(t+(this._isUTC?0:this.utcOffset()*rn),an)-1;break;case"minute":t=this._d.valueOf(),t+=rn-sn(t,rn)-1;break;case"second":t=this._d.valueOf(),t+=1e3-sn(t,1e3)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},wn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=Y(this,e);return this.localeData().postformat(t)},wn.from=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Et(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.fromNow=function(e){return this.from(Et(),e)},wn.to=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||Et(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},wn.toNow=function(e){return this.to(Et(),e)},wn.get=function(e){return T(this[e=H(e)])?this[e]():this},wn.invalidAt=function(){return m(this).overflow},wn.isAfter=function(e,t){var n=x(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},wn.isBefore=function(e,t){var n=x(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},wn.isBetween=function(e,t,n,r){var i=x(e)?e:Et(e),a=x(t)?t:Et(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))},wn.isSame=function(e,t){var n,r=x(e)?e:Et(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},wn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},wn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},wn.isValid=function(){return g(this)},wn.lang=tn,wn.locale=en,wn.localeData=nn,wn.max=Lt,wn.min=Tt,wn.parsingFlags=function(){return d({},m(this))},wn.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:V[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=U(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(T(this[e=H(e)]))return this[e](t);return this},wn.startOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?ln:un,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=sn(t+(this._isUTC?0:this.utcOffset()*rn),an);break;case"minute":t=this._d.valueOf(),t-=sn(t,rn);break;case"second":t=this._d.valueOf(),t-=sn(t,1e3)}return this._d.setTime(t),i.updateOffset(this,!0),this},wn.subtract=Xt,wn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},wn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},wn.toDate=function(){return new Date(this.valueOf())},wn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Y(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(n,"Z")):Y(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},wn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n="moment",r="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(wn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),wn.toJSON=function(){return this.isValid()?this.toISOString():null},wn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},wn.unix=function(){return Math.floor(this.valueOf()/1e3)},wn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},wn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},wn.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""},wn.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""},wn.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""},wn.eraYear=function(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-i(a[e].since).year())*n+a[e].offset;return this.year()},wn.year=Oe,wn.isLeapYear=function(){return q(this.year())},wn.weekYear=function(e){return dn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},wn.isoWeekYear=function(e){return dn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},wn.quarter=wn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},wn.month=De,wn.daysInMonth=function(){return ke(this.year(),this.month())},wn.week=wn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},wn.isoWeek=wn.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},wn.weeksInYear=function(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)},wn.weeksInWeekYear=function(){var e=this.localeData()._week;return je(this.weekYear(),e.dow,e.doy)},wn.isoWeeksInYear=function(){return je(this.year(),1,4)},wn.isoWeeksInISOWeekYear=function(){return je(this.isoWeekYear(),1,4)},wn.date=mn,wn.day=wn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},wn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},wn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},wn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},wn.hour=wn.hours=et,wn.minute=wn.minutes=gn,wn.second=wn.seconds=_n,wn.millisecond=wn.milliseconds=yn,wn.utcOffset=function(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ft(de,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=zt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?Wt(this,Ut(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:zt(this)},wn.utc=function(e){return this.utcOffset(0,e)},wn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},wn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ft(fe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},wn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60==0)},wn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},wn.isLocal=function(){return!!this.isValid()&&!this._isUTC},wn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},wn.isUtc=jt,wn.isUTC=jt,wn.zoneAbbr=function(){return this._isUTC?"UTC":""},wn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},wn.dates=C("dates accessor is deprecated. Use date instead.",mn),wn.months=C("months accessor is deprecated. Use month instead",De),wn.years=C("years accessor is deprecated. Use year instead",Oe),wn.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),wn.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=St(t))._a?(e=t._isUTC?p(t._a):Et(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)$(e[r])!==$(t[r])&&o++;return o+a}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var kn=I.prototype;function Cn(e,t,n,r){var i=lt(),a=p().set(r,t);return i[n](a,e)}function Sn(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Cn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Cn(e,r,n,"month");return i}function Mn(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,a=lt(),o=e?a._week.dow:0,s=[];if(null!=n)return Cn(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=Cn(t,(i+o)%7,r,"day");return s}kn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r},kn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(A).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},kn.invalidDate=function(){return this._invalidDate},kn.ordinal=function(e){return this._ordinal.replace("%d",e)},kn.preparse=xn,kn.postformat=xn,kn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return T(i)?i(e,t,n,r):i.replace(/%d/i,e)},kn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},kn.set=function(e){var t,n;for(n in e)s(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},kn.eras=function(e,t){var n,r,a,o=this._eras||lt("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":a=i(o[n].since).startOf("day"),o[n].since=a.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=i(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}}return o},kn.erasParse=function(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]},kn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n},kn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||hn.call(this),e?this._erasAbbrRegex:this._erasRegex},kn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||hn.call(this),e?this._erasNameRegex:this._erasRegex},kn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||hn.call(this),e?this._erasNarrowRegex:this._erasRegex},kn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Me).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},kn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Me.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},kn.monthsParse=function(e,t,n){var r,i,a;if(this._monthsParseExact)return Le.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},kn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ae.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Te),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},kn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ae.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Ee),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},kn.week=function(e){return ze(e,this._week.dow,this._week.doy).week},kn.firstDayOfYear=function(){return this._week.doy},kn.firstDayOfWeek=function(){return this._week.dow},kn.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Be(n,this._week.dow):e?n[e.day()]:n},kn.weekdaysMin=function(e){return!0===e?Be(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},kn.weekdaysShort=function(e){return!0===e?Be(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},kn.weekdaysParse=function(e,t,n){var r,i,a;if(this._weekdaysParseExact)return $e.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},kn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},kn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},kn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=We),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},kn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},kn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},st("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===$(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=C("moment.lang is deprecated. Use moment.locale instead.",st),i.langData=C("moment.langData is deprecated. Use moment.localeData instead.",lt);var En=Math.abs;function Tn(e,t,n,r){var i=Ut(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ln(e){return e<0?Math.floor(e):Math.ceil(e)}function In(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function An(e){return function(){return this.as(e)}}var Pn=An("ms"),On=An("s"),Nn=An("m"),Rn=An("h"),Fn=An("d"),Yn=An("w"),zn=An("M"),jn=An("Q"),Bn=An("y");function Hn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Un=Hn("milliseconds"),Vn=Hn("seconds"),Gn=Hn("minutes"),qn=Hn("hours"),Wn=Hn("days"),$n=Hn("months"),Xn=Hn("years"),Zn=Math.round,Jn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Kn(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var Qn=Math.abs;function er(e){return(e>0)-(e<0)||+e}function tr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=Qn(this._milliseconds)/1e3,l=Qn(this._days),c=Qn(this._months),h=this.asSeconds();return h?(e=W(u/60),t=W(e/60),u%=60,e%=60,n=W(c/12),c%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",a=er(this._months)!==er(h)?"-":"",o=er(this._days)!==er(h)?"-":"",s=er(this._milliseconds)!==er(h)?"-":"",i+"P"+(n?a+n+"Y":"")+(c?a+c+"M":"")+(l?o+l+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var nr=At.prototype;return nr.isValid=function(){return this._isValid},nr.abs=function(){var e=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),e.milliseconds=En(e.milliseconds),e.seconds=En(e.seconds),e.minutes=En(e.minutes),e.hours=En(e.hours),e.months=En(e.months),e.years=En(e.years),this},nr.add=function(e,t){return Tn(this,e,t,1)},nr.subtract=function(e,t){return Tn(this,e,t,-1)},nr.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+In(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},nr.asMilliseconds=Pn,nr.asSeconds=On,nr.asMinutes=Nn,nr.asHours=Rn,nr.asDays=Fn,nr.asWeeks=Yn,nr.asMonths=zn,nr.asQuarters=jn,nr.asYears=Bn,nr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12):NaN},nr._bubble=function(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ln(Dn(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=W(a/1e3),u.seconds=e%60,t=W(e/60),u.minutes=t%60,n=W(t/60),u.hours=n%24,o+=W(n/24),s+=i=W(In(o)),o-=Ln(Dn(i)),r=W(s/12),s%=12,u.days=o,u.months=s,u.years=r,this},nr.clone=function(){return Ut(this)},nr.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},nr.milliseconds=Un,nr.seconds=Vn,nr.minutes=Gn,nr.hours=qn,nr.days=Wn,nr.weeks=function(){return W(this.days()/7)},nr.months=$n,nr.years=Xn,nr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=Jn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(a=Object.assign({},Jn,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=function(e,t,n,r){var i=Ut(e).abs(),a=Zn(i.as("s")),o=Zn(i.as("m")),s=Zn(i.as("h")),u=Zn(i.as("d")),l=Zn(i.as("M")),c=Zn(i.as("w")),h=Zn(i.as("y")),f=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||c<=1&&["w"]||c<n.w&&["ww",c]),(f=f||l<=1&&["M"]||l<n.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=t,f[3]=+e>0,f[4]=r,Kn.apply(null,f)}(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)},nr.toISOString=tr,nr.toString=tr,nr.toJSON=tr,nr.locale=en,nr.localeData=nn,nr.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",tr),nr.lang=tn,R("X",0,0,"unix"),R("x",0,0,"valueOf"),me("x",he),me("X",/[+-]?\d+(\.\d{1,3})?/),be("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),be("x",function(e,t,n){n._d=new Date($(e))}),i.version="2.29.3",t=Et,i.fn=wn,i.min=function(){return It("isBefore",[].slice.call(arguments,0))},i.max=function(){return It("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return Et(1e3*e)},i.months=function(e,t){return Sn(e,t,"months")},i.isDate=h,i.locale=st,i.invalid=v,i.duration=Ut,i.isMoment=x,i.weekdays=function(e,t,n){return Mn(e,t,n,"weekdays")},i.parseZone=function(){return Et.apply(null,arguments).parseZone()},i.localeData=lt,i.isDuration=Pt,i.monthsShort=function(e,t){return Sn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return Mn(e,t,n,"weekdaysMin")},i.defineLocale=ut,i.updateLocale=function(e,t){if(null!=t){var n,r,i=tt;null!=nt[e]&&null!=nt[e].parentLocale?nt[e].set(L(nt[e]._config,t)):(null!=(r=ot(e))&&(i=r._config),t=L(i,t),null==r&&(t.abbr=e),(n=new I(t)).parentLocale=nt[e],nt[e]=n),st(e)}else null!=nt[e]&&(null!=nt[e].parentLocale?(nt[e]=nt[e].parentLocale,e===st()&&st(e)):null!=nt[e]&&delete nt[e]);return nt[e]},i.locales=function(){return S(nt)},i.weekdaysShort=function(e,t,n){return Mn(e,t,n,"weekdaysShort")},i.normalizeUnits=H,i.relativeTimeRounding=function(e){return void 0===e?Zn:"function"==typeof e&&(Zn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Jn[e]&&(void 0===t?Jn[e]:(Jn[e]=t,"s"===e&&(Jn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=wn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},98398:function(e,t,n){"use strict";var r=new(n(9588).SHA1),i=Object.prototype.hasOwnProperty,a={qsString:function(e){return Object.keys(e).sort().map(function(t){return a.percentEncode(t)+"="+a.percentEncode(e[t])}).join("&")},stringQs:function(e){return e.split("&").filter(function(e){return""!==e}).reduce(function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=null===n[1]?"":decodeURIComponent(n[1]),e},{})},rawxhr:function(e,t,n,r,i){var a=new XMLHttpRequest,o=/^20\d$/;for(var s in a.onreadystatechange=function(){if(4===a.readyState&&0!==a.status){if(!o.test(a.status))return i(a,null);i(null,a)}},a.onerror=function(e){return i(e,null)},a.open(e,t,!0),r)a.setRequestHeader(s,r[s]);return a.send(n),a},xhr:function(e,t,n,r,i,o){var s=i&&i.header||{"Content-Type":"application/x-www-form-urlencoded"};return s.Authorization="OAuth "+a.authHeader(n),a.rawxhr(e,t,r,s,o)},nonce:function(){for(var e="";e.length<6;)e+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(61*Math.random())];return e},authHeader:function(e){return Object.keys(e).sort().map(function(t){return encodeURIComponent(t)+'="'+encodeURIComponent(e[t])+'"'}).join(", ")},timestamp:function(){return~~(+new Date/1e3)},percentEncode:function(e){return encodeURIComponent(e).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29")},baseString:function(e,t,n){return n.oauth_signature&&delete n.oauth_signature,[e,a.percentEncode(t),a.percentEncode(a.qsString(n))].join("&")},signature:function(e,t,n){return r.b64_hmac(a.percentEncode(e)+"&"+a.percentEncode(t),n)},headerGenerator:function(e){var t=(e=e||{}).consumer_key||"",n=e.consumer_secret||"",r=e.signature_method||"HMAC-SHA1",o=e.version||"1.0",s=e.token||"",u=e.token_secret||"";return function(e,l,c){e=e.toUpperCase(),"string"==typeof c&&c.length>0&&(c=a.stringQs(c));var h=l.split("?",2),f=h[0],d=2===h.length?a.stringQs(h[1]):{},p={oauth_consumer_key:t,oauth_signature_method:r,oauth_version:o,oauth_timestamp:a.timestamp(),oauth_nonce:a.nonce()};s&&(p.oauth_token=s);var m=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e}({},p,d,c),g=a.baseString(e,f,m);return p.oauth_signature=a.signature(n,u,g),"OAuth "+a.authHeader(p)}}};e.exports=a},76189:function(e,t,n){"use strict";var r=n(98398),i=n(89811),a=n(94083),o=n(70166);e.exports=function(e){var t,n={};function s(e){return e.oauth_timestamp=r.timestamp(),e.oauth_nonce=r.nonce(),e}if(n.authenticated=function(){return!(!t("oauth_token")||!t("oauth_token_secret"))},n.logout=function(){return t("oauth_token",""),t("oauth_token_secret",""),t("oauth_request_token_secret",""),n},n.authenticate=function(a){if(n.authenticated())return a();n.logout();var o=s(l(e)),u=e.url+"/oauth/request_token";if(o.oauth_signature=r.signature(e.oauth_secret,"",r.baseString("POST",u,o)),"popup"===e.windowType)var c=600,h=550,f=[["width",c],["height",h],["left",screen.width/2-c/2],["top",screen.height/2-h/2]].map(function(e){return e.join("=")}).join(","),d=window.open("about:blank","oauth_window",f);function p(i,o){if(e.done(),i)return a(i);var s=r.stringQs(o.response);t("oauth_token",s.oauth_token),t("oauth_token_secret",s.oauth_token_secret),a(null,n)}r.xhr("POST",u,o,null,{},function(n,o){if(e.done(),n)return a(n);var s=r.stringQs(o.response);t("oauth_request_token_secret",s.oauth_token_secret);var u=e.url+"/oauth/authorize?"+r.qsString({oauth_token:s.oauth_token,oauth_callback:i(e.landing)});"singlepage"===e.windowType?location.href=u:"popup"===e.windowType?d.location=u:"newFullPage"===e.windowType&&window.open(u)}),e.loading(),window.authComplete=function(n){(function(n){var i=e.url+"/oauth/access_token",a=s(l(e)),o=t("oauth_request_token_secret");a.oauth_token=n,a.oauth_signature=r.signature(e.oauth_secret,o,r.baseString("POST",i,a)),r.xhr("POST",i,a,null,{},p),e.loading()})(r.stringQs(n.split("?")[1]).oauth_token),delete window.authComplete}},n.bootstrapToken=function(i,a){var o,u,c,h;o=i,u=e.url+"/oauth/access_token",c=s(l(e)),h=t("oauth_request_token_secret"),c.oauth_token=o,c.oauth_signature=r.signature(e.oauth_secret,h,r.baseString("POST",u,c)),r.xhr("POST",u,c,null,{},function(i,o){if(e.done(),i)return a(i);var s=r.stringQs(o.response);t("oauth_token",s.oauth_token),t("oauth_token_secret",s.oauth_token_secret),a(null,n)}),e.loading()},n.xhr=function(i,a){return n.authenticated()?u():e.auto?n.authenticate(u):void a("not authenticated",null);function u(){var n=s(l(e)),a=t("oauth_token_secret"),u=!1!==i.prefix?e.url+i.path:i.path,h=u.replace(/#.*$/,"").split("?",2),f=h[0],d=2===h.length?h[1]:"";return(!i.options||!i.options.header||"application/x-www-form-urlencoded"===i.options.header["Content-Type"])&&i.content&&(n=o(n,r.stringQs(i.content))),n.oauth_token=t("oauth_token"),n.oauth_signature=r.signature(e.oauth_secret,a,r.baseString(i.method,f,o(n,r.stringQs(d)))),r.xhr(i.method,u,n,i.content,i.options,c)}function c(e,t){return e?a(e):a(e,t.responseXML?t.responseXML:t.response)}},n.preauth=function(e){if(e)return e.oauth_token&&t("oauth_token",e.oauth_token),e.oauth_token_secret&&t("oauth_token_secret",e.oauth_token_secret),n},n.options=function(t){return arguments.length?((e=t).url=e.url||"https://www.openstreetmap.org",e.landing=e.landing||"land.html",e.windowType=e.windowType||"popup",e.loading=e.loading||function(){},e.done=e.done||function(){},n.preauth(e)):e},a.enabled)t=function(t,n){return 1===arguments.length?a.get(e.url+t):2===arguments.length?a.set(e.url+t,n):void 0};else{var u={};t=function(t,n){return 1===arguments.length?u[e.url+t]:2===arguments.length?u[e.url+t]=n:void 0}}function l(e){return{oauth_consumer_key:e.oauth_consumer_key,oauth_signature_method:"HMAC-SHA1"}}return n.options(e),n}},89811:function(e,t,n){var r,i;void 0!==(i="function"==typeof(r=function(){return function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var r,i=document.createElement("a"),a=1;a<e;a++)i.href=arguments[a],t.href=r=i.href;return n.removeChild(t),r}})?r.call(t,n,t,e):r)&&(e.exports=i)},94083:function(e,t,n){var r=n(58158),i=n(36537),a=[n(99756)];e.exports=r.createStore(i,a)},99756:function(e,t,n){e.exports=function(){return n(31767),{}}},31767:function _(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,a,o,s=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,n=0;n<a;n+=1)o[n]=str(n,u)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],u))&&o.push(quote(r)+(gap?": ":":")+i);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u))&&o.push(quote(r)+(gap?": ":":")+i);return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},58158:function(e,t,n){var r=n(49504),i=r.slice,a=r.pluck,o=r.each,s=r.bind,u=r.create,l=r.isList,c=r.isFunction,h=r.isObject;e.exports={createStore:d};var f={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return d.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return d(this.storage,this.plugins,e)}};function d(e,t,n){n||(n=""),e&&!l(e)&&(e=[e]),t&&!l(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",d=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var p=u({_namespacePrefix:r,_namespaceRegexp:d,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(r){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=i(arguments,0),r=this;function a(){if(n)return o(arguments,function(e,n){t[n]=e}),n.apply(r,t)}var s=[a].concat(t);return e.apply(r,s)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(r){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(l(e))o(e,function(e){t._addPlugin(e)});else if(!a(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!c(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!h(n))throw new Error("Plugins must return an object of function properties");o(n,function(n,r){if(!c(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)})}},addStorage:function(e){(function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)})("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},f,{plugins:[]});return p.raw={},o(p,function(e,t){c(e)&&(p.raw[t]=s(p,e))}),o(e,function(e){p._addStorage(e)}),o(t,function(e){p._addPlugin(e)}),p}},49504:function(e){var t=Object.assign?Object.assign:function(e,t,n,r){for(var i=1;i<arguments.length;i++)a(Object(arguments[i]),function(t,n){e[n]=t});return e},n=function(){if(Object.create)return function(e,n,r,a){var o=i(arguments,1);return t.apply(this,[Object.create(e)].concat(o))};var e=function(){};return function(n,r,a,o){var s=i(arguments,1);return e.prototype=n,t.apply(this,[new e].concat(s))}}(),r="undefined"!=typeof window?window:global;function i(e,t){return Array.prototype.slice.call(e,t||0)}function a(e,t){o(e,function(e,n){return t(e,n),!1})}function o(e,t){if(s(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function s(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}e.exports={assign:t,create:n,trim:String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:i,each:a,map:function(e,t){var n=s(e)?[]:{};return o(e,function(e,r){return n[r]=t(e,r),!1}),n},pluck:o,isList:s,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:r}},36537:function(e,t,n){e.exports=[n(59426),n(38213),n(66213),n(31598),n(93072),n(30389)]},31598:function(e,t,n){var r=n(49504),i=r.Global,a=r.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!l(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(o.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){!e||(o.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:s,remove:u,clearAll:function(){s(function(e,t){u(t)})}};var o=i.document;function s(e){for(var t=o.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(a(t[n])){var r=t[n].split("="),i=unescape(r[0]);e(unescape(r[1]),i)}}function u(e){!e||!l(e)||(o.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function l(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(o.cookie)}},59426:function(e,t,n){var r=n(49504).Global;function i(){return r.localStorage}function a(e){return i().getItem(e)}e.exports={name:"localStorage",read:a,write:function(e,t){return i().setItem(e,t)},each:function(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}},remove:function(e){return i().removeItem(e)},clearAll:function(){return i().clear()}}},30389:function(e){e.exports={name:"memoryStorage",read:function(e){return t[e]},write:function(e,n){t[e]=n},each:function(e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},remove:function(e){delete t[e]},clearAll:function(e){t={}}};var t={}},38213:function(e,t,n){var r=n(49504).Global;e.exports={name:"oldFF-globalStorage",read:function(e){return i[e]},write:function(e,t){i[e]=t},each:a,remove:function(e){return i.removeItem(e)},clearAll:function(){a(function(e,t){delete i[e]})}};var i=r.globalStorage;function a(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}},66213:function(e,t,n){var r=n(49504).Global;e.exports={name:"oldIE-userDataStorage",write:function(e,t){if(!s){var n=l(e);o(function(e){e.setAttribute(n,t),e.save(i)})}},read:function(e){if(!s){var t=l(e),n=null;return o(function(e){n=e.getAttribute(t)}),n}},each:function(e){o(function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var i=n[r];e(t.getAttribute(i.name),i.name)}})},remove:function(e){var t=l(e);o(function(e){e.removeAttribute(t),e.save(i)})},clearAll:function(){o(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(i);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(i)})}};var i="storejs",a=r.document,o=function(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),n=(e=t.w.frames[0].document).createElement("div")}catch(r){n=a.createElement("div"),e=a.body}return function(t){var r=[].slice.call(arguments,0);r.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(i),t.apply(this,r),e.removeChild(n)}}(),s=(r.navigator?r.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),u=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function l(e){return e.replace(/^\d/,"___$&").replace(u,"___")}},93072:function(e,t,n){var r=n(49504).Global;function i(){return r.sessionStorage}function a(e){return i().getItem(e)}e.exports={name:"sessionStorage",read:a,write:function(e,t){return i().setItem(e,t)},each:function(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}},remove:function(e){return i().removeItem(e)},clearAll:function(){return i().clear()}}},93221:function(e){var t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i=Object.assign({},r,i),!e||"string"!=typeof e)return e;var a=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(a))return e;if(i.hex&&t.test(a))return Number.parseInt(a,16);var o=n.exec(a);if(o){var s=o[1],u=o[2],l=function(e){return e&&-1!==e.indexOf(".")&&("."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1))),e}(o[3]),c=o[4]||o[6];if(!i.leadingZeros&&u.length>0&&s&&"."!==a[2])return e;if(!i.leadingZeros&&u.length>0&&!s&&"."!==a[1])return e;var h=Number(a),f=""+h;return-1!==f.search(/[eE]/)||c?i.eNotation?h:e:-1!==a.indexOf(".")?"0"===f&&""===l||f===l||s&&f==="-"+l?h:e:u?l===f||s+l===f?h:e:a===f||a===s+f?h:e}return e}},70166:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},79394:function(){Array.prototype.equals=function(e){if(!e||this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Array.prototype.contains=function(e){for(var t=this.length;t--;)if(this[t]===e)return!0;return!1}},86471:function(e){e.exports={DAYS:{MONDAY:0,TUESDAY:1,WEDNESDAY:2,THURSDAY:3,FRIDAY:4,SATURDAY:5,SUNDAY:6},OSM_DAYS:["Mo","Tu","We","Th","Fr","Sa","Su"],IRL_DAYS:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],OSM_MONTHS:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],IRL_MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"],MONTH_END_DAY:[31,28,31,30,31,30,31,31,30,31,30,31],MINUTES_MAX:1440,DAYS_MAX:6,PH_WEEKDAY:-2}},98150:function(e,t,n){var r=n(60830),i=n(63513),a=n(42677);e.exports=function(){function e(t){_classCallCheck(this,e),this._wideInterval=null,this._typical=void 0,this.updateRange(t)}return _createClass(e,[{key:"definesTypicalDay",value:function(){return this._typical instanceof r}},{key:"definesTypicalWeek",value:function(){return this._typical instanceof i}},{key:"getTypical",value:function(){return this._typical}},{key:"getInterval",value:function(){return this._wideInterval}},{key:"updateRange",value:function(e){if(this._wideInterval=null!=e?e:(new a).always(),null==this._typical)switch(this._wideInterval.getType()){case"day":this._typical=null==this._wideInterval.getEnd()?new r:new i;break;case"week":case"month":this._typical=new i;break;case"holiday":this._typical="SH"==this._wideInterval.getStart().holiday?new i:new r;break;case"always":this._typical=new i;break;default:throw Error("Invalid interval type: "+this._wideInterval.getType())}}},{key:"hasSameTypical",value:function(e){return this.definesTypicalDay()==e.definesTypicalDay()&&this._typical.sameAs(e.getTypical())}},{key:"isGeneralFor",value:function(e){return e.definesTypicalDay()==this.definesTypicalDay()&&this._wideInterval.contains(e.getInterval())}}]),e}()},60830:function(e,t,n){var r=n(42398),i=n(86471);e.exports=function(){function e(){_classCallCheck(this,e),this._intervals=[],this._nextInterval=0}return _createClass(e,[{key:"getAsMinutesArray",value:function(){for(var e=[],t=0;t<=i.MINUTES_MAX;t++)e[t]=!1;for(var n=0,r=this._intervals.length;n<r;n++)if(null!=this._intervals[n]){var a=null,o=null;if((this._intervals[n].getStartDay()==this._intervals[n].getEndDay()||this._intervals[n].getEndDay()==i.DAYS_MAX&&this._intervals[n].getTo()==i.MINUTES_MAX)&&(a=this._intervals[n].getFrom(),o=this._intervals[n].getTo()),null==a||null==o)throw console.log(this._intervals[n].getFrom()+" "+this._intervals[n].getTo()+" "+this._intervals[n].getStartDay()+" "+this._intervals[n].getEndDay()),new Error("Invalid interval");for(var s=a;s<=o;s++)e[s]=!0}return e}},{key:"getIntervals",value:function(e){if(e=e||!1){for(var t=this.getAsMinutesArray(),n=[],i=-1,a=0,o=t.length;a<o;a++)0==a?t[a]&&(i=a):a==o-1?t[a]&&n.push(new r(0,0,i,a)):t[a]&&i<0?i=a:!t[a]&&i>=0&&(n.push(new r(0,0,i,a-1)),i=-1);return n}return this._intervals}},{key:"addInterval",value:function(e){return this._intervals[this._nextInterval]=e,this._nextInterval++,this._nextInterval-1}},{key:"editInterval",value:function(e,t){this._intervals[e]=t}},{key:"removeInterval",value:function(e){this._intervals[e]=void 0}},{key:"copyIntervals",value:function(e){this._intervals=[];for(var t=0;t<e.length;t++)null!=e[t]&&0==e[t].getStartDay()&&0==e[t].getEndDay()&&this._intervals.push(e[t].clone());this._intervals=this.getIntervals(!0)}},{key:"clearIntervals",value:function(){this._intervals=[]}},{key:"sameAs",value:function(e){return e.getAsMinutesArray().equals(this.getAsMinutesArray())}}]),e}()},42398:function(e,t,n){var r=n(86471);e.exports=function(){function e(t,n,i,a){_classCallCheck(this,e),this._dayStart=t,this._dayEnd=n,this._start=i,this._end=a,0==this._dayEnd&&0==this._end&&(this._dayEnd=r.DAYS_MAX,this._end=r.MINUTES_MAX)}return _createClass(e,[{key:"getStartDay",value:function(){return this._dayStart}},{key:"getEndDay",value:function(){return this._dayEnd}},{key:"getFrom",value:function(){return this._start}},{key:"getTo",value:function(){return this._end}},{key:"clone",value:function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}}]),e}()},14002:function(e,t,n){n(79394);var r=n(86471),i=function(){function e(t,n,r){if(_classCallCheck(this,e),this._wideType=n,this._wide=t,this._weekdays=r.sort(),this._wdOver=[],null==t||null==n||null==r)throw Error("Missing parameter")}return _createClass(e,[{key:"getWideType",value:function(){return this._wideType}},{key:"getWideValue",value:function(){return this._wide}},{key:"getWd",value:function(){return this._weekdays}},{key:"getWdOver",value:function(){return this._wdOver}},{key:"sameWd",value:function(e){return e.equals(this._weekdays)}},{key:"getWeekdays",value:function(){var e="",t=this._weekdays.concat(this._wdOver).sort();if(t.length>0&&t[0]==r.PH_WEEKDAY&&(e="PH",t.shift()),t.length>0&&t.contains(6)&&t.contains(0)&&(t.contains(5)||t.contains(1))){for(var n=6,i=t.length-2,a=!1;!a&&i>=0;)t[i]==t[i+1]-1?(n=t[i],i--):a=!0;i=1,a=!1;for(var o=0;!a&&i<t.length;)t[i-1]==t[i]-1?(o=t[i],i++):a=!0;if(7-n+o+1>=3&&n>o){e.length>0&&(e+=","),e+=r.OSM_DAYS[n]+"-"+r.OSM_DAYS[o];for(var s=0;s<t.length;)t[s]<=o||t[s]>=n?t.splice(s,1):s++}}if(t.length>1||1==t.length&&-1!=t[0]){e+=e.length>0?","+r.OSM_DAYS[t[0]]:r.OSM_DAYS[t[0]];for(var u=t[0],l=1;l<t.length;l++)t[l-1]!=t[l]-1?(u!=t[l-1]&&(e+=t[l-1]-u==1?","+r.OSM_DAYS[t[l-1]]:"-"+r.OSM_DAYS[t[l-1]]),e+=","+r.OSM_DAYS[t[l]],u=t[l]):l==t.length-1&&(e+=t[l]-u==1?","+r.OSM_DAYS[t[l]]:"-"+r.OSM_DAYS[t[l]])}return"Mo-Su"==e&&(e=""),e}},{key:"sameKindAs",value:function(e){return this._wideType==e.getWideType()&&e.sameWd(this._weekdays)}},{key:"equals",value:function(t){return t instanceof e&&this._wideType==t.getWideType()&&this._wide==t.getWideValue()&&t.sameWd(this._weekdays)}},{key:"addWeekday",value:function(e){!this._weekdays.contains(e)&&!this._wdOver.contains(e)&&(this._weekdays.push(e),this._weekdays=this._weekdays.sort())}},{key:"addPhWeekday",value:function(){this.addWeekday(r.PH_WEEKDAY)}},{key:"addOverwrittenWeekday",value:function(e){!this._wdOver.contains(e)&&!this._weekdays.contains(e)&&(this._wdOver.push(e),this._wdOver=this._wdOver.sort())}}]),e}();e.exports=i},44565:function(e,t,n){var r=n(14002);n(65474),e.exports=function(){function e(){_classCallCheck(this,e),this._date=[],this._time=[]}return _createClass(e,[{key:"getDate",value:function(){return this._date}},{key:"getTime",value:function(){return this._time}},{key:"get",value:function(){var e="";if(this._date.length>1||""!=this._date[0].getWideValue())for(var t=0,n=this._date.length;t<n;t++)t>0&&(e+=","),e+=this._date[t].getWideValue();if(this._date.length>0){var r=this._date[0].getWeekdays();r.length>0&&(e+=" "+r)}if(this._time.length>0){e+=" ";for(var i=0,a=this._time.length;i<a;i++)i>0&&(e+=","),e+=this._time[i].get()}else e+=" off";return"00:00-24:00"==e.trim()&&(e="24/7"),e.trim()}},{key:"sameTime",value:function(e){if(null==e||null==e||e.getTime().length!=this._time.length)return!1;for(var t=0,n=this._time.length;t<n;t++)if(!this._time[t].equals(e.getTime()[t]))return!1;return!0}},{key:"isOff",value:function(){return 0==this._time.length||1==this._time.length&&null==this._time[0].getStart()}},{key:"hasOverwrittenWeekday",value:function(){return this._date.length>0&&this._date[0]._wdOver.length>0}},{key:"addWeekday",value:function(e){for(var t=0;t<this._date.length;t++)this._date[t].addWeekday(e)}},{key:"addPhWeekday",value:function(){for(var e=0;e<this._date.length;e++)this._date[e].addPhWeekday()}},{key:"addOverwrittenWeekday",value:function(e){for(var t=0;t<this._date.length;t++)this._date[t].addOverwrittenWeekday(e)}},{key:"addDate",value:function(e){if(null==e||null==e||!e instanceof r)throw Error("Invalid parameter");if(0==this._date.length||"always"!=this._date[0].getWideType()&&this._date[0].sameKindAs(e))this._date.push(e);else if(1!=this._date.length||"always"!=this._date[0].getWideType()||!this._date[0].sameWd(e.getWd()))throw Error("This date can't be added to this rule")}},{key:"addTime",value:function(e){if(0!=this._time.length&&"off"==this._time[0].get()||this._time.contains(e))throw Error("This time can't be added to this rule");this._time.push(e)}}]),e}()},65474:function(e){e.exports=function(){function e(t,n){_classCallCheck(this,e),this._start=t>=0?t:null,this._end=n>=0&&n!=t?n:null}return _createClass(e,[{key:"get",value:function(){return null===this._start&&null===this._end?"off":this._timeString(this._start)+(null==this._end?"":"-"+this._timeString(this._end))}},{key:"getStart",value:function(){return this._start}},{key:"getEnd",value:function(){return this._end}},{key:"equals",value:function(e){return this._start==e.getStart()&&this._end==e.getEnd()}},{key:"_timeString",value:function(e){var t=Math.floor(e/60),n=e%60;return(t<10?"0":"")+t+":"+(n<10?"0":"")+n}}]),e}()},40069:function(e,t,n){var r=n(14002),i=n(65474),a=n(44565),o=n(86471);e.exports=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(e){for(var t,n,o,s,u,l,c,h,f=[],d=0,p=e.length;d<p;d++)if(null!=(t=e[d])){l=null,c=null;for(var m=d-1;m>=0&&null==l;)null!=e[m]&&(h=e[m].isGeneralFor(t),e[m].hasSameTypical(t)&&(e[m].getInterval().equals(t.getInterval())||h)?l=m:h&&e[m].definesTypicalWeek()&&t.definesTypicalWeek()&&(c=m)),m--;if(0==d||null==l)for(var g=0,v=(n=t.definesTypicalWeek()?null!=c?this._buildWeekDiff(t,e[c]):this._buildWeek(t):this._buildDay(t)).length;g<v;g++){for(o=n[g],s=!1,u=0;!s&&u<f.length;)if(f[u].sameTime(o))try{for(var y=0,_=o.getDate().length;y<_;y++)f[u].addDate(o.getDate()[y]);s=!0}catch(y){"holiday"==o.getDate()[0].getWideType()&&"PH"==o.getDate()[0].getWideValue()&&"always"==f[u].getDate()[0].getWideType()?(f[u].addPhWeekday(),s=!0):"holiday"==f[u].getDate()[0].getWideType()&&"PH"==f[u].getDate()[0].getWideValue()&&"always"==o.getDate()[0].getWideType()?(o.addPhWeekday(),f[u]=o,s=!0):u++}else u++;if(s||f.push(o),g==v-1&&o.hasOverwrittenWeekday()){for(var b=new a,w=0;w<o.getDate().length;w++)b.addDate(new r(o.getDate()[w].getWideValue(),o.getDate()[w].getWideType(),o.getDate()[w].getWdOver()));b.addTime(new i),n.push(b),v++}}}for(var x="",k=0,C=f.length;k<C;k++)k>0&&(x+="; "),x+=f[k].get();return x}},{key:"_buildDay",value:function(e){var t,n=e.getTypical().getIntervals(!0),o=new a,s=new r(e.getInterval().getTimeSelector(),e.getInterval().getType(),[-1]);o.addDate(s);for(var u=0,l=n.length;u<l;u++)null!=(t=n[u])&&o.addTime(new i(t.getFrom(),t.getTo()));return[o]}},{key:"_buildWeek",value:function(e){var t=[],n=e.getTypical().getIntervals(!0),r=this._createTimeIntervals(e.getInterval().getTimeSelector(),e.getInterval().getType(),n),i=r[2];i=this._nightMonSun(i,r[0],r[1]);for(var a=[],s=0;s<o.OSM_DAYS.length;s++)a[s]=0;for(var u=0;u<i.length;u++)if(i[u].isOff()&&0==a[u])a[u]=8;else if(i[u].isOff()&&a[u]<0&&a[u]>-8){a[u]=-8;for(var l=!1,c=0;!l&&c<u;)i[c].isOff()?(i[c].addWeekday(u),l=!0):c++;l||t.push(i[u])}else if(a[u]<=0&&a[u]>-8){a[u]=u+1;for(var h=u,f=1,d=u+1;d<i.length;d++)i[u].sameTime(i[d])&&(a[d]=u+1,i[u].addWeekday(d),h=d,f++);if(1==f)t.push(i[u]);else if(2==f)i[u].addWeekday(h),t.push(i[u]);else if(f>2){for(var p=u+1;p<h;p++)0==a[p]&&(a[p]=-u-1,i[u].addOverwrittenWeekday(p));i[u].addWeekday(h),t.push(i[u])}}return t=this._mergeDays(t)}},{key:"_buildWeekDiff",value:function(e,t){for(var n,r=e.getTypical().getIntervalsDiff(t.getTypical()),a=this._createTimeIntervals(e.getInterval().getTimeSelector(),e.getInterval().getType(),r.open),s=a[0],u=a[1],l=a[2],c=0,h=r.closed.length;c<h;c++)for(var f=(n=r.closed[c]).getStartDay();f<=n.getEndDay();f++)l[f].addTime(new i);l=this._nightMonSun(l,s,u);for(var d=[],p=0;p<o.OSM_DAYS.length;p++)d[p]=0;for(var m=[],g=0;g<l.length;g++)if(l[g].isOff()&&1==l[g].getTime().length){d[g]=-8;for(var v=!1,y=0;!v&&y<g;)l[y].isOff()&&1==l[y].getTime().length?(l[y].addWeekday(g),v=!0):y++;v||m.push(l[g])}else if(l[g].isOff()&&0==l[g].getTime().length)d[g]=8;else if(d[g]<=0&&d[g]>-8){d[g]=g+1;var _=1,b=g;m.push(l[g]);for(var w=g+1;w<l.length;w++)l[g].sameTime(l[w])&&(d[w]=g+1,l[g].addWeekday(w),b=w,_++);if(1==_)m.push(l[g]);else if(2==_)l[g].addWeekday(b),m.push(l[g]);else if(_>2){for(var x=g+1;x<b;x++)0==d[x]&&(d[x]=-g-1,l[x].getTime().length>0&&l[g].addOverwrittenWeekday(x));l[g].addWeekday(b),m.push(l[g])}}return m=this._mergeDays(m)}},{key:"_mergeDays",value:function(e){if(0==e.length)return e;var t,n=[];n.push(e[0]);for(var r,i=0,a=1;a<e.length;a++){for(t=!1,i=0;!t&&i<a;){if(e[i].sameTime(e[a])){r=e[a].getDate()[0].getWd();for(var o=0;o<r.length;o++)e[i].addWeekday(r[o]);t=!0}i++}t||n.push(e[a])}return n}},{key:"_createTimeIntervals",value:function(e,t,n){for(var s,u=-1,l=-1,c=[],h=0;h<7;h++)c.push(new a),c[h].addDate(new r(e,t,[h]));for(var f=0,d=n.length;f<d;f++)if(null!=(s=n[f])){s.getStartDay()==o.DAYS_MAX&&s.getEndDay()==o.DAYS_MAX&&s.getTo()==o.MINUTES_MAX&&(l=s.getFrom()),0==s.getStartDay()&&0==s.getEndDay()&&0==s.getFrom()&&(u=s.getTo());try{if(s.getStartDay()==s.getEndDay())c[s.getStartDay()].addTime(new i(s.getFrom(),s.getTo()));else if(s.getEndDay()-s.getStartDay()==1)s.getFrom()>s.getTo()?c[s.getStartDay()].addTime(new i(s.getFrom(),s.getTo())):(c[s.getStartDay()].addTime(new i(s.getFrom(),o.MINUTES_MAX)),c[s.getEndDay()].addTime(new i(0,s.getTo())));else for(var p=s.getStartDay(),m=s.getEndDay();p<=m;p++)p==s.getStartDay()?c[p].addTime(new i(s.getFrom(),o.MINUTES_MAX)):p==s.getEndDay()?c[p].addTime(new i(0,s.getTo())):c[p].addTime(new i(0,o.MINUTES_MAX))}catch(p){console.warn(p)}}return[u,l,c]}},{key:"_nightMonSun",value:function(e,t,n){return t>=0&&n>=0&&t<n&&(e[0].getTime().sort(this._sortOhTime),e[6].getTime().sort(this._sortOhTime),e[6].getTime()[e[6].getTime().length-1]=new i(n,t),e[0].getTime().shift()),e}},{key:"_sortOhTime",value:function(e,t){return e.getStart()-t.getStart()}}]),e}()},51946:function(e,t,n){var r=n(86471),i=n(98150),a=n(60830),o=n(42398),s=n(42677),u=/^(open|closed|off)$/i,l=/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)(\-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec))?\:?$/,c=/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ([012]?[0-9]|3[01])(\-((Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) )?([012]?[0-9]|3[01]))?\:?$/,h=/^((([01]?[0-9]|2[01234])\:[012345][0-9](\-([01]?[0-9]|2[01234])\:[012345][0-9])?(,([01]?[0-9]|2[01234])\:[012345][0-9](\-([01]?[0-9]|2[01234])\:[012345][0-9])?)*)|(24\/7))$/,f=/^(((Mo|Tu|We|Th|Fr|Sa|Su)(\-(Mo|Tu|We|Th|Fr|Sa|Su))?)|(PH|SH|easter))(,(((Mo|Tu|We|Th|Fr|Sa|Su)(\-(Mo|Tu|We|Th|Fr|Sa|Su))?)|(PH|SH|easter)))*$/,d=/^(PH|SH|easter)$/,p=/^(Mo|Tu|We|Th|Fr|Sa|Su)(\-(Mo|Tu|We|Th|Fr|Sa|Su))?$/;e.exports=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){for(var t,n,a,o,u,h,f,m,g,v,y,_,b,w,x,k,C,S,M,E,T,L,I,D,A,P,O,N,R,F,Y,z=[],j=e.split(";"),B=0,H=j.length;B<H;B++)if(0!=(t=j[B].trim()).length){if(o=null,u=null,h=null,f=null,(a=(n=this._tokenize(t)).length-1)>=0&&this._isRuleModifier(n[a])&&(o=n[a].toLowerCase(),a--),g=null,v=null,y=[],a>=0&&this._isTime(n[a])){if("24/7"==(u=n[a]))y.push({from:0,to:1440});else for(var U=0,V=(u=u.split(",")).length;U<V;U++)m=u[U].split("-"),g=this._asMinutes(m[0]),v=m.length>1?this._asMinutes(m[1]):g,y.push({from:g,to:v});a--}if(b=[],w=[],"24/7"==u)w.push({from:0,to:6});else if(a>=0&&this._isWeekday(n[a])){for(var G=0,q=(h=(h=n[a]).split(",")).length;G<q;G++)if(_=h[G],d.test(_))b.push(_);else{if(!p.test(_))throw new Error("Invalid weekday interval: "+_);_=_.split("-"),A=r.OSM_DAYS.indexOf(_[0]),P=_.length>1?r.OSM_DAYS.indexOf(_[1]):A,w.push({from:A,to:P})}a--}if(C=[],L=[],a>=0){f=n[0];for(var W=1;W<=a;W++)f+=" "+n[W];if(f.length>0){if(0==(x=(f=f.replace(/\:$/g,"").split("week"))[0].trim()).length&&(x=null),f.length>1?0==(k=f[1].trim()).length&&(k=null):k=null,null!=x&&null!=k)throw new Error("Unsupported simultaneous month and week selector");if(null!=x)for(var $=0,X=(x=x.split(",")).length;$<X;$++)if("SH"==(T=x[$]))L.push({holiday:"SH"});else if(l.test(T)){if(T=T.split("-"),(I=r.OSM_MONTHS.indexOf(T[0])+1)<1)throw new Error("Invalid month: "+T[0]);if(T.length>1){if((D=r.OSM_MONTHS.indexOf(T[1])+1)<1)throw new Error("Invalid month: "+T[1])}else D=null;L.push({from:I,to:D})}else{if(!c.test(T))throw new Error("Unsupported month selector: "+T);if(I=(T=T.replace(/\:/g,"").split("-"))[0].split(" "),(I={day:parseInt(I[1],10),month:r.OSM_MONTHS.indexOf(I[0])+1}).month<1)throw new Error("Invalid month: "+I[0]);if(T.length>1){if(1==(D=T[1].split(" ")).length)D={day:parseInt(D[0],10),month:I.month};else if((D={day:parseInt(D[1],10),month:r.OSM_MONTHS.indexOf(D[0])+1}).month<1)throw new Error("Invalid month: "+D[0])}else D=null;L.push({fromDay:I,toDay:D})}else{if(null==k)throw Error("Invalid date selector");for(var Z=0,J=(k=k.split(",")).length;Z<J;Z++)S=k[Z].split("-"),M=parseInt(S[0],10),E=S.length>1?parseInt(S[1],10):null,C.push({from:M,to:E})}}}if(a==n.length-1)throw Error("Unreadable string");if(O=[],L.length>0)for(var K=0,Q=L.length;K<Q;K++)null!=(T=L[K]).holiday?O.push((new s).holiday(T.holiday)):null!=T.fromDay?(N=null!=T.toDay?(new s).day(T.fromDay.day,T.fromDay.month,T.toDay.day,T.toDay.month):(new s).day(T.fromDay.day,T.fromDay.month),O.push(N)):(N=null!=T.to?(new s).month(T.from,T.to):(new s).month(T.from),O.push(N));else if(C.length>0)for(var ee=0,te=C.length;ee<te;ee++)N=null!=C[ee].to?(new s).week(C[ee].from,C[ee].to):(new s).week(C[ee].from),O.push(N);else if(b.length>0)for(var ne=0,re=b.length;ne<re;ne++)O.push((new s).holiday(b[ne])),"PH"==b[ne]&&w.length>0&&0==L.length&&0==C.length&&O.push((new s).always());else O.push((new s).always());0==w.length&&w.push(0==b.length||1==b.length&&"SH"==b[0]?{from:0,to:r.OSM_DAYS.length-1}:{from:0,to:0}),0==y.length&&y.push({from:0,to:1440});for(var ie=0,ae=O.length;ie<ae;ie++){for(F=!1,Y=0;Y<z.length&&!F;)z[Y].getInterval().equals(O[ie])?F=!0:Y++;if(F)R=z[Y];else{R=new i(O[ie]);var oe=-1;for(Y=0;Y<z.length;Y++)z[Y].isGeneralFor(new i(O[ie]))&&(oe=Y);oe>=0&&R.definesTypicalWeek()&&R.getTypical().copyIntervals(z[oe].getTypical().getIntervals()),z.push(R)}for(var se=0,ue=w.length;se<ue;se++){if(w[se].from<=w[se].to)for(var le=w[se].from;le<=w[se].to;le++)R.definesTypicalWeek()?R.getTypical().removeIntervalsDuringDay(le):R.getTypical().clearIntervals();else{for(var ce=w[se].from;ce<=6;ce++)R.definesTypicalWeek()?R.getTypical().removeIntervalsDuringDay(ce):R.getTypical().clearIntervals();for(var he=0;he<=w[se].to;he++)R.definesTypicalWeek()?R.getTypical().removeIntervalsDuringDay(he):R.getTypical().clearIntervals()}for(var fe=0,de=y.length;fe<de;fe++)"closed"==o||"off"==o?this._removeInterval(R.getTypical(),w[se],y[fe]):this._addInterval(R.getTypical(),w[se],y[fe])}}}return z}},{key:"_removeInterval",value:function(e,t,n){if(t.from<=t.to)for(var r=t.from;r<=t.to;r++)this._removeIntervalWd(e,n,r);else{for(var i=t.from;i<=6;i++)this._removeIntervalWd(e,n,i);for(var a=0;a<=t.to;a++)this._removeIntervalWd(e,n,a)}}},{key:"_removeIntervalWd",value:function(e,t,n){t.to>=t.from?e.removeInterval(new o(n,n,t.from,t.to)):n<6?e.removeInterval(new o(n,n+1,t.from,t.to)):(e.removeInterval(new o(n,n,t.from,1440)),e.removeInterval(new o(0,0,0,t.to)))}},{key:"_addInterval",value:function(e,t,n){if(e instanceof a&&(0!=t.from||0!=t.to&&n.from<=n.to)&&((t=Object.assign({},t)).from=0,t.to=n.from<=n.to?0:1),t.from<=t.to)for(var r=t.from;r<=t.to;r++)this._addIntervalWd(e,n,r);else{for(var i=t.from;i<=6;i++)this._addIntervalWd(e,n,i);for(var o=0;o<=t.to;o++)this._addIntervalWd(e,n,o)}}},{key:"_addIntervalWd",value:function(e,t,n){t.to>=t.from?e.addInterval(new o(n,n,t.from,t.to)):n<6?e.addInterval(new o(n,n+1,t.from,t.to)):(e.addInterval(new o(n,n,t.from,1440)),e.addInterval(new o(0,0,0,t.to)))}},{key:"_asMinutes",value:function(e){var t=e.split(":");return 60*parseInt(t[0],10)+parseInt(t[1],10)}},{key:"_isWeekday",value:function(e){return f.test(e)}},{key:"_isTime",value:function(e){return h.test(e)}},{key:"_isRuleModifier",value:function(e){return u.test(e)}},{key:"_tokenize",value:function(e){for(var t=e.trim().split(" "),n=t.indexOf("");~n;)t.splice(n,1),n=t.indexOf("");return t}},{key:"_printIntervals",value:function(e,t){if(console.log("From: "+e),t.length>0){console.log("-------------------------");for(var n=0;n<t.length;n++)null==t[n]?console.log(n+": "+void 0):console.log(n+": "+t[n].getStartDay()+", "+t[n].getEndDay()+", "+t[n].getFrom()+", "+t[n].getTo());console.log("-------------------------")}else console.log("Empty intervals")}}]),e}()},63513:function(e,t,n){var r=n(42398),i=n(86471);e.exports=function(){function e(){_classCallCheck(this,e),this._intervals=[]}return _createClass(e,[{key:"getAsMinutesArray",value:function(){for(var e=[],t=0;t<=i.DAYS_MAX;t++){e[t]=[];for(var n=0;n<=i.MINUTES_MAX;n++)e[t][n]=!1}for(var r=0,a=this._intervals.length;r<a;r++)if(null!=this._intervals[r])for(var o=this._intervals[r].getStartDay();o<=this._intervals[r].getEndDay();o++){var s=o==this._intervals[r].getStartDay()?this._intervals[r].getFrom():0,u=o==this._intervals[r].getEndDay()?this._intervals[r].getTo():i.MINUTES_MAX;if(null!=s&&null!=u)for(var l=s;l<=u;l++)e[o][l]=!0}return e}},{key:"getIntervals",value:function(e){if(e=e||!1){for(var t=this.getAsMinutesArray(),n=[],a=-1,o=-1,s=0,u=t.length;s<u;s++)for(var l=0,c=t[s].length;l<c;l++)0==s&&0==l?t[s][l]&&(a=s,o=l):s==i.DAYS_MAX&&l==c-1?a>=0&&t[s][l]&&n.push(new r(a,s,o,l)):t[s][l]&&a<0?(a=s,o=l):!t[s][l]&&a>=0&&(n.push(0==l?new r(a,s-1,o,i.MINUTES_MAX):new r(a,s,o,l-1)),a=-1,o=-1);return n}return this._intervals}},{key:"getIntervalsDiff",value:function(e){for(var t,n,a,o=this.getAsMinutesArray(),s=e.getAsMinutesArray(),u={open:[],closed:[]},l=-1,c=-1,h=0;h<=i.DAYS_MAX;h++){for(t=!1,n=0,a=u.open.length;n<=i.MINUTES_MAX;)t?(0==h&&0==n?o[h][n]&&(l=h,c=n):h==i.DAYS_MAX&&n==i.MINUTES_MAX?l>=0&&o[h][n]&&u.open.push(new r(l,h,c,n)):o[h][n]&&l<0?(l=h,c=n):!o[h][n]&&l>=0&&(u.open.push(0==n?new r(l,h-1,c,i.MINUTES_MAX):new r(l,h,c,n-1)),l=-1,c=-1),n++):(t=o[h][n]?!s[h][n]:s[h][n])?n=0:n++;!t&&l>-1&&(u.open.push(new r(l,h-1,c,i.MINUTES_MAX)),l=-1,c=-1),t&&-1==l&&a==u.open.length&&(u.closed.length>0&&u.closed[u.closed.length-1].getEndDay()==h-1?u.closed[u.closed.length-1]=new r(u.closed[u.closed.length-1].getStartDay(),h,0,i.MINUTES_MAX):u.closed.push(new r(h,h,0,i.MINUTES_MAX)))}return u}},{key:"addInterval",value:function(e){return this._intervals[this._intervals.length]=e,this._intervals.length-1}},{key:"editInterval",value:function(e,t){this._intervals[e]=t}},{key:"removeInterval",value:function(e){this._intervals[e]=void 0}},{key:"removeIntervalsDuringDay",value:function(e){for(var t,n,i=this._intervals.length,a=0;a<i;a++)null!=(t=this._intervals[a])&&t.getStartDay()<=e&&t.getEndDay()>=e&&(((n=t.getEndDay()-t.getStartDay())>1||0==n||t.getStartDay()==e||t.getFrom()<=t.getTo())&&(t.getEndDay()-t.getStartDay()>=1&&t.getFrom()<=t.getTo()&&(t.getStartDay()<e&&this.addInterval(new r(t.getStartDay(),e-1,t.getFrom(),1440)),t.getEndDay()>e&&this.addInterval(new r(e+1,t.getEndDay(),0,t.getTo()))),this.removeInterval(a)))}},{key:"copyIntervals",value:function(e){this._intervals=[];for(var t=0;t<e.length;t++)null!=e[t]&&this._intervals.push(e[t].clone())}},{key:"sameAs",value:function(e){return e.getAsMinutesArray().equals(this.getAsMinutesArray())}}]),e}()},42677:function(e,t,n){var r=n(86471),i=function(){function e(){_classCallCheck(this,e),this._start=null,this._end=null,this._type=null}return _createClass(e,[{key:"day",value:function(e,t,n,r){if(null==e||null==t)throw Error("Start day and month can't be null");return this._start={day:e,month:t},this._end=null==n||null==r||n==e&&r==t?null:{day:n,month:r},this._type="day",this}},{key:"week",value:function(e,t){if(null==e)throw Error("Start week can't be null");return this._start={week:e},this._end=null!=t&&t!=e?{week:t}:null,this._type="week",this}},{key:"month",value:function(e,t){if(null==e)throw Error("Start month can't be null");return this._start={month:e},this._end=null!=t&&t!=e?{month:t}:null,this._type="month",this}},{key:"holiday",value:function(e){if(null==e||"PH"!=e&&"SH"!=e&&"easter"!=e)throw Error("Invalid holiday, must be PH, SH or easter");return this._start={holiday:e},this._end=null,this._type="holiday",this}},{key:"always",value:function(){return this._start=null,this._end=null,this._type="always",this}},{key:"getType",value:function(){return this._type}},{key:"getStart",value:function(){return this._start}},{key:"getEnd",value:function(){return this._end}},{key:"equals",value:function(t){if(!t instanceof e)return!1;if(this===t)return!0;if("always"==t._type)return"always"==this._type;var n=!1;switch(this._type){case"always":n=null==t._start;break;case"day":n="day"==t._type&&t._start.month==this._start.month&&t._start.day==this._start.day&&(null==t._end&&null==this._end||null!=t._end&&null!=this._end&&this._end.month==t._end.month&&this._end.day==t._end.day)||"month"==t._type&&t._start.month==this._start.month&&this.isFullMonth()&&t.isFullMonth()||null!=t._end&&null!=this._end&&this._end.month==t._end.month&&this.endsMonth()&&t.endsMonth();break;case"week":n=t._start.week==this._start.week&&(t._end==this._end||null!=this._end&&null!=t._end&&t._end.week==this._end.week);break;case"month":n="day"==t._type&&this._start.month==t._start.month&&t.startsMonth()&&(null==this._end&&null!=t._end&&this._start.month==t._end.month&&t.endsMonth()||null!=this._end&&null!=t._end&&this._end.month==t._end.month&&t.endsMonth())||"month"==t._type&&t._start.month==this._start.month&&(null==this._end&&null==t._end||null!=this._end&&null!=t._end&&this._end.month==t._end.month);break;case"holiday":n=t._start.holiday==this._start.holiday}return n}},{key:"getTimeForHumans",value:function(){var e;switch(this._type){case"day":null!=this._end?(e="every week from "+r.IRL_MONTHS[this._start.month-1]+" "+this._start.day+" to ",this._start.month!=this._end.month&&(e+=r.IRL_MONTHS[this._end.month-1]+" "),e+=this._end.day):e="day "+r.IRL_MONTHS[this._start.month-1]+" "+this._start.day;break;case"week":e=null!=this._end?"every week from week "+this._start.week+" to "+this._end.week:"week "+this._start.week;break;case"month":e=null!=this._end?"every week from "+r.IRL_MONTHS[this._start.month-1]+" to "+r.IRL_MONTHS[this._end.month-1]:"every week in "+r.IRL_MONTHS[this._start.month-1];break;case"holiday":if("SH"==this._start.holiday)e="every week during school holidays";else if("PH"==this._start.holiday)e="every public holidays";else{if("easter"!=this._start.holiday)throw new Error("Invalid holiday type: "+this._start.holiday);e="each easter day"}break;case"always":e="every week of year";break;default:e="invalid time"}return e}},{key:"getTimeSelector",value:function(){var e;switch(this._type){case"day":e=r.OSM_MONTHS[this._start.month-1]+" "+(this._start.day<10?"0":"")+this._start.day,null!=this._end&&(e+=this._start.month==this._end.month?"-"+(this._end.day<10?"0":"")+this._end.day:"-"+r.OSM_MONTHS[this._end.month-1]+" "+(this._end.day<10?"0":"")+this._end.day);break;case"week":e="week "+(this._start.week<10?"0":"")+this._start.week,null!=this._end&&(e+="-"+(this._end.week<10?"0":"")+this._end.week);break;case"month":e=r.OSM_MONTHS[this._start.month-1],null!=this._end&&(e+="-"+r.OSM_MONTHS[this._end.month-1]);break;case"holiday":e=this._start.holiday;break;case"always":default:e=""}return e}},{key:"isFullMonth",value:function(){return"month"==this._type&&null==this._end||"day"==this._type&&1==this._start.day&&null!=this._end&&this._end.month==this._start.month&&null!=this._end.day&&this._end.day==r.MONTH_END_DAY[this._end.month-1]}},{key:"startsMonth",value:function(){return"month"==this._type||"always"==this._type||"day"==this._type&&1==this._start.day}},{key:"endsMonth",value:function(){return"month"==this._type||"always"==this._type||"day"==this._type&&null!=this._end&&this._end.day==r.MONTH_END_DAY[this._end.month-1]}},{key:"contains",value:function(e){var t=!1;return this.equals(e)?t=!1:"always"==this._type?t=!0:"day"==this._type?"day"==e._type?(e._start.month>this._start.month||e._start.month==this._start.month&&e._start.day>=this._start.day)&&(null!=e._end?null!=this._end&&(e._end.month<this._end.month||e._end.month==this._end.month&&e._end.day<=this._end.day)&&(t=!0):null!=this._end&&(e._start.month<this._end.month||e._start.month==this._end.month&&e._start.day<=this._end.day)&&(t=!0)):"month"==e._type&&(e._start.month>this._start.month||e._start.month==this._start.month&&1==this._start.day)&&(null!=e._end&&null!=this._end&&(e._end.month<this._end.month||e._end.month==this._end.month&&this._end.day==r.MONTH_END_DAY[end.month-1])||null==e._end&&null!=this._end&&e._start.month<this._end.month)&&(t=!0):"week"==this._type?"week"==e._type&&e._start.week>=this._start.week&&(null!=e._end&&null!=this._end&&e._end.week<=this._end.week||null==e._end&&(null!=this._end&&e._start.week<=this._end.week||e._start.week==this._start.week))&&(t=!0):"month"==this._type&&("month"==e._type?e._start.month>=this._start.month&&(null!=e._end&&null!=this._end&&e._end.month<=this._end.month||null==e._end&&(null!=this._end&&e._start.month<=this._end.month||e._start.month==this._start.month))&&(t=!0):"day"==e._type&&(null!=e._end?null==this._end?e._start.month==this._start.month&&e._end.month==this._start.month&&(e._start.day>=1&&e._end.day<r.MONTH_END_DAY[e._start.month-1]||e._start.day>1&&e._end.day<=r.MONTH_END_DAY[e._start.month-1])&&(t=!0):e._start.month>=this._start.month&&e._end.month<=this._end.month&&(e._start.month>this._start.month&&e._end.month<this._end.month||e._start.month==this._start.month&&e._end.month<this._end.month&&e._start.day>1||e._start.month>this._start.month&&e._end.month==this._end.month&&e._end.day<r.MONTH_END_DAY[e._end.month-1]||e._start.day>=1&&e._end.day<r.MONTH_END_DAY[e._end.month-1]||e._start.day>1&&e._end.day<=r.MONTH_END_DAY[e._end.month-1])&&(t=!0):null==this._end?this._start.month==e._start.month&&(t=!0):e._start.month>=this._start.month&&e._start.month<=this._end.month&&(t=!0))),t}}]),e}();e.exports=i},29790:function(e,t,n){"use strict";function r(e){return"function"==typeof e}var i=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function o(e){setTimeout(function(){throw e},0)}var s={closed:!0,next:function(e){},error:function(e){if(a.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function l(e){return null!==e&&"object"==typeof e}var c,h=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),f=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,a=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(r(a)){i&&(this._unsubscribe=void 0);try{a.call(this)}catch(s){t=s instanceof h?d(s.errors):[s]}}if(u(o))for(var c=-1,f=o.length;++c<f;){var p=o[c];if(l(p))try{p.unsubscribe()}catch(m){t=t||[],m instanceof h?t=t.concat(d(m.errors)):t.push(m)}}if(t)throw new h(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();function d(e){return e.reduce(function(e,t){return e.concat(t instanceof h?t.errors:t)},[])}f.EMPTY=((c=new f).closed=!0,c);var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;switch(_classCallCheck(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=s;break;case 1:if(!e){a.destination=s;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new g(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new g(_assertThisInitialized(a),e,r,i)}return a}return _createClass(n,[{key:p,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(f),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,o){var u;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l,c=_assertThisInitialized(u);return r(i)?l=i:i&&(l=i.next,a=i.error,o=i.complete,i!==s&&(r((c=Object.create(i)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=c,u._next=l,u._error=a,u._complete=o,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(o(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(m),v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(e){return e}var _=function(){var e=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof m)return e;if(e[p])return e[p]()}return e||t||n?new m(e,t,n):new m(s)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof m?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=b(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:v,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:function(e){return 0===e.length?y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=b(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),e}();return e.create=function(t){return new e(t)},e}();function b(e){if(e||(e=a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var w=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(f),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return _createClass(n)}(m),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:p,value:function(){return new k(this)}},{key:"lift",value:function(e){var t=new S(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new w;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new w;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new w;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new w;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new w;return this.hasError?(e.error(this.thrownError),f.EMPTY):this.isStopped?(e.complete(),f.EMPTY):(this.observers.push(e),new x(this,e))}},{key:"asObservable",value:function(){var e=new _;return e.source=this,e}}]),n}(_);return e.create=function(e,t){return new S(e,t)},e}(),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):f.EMPTY}}]),n}(C);function M(e){return e&&"function"==typeof e.schedule}function E(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new T(e,t))}}var T=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new L(e,this.project,this.thisArg))}}]),e}(),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).project=r,a.count=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(m),I=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},D="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",A=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function P(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var O=function(e){if(e&&"function"==typeof e[v])return function(e){return function(t){var n=e[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}(e);if(A(e))return I(e);if(P(e))return function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,o),t}}(e);if(e&&"function"==typeof e[D])return function(e){return function(t){for(var n=e[D]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}(e);var t="You provided ".concat(l(e)?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.");throw new TypeError(t)};function N(e,t){return new _(function(n){var r=new f,i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function R(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new _(function(n){var r=new f;return r.add(t.schedule(function(){var i=e[v]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(P(e))return function(e,t){return new _(function(n){var r=new f;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if(A(e))return N(e,t);if(function(e){return e&&"function"==typeof e[D]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new _(function(n){var r,i=new f;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[D](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof _?e:new _(O(e))}var F=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,r}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(m),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(m);function z(e,t){if(!t.closed){if(e instanceof _)return e.subscribe(t);var n;try{n=O(e)(t)}catch(r){t.error(r)}return n}}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(j(function(n,r){return R(e(n,r)).pipe(E(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new B(e,n))})}var B=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new H(e,this.project,this.concurrent))}}]),e}(),H=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new F(this),n=this.destination;n.add(t);var r=z(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(Y);function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return j(y,e)}function V(e,t){return t?N(e,t):new _(I(e))}function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,a=t[t.length-1];return M(a)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof a&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof _?t[0]:U(r)(V(t,i))}function q(){return function(e){return e.lift(new W(e))}}var W=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new $(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}else this.connection=null}}]),n}(m),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new f).add(this.source.subscribe(new J(this.getSubject(),this))),e.closed&&(this._connection=null,e=f.EMPTY)),e}},{key:"refCount",value:function(){return q()(this)}}]),n}(_),Z=function(){var e=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),J=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(k);function K(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new Q(r,t));var i=Object.create(n,Z);return i.source=n,i.subjectFactory=r,i}}var Q=function(){function e(t,n){_classCallCheck(this,e),this.subjectFactory=t,this.selector=n}return _createClass(e,[{key:"call",value:function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}]),e}();function ee(){return new C}function te(e){for(var t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function ne(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function re(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(re).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ie(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var ae=te({__forward_ref__:te});function oe(e){return e.__forward_ref__=oe,e.toString=function(){return re(this())},e}function se(e){return ue(e)?e():e}function ue(e){return"function"==typeof e&&e.hasOwnProperty(ae)&&e.__forward_ref__===oe}var le=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,r))).code=e,i}return _createClass(n)}(_wrapNativeSuper(Error));function ce(e){return"string"==typeof e?e:null==e?"":String(e)}function he(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ce(e)}function fe(e,t){var n=t?" in ".concat(t):"";throw new le("201","No provider for ".concat(he(e)," found").concat(n))}function de(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pe(e){return{providers:e.providers||[],imports:e.imports||[]}}function me(e){return ge(e,_e)||ge(e,we)}function ge(e,t){return e.hasOwnProperty(t)?e[t]:null}function ve(e){return e&&(e.hasOwnProperty(be)||e.hasOwnProperty(xe))?e[be]:null}var ye,_e=te({"\u0275prov":te}),be=te({"\u0275inj":te}),we=te({ngInjectableDef:te}),xe=te({ngInjectorDef:te}),ke=((ke=ke||{})[ke.Default=0]="Default",ke[ke.Host=1]="Host",ke[ke.Self=2]="Self",ke[ke.SkipSelf=4]="SkipSelf",ke[ke.Optional=8]="Optional",ke);function Ce(e){var t=ye;return ye=e,t}function Se(e,t,n){var r=me(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ke.Optional?null:void 0!==t?t:void fe(re(e),"Injector")}function Me(e){return{toString:e}.toString()}var Ee=((Ee=Ee||{})[Ee.OnPush=0]="OnPush",Ee[Ee.Default=1]="Default",Ee),Te=((Te=Te||{})[Te.Emulated=0]="Emulated",Te[Te.None=2]="None",Te[Te.ShadowDom=3]="ShadowDom",Te),Le="undefined"!=typeof globalThis&&globalThis,Ie="undefined"!=typeof window&&window,De="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ae=Le||"undefined"!=typeof global&&global||Ie||De,Pe={},Oe=[],Ne=te({"\u0275cmp":te}),Re=te({"\u0275dir":te}),Fe=te({"\u0275pipe":te}),Ye=te({"\u0275mod":te}),ze=te({"\u0275loc":te}),je=te({"\u0275fac":te}),Be=te({__NG_ELEMENT_ID__:te}),He=0;function Ue(e){return Me(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ee.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Oe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Te.Emulated,id:"c",styles:e.styles||Oe,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,a=e.pipes;return n.id+=He++,n.inputs=$e(e.inputs,t),n.outputs=$e(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(Ve)}:null,n.pipeDefs=a?function(){return("function"==typeof a?a():a).map(Ge)}:null,n})}function Ve(e){return Je(e)||function(e){return e[Re]||null}(e)}function Ge(e){return function(e){return e[Fe]||null}(e)}var qe={};function We(e){return Me(function(){var t={type:e.type,bootstrap:e.bootstrap||Oe,declarations:e.declarations||Oe,imports:e.imports||Oe,exports:e.exports||Oe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(qe[e.id]=e.type),t})}function $e(e,t){if(null==e)return Pe;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}var Xe=Ue;function Ze(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Je(e){return e[Ne]||null}function Ke(e,t){var n=e[Ye]||null;if(!n&&!0===t)throw new Error("Type ".concat(re(e)," does not have '\u0275mod' property."));return n}function Qe(e){return Array.isArray(e)&&"object"==typeof e[1]}function et(e){return Array.isArray(e)&&!0===e[1]}function tt(e){return 0!=(8&e.flags)}function nt(e){return 2==(2&e.flags)}function rt(e){return 1==(1&e.flags)}function it(e){return null!==e.template}function at(e){return 0!=(512&e[2])}function ot(e,t){return e.hasOwnProperty(je)?e[je]:null}var st=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function ut(){return lt}function lt(e){return e.type.prototype.ngOnChanges&&(e.setInput=ht),ct}function ct(){var e=pt(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===Pe)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function ht(e,t,n,r){var i=pt(e)||function(e,t){return e[dt]=t}(e,{previous:Pe,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[n],u=o[s];a[s]=new st(u&&u.currentValue,t,o===Pe),e[r]=t}ut.ngInherit=!0;var ft,dt="__ngSimpleChanges__";function pt(e){return e[dt]||null}function mt(e){return!!e.listen}var gt={createRenderer:function(e,t){return void 0!==ft?ft:"undefined"!=typeof document?document:void 0}};function vt(e){for(;Array.isArray(e);)e=e[0];return e}function yt(e,t){return vt(t[e])}function _t(e,t){return vt(t[e.index])}function bt(e,t){return e.data[t]}function wt(e,t){return e[t]}function xt(e,t){var n=t[e];return Qe(n)?n:n[0]}function kt(e){return 128==(128&e[2])}function Ct(e,t){return null==t?null:e[t]}function St(e){e[18]=0}function Mt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Et={lFrame:Zt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Tt(){return Et.bindingsEnabled}function Lt(){return Et.lFrame.lView}function It(){return Et.lFrame.tView}function Dt(e){return Et.lFrame.contextLView=e,e[8]}function At(){for(var e=Pt();null!==e&&64===e.type;)e=e.parent;return e}function Pt(){return Et.lFrame.currentTNode}function Ot(e,t){var n=Et.lFrame;n.currentTNode=e,n.isParent=t}function Nt(){return Et.lFrame.isParent}function Rt(){Et.lFrame.isParent=!1}function Ft(){return Et.isInCheckNoChangesMode}function Yt(e){Et.isInCheckNoChangesMode=e}function zt(){var e=Et.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function jt(){return Et.lFrame.bindingIndex}function Bt(){return Et.lFrame.bindingIndex++}function Ht(e){var t=Et.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ut(e,t){var n=Et.lFrame;n.bindingIndex=n.bindingRootIndex=e,Vt(t)}function Vt(e){Et.lFrame.currentDirectiveIndex=e}function Gt(e){Et.lFrame.currentQueryIndex=e}function qt(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Wt(e,t,n){if(n&ke.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&ke.Host||(r=qt(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}var a=Et.lFrame=Xt();return a.currentTNode=t,a.lView=e,!0}function $t(e){var t=Xt(),n=e[1];Et.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Xt(){var e=Et.lFrame,t=null===e?null:e.child;return null===t?Zt(e):t}function Zt(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Jt(){var e=Et.lFrame;return Et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Kt=Jt;function Qt(){var e=Jt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function en(){return Et.lFrame.selectedIndex}function tn(e){Et.lFrame.selectedIndex=e}function nn(){var e=Et.lFrame;return bt(e.tView,e.selectedIndex)}function rn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,a=i.ngAfterContentInit,o=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,l=i.ngOnDestroy;a&&(e.contentHooks||(e.contentHooks=[])).push(-n,a),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=l&&(e.destroyHooks||(e.destroyHooks=[])).push(n,l)}}function an(e,t,n){un(e,t,3,n)}function on(e,t,n,r){(3&e[2])===n&&un(e,t,n,r)}function sn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function un(e,t,n,r){for(var i=null!=r?r:-1,a=t.length-1,o=0,s=void 0!==r?65535&e[18]:0;s<a;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<i||-1==i)&&(ln(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function ln(e,t,n,r){var i=n[r]<0,a=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}var cn=_createClass(function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r});function hn(e,t,n){for(var r=mt(e),i=0;i<n.length;){var a=n[i];if("number"==typeof a){if(0!==a)break;i++;var o=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,o):t.setAttributeNS(o,s,u)}else{var l=a,c=n[++i];dn(l)?r&&e.setProperty(t,l,c):r?e.setAttribute(t,l,c):t.setAttribute(l,c),i++}}return i}function fn(e){return 3===e||4===e||6===e}function dn(e){return 64===e.charCodeAt(0)}function pn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||mn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function mn(e,t,n,r,i){var a=0,o=e.length;if(-1===t)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<e.length;){var u=e[a];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,t),a=o+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function gn(e){return-1!==e}function vn(e){return 32767&e}function yn(e,t){for(var n=function(e){return e>>16}(e),r=t;n>0;)r=r[15],n--;return r}var _n=!0;function bn(e){var t=_n;return _n=e,t}var wn=0;function xn(e,t){var n=Cn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,kn(r.data,e),kn(t,null),kn(r.blueprint,null));var i=Sn(e,t),a=e.injectorIndex;if(gn(i))for(var o=vn(i),s=yn(i,t),u=s[1].data,l=0;l<8;l++)t[a+l]=s[o+l]|u[o+l];return t[a+8]=i,a}function kn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Cn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Sn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var a=i[1],o=a.type;if(null===(r=2===o?a.declTNode:1===o?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Mn(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Be)&&(r=n[Be]),null==r&&(r=n[Be]=wn++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function En(e,t,n){if(n&ke.Optional)return e;fe(t,"NodeInjector")}function Tn(e,t,n,r){if(n&ke.Optional&&void 0===r&&(r=null),0==(n&(ke.Self|ke.Host))){var i=e[9],a=Ce(void 0);try{return i?i.get(t,r,n&ke.Optional):Se(t,r,n&ke.Optional)}finally{Ce(a)}}return En(r,t,n)}function Ln(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ke.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var a=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(Be)?e[Be]:void 0;return"number"==typeof t?t>=0?255&t:Dn:t}(n);if("function"==typeof a){if(!Wt(t,e,r))return r&ke.Host?En(i,n,r):Tn(t,n,r,i);try{var o=a(r);if(null!=o||r&ke.Optional)return o;fe(n)}finally{Kt()}}else if("number"==typeof a){var s=null,u=Cn(e,t),l=-1,c=r&ke.Host?t[16][6]:null;for((-1===u||r&ke.SkipSelf)&&(-1!==(l=-1===u?Sn(e,t):t[u+8])&&Nn(r,!1)?(s=t[1],u=vn(l),t=yn(l,t)):u=-1);-1!==u;){var h=t[1];if(On(a,u,h.data)){var f=An(u,t,n,s,r,c);if(f!==In)return f}-1!==(l=t[u+8])&&Nn(r,t[1].data[u+8]===c)&&On(a,u,t)?(s=h,u=vn(l),t=yn(l,t)):u=-1}}}return Tn(t,n,r,i)}var In={};function Dn(){return new Rn(At(),Lt())}function An(e,t,n,r,i,a){var o=t[1],s=o.data[e+8],u=function(e,t,n,r,i){for(var a=e.providerIndexes,o=t.data,s=1048575&a,u=e.directiveStart,l=a>>20,c=i?s+l:e.directiveEnd,h=r?s:s+l;h<c;h++){var f=o[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=o[u];if(d&&it(d)&&d.type===n)return u}return null}(s,o,n,null==r?nt(s)&&_n:r!=o&&0!=(3&s.type),i&ke.Host&&a===s);return null!==u?Pn(t,o,u,s):In}function Pn(e,t,n,r){var i=e[n],a=t.data;if(function(e){return e instanceof cn}(i)){var o=i;o.resolving&&function(e,t){throw new le("200","Circular dependency in DI detected for ".concat(e))}(he(a[n]));var s=bn(o.canSeeViewProviders);o.resolving=!0;var u=o.injectImpl?Ce(o.injectImpl):null;Wt(e,r,ke.Default);try{i=e[n]=o.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,a=r.ngOnInit,o=r.ngDoCheck;if(i){var s=lt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,a[n],t)}finally{null!==u&&Ce(u),bn(s),o.resolving=!1,Kt()}}return i}function On(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Nn(e,t){return!(e&ke.Self||e&ke.Host&&t)}var Rn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t,n){return Ln(this._tNode,this._lView,e,n,t)}}]),e}();function Fn(e){return Me(function(){for(var t=e.prototype.constructor,n=t[je]||Yn(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var a=i[je]||Yn(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function Yn(e){return ue(e)?function(){var t=Yn(se(e));return t&&t()}:ot(e)}function zn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var a=n[i];if(fn(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}return null}(At(),e)}var jn="__parameters__",Bn="__prop__metadata__";function Hn(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function Un(e,t,n){return Me(function(){var r=Hn(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var a=_construct(i,t);return o.annotation=a,o;function o(e,t,n){for(var r=e.hasOwnProperty(jn)?e[jn]:Object.defineProperty(e,jn,{value:[]})[jn];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Vn(e,t,n,r){return Me(function(){var i=Hn(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return i.apply(this,t),this;var o=_construct(a,t);return function(e,n){var i=e.constructor,a=i.hasOwnProperty(Bn)?i[Bn]:Object.defineProperty(i,Bn,{value:{}})[Bn];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(o),r&&r.apply(void 0,[e,n].concat(t))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}var Gn=Un("Attribute",function(e){return{attributeName:e,__NG_ELEMENT_ID__:function(){return zn(e)}}}),qn=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=de({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),Wn=new qn("AnalyzeForEntryComponents"),$n=Function;function Xn(e,t){e.forEach(function(e){return Array.isArray(e)?Xn(e,t):t(e)})}function Zn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Kn(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function Qn(e,t,n){var r=tr(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function er(e,t){var n=tr(e,t);if(n>=0)return e[1|n]}function tr(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var a=r+(i-r>>1),o=e[a<<1];if(t===o)return a<<1;o>t?i=a:r=a+1}return~(i<<1)}(e,t)}var nr,rr={},ir="__NG_DI_FLAG__",ar="ngTempTokenPath",or=/\n/gm,sr="__source",ur=te({provide:String,useValue:te});function lr(e){var t=nr;return nr=e,t}function cr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke.Default;if(void 0===nr)throw new Error("inject() must be called from an injection context");return null===nr?Se(e,void 0,t):nr.get(e,t&ke.Optional?null:void 0,t)}function hr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke.Default;return(ye||cr)(se(e),t)}function fr(e){for(var t=[],n=0;n<e.length;n++){var r=se(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=ke.Default,o=0;o<r.length;o++){var s=r[o],u=pr(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}t.push(hr(i,a))}else t.push(hr(r))}return t}function dr(e,t){return e[ir]=t,e.prototype[ir]=t,e}function pr(e){return e[ir]}function mr(e,t,n,r){var i=e[ar];throw t[sr]&&i.unshift(t[sr]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=re(t);if(Array.isArray(t))i=t.map(re).join(" -> ");else if("object"==typeof t){var a=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):re(s)))}i="{".concat(a.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(or,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ar]=null,e}var gr=dr(Un("Inject",function(e){return{token:e}}),-1),vr=dr(Un("Optional"),8),yr=dr(Un("SkipSelf"),4),_r=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}();function br(e){return e instanceof _r?e.changingThisBreaksApplicationSecurity:e}var wr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,kr=((kr=kr||{})[kr.NONE=0]="NONE",kr[kr.HTML=1]="HTML",kr[kr.STYLE=2]="STYLE",kr[kr.SCRIPT=3]="SCRIPT",kr[kr.URL=4]="URL",kr[kr.RESOURCE_URL=5]="RESOURCE_URL",kr);function Cr(e){var t=function(){var e=Lt();return e&&e[12]}();return t?t.sanitize(kr.URL,e)||"":function(e,t){var n=function(e){return e instanceof _r&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}(e,"URL")?br(e):function(e){return(e=String(e)).match(wr)||e.match(xr)?e:"unsafe:"+e}(ce(e))}var Sr="__ngContext__";function Mr(e,t){e[Sr]=t}function Er(e){var t=function(e){return e[Sr]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Tr(e){return e.ngOriginalError}function Lr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Ir=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||Lr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(Tr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=e&&Tr(e);t&&Tr(t);)t=Tr(t);return t||null}}]),e}(),Dr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ae);function Ar(e){return e instanceof Function?e():e}var Pr=((Pr=Pr||{})[Pr.Important=1]="Important",Pr[Pr.DashCase=2]="DashCase",Pr);function Or(e,t){return(void 0)(e,t)}function Nr(e){var t=e[3];return et(t)?t[3]:t}function Rr(e){return Yr(e[13])}function Fr(e){return Yr(e[4])}function Yr(e){for(;null!==e&&!et(e);)e=e[4];return e}function zr(e,t,n,r,i){if(null!=r){var a,o=!1;et(r)?a=r:Qe(r)&&(o=!0,r=r[0]);var s=vt(r);0===e&&null!==n?null==i?Wr(t,n,s):qr(t,n,s,i||null,!0):1===e&&null!==n?qr(t,n,s,i||null,!0):2===e?function(e,t,n){var r=Xr(e,t);r&&function(e,t,n,r){mt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,o):3===e&&t.destroyNode(s),null!=a&&function(e,t,n,r,i){var a=n[7];a!==vt(n)&&zr(t,e,r,a,i);for(var o=10;o<n.length;o++){var s=n[o];ri(s[1],s,e,t,r,a)}}(t,e,a,n,i)}}function jr(e,t,n){return mt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Br(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Mt(i,-1)),n.splice(r,1)}function Hr(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Br(i,r),t>0&&(e[n-1][4]=r[4]);var a=Jn(e,10+t);!function(e,t){ri(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);var o=a[19];null!==o&&o.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Ur(e,t){if(!(256&t[2])){var n=t[11];mt(n)&&n.destroyNode&&ri(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Vr(e[1],e);for(;t;){var n=null;if(Qe(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Qe(t)&&Vr(t[1],t),t=t[3];null===t&&(t=e),Qe(t)&&Vr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Vr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof cn)){var a=n[r+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];try{u.call(s)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){var o=n[a+1],s="function"==typeof o?o(t):vt(t[o]),u=r[i=n[a+2]],l=n[a+3];"boolean"==typeof l?s.removeEventListener(n[a],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),a+=2}else{var c=r[i=n[a+1]];n[a].call(c)}if(null!==r){for(var h=i+1;h<r.length;h++)r[h]();t[7]=null}}(e,t),1===t[1].type&&mt(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&et(t[3])){n!==t[3]&&Br(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function Gr(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===Te.None||i===Te.Emulated)return null}return _t(r,n)}(e,t.parent,n)}function qr(e,t,n,r,i){mt(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Wr(e,t,n){mt(e)?e.appendChild(t,n):t.appendChild(n)}function $r(e,t,n,r,i){null!==r?qr(e,t,n,r,i):Wr(e,t,n)}function Xr(e,t){return mt(e)?e.parentNode(t):t.parentNode}function Zr(e,t,n){return Jr(e,t,n)}var Jr=function(e,t,n){return 40&e.type?_t(e,n):null};function Kr(e,t,n,r){var i=Gr(e,r,t),a=t[11],o=Zr(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)$r(a,i,n[s],o,!1);else $r(a,i,n,o,!1)}function Qr(e,t){if(null!==t){var n=t.type;if(3&n)return _t(t,e);if(4&n)return ti(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return Qr(e,r);var i=e[t.index];return et(i)?ti(-1,i):vt(i)}if(32&n)return Or(t,e)()||vt(e[t.index]);var a=ei(e,t);return null!==a?Array.isArray(a)?a[0]:Qr(Nr(e[16]),a):Qr(e,t.next)}return null}function ei(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ti(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return Qr(r,i)}return t[7]}function ni(e,t,n,r,i,a,o){for(;null!=n;){var s=r[n.index],u=n.type;if(o&&0===t&&(s&&Mr(vt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)ni(e,t,n.child,r,i,a,!1),zr(t,e,i,s,a);else if(32&u){for(var l=Or(n,r),c=void 0;c=l();)zr(t,e,i,c,a);zr(t,e,i,s,a)}else 16&u?ii(e,t,r,n,i,a):zr(t,e,i,s,a);n=o?n.projectionNext:n.next}}function ri(e,t,n,r,i,a){ni(n,r,e.firstChild,t,i,a,!1)}function ii(e,t,n,r,i,a){var o=n[16],s=o[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)zr(t,e,i,s[u],a);else ni(e,t,s,o[3],i,a,!0)}function ai(e,t,n){mt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function oi(e,t,n){mt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function si(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}var ui="ng-template";function li(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==si((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ci(e){return 4===e.type&&e.value!==ui}function hi(e,t,n){return t===(4!==e.type||n?e.value:ui)}function fi(e,t,n){for(var r=4,i=e.attrs||[],a=function(e){for(var t=0;t<e.length;t++)if(fn(e[t]))return t;return e.length}(i),o=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!hi(e,u,n)||""===u&&1===t.length){if(di(r))return!1;o=!0}}else{var l=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!li(e.attrs,l,n)){if(di(r))return!1;o=!0}continue}var c=pi(8&r?"class":u,i,ci(e),n);if(-1===c){if(di(r))return!1;o=!0;continue}if(""!==l){var h;h=c>a?"":i[c+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==si(f,l,0)||2&r&&l!==h){if(di(r))return!1;o=!0}}}}else{if(!o&&!di(r)&&!di(u))return!1;if(o&&di(u))continue;o=!1,r=u|1&r}}return di(r)||o}function di(e){return 0==(1&e)}function pi(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var a=!1;i<t.length;){var o=t[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function mi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(fi(e,t[r],n))return!0;return!1}function gi(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function vi(e,t){return e?":not("+t.trim()+")":t}function yi(e){for(var t=e[0],n=1,r=2,i="",a=!1;n<e.length;){var o=e[n];if("string"==typeof o)if(2&r){var s=e[++n];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!di(o)&&(t+=vi(a,i),i=""),r=o,a=a||!di(r);n++}return""!==i&&(t+=vi(a,i)),t}var _i={};function bi(e){wi(It(),Lt(),en()+e,Ft())}function wi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&an(t,i,n)}else{var a=e.preOrderHooks;null!==a&&on(t,a,0,n)}tn(n)}function xi(e,t){return e<<17|t<<2}function ki(e){return e>>17&32767}function Ci(e){return 2|e}function Si(e){return(131068&e)>>2}function Mi(e,t){return-131069&e|t<<2}function Ei(e){return 1|e}function Ti(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1];if(-1!==a){var o=e.data[a];Gt(i),o.contentQueries(2,t[a],a)}}}function Li(e,t,n,r,i,a,o,s,u,l){var c=t.blueprint.slice();return c[0]=i,c[2]=140|r,St(c),c[3]=c[15]=e,c[8]=n,c[10]=o||e&&e[10],c[11]=s||e&&e[11],c[12]=u||e&&e[12]||null,c[9]=l||e&&e[9]||null,c[6]=a,c[16]=2==t.type?e[16]:c,c}function Ii(e,t,n,r,i){var a=e.data[t];if(null===a)a=function(e,t,n,r,i){var a=Pt(),o=Nt(),s=e.data[t]=function(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=s),null!==a&&(o?null==a.child&&null!==s.parent&&(a.child=s):null===a.next&&(a.next=s)),s}(e,t,n,r,i),Et.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;var o=function(){var e=Et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return Ot(a,!0),a}function Di(e,t,n,r){if(0===n)return-1;for(var i=t.length,a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ai(e,t,n){$t(t);try{var r=e.viewQuery;null!==r&&sa(1,r,n);var i=e.template;null!==i&&Ni(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ti(e,t),e.staticViewQueries&&sa(2,e.viewQuery,n);var a=e.components;null!==a&&function(e,t){for(var n=0;n<t.length;n++)na(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Qt()}}function Pi(e,t,n,r){var i=t[2];if(256!=(256&i)){$t(t);var a=Ft();try{St(t),function(e){Et.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ni(e,t,n,2,r);var o=3==(3&i);if(!a)if(o){var s=e.preOrderCheckHooks;null!==s&&an(t,s,null)}else{var u=e.preOrderHooks;null!==u&&on(t,u,0,null),sn(t,0)}if(function(e){for(var t=Rr(e);null!==t;t=Fr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],a=i[3];0==(1024&i[2])&&Mt(a,1),i[2]|=1024}}(t),function(e){for(var t=Rr(e);null!==t;t=Fr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];kt(r)&&Pi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Ti(e,t),!a)if(o){var l=e.contentCheckHooks;null!==l&&an(t,l)}else{var c=e.contentHooks;null!==c&&on(t,c,1),sn(t,1)}!function(e,t){var n=e.hostBindingOpCodes;if(null!==n)try{for(var r=0;r<n.length;r++){var i=n[r];if(i<0)tn(~i);else{var a=i,o=n[++r],s=n[++r];Ut(o,a),s(2,t[a])}}}finally{tn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)ea(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&sa(2,f,r),!a)if(o){var d=e.viewCheckHooks;null!==d&&an(t,d)}else{var p=e.viewHooks;null!==p&&on(t,p,2),sn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Mt(t[3],-1))}finally{Qt()}}}function Oi(e,t,n,r){var i=t[10],a=!Ft(),o=function(e){return 4==(4&e[2])}(t);try{a&&!o&&i.begin&&i.begin(),o&&Ai(e,t,r),Pi(e,t,n,r)}finally{a&&!o&&i.end&&i.end()}}function Ni(e,t,n,r,i){var a=en(),o=2&r;try{tn(-1),o&&t.length>20&&wi(e,t,20,Ft()),n(r,i)}finally{tn(a)}}function Ri(e,t,n){if(tt(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}function Fi(e,t,n){!Tt()||(function(e,t,n,r){var i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||xn(n,t),Mr(r,t);for(var o=n.initialInputs,s=i;s<a;s++){var u=e.data[s],l=it(u);l&&Zi(t,n,u);var c=Pn(t,e,s,n);Mr(c,t),null!==o&&Ji(0,s-i,c,u,0,o),l&&(xt(n.index,t)[8]=c)}}(e,t,n,_t(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,a=n.index,o=Et.lFrame.currentDirectiveIndex;try{tn(a);for(var s=r;s<i;s++){var u=e.data[s],l=t[s];Vt(s),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Gi(u,l)}}finally{tn(-1),Vt(o)}}(e,t,n))}function Yi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_t,r=t.localNames;if(null!==r)for(var i=t.index+1,a=0;a<r.length;a+=2){var o=r[a+1],s=-1===o?n(t,e):e[o];e[i++]=s}}function zi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ji(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ji(e,t,n,r,i,a,o,s,u,l){var c=20+r,h=c+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:_i);return n}(c,h),d="function"==typeof l?l():l;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:t,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Bi(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Hi(e,t,n,r,i,a,o,s){var u,l=_t(t,n),c=t.inputs;!s&&null!=c&&(u=c[r])?(fa(e,n,u,r,i),nt(t)&&function(e,t){var n=xt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,mt(a)?a.setProperty(l,r,i):dn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Ui(e,t,n,r){var i=!1;if(Tt()){var a=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var a=0;a<r.length;a++){var o=r[a];mi(n,o.selectors,!1)&&(i||(i=[]),Mn(xn(n,t),e,o.type),it(o)?(qi(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==a){i=!0,$i(n,e.data.length,a.length);for(var s=0;s<a.length;s++){var u=a[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,h=Di(e,t,a.length,null),f=0;f<a.length;f++){var d=a[f];n.mergedAttrs=pn(n.mergedAttrs,d.hostAttrs),Xi(e,n,t,h,d),Wi(h,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),l=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,a=[],o=null,s=null,u=t.directiveStart;u<n;u++){var l=r[u],c=l.inputs,h=null===i||ci(t)?null:Ki(c,i);a.push(h),o=Bi(c,u,o),s=Bi(l.outputs,u,s)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=s}(e,n)}o&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var a=n[t[i+1]];if(null==a)throw new le("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],a)}}(n,r,o)}return n.mergedAttrs=pn(n.mergedAttrs,n.attrs),i}function Vi(e,t,n,r,i,a){var o=a.hostBindings;if(o){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,o)}}function Gi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function qi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Wi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;it(t)&&(n[""]=e)}}function $i(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Xi(e,t,n,r,i){e.data[r]=i;var a=i.factory||(i.factory=ot(i.type)),o=new cn(a,it(i),null);e.blueprint[r]=o,n[r]=o,Vi(e,t,0,r,Di(e,n,i.hostVars,_i),i)}function Zi(e,t,n){var r=_t(t,e),i=zi(n),a=e[10],o=ra(e,Li(e,i,null,n.onPush?64:16,r,t,a,a.createRenderer(r,n),null,null));e[t.index]=o}function Ji(e,t,n,r,i,a){var o=a[t];if(null!==o)for(var s=r.setInput,u=0;u<o.length;){var l=o[u++],c=o[u++],h=o[u++];null!==s?r.setInput(n,h,l,c):n[c]=h}}function Ki(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Qi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function ea(e,t){var n=xt(t,e);if(kt(n)){var r=n[1];80&n[2]?Pi(r,n,r.template,n[8]):n[5]>0&&ta(n)}}function ta(e){for(var t=Rr(e);null!==t;t=Fr(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];Pi(i,r,i.template,r[8])}else r[5]>0&&ta(r)}var a=e[1].components;if(null!==a)for(var o=0;o<a.length;o++){var s=xt(a[o],e);kt(s)&&s[5]>0&&ta(s)}}function na(e,t){var n=xt(t,e),r=n[1];(function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Ai(r,n,n[8])}function ra(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ia(e){for(;e;){e[2]|=64;var t=Nr(e);if(at(e)&&!t)return e;e=t}return null}function aa(e,t,n){var r=t[10];r.begin&&r.begin();try{Pi(e,t,e.template,n)}catch(i){throw ha(t,i),i}finally{r.end&&r.end()}}function oa(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Er(n),i=r[1];Oi(i,r,i.template,n)}}(e[8])}function sa(e,t,n){Gt(0),t(e,n)}var ua=Promise.resolve(null);function la(e){return e[7]||(e[7]=[])}function ca(e){return e.cleanup||(e.cleanup=[])}function ha(e,t){var n=e[9],r=n?n.get(Ir,null):null;r&&r.handleError(t)}function fa(e,t,n,r,i){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],u=t[o],l=e.data[o];null!==l.setInput?l.setInput(u,i,r,s):u[s]=i}}function da(e,t,n){var r=yt(t,e);!function(e,t,n){mt(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function pa(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?a=s:1==a?i=ie(i,s):2==a&&(r=ie(r,s+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var ma,ga=new qn("INJECTOR",-1),va=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr;if(t===rr){var n=new Error("NullInjectorError: No provider for ".concat(re(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),ya=new qn("Set Injector scope."),_a={},ba={};function wa(){return void 0===ma&&(ma=new va),ma}function xa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ka(e,n,t||wa(),r)}var ka=function(){function e(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&Xn(n,function(e){return i.processProvider(e,t,n)}),Xn([t],function(e){return i.processInjectorType(e,[],o)}),this.records.set(ga,Ma(void 0,this));var s=this.records.get(ya);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof t?null:re(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ke.Default;this.assertNotDestroyed();var r=lr(this),i=Ce(void 0);try{if(!(n&ke.SkipSelf)){var a=this.records.get(e);if(void 0===a){var o=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof qn}(e)&&me(e);a=o&&this.injectableDefInScope(o)?Ma(Ca(e),_a):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&ke.Self?wa():this.parent).get(e,t=n&ke.Optional&&t===rr?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[ar]=s[ar]||[]).unshift(re(e)),r)throw s;return mr(s,e,"R3InjectorError",this.source)}throw s}finally{Ce(i),lr(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(re(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=se(e)))return!1;var i=ve(e),a=null==i&&e.ngModule||void 0,o=void 0===a?e:a,s=-1!==n.indexOf(o);if(void 0!==a&&(i=ve(a)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(o);try{Xn(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var l=function(e){var t=u[e],n=t.ngModule,i=t.providers;Xn(i,function(e){return r.processProvider(e,n,i||Oe)})},c=0;c<u.length;c++)l(c)}this.injectorDefTypes.add(o);var h=ot(o)||function(){return new o};this.records.set(o,Ma(h,_a));var f=i.providers;if(null!=f&&!s){var d=e;Xn(f,function(e){return r.processProvider(e,d,f)})}return void 0!==a&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Ta(e=se(e))?e:se(e&&e.provide),i=function(e,t,n){return Ea(e)?Ma(void 0,e.useValue):Ma(Sa(e),_a)}(e);if(Ta(e)||!0!==e.multi)this.records.get(r);else{var a=this.records.get(r);a||((a=Ma(void 0,_a,!0)).factory=function(){return fr(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){return t.value===_a&&(t.value=ba,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=se(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function Ca(e){var t=me(e),n=null!==t?t.factory:ot(e);if(null!==n)return n;if(e instanceof qn)throw new Error("Token ".concat(re(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=Kn(t,"?");throw new Error("Can't resolve all parameters for ".concat(re(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[_e]||e[we]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Sa(e,t,n){var r;if(Ta(e)){var i=se(e);return ot(i)||Ca(i)}if(Ea(e))r=function(){return se(e.useValue)};else if(function(e){return!(!e||!e.useFactory)}(e))r=function(){return e.useFactory.apply(e,_toConsumableArray(fr(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return hr(se(e.useExisting))};else{var a=se(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ot(a)||Ca(a);r=function(){return _construct(a,_toConsumableArray(fr(e.deps)))}}return r}function Ma(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Ea(e){return null!==e&&"object"==typeof e&&ur in e}function Ta(e){return"function"==typeof e}var La=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=xa(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Ia=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?La(e,t,""):La(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=rr,e.NULL=new va,e.\u0275prov=de({token:e,providedIn:"any",factory:function(){return hr(ga)}}),e.__NG_ELEMENT_ID__=-1,e}();function Da(e,t){rn(Er(e)[1],At())}function Aa(e){for(var t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0,r=[e];t;){var i=void 0;if(it(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var a=e;a.inputs=Pa(e.inputs),a.declaredInputs=Pa(e.declaredInputs),a.outputs=Pa(e.outputs);var o=i.hostBindings;o&&Ra(e,o);var s=i.viewQuery,u=i.contentQueries;if(s&&Oa(e,s),u&&Na(e,u),ne(e.inputs,i.inputs),ne(e.declaredInputs,i.declaredInputs),ne(e.outputs,i.outputs),it(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var c=i.features;if(c)for(var h=0;h<c.length;h++){var f=c[h];f&&f.ngInherit&&f(e),f===Aa&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=pn(i.hostAttrs,n=pn(n,i.hostAttrs))}}(r)}function Pa(e){return e===Pe?{}:e===Oe?[]:e}function Oa(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Na(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Ra(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Fa=null;function Ya(){if(!Fa){var e=Ae.Symbol;if(e&&e.iterator)Fa=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Fa=r)}}return Fa}var za=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function ja(e){return!!Ba(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ya()in e)}function Ba(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ha(e,t,n){return e[t]=n}function Ua(e,t){return e[t]}function Va(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ga(e,t,n,r){var i=Va(e,t,n);return Va(e,t+1,r)||i}function qa(e,t,n,r,i){var a=Ga(e,t,n,r);return Va(e,t+2,i)||a}function Wa(e,t,n,r){return Va(e,Bt(),n)?t+ce(n)+r:_i}function $a(e,t,n,r,i,a,o,s){var u=Lt(),l=It(),c=e+20,h=l.firstCreatePass?function(e,t,n,r,i,a,o,s,u){var l=t.consts,c=Ii(t,e,4,o||null,Ct(l,s));Ui(t,n,c,Ct(l,u)),rn(t,c);var h=c.tViews=ji(2,c,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,l,u,t,n,r,i,a,o):l.data[c];Ot(h,!1);var f=u[11].createComment("");Kr(l,u,f,h),Mr(f,u),ra(u,u[c]=Qi(f,u,f,h)),rt(h)&&Fi(l,u,h),null!=o&&Yi(u,h,s)}function Xa(e){return wt(Et.lFrame.contextLView,20+e)}function Za(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ke.Default,n=Lt();return null===n?hr(e,t):Ln(At(),n,se(e),t)}function Ja(e,t,n){var r=Lt();return Va(r,Bt(),t)&&Hi(It(),nn(),r,e,t,r[11],n,!1),Ja}function Ka(e,t,n,r,i){var a=i?"class":"style";fa(e,n,t.inputs[a],a,r)}function Qa(e,t,n,r){var i=Lt(),a=It(),o=20+e,s=i[11],u=i[o]=jr(s,t,Et.lFrame.currentNamespace),l=a.firstCreatePass?function(e,t,n,r,i,a,o){var s=t.consts,u=Ii(t,e,2,i,Ct(s,a));return Ui(t,n,u,Ct(s,o)),null!==u.attrs&&pa(u,u.attrs,!1),null!==u.mergedAttrs&&pa(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,a,i,0,t,n,r):a.data[o];Ot(l,!0);var c=l.mergedAttrs;null!==c&&hn(s,u,c);var h=l.classes;null!==h&&oi(s,u,h);var f=l.styles;null!==f&&ai(s,u,f),64!=(64&l.flags)&&Kr(a,i,u,l),0===Et.lFrame.elementDepthCount&&Mr(u,i),Et.lFrame.elementDepthCount++,rt(l)&&(Fi(a,i,l),Ri(a,l,i)),null!==r&&Yi(i,l)}function eo(){var e=At();Nt()?Rt():Ot(e=e.parent,!1);var t=e;Et.lFrame.elementDepthCount--;var n=It();n.firstCreatePass&&(rn(n,e),tt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ka(n,t,Lt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ka(n,t,Lt(),t.stylesWithoutHost,!1)}function to(e,t,n,r){Qa(e,t,n,r),eo()}function no(e,t,n){var r=Lt(),i=It(),a=e+20,o=i.firstCreatePass?function(e,t,n,r,i){var a=t.consts,o=Ct(a,r),s=Ii(t,e,8,"ng-container",o);return null!==o&&pa(s,o,!0),Ui(t,n,s,Ct(a,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(a,i,r,t,n):i.data[a];Ot(o,!0);var s=r[a]=r[11].createComment("");Kr(i,r,s,o),Mr(s,r),rt(o)&&(Fi(i,r,o),Ri(i,o,r)),null!=n&&Yi(r,o)}function ro(){var e=At(),t=It();Nt()?Rt():Ot(e=e.parent,!1),t.firstCreatePass&&(rn(t,e),tt(e)&&t.queries.elementEnd(e))}function io(){return Lt()}function ao(e){return!!e&&"function"==typeof e.then}function oo(e){return!!e&&"function"==typeof e.subscribe}var so=oo;function uo(e,t,n,r){var i=Lt(),a=It(),o=At();return function(e,t,n,r,i,a,o,s){var u=rt(r),l=e.firstCreatePass&&ca(e),c=t[8],h=la(t),f=!0;if(3&r.type||s){var d=_t(r,t),p=s?s(d):d,m=h.length,g=s?function(e){return s(vt(e[r.index]))}:r.index;if(mt(n)){var v=null;if(!s&&u&&(v=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===n&&i[a+1]===r){var s=t[7],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(e,t,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=a,v.__ngLastListenerFn__=a,f=!1;else{a=co(r,t,c,a,!1);var y=n.listen(p,i,a);h.push(a,y),l&&l.push(i,g,m,m+1)}}else a=co(r,t,c,a,!0),p.addEventListener(i,a,o),h.push(a),l&&l.push(i,g,m,o)}else a=co(r,t,c,a,!1);var _,b=r.outputs;if(f&&null!==b&&(_=b[i])){var w=_.length;if(w)for(var x=0;x<w;x+=2){var k=t[_[x]][_[x+1]].subscribe(a),C=h.length;h.push(a,k),l&&l.push(i,r.index,C,-(C+1))}}}(a,i,i[11],o,e,t,!!n,r),uo}function lo(e,t,n,r){try{return!1!==n(r)}catch(i){return ha(e,i),!1}}function co(e,t,n,r,i){return function n(a){if(a===Function)return r;var o=2&e.flags?xt(e.index,t):t;0==(32&t[2])&&ia(o);for(var s=lo(t,0,r,a),u=n.__ngNextListenerFn__;u;)s=lo(t,0,u,a)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Et.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Et.lFrame.contextLView))[8]}(e)}function fo(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var a=t[i];if("*"!==a){if(null===r?mi(e,a,!0):gi(r,a))return i}else n=i}return n}function po(e){var t=Lt()[16][6];if(!t.projection)for(var n=t.projection=Kn(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var a=e?fo(i,e):0;null!==a&&(r[a]?r[a].projectionNext=i:n[a]=i,r[a]=i),i=i.next}}function mo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Lt(),i=It(),a=Ii(i,20+e,16,null,n||null);null===a.projection&&(a.projection=t),Rt(),64!=(64&a.flags)&&function(e,t,n){ii(t[11],0,t,n,Gr(e,n,t),Zr(n.parent||t[6],n,t))}(i,r,a)}function go(e,t,n){return vo(e,"",t,"",n),go}function vo(e,t,n,r,i){var a=Lt(),o=Wa(a,t,n,r);return o!==_i&&Hi(It(),nn(),a,e,o,a[11],i,!1),vo}function yo(e,t,n,r,i){for(var a=e[n+1],o=null===t,s=r?ki(a):Si(a),u=!1;0!==s&&(!1===u||o);){var l=e[s+1];_o(e[s],t)&&(u=!0,e[s+1]=r?Ei(l):Ci(l)),s=r?ki(l):Si(l)}u&&(e[n+1]=r?Ci(a):Ei(a))}function _o(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&tr(e,t)>=0}function bo(e,t,n){return xo(e,t,n,!1),bo}function wo(e,t){return xo(e,t,null,!0),wo}function xo(e,t,n,r){var i=Lt(),a=It(),o=Ht(2);a.firstUpdatePass&&function(e,t,n,r){var i=e.data;if(null===i[n+1]){var a=i[en()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(a,r)&&null===t&&!o&&(t=!1),function(e,t,n,r,i,a){var o=a?t.classBindings:t.styleBindings,s=ki(o),u=Si(o);e[r]=n;var l,c=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||tr(h,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){var f=ki(e[s+1]);e[r+1]=xi(f,s),0!==f&&(e[f+1]=Mi(e[f+1],r)),e[s+1]=function(e,t){return 131071&e|t<<17}(e[s+1],r)}else e[r+1]=xi(s,0),0!==s&&(e[s+1]=Mi(e[s+1],r)),s=r;else e[r+1]=xi(u,0),0===s?s=r:e[u+1]=Mi(e[u+1],r),u=r;c&&(e[r+1]=Ci(e[r+1])),yo(e,l,r,!0),yo(e,l,r,!1),function(e,t,n,r,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&tr(a,t)>=0&&(n[r+1]=Ei(n[r+1]))}(t,l,e,r,a),o=xi(s,u),a?t.classBindings=o:t.styleBindings=o}(i,a,t=function(e,t,n,r){var i=function(e){var t=Et.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Co(n=ko(null,e,t,n,r),t.attrs,r),a=null);else{var o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=ko(i,e,t,n,r),null===a){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Si(r))return e[ki(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[ki(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Co(s=ko(null,e,t,s[1],r),t.attrs,r))}else a=function(e,t,n){for(var r,i=t.directiveEnd,a=1+t.directiveStylingLast;a<i;a++)r=Co(r,e[a].hostAttrs,n);return Co(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),n,o,r)}}(a,e,o,r),t!==_i&&Va(i,o,t)&&function(e,t,n,r,i,a,o,s){if(3&t.type){var u=e.data,l=u[s+1];Mo(function(e){return 1==(1&e)}(l)?So(u,t,n,i,Si(l),o):void 0)||(Mo(a)||function(e){return 2==(2&e)}(l)&&(a=So(u,null,n,i,s,o)),function(e,t,n,r,i){var a=mt(e);if(t)i?a?e.addClass(n,r):n.classList.add(r):a?e.removeClass(n,r):n.classList.remove(r);else{var o=-1===r.indexOf("-")?void 0:Pr.DashCase;if(null==i)a?e.removeStyle(n,r,o):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),o|=Pr.Important),a?e.setStyle(n,r,i,o):n.style.setProperty(r,i,s?"important":"")}}}(r,o,yt(en(),n),i,a))}}(a,a.data[en()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=re(br(e)))),e}(t,n),r,o)}function ko(e,t,n,r,i){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(r=Co(r,(a=t[s]).hostAttrs,i),a!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Co(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var a=0;a<t.length;a++){var o=t[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Qn(e,o,!!n||t[++a]))}return void 0===e?null:e}function So(e,t,n,r,i,a){for(var o,s=null===t;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,h=null===c,f=n[i+1];f===_i&&(f=h?Oe:void 0);var d=h?er(f,r):c===r?f:void 0;if(l&&!Mo(d)&&(d=er(u,r)),Mo(d)&&(o=d,s))return o;var p=e[i+1];i=s?ki(p):Si(p)}if(null!==t){var m=a?t.residualClasses:t.residualStyles;null!=m&&(o=er(m,r))}return o}function Mo(e){return void 0!==e}function Eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Lt(),r=It(),i=e+20,a=r.firstCreatePass?Ii(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return mt(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Kr(r,n,o,a),Ot(a,!1)}function To(e){return Lo("",e,""),To}function Lo(e,t,n){var r=Lt(),i=Wa(r,e,t,n);return i!==_i&&da(r,en(),i),Lo}function Io(e,t,n,r,i){var a=Lt(),o=function(e,t,n,r,i,a){var o=Ga(e,jt(),n,i);return Ht(2),o?t+ce(n)+r+ce(i)+a:_i}(a,e,t,n,r,i);return o!==_i&&da(a,en(),o),Io}function Do(e,t,n,r,i,a,o){var s=Lt(),u=function(e,t,n,r,i,a,o,s){var u=qa(e,jt(),n,i,o);return Ht(3),u?t+ce(n)+r+ce(i)+a+ce(o)+s:_i}(s,e,t,n,r,i,a,o);return u!==_i&&da(s,en(),u),Do}var Ao=void 0,Po=["en",[["a","p"],["AM","PM"],Ao],[["AM","PM"],Ao,Ao],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ao,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ao,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ao,"{1} 'at' {0}",Ao],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Oo={};function No(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Ro(t);if(n)return n;var r=t.split("-")[0];if(n=Ro(r))return n;if("en"===r)return Po;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Ro(e){return e in Oo||(Oo[e]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[e]),Oo[e]}var Fo=((Fo=Fo||{})[Fo.LocaleId=0]="LocaleId",Fo[Fo.DayPeriodsFormat=1]="DayPeriodsFormat",Fo[Fo.DayPeriodsStandalone=2]="DayPeriodsStandalone",Fo[Fo.DaysFormat=3]="DaysFormat",Fo[Fo.DaysStandalone=4]="DaysStandalone",Fo[Fo.MonthsFormat=5]="MonthsFormat",Fo[Fo.MonthsStandalone=6]="MonthsStandalone",Fo[Fo.Eras=7]="Eras",Fo[Fo.FirstDayOfWeek=8]="FirstDayOfWeek",Fo[Fo.WeekendRange=9]="WeekendRange",Fo[Fo.DateFormat=10]="DateFormat",Fo[Fo.TimeFormat=11]="TimeFormat",Fo[Fo.DateTimeFormat=12]="DateTimeFormat",Fo[Fo.NumberSymbols=13]="NumberSymbols",Fo[Fo.NumberFormats=14]="NumberFormats",Fo[Fo.CurrencyCode=15]="CurrencyCode",Fo[Fo.CurrencySymbol=16]="CurrencySymbol",Fo[Fo.CurrencyName=17]="CurrencyName",Fo[Fo.Currencies=18]="Currencies",Fo[Fo.Directionality=19]="Directionality",Fo[Fo.PluralCase=20]="PluralCase",Fo[Fo.ExtraData=21]="ExtraData",Fo),Yo="en-US";function zo(e){(function(e,t){null==e&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(t,e)})(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function jo(e,t,n,r,i){if(e=se(e),Array.isArray(e))for(var a=0;a<e.length;a++)jo(e[a],t,n,r,i);else{var o=It(),s=Lt(),u=Ta(e)?e:se(e.provide),l=Sa(e),c=At(),h=1048575&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>20;if(Ta(e)||!e.multi){var p=new cn(l,i,Za),m=Uo(u,t,i?h:h+d,f);-1===m?(Mn(xn(c,s),o,u),Bo(o,e,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{var g=Uo(u,t,h+d,f),v=Uo(u,t,h,h+d),y=g>=0&&n[g],_=v>=0&&n[v];if(i&&!_||!i&&!y){Mn(xn(c,s),o,u);var b=function(e,t,n,r,i){var a=new cn(e,n,Za);return a.multi=[],a.index=t,a.componentProviders=0,Ho(a,i,r&&!n),a}(i?Go:Vo,n.length,i,r,l);!i&&_&&(n[v].providerFactory=b),Bo(o,e,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(b),s.push(b)}else Bo(o,e,g>-1?g:v,Ho(n[i?v:g],l,!i&&r));!i&&r&&_&&n[v].componentProviders++}}}function Bo(e,t,n,r){var i=Ta(t);if(i||function(e){return!!e.useClass}(t)){var a=(t.useClass||t).prototype.ngOnDestroy;if(a){var o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=o.indexOf(n);-1===s?o.push(n,[r,a]):o[s+1].push(r,a)}else o.push(n,a)}}}function Ho(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Uo(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Vo(e,t,n,r){return qo(this.multi,[])}function Go(e,t,n,r){var i,a=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Pn(n,n[1],this.providerFactory.index,r);qo(a,i=s.slice(0,o));for(var u=o;u<s.length;u++)i.push(s[u])}else qo(a,i=[]);return i}function qo(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Wo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=It();if(r.firstCreatePass){var i=it(e);jo(n,r.data,r.blueprint,i,!0),jo(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}var $o=_createClass(function e(){_classCallCheck(this,e)}),Xo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(re(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Zo=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.NULL=new Xo,e}();function Jo(){}function Ko(e,t){return new es(_t(e,t))}var Qo=function(){return Ko(At(),Lt())},es=function(){var e=_createClass(function e(t){_classCallCheck(this,e),this.nativeElement=t});return e.__NG_ELEMENT_ID__=Qo,e}(),ts=_createClass(function e(){_classCallCheck(this,e)}),ns=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.__NG_ELEMENT_ID__=function(){return rs()},e}(),rs=function(){var e=Lt(),t=xt(At().index,e);return function(e){return e[11]}(Qe(t)?t:e)},is=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275prov=de({token:e,providedIn:"root",factory:function(){return null}}),e}(),as=new(_createClass(function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}))("12.2.16"),os=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return ja(e)}},{key:"create",value:function(e){return new us(e)}}]),e}(),ss=function(e,t){return t},us=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ss}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var a=!n||t&&t.currentIndex<fs(n,r,i)?t:n,o=fs(a,r,i),s=a.currentIndex;if(a===n)r--,n=n._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{i||(i=[]);var u=o-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[a.previousIndex]=l-u}}o!==s&&e(a,o,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!ja(e))throw new Error("Error trying to diff '".concat(re(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,a=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==a&&Object.is(a.trackById,i)?(o&&(a=this._verifyReinsertion(a,r,i,s)),Object.is(a.item,r)||this._addIdentityChange(a,r)):(a=this._mismatch(a,r,i,s),o=!0),a=a._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Ya()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==a&&Object.is(a.trackById,i)?(o&&(a=t._verifyReinsertion(a,e,i,n)),Object.is(a.item,e)||t._addIdentityChange(a,e)):(a=t._mismatch(a,e,i,n),o=!0),a=a._next,n++}),this.length=n;return this._truncate(a),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new ls(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new hs),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),ls=_createClass(function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),cs=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),hs=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new cs,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function fs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var ds=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Ba(e)}},{key:"create",value:function(){return new ps}}]),e}(),ps=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ba(e)))throw new Error("Error trying to diff '".concat(re(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var a=new ms(e);return this._records.set(e,a),a.currentValue=t,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),ms=_createClass(function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function gs(){return new vs([new os])}var vs=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(null!=t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||gs())},deps:[[e,new yr,new vr]]}}}]),e}();return e.\u0275prov=de({token:e,providedIn:"root",factory:gs}),e}();function ys(){return new _s([new ds])}var _s=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||ys())},deps:[[e,new yr,new vr]]}}}]),e}();return e.\u0275prov=de({token:e,providedIn:"root",factory:ys}),e}();function bs(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=t[n.index];if(null!==a&&r.push(vt(a)),et(a))for(var o=10;o<a.length;o++){var s=a[o],u=s[1].firstChild;null!==u&&bs(s[1],s,u,r)}var l=n.type;if(8&l)bs(e,t,n.child,r);else if(32&l)for(var c=Or(n,t),h=void 0;h=c();)r.push(h);else if(16&l){var f=ei(t,n);if(Array.isArray(f))r.push.apply(r,_toConsumableArray(f));else{var d=Nr(t[16]);bs(d[1],d,f,r,!0)}}n=i?n.projectionNext:n.next}return r}var ws=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return bs(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(et(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Hr(e,n),Jn(t,n))}this._attachedToViewContainer=!1}Ur(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){!function(e,t,n,r){var i=la(t);i.push(r)}(this._lView[1],this._lView,0,e)}},{key:"markForCheck",value:function(){ia(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){aa(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Yt(!0);try{aa(e,t,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){this._appRef=null,function(e,t){ri(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),xs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){oa(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Yt(!0);try{oa(e)}finally{Yt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ws),ks=function(e){return function(e,t,n){if(nt(e)&&!n){var r=xt(e.index,t);return new ws(r,r)}return 47&e.type?new ws(t[16],t):null}(At(),Lt(),16==(16&e))},Cs=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.__NG_ELEMENT_ID__=ks,e}(),Ss=[new ds],Ms=new vs([new os]),Es=new _s(Ss),Ts=function(){return Ds(At(),Lt())},Ls=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.__NG_ELEMENT_ID__=Ts,e}(),Is=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this))._declarationLView=e,a._declarationTContainer=r,a.elementRef=i,a}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Li(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ai(t,n,e),new ws(n)}}]),n}(Ls);function Ds(e,t){return 4&e.type?new Is(t,e,Ko(e,t)):null}var As=_createClass(function e(){_classCallCheck(this,e)}),Ps=_createClass(function e(){_classCallCheck(this,e)}),Os=function(){return function(e,t){var n,r=t[e.index];if(et(r))n=r;else{var i;if(8&e.type)i=vt(r);else{var a=t[11];i=a.createComment("");var o=_t(e,t);qr(a,Xr(a,o),i,function(e,t){return mt(e)?e.nextSibling(t):t.nextSibling}(a,o),!1)}t[e.index]=n=Qi(r,t,i,e),ra(t,n)}return new Rs(n,e,t)}(At(),Lt())},Ns=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.__NG_ELEMENT_ID__=Os,e}(),Rs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this))._lContainer=e,a._hostTNode=r,a._hostLView=i,a}return _createClass(n,[{key:"element",get:function(){return Ko(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Rn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Sn(this._hostTNode,this._hostLView);if(gn(e)){var t=yn(e,this._hostLView),n=vn(e);return new Rn(t[1].data[n+8],t)}return new Rn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=Fs(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var a=n||this.parentInjector;if(!i&&null==e.ngModule&&a){var o=a.get(As,null);o&&(i=o)}var s=e.create(a,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var r=e._lView,i=r[1];if(function(e){return et(e[3])}(r)){var a=this.indexOf(e);if(-1!==a)this.detach(a);else{var o=r[3],s=new n(o,o[6],o[3]);s.detach(s.indexOf(e))}}var u=this._adjustIndex(t),l=this._lContainer;!function(e,t,n,r){var i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],Zn(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var o=t[17];null!==o&&n!==o&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(i,r,l,u);var c=ti(u,l),h=r[11],f=Xr(h,l[7]);return null!==f&&function(e,t,n,r,i,a){r[0]=i,r[6]=t,ri(e,r,n,1,i,a)}(i,l[6],h,r,f,c),e.attachToViewContainerRef(),Zn(Ys(l),u,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=Fs(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=Hr(this._lContainer,t);n&&(Jn(Ys(this._lContainer),t),Ur(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=Hr(this._lContainer,t);return n&&null!=Jn(Ys(this._lContainer),t)?new ws(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(Ns);function Fs(e){return e[8]}function Ys(e){return e[8]||(e[8]=[])}var zs={},js=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=Je(e);return new Us(t,this.ngModule)}}]),n}(Zo);function Bs(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Hs=new qn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Dr}}),Us=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=function(e){return e.map(yi).join(",")}(e.selectors),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return Bs(this.componentDef.inputs)}},{key:"outputs",get:function(){return Bs(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,a,o=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var a=e.get(n,zs,i);return a!==zs||r===zs?a:t.get(n,r,i)}}}(e,r.injector):e,s=o.get(ts,gt),u=o.get(is,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(mt(e))return e.selectRootElement(t,n===Te.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(l,n,this.componentDef.encapsulation):jr(s.createRenderer(null,this.componentDef),c,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Dr,clean:ua,playerHandler:null,flags:0},p=ji(0,null,null,1,0,null,null,null,null,null),m=Li(null,p,d,f,null,null,s,l,u,o);$t(m);try{var g=function(e,t,n,r,i,a){var o=n[1];n[20]=e;var s=Ii(o,20,2,"#host",null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(pa(s,u,!0),null!==e&&(hn(i,e,u),null!==s.classes&&oi(i,e,s.classes),null!==s.styles&&ai(i,e,s.styles)));var l=r.createRenderer(e,t),c=Li(n,zi(t),null,t.onPush?64:16,n[20],s,r,l,null,null);return o.firstCreatePass&&(Mn(xn(s,n),o,t.type),qi(o,s),$i(s,n.length,1)),ra(n,c),n[20]=c}(h,this.componentDef,m,s,l);if(h)if(n)hn(l,h,["ng-version",as.full]);else{var v=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!di(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=v.attrs,_=v.classes;y&&hn(l,h,y),_&&_.length>0&&oi(l,h,_.join(" "))}if(a=bt(p,20),void 0!==t)for(var b=a.projection=[],w=0;w<this.ngContentSelectors.length;w++){var x=t[w];b.push(null!=x?Array.from(x):null)}i=function(e,t,n,r,i){var a=n[1],o=function(e,t,n){var r=At();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Xi(e,r,t,Di(e,t,1,null),n));var i=Pn(t,e,r.directiveStart,r);Mr(i,t);var a=_t(r,t);return a&&Mr(a,t),i}(a,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(function(e){return e(o,t)}),t.contentQueries){var s=At();t.contentQueries(1,o,s.directiveStart)}var u=At();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(tn(u.index),Vi(n[1],u,0,u.directiveStart,u.directiveEnd,t),Gi(t,o)),o}(g,this.componentDef,m,d,[Da]),Ai(p,m,null)}finally{Qt()}return new Vs(this.componentType,i,Ko(a,m),m,a)}}]),n}($o),Vs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=a,s._tNode=o,s.instance=r,s.hostView=s.changeDetectorRef=new xs(a),s.componentType=e,s}return _createClass(n,[{key:"injector",get:function(){return new Rn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return _createClass(function e(){_classCallCheck(this,e)})}()),Gs=new Map,qs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new js(_assertThisInitialized(i));var a=Ke(e),o=function(e){return e[ze]||null}(e);return o&&zo(o),i._bootstrapComponents=Ar(a.bootstrap),i._r3Injector=xa(e,r,[{provide:As,useValue:_assertThisInitialized(i)},{provide:Zo,useValue:i.componentFactoryResolver}],re(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ia.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ke.Default;return e===Ia||e===As||e===ga?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(As),Ws=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Ke(e)&&function(e){var t=new Set;!function e(n){var r=Ke(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(re(t)," vs ").concat(re(t.name)))}(i,Gs.get(i),n),Gs.set(i,n));var a,o=_createForOfIteratorHelper(Ar(r.imports));try{for(o.s();!(a=o.n()).done;){var s=a.value;t.has(s)||(t.add(s),e(s))}}catch(u){o.e(u)}finally{o.f()}}(e)}(e),r}return _createClass(n,[{key:"create",value:function(e){return new qs(this.moduleType,e)}}]),n}(Ps);function $s(e,t,n){var r=zt()+e,i=Lt();return i[r]===_i?Ha(i,r,n?t.call(n):t()):Ua(i,r)}function Xs(e,t,n,r){return Qs(Lt(),zt(),e,t,n,r)}function Zs(e,t,n,r,i){return eu(Lt(),zt(),e,t,n,r,i)}function Js(e,t,n,r,i,a,o,s){var u=zt()+e,l=Lt(),c=function(e,t,n,r,i,a){var o=Ga(e,t,n,r);return Ga(e,t+2,i,a)||o}(l,u,n,r,i,a);return Va(l,u+4,o)||c?Ha(l,u+5,s?t.call(s,n,r,i,a,o):t(n,r,i,a,o)):Ua(l,u+5)}function Ks(e,t){var n=e[t];return n===_i?void 0:n}function Qs(e,t,n,r,i,a){var o=t+n;return Va(e,o,i)?Ha(e,o+1,a?r.call(a,i):r(i)):Ks(e,o+1)}function eu(e,t,n,r,i,a,o){var s=t+n;return Ga(e,s,i,a)?Ha(e,s+2,o?r.call(o,i,a):r(i,a)):Ks(e,s+2)}function tu(e,t){var n,r=It(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new le("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var a=n.factory||(n.factory=ot(n.type)),o=Ce(Za);try{var s=bn(!1),u=a();return bn(s),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,Lt(),i,u),u}finally{Ce(o)}}function nu(e,t,n){var r=e+20,i=Lt(),a=wt(i,r);return su(i,ou(i,r)?Qs(i,zt(),t,a.transform,n,a):a.transform(n))}function ru(e,t,n,r){var i=e+20,a=Lt(),o=wt(a,i);return su(a,ou(a,i)?eu(a,zt(),t,o.transform,n,r,o):o.transform(n,r))}function iu(e,t,n,r,i){var a=e+20,o=Lt(),s=wt(o,a);return su(o,ou(o,a)?function(e,t,n,r,i,a,o,s){var u=t+n;return qa(e,u,i,a,o)?Ha(e,u+3,s?r.call(s,i,a,o):r(i,a,o)):Ks(e,u+3)}(o,zt(),t,s.transform,n,r,i,s):s.transform(n,r,i))}function au(e,t,n){var r=e+20,i=Lt(),a=wt(i,r);return su(i,ou(i,r)?function(e,t,n,r,i,a){for(var o=t+n,s=!1,u=0;u<i.length;u++)Va(e,o++,i[u])&&(s=!0);return s?Ha(e,o,r.apply(a,i)):Ks(e,o)}(i,zt(),t,a.transform,n,a):a.transform.apply(a,n))}function ou(e,t){return e[1].data[t].pure}function su(e,t){return za.isWrapped(t)&&(t=za.unwrap(t),e[jt()]=_i),t}function uu(e){return function(t){setTimeout(e,void 0,t)}}var lu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,a,o,s=e,u=t||function(){return null},l=r;if(e&&"object"==typeof e){var c=e;s=null===(i=c.next)||void 0===i?void 0:i.bind(c),u=null===(a=c.error)||void 0===a?void 0:a.bind(c),l=null===(o=c.complete)||void 0===o?void 0:o.bind(c)}this.__isAsync&&(u=uu(u),s&&(s=uu(s)),l&&(l=uu(l)));var h=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,{next:s,error:u,complete:l});return e instanceof f&&e.add(h),h}}]),n}(C);function cu(e,t){return Ds(e,t)}Symbol;var hu=Vn("Output",function(e){return{bindingPropertyName:e}}),fu=Vn("HostListener",function(e,t){return{eventName:e,args:t}}),du=new qn("Application Initializer"),pu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.resolve=Jo,this.reject=Jo,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=function(n){var r=e.appInits[n]();if(ao(r))t.push(r);else if(so(r)){var i=new Promise(function(e,t){r.subscribe({complete:e,error:t})});t.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(du,8))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),mu=new qn("AppId"),gu={provide:mu,useFactory:function(){return"".concat(vu()).concat(vu()).concat(vu())},deps:[]};function vu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var yu=new qn("Platform Initializer"),_u=new qn("Platform ID"),bu=new qn("appBootstrapListener"),wu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),xu=new qn("LocaleId"),ku=new qn("DefaultCurrencyCode"),Cu=_createClass(function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n}),Su=function(e){return new Ws(e)},Mu=Su,Eu=function(e){return Promise.resolve(Su(e))},Tu=function(e){var t=Su(e),n=Ar(Ke(e).declarations).reduce(function(e,t){var n=Je(t);return n&&e.push(new Us(n)),e},[]);return new Cu(t,n)},Lu=Tu,Iu=function(e){return Promise.resolve(Tu(e))},Du=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Mu,this.compileModuleAsync=Eu,this.compileModuleAndAllComponentsSync=Lu,this.compileModuleAndAllComponentsAsync=Iu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Au=Promise.resolve(0);function Pu(e){"undefined"==typeof Zone?Au.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Ou=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=t.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lu(!1),this.onMicrotaskEmpty=new lu(!1),this.onStable=new lu(!1),this.onError=new lu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){var e=Ae.requestAnimationFrame,t=Ae.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){var t=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ae,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Fu(e),e.isCheckStableRunning=!0,Ru(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Fu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,r,i,a,o,s){try{return Yu(e),n.invokeTask(i,a,o,s)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),zu(e)}},onInvoke:function(n,r,i,a,o,s,u){try{return Yu(e),n.invoke(i,a,o,s,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),zu(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Fu(e),Ru(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}(u)}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+r,e,Nu,Jo,Jo);try{return i.runTask(a,t,n)}finally{i.cancelTask(a)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),Nu={};function Ru(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Fu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Yu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zu(e){e._nesting--,Ru(e)}var ju,Bu=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lu,this.onMicrotaskEmpty=new lu,this.onStable=new lu,this.onError=new lu}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Hu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Ou.assertNotInAngularZone(),Pu(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Pu(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Ou))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Uu=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Vu.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Vu.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Vu=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Gu=!0,qu=!1,Wu=new qn("AllowMultipleToken"),$u=_createClass(function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n});function Xu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new qn(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=Zu();if(!a||a.injector.get(Wu,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var o=n.concat(t).concat({provide:i,useValue:!0},{provide:ya,useValue:"platform"});!function(e){if(ju&&!ju.destroyed&&!ju.injector.get(Wu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ju=e.get(Ju);var t=e.get(yu,null);t&&t.forEach(function(e){return e()})}(Ia.create({providers:o,name:r}))}return function(e){var t=Zu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Zu(){return ju&&!ju.destroyed?ju:null}var Ju=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n=this,r=function(e,t){return"noop"===e?new Bu:("zone.js"===e?void 0:e)||new Ou({enableLongStackTrace:(qu=!0,Gu),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)})}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),i=[{provide:Ou,useValue:r}];return r.run(function(){var a=Ia.create({providers:i,parent:n.injector,name:e.moduleType.name}),o=e.create(a),s=o.injector.get(Ir,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular(function(){var e=r.onError.subscribe({next:function(e){s.handleError(e)}});o.onDestroy(function(){el(n._modules,o),e.unsubscribe()})}),function(e,r,i){try{var a=((s=o.injector.get(pu)).runInitializers(),s.donePromise.then(function(){return zo(o.injector.get(xu,Yo)||Yo),n._moduleDoBootstrap(o),o}));return ao(a)?a.catch(function(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}):a}catch(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}var s}(s,r)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Ku({},n);return function(e,t,n){var r=new Ws(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Qu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(re(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Ia))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function Ku(e,t){return Array.isArray(t)?t.reduce(Ku,e):Object.assign(Object.assign({},e),t)}var Qu=function(){var e=function(){function e(t,n,r,i,a){var o=this;_classCallCheck(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run(function(){o.tick()})}});var s=new _(function(e){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular(function(){e.next(o._stable),e.complete()})}),u=new _(function(e){var t;o._zone.runOutsideAngular(function(){t=o._zone.onStable.subscribe(function(){Ou.assertNotInAngularZone(),Pu(function(){!o._stable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks&&(o._stable=!0,e.next(!0))})})});var n=o._zone.onUnstable.subscribe(function(){Ou.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=G(s,u.pipe(function(e){return q()(K(ee)(e))}))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof $o?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(As),a=n.create(Ia.NULL,[],t||n.selector,i),o=a.location.nativeElement,s=a.injector.get(Hu,null),u=s&&a.injector.get(Uu);return s&&u&&u.registerApplication(o,s),a.onDestroy(function(){r.detachView(a.hostView),el(r.components,a),u&&u.unregisterApplication(o)}),this._loadComponent(a),a}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){var r;t.value.detectChanges()}}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;el(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(bu,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Ou),hr(Ia),hr(Ir),hr(Zo),hr(pu))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function el(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var tl=_createClass(function e(){_classCallCheck(this,e)}),nl=_createClass(function e(){_classCallCheck(this,e)}),rl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},il=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||rl}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],a=r[1];return void 0===a&&(a="default"),n(98255)(i).then(function(e){return e[a]}).then(function(e){return al(e,i,a)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],a="NgFactory";return void 0===i&&(i="default",a=""),n(98255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[i+a]}).then(function(e){return al(e,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Du),hr(nl,8))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function al(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var ol=Xu(null,"core",[{provide:_u,useValue:"unknown"},{provide:Ju,deps:[Ia]},{provide:Uu,deps:[]},{provide:wu,deps:[]}]),sl=[{provide:Qu,useClass:Qu,deps:[Ou,Ia,Ir,Zo,pu]},{provide:Hs,deps:[Ou],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:pu,useClass:pu,deps:[[new vr,du]]},{provide:Du,useClass:Du,deps:[]},gu,{provide:vs,useFactory:function(){return Ms},deps:[]},{provide:_s,useFactory:function(){return Es},deps:[]},{provide:xu,useFactory:function(e){return zo(e=e||"undefined"!=typeof $localize&&$localize.locale||Yo),e},deps:[[new gr(xu),new vr,new yr]]},{provide:ku,useValue:"USD"}],ul=function(){var e=_createClass(function e(t){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)(hr(Qu))},e.\u0275mod=We({type:e}),e.\u0275inj=pe({providers:sl}),e}(),ll=null;function cl(){return ll}var hl=new qn("DocumentToken"),fl=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({factory:dl,token:e,providedIn:"platform"}),e}();function dl(){return hr(ml)}var pl=new qn("Location Initialized"),ml=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return cl().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=cl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=cl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){gl()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){gl()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(fl);return e.\u0275fac=function(t){return new(t||e)(hr(hl))},e.\u0275prov=de({factory:vl,token:e,providedIn:"platform"}),e}();function gl(){return!!window.history.pushState}function vl(){return new ml(hr(hl))}function yl(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function _l(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function bl(e){return e&&"?"!==e[0]?"?"+e:e}var wl=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({factory:xl,token:e,providedIn:"root"}),e}();function xl(e){var t=hr(hl).location;return new Cl(hr(fl),t&&t.origin||"")}var kl=new qn("appBaseHref"),Cl=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return yl(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+bl(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+bl(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+bl(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(wl);return e.\u0275fac=function(t){return new(t||e)(hr(fl),hr(kl,8))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Sl=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=yl(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+bl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+bl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(wl);return e.\u0275fac=function(t){return new(t||e)(hr(fl),hr(kl,8))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Ml=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new lu,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=_l(Tl(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+bl(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Tl(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bl(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bl(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(wl),hr(fl))},e.normalizeQueryParams=bl,e.joinWithSlash=yl,e.stripTrailingSlash=_l,e.\u0275prov=de({factory:El,token:e,providedIn:"root"}),e}();function El(){return new Ml(hr(wl),hr(fl))}function Tl(e){return e.replace(/\/index.html$/,"")}var Ll=((Ll=Ll||{})[Ll.Zero=0]="Zero",Ll[Ll.One=1]="One",Ll[Ll.Two=2]="Two",Ll[Ll.Few=3]="Few",Ll[Ll.Many=4]="Many",Ll[Ll.Other=5]="Other",Ll),Il=((Il=Il||{})[Il.Format=0]="Format",Il[Il.Standalone=1]="Standalone",Il),Dl=((Dl=Dl||{})[Dl.Narrow=0]="Narrow",Dl[Dl.Abbreviated=1]="Abbreviated",Dl[Dl.Wide=2]="Wide",Dl[Dl.Short=3]="Short",Dl),Al=((Al=Al||{})[Al.Short=0]="Short",Al[Al.Medium=1]="Medium",Al[Al.Long=2]="Long",Al[Al.Full=3]="Full",Al),Pl=((Pl=Pl||{})[Pl.Decimal=0]="Decimal",Pl[Pl.Group=1]="Group",Pl[Pl.List=2]="List",Pl[Pl.PercentSign=3]="PercentSign",Pl[Pl.PlusSign=4]="PlusSign",Pl[Pl.MinusSign=5]="MinusSign",Pl[Pl.Exponential=6]="Exponential",Pl[Pl.SuperscriptingExponent=7]="SuperscriptingExponent",Pl[Pl.PerMille=8]="PerMille",Pl[Pl.Infinity=9]="Infinity",Pl[Pl.NaN=10]="NaN",Pl[Pl.TimeSeparator=11]="TimeSeparator",Pl[Pl.CurrencyDecimal=12]="CurrencyDecimal",Pl[Pl.CurrencyGroup=13]="CurrencyGroup",Pl);function Ol(e,t){return zl(No(e)[Fo.DateFormat],t)}function Nl(e,t){return zl(No(e)[Fo.TimeFormat],t)}function Rl(e,t){return zl(No(e)[Fo.DateTimeFormat],t)}function Fl(e,t){var n=No(e),r=n[Fo.NumberSymbols][t];if(void 0===r){if(t===Pl.CurrencyDecimal)return n[Fo.NumberSymbols][Pl.Decimal];if(t===Pl.CurrencyGroup)return n[Fo.NumberSymbols][Pl.Group]}return r}function Yl(e){if(!e[Fo.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[Fo.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function zl(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function jl(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var Bl=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hl={},Ul=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Vl=((Vl=Vl||{})[Vl.Short=0]="Short",Vl[Vl.ShortGMT=1]="ShortGMT",Vl[Vl.Long=2]="Long",Vl[Vl.Extended=3]="Extended",Vl),Gl=((Gl=Gl||{})[Gl.FullYear=0]="FullYear",Gl[Gl.Month=1]="Month",Gl[Gl.Date=2]="Date",Gl[Gl.Hours=3]="Hours",Gl[Gl.Minutes=4]="Minutes",Gl[Gl.Seconds=5]="Seconds",Gl[Gl.FractionalSeconds=6]="FractionalSeconds",Gl[Gl.Day=7]="Day",Gl),ql=((ql=ql||{})[ql.DayPeriods=0]="DayPeriods",ql[ql.Days=1]="Days",ql[ql.Months=2]="Months",ql[ql.Eras=3]="Eras",ql);function Wl(e,t,n,r){var i=function(e){if(oc(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){var t=_slicedToArray(e.split("-").map(function(e){return+e}),3),n=t[0],r=t[1],i=void 0===r?1:r,a=t[2];return $l(n,i-1,void 0===a?1:a)}var o,s=parseFloat(e);if(!isNaN(e-s))return new Date(s);if(o=e.match(Bl))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,a=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var o=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return a.call(t,o,s,u,l),t}(o)}var u=new Date(e);if(!oc(u))throw new Error('Unable to convert "'.concat(e,'" into a date'));return u}(e);t=Xl(n,t)||t;for(var a,o=[];t;){if(!(a=Ul.exec(t))){o.push(t);break}var s=(o=o.concat(a.slice(1))).pop();if(!s)break;t=s}var u=i.getTimezoneOffset();r&&(u=ac(r,u),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ac(t,r)-r))}(i,r));var l="";return o.forEach(function(e){var t=function(e){if(ic[e])return ic[e];var t;switch(e){case"G":case"GG":case"GGG":t=Ql(ql.Eras,Dl.Abbreviated);break;case"GGGG":t=Ql(ql.Eras,Dl.Wide);break;case"GGGGG":t=Ql(ql.Eras,Dl.Narrow);break;case"y":t=Kl(Gl.FullYear,1,0,!1,!0);break;case"yy":t=Kl(Gl.FullYear,2,0,!0,!0);break;case"yyy":t=Kl(Gl.FullYear,3,0,!1,!0);break;case"yyyy":t=Kl(Gl.FullYear,4,0,!1,!0);break;case"Y":t=rc(1);break;case"YY":t=rc(2,!0);break;case"YYY":t=rc(3);break;case"YYYY":t=rc(4);break;case"M":case"L":t=Kl(Gl.Month,1,1);break;case"MM":case"LL":t=Kl(Gl.Month,2,1);break;case"MMM":t=Ql(ql.Months,Dl.Abbreviated);break;case"MMMM":t=Ql(ql.Months,Dl.Wide);break;case"MMMMM":t=Ql(ql.Months,Dl.Narrow);break;case"LLL":t=Ql(ql.Months,Dl.Abbreviated,Il.Standalone);break;case"LLLL":t=Ql(ql.Months,Dl.Wide,Il.Standalone);break;case"LLLLL":t=Ql(ql.Months,Dl.Narrow,Il.Standalone);break;case"w":t=nc(1);break;case"ww":t=nc(2);break;case"W":t=nc(1,!0);break;case"d":t=Kl(Gl.Date,1);break;case"dd":t=Kl(Gl.Date,2);break;case"c":case"cc":t=Kl(Gl.Day,1);break;case"ccc":t=Ql(ql.Days,Dl.Abbreviated,Il.Standalone);break;case"cccc":t=Ql(ql.Days,Dl.Wide,Il.Standalone);break;case"ccccc":t=Ql(ql.Days,Dl.Narrow,Il.Standalone);break;case"cccccc":t=Ql(ql.Days,Dl.Short,Il.Standalone);break;case"E":case"EE":case"EEE":t=Ql(ql.Days,Dl.Abbreviated);break;case"EEEE":t=Ql(ql.Days,Dl.Wide);break;case"EEEEE":t=Ql(ql.Days,Dl.Narrow);break;case"EEEEEE":t=Ql(ql.Days,Dl.Short);break;case"a":case"aa":case"aaa":t=Ql(ql.DayPeriods,Dl.Abbreviated);break;case"aaaa":t=Ql(ql.DayPeriods,Dl.Wide);break;case"aaaaa":t=Ql(ql.DayPeriods,Dl.Narrow);break;case"b":case"bb":case"bbb":t=Ql(ql.DayPeriods,Dl.Abbreviated,Il.Standalone,!0);break;case"bbbb":t=Ql(ql.DayPeriods,Dl.Wide,Il.Standalone,!0);break;case"bbbbb":t=Ql(ql.DayPeriods,Dl.Narrow,Il.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ql(ql.DayPeriods,Dl.Abbreviated,Il.Format,!0);break;case"BBBB":t=Ql(ql.DayPeriods,Dl.Wide,Il.Format,!0);break;case"BBBBB":t=Ql(ql.DayPeriods,Dl.Narrow,Il.Format,!0);break;case"h":t=Kl(Gl.Hours,1,-12);break;case"hh":t=Kl(Gl.Hours,2,-12);break;case"H":t=Kl(Gl.Hours,1);break;case"HH":t=Kl(Gl.Hours,2);break;case"m":t=Kl(Gl.Minutes,1);break;case"mm":t=Kl(Gl.Minutes,2);break;case"s":t=Kl(Gl.Seconds,1);break;case"ss":t=Kl(Gl.Seconds,2);break;case"S":t=Kl(Gl.FractionalSeconds,1);break;case"SS":t=Kl(Gl.FractionalSeconds,2);break;case"SSS":t=Kl(Gl.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ec(Vl.Short);break;case"ZZZZZ":t=ec(Vl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ec(Vl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ec(Vl.Long);break;default:return null}return ic[e]=t,t}(e);l+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function $l(e,t,n){var r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Xl(e,t){var n=function(e){return No(e)[Fo.LocaleId]}(e);if(Hl[n]=Hl[n]||{},Hl[n][t])return Hl[n][t];var r="";switch(t){case"shortDate":r=Ol(e,Al.Short);break;case"mediumDate":r=Ol(e,Al.Medium);break;case"longDate":r=Ol(e,Al.Long);break;case"fullDate":r=Ol(e,Al.Full);break;case"shortTime":r=Nl(e,Al.Short);break;case"mediumTime":r=Nl(e,Al.Medium);break;case"longTime":r=Nl(e,Al.Long);break;case"fullTime":r=Nl(e,Al.Full);break;case"short":var i=Xl(e,"shortTime"),a=Xl(e,"shortDate");r=Zl(Rl(e,Al.Short),[i,a]);break;case"medium":var o=Xl(e,"mediumTime"),s=Xl(e,"mediumDate");r=Zl(Rl(e,Al.Medium),[o,s]);break;case"long":var u=Xl(e,"longTime"),l=Xl(e,"longDate");r=Zl(Rl(e,Al.Long),[u,l]);break;case"full":var c=Xl(e,"fullTime"),h=Xl(e,"fullDate");r=Zl(Rl(e,Al.Full),[c,h])}return r&&(Hl[n][t]=r),r}function Zl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Jl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,a=n));for(var o=String(e);o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),a+o}function Kl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a,o){var s=function(e,t){switch(e){case Gl.FullYear:return t.getFullYear();case Gl.Month:return t.getMonth();case Gl.Date:return t.getDate();case Gl.Hours:return t.getHours();case Gl.Minutes:return t.getMinutes();case Gl.Seconds:return t.getSeconds();case Gl.FractionalSeconds:return t.getMilliseconds();case Gl.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,a);if((n>0||s>-n)&&(s+=n),e===Gl.Hours)0===s&&-12===n&&(s=12);else if(e===Gl.FractionalSeconds)return function(e,t){return Jl(e,3).substr(0,t)}(s,t);var u=Fl(o,Pl.MinusSign);return Jl(s,t,u,r,i)}}function Ql(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Il.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,a){return function(e,t,n,r,i,a){switch(n){case ql.Months:return function(e,t,n){var r=No(e),i=zl([r[Fo.MonthsFormat],r[Fo.MonthsStandalone]],t);return zl(i,n)}(t,i,r)[e.getMonth()];case ql.Days:return function(e,t,n){var r=No(e),i=zl([r[Fo.DaysFormat],r[Fo.DaysStandalone]],t);return zl(i,n)}(t,i,r)[e.getDay()];case ql.DayPeriods:var o=e.getHours(),s=e.getMinutes();if(a){var u=function(e){var t=No(e);return Yl(t),(t[Fo.ExtraData][2]||[]).map(function(e){return"string"==typeof e?jl(e):[jl(e[0]),jl(e[1])]})}(t),l=function(e,t,n){var r=No(e);Yl(r);var i=zl([r[Fo.ExtraData][0],r[Fo.ExtraData][1]],t)||[];return zl(i,n)||[]}(t,i,r),c=u.findIndex(function(e){if(Array.isArray(e)){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=o>=n.hours&&s>=n.minutes,a=o<r.hours||o===r.hours&&s<r.minutes;if(n.hours<r.hours){if(i&&a)return!0}else if(i||a)return!0}else if(e.hours===o&&e.minutes===s)return!0;return!1});if(-1!==c)return l[c]}return function(e,t,n){var r=No(e),i=zl([r[Fo.DayPeriodsFormat],r[Fo.DayPeriodsStandalone]],t);return zl(i,n)}(t,i,r)[o<12?0:1];case ql.Eras:return function(e,t){return zl(No(e)[Fo.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(i,a,e,t,n,r)}}function ec(e){return function(t,n,r){var i=-1*r,a=Fl(n,Pl.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Vl.Short:return(i>=0?"+":"")+Jl(o,2,a)+Jl(Math.abs(i%60),2,a);case Vl.ShortGMT:return"GMT"+(i>=0?"+":"")+Jl(o,1,a);case Vl.Long:return"GMT"+(i>=0?"+":"")+Jl(o,2,a)+":"+Jl(Math.abs(i%60),2,a);case Vl.Extended:return 0===r?"Z":(i>=0?"+":"")+Jl(o,2,a)+":"+Jl(Math.abs(i%60),2,a);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function tc(e){return $l(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function nc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i;if(t){var a=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+a)/7)}else{var s=tc(n),u=function(e){var t=$l(e,0,1).getDay();return $l(e,0,1+(t<=4?4:11)-t)}(s.getFullYear()),l=s.getTime()-u.getTime();i=1+Math.round(l/6048e5)}return Jl(i,e,Fl(r,Pl.MinusSign))}}function rc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return Jl(tc(n).getFullYear(),e,Fl(r,Pl.MinusSign),t)}}var ic={};function ac(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function oc(e){return e instanceof Date&&!isNaN(e.valueOf())}var sc=_createClass(function e(){_classCallCheck(this,e)}),uc=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return No(e)[Fo.PluralCase]}(t||this.locale)(e)){case Ll.Zero:return"zero";case Ll.One:return"one";case Ll.Two:return"two";case Ll.Few:return"few";case Ll.Many:return"many";default:return"other"}}}]),n}(sc);return e.\u0275fac=function(t){return new(t||e)(hr(xu))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function lc(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.indexOf("="),o=_slicedToArray(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),s=o[0],u=o[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(l){r.e(l)}finally{r.f()}return null}var cc=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ja(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(re(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(vs),Za(_s),Za(es),Za(ns))},e.\u0275dir=Xe({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),hc=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),fc=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var a=t._viewContainer.createEmbeddedView(t._template,new hc(null,t._ngForOf,-1,-1),null===i?void 0:i),o=new dc(e,a);n.push(o)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new dc(e,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,a=this._viewContainer.length;i<a;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=a,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Ns),Za(Ls),Za(vs))},e.\u0275dir=Xe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),dc=_createClass(function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n}),pc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new mc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){gc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){gc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Ns),Za(Ls))},e.\u0275dir=Xe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),mc=_createClass(function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null});function gc(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(re(t),"'."))}var vc=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),yc=function(){var e=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Xe({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),_c=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.ngSwitch=r,r._addCase(),this._view=new vc(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Ns),Za(Ls),Za(yc,9))},e.\u0275dir=Xe({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}();function bc(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(re(e),"'"))}var wc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),xc=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),kc=new wc,Cc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if(ao(t))return xc;if(oo(t))return kc;throw bc(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Cs,16))},e.\u0275pipe=Ze({name:"async",type:e,pure:!1}),e}(),Sc=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(null==t)return null;if("string"!=typeof t)throw bc(e,t);return t.toLowerCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"lowercase",type:e,pure:!0}),e}(),Mc=function(){var e=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return Wl(t,n,i||this.locale,r)}catch(a){throw bc(e,a.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(xu,16))},e.\u0275pipe=Ze({name:"date",type:e,pure:!0}),e}(),Ec=function(){var e=function(){function e(t){_classCallCheck(this,e),this.differs=t,this.keyValues=[],this.compareFn=Tc}return _createClass(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tc;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var r=this.differ.diff(e),i=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(function(e){t.keyValues.push(function(e,t){return{key:e,value:t}}(e.key,e.currentValue))})),(r||i)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(_s,16))},e.\u0275pipe=Ze({name:"keyvalue",type:e,pure:!1}),e}();function Tc(e,t){var n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),a=String(r);return i==a?0:i<a?-1:1}var Lc=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({providers:[{provide:sc,useClass:uc}]}),e}(),Ic="browser";function Dc(e){return e===Ic}var Ac=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275prov=de({token:e,providedIn:"root",factory:function(){return new Pc(hr(hl),window)}}),e}(),Pc=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var a=i.shadowRoot;if(a){var o=a.getElementById(t)||a.querySelector('[name="'.concat(t,'"]'));if(o)return o}i=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=Oc(this.window.history)||Oc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(XM){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(XM){return!1}}}]),e}();function Oc(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var Nc,Rc=_createClass(function e(){_classCallCheck(this,e)}),Fc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(Yc=Yc||document.querySelector("base"))?Yc.getAttribute("href"):null;return null==t?null:function(e){(Nc=Nc||document.createElement("a")).setAttribute("href",e);var t=Nc.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){Yc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return lc(document.cookie,e)}}],[{key:"makeCurrent",value:function(){!function(e){ll||(ll=e)}(new n)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return _createClass(n)}(function(){return _createClass(function e(){_classCallCheck(this,e)})}())),Yc=null,zc=new qn("TRANSITION_ID"),jc=[{provide:du,useFactory:function(e,t,n){return function(){n.get(pu).donePromise.then(function(){for(var n=cl(),r=t.querySelectorAll('style[ng-transition="'.concat(e,'"]')),i=0;i<r.length;i++)n.remove(r[i])})}},deps:[zc,hl,Ia],multi:!0}],Bc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){Ae.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ae.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ae.getAllAngularRootElements=function(){return e.getAllRootElements()},Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(function(e){var t=Ae.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?cl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){!function(e){Vu=e}(new e)}}]),e}(),Hc=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Uc=new qn("EventManagerPlugins"),Vc=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Uc),hr(Ou))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Gc=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=cl().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),qc=function(){var e=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Wc=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach($c),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach($c)})}}]),n}(qc);return e.\u0275fac=function(t){return new(t||e)(hr(hl))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function $c(e){cl().remove(e)}var Xc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zc=/%COMP%/g;function Jc(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Jc(e,i,n):(i=i.replace(Zc,e),n.push(i))}return n}function Kc(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Qc=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new eh(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Te.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new th(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case Te.ShadowDom:return new nh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Jc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Vc),hr(Wc),hr(mu))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),eh=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Xc[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Xc[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Xc[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(Pr.DashCase|Pr.Important)?e.style.setProperty(t,n,r&Pr.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Pr.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Kc(n)):this.eventManager.addEventListener(e,t,Kc(n))}}]),e}(),th=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;_classCallCheck(this,n),(o=t.call(this,e)).component=i;var s=Jc(a+"-"+i.id,i.styles,[]);return r.addStyles(s),o.contentAttr=function(e){return"_ngcontent-%COMP%".replace(Zc,e)}(a+"-"+i.id),o.hostAttr=function(e){return"_nghost-%COMP%".replace(Zc,e)}(a+"-"+i.id),o}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(eh),nh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;_classCallCheck(this,n),(o=t.call(this,e)).sharedStylesHost=r,o.hostEl=i,o.shadowRoot=i.attachShadow({mode:"open"}),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Jc(a.id,a.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],o.shadowRoot.appendChild(l)}return o}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(eh),rh=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Gc);return e.\u0275fac=function(t){return new(t||e)(hr(hl))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),ih={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},ah=new qn("HammerGestureConfig"),oh=new qn("HammerLoader"),sh=function(){var e=function(){function e(){_classCallCheck(this,e),this.events=[],this.overrides={}}return _createClass(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),uh=[{provide:Uc,useClass:function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e))._config=r,o.console=i,o.loader=a,o._loaderPromise=null,o}return _createClass(n,[{key:"supports",value:function(e){return!(!ih.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}},{key:"addEventListener",value:function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||this.loader();var a=!1,o=function(){a=!0};return this._loaderPromise.then(function(){window.Hammer?a||(o=r.addEventListener(e,t,n)):o=function(){}}).catch(function(){o=function(){}}),function(){o()}}return i.runOutsideAngular(function(){var a=r._config.buildHammer(e),o=function(e){i.runGuarded(function(){n(e)})};return a.on(t,o),function(){a.off(t,o),"function"==typeof a.destroy&&a.destroy()}})}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),n}(Gc);return e.\u0275fac=function(t){return new(t||e)(hr(hl),hr(ah),hr(wu),hr(oh,8))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),multi:!0,deps:[hl,ah,wu,[new vr,oh]]},{provide:ah,useClass:sh,deps:[]}],lh=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({providers:uh}),e}(),ch=["alt","control","meta","shift"],hh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dh={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},ph=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),a=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return cl().onAndCancel(e,i.domEventName,a)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),a="";if(ch.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),a+=e+".")}),a+=i,0!=t.length||0===i.length)return null;var o={};return o.domEventName=r,o.fullKey=a,o}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&fh.hasOwnProperty(t)&&(t=fh[t]))}return hh[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ch.forEach(function(r){r!=n&&dh[r](e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Gc);return e.\u0275fac=function(t){return new(t||e)(hr(hl))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),mh=Xu(ol,"browser",[{provide:_u,useValue:Ic},{provide:yu,useValue:function(){Fc.makeCurrent(),Bc.init()},multi:!0},{provide:hl,useFactory:function(){return function(e){ft=e}(document),document},deps:[]}]),gh=[[],{provide:ya,useValue:"root"},{provide:Ir,useFactory:function(){return new Ir},deps:[]},{provide:Uc,useClass:rh,multi:!0,deps:[hl,Ou,_u]},{provide:Uc,useClass:ph,multi:!0,deps:[hl]},[],{provide:Qc,useClass:Qc,deps:[Vc,Wc,mu]},{provide:ts,useExisting:Qc},{provide:qc,useExisting:Wc},{provide:Wc,useClass:Wc,deps:[hl]},{provide:Hu,useClass:Hu,deps:[Ou]},{provide:Vc,useClass:Vc,deps:[Uc,Ou]},{provide:Rc,useClass:Hc,deps:[]},[]],vh=function(){var e=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:mu,useValue:t.appId},{provide:zc,useExisting:mu},jc]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(e,12))},e.\u0275mod=We({type:e}),e.\u0275inj=pe({providers:gh,imports:[Lc,ul]}),e}();"undefined"!=typeof window&&window;var yh=_createClass(function e(){_classCallCheck(this,e)}),_h="*";function bh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function wh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function xh(e){return{type:6,styles:e,offset:null}}function kh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function Ch(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:e,animation:t,options:n}}function Sh(e){Promise.resolve(null).then(e)}var Mh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Sh(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Eh=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,a=0,o=this.players.length;0==o?Sh(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++r==o&&n._onFinish()}),e.onDestroy(function(){++i==o&&n._onDestroy()}),e.onStart(function(){++a==o&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}();function Th(){return"undefined"!=typeof window&&void 0!==window.document}function Lh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ih(e){switch(e.length){case 0:return new Mh;case 1:return e[0];default:return new Eh(e)}}function Dh(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],u=-1,l=null;if(r.forEach(function(e){var n=e.offset,r=n==u,c=r&&l||{};Object.keys(e).forEach(function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),s){case"!":s=i[n];break;case _h:s=a[n];break;default:s=t.normalizeStyleValue(n,r,s,o)}c[r]=s}),r||s.push(c),l=c,u=n}),o.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(o.join(c)))}return s}function Ah(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&Ph(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&Ph(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&Ph(n,"destroy",e))})}}function Ph(e,t,n){var r=n.totalTime,i=Oh(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),a=e._data;return null!=a&&(i._data=a),i}function Oh(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:a,disabled:!!o}}function Nh(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Rh(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Fh=function(e,t){return!1},Yh=function(e,t){return!1},zh=function(e,t,n){return[]},jh=Lh();(jh||"undefined"!=typeof Element)&&(Fh=Th()?function(e,t){for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:function(e,t){return e.contains(t)},Yh=function(){if(jh||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Yh}(),zh=function(e,t,n){var r=[];if(n)for(var i=e.querySelectorAll(t),a=0;a<i.length;a++)r.push(i[a]);else{var o=e.querySelector(t);o&&r.push(o)}return r});var Bh=null,Hh=!1;function Uh(e){Bh||(Bh=("undefined"!=typeof document?document.body:null)||{},Hh=!!Bh.style&&"WebkitAppearance"in Bh.style);var t=!0;return Bh.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in Bh.style)&&Hh&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Bh.style)),t}var Vh=Yh,Gh=Fh,qh=zh;function Wh(e){var t={};return Object.keys(e).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}var $h=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Uh(e)}},{key:"matchesElement",value:function(e,t){return Vh(e,t)}},{key:"containsElement",value:function(e,t){return Gh(e,t)}},{key:"query",value:function(e,t,n){return qh(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new Mh(n,r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Xh=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.NOOP=new $h,e}(),Zh="ng-enter",Jh="ng-leave",Kh="ng-trigger",Qh=".ng-trigger",ef="ng-animating",tf=".ng-animating";function nf(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:rf(parseFloat(t[1]),t[2])}function rf(e,t){switch(t){case"s":return 1e3*e;default:return e}}function af(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,a="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=rf(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(i=rf(parseFloat(s),o[4]));var u=o[5];u&&(a=u)}else r=e;if(!n){var l=!1,c=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:a}}(e,t,n)}function of(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function sf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else of(e,n);return n}function uf(e,t,n){return n?t+":"+n+";":""}function lf(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=uf(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=uf(0,_f(i),e.style[i]));e.setAttribute("style",t)}function cf(e,t,n){e.style&&(Object.keys(t).forEach(function(r){var i=yf(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),Lh()&&lf(e))}function hf(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=yf(t);e.style[n]=""}),Lh()&&lf(e))}function ff(e){return Array.isArray(e)?1==e.length?e[0]:wh(e):e}var df=new RegExp("{{\\s*(.+?)\\s*}}","g");function pf(e){var t=[];if("string"==typeof e){for(var n;n=df.exec(e);)t.push(n[1]);df.lastIndex=0}return t}function mf(e,t,n){var r=e.toString(),i=r.replace(df,function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?e:i}function gf(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var vf=/-+([a-z0-9])/g;function yf(e){return e.replace(vf,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function _f(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function bf(e,t){return 0===e||0===t}function wf(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],a=[];if(r.forEach(function(e){i.hasOwnProperty(e)||a.push(e),i[e]=n[e]}),a.length)for(var o=function(){var n=t[s];a.forEach(function(t){n[t]=kf(e,t)})},s=1;s<t.length;s++)o()}return t}function xf(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function kf(e,t){return window.getComputedStyle(e)[t]}function Cf(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var a=i[1],o=i[2],s=i[3];t.push(Ef(a,s)),"<"==o[0]&&("*"!=a||"*"!=s)&&t.push(Ef(s,a))}(e,n,t)}):n.push(e),n}var Sf=new Set(["true","1"]),Mf=new Set(["false","0"]);function Ef(e,t){var n=Sf.has(e)||Mf.has(e),r=Sf.has(t)||Mf.has(t);return function(i,a){var o="*"==e||e==i,s="*"==t||t==a;return!o&&n&&"boolean"==typeof i&&(o=i?Sf.has(e):Mf.has(e)),!s&&r&&"boolean"==typeof a&&(s=a?Sf.has(t):Mf.has(t)),o&&s}}var Tf=new RegExp("s*:selfs*,?","g");function Lf(e,t,n){return new If(e).build(t,n)}var If=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new Df(t);return this._resetContextStyleTimingState(n),xf(this,ff(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,a.push(n.visitState(s,t))}),s.name=u}else if(1==e.type){var l=n.visitTransition(e,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:o,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,a=r||{};if(n.styles.forEach(function(e){if(Af(e)){var t=e;Object.keys(t).forEach(function(e){pf(t[e]).forEach(function(e){a.hasOwnProperty(e)||i.add(e)})})}}),i.size){var o=gf(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=xf(this,ff(e.animation),t);return{type:1,matchers:Cf(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Pf(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return xf(n,e,t)}),options:Pf(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,a=e.steps.map(function(e){t.currentTime=r;var a=xf(n,e,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:a,options:Pf(e.options)}}},{key:"visitAnimate",value:function(e,t){var n=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Of(af(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=Of(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Of((n=n||af(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;var r,i=e.styles?e.styles:xh({});if(5==i.type)r=this.visitKeyframes(i,t);else{var a=e.styles,o=!1;if(!a){o=!0;var s={};n.easing&&(s.easing=n.easing),a=xh(s)}t.currentTime+=n.duration+n.delay;var u=this.visitStyle(a,t);u.isEmptyStep=o,r=u}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==_h?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var r=!1,i=null;return n.forEach(function(e){if(Af(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var a in t)if(t[a].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(r){if(n._driver.validateStyleProperty(r)){var o=t.collectedStyles[t.currentQuerySelector],s=o[r],u=!0;s&&(a!=i&&a>=s.startTime&&i<=s.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(i,'ms"')),u=!1),a=s.startTime),u&&(o[r]={startTime:a,endTime:i}),t.options&&function(e,t,n){var r=t.params||{},i=pf(e);i.length&&i.forEach(function(e){r.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})}(e[r],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,a=[],o=!1,s=!1,u=0,l=e.steps.map(function(e){var r=n._makeStyleAst(e,t),l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(Af(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(Af(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,o=o||c<u,u=c,a.push(c),r});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return l.forEach(function(e,i){var o=h>0?i==f?1:h*i:a[i],s=o*m;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=o,r.styles.push(e)}),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:xf(this,ff(e.animation),t),options:Pf(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Pf(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Pf(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(Tf,"")),[e=e.replace(/@\*/g,Qh).replace(/@\w+/g,function(e){return Qh+"-"+e.substr(1)}).replace(/:animating/g,tf),t]}(e.selector),2),a=i[0],o=i[1];t.currentQuerySelector=n.length?n+" "+a:a,Nh(t.collectedStyles,t.currentQuerySelector,{});var s=xf(this,ff(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:Pf(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:af(e.timings,t.errors,!0);return{type:12,animation:xf(this,ff(e.animation),t),timings:n,options:null}}}]),e}(),Df=_createClass(function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null});function Af(e){return!Array.isArray(e)&&"object"==typeof e}function Pf(e){return e?(e=of(e)).params&&(e.params=function(e){return e?of(e):null}(e.params)):e={},e}function Of(e,t,n){return{duration:e,delay:t,easing:n}}function Nf(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var Rf=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Ff=new RegExp(":enter","g"),Yf=new RegExp(":leave","g");function zf(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new jf).buildKeyframes(e,t,n,r,i,a,o,s,u,l)}var jf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,a,o,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Rf;var c=new Hf(e,t,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([a],null,c.errors,s),xf(this,n,c);var h=c.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(o).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([o],null,c.errors,s)}return h.length?h.map(function(e){return e.buildKeyframes()}):[Nf(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);i!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?nf(n.duration):null,a=null!=n.delay?nf(n.delay):null;return 0!==i&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,i,a);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),xf(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,a=e.options;if(a&&(a.params||a.delay)&&((i=t.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Bf);var o=nf(a.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(function(e){return xf(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,a=e.options&&e.options.delay?nf(e.options.delay):0;e.steps.forEach(function(o){var s=t.createSubContext(e.options);a&&s.delayNextStep(a),xf(n,o,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return af(t.params?mf(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(function(e){a.forwardTime((e.offset||0)*i),a.setStyles(e.styles,e.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?nf(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bf);var o=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);a&&s.delayNextStep(a),r===t.element&&(u=s.currentTimeline),xf(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,a=Math.abs(i.duration),o=a*(t.currentQueryTotal-1),s=a*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;xf(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),e}(),Bf={},Hf=function(){function e(t,n,r,i,a,o,s,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Uf(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=nf(r.duration)),null!=r.delay&&(i.delay=nf(r.delay));var a=r.params;if(a){var o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach(function(e){(!t||!o.hasOwnProperty(e))&&(o[e]=mf(a[e],o,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,a=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Bf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Vf(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,a){var o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(Ff,"."+this._enterClassName)).replace(Yf,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push.apply(o,_toConsumableArray(s))}return!i&&0==o.length&&a.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),o}}]),e}(),Uf=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||_h,t._currentKeyframe[e]=_h}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var a=r&&r.params||{},o=function(e,t){var n,r={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){r[e]=_h}):sf(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(o).forEach(function(e){var t=mf(o[e],a,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:_h),i._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(a,o){var s=sf(a,!0);Object.keys(s).forEach(function(e){var r=s[e];"!"==r?t.add(e):r==_h&&n.add(e)}),r||(s.offset=o/e.duration),i.push(s)});var a=t.size?gf(t.values()):[],o=n.size?gf(n.values()):[];if(r){var s=i[0],u=of(s);s.offset=0,u.offset=1,i=[s,u]}return Nf(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}}]),e}(),Vf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o,s){var u,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,s.delay)).keyframes=i,u.preStyleProps=a,u.postStyleProps=o,u._stretchStartingKeyframe=l,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=r+n,s=n/o,u=sf(e[0],!1);u.offset=0,a.push(u);var l=sf(e[0],!1);l.offset=Gf(s),a.push(l);for(var c=e.length-1,h=1;h<=c;h++){var f=sf(e[h],!1);f.offset=Gf((n+f.offset*r)/o),a.push(f)}r=o,n=0,i="",e=a}return Nf(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Uf);function Gf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var qf=_createClass(function e(){_classCallCheck(this,e)}),Wf=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return yf(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",a=n.toString().trim();if($f[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return a+i}}]),n}(qf),$f=function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Xf(e,t,n,r,i,a,o,s,u,l,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:a,toState:r,toStyles:o,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var Zf={},Jf=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some(function(e){return e(t,n,r,i)})}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],a=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):a}},{key:"build",value:function(e,t,n,r,i,a,o,s,u,l){var c=[],h=this.ast.options&&this.ast.options.params||Zf,f=this.buildStyles(n,o&&o.params||Zf,c),d=s&&s.params||Zf,p=this.buildStyles(r,d,c),m=new Set,g=new Map,v=new Map,y="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=l?[]:zf(e,t,this.ast.animation,i,a,f,p,_,u,c),w=0;if(b.forEach(function(e){w=Math.max(e.duration+e.delay,w)}),c.length)return Xf(t,this._triggerName,n,r,y,f,p,[],[],g,v,w,c);b.forEach(function(e){var n=e.element,r=Nh(g,n,{});e.preStyleProps.forEach(function(e){return r[e]=!0});var i=Nh(v,n,{});e.postStyleProps.forEach(function(e){return i[e]=!0}),n!==t&&m.add(n)});var x=gf(m.values());return Xf(t,this._triggerName,n,r,y,f,p,b,x,g,v,w)}}]),e}(),Kf=function(){function e(t,n,r){_classCallCheck(this,e),this.styles=t,this.defaultParams=n,this.normalizer=r}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n=this,r={},i=of(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var a=e;Object.keys(a).forEach(function(e){var o=a[e];o.length>1&&(o=mf(o,i,t));var s=n.normalizer.normalizePropertyName(e,t);o=n.normalizer.normalizeStyleValue(e,s,o,t),r[s]=o})}}),r}}]),e}(),Qf=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states={},n.states.forEach(function(e){i.states[e.name]=new Kf(e.style,e.options&&e.options.params||{},r)}),ed(this.states,"true","1"),ed(this.states,"false","0"),n.transitions.forEach(function(e){i.transitionFactories.push(new Jf(t,e,i.states))}),this.fallbackTransition=function(e,t,n){return new Jf(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},t)}(t,this.states)}return _createClass(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find(function(i){return i.match(e,t,n,r)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function ed(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var td=new Rf,nd=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=Lf(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Dh(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[e],s=new Map;if(o?(n=zf(this._driver,t,o,Zh,Jh,{},{},i,td,a)).forEach(function(e){var t=Nh(s,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));s.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=r._driver.computeStyle(t,n,_h)})});var u=Ih(n.map(function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)}));return this._playersById[e]=u,u.onDestroy(function(){return r.destroy(e)}),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=Oh(t,"","","");return Ah(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),rd="ng-animate-queued",id="ng-animate-disabled",ad=".ng-animate-disabled",od=[],sd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ud={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ld="__ng_removed",cd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r=t&&t.hasOwnProperty("value");if(this.value=function(e){return null!=e?e:null}(r?t.value:t),r){var i=of(t);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),hd="void",fd=new cd(hd),dd=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wd(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if(!function(e){return"start"==e||"done"==e}(n))throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=Nh(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};a.push(o);var s=Nh(this._engine.statesByElement,e,{});return s.hasOwnProperty(t)||(wd(e,Kh),wd(e,Kh+"-"+t),s[t]=fd),function(){i._engine.afterFlush(function(){var e=a.indexOf(o);e>=0&&a.splice(e,1),i._triggers[t]||delete s[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(t),o=new md(this.id,t,e),s=this._engine.statesByElement.get(e);s||(wd(e,Kh),wd(e,Kh+"-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],l=new cd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[t]=l,u||(u=fd),l.value===hd||u.value!==l.value){var c=Nh(this._engine.playersByElement,e,[]);c.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});var h=a.matchTransition(u.value,l.value,e,l.params),f=!1;if(!h){if(!i)return;h=a.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:l,player:o,isFallbackTransition:f}),f||(wd(e,rd),o.onStart(function(){xd(e,rd)})),o.onDone(function(){var t=r.players.indexOf(o);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(o);i>=0&&n.splice(i,1)}}),this.players.push(o),c.push(o),o}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(!t.hasOwnProperty(a)||e[a]!==t[a])return!1}return!0}(u.params,l.params)){var d=[],p=a.matchStyles(u.value,u.params,d),m=a.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){hf(e,p),cf(e,m)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,r){t._elementListeners.set(r,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,Qh,!0);r.forEach(function(e){if(!e[ld]){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,a=this._engine.statesByElement.get(e);if(a){var o=[];if(Object.keys(a).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,hd,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Ih(o).onDone(function(){return i._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){var i=new Set;n.forEach(function(n){var a=n.name;if(!i.has(a)){i.add(a);var o=t._triggers[a].fallbackTransition,s=r[a]||fd,u=new cd(hd),l=new md(t.id,a,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:a,transition:o,fromState:s,toState:u,player:l,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else for(var o=e;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e[ld];(!s||s===sd)&&(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){wd(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var a=r.element,o=t._elementListeners.get(a);o&&o.forEach(function(t){if(t.name==r.triggerName){var n=Oh(a,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Ah(r.player,t.phase,n,t.callback)}}),i.markedForDestroy?t._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),pd=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new dd(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=n[r[i]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&t.add(o)}}return t}},{key:"trigger",value:function(e,t,n,r){if(gd(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(gd(t)){var i=t[ld];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){var o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wd(e,id)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xd(e,id))}},{key:"removeNode",value:function(e,t,n,r){if(gd(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t[ld]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return gd(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,Qh,!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,tf,!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return Ih(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e[ld];if(n&&n.setForRemoval){if(e[ld]=sd,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,ad)&&this.markElementAsDisabled(e,!1),this.driver.query(e,ad,!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)wd(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var a=0;a<i.length;a++)i[a]()}}else for(var o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Ih(n).onDone(function(){s.forEach(function(e){return e()})}):s.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new Rf,i=[],a=new Map,o=[],s=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)c.add(t[r])});var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=_d(f,this.collectedEnterElements),p=new Map,m=0;d.forEach(function(e,t){var n=Zh+m++;p.set(t,n),e.forEach(function(e){return wd(e,n)})});for(var g=[],v=new Set,y=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b[ld];w&&w.setForRemoval&&(g.push(b),v.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach(function(e){return v.add(e)}):y.add(b))}var x=new Map,k=_d(f,Array.from(v));k.forEach(function(e,t){var n=Jh+m++;x.set(t,n),e.forEach(function(e){return wd(e,n)})}),e.push(function(){d.forEach(function(e,t){var n=p.get(t);e.forEach(function(e){return xd(e,n)})}),k.forEach(function(e,t){var n=x.get(t);e.forEach(function(e){return xd(e,n)})}),g.forEach(function(e){n.processLeaveNode(e)})});for(var C=[],S=[],M=this._namespaceList.length-1;M>=0;M--)this._namespaceList[M].drainQueuedTransitions(t).forEach(function(e){var t=e.player,a=e.element;if(C.push(t),n.collectedEnterElements.length){var c=a[ld];if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,a),d=x.get(a),m=p.get(a),g=n._buildInstruction(e,r,m,d,f);if(g.errors&&g.errors.length)S.push(g);else{if(f)return t.onStart(function(){return hf(a,g.fromStyles)}),t.onDestroy(function(){return cf(a,g.toStyles)}),void i.push(t);if(e.isFallbackTransition)return t.onStart(function(){return hf(a,g.fromStyles)}),t.onDestroy(function(){return cf(a,g.toStyles)}),void i.push(t);g.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),r.append(a,g.timelines),o.push({instruction:g,player:t,element:a}),g.queriedElements.forEach(function(e){return Nh(s,e,[]).push(t)}),g.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach(function(e){return r.add(e)})}}),g.postStyleProps.forEach(function(e,t){var n=Object.keys(e),r=l.get(t);r||l.set(t,r=new Set),n.forEach(function(e){return r.add(e)})})}});if(S.length){var E=[];S.forEach(function(e){E.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return E.push("- ".concat(e,"\n"))})}),C.forEach(function(e){return e.destroy()}),this.reportError(E)}var T=new Map,L=new Map;o.forEach(function(e){var t=e.element;r.has(t)&&(L.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),i.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){Nh(T,t,[]).push(e),e.destroy()})});var I=g.filter(function(e){return Sd(e,u,l)}),D=new Map;yd(D,this.driver,y,l,_h).forEach(function(e){Sd(e,u,l)&&I.push(e)});var A=new Map;d.forEach(function(e,t){yd(A,n.driver,new Set(e),u,"!")}),I.forEach(function(e){var t=D.get(e),n=A.get(e);D.set(e,Object.assign(Object.assign({},t),n))});var P=[],O=[],N={};o.forEach(function(e){var t=e.element,o=e.player,s=e.instruction;if(r.has(t)){if(c.has(t))return o.onDestroy(function(){return cf(t,s.toStyles)}),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);var u=N;if(L.size>1){for(var l=t,h=[];l=l.parentNode;){var f=L.get(l);if(f){u=f;break}h.push(l)}h.forEach(function(e){return L.set(e,u)})}var d=n._buildAnimation(o.namespaceId,s,T,a,A,D);if(o.setRealPlayer(d),u===N)P.push(o);else{var p=n.playersByElement.get(u);p&&p.length&&(o.parentPlayer=Ih(p)),i.push(o)}}else hf(t,s.fromStyles),o.onDestroy(function(){return cf(t,s.toStyles)}),O.push(o),c.has(t)&&i.push(o)}),O.forEach(function(e){var t=a.get(e.element);if(t&&t.length){var n=Ih(t);e.setRealPlayer(n)}}),i.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var R=0;R<g.length;R++){var F=g[R],Y=F[ld];if(xd(F,Jh),!Y||!Y.hasAnimation){var z=[];if(s.size){var j=s.get(F);j&&j.length&&z.push.apply(z,_toConsumableArray(j));for(var B=this.driver.query(F,tf,!0),H=0;H<B.length;H++){var U=s.get(B[H]);U&&U.length&&z.push.apply(z,_toConsumableArray(U))}}var V=z.filter(function(e){return!e.destroyed});V.length?kd(this,F,V):this.processLeaveNode(F)}}return g.length=0,P.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),P}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t[ld];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var a=[];if(t){var o=this.playersByQueriedElement.get(e);o&&(a=o)}else{var s=this.playersByElement.get(e);if(s){var u=!i||i==hd;s.forEach(function(e){e.queued||!u&&e.triggerName!=r||a.push(e)})}}return(n||r)&&(a=a.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),a}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,a=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var l=function(){var e=r.value.element,u=e!==a,l=Nh(n,e,[]);i._getPreviousPlayers(e,u,o,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})};for(u.s();!(r=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}hf(a,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,a){var o=this,s=t.triggerName,u=t.element,l=[],c=new Set,h=new Set,f=t.timelines.map(function(t){var f=t.element;c.add(f);var d=f[ld];if(d&&d.removedBeforeQueried)return new Mh(t.duration,t.delay);var p=f!==u,m=function(e){var t=[];return Cd(e,t),t}((n.get(f)||od).map(function(e){return e.getRealPlayer()})).filter(function(e){return!!e.element&&e.element===f}),g=i.get(f),v=a.get(f),y=Dh(0,o._normalizer,0,t.keyframes,g,v),_=o._buildPlayer(t,y,m);if(t.subTimeline&&r&&h.add(f),p){var b=new md(e,s,f);b.setRealPlayer(_),l.push(b)}return _});l.forEach(function(e){Nh(o.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var a=r.indexOf(n);r.splice(a,1)}0==r.length&&delete e[t]}return r}(o.playersByQueriedElement,e.element,e)})}),c.forEach(function(e){return wd(e,ef)});var d=Ih(f);return d.onDestroy(function(){c.forEach(function(e){return xd(e,ef)}),cf(u,t.toStyles)}),h.forEach(function(e){Nh(r,e,[]).push(d)}),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Mh(e.duration,e.delay)}}]),e}(),md=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Mh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return Ah(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){Nh(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function gd(e){return e&&1===e.nodeType}function vd(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function yd(e,t,n,r,i){var a=[];n.forEach(function(e){return a.push(vd(e))});var o=[];r.forEach(function(n,r){var a={};n.forEach(function(e){var n=a[e]=t.computeStyle(r,e,i);(!n||0==n.length)&&(r[ld]=ud,o.push(r))}),e.set(r,a)});var s=0;return n.forEach(function(e){return vd(e,a[s++])}),o}function _d(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var r=new Set(t),i=new Map;function a(e){if(!e)return 1;var t=i.get(e);if(t)return t;var o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:a(o),i.set(e,t),t}return t.forEach(function(e){var t=a(e);1!==t&&n.get(t).push(e)}),n}var bd="$$classes";function wd(e,t){if(e.classList)e.classList.add(t);else{var n=e[bd];n||(n=e[bd]={}),n[t]=!0}}function xd(e,t){if(e.classList)e.classList.remove(t);else{var n=e[bd];n&&delete n[t]}}function kd(e,t,n){Ih(n).onDone(function(){return e.processLeaveNode(t)})}function Cd(e,t){for(var n=0;n<e.length;n++){var r=e[n];r instanceof Eh?Cd(r.players,t):t.push(r)}}function Sd(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var Md=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new pd(t,n,r),this._timelineEngine=new nd(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var a=e+"-"+r,o=this._triggerCache[a];if(!o){var s=[],u=Lf(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(e,t,n){return new Qf(e,t,n)}(r,u,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,r,o)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Rh(n),2),a=i[0],o=i[1];this._timelineEngine.command(a,t,o,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var a=_slicedToArray(Rh(n),2),o=a[0],s=a[1];return this._timelineEngine.listen(o,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function Ed(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=Ld(t[0]),t.length>1&&(r=Ld(t[t.length-1]))):t&&(n=Ld(t)),n||r?new Td(e,n,r):null}var Td=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&cf(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(cf(this._element,this._initialStyles),this._endStyles&&(cf(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(hf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hf(this._element,this._endStyles),this._endStyles=null),cf(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Ld(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];Id(i)&&((t=t||{})[i]=e[i])}return t}function Id(e){return"display"===e||"position"===e}var Dd="animation",Ad="animationend",Pd=function(){function e(t,n,r,i,a,o,s){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){(function(e,t){var n=zd(e,"").trim();n.length&&(function(e,t){for(var n=0,r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t="".concat(n,", ").concat(t)),Yd(e,"",t)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),Fd(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Od(this._element,this._name,"paused")}},{key:"resume",value:function(){Od(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Nd(this._element,this._name);this._position=e*this._duration,Yd(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Fd(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=zd(e,"").split(","),r=Rd(n,t);r>=0&&(n.splice(r,1),Yd(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function Od(e,t,n){Yd(e,"PlayState",n,Nd(e,t))}function Nd(e,t){var n=zd(e,"");return n.indexOf(",")>0?Rd(n.split(","),t):Rd([n],t)}function Rd(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Fd(e,t,n){n?e.removeEventListener(Ad,t):e.addEventListener(Ad,t)}function Yd(e,t,n,r){var i=Dd+t;if(null!=r){var a=e.style[i];if(a.length){var o=a.split(",");o[r]=n,n=o.join(",")}}e.style[i]=n}function zd(e,t){return e.style[Dd+t]||""}var jd=function(){function e(t,n,r,i,a,o,s,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+a,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Pd(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:kf(e.element,r))})}this.currentSnapshot=t}}]),e}(),Bd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=Wh(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Mh),Hd=function(){function e(){_classCallCheck(this,e),this._count=0}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Uh(e)}},{key:"matchesElement",value:function(e,t){return Vh(e,t)}},{key:"containsElement",value:function(e,t){return Gh(e,t)}},{key:"query",value:function(e,t,n){return qh(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return Wh(e)});var r="@keyframes ".concat(t," {\n"),i="";n.forEach(function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var a=document.createElement("style");return a.textContent=r,a}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=a.filter(function(e){return e instanceof jd}),s={};bf(n,r)&&o.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"==n||"easing"==n||(t[n]=e[n])})}),t}(t=wf(e,t,s));if(0==n)return new Bd(e,u);var l="gen_css_kf_"+this._count++,c=this.buildKeyframeElement(e,l,t);(function(e){var t,n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(c);var h=Ed(e,t),f=new jd(e,t,l,n,r,i,u,h);return f.onDestroy(function(){return function(e){e.parentNode.removeChild(e)}(c)}),f}}]),e}(),Ud=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:kf(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Vd=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Gd().toString()),this._cssKeyframesDriver=new Hd}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Uh(e)}},{key:"matchesElement",value:function(e,t){return Vh(e,t)}},{key:"containsElement",value:function(e,t){return Gh(e,t)}},{key:"query",value:function(e,t,n){return qh(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,a);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},l=a.filter(function(e){return e instanceof Ud});bf(n,r)&&l.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return u[e]=t[e]})});var c=Ed(e,t=wf(e,t=t.map(function(e){return sf(e,!1)}),u));return new Ud(e,t,s,c)}}]),e}();function Gd(){return Th()&&Element.prototype.animate||{}}var qd=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:Te.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?wh(e):e;return Xd(this._renderer,null,t,"register",[n]),new Wd(t,this._renderer)}}]),n}(yh);return e.\u0275fac=function(t){return new(t||e)(hr(ts),hr(hl))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Wd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new $d(this._id,e,t||{},this._renderer)}}]),n}(function(){return _createClass(function e(){_classCallCheck(this,e)})}()),$d=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xd(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function Xd(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Zd="@.disabled",Jd=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Kd("",r,this.engine),this._rendererCache.set(r,i)),i}var a=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);return t.data.animation.forEach(function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(a,o,e,r.name,r)}),new Qd(this,o,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(ts),hr(Md),hr(Ou))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Kd=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&t==Zd?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),Qd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,r,i,a)).factory=e,o.namespaceId=r,o}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Zd?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r=this;if("@"==t.charAt(0)){var i,a=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),o=t.substr(1),s="";return"@"!=o.charAt(0)&&(o=(i=_slicedToArray(function(e){var t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(o),2))[0],s=i[1]),this.engine.listen(this.namespaceId,a,o,s,function(e){r.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}]),n}(Kd),ep=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(Md);return e.\u0275fac=function(t){return new(t||e)(hr(hl),hr(Xh),hr(qf))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),tp=new qn("AnimationModuleType"),np=[{provide:yh,useClass:qd},{provide:qf,useFactory:function(){return new Wf}},{provide:Md,useClass:ep},{provide:ts,useFactory:function(e,t,n){return new Jd(e,t,n)},deps:[Qc,Md,Ou]}],rp=[{provide:Xh,useFactory:function(){return"function"==typeof Gd()?new Vd:new Hd}},{provide:tp,useValue:"BrowserAnimations"}].concat(np),ip=[{provide:Xh,useClass:$h},{provide:tp,useValue:"NoopAnimations"}].concat(np),ap=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:t.disableAnimations?ip:rp}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({providers:rp,imports:[vh]}),e}();function op(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return M(r)?(t.pop(),N(t,r)):V(t)}var sp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(C),up=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(m),lp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).parent=e,a.outerValue=r,a.outerIndex=i,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(m);function cp(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new lp(e,n,r);if(!i.closed)return t instanceof _?t.subscribe(i):O(t)(i)}var hp={},fp=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new dp(e,this.resultSelector))}}]),e}(),dp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(hp),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(cp(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===hp?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(up),pp=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function mp(){return U(1)(op.apply(void 0,arguments))}var gp=new _(function(e){return e.complete()});function vp(e){return e?function(e){return new _(function(t){return e.schedule(function(){return t.complete()})})}(e):gp}function yp(e){return new _(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?R(n):vp()).subscribe(t)})}function _p(e,t){return"function"==typeof t?function(n){return n.pipe(_p(function(n,r){return R(e(n,r)).pipe(E(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new bp(e))}}var bp=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new wp(e,this.project))}}]),e}(),wp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new F(this),r=this.destination;r.add(n),this.innerSubscription=z(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;(!e||e.closed)&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(Y),xp=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function kp(e){return function(t){return 0===e?vp():t.lift(new Cp(e))}}var Cp=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new xp}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Sp(e,this.total))}}]),e}(),Sp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(m);function Mp(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ep(e,t,n))}}var Ep=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Tp(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Tp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e)).accumulator=r,o._seed=i,o.hasSeed=a,o.index=0,o}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(m);function Lp(e,t){return function(n){return n.lift(new Ip(e,t))}}var Ip=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Dp(e,this.predicate,this.thisArg))}}]),e}(),Dp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.count=0,a}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(m);function Ap(e){return function(t){var n=new Pp(e),r=t.lift(n);return n.caught=r}}var Pp=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Op(e,this.selector,this.caught))}}]),e}(),Op=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).selector=r,a.caught=i,a}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(a){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var r=new F(this);this.add(r);var i=z(t,r);i!==r&&this.add(i)}}}]),n}(Y);function Np(e,t){return j(e,t,1)}function Rp(e){return function(t){return 0===e?vp():t.lift(new Fp(e))}}var Fp=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new xp}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yp(e,this.total))}}]),e}(),Yp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var a=t++%n;e.next(r[a])}e.complete()}}]),n}(m);function zp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hp;return function(t){return t.lift(new jp(e))}}var jp=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Bp(e,this.errorFactory))}}]),e}(),Bp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(m);function Hp(){return new pp}function Up(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Vp(e))}}var Vp=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gp(e,this.defaultValue))}}]),e}(),Gp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(m);function qp(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Lp(function(t,n){return e(t,n,r)}):y,kp(1),n?Up(t):zp(function(){return new pp}))}}function Wp(){}function $p(e,t,n){return function(r){return r.lift(new Xp(e,t,n))}}var Xp=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Zp(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Zp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,e))._tapNext=Wp,s._tapError=Wp,s._tapComplete=Wp,s._tapError=a||Wp,s._tapComplete=o||Wp,r(i)?(s._context=_assertThisInitialized(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||Wp,s._tapError=i.error||Wp,s._tapComplete=i.complete||Wp),s}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(XM){return void this.destination.error(XM)}return this.destination.complete()}}]),n}(m),Jp=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Kp(e,this.callback))}}]),e}(),Kp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new f(r)),i}return _createClass(n)}(m),Qp=_createClass(function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n}),em=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=a,i.restoredState=o,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Qp),tm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Qp),nm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).reason=i,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Qp),rm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).error=i,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Qp),im=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Qp),am=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Qp),om=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=a,s.shouldActivate=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Qp),sm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Qp),um=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Qp),lm=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),cm=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),hm=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),fm=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),dm=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),pm=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),mm=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),gm="primary",vm=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function ym(e){return new vm(e)}var _m="ngNavigationCancelingError";function bm(e){var t=Error("NavigationCancelingError: "+e);return t[_m]=!0,t}function wm(e,t,n){var r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},a=0;a<r.length;a++){var o=r[a],s=e[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function xm(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var a=0;a<r.length;a++)if(!km(e[n=r[a]],t[n]))return!1;return!0}function km(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=_toConsumableArray(e).sort(),r=_toConsumableArray(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function Cm(e){return Array.prototype.concat.apply([],e)}function Sm(e){return e.length>0?e[e.length-1]:null}function Mm(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Em(e){return so(e)?e:ao(e)?R(Promise.resolve(e)):op(e)}var Tm={exact:function e(t,n,r){if(!Fm(t.segments,n.segments)||!Pm(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:Dm},Lm={exact:function(e,t){return xm(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return km(e[n],t[n])})},ignored:function(){return!0}};function Im(e,t,n){return Tm[n.paths](e.root,t.root,n.matrixParams)&&Lm[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Dm(e,t,n){return Am(e,t,t.segments,n)}function Am(e,t,n,r){if(e.segments.length>n.length){var i=e.segments.slice(0,n.length);return!(!Fm(i,n)||t.hasChildren()||!Pm(i,n,r))}if(e.segments.length===n.length){if(!Fm(e.segments,n)||!Pm(e.segments,n,r))return!1;for(var a in t.children)if(!e.children[a]||!Dm(e.children[a],t.children[a],r))return!1;return!0}var o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Fm(e.segments,o)&&Pm(e.segments,o,r)&&e.children[gm])&&Am(e.children[gm],t,s,r)}function Pm(e,t,n){return t.every(function(t,r){return Lm[n](e[r].parameters,t.parameters)})}var Om=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ym(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return jm.serialize(this)}}]),e}(),Nm=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Mm(n,function(e,t){return e.parent=r})}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Bm(this)}}]),e}(),Rm=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ym(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return $m(this)}}]),e}();function Fm(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var Ym=_createClass(function e(){_classCallCheck(this,e)}),zm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Qm(e);return new Om(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/".concat(Hm(e.root,!0)),function(e){var t=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(Vm(t),"=").concat(Vm(e))}).join("&"):"".concat(Vm(t),"=").concat(Vm(n))}).filter(function(e){return!!e});return t.length?"?".concat(t.join("&")):""}(e.queryParams)).concat("string"==typeof e.fragment?"#".concat(function(e){return encodeURI(e)}(e.fragment)):"")}}]),e}(),jm=new zm;function Bm(e){return e.segments.map(function(e){return $m(e)}).join("/")}function Hm(e,t){if(!e.hasChildren())return Bm(e);if(t){var n=e.children[gm]?Hm(e.children[gm],!1):"",r=[];return Mm(e.children,function(e,t){t!==gm&&r.push("".concat(t,":").concat(Hm(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return Mm(e.children,function(e,r){r===gm&&(n=n.concat(t(e,r)))}),Mm(e.children,function(e,r){r!==gm&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return n===gm?[Hm(e.children[gm],!1)]:["".concat(n,":").concat(Hm(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children[gm]?"".concat(Bm(e),"/").concat(i[0]):"".concat(Bm(e),"/(").concat(i.join("//"),")")}function Um(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vm(e){return Um(e).replace(/%3B/gi,";")}function Gm(e){return Um(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qm(e){return decodeURIComponent(e)}function Wm(e){return qm(e.replace(/\+/g,"%20"))}function $m(e){return"".concat(Gm(e.path)).concat(function(e){return Object.keys(e).map(function(t){return";".concat(Gm(t),"=").concat(Gm(e[t]))}).join("")}(e.parameters))}var Xm=/^[^\/()?;=#]+/;function Zm(e){var t=e.match(Xm);return t?t[0]:""}var Jm=/^[^=?&#]+/,Km=/^[^?&#]+/,Qm=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nm([],{}):new Nm([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[gm]=new Nm(e,t)),n}},{key:"parseSegment",value:function(){var e=Zm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Rm(qm(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Zm(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Zm(this.remaining);r&&(n=r,this.capture(n))}e[qm(t)]=qm(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Jm);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Km);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Wm(t),a=Wm(n);if(e.hasOwnProperty(i)){var o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(a)}else e[i]=a}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Zm(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=gm);var a=this.parseChildren();t[i]=1===Object.keys(a).length?a[gm]:new Nm([],a),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),eg=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=tg(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=tg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=ng(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return ng(e,this._root).map(function(e){return e.value})}}]),e}();function tg(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=tg(e,n.value);if(i)return i}}catch(a){r.e(a)}finally{r.f()}return null}function ng(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=ng(e,n.value);if(i.length)return i.unshift(t),i}}catch(a){r.e(a)}finally{r.f()}return[]}var rg=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function ig(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var ag=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,hg(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(eg);function og(e,t){var n=function(e,t){var n=new lg([],{},{},"",{},gm,t,null,e.root,-1,{});return new cg("",new rg(n,[]))}(e,t),r=new sp([new Rm("",{})]),i=new sp({}),a=new sp({}),o=new sp({}),s=new sp(""),u=new sg(r,i,o,s,a,gm,t,n.root);return u.snapshot=n.root,new ag(new rg(u,[]),n)}var sg=function(){function e(t,n,r,i,a,o,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(E(function(e){return ym(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(function(e){return ym(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function ug(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var lg=function(){function e(t,n,r,i,a,o,s,u,l,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ym(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ym(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),cg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,hg(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return fg(this._root)}}]),n}(eg);function hg(e,t){t.value._routerState=e,t.children.forEach(function(t){return hg(e,t)})}function fg(e){var t=e.children.length>0?" { ".concat(e.children.map(fg).join(", ")," } "):"";return"".concat(e.value).concat(t)}function dg(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,xm(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),xm(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!xm(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),xm(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function pg(e,t){return xm(e.params,t.params)&&function(e,t){return Fm(e,t)&&e.every(function(e,n){return xm(e.parameters,t[n].parameters)})}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||pg(e.parent,t.parent))}function mg(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=_createForOfIteratorHelper(n.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(e.shouldReuseRoute(t.value,a.value.snapshot))return mg(e,t,a)}}catch(o){i.e(o)}finally{i.f()}return mg(e,t)})}(e,t,n);return new rg(r,i)}if(e.shouldAttach(t.value)){var a=e.retrieve(t.value);if(null!==a){var o=a.route;return gg(t,o),o}}var s=function(e){return new sg(new sp(e.url),new sp(e.params),new sp(e.queryParams),new sp(e.fragment),new sp(e.data),e.outlet,e.component,e)}(t.value),u=t.children.map(function(t){return mg(e,t)});return new rg(s,u)}function gg(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)gg(e.children[n],t.children[n])}function vg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function yg(e){return"object"==typeof e&&null!=e&&e.outlets}function _g(e,t,n,r,i){var a={};return r&&Mm(r,function(e,t){a[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new Om(n.root===e?t:bg(n.root,e,t),a,i)}function bg(e,t,n){var r={};return Mm(e.children,function(e,i){r[i]=e===t?n:bg(e,t,n)}),new Nm(e.segments,r)}var wg=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&vg(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(yg);if(i&&i!==Sm(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),xg=_createClass(function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r});function kg(e,t,n){if(e||(e=new Nm([],{})),0===e.segments.length&&e.hasChildren())return Cg(e,t,n);var r=function(e,t,n){for(var r=0,i=t,a={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return a;var o=e.segments[i],s=n[r];if(yg(s))break;var u="".concat(s),l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!Tg(u,l,o))return a;r+=2}else{if(!Tg(u,{},o))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var a=new Nm(e.segments.slice(0,r.pathIndex),{});return a.children[gm]=new Nm(e.segments.slice(r.pathIndex),e.children),Cg(a,0,i)}return r.match&&0===i.length?new Nm(e.segments,{}):r.match&&!e.hasChildren()?Sg(e,t,n):r.match?Cg(e,0,i):Sg(e,t,n)}function Cg(e,t,n){if(0===n.length)return new Nm(e.segments,{});var r=function(e){return yg(e[0])?e[0].outlets:_defineProperty({},gm,e)}(n),i={};return Mm(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=kg(e.children[r],t,n))}),Mm(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new Nm(e.segments,i)}function Sg(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var a=n[i];if(yg(a)){var o=Mg(a.outlets);return new Nm(r,o)}if(0===i&&vg(n[0]))r.push(new Rm(e.segments[t].path,Eg(n[0]))),i++;else{var s=yg(a)?a.outlets[gm]:"".concat(a),u=i<n.length-1?n[i+1]:null;s&&u&&vg(u)?(r.push(new Rm(s,Eg(u))),i+=2):(r.push(new Rm(s,{})),i++)}}return new Nm(r,{})}function Mg(e){var t={};return Mm(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Sg(new Nm([],{}),0,e))}),t}function Eg(e){var t={};return Mm(e,function(e,n){return t[n]="".concat(e)}),t}function Tg(e,t,n){return e==n.path&&xm(t,n.parameters)}var Lg=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),dg(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=ig(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),Mm(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=ig(e),a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=ig(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new pm(e.value.snapshot))}),e.children.length&&this.forwardEvent(new fm(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(dg(r),r===i)if(r.component){var a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Ig(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Ig(e){dg(e.value),e.children.forEach(Ig)}var Dg=_createClass(function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n});function Ag(e){return"function"==typeof e}function Pg(e){return e instanceof Om}var Og=Symbol("INITIAL_VALUE");function Ng(){return _p(function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i;return M(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),V(t,i).lift(new fp(r))}(e.map(function(e){return e.pipe(kp(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return M(r)?(t.pop(),function(e){return mp(t,e,r)}):function(e){return mp(t,e)}}(Og))})).pipe(Mp(function(e,t){var n=!1;return t.reduce(function(e,r,i){return e!==Og?e:(r===Og&&(n=!0),n||!1!==r&&i!==t.length-1&&!Pg(r)?e:r)},e)},Og),Lp(function(e){return e!==Og}),E(function(e){return Pg(e)?e:!0===e}),kp(1))})}var Rg=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&to(0,"router-outlet")},directives:function(){return[Dv]},encapsulation:2}),e}();function Fg(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Yg(r,zg(t,r))}}function Yg(e,t){e.children&&Fg(e.children,t)}function zg(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function jg(e){var t=e.children&&e.children.map(jg),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==gm&&(n.component=Rg),n}function Bg(e){return e.outlet||gm}function Hg(e,t){var n=e.filter(function(e){return Bg(e)===t});return n.push.apply(n,_toConsumableArray(e.filter(function(e){return Bg(e)!==t}))),n}var Ug={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Vg(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Ug):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||wm)(n,e,t);if(!i)return Object.assign({},Ug);var a={};Mm(i.posParams,function(e,t){a[t]=e.path});var o=i.consumed.length>0?Object.assign(Object.assign({},a),i.consumed[i.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Gg(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return qg(e,t,n)&&Bg(n)!==gm})}(e,n,r)){var a=new Nm(t,function(e,t,n,r){var i={};i[gm]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var a,o=_createForOfIteratorHelper(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(""===s.path&&Bg(s)!==gm){var u=new Nm([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[Bg(s)]=u}}}catch(l){o.e(l)}finally{o.f()}return i}(e,t,r,new Nm(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return qg(e,t,n)})}(e,n,r)){var o=new Nm(e.segments,function(e,t,n,r,i,a){var o,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(o=u.n()).done;){var l=o.value;if(qg(e,n,l)&&!i[Bg(l)]){var c=new Nm([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===a?e.segments.length:t.length,s[Bg(l)]=c}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}var s=new Nm(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function qg(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Wg(e,t,n,r){return!!(Bg(e)===r||r!==gm&&qg(t,n,e))&&("**"===e.path||Vg(t,e,n).matched)}function $g(e,t,n){return 0===t.length&&!e.children[n]}var Xg=_createClass(function e(t){_classCallCheck(this,e),this.segmentGroup=t||null}),Zg=_createClass(function e(t){_classCallCheck(this,e),this.urlTree=t});function Jg(e){return new _(function(t){return t.error(new Xg(e))})}function Kg(e){return new _(function(t){return t.error(new Zg(e))})}function Qg(e){return new _(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var ev=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(As)}return _createClass(e,[{key:"apply",value:function(){var e=this,t=Gg(this.urlTree.root,[],[],this.config).segmentGroup,n=new Nm(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,gm).pipe(E(function(t){return e.createUrlTree(tv(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Ap(function(t){if(t instanceof Zg)return e.allowRedirects=!1,e.match(t.urlTree);throw t instanceof Xg?e.noMatchError(t):t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,gm).pipe(E(function(n){return t.createUrlTree(tv(n),e.queryParams,e.fragment)})).pipe(Ap(function(e){throw e instanceof Xg?t.noMatchError(e):e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Nm([],_defineProperty({},gm,e)):e;return new Om(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(E(function(e){return new Nm([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],a=0,o=Object.keys(n.children);a<o.length;a++){var s=o[a];"primary"===s?i.unshift(s):i.push(s)}return R(i).pipe(Np(function(i){var a=n.children[i],o=Hg(t,i);return r.expandSegmentGroup(e,o,a,i).pipe(E(function(e){return{segment:e,outlet:i}}))}),Mp(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Lp(function(t,n){return e(t,n,r)}):y,Rp(1),n?Up(t):zp(function(){return new pp}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,a){var o=this;return R(n).pipe(Np(function(s){return o.expandSegmentAgainstRoute(e,t,n,s,r,i,a).pipe(Ap(function(e){if(e instanceof Xg)return op(null);throw e}))}),qp(function(e){return!!e}),Ap(function(e,n){if(e instanceof pp||"EmptyError"===e.name){if($g(t,r,i))return op(new Nm([],{}));throw new Xg(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,a,o){return Wg(r,t,i,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a):Jg(t):Jg(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Kg(a):this.lineralizeSegments(n,a).pipe(j(function(n){var a=new Nm(n,{});return i.expandSegment(e,a,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){var o=this,s=Vg(t,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return Jg(t);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?Kg(f):this.lineralizeSegments(r,f).pipe(j(function(r){return o.expandSegment(e,t,n,r.concat(i.slice(c)),a,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var a=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?op(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(E(function(e){return n._loadedConfig=e,new Nm(r,{})})):op(new Nm(r,{}));var o=Vg(t,n,r),s=o.matched,u=o.consumedSegments,l=o.lastChild;if(!s)return Jg(t);var c=r.slice(l);return this.getChildConfig(e,n,r).pipe(j(function(e){var r=e.module,o=e.routes,s=Gg(t,u,c,o),l=s.segmentGroup,h=s.slicedSegments,f=new Nm(l.segments,l.children);if(0===h.length&&f.hasChildren())return a.expandChildren(r,o,f).pipe(E(function(e){return new Nm(u,e)}));if(0===o.length&&0===h.length)return op(new Nm(u,{}));var d=Bg(n)===i;return a.expandSegment(r,f,o,h,d?gm:i,!0).pipe(E(function(e){return new Nm(u.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?op(new Dg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?op(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(j(function(n){return n?r.configLoader.load(e.injector,t).pipe(E(function(e){return t._loadedConfig=e,e})):function(e){return new _(function(t){return t.error(bm("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):op(new Dg([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;return i&&0!==i.length?op(i.map(function(r){var i,a=e.get(r);if(function(e){return e&&Ag(e.canLoad)}(a))i=a.canLoad(t,n);else{if(!Ag(a))throw new Error("Invalid CanLoad guard");i=a(t,n)}return Em(i)})).pipe(Ng(),$p(function(e){if(Pg(e)){var t=bm('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),E(function(e){return!0===e})):op(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return op(n);if(r.numberOfChildren>1||!r.children[gm])return Qg(e.redirectTo);r=r.children[gm]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Om(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Mm(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,a=this.createSegments(e,t.segments,n,r),o={};return Mm(t.children,function(t,a){o[a]=i.createSegmentGroup(e,t,n,r)}),new Nm(a,o)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.path===e.path)return t.splice(r),a;r++}}catch(o){i.e(o)}finally{i.f()}return e}}]),e}();function tv(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],a=tv(e.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function(e){if(1===e.numberOfChildren&&e.children[gm]){var t=e.children[gm];return new Nm(e.segments.concat(t.segments),t.children)}return e}(new Nm(e.segments,t))}var nv=_createClass(function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]}),rv=_createClass(function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n});function iv(e,t,n){var r=e._root;return ov(r,t?t._root:null,n,[r.value])}function av(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ov(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=ig(t);return e.children.forEach(function(e){(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,o=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Fm(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fm(e.url,t.url)||!xm(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pg(e,t)||!xm(e.queryParams,t.queryParams);case"paramsChange":default:return!pg(e,t)}}(o,a,a.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nv(r)):(a.data=o.data,a._resolvedData=o._resolvedData),ov(e,t,a.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new rv(s.outlet.component,o))}else o&&sv(t,s,i),i.canActivateChecks.push(new nv(r)),ov(e,null,a.component?s?s.children:null:n,r,i)})(e,a[e.value.outlet],n,r.concat([e.value]),i),delete a[e.value.outlet]}),Mm(a,function(e,t){return sv(e,n.getContext(t),i)}),i}function sv(e,t,n){var r=ig(e),i=e.value;Mm(r,function(e,r){sv(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new rv(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var uv=_createClass(function e(){_classCallCheck(this,e)});function lv(e){return new _(function(t){return t.error(e)})}var cv=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return _createClass(e,[{key:"recognize",value:function(){var e=Gg(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,gm);if(null===t)return null;var n=new lg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gm,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new rg(n,t),i=new cg(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=ug(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var a=i[r],o=t.children[a],s=Hg(e,a),u=this.processSegmentGroup(s,o,a);if(null===u)return null;n.push.apply(n,_toConsumableArray(u))}var l=hv(n);return function(e){e.sort(function(e,t){return e.value.outlet===gm?-1:t.value.outlet===gm?1:e.value.outlet.localeCompare(t.value.outlet)})}(l),l}},{key:"processSegment",value:function(e,t,n,r){var i,a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=this.processSegmentAgainstRoute(o,t,n,r);if(null!==s)return s}}catch(u){a.e(u)}finally{a.f()}return $g(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!Wg(e,t,n,r))return null;var i,a=[],o=[];if("**"===e.path){var s=n.length>0?Sm(n).parameters:{};i=new lg(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pv(e),Bg(e),e.component,e,fv(t),dv(t)+n.length,mv(e))}else{var u=Vg(t,e,n);if(!u.matched)return null;a=u.consumedSegments,o=n.slice(u.lastChild),i=new lg(a,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pv(e),Bg(e),e.component,e,fv(t),dv(t)+a.length,mv(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=Gg(t,a,o,l.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren())return null===(s=this.processChildren(l,h))?null:[new rg(i,s)];if(0===l.length&&0===f.length)return[new rg(i,[])];var d=Bg(e)===r,p=this.processSegment(l,h,f,d?gm:r);return null===p?null:[new rg(i,p)]}}]),e}();function hv(e){var t,n=[],r=new Set,i=_createForOfIteratorHelper(e);try{var a=function(){var e,i=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(i))return n.push(i),"continue";var a=n.find(function(e){return i.value.routeConfig===e.value.routeConfig});void 0!==a?((e=a.children).push.apply(e,_toConsumableArray(i.children)),r.add(a)):n.push(i)};for(i.s();!(t=i.n()).done;)a()}catch(c){i.e(c)}finally{i.f()}var o,s=_createForOfIteratorHelper(r);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=hv(u.children);n.push(new rg(u.value,l))}}catch(c){s.e(c)}finally{s.f()}return n.filter(function(e){return!r.has(e)})}function fv(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function dv(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function pv(e){return e.data||{}}function mv(e){return e.resolve||{}}function gv(e){return _p(function(t){var n=e(t);return n?R(n).pipe(E(function(){return t})):op(t)})}var vv=_createClass(function e(){_classCallCheck(this,e)}),yv=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),_v=new qn("ROUTES"),bv=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe(E(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Dg(Cm(i.injector.get(_v,void 0,ke.Self|ke.Optional)).map(jg),i)}),Ap(function(e){throw t._loader$=void 0,e}));return t._loader$=new X(r,function(){return new C}).pipe(q()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?R(this.loader.load(e)):Em(e()).pipe(j(function(e){return e instanceof Ps?op(e):R(t.compiler.compileModuleAsync(e))}))}}]),e}(),wv=_createClass(function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new xv,this.attachRef=null}),xv=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new wv,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),kv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Cv(e){throw e}function Sv(e,t,n){return t.parse("/")}function Mv(e,t){return op(null)}var Ev={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lv=function(){var e=function(){function e(t,n,r,i,a,o,s,u){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=Cv,this.malformedUriErrorHandler=Sv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mv,afterPreactivation:Mv},this.urlHandlingStrategy=new kv,this.routeReuseStrategy=new yv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(As),this.console=a.get(wu);var c=a.get(Ou);this.isNgZoneEnabled=c instanceof Ou&&Ou.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Om(new Nm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bv(o,s,function(e){return l.triggerEvent(new lm(e))},function(e){return l.triggerEvent(new cm(e))}),this.routerState=og(this.currentUrlTree,this.rootComponentType),this.transitions=new sp({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"browserPageId",get:function(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}},{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Lp(function(e){return 0!==e.id}),E(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),_p(function(e){var r=!1,i=!1;return op(e).pipe($p(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_p(function(e){var r=t.browserUrlTree.toString(),a=!t.navigated||e.extractedUrl.toString()!==r||r!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Iv(e.source)&&(t.browserUrlTree=e.extractedUrl),op(e).pipe(_p(function(e){var r=t.transitions.getValue();return n.next(new em(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?gp:Promise.resolve(e)}),function(e,t,n,r){return _p(function(i){return function(e,t,n,r,i){return new ev(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(E(function(e){return Object.assign(Object.assign({},i),{urlAfterRedirects:e})}))})}(t.ngModule.injector,t.configLoader,t.urlSerializer,t.config),$p(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,a,o){return j(function(r){return function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var s=new cv(e,t,n,r,a,o).recognize();return null===s?lv(new uv):op(s)}catch(i){return lv(i)}}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),a,o).pipe(E(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var s})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),$p(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,e),t.browserUrlTree=e.urlAfterRedirects);var r=new im(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var o=e.id,s=e.extractedUrl,u=e.source,l=e.restoredState,c=e.extras,h=new em(o,t.serializeUrl(s),u,l);n.next(h);var f=og(s,t.rootComponentType).snapshot;return op(Object.assign(Object.assign({},e),{targetSnapshot:f,urlAfterRedirects:s,extras:Object.assign(Object.assign({},c),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),gp}),gv(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,u=o.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!u})}),$p(function(e){var n=new am(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),E(function(e){return Object.assign(Object.assign({},e),{guards:iv(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return j(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,a=n.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?op(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return R(e).pipe(j(function(e){return function(e,t,n,r,i){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?op(a.map(function(a){var o,s=av(a,t,i);if(function(e){return e&&Ag(e.canDeactivate)}(s))o=Em(s.canDeactivate(e,t,n,r));else{if(!Ag(s))throw new Error("Invalid CanDeactivate guard");o=Em(s(e,t,n,r))}return o.pipe(qp())})).pipe(Ng()):op(!0)}(e.component,e.route,n,t,r)}),qp(function(e){return!0!==e},!0))}(s,r,i,e).pipe(j(function(n){return n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return R(t).pipe(Np(function(t){return mp(function(e,t){return null!==e&&t&&t(new hm(e)),op(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new dm(e)),op(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return yp(function(){return op(t.guards.map(function(i){var a,o=av(i,t.node,n);if(function(e){return e&&Ag(e.canActivateChild)}(o))a=Em(o.canActivateChild(r,e));else{if(!Ag(o))throw new Error("Invalid CanActivateChild guard");a=Em(o(r,e))}return a.pipe(qp())})).pipe(Ng())})});return op(i).pipe(Ng())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?op(r.map(function(r){return yp(function(){var i,a=av(r,t,n);if(function(e){return e&&Ag(e.canActivate)}(a))i=Em(a.canActivate(t,e));else{if(!Ag(a))throw new Error("Invalid CanActivate guard");i=Em(a(t,e))}return i.pipe(qp())})})).pipe(Ng()):op(!0)}(e,t.route,n))}),qp(function(e){return!0!==e},!0))}(r,o,e,t):op(n)}),E(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),$p(function(e){if(Pg(e.guardsResult)){var n=bm('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new om(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),Lp(function(e){return!!e.guardsResult||(t.restoreHistory(e),t.cancelNavigationTransition(e,""),!1)}),gv(function(e){if(e.guards.canActivateChecks.length)return op(e).pipe($p(function(e){var n=new sm(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),_p(function(e){var n=!1;return op(e).pipe(function(e,t){return j(function(n){var r=n.targetSnapshot,i=n.guards.canActivateChecks;if(!i.length)return op(n);var a=0;return R(i).pipe(Np(function(n){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return op({});var a={};return R(i).pipe(j(function(i){return function(e,t,n,r){var i=av(e,t,r);return Em(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe($p(function(e){a[i]=e}))}),Rp(1),j(function(){return Object.keys(a).length===i.length?op(a):gp}))}(e._resolve,e,t,r).pipe(E(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ug(e,n).resolve),null}))}(n.route,r,e,t)}),$p(function(){return a++}),Rp(1),j(function(e){return a===i.length?op(n):gp}))})}(t.paramsInheritanceStrategy,t.ngModule.injector),$p({next:function(){return n=!0},complete:function(){n||(t.restoreHistory(e),t.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),$p(function(e){var n=new um(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),gv(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,u=o.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!u})}),E(function(e){var n=function(e,t,n){var r=mg(e,t._root,n?n._root:void 0);return new ag(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),$p(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,e),t.browserUrlTree=e.urlAfterRedirects)}),function(e,t,n){return E(function(r){return new Lg(t,r.targetRouterState,r.currentRouterState,n).activate(e),r})}(t.rootContexts,t.routeReuseStrategy,function(e){return t.triggerEvent(e)}),$p({next:function(){r=!0},complete:function(){r=!0}}),function(e){return function(t){return t.lift(new Jp(e))}}(function(){var n;if(!r&&!i){var a="Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId);"replace"===t.canceledNavigationResolution?(t.restoreHistory(e),t.cancelNavigationTransition(e,a)):t.cancelNavigationTransition(e,a)}(null===(n=t.currentNavigation)||void 0===n?void 0:n.id)===e.id&&(t.currentNavigation=null)}),Ap(function(r){if(i=!0,function(e){return e&&e[_m]}(r)){var a=Pg(r.url);a||(t.navigated=!0,t.restoreHistory(e,!0));var o=new nm(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),a?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree),i={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Iv(e.source)};t.scheduleNavigation(n,"imperative",null,i,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.restoreHistory(e,!0);var s=new rm(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(o){e.reject(o)}}return gp}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,a={replaceUrl:!0};if(r){var o=Object.assign({},r);delete o.navigationId,delete o.\u0275routerPageId,0!==Object.keys(o).length&&(a.state=o)}e.scheduleNavigation(i,t,r,a)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Fg(e),this.config=e.map(jg),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,a=t.queryParamsHandling,o=t.preserveFragment,s=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return _g(t.root,t.root,t,r,i);var a=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wg(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return Mm(r.outlets,function(e,t){a[t]="string"==typeof e?e.split("/"):e}),[].concat(_toConsumableArray(e),[{outlets:a}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(_toConsumableArray(e),[r])},[]);return new wg(n,t,r)}(n);if(a.toRoot())return _g(t.root,new Nm([],{}),t,r,i);var o=function(e,t,n){if(e.isAbsolute)return new xg(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new xg(r,r===t.root,0)}var i=vg(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,a=n;a>i;){if(a-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new xg(r,!1,i-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(a,t,e),s=o.processChildren?Cg(o.segmentGroup,o.index,a.commands):kg(o.segmentGroup,o.index,a.commands);return _g(o.segmentGroup,s,t,r,i)}(s,this.currentUrlTree,e,l,null!=u?u:null)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Pg(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){var n;if(n=!0===t?Object.assign({},Ev):!1===t?Object.assign({},Tv):t,Pg(e))return Im(this.currentUrlTree,e,n);var r=this.parseUrl(e);return Im(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.currentPageId=t.targetPageId,e.events.next(new tm(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ".concat(t))})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var a,o;if(this.disposed)return Promise.resolve(!1);var s,u,l,c=this.getTransition(),h=Iv(t)&&c&&!Iv(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===e.toString();if(h&&f)return Promise.resolve(!0);i?(s=i.resolve,u=i.reject,l=i.promise):l=new Promise(function(e,t){s=e,u=t});var d,p=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),d=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):d=0,this.setTransition({id:p,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:s,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t){var n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}},{key:"restoreHistory",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(t=this.currentNavigation)||void 0===t?void 0:t.finalUrl)||0===i?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(e,t){var n=new nm(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}},{key:"generateNgRouterState",value:function(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr($n),hr(Ym),hr(xv),hr(Ml),hr(Ia),hr(tl),hr(Du),hr(void 0))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function Iv(e){return"imperative"!==e}var Dv=function(){var e=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new lu,this.deactivateEvents=new lu,this.name=i||gm,t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Av(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(xv),Za(Ns),Za(Zo),zn("name"),Za(Cs))},e.\u0275dir=Xe({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),Av=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===sg?this.route:e===xv?this.childContexts:this.parent.get(e,t)}}]),e}(),Pv=_createClass(function e(){_classCallCheck(this,e)}),Ov=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return op(null)}}]),e}(),Nv=function(){var e=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new bv(n,r,function(e){return t.triggerEvent(new lm(e))},function(e){return t.triggerEvent(new cm(e))})}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Lp(function(e){return e instanceof tm}),Np(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(As);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var o=a._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(e,a)):a.children&&r.push(this.processRoutes(e,a.children))}}catch(s){i.e(s)}finally{i.f()}return R(r).pipe(U(),E(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?op(t._loadedConfig):n.loader.load(e.injector,t)).pipe(j(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Lv),hr(tl),hr(Du),hr(Ia),hr(Pv))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Rv=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof em?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tm&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof mm&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new mm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Lv),hr(Ac),hr(void 0))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Fv=new qn("ROUTER_CONFIGURATION"),Yv=new qn("ROUTER_FORROOT_GUARD"),zv=[Ml,{provide:Ym,useClass:zm},{provide:Lv,useFactory:function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,c=new Lv(null,e,t,n,r,i,a,Cm(o));return u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(s,c),s.enableTracing&&c.events.subscribe(function(e){var t,n;null===(t=console.group)||void 0===t||t.call(console,"Router Event: ".concat(e.constructor.name)),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[Ym,xv,Ml,Ia,tl,Du,_v,Fv,[function(){return _createClass(function e(){_classCallCheck(this,e)})}(),new vr],[vv,new vr]]},xv,{provide:sg,useFactory:function(e){return e.routerState.root},deps:[Lv]},{provide:tl,useClass:il},Nv,Ov,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Ap(function(){return op(null)}))}}]),e}(),{provide:Fv,useValue:{enableTracing:!1}}];function jv(){return new $u("Router",Lv)}var Bv=function(){var e=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[zv,Gv(t),{provide:Yv,useFactory:Vv,deps:[[Lv,new vr,new yr]]},{provide:Fv,useValue:n||{}},{provide:wl,useFactory:Uv,deps:[fl,[new gr(kl),new vr],Fv]},{provide:Rv,useFactory:Hv,deps:[Lv,Ac,Fv]},{provide:Pv,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ov},{provide:$u,multi:!0,useFactory:jv},[qv,{provide:du,multi:!0,useFactory:Wv,deps:[qv]},{provide:Xv,useFactory:$v,deps:[qv]},{provide:bu,multi:!0,useExisting:Xv}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Gv(t)]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Yv,8),hr(Lv,8))},e.\u0275mod=We({type:e}),e.\u0275inj=pe({}),e}();function Hv(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Rv(e,t,n)}function Uv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Sl(e,t):new Cl(e,t)}function Vv(e){return"guarded"}function Gv(e){return[{provide:Wn,multi:!0,useValue:e},{provide:_v,multi:!0,useValue:e}]}var qv=function(){var e=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(pl,Promise.resolve(null)).then(function(){if(e.destroyed)return Promise.resolve(!0);var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(Lv),i=e.injector.get(Fv);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?op(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Fv),n=this.injector.get(Nv),r=this.injector.get(Rv),i=this.injector.get(Lv),a=this.injector.get(Qu);e===a.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Ia))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function Wv(e){return e.appInitializer.bind(e)}function $v(e){return e.bootstrapListener.bind(e)}var Xv=new qn("Router Initializer");function Zv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(u(r))return Jv(r,null);if(l(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Jv(i.map(function(e){return r[e]}),i)}}if("function"==typeof t[t.length-1]){var a=t.pop();return Jv(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(E(function(e){return a.apply(void 0,_toConsumableArray(e))}))}return Jv(t,null)}function Jv(e,t){return new _(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),a=0,o=0,s=function(s){var u=R(e[s]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,o++),i[s]=e},error:function(e){return n.error(e)},complete:function(){(++a===r||!l)&&(o===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var Kv=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"setProperty",value:function(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"setDisabledState",value:function(e){this.setProperty("disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(ns),Za(es))},e.\u0275dir=Xe({type:e}),e}(),Qv=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(Kv);return e.\u0275fac=function(){var t;return function(n){return(t||(t=Fn(e)))(n||e)}}(),e.\u0275dir=Xe({type:e,features:[Aa]}),e}(),ey=new qn("NgValueAccessor"),ty={provide:ey,useExisting:oe(function(){return ry}),multi:!0},ny=new qn("CompositionEventMode"),ry=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,r))._compositionMode=i,a._composing=!1,null==a._compositionMode&&(a._compositionMode=!function(){var e=cl()?cl().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),a}return _createClass(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),n}(Kv);return e.\u0275fac=function(t){return new(t||e)(Za(ns),Za(es),Za(ny,8))},e.\u0275dir=Xe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&uo("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[Wo([ty]),Aa]}),e}(),iy=new qn("NgValidators"),ay=new qn("NgAsyncValidators");function oy(e){return null!=e}function sy(e){var t=ao(e)?R(e):e;return so(t),t}function uy(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function ly(e,t){return t.map(function(t){return t(e)})}function cy(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function hy(e){return null!=e?function(e){if(!e)return null;var t=e.filter(oy);return 0==t.length?null:function(e){return uy(ly(e,t))}}(cy(e)):null}function fy(e){return null!=e?function(e){if(!e)return null;var t=e.filter(oy);return 0==t.length?null:function(e){return Zv(ly(e,t).map(sy)).pipe(E(uy))}}(cy(e)):null}function dy(e,t){return null===e?[t]:Array.isArray(e)?[].concat(_toConsumableArray(e),[t]):[e,t]}function py(e){return e?Array.isArray(e)?e:[e]:[]}function my(e,t){return Array.isArray(e)?e.includes(t):e===t}function gy(e,t){var n=py(t);return py(e).forEach(function(e){my(n,e)||n.push(e)}),n}function vy(e,t){return py(t).filter(function(t){return!my(e,t)})}var yy=function(){var e=function(){function e(){_classCallCheck(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=hy(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fy(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Xe({type:e}),e}(),_y=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(yy);return e.\u0275fac=function(){var t;return function(n){return(t||(t=Fn(e)))(n||e)}}(),e.\u0275dir=Xe({type:e,features:[Aa]}),e}(),by=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return _createClass(n)}(yy),wy=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n)}(function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"is",value:function(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}]),e}());return e.\u0275fac=function(t){return new(t||e)(Za(by,2))},e.\u0275dir=Xe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&wo("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[Aa]}),e}();function xy(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ky(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Cy(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Sy="VALID",My="INVALID",Ey="PENDING",Ty="DISABLED";function Ly(e){return(Py(e)?e.validators:e)||null}function Iy(e){return Array.isArray(e)?hy(e):e||null}function Dy(e,t){return(Py(t)?t.asyncValidators:e)||null}function Ay(e){return Array.isArray(e)?fy(e):e||null}function Py(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Oy=function(){function e(t,n){_classCallCheck(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=Iy(this._rawValidators),this._composedAsyncValidatorFn=Ay(this._rawAsyncValidators)}return _createClass(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===Sy}},{key:"invalid",get:function(){return this.status===My}},{key:"pending",get:function(){return this.status==Ey}},{key:"disabled",get:function(){return this.status===Ty}},{key:"enabled",get:function(){return this.status!==Ty}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=Iy(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ay(e)}},{key:"addValidators",value:function(e){this.setValidators(gy(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(gy(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(vy(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(vy(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return my(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return my(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=Ey,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=Ty,this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=Sy,this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sy||this.status===Ey)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?Ty:Sy}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=Ey,this._hasOwnPendingAsyncValidator=!0;var n=sy(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;var r=e;return t.forEach(function(e){r=r instanceof Ry?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof Fy&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new lu,this.statusChanges=new lu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?Ty:this.errors?My:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ey)?Ey:this._anyControlsHaveStatus(My)?My:Sy}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Py(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),Ny=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,Ly(i),Dy(a,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!e.asyncValidator}),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){Cy(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){Cy(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Oy),Ry=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,Ly(r),Dy(i,r))).controls=e,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!a.asyncValidator}),a}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof Ny?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(Oy),Fy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,Ly(r),Dy(i,r))).controls=e,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!a.asyncValidator}),a}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof Ny?e.value:e.getRawValue()})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(Oy),Yy={provide:by,useExisting:oe(function(){return jy})},zy=Promise.resolve(null),jy=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this)).control=new Ny,o._registered=!1,o.update=new lu,o._parent=e,o._setValidators(r),o._setAsyncValidators(i),o.valueAccessor=function(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===ry?n=e:function(e){return Object.getPrototypeOf(e.constructor)===Qv}(e)?r=e:i=e}),i||r||n||null):null;var n,r,i}(0,a),o}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?function(e,t){return[].concat(_toConsumableArray(t.path),[e])}(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){(function(e,t){(function(e,t){var n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(dy(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(dy(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};xy(t._rawValidators,i),xy(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ky(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ky(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)})(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;zy.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;zy.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}}]),n}(by);return e.\u0275fac=function(t){return new(t||e)(Za(_y,9),Za(iy,10),Za(ay,10),Za(ey,10))},e.\u0275dir=Xe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wo([Yy]),Aa,ut]}),e}(),By=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({}),e}(),Hy=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({imports:[[By]]}),e}(),Uy=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({imports:[Hy]}),e}();function Vy(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function Gy(e,t){return function(n,r){t(n,r,e)}}function qy(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())})}var Wy=n(97235),$y=(n(7689),n(25392),n(57807)),Xy=n(39461),Zy=n(97585),Jy=n(71567),Ky=n(64425),Qy=n(96951),e_=n(53291),t_=(n(40960),n(23150));function n_(e,t,n,i){return r(n)&&(i=n,n=void 0),i?n_(e,t,n).pipe(E(function(e){return u(e)?i.apply(void 0,_toConsumableArray(e)):i(e)})):new _(function(r){r_(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function r_(e,t,n,r,i){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var o=e;e.addEventListener(t,n,i),a=function(){return o.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),a=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var u=e;e.addListener(t,n),a=function(){return u.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,c=e.length;l<c;l++)r_(e[l],t,n,r,i)}r.add(a)}var i_,a_,o_=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s_(e,this.compare,this.keySelector))}}]),e}(),s_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).keySelector=i,a.hasKey=!1,"function"==typeof r&&(a.compare=r),a}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(n){return this.destination.error(n)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(m),u_=Zy.i,l_=["*"],c_=function(e){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)},h_=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.injector=t,this.el=n,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this.el.nativeElement.value=this.lastValue=null==e?"":e,f_(this.el)}},{key:"handleChangeEvent",value:function(e,t){e===this.el.nativeElement&&(t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),f_(this.el))}},{key:"_handleBlurEvent",value:function(e){e===this.el.nativeElement&&(this.onTouched(),f_(this.el))}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.el.nativeElement.disabled=e}},{key:"ngOnDestroy",value:function(){this.statusChanges&&this.statusChanges.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e,t=this;try{e=this.injector.get(by)}catch(r){}if(e){e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(function(){return f_(t.el)}));var n=e.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(function(e){if(n[e]){var r=n[e].bind(n);n[e]=function(){r.apply(void 0,arguments),f_(t.el)}}})}}}]),e}();return e.\u0275fac=function(e){!function(){throw new Error("invalid")}()},e.\u0275dir=Xe({type:e,hostBindings:function(e,t){1&e&&uo("ionBlur",function(e){return t._handleBlurEvent(e.target)})}}),Vy([fu("ionBlur",["$event.target"])],e.prototype,"_handleBlurEvent",null),e}(),f_=function(e){c_(function(){var t=e.nativeElement,n=d_(t);p_(t,n);var r=t.closest("ion-item");r&&p_(r,n)})},d_=function(e){for(var t=e.classList,n=[],r=0;r<t.length;r++){var i=t.item(r);null!==i&&m_(i,"ng-")&&n.push("ion-".concat(i.substr(3)))}return n},p_=function(e,t){var n=e.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(function(e){return n.remove(e)}),t.forEach(function(e){return n.add(e)})},m_=function(e,t){return e.substr(0,t.length)===t},g_=i_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,r)}return _createClass(n,[{key:"writeValue",value:function(e){this.el.nativeElement.checked=this.lastValue=null!=e&&e,f_(this.el)}},{key:"_handleIonChange",value:function(e){this.handleChangeEvent(e,e.checked)}}]),n}(h_);g_.\u0275fac=function(e){return new(e||g_)(Za(Ia),Za(es))},g_.\u0275dir=Xe({type:g_,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,t){1&e&&uo("ionChange",function(e){return t._handleIonChange(e.target)})},features:[Wo([{provide:ey,useExisting:i_,multi:!0}]),Aa]}),g_.ctorParameters=function(){return[{type:Ia},{type:es}]},Vy([fu("ionChange",["$event.target"])],g_.prototype,"_handleIonChange",null);var v_,y_=a_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,r)}return _createClass(n,[{key:"_handleIonChange",value:function(e){this.handleChangeEvent(e,e.value)}},{key:"registerOnChange",value:function(e){_get(_getPrototypeOf(n.prototype),"registerOnChange",this).call(this,function(t){e(""===t?null:parseFloat(t))})}}]),n}(h_);y_.\u0275fac=function(e){return new(e||y_)(Za(Ia),Za(es))},y_.\u0275dir=Xe({type:y_,selectors:[["ion-input","type","number"]],hostBindings:function(e,t){1&e&&uo("ionChange",function(e){return t._handleIonChange(e.target)})},features:[Wo([{provide:ey,useExisting:a_,multi:!0}]),Aa]}),y_.ctorParameters=function(){return[{type:Ia},{type:es}]},Vy([fu("ionChange",["$event.target"])],y_.prototype,"_handleIonChange",null);var __,b_=v_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,r)}return _createClass(n,[{key:"_handleIonSelect",value:function(e){this.handleChangeEvent(e,e.checked)}}]),n}(h_);b_.\u0275fac=function(e){return new(e||b_)(Za(Ia),Za(es))},b_.\u0275dir=Xe({type:b_,selectors:[["ion-radio"]],hostBindings:function(e,t){1&e&&uo("ionSelect",function(e){return t._handleIonSelect(e.target)})},features:[Wo([{provide:ey,useExisting:v_,multi:!0}]),Aa]}),b_.ctorParameters=function(){return[{type:Ia},{type:es}]},Vy([fu("ionSelect",["$event.target"])],b_.prototype,"_handleIonSelect",null);var w_,x_=__=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,r)}return _createClass(n,[{key:"_handleChangeEvent",value:function(e){this.handleChangeEvent(e,e.value)}}]),n}(h_);x_.\u0275fac=function(e){return new(e||x_)(Za(Ia),Za(es))},x_.\u0275dir=Xe({type:x_,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,t){1&e&&uo("ionChange",function(e){return t._handleChangeEvent(e.target)})},features:[Wo([{provide:ey,useExisting:__,multi:!0}]),Aa]}),x_.ctorParameters=function(){return[{type:Ia},{type:es}]},Vy([fu("ionChange",["$event.target"])],x_.prototype,"_handleChangeEvent",null);var k_=w_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,r)}return _createClass(n,[{key:"_handleInputEvent",value:function(e){this.handleChangeEvent(e,e.value)}}]),n}(h_);k_.\u0275fac=function(e){return new(e||k_)(Za(Ia),Za(es))},k_.\u0275dir=Xe({type:k_,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,t){1&e&&uo("ionChange",function(e){return t._handleInputEvent(e.target)})},features:[Wo([{provide:ey,useExisting:w_,multi:!0}]),Aa]}),k_.ctorParameters=function(){return[{type:Ia},{type:es}]},Vy([fu("ionChange",["$event.target"])],k_.prototype,"_handleInputEvent",null);var C_=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.doc=t,this.backButton=new C,this.keyboardDidShow=new C,this.keyboardDidHide=new C,this.pause=new C,this.resume=new C,this.resize=new C,n.run(function(){var e;r.win=t.defaultView,r.backButton.subscribeWithPriority=function(e,t){return this.subscribe(function(r){return r.register(e,function(e){return n.run(function(){return t(e)})})})},M_(r.pause,t,"pause"),M_(r.resume,t,"resume"),M_(r.backButton,t,"ionBackButton"),M_(r.resize,r.win,"resize"),M_(r.keyboardDidShow,r.win,"ionKeyboardDidShow"),M_(r.keyboardDidHide,r.win,"ionKeyboardDidHide"),r._readyPromise=new Promise(function(t){e=t}),r.win&&r.win.cordova?t.addEventListener("deviceready",function(){e("cordova")},{once:!0}):e("dom")})}return _createClass(e,[{key:"is",value:function(e){return(0,Zy.a)(this.win,e)}},{key:"platforms",value:function(){return(0,Zy.g)(this.win)}},{key:"ready",value:function(){return this._readyPromise}},{key:"isRTL",get:function(){return"rtl"===this.doc.dir}},{key:"getQueryParam",value:function(e){return S_(this.win.location.href,e)}},{key:"isLandscape",value:function(){return!this.isPortrait()}},{key:"isPortrait",value:function(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}},{key:"testUserAgent",value:function(e){var t=this.win.navigator;return!!(t&&t.userAgent&&t.userAgent.indexOf(e)>=0)}},{key:"url",value:function(){return this.win.location.href}},{key:"width",value:function(){return this.win.innerWidth}},{key:"height",value:function(){return this.win.innerHeight}}]),e}();C_.\u0275fac=function(e){return new(e||C_)(hr(hl),hr(Ou))},C_.\u0275prov=de({token:C_,factory:function(e){return C_.\u0275fac(e)},providedIn:"root"}),C_.ngInjectableDef=de({factory:function(){return new C_(hr(hl),hr(Ou))},token:C_,providedIn:"root"}),C_=Vy([Gy(0,gr(hl))],C_);var S_=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},M_=function(e,t,n){t&&t.addEventListener(n,function(t){e.next(null!=t?t.detail:void 0)})},E_=function(){function e(t,n,r,i){var a=this;_classCallCheck(this,e),this.location=n,this.serializer=r,this.router=i,this.direction=L_,this.animated=I_,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(function(e){if(e instanceof em){var t=e.restoredState?e.restoredState.navigationId:e.id;a.guessDirection=t<a.lastNavId?"back":"forward",a.guessAnimation=e.restoredState?void 0:a.guessDirection,a.lastNavId="forward"===a.guessDirection?e.id:t}}),t.backButton.subscribeWithPriority(0,function(e){a.pop(),e()})}return _createClass(e,[{key:"navigateForward",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setDirection("forward",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}},{key:"navigateBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}},{key:"navigateRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setDirection("root",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}},{key:"back",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{animated:!0,animationDirection:"back"};return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}},{key:"pop",value:function(){return qy(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.topOutlet;case 1:if(e.t0=t,!e.t0){e.next=6;break}return e.next=5,t.pop();case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=10;break}t=t.parentOutlet;case 8:e.next=1;break;case 10:case"end":return e.stop()}},e,this)}))}},{key:"setDirection",value:function(e,t,n,r){this.direction=e,this.animated=T_(e,t,n),this.animationBuilder=r}},{key:"setTopOutlet",value:function(e){this.topOutlet=e}},{key:"consumeTransition",value:function(){var e,t="root",n=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,e=this.guessAnimation):(e=this.animated,t=this.direction),this.direction=L_,this.animated=I_,this.animationBuilder=void 0,{direction:t,animation:e,animationBuilder:n}}},{key:"navigate",value:function(e,t){if(Array.isArray(e))return this.router.navigate(e,t);var n=this.serializer.parse(e.toString());return void 0!==t.queryParams&&(n.queryParams=Object.assign({},t.queryParams)),void 0!==t.fragment&&(n.fragment=t.fragment),this.router.navigateByUrl(n,t)}}]),e}();E_.\u0275fac=function(e){return new(e||E_)(hr(C_),hr(Ml),hr(Ym),hr(Lv,8))},E_.\u0275prov=de({token:E_,factory:function(e){return E_.\u0275fac(e)},providedIn:"root"}),E_.ngInjectableDef=de({factory:function(){return new E_(hr(C_),hr(Ml),hr(Ym),hr(Lv,8))},token:E_,providedIn:"root"}),E_=Vy([Gy(3,vr())],E_);var T_=function(e,t,n){if(!1!==t){if(void 0!==n)return n;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},L_="auto",I_=void 0,D_=function(e,t,n){n.forEach(function(n){return e[n]=n_(t,n)})};function A_(e){return function(t){return e.inputs&&function(e,t){var n=e.prototype;t.forEach(function(e){Object.defineProperty(n,e,{get:function(){return this.el[e]},set:function(t){var n=this;this.z.runOutsideAngular(function(){return n.el[e]=t})}})})}(t,e.inputs),e.methods&&function(e,t){var n=e.prototype;t.forEach(function(e){n[e]=function(){var t=this,n=arguments;return this.z.runOutsideAngular(function(){return t.el[e].apply(t.el,n)})}})}(t,e.methods),t}}var P_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-app"]],ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e}(),O_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","mode"]})],e)}(),N_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionFocus","ionBlur"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e)}(),R_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["collapse"]})],e)}(),F_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],e)}(),Y_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["mode"]})],e)}(),z_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","mode","translucent"]})],e)}(),j_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","mode"]})],e)}(),B_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","mode"]})],e)}(),H_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","disabled","mode","outline"]})],e)}(),U_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],e)}(),V_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e)}(),G_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",dayNames:"dayNames",dayShortNames:"dayShortNames",dayValues:"dayValues",disabled:"disabled",displayFormat:"displayFormat",displayTimezone:"displayTimezone",doneText:"doneText",hourValues:"hourValues",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthNames:"monthNames",monthShortNames:"monthShortNames",monthValues:"monthValues",name:"name",pickerFormat:"pickerFormat",pickerOptions:"pickerOptions",placeholder:"placeholder",readonly:"readonly",value:"value",yearValues:"yearValues"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["cancelText","dayNames","dayShortNames","dayValues","disabled","displayFormat","displayTimezone","doneText","hourValues","max","min","minuteValues","mode","monthNames","monthShortNames","monthValues","name","pickerFormat","pickerOptions","placeholder","readonly","value","yearValues"],methods:["open"]})],e)}(),q_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],e)}(),W_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionFocus","ionBlur"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],e)}(),$_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-footer"]],inputs:{mode:"mode",translucent:"translucent"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["mode","translucent"]})],e)}(),X_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["collapse","mode","translucent"]})],e)}(),Z_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-icon"]],inputs:{ariaHidden:"ariaHidden",ariaLabel:"ariaLabel",color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["ariaHidden","ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e)}(),J_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e)}(),K_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e)}(),Q_=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","mode","position"]})],e)}(),eb=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e)}(),tb=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionFocus","ionBlur"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-radio"]],inputs:{color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","disabled","mode","name","value"]})],e)}(),nb=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionChange"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",name:"name",value:"value"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["allowEmptySelection","name","value"]})],e)}(),rb=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionChange","ionFocus","ionBlur"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","snaps","step","ticks","value"]})],e)}(),ib=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],e)}(),ab=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],e)}(),ob=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["disabled","value"]})],e)}(),sb=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","duration","name","paused"]})],e)}(),ub=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","size"]})],e)}(),lb=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement,D_(this,this.el,["ionChange","ionFocus","ionBlur"])});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["checked","color","disabled","mode","name","value"]})],e)}(),cb=function(){var e=_createClass(function e(t,n,r){_classCallCheck(this,e),this.z=r,t.detach(),this.el=n.nativeElement});return e.\u0275fac=function(t){return new(t||e)(Za(Cs),Za(es),Za(Ou))},e.\u0275cmp=Ue({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:l_,decls:1,vars:0,template:function(e,t){1&e&&(po(),mo(0))},encapsulation:2,changeDetection:0}),e=Vy([A_({inputs:["color","mode"]})],e)}(),hb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e,t){var n=db();return n?n.get(e,t):null}},{key:"getBoolean",value:function(e,t){var n=db();return!!n&&n.getBoolean(e,t)}},{key:"getNumber",value:function(e,t){var n=db();return n?n.getNumber(e,t):0}},{key:"set",value:function(e,t){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");var n=db();n&&n.set(e,t)}}]),e}();hb.\u0275fac=function(e){return new(e||hb)},hb.\u0275prov=de({token:hb,factory:function(e){return hb.\u0275fac(e)},providedIn:"root"}),hb.ngInjectableDef=de({factory:function(){return new hb},token:hb,providedIn:"root"});var fb=new qn("USERCONFIG"),db=function(){if("undefined"!=typeof window){var e=window.Ionic;if(e&&e.config)return e.config}return null},pb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.data=t}return _createClass(e,[{key:"get",value:function(e){return this.data[e]}}]),e}(),mb=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.zone=t,this.appRef=n}return _createClass(e,[{key:"create",value:function(e,t,n){return new gb(e,t,n,this.appRef,this.zone)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Ou),hr(Qu))},e.\u0275prov=de({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(),gb=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.resolver=t,this.injector=n,this.location=r,this.appRef=i,this.zone=a,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}return _createClass(e,[{key:"attachViewToDom",value:function(e,t,n,r){var i=this;return this.zone.run(function(){return new Promise(function(a){a(vb(i.zone,i.resolver,i.injector,i.location,i.appRef,i.elRefMap,i.elEventsMap,e,t,n,r))})})}},{key:"removeViewFromDom",value:function(e,t){var n=this;return this.zone.run(function(){return new Promise(function(e){var r=n.elRefMap.get(t);if(r){r.destroy(),n.elRefMap.delete(t);var i=n.elEventsMap.get(t);i&&(i(),n.elEventsMap.delete(t))}e()})})}}]),e}(),vb=function(e,t,n,r,i,a,o,s,u,l,c){var h=t.resolveComponentFactory(u),f=Ia.create({providers:wb(l),parent:n}),d=r?r.createComponent(h,r.length,f):h.create(f),p=d.instance,m=d.location.nativeElement;if(l&&Object.assign(p,l),c){var g,v=_createForOfIteratorHelper(c);try{for(v.s();!(g=v.n()).done;){var y=g.value;m.classList.add(y)}}catch(b){v.e(b)}finally{v.f()}}var _=_b(e,p,m);return s.appendChild(m),r||i.attachView(d.hostView),d.changeDetectorRef.reattach(),a.set(m,d),o.set(m,_),m},yb=[Ky.L,Ky.a,Ky.b,Ky.c,Ky.d],_b=function(e,t,n){return e.run(function(){var e=yb.filter(function(e){return"function"==typeof t[e]}).map(function(e){var r=function(n){return t[e](n.detail)};return n.addEventListener(e,r),function(){return n.removeEventListener(e,r)}});return function(){return e.forEach(function(e){return e()})}})},bb=new qn("NavParamsToken"),wb=function(e){return[{provide:bb,useValue:e},{provide:pb,useFactory:xb,deps:[bb]}]},xb=function(e){return new pb(e)},kb=function(e,t){return(e=e.filter(function(e){return e.stackId!==t.stackId})).push(t),e},Cb=function(e,t){var n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},Sb=function(e,t){if(e)for(var n=Mb(t),r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},Mb=function(e){return e.split("/").map(function(e){return e.trim()}).filter(function(e){return""!==e})},Eb=function(e){e&&(e.ref.destroy(),e.unlistenEvents())},Tb=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=a,this.location=o,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?Mb(t):void 0}return _createClass(e,[{key:"createView",value:function(e,t){var n=Cb(this.router,t),r=e&&e.location&&e.location.nativeElement,i=_b(this.zone,e.instance,r);return{id:this.nextId++,stackId:Sb(this.tabsPrefix,n),unlistenEvents:i,element:r,ref:e,url:n}}},{key:"getExistingView",value:function(e){var t=Cb(this.router,e),n=this.views.find(function(e){return e.url===t});return n&&n.ref.changeDetectorRef.reattach(),n}},{key:"setActive",value:function(e){var t=this,n=this.navCtrl.consumeTransition(),r=n.direction,i=n.animation,a=n.animationBuilder,o=this.activeView,s=function(e,t){return!t||e.stackId!==t.stackId}(e,o);s&&(r="back",i=void 0);var u,l=this.views.slice(),c=this.router;c.getCurrentNavigation?u=c.getCurrentNavigation():c.navigations&&c.navigations.value&&(u=c.navigations.value),u&&u.extras&&u.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);var h=this.views.includes(e),f=this.insertView(e,r);h||e.ref.changeDetectorRef.detectChanges();var d=e.animationBuilder;return void 0===a&&"back"===r&&!s&&void 0!==d&&(a=d),o&&(o.animationBuilder=a),this.zone.runOutsideAngular(function(){return t.wait(function(){return o&&o.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),t.transition(e,o,i,t.canGoBack(1),!1,a).then(function(){return Lb(e,f,l,t.location)}).then(function(){return{enteringView:e,direction:r,animation:i,tabSwitch:s}})})})}},{key:"canGoBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getActiveStackId();return this.getStack(t).length>e}},{key:"pop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getActiveStackId();return this.zone.run(function(){var r=t.getStack(n);if(r.length<=e)return Promise.resolve(!1);var i=r[r.length-e-1],a=i.url,o=i.savedData;if(o){var s=o.get("primary");s&&s.route&&s.route._routerState&&s.route._routerState.snapshot&&s.route._routerState.snapshot.url&&(a=s.route._routerState.snapshot.url)}var u=t.navCtrl.consumeTransition().animationBuilder;return t.navCtrl.navigateBack(a,Object.assign({},i.savedExtras,{animation:u})).then(function(){return!0})})}},{key:"startBackTransition",value:function(){var e=this,t=this.activeView;if(t){var n=this.getStack(t.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(function(){return e.transition(r,t,"back",e.canGoBack(2),!0,i)})}return Promise.resolve()}},{key:"endBackTransition",value:function(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ib(this.activeView,this.views,this.views,this.location)}},{key:"getLastUrl",value:function(e){var t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}},{key:"getRootUrl",value:function(e){var t=this.getStack(e);return t.length>0?t[0]:void 0}},{key:"getActiveStackId",value:function(){return this.activeView?this.activeView.stackId:void 0}},{key:"hasRunningTask",value:function(){return void 0!==this.runningTask}},{key:"destroy",value:function(){this.containerEl=void 0,this.views.forEach(Eb),this.activeView=void 0,this.views=[]}},{key:"getStack",value:function(e){return this.views.filter(function(t){return t.stackId===e})}},{key:"insertView",value:function(e,t){return this.activeView=e,this.views=function(e,t,n){return"root"===n?kb(e,t):"forward"===n?function(e,t){return e.indexOf(t)>=0?e=e.filter(function(e){return e.stackId!==t.stackId||e.id<=t.id}):e.push(t),e}(e,t):function(e,t){return e.indexOf(t)>=0?e.filter(function(e){return e.stackId!==t.stackId||e.id<=t.id}):kb(e,t)}(e,t)}(this.views,e,t),this.views.slice()}},{key:"transition",value:function(e,t,n,r,i,a){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);var o=e?e.element:void 0,s=t?t.element:void 0,u=this.containerEl;return o&&o!==s&&(o.classList.add("ion-page"),o.classList.add("ion-page-invisible"),o.parentElement!==u&&u.appendChild(o),u.commit)?u.commit(o,s,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:i,animationBuilder:a}):Promise.resolve(!1)}},{key:"wait",value:function(e){return qy(this,void 0,void 0,_regeneratorRuntime().mark(function t(){var n,r=this;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=void 0!==this.runningTask,!t.t0){t.next=5;break}return t.next=4,this.runningTask;case 4:this.runningTask=void 0;case 5:return n=this.runningTask=e(),t.abrupt("return",(n.finally(function(){return r.runningTask=void 0}),n));case 7:case"end":return t.stop()}},t,this)}))}}]),e}(),Lb=function(e,t,n,r){return"function"==typeof requestAnimationFrame?new Promise(function(i){requestAnimationFrame(function(){Ib(e,t,n,r),i()})}):Promise.resolve()},Ib=function(e,t,n,r){n.filter(function(e){return!t.includes(e)}).forEach(Eb),t.forEach(function(t){var n=r.path().split("?")[0].split("#")[0];if(t!==e&&t.url!==n){var i=t.element;i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden"),t.ref.changeDetectorRef.detach()}})},Db=function(){var e=function(){function e(t,n,r,i,a,o,s,u,l,c,h,f,d){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.config=o,this.navCtrl=s,this.parentOutlet=d,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new sp(null),this.stackEvents=new lu,this.activateEvents=new lu,this.deactivateEvents=new lu,this.nativeEl=l.nativeElement,this.name=i||gm,this.tabsPrefix="true"===a?Cb(c,f):void 0,this.stackCtrl=new Tb(this.tabsPrefix,this.nativeEl,c,s,h,u),t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"animation",set:function(e){this.nativeEl.animation=e}},{key:"animated",set:function(e){this.nativeEl.animated=e}},{key:"swipeGesture",set:function(e){var t=this;this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:function(){return t.stackCtrl.canGoBack(1)&&!t.stackCtrl.hasRunningTask()},onStart:function(){return t.stackCtrl.startBackTransition()},onEnd:function(e){return t.stackCtrl.endBackTransition(e)}}:void 0}},{key:"ngOnDestroy",value:function(){this.stackCtrl.destroy()}},{key:"getContext",value:function(){return this.parentContexts.getContext(this.name)}},{key:"ngOnInit",value:function(){var e=this;if(!this.activated){var t=this.getContext();t&&t.route&&this.activateWith(t.route,t.resolver||null)}new Promise(function(t){return(0,Jy.c)(e.nativeEl,t)}).then(function(){void 0===e._swipeGesture&&(e.swipeGesture=e.config.getBoolean("swipeBackEnabled","ios"===e.nativeEl.mode))})}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){throw new Error("incompatible reuse strategy")}},{key:"attach",value:function(e,t){throw new Error("incompatible reuse strategy")}},{key:"deactivate",value:function(){if(this.activated){if(this.activatedView){var e=this.getContext();this.activatedView.savedData=new Map(e.children.contexts);var t=this.activatedView.savedData.get("primary");if(t&&e.route&&(t.route=Object.assign({},e.route)),this.activatedView.savedExtras={},e.route){var n=e.route.snapshot;this.activatedView.savedExtras.queryParams=n.queryParams,this.activatedView.savedExtras.fragment=n.fragment}}var r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}},{key:"activateWith",value:function(e,t){var n=this;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var r,i=this.stackCtrl.getExistingView(e);if(i){r=this.activated=i.ref;var a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(r.instance,e)}else{var o=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,u=new sp(null),l=this.createActivatedRouteProxy(u,e),c=new Ab(l,s,this.location.injector);r=this.activated=this.location.createComponent(o,this.location.length,c),u.next(r.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(r.instance,l),this.currentActivatedRoute$.next({component:r.instance,activatedRoute:e})}this.activatedView=i,this.stackCtrl.setActive(i).then(function(e){n.navCtrl.setTopOutlet(n),n.activateEvents.emit(r.instance),n.stackEvents.emit(e)})}},{key:"canGoBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return this.stackCtrl.canGoBack(e,t)}},{key:"pop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return this.stackCtrl.pop(e,t)}},{key:"getLastUrl",value:function(e){var t=this.stackCtrl.getLastUrl(e);return t?t.url:void 0}},{key:"getLastRouteView",value:function(e){return this.stackCtrl.getLastUrl(e)}},{key:"getRootView",value:function(e){return this.stackCtrl.getRootUrl(e)}},{key:"getActiveStackId",value:function(){return this.stackCtrl.getActiveStackId()}},{key:"createActivatedRouteProxy",value:function(e,t){var n=new sg;return n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,n._paramMap=this.proxyObservable(e,"paramMap"),n._queryParamMap=this.proxyObservable(e,"queryParamMap"),n.url=this.proxyObservable(e,"url"),n.params=this.proxyObservable(e,"params"),n.queryParams=this.proxyObservable(e,"queryParams"),n.fragment=this.proxyObservable(e,"fragment"),n.data=this.proxyObservable(e,"data"),n}},{key:"proxyObservable",value:function(e,t){var n=this;return e.pipe(Lp(function(e){return!!e}),_p(function(e){return n.currentActivatedRoute$.pipe(Lp(function(t){return null!==t&&t.component===e}),_p(function(e){return e&&e.activatedRoute[t]}),function(e){return e.lift(new o_(void 0,void 0))})}))}},{key:"updateActivatedRouteProxy",value:function(e,t){var n=this.proxyMap.get(e);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,this.currentActivatedRoute$.next({component:e,activatedRoute:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(xv),Za(Ns),Za(Zo),zn("name"),zn("tabs"),Za(hb),Za(E_),Za(Ml),Za(es),Za(Lv),Za(Ou),Za(sg),Za(e,12))},e.\u0275dir=Xe({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Vy([hu()],e.prototype,"stackEvents",void 0),Vy([hu("activate")],e.prototype,"activateEvents",void 0),Vy([hu("deactivate")],e.prototype,"deactivateEvents",void 0),e=Vy([Gy(3,Gn("name")),Gy(4,vr()),Gy(4,Gn("tabs")),Gy(12,yr()),Gy(12,vr())],e)}(),Ab=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===sg?this.route:e===xv?this.childContexts:this.parent.get(e,t)}}]),e}(),Pb=function(){function e(t){_classCallCheck(this,e),this.ctrl=t}return _createClass(e,[{key:"create",value:function(e){return this.ctrl.create(e||{})}},{key:"dismiss",value:function(e,t,n){return this.ctrl.dismiss(e,t,n)}},{key:"getTop",value:function(){return this.ctrl.getTop()}}]),e}(),Ob=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,e_.b)}return _createClass(n)}(Pb);Ob.\u0275fac=function(e){return new(e||Ob)},Ob.\u0275prov=de({token:Ob,factory:function(e){return Ob.\u0275fac(e)},providedIn:"root"}),Ob.ngInjectableDef=de({factory:function(){return new Ob},token:Ob,providedIn:"root"});var Nb=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,e_.a)}return _createClass(n)}(Pb);Nb.\u0275fac=function(e){return new(e||Nb)},Nb.\u0275prov=de({token:Nb,factory:function(e){return Nb.\u0275fac(e)},providedIn:"root"}),Nb.ngInjectableDef=de({factory:function(){return new Nb},token:Nb,providedIn:"root"});var Rb=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,e_.l)}return _createClass(n)}(Pb);Rb.\u0275fac=function(e){return new(e||Rb)},Rb.\u0275prov=de({token:Rb,factory:function(e){return Rb.\u0275fac(e)},providedIn:"root"}),Rb.ngInjectableDef=de({factory:function(){return new Rb},token:Rb,providedIn:"root"});var Fb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"open",value:function(e){return Qy.m.open(e)}},{key:"close",value:function(e){return Qy.m.close(e)}},{key:"toggle",value:function(e){return Qy.m.toggle(e)}},{key:"enable",value:function(e,t){return Qy.m.enable(e,t)}},{key:"swipeGesture",value:function(e,t){return Qy.m.swipeGesture(e,t)}},{key:"isOpen",value:function(e){return Qy.m.isOpen(e)}},{key:"isEnabled",value:function(e){return Qy.m.isEnabled(e)}},{key:"get",value:function(e){return Qy.m.get(e)}},{key:"getOpen",value:function(){return Qy.m.getOpen()}},{key:"getMenus",value:function(){return Qy.m.getMenus()}}]),e}();Fb.\u0275fac=function(e){return new(e||Fb)},Fb.\u0275prov=de({token:Fb,factory:function(e){return Fb.\u0275fac(e)},providedIn:"root"}),Fb.ngInjectableDef=de({factory:function(){return new Fb},token:Fb,providedIn:"root"});var Yb=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,e_.p)}return _createClass(n)}(Pb);Yb.\u0275fac=function(e){return new(e||Yb)},Yb.\u0275prov=de({token:Yb,factory:function(e){return Yb.\u0275fac(e)},providedIn:"root"}),Yb.ngInjectableDef=de({factory:function(){return new Yb},token:Yb,providedIn:"root"});var zb=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e_.m)).angularDelegate=e,a.resolver=r,a.injector=i,a}return _createClass(n,[{key:"create",value:function(e){return _get(_getPrototypeOf(n.prototype),"create",this).call(this,Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}]),n}(Pb);return e.\u0275fac=function(t){return new(t||e)(hr(mb),hr(Zo),hr(Ia))},e.\u0275prov=de({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(),jb=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e_.c)).angularDelegate=e,a.resolver=r,a.injector=i,a}return _createClass(n,[{key:"create",value:function(e){return _get(_getPrototypeOf(n.prototype),"create",this).call(this,Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}]),n}(Pb);return e.\u0275fac=function(t){return new(t||e)(hr(mb),hr(Zo),hr(Ia))},e.\u0275prov=de({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(),Bb=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,e_.t)}return _createClass(n)}(Pb);Bb.\u0275fac=function(e){return new(e||Bb)},Bb.\u0275prov=de({token:Bb,factory:function(e){return Bb.\u0275fac(e)},providedIn:"root"}),Bb.ngInjectableDef=de({factory:function(){return new Bb},token:Bb,providedIn:"root"});var Hb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"read",value:function(e){Ub().read(e)}},{key:"write",value:function(e){Ub().write(e)}}]),e}();Hb.\u0275fac=function(e){return new(e||Hb)},Hb.\u0275prov=de({token:Hb,factory:function(e){return Hb.\u0275fac(e)},providedIn:"root"}),Hb.ngInjectableDef=de({factory:function(){return new Hb},token:Hb,providedIn:"root"});var Ub=function(){var e="undefined"!=typeof window?window:null;if(null!=e){var t=e.Ionic;return t&&t.queue?t.queue:{read:function(t){return e.requestAnimationFrame(t)},write:function(t){return e.requestAnimationFrame(t)}}}return{read:function(e){return e()},write:function(e){return e()}}},Vb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e){return(0,Wy.c)(e)}},{key:"easingTime",value:function(e,t,n,r,i){return(0,$y.g)(e,t,n,r,i)}}]),e}();Vb.\u0275fac=function(e){return new(e||Vb)},Vb.\u0275prov=de({token:Vb,factory:function(e){return Vb.\u0275fac(e)},providedIn:"root"}),Vb.ngInjectableDef=de({factory:function(){return new Vb},token:Vb,providedIn:"root"});var Gb=function(){function e(t){_classCallCheck(this,e),this.zone=t}return _createClass(e,[{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n&&Object.getOwnPropertyNames(e).forEach(function(n){if("function"==typeof e[n]){var r=e[n];e[n]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.zone.run(function(){return r.apply(void 0,n)})}}}),(0,Xy.createGesture)(e)}}]),e}();Gb.\u0275fac=function(e){return new(e||Gb)(hr(Ou))},Gb.\u0275prov=de({token:Gb,factory:function(e){return Gb.\u0275fac(e)},providedIn:"root"}),Gb.ngInjectableDef=de({factory:function(){return new Gb(hr(Ou))},token:Gb,providedIn:"root"});var qb,Wb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"shouldAttach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){if(e.routeConfig!==t.routeConfig)return!1;var n=e.params,r=t.params,i=Object.keys(n),a=Object.keys(r);if(i.length!==a.length)return!1;for(var o=0,s=i;o<s.length;o++){var u=s[o];if(r[u]!==n[u])return!1}return!0}}]),e}(),$b=function(e,t,r){return function(){if(t.defaultView&&"undefined"!=typeof window){!function(e){var t=window,n=t.Ionic;n&&n.config&&"Object"!==n.config.constructor.name||(t.Ionic=t.Ionic||{},t.Ionic.config=Object.assign(Object.assign({},t.Ionic.config),e))}(Object.assign({},e,{_zoneGate:function(e){return r.run(e)}}));var i="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var e=[];if("undefined"!=typeof window){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(n.e(6748).then(n.t.bind(n,15141,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(i){return!1}}()||"undefined"==typeof WeakMap)&&e.push(n.e(2214).then(n.t.bind(n,47656,23)))}return Promise.all(e)}().then(function(){return function(e,t){return"undefined"==typeof window?Promise.resolve():(t_.C&&t_.C.supports&&t_.C.supports("color","var(--c)")?(0,t_.a)():n.e(1843).then(n.t.bind(n,95902,23)).then(function(){return(t_.p.$cssShim$=t_.w.__cssshim)?t_.p.$cssShim$.i():0})).then(function(){return u_(),(0,t_.b)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ariaHidden":[513,"aria-hidden"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),t)})}(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:c_,jmp:function(e){return r.runOutsideAngular(e)},ael:function(e,t,n,r){e[i](t,n,r)},rel:function(e,t,n,r){e.removeEventListener(t,n,r)}})})}}},Xb=qb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(e){return{ngModule:qb,providers:[{provide:fb,useValue:e},{provide:du,useFactory:$b,multi:!0,deps:[fb,hl,Ou]}]}}}]),e}();function Zb(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())})}Xb.\u0275fac=function(e){return new(e||Xb)},Xb.\u0275mod=We({type:Xb}),Xb.\u0275inj=pe({providers:[mb,zb,jb],imports:[[Lc]]});var Jb,Kb=n(8239),Qb=n(92430),ew=n.n(Qb),tw={SecureStorage:"ionicSecureStorage",IndexedDB:ew().INDEXEDDB,LocalStorage:ew().LOCALSTORAGE},nw={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[tw.SecureStorage,tw.IndexedDB,tw.LocalStorage]},rw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nw;_classCallCheck(this,e),this._db=null,this._secureStorageDriver=null;var n=Object.assign({},nw,t||{});this._config=n}return _createClass(e,[{key:"create",value:function(){var e=this;return(0,Kb.Z)(_regeneratorRuntime().mark(function t(){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=ew().createInstance(e._config),e._db=n,t.next=4,n.setDriver(e._config.driverOrder||[]);case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}},t)}))()}},{key:"defineDriver",value:function(e){var t=this;return(0,Kb.Z)(_regeneratorRuntime().mark(function n(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(e._driver===tw.SecureStorage&&(t._secureStorageDriver=e),ew().defineDriver(e)));case 1:case"end":return n.stop()}},n)}))()}},{key:"driver",get:function(){var e;return(null===(e=this._db)||void 0===e?void 0:e.driver())||null}},{key:"assertDb",value:function(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}},{key:"get",value:function(e){return this.assertDb().getItem(e)}},{key:"set",value:function(e,t){return this.assertDb().setItem(e,t)}},{key:"remove",value:function(e){return this.assertDb().removeItem(e)}},{key:"clear",value:function(){return this.assertDb().clear()}},{key:"length",value:function(){return this.assertDb().length()}},{key:"keys",value:function(){return this.assertDb().keys()}},{key:"forEach",value:function(e){return this.assertDb().iterate(e)}},{key:"setEncryptionKey",value:function(e){var t;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(t=this._secureStorageDriver)||void 0===t||t.setEncryptionKey(e)}}]),e}(),iw=new qn("STORAGE_CONFIG_TOKEN"),aw=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"create",value:function(){return Zb(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this);case 1:case"end":return e.stop()}},e,this)}))}},{key:"defineDriver",value:function(){return Zb(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}},{key:"driver",get:function(){return"noop"}},{key:"get",value:function(e){return Zb(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}))}},{key:"set",value:function(e,t){return Zb(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}},{key:"remove",value:function(e){return Zb(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}},{key:"clear",value:function(){return Zb(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}},{key:"length",value:function(){return Zb(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0);case 1:case"end":return e.stop()}},e)}))}},{key:"keys",value:function(){return Zb(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)}))}},{key:"forEach",value:function(e){return Zb(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}},{key:"setEncryptionKey",value:function(e){}}]),n}(rw);function ow(e){return function(e){return"server"===e}(this.platformId)?new aw:new rw(e)}var sw=Jb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{ngModule:Jb,providers:[{provide:iw,useValue:e},{provide:rw,useFactory:ow,deps:[iw]}]}}}]),e}();function uw(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())})}sw.\u0275fac=function(e){return new(e||sw)},sw.\u0275mod=We({type:sw}),sw.\u0275inj=pe({});var lw=n(68384),cw=(0,lw.fo)("Device",{web:function(){return n.e(7811).then(n.bind(n,47811)).then(function(e){return new e.DeviceWeb})}}),hw=(0,lw.fo)("SplashScreen",{web:function(){return n.e(8962).then(n.bind(n,78962)).then(function(e){return new e.SplashScreenWeb})}}),fw=_createClass(function e(){_classCallCheck(this,e)}),dw=_createClass(function e(){_classCallCheck(this,e)}),pw=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),a=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(a):n.headers.set(i,[a])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var a=this.headers.get(t);if(!a)return;0===(a=a.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),mw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return yw(e)}},{key:"encodeValue",value:function(e){return yw(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}(),gw=/%(\d[a-f0-9])/gi,vw={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function yw(e){return encodeURIComponent(e).replace(gw,function(e,t){var n;return null!==(n=vw[t])&&void 0!==n?n:e})}function _w(e){return"".concat(e)}var bw=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new mw,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var r=e.indexOf("="),i=_slicedToArray(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),a=i[0],o=i[1],s=n.get(a)||[];s.push(o),n.set(a,s)}),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(_w(t.value)),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(_w(t.value));-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}(),ww=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"set",value:function(e,t){return this.map.set(e,t),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),e}();function xw(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function kw(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Cw(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Sw=function(){function e(t,n,r,i){var a;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new pw),this.context||(this.context=new ww),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new bw,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:xw(this.body)||kw(this.body)||Cw(this.body)||function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bw?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Cw(this.body)?null:kw(this.body)?this.body.type||null:xw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bw?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,i=n.url||this.url,a=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,l=n.headers||this.headers,c=n.params||this.params,h=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce(function(e,t){return e.set(t,n.setHeaders[t])},l)),n.setParams&&(c=Object.keys(n.setParams).reduce(function(e,t){return e.set(t,n.setParams[t])},c)),new e(r,i,o,{params:c,headers:l,context:h,reportProgress:u,responseType:a,withCredentials:s})}}]),e}(),Mw=((Mw=Mw||{})[Mw.Sent=0]="Sent",Mw[Mw.UploadProgress=1]="UploadProgress",Mw[Mw.ResponseHeader=2]="ResponseHeader",Mw[Mw.DownloadProgress=3]="DownloadProgress",Mw[Mw.Response=4]="Response",Mw[Mw.User=5]="User",Mw),Ew=_createClass(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new pw,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}),Tw=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=Mw.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Ew),Lw=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=Mw.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Ew),Iw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return _createClass(n)}(Ew);function Dw(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Aw=function(){var e=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r,i,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof Sw?n=e:(r=o.headers instanceof pw?o.headers:new pw(o.headers),o.params&&(i=o.params instanceof bw?o.params:new bw({fromObject:o.params})),n=new Sw(e,t,void 0!==o.body?o.body:null,{headers:r,context:o.context,params:i,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials}));var s=op(n).pipe(Np(function(e){return a.handler.handle(e)}));if(e instanceof Sw||"events"===o.observe)return s;var u=s.pipe(Lp(function(e){return e instanceof Lw}));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(E(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(E(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(E(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(E(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new bw).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Dw(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Dw(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Dw(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(fw))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Pw=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),Ow=new qn("HTTP_INTERCEPTORS"),Nw=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Rw=/^\)\]\}',?\n/,Fw=function(){var e=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var a=e.responseType.toLowerCase();r.responseType="json"!==a?a:"text"}var o=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new pw(r.getAllResponseHeaders()),a=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new Tw({headers:i,status:t,statusText:n,url:a})},l=function(){var t=u(),i=t.headers,a=t.status,o=t.statusText,s=t.url,l=null;204!==a&&(l=void 0===r.response?r.responseText:r.response),0===a&&(a=l?200:0);var c=a>=200&&a<300;if("json"===e.responseType&&"string"==typeof l){var h=l;l=l.replace(Rw,"");try{l=""!==l?JSON.parse(l):null}catch(f){l=h,c&&(c=!1,l={error:f,text:l})}}c?(n.next(new Lw({body:l,headers:i,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new Iw({error:l,headers:i,status:a,statusText:o,url:s||void 0}))},c=function(e){var t=u().url,i=new Iw({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:Mw.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&!!r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:Mw.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",f),null!==o&&r.upload&&r.upload.addEventListener("progress",d)),r.send(o),n.next({type:Mw.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",f),null!==o&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Rc))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Yw=new qn("XSRF_COOKIE_NAME"),zw=new qn("XSRF_HEADER_NAME"),jw=_createClass(function e(){_classCallCheck(this,e)}),Bw=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=lc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(hl),hr(_u),hr(Yw))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Hw=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(jw),hr(zw))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Uw=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(Ow,[]);this.chain=t.reduceRight(function(e,t){return new Pw(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(dw),hr(Ia))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Vw=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Hw,useClass:Nw}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Yw,useValue:t.cookieName}:[],t.headerName?{provide:zw,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({providers:[Hw,{provide:Ow,useExisting:Hw,multi:!0},{provide:jw,useClass:Bw},{provide:Yw,useValue:"XSRF-TOKEN"},{provide:zw,useValue:"X-XSRF-TOKEN"}]}),e}(),Gw=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({providers:[Aw,{provide:fw,useClass:Uw},Fw,{provide:dw,useExisting:Fw}],imports:[[Vw.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}();function qw(e){return!!e&&(e instanceof _||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var Ww=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){return this}}]),n}(f)),$w=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),Xw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$w.now;return _classCallCheck(this,n),(r=t.call(this,e,function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()})).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}($w),Zw=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(Xw))(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(Ww));function Jw(e,t){return new _(t?function(n){return t.schedule(Kw,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function Kw(e){var t=e.error;e.subscriber.error(t)}var Qw=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return op(this.value);case"E":return Jw(this.error);case"C":return vp()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();Qw.completeNotification=new Qw("C"),Qw.undefinedValueNotification=new Qw("N",void 0);var ex=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=a,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new tx(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(Qw.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(Qw.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Qw.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(m),tx=_createClass(function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}),nx=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=a,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new rx(this._getNow(),e)),this._trimBufferThenGetEvents()),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=r.length;if(this.closed)throw new w;if(this.isStopped||this.hasError?t=f.EMPTY:(this.observers.push(e),t=new x(this,e)),i&&e.add(e=new ex(e,i)),n)for(var o=0;o<a&&!e.closed;o++)e.next(r[o]);else for(var s=0;s<a&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||Zw).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,a=0;a<i&&!(e-r[a].time<n);)a++;return i>t&&(a=Math.max(a,i-t)),a>0&&r.splice(0,a),r}}]),n}(C),rx=_createClass(function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n});function ix(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,a=e.windowTime,o=void 0===a?Number.POSITIVE_INFINITY:a,s=e.refCount,u=e.scheduler,l=0,c=!1,h=!1;return function(e){var r;l++,!t||c?(c=!1,t=new nx(i,o,u),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){c=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}),h&&(n=void 0)):r=t.subscribe(this),this.add(function(){l--,r.unsubscribe(),r=void 0,n&&!h&&s&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)})}}(r))}}var ax=_createClass(function e(){_classCallCheck(this,e)}),ox=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTranslation",value:function(e){return op({})}}]),n}(ax);return e.\u0275fac=function(){var t;return function(n){return(t||(t=Fn(e)))(n||e)}}(),e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),sx=_createClass(function e(){_classCallCheck(this,e)}),ux=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"handle",value:function(e){return e.key}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function lx(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,a=typeof e;if(a==typeof t&&"object"==a){if(!Array.isArray(e)){if(Array.isArray(t))return!1;for(r in i=Object.create(null),e){if(!lx(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&void 0!==t[r])return!1;return!0}if(!Array.isArray(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!lx(e[r],t[r]))return!1;return!0}}return!1}function cx(e){return null!=e}function hx(e){return e&&"object"==typeof e&&!Array.isArray(e)}function fx(e,t){var n=Object.assign({},e);return hx(e)&&hx(t)&&Object.keys(t).forEach(function(r){hx(t[r])&&r in e?n[r]=fx(e[r],t[r]):Object.assign(n,_defineProperty({},r,t[r]))}),n}var dx=_createClass(function e(){_classCallCheck(this,e)}),px=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return _createClass(n,[{key:"interpolate",value:function(e,t){return"string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e}},{key:"getValue",value:function(e,t){var n="string"==typeof t?t.split("."):[t];t="";do{t+=n.shift(),!cx(e)||!cx(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t="")}while(n.length);return e}},{key:"interpolateFunction",value:function(e,t){return e(t)}},{key:"interpolateString",value:function(e,t){var n=this;return t?e.replace(this.templateMatcher,function(e,r){var i=n.getValue(t,r);return cx(i)?i:e}):e}}]),n}(dx);return e.\u0275fac=function(){var t;return function(n){return(t||(t=Fn(e)))(n||e)}}(),e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),mx=_createClass(function e(){_classCallCheck(this,e)}),gx=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"compile",value:function(e,t){return e}},{key:"compileTranslations",value:function(e,t){return e}}]),n}(mx);return e.\u0275fac=function(){var t;return function(n){return(t||(t=Fn(e)))(n||e)}}(),e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),vx=_createClass(function e(){_classCallCheck(this,e),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new lu,this.onLangChange=new lu,this.onDefaultLangChange=new lu}),yx=new qn("USE_STORE"),_x=new qn("USE_DEFAULT_LANG"),bx=new qn("DEFAULT_LANGUAGE"),wx=new qn("USE_EXTEND"),xx=function(){var e=function(){function e(t,n,r,i,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;_classCallCheck(this,e),this.store=t,this.currentLoader=n,this.compiler=r,this.parser=i,this.missingTranslationHandler=a,this.useDefaultLang=o,this.isolate=s,this.extend=u,this.pending=!1,this._onTranslationChange=new lu,this._onLangChange=new lu,this._onDefaultLangChange=new lu,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}return _createClass(e,[{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(e){this.isolate?this._currentLang=e:this.store.currentLang=e}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(e){this.isolate?this._langs=e:this.store.langs=e}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(e){this.isolate?this._translations=e:this.store.translations=e}},{key:"setDefaultLang",value:function(e){var t=this;if(e!==this.defaultLang){var n=this.retrieveTranslations(e);void 0!==n?(null==this.defaultLang&&(this.defaultLang=e),n.pipe(kp(1)).subscribe(function(n){t.changeDefaultLang(e)})):this.changeDefaultLang(e)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(e){var t=this;if(e===this.currentLang)return op(this.translations[e]);var n=this.retrieveTranslations(e);return void 0!==n?(this.currentLang||(this.currentLang=e),n.pipe(kp(1)).subscribe(function(n){t.changeLang(e)}),n):(this.changeLang(e),op(this.translations[e]))}},{key:"retrieveTranslations",value:function(e){var t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}},{key:"getTranslation",value:function(e){var t=this;this.pending=!0;var n=this.currentLoader.getTranslation(e).pipe(ix(1),kp(1));return this.loadingTranslations=n.pipe(E(function(n){return t.compiler.compileTranslations(n,e)}),ix(1),kp(1)),this.loadingTranslations.subscribe({next:function(n){t.translations[e]=t.extend&&t.translations[e]?Object.assign(Object.assign({},n),t.translations[e]):n,t.updateLangs(),t.pending=!1},error:function(e){t.pending=!1}}),n}},{key:"setTranslation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=this.compiler.compileTranslations(t,e),this.translations[e]=(n||this.extend)&&this.translations[e]?fx(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(e){var t=this;e.forEach(function(e){-1===t.langs.indexOf(e)&&t.langs.push(e)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(e,t,n){var r;if(t instanceof Array){var i,a={},o=!1,s=_createForOfIteratorHelper(t);try{for(s.s();!(i=s.n()).done;){var u=i.value;a[u]=this.getParsedResult(e,u,n),qw(a[u])&&(o=!0)}}catch(c){s.e(c)}finally{s.f()}return o?Zv(t.map(function(e){return qw(a[e])?a[e]:op(a[e])})).pipe(E(function(e){var n={};return e.forEach(function(e,r){n[t[r]]=e}),n})):a}if(e&&(r=this.parser.interpolate(this.parser.getValue(e,t),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),n)),void 0===r){var l={key:t,translateService:this};void 0!==n&&(l.interpolateParams=n),r=this.missingTranslationHandler.handle(l)}return void 0!==r?r:t}},{key:"get",value:function(e,t){var n=this;if(!cx(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Np(function(r){return qw(r=n.getParsedResult(r,e,t))?r:op(r)}));var r=this.getParsedResult(this.translations[this.currentLang],e,t);return qw(r)?r:op(r)}},{key:"getStreamOnTranslationChange",value:function(e,t){var n=this;if(!cx(e)||!e.length)throw new Error('Parameter "key" required');return mp(yp(function(){return n.get(e,t)}),this.onTranslationChange.pipe(_p(function(r){var i=n.getParsedResult(r.translations,e,t);return"function"==typeof i.subscribe?i:op(i)})))}},{key:"stream",value:function(e,t){var n=this;if(!cx(e)||!e.length)throw new Error('Parameter "key" required');return mp(yp(function(){return n.get(e,t)}),this.onLangChange.pipe(_p(function(r){var i=n.getParsedResult(r.translations,e,t);return qw(i)?i:op(i)})))}},{key:"instant",value:function(e,t){if(!cx(e)||!e.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],e,t);if(qw(n)){if(e instanceof Array){var r={};return e.forEach(function(t,n){r[e[n]]=e[n]}),r}return e}return n}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][e]=this.compiler.compile(t,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}},{key:"changeDefaultLang",value:function(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}},{key:"reloadLang",value:function(e){return this.resetLang(e),this.getTranslation(e)}},{key:"resetLang",value:function(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(vx),hr(ax),hr(mx),hr(dx),hr(sx),hr(_x),hr(yx),hr(wx),hr(bx))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),kx=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.translate=t,this._ref=n,this.value=""}return _createClass(e,[{key:"updateValue",value:function(e,t,n){var r=this,i=function(t){r.value=void 0!==t?t:e,r.lastKey=e,r._ref.markForCheck()};if(n){var a=this.translate.getParsedResult(n,e,t);qw(a.subscribe)?a.subscribe(i):i(a)}this.translate.get(e,t).subscribe(i)}},{key:"transform",value:function(e){var t,n=this;if(!e||!e.length)return e;for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(lx(e,this.lastKey)&&lx(i,this.lastParams))return this.value;if(cx(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){var o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{t=JSON.parse(o)}catch(s){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: ".concat(i[0]))}}else"object"==typeof i[0]&&!Array.isArray(i[0])&&(t=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,t),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(r){n.lastKey&&r.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(e,t,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(r){n.lastKey&&(n.lastKey=null,n.updateValue(e,t,r.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){n.lastKey&&(n.lastKey=null,n.updateValue(e,t))})),this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(xx,16),Za(Cs,16))},e.\u0275pipe=Ze({name:"translate",type:e,pure:!1}),e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Cx=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:ax,useClass:ox},t.compiler||{provide:mx,useClass:gx},t.parser||{provide:dx,useClass:px},t.missingTranslationHandler||{provide:sx,useClass:ux},vx,{provide:yx,useValue:t.isolate},{provide:_x,useValue:t.useDefaultLang},{provide:wx,useValue:t.extend},{provide:bx,useValue:t.defaultLanguage},xx]}}},{key:"forChild",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:ax,useClass:ox},t.compiler||{provide:mx,useClass:gx},t.parser||{provide:dx,useClass:px},t.missingTranslationHandler||{provide:sx,useClass:ux},{provide:yx,useValue:t.isolate},{provide:_x,useValue:t.useDefaultLang},{provide:wx,useValue:t.extend},{provide:bx,useValue:t.defaultLanguage},xx]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({}),e}(),Sx=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this.localStorage=t,this.platform=n,this.http=r,this.translate=i,this.user_info={uid:"",display_name:"",connected:!1,user:null,password:null,authType:null},this.changeset={id:"",last_changeset_activity:0,created_at:0,comment:""},this.eventConfigIsLoaded=new lu,this.freezeMapRenderer=!1,this.platforms=[],this.baseMapSources=null,this.currentZoom=void 0,this.selecableLayers=["marker","marker_changed","icon-change"],this.defautBaseMap={default:!0,description:"Satellite and aerial imagery.",i18n:!0,icon:"https://osmlab.github.io/editor-layer-index/sources/world/Bing.png",id:"Bing",license_url:"https://wiki.openstreetmap.org/wiki/Bing_Maps",max_zoom:22,min_zoom:1,name:"Bing Maps Aerial",no_tile_header:{"X-VE-Tile-Info":["no-tile"]},permission_osm:"explicit",privacy_policy_url:"https://privacy.microsoft.com/privacystatement",type:"bing",url:"https://www.bing.com/maps",tiles:["https://ecn.t0.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=587&mkt=en-gb&n=z","https://ecn.t1.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=587&mkt=en-gb&n=z","https://ecn.t2.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=587&mkt=en-gb&n=z","https://ecn.t3.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=587&mkt=en-gb&n=z"]},this.config={mapMarginBuffer:50,lockMapHeading:!0,followPosition:!0,defaultPrimarykeyWindows:"lastTags",basemap:this.defautBaseMap,filterWayByArea:!0,filterWayByLength:!0,changeSetComment:"",languageUi:window.navigator.language.split("-")[0]||null,languageTags:window.navigator.language.split("-")[0]||null,countryTags:window.navigator.language&&window.navigator.language.split("-")[1]?window.navigator.language.split("-")[1].toUpperCase():null,oldTagsIcon:{display:!0,year:4},displayFixmeIcon:!0,addSurveyDate:!0,isDevMode:!1,isDevServer:!1,checkedKey:"survey:date",isSelectableLine:!0,isSelectablePolygon:!1,passwordSaved:!0,lastView:{lng:0,lat:0,zoom:1,bearing:0},centerWhenGpsIsReady:!0,limitFeatures:1e4},this.currentTagsCountryChoice=[],this.geojsonIsLoadedFromCache=!1,this.appVersion={appName:"Osm Go!",appVersionCode:"12",appVersionNumber:"1.5.0"}}return _createClass(e,[{key:"getUserInfo",value:function(){return this.user_info}},{key:"setUserInfo",value:function(e){this.user_info=e,this.localStorage.set("user_info",this.user_info)}},{key:"resetUserInfo",value:function(){this.user_info={uid:"",display_name:"",connected:!1,user:null,password:null,authType:null},this.localStorage.set("user_info",this.user_info)}},{key:"getChangeset",value:function(){return this.changeset}},{key:"setChangeset",value:function(e,t,n,r){this.changeset={id:e,last_changeset_activity:n,created_at:t,comment:r},this.localStorage.set("changeset",this.changeset)}},{key:"updateChangesetLastActivity",value:function(){var e=Date.now();this.changeset.last_changeset_activity=e,this.localStorage.set("last_changeset_activity",e.toString())}},{key:"getI18nConfig$",value:function(){var e=this;return this.http.get("./assets/i18n/i18n.json").pipe(E(function(t){return e.i18nConfig=t,t}))}},{key:"getCountryConfig$",value:function(){var e=this;return this.http.get("./assets/countryCode.json").pipe(E(function(t){return e.countryConfig=t,t}))}},{key:"loadConfig$",value:function(e){var t=this;return R(this.localStorage.get("config")).pipe(E(function(e){if(e)for(var n in e)t.config[n]=e[n];else t.localStorage.set("config",t.config);return t.config.languageTags=t.config.languageTags||"en",t.config.countryTags=t.config.countryTags||"GB",t.setIsSelectableLine(t.config.isSelectableLine),t.setIsSelectablePolygon(t.config.isSelectablePolygon),t.config}))}},{key:"loadUserInfo$",value:function(){var e=this;return R(this.localStorage.get("user_info")).pipe(E(function(t){return e.user_info=t&&t.connected&&t.authType?t:{uid:"",display_name:"",connected:!1,user:null,password:null,authType:null},e.user_info}))}},{key:"loadChangeSet$",value:function(){var e=this;return R(this.localStorage.get("changeset")).pipe(E(function(t){return e.changeset=t||{id:"",last_changeset_activity:0,created_at:0,comment:e.getChangeSetComment()},e.changeset}))}},{key:"loadConfig2$",value:function(e){var t=this;return R(this.localStorage.get("config")).pipe(E(function(e){return uw(t,void 0,void 0,_regeneratorRuntime().mark(function t(){var n,r,i;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),e)for(n in e)this.config[n]=e[n];else this.localStorage.set("config",this.config);return this.config.languageTags=this.config.languageTags||"en",this.config.countryTags=this.config.countryTags||"GB",this.setIsSelectableLine(this.config.isSelectableLine),this.setIsSelectablePolygon(this.config.isSelectablePolygon),t.next=4,this.localStorage.get("user_info");case 4:return r=t.sent,this.user_info=r&&r.connected?r:{uid:"",display_name:"",connected:!1,user:null,password:null,authType:null},t.next=8,this.localStorage.get("changeset");case 8:return i=t.sent,t.abrupt("return",(this.changeset=i||{id:"",last_changeset_activity:0,created_at:0,comment:this.getChangeSetComment()},console.log({config:this.config,user_info:this.user_info,changeset:this.changeset}),{config:this.config,user_info:this.user_info,changeset:this.changeset}));case 10:case"end":return t.stop()}},t,this)}))}))}},{key:"loadAppVersion",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.appVersion.appVersionNumber="1.5.0",console.log(this.appVersion);case 1:case"end":return e.stop()}},e,this)}))}},{key:"getAppVersion",value:function(){return this.appVersion}},{key:"setMapMarginBuffer",value:function(e){this.config.mapMarginBuffer=e,this.localStorage.set("config",this.config)}},{key:"getMapMarginBuffer",value:function(){return this.config.mapMarginBuffer}},{key:"setLimitFeatures",value:function(e){this.config.limitFeatures=e,this.localStorage.set("config",this.config)}},{key:"getLimitFeatures",value:function(){return this.config.limitFeatures}},{key:"setChangeSetComment",value:function(e){this.config.changeSetComment=e,this.localStorage.set("config",this.config)}},{key:"getChangeSetComment",value:function(){return this.config.changeSetComment}},{key:"setLockMapHeading",value:function(e){this.config.lockMapHeading=e,this.localStorage.set("config",this.config)}},{key:"getLockMapHeading",value:function(){return this.config.lockMapHeading}},{key:"setFollowPosition",value:function(e){this.config.followPosition=e,this.localStorage.set("config",this.config)}},{key:"getFollowPosition",value:function(){return this.config.followPosition}},{key:"setDefaultPrimarykeyWindows",value:function(e){this.config.defaultPrimarykeyWindows=e,this.localStorage.set("config",this.config)}},{key:"getDefaultPrimarykeyWindows",value:function(){return this.config.defaultPrimarykeyWindows}},{key:"setBasemap",value:function(e){this.config.basemap=e,this.localStorage.set("config",this.config)}},{key:"getBasemap",value:function(){return this.config.basemap}},{key:"setFilterWayByArea",value:function(e){this.config.filterWayByArea=e,this.localStorage.set("config",this.config)}},{key:"getFilterWayByArea",value:function(){return this.config.filterWayByArea}},{key:"setFilterWayByLength",value:function(e){this.config.filterWayByLength=e,this.localStorage.set("config",this.config)}},{key:"getFilterWayByLength",value:function(){return this.config.filterWayByLength}},{key:"setUiLanguage",value:function(e){this.config.languageUi=e,this.translate.use(e),this.localStorage.set("config",this.config)}},{key:"getUiLanguage",value:function(){return this.config.languageUi}},{key:"setLanguageTags",value:function(e){this.config.languageTags=e,this.localStorage.set("config",this.config)}},{key:"setCountryTags",value:function(e){this.config.countryTags=e,this.localStorage.set("config",this.config)}},{key:"getOldTagsIcon",value:function(){return this.config.oldTagsIcon}},{key:"setOldTagsIcon",value:function(e,t){this.config.oldTagsIcon={display:e,year:t},this.localStorage.set("config",this.config)}},{key:"getDisplayFixmeIcon",value:function(){return this.config.displayFixmeIcon}},{key:"setDisplayFixmeIcon",value:function(e){this.config.displayFixmeIcon=e,this.localStorage.set("config",this.config)}},{key:"getAddSurveyDate",value:function(){return this.config.addSurveyDate}},{key:"setAddSurveyDate",value:function(e){this.config.addSurveyDate=e,this.localStorage.set("config",this.config)}},{key:"getCheckedKey",value:function(){return this.config.checkedKey}},{key:"setCheckedKey",value:function(e){this.config.checkedKey=e,this.localStorage.set("config",this.config)}},{key:"getIsDevMode",value:function(){return this.config.isDevMode}},{key:"setIsDevMode",value:function(e){this.config.isDevMode=e,this.localStorage.set("config",this.config)}},{key:"getIsDevServer",value:function(){return this.config.isDevServer}},{key:"setIsSelectableLine",value:function(e){var t=["way_line","way_line_changed"];this.config.isSelectableLine=e,this.localStorage.set("config",this.config);var n=this.selecableLayers.filter(function(e){return!t.includes(e)});e&&(n=[].concat(_toConsumableArray(n),t)),this.selecableLayers=_toConsumableArray(n)}},{key:"setIsSelectablePolygon",value:function(e){var t=["way_fill","way_fill_changed"];this.config.isSelectablePolygon=e,this.localStorage.set("config",this.config);var n=this.selecableLayers.filter(function(e){return!t.includes(e)});e&&(n=[].concat(_toConsumableArray(n),t)),this.selecableLayers=_toConsumableArray(n)}},{key:"setIsDevServer",value:function(e){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.config.isDevServer=e,t.next=3,this.localStorage.set("config",this.config);case 3:return t.next=5,this.localStorage.remove("geojson");case 5:return t.next=7,this.localStorage.remove("geojsonBbox");case 7:return t.next=9,this.localStorage.remove("user_info");case 9:return t.next=11,this.localStorage.remove("geojsonChanged");case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}},t,this)}))}},{key:"setPasswordSaved",value:function(e){this.config.passwordSaved=e,this.localStorage.set("config",this.config)}},{key:"setCenterWhenGpsIsReady",value:function(e){this.config.centerWhenGpsIsReady=e,this.localStorage.set("config",this.config)}},{key:"setLastView",value:function(e){this.config.lastView=e,this.localStorage.set("config",this.config)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(rw),hr(C_),hr(Aw),hr(xx))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Mx=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.http=t,this.localStorage=n,this.configService=r,this.bookmarksIds=[],this.savedFields={},this.primaryKeys=[],this.presets={},this.defaultHiddenTagsIds=["highway/pedestrian_area","highway/footway","highway/motorway","highway/trunk","highway/trunk_link","highway/primary","highway/primary_link","highway/secondary","highway/secondary_link","highway/tertiary","highway/tertiary_link","highway/unclassified","highway/residential","highway/service","highway/motorway_link","highway/living_street","highway/track","highway/bus_guideway","highway/road","highway/bridleway","highway/path","highway/cycleway","highway/construction","highway/steps","highway/motorway_junction","highway/corridor","highway/pedestrian_line","highway/cycleway/bicycle_foot","highway/footway/crossing","highway/service/parking_aisle","highway/service/driveway","highway/path/informal","highway/stop","highway/turning_circle","railway/platform","railway/abandoned","railway/construction","railway/disused","railway/funicular","railway/light_rail","railway/miniature","railway/monorail","railway/narrow_gauge","railway/rail","railway/rail/highspeed","railway/subway","railway/tram","railway/tram_level_crossing","railway/tram_crossing","railway/railway_crossing","barrier/kerb","barrier/kerb/flush","barrier/kerb/lowered","barrier/kerb/raised","barrier/kerb/rolled","natural/grassland","natural/wood","natural/bare_rock","natural/cliff","natural/shingle","natural/coastline","waterway/riverbank","waterway/canal","waterway/canal/lock","waterway/ditch","waterway/drain","waterway/fish_pass","waterway/river","waterway/stream_intermittent","waterway/stream","waterway/tidal_channel","man_made/bridge","building/yes","building/train_station","building/apartments","building/barn","building/boathouse","building/bungalow","building/cabin","building/carport","building/cathedral","building/chapel","building/church","building/civic","building/college","building/commercial","building/construction","building/detached","building/dormitory","building/farm_auxiliary","building/farm","building/garage","building/garages","building/grandstand","building/greenhouse","building/hangar","building/hospital","building/hotel","building/house","building/houseboat","building/hut","building/industrial","building/kindergarten","building/mosque","building/pavilion","building/public","building/residential","building/retail","building/roof","building/ruins","building/school","building/semidetached_house","building/service","building/shed","building/stable","building/stadium","building/static_caravan","building/temple","building/terrace","building/transportation","building/university","building/warehouse","building/office"]}return _createClass(e,[{key:"getTagConfigFromTagsID",value:function(e){return this.tags.filter(function(t){return e.includes(t.id)})}},{key:"setBookMarksIds",value:function(e){this.localStorage.set("bookmarksIds",e),this.bookmarksIds=e}},{key:"setLastTagsUsedIds",value:function(e){this.localStorage.set("lastTagsUsedIds",e),this.lastTagsUsedIds=e}},{key:"removeBookMark",value:function(e){this.bookmarksIds=this.bookmarksIds.filter(function(t){return t!==e.id}),this.setBookMarksIds(this.bookmarksIds)}},{key:"addBookMark",value:function(e){if(!this.bookmarksIds.includes(e.id)){var t=this.tags.find(function(t){return t.id===e.id});return t||this.addUserTags(e),this.bookmarksIds=[e.id].concat(_toConsumableArray(this.bookmarksIds)),this.setBookMarksIds(this.bookmarksIds),t}}},{key:"loadBookMarksIds$",value:function(){var e=this;return R(this.localStorage.get("bookmarksIds")).pipe(E(function(t){return e.bookmarksIds=t=t||[],t}))}},{key:"loadHiddenTagsIds$",value:function(){var e=this;return R(this.localStorage.get("hiddenTagsIds")).pipe(E(function(t){return t=t||_toConsumableArray(e.defaultHiddenTagsIds),e.hiddenTagsIds=t,t}))}},{key:"setHiddenTagsIds",value:function(e){this.localStorage.set("hiddenTagsIds",e),this.hiddenTagsIds=e}},{key:"removeHiddenTag",value:function(e){if(e.id){var t=this.hiddenTagsIds.filter(function(t){return t!==e.id});this.setHiddenTagsIds(t)}}},{key:"addHiddenTag",value:function(e){if(e.id&&!this.hiddenTagsIds.includes(e.id)){var t=[e.id].concat(_toConsumableArray(this.hiddenTagsIds));this.setHiddenTagsIds(t),this.removeBookMark(e)}}},{key:"resetHiddenTags",value:function(){var e=_toConsumableArray(this.defaultHiddenTagsIds);this.setHiddenTagsIds(e)}},{key:"loadLastTagsUsedIds$",value:function(){var e=this;return R(this.localStorage.get("lastTagsUsedIds")).pipe(E(function(t){return e.lastTagsUsedIds=t=t||[],t}))}},{key:"addTagTolastTagsUsed",value:function(e){if(e){this.lastTagsUsedIds.includes(e)&&(this.lastTagsUsedIds=this.lastTagsUsedIds.filter(function(t){return t!==e}));var t=this.tags.find(function(t){return t.id===e});return t?(this.lastTagsUsedIds=[e].concat(_toConsumableArray(this.lastTagsUsedIds)).slice(0,20),this.setLastTagsUsedIds(this.lastTagsUsedIds),t):void 0}}},{key:"loadUserTags$",value:function(){var e=this;return R(this.localStorage.get("userTags")).pipe(E(function(t){return e.userTags=t=t||[],t}))}},{key:"setUserTags",value:function(e){this.localStorage.set("userTags",e),this.userTags=e}},{key:"addUserTags",value:function(e){var t=e.id;this.userTags.find(function(e){return e.id===t})||(e.geometry=["point","vertex","line","area"],e.icon="maki-circle-custom",e.markerColor="#000000",this.userTags=[].concat(_toConsumableArray(this.userTags),[e]),this.tags=[].concat(_toConsumableArray(this.tags),[e]),this.setUserTags(this.userTags))}},{key:"loadSavedFields$",value:function(){var e=this;return R(this.localStorage.get("savedFields")).pipe(E(function(t){var n=t||{};return e.savedFields=n,n}))}},{key:"addSavedField",value:function(e,t){this.savedFields[e]||(this.savedFields[e]={}),this.savedFields[e].tags=t,this.localStorage.set("savedFields",this.savedFields)}},{key:"findPkey",value:function(e){var t=this.primaryKeys;if(!Array.isArray(e)&&e.properties&&e.properties.tags)for(var n in e.properties.tags)return t.includes(n)?{key:n,value:e.properties.tags[n]}:void 0;else if(Array.isArray(e)){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(t.includes(a.key))return{key:a.key,value:a.value}}}catch(o){i.e(o)}finally{i.f()}return}}},{key:"getTagsConfig$",value:function(){var e=this;return this.http.get("assets/tagsAndPresets/tags.json").pipe(E(function(t){return e.primaryKeys=t.primaryKeys,t}))}},{key:"loadPresets$",value:function(){var e=this;return this.http.get("assets/tagsAndPresets/presets.json").pipe(E(function(t){var n=t;for(var r in n)n[r]._id=r;return e.presets=n,n}))}},{key:"loadJsonSprites$",value:function(){var e=this,t=window.devicePixelRatio>1?2:1;return this.http.get("assets/iconsSprites@x"+t+".json").pipe(E(function(t){return e.jsonSprites=t,t}))}},{key:"loadTags$",value:function(){var e=this;return Zv(this.getTagsConfig$(),this.loadUserTags$()).pipe(E(function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1],a=[].concat(_toConsumableArray(r.tags),_toConsumableArray(i));return e.tags=a,a}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Aw),hr(rw),hr(Sx))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ex=function(){var e=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.platform=t,this.configService=n,this.translate=r,this.tagService=i,this.storage=a,this.initializeApp()}return _createClass(e,[{key:"ngAfterViewInit",value:function(){hw.hide()}},{key:"initializeApp",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.create();case 2:return this.translate.setDefaultLang("en"),this.configService.platforms=this.platform.platforms(),e.next=6,cw.getInfo();case 6:return this.configService.deviceInfo=e.sent,e.next=9,this.configService.loadAppVersion();case 9:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(C_),Za(Sx),Za(xx),Za(Mx),Za(rw))},e.\u0275cmp=Ue({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(Qa(0,"ion-app"),to(1,"ion-router-outlet"),eo())},directives:[P_,Db],encapsulation:2}),e}(),Tx=new Xw(Ww);function Lx(e){return!u(e)&&e-parseFloat(e)+1>=0}function Ix(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Lx(t)?r=Number(t)<1?1:Number(t):M(t)&&(n=t),M(n)||(n=Tx),new _(function(t){var i=Lx(e)?e:+e-n.now();return n.schedule(Dx,i,{index:0,period:r,subscriber:t})})}function Dx(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var Ax=n(23815);function Px(e,t){var n,r=e.properties.tags,i={conf:void 0,matchProps:0},a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=Object.keys(o.tags)[0],u=0;for(var l in o.tags)r[l]&&r[l]===o.tags[l]&&r[s]?u++:u=0;u>i.matchProps&&(i={conf:o,matchProps:u})}}catch(d){a.e(d)}finally{a.f()}if(i.conf)return i.conf;var c=e.properties.primaryTag.k?"k":"key",h=e.properties.primaryTag.k?"v":"value",f={key:e.properties.primaryTag[c],icon:"wiki-question",markerColor:"#000000",lbl:{en:"".concat(e.properties.primaryTag[c]," = ").concat(e.properties.primaryTag[h])},presets:[],geometry:[],tags:{},id:"".concat(e.properties.primaryTag[c],"/").concat(e.properties.primaryTag[h]),unknowTags:!0};return f.tags[e.properties.primaryTag[c]]=e.properties.primaryTag[h],f}function Ox(e){e.properties.tags.name?e.properties._name=e.properties.tags.name:e.properties.tags.ref&&(e.properties._name=e.properties.tags.ref),e.properties.meta.timestamp&&(e.properties.time=new Date(e.properties.meta.timestamp).getTime()),e.properties.tags.fixme&&(e.properties.fixme=!0)}n(41770);var Nx=n(18784),Rx=function(){var e=function(){function e(t){_classCallCheck(this,e),this.localStorage=t,this.eventNewPage=new lu,this._geojson={},this._geojsonChanged={},this.geojsonWay=(0,Nx.featureCollection)([]),this.geojsonBbox=(0,Nx.featureCollection)([]),this._nextFeatureId=0}return _createClass(e,[{key:"geojson",get:function(){var e=(0,Nx.featureCollection)([]);return e.features=Object.values(this._geojson),e}},{key:"geojsonChanged",get:function(){var e=(0,Nx.featureCollection)([]);return e.features=Object.values(this._geojsonChanged),e}},{key:"addIconCache",value:function(e,t){this.localStorage.set(e,t)}},{key:"getIconCache",value:function(e){return this.localStorage.get(e)}},{key:"loadGeojson$",value:function(){var e=this;return R(this.localStorage.get("geojson")).pipe(E(function(t){var n,r=_createForOfIteratorHelper((t=t||(0,Nx.featureCollection)([])).features);try{for(r.s();!(n=r.n()).done;){var i=n.value;e._geojson[i.id]=i}}catch(a){r.e(a)}finally{r.f()}return t}))}},{key:"loadGeojsonChanged$",value:function(){var e=this;return R(this.localStorage.get("geojsonChanged")).pipe(E(function(t){var n,r=_createForOfIteratorHelper((t=t||(0,Nx.featureCollection)([])).features);try{for(r.s();!(n=r.n()).done;){var i=n.value;e._geojsonChanged[i.id]=i}}catch(a){r.e(a)}finally{r.f()}return e.forceNextFeatureIdSync(),t}))}},{key:"loadGeojsonBbox$",value:function(){var e=this;return R(this.localStorage.get("geojsonBbox")).pipe(E(function(t){return t=t||(0,Nx.featureCollection)([]),e.geojsonBbox=t,t}))}},{key:"getKeysCacheIcon",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.localStorage.keys();case 2:return e.abrupt("return",e.sent.filter(function(e){return/^circle/.test(e)||/^square/.test(e)||/^penta/.test(e)}));case 3:case"end":return e.stop()}},e,this)}))}},{key:"clearIconCache",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t,n,r,i,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKeysCacheIcon();case 2:t=e.sent,n=0,r=_createForOfIteratorHelper(t),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=15;break}return a=i.value,console.log(a),e.next=12,this.localStorage.remove(a);case 12:n++;case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}},e,this,[[5,17,20,23]])}))}},{key:"clearCache",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.localStorage.clear();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:try{window.indexedDB.deleteDatabase("_ionickv")}catch(t){console.log(t)}localStorage.clear();case 10:case"end":return e.stop()}},e,this,[[0,5]])}))}},{key:"setGeojsonBbox",value:function(e){this.geojsonBbox=e,this.localStorage.set("geojsonBbox",this.geojsonBbox)}},{key:"getGeojsonBbox",value:function(){return this.geojsonBbox}},{key:"resetGeojsonBbox",value:function(){var e=(0,Nx.featureCollection)([]);return this.setGeojsonBbox(e),e}},{key:"setGeojsonWay",value:function(e){this.geojsonWay=(0,Ax.cloneDeep)(e)}},{key:"addFeatureToGeojsonWay",value:function(e){this.geojsonWay.features.push(e)}},{key:"getGeojson",value:function(){return this.geojson?this.geojson:(0,Nx.featureCollection)([])}},{key:"setGeojson",value:function(e){this._geojson={};var t,n=_createForOfIteratorHelper(e.features);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._geojson[r.id]=(0,Ax.cloneDeep)(r)}}catch(i){n.e(i)}finally{n.f()}this.localStorage.set("geojson",this.geojson)}},{key:"addFeatureToGeojson",value:function(e){this._geojson[e.id]=e,this.setGeojson(this.geojson)}},{key:"updateFeatureToGeojson",value:function(e){this._geojson[e.id]=e,this.setGeojson(this.geojson)}},{key:"deleteFeatureFromGeojson",value:function(e){delete this._geojson[e.id],this.setGeojson(this.geojson)}},{key:"getFeatureById",value:function(e,t){for(var n="data_changed"===t?this.getGeojsonChanged().features:this.getGeojson().features,r=0;r<n.length;r++)if(n[r].properties.id===e)return(0,Ax.cloneDeep)(n[r]);return null}},{key:"getGeojsonChanged",value:function(){return(0,Ax.cloneDeep)(this.geojsonChanged)}},{key:"nextFeatureId",get:function(){return this._nextFeatureId--}},{key:"forceNextFeatureIdSync",value:function(){var e=Object.values(this._geojsonChanged).map(function(e){return e.properties.id}).filter(function(e){return e<=0});this._nextFeatureId=e.length>0?Math.min.apply(Math,_toConsumableArray(e))-1:0}},{key:"setGeojsonChanged",value:function(e){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function t(){var n,r,i;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._geojsonChanged={},n=_createForOfIteratorHelper(e.features);try{for(n.s();!(r=n.n()).done;)i=r.value,this._geojsonChanged[i.id]=(0,Ax.cloneDeep)(i)}catch(a){n.e(a)}finally{n.f()}return t.next=5,this.localStorage.set("geojsonChanged",this.geojsonChanged);case 5:case"end":return t.stop()}},t,this)}))}},{key:"replaceIdGenerateByOldVersion",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t,n,r,i,a,o;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=0,n=Object.entries(this._geojsonChanged);t<n.length;t++)r=_slicedToArray(n[t],2),i=r[0],"Create"==(a=r[1]).properties.changeType&&(!Number.isInteger(a.properties.id)||a.properties.id>=0)&&(o=this.nextFeatureId,a.properties.id=o,a.id="".concat(a.properties.type,"/").concat(o),console.info("FIXE :",a.id,a.properties.id),this._geojsonChanged[a.id]=a,delete this._geojsonChanged[i]);return e.next=3,this.setGeojsonChanged(this.getGeojsonChanged());case 3:case"end":return e.stop()}},e,this)}))}},{key:"getCountGeojsonChanged",value:function(){return this.getGeojsonChanged().features?this.getGeojsonChanged().features.length:0}},{key:"addFeatureToGeojsonChanged",value:function(e){return this._geojsonChanged[e.id]=e,this.localStorage.set("geojsonChanged",this.geojsonChanged)}},{key:"updateFeatureToGeojsonChanged",value:function(e){return this._geojsonChanged[e.id]=e,this.localStorage.set("geojsonChanged",this.geojsonChanged)}},{key:"deleteFeatureFromGeojsonChanged",value:function(e){return delete this._geojsonChanged[e.id],this.localStorage.set("geojsonChanged",this.geojsonChanged)}},{key:"getMergedGeojsonGeojsonChanged",value:function(){for(var e=0,t=Object.keys(this._geojsonChanged);e<t.length;e++){var n=t[e];delete this._geojson[n]}for(var r=0,i=Object.values(this._geojsonChanged);r<i.length;r++){var a=i[r];this._geojson[a.id]=a}return(0,Ax.cloneDeep)(this.geojson)}},{key:"cancelFeatureChange",value:function(e){var t=(0,Ax.cloneDeep)(e.properties.originalData);this.deleteFeatureFromGeojsonChanged(e),"Create"!==e.properties.changeType&&this.addFeatureToGeojson(t)}},{key:"resetGeojsonChanged",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._geojsonChanged={},e.next=3,this.localStorage.set("geojsonChanged",this.geojsonChanged);case 3:this._nextFeatureId=0;case 4:case"end":return e.stop()}},e,this)}))}},{key:"resetGeojsonData",value:function(){this._geojson={};var e=(0,Nx.featureCollection)([]);return this.setGeojson(e),e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(rw))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Fx=n(76189),Yx=n.n(Fx),zx=n(88363),jx=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Bx(e,this.dueTime,this.scheduler))}}]),e}(),Bx=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).dueTime=r,a.scheduler=i,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Hx,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(m);function Hx(e){e.debouncedNext()}var Ux={leading:!0,trailing:!1},Vx=function(){function e(t,n,r,i){_classCallCheck(this,e),this.duration=t,this.scheduler=n,this.leading=r,this.trailing=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gx(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),Gx=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).duration=r,s.scheduler=i,s.leading=a,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return _createClass(n,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(qx,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),n}(m);function qx(e){e.subscriber.clearThrottle()}var Wx=n(66012),$x=n(54789),Xx=(0,lw.fo)("Haptics",{web:function(){return n.e(9414).then(n.bind(n,49414)).then(function(e){return new e.HapticsWeb})}}),Zx=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(Wx.Marker),Jx=function(){var e=_createClass(function e(){_classCallCheck(this,e),this.eventNewAlert=new lu,this.eventDisplayToolTipRefreshData=new lu,this.displayToolTipRefreshData=!1});return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Kx=(0,lw.fo)("Geolocation",{web:function(){return n.e(3384).then(n.bind(n,93384)).then(function(e){return new e.GeolocationWeb})}}),Qx=function(){var e=function(){function e(t){_classCallCheck(this,e),this.configService=t,this.eventNewLocation=new lu,this.eventNewCompassHeading=new lu,this.eventLocationIsReady=new lu,this.compassHeading={magneticHeading:null,trueHeading:null,headingAccuracy:null,timestamp:null},this.gpsIsReady=!1}return _createClass(e,[{key:"watchPosition",value:function(){var e=this;this.subscriptionWatchLocation&&navigator.geolocation.clearWatch(this.subscriptionWatchLocation),this.subscriptionWatchLocation=navigator.geolocation.watchPosition(function(t){if(e.location){if(t&&t.coords&&!e.configService.freezeMapRenderer){var n=Math.abs(t.coords.latitude-e.location.coords.latitude),r=Math.abs(t.coords.longitude-e.location.coords.longitude),i=Math.abs(t.coords.accuracy-e.location.coords.accuracy);(n>1e-5||r>1e-5||i>4)&&(e.location=t,e.eventNewLocation.emit(e.getGeojsonPos()))}}else e.location=t,e.eventNewLocation.emit(e.getGeojsonPos())},function(e){console.log(e)},{enableHighAccuracy:!0})}},{key:"enableGeolocation",value:function(){var e=this;this.heading(),Kx.getCurrentPosition({enableHighAccuracy:!0,maximumAge:3e3}).then(function(t){e.location=t,e.eventNewLocation.emit(e.getGeojsonPos()),e.eventLocationIsReady.emit(t),e.gpsIsReady=!0,e.watchPosition()})}},{key:"disableGeolocation",value:function(){navigator.geolocation.clearWatch(this.subscriptionWatchLocation)}},{key:"heading",value:function(){var e=this,t=function(t){if(t.absolute&&t.alpha&&t.beta&&t.gamma){var n=t.alpha*(Math.PI/180),r=t.beta*(Math.PI/180),i=t.gamma*(Math.PI/180),a=Math.cos(n),o=Math.sin(n),s=(Math.cos(r),Math.sin(r)),u=Math.cos(i),l=Math.sin(i),c=-a*l-o*s*u,h=-o*l+a*s*u,f=Math.atan(c/h);h<0?f+=Math.PI:c<0&&(f+=2*Math.PI);var d={magneticHeading:f*=180/Math.PI,trueHeading:f,headingAccuracy:null,timestamp:(new Date).getTime()};e.configService.freezeMapRenderer||(!e.compassHeading.magneticHeading||Math.abs(f-e.compassHeading.magneticHeading)>4)&&(e.configService.freezeMapRenderer||(e.compassHeading=d,e.eventNewCompassHeading.emit(d)))}};"object"==typeof window.ondeviceorientationabsolute?window.addEventListener("deviceorientationabsolute",t,!0):"object"==typeof window.ondeviceorientation?window.addEventListener("deviceorientation",t,!0):console.log("utiliser le heading du gps ?")}},{key:"getLocation",value:function(){return this.location}},{key:"getCoordsPosition",value:function(){return this.location&&this.location.coords?[this.location.coords.longitude,this.location.coords.latitude]:[0,0]}},{key:"getGeojsonPos",value:function(){if(this.location)return this.pointGeojson={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[this.location.coords.longitude,this.location.coords.latitude]},properties:{accuracy:this.location&&this.location.coords?this.location.coords.accuracy:0,trueHeading:this.compassHeading.magneticHeading}}]},this.pointGeojson;console.log("nop")}},{key:"getGeoJSONCirclePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64;e||(e=64);for(var t,n,r,i=this.location.coords.latitude,a=this.location.coords.longitude,o=this.location.coords.accuracy/1e3,s=[],u=o/(111.32*Math.cos(i*Math.PI/180)),l=o/110.574,c=0;c<e;c++)t=c/e*(2*Math.PI),n=u*Math.cos(t),r=l*Math.sin(t),s.push([a+n,i+r]);return s.push(s[0]),{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[s]},properties:{}}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Sx))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ek=function(){var e=function(){function e(t,n,r,i,a,o,s,u,l,c){var h=this;_classCallCheck(this,e),this._ngZone=t,this.dataService=n,this.tagsService=r,this.alertService=i,this.locationService=a,this.configService=o,this.zone=s,this.alertCtrl=u,this.http=l,this.translate=c,this.isFirstPosition=!0,this.loadingData=!1,this.isProcessing=new sp(!1),this.markerMoveMoving=!1,this.mode="Update",this.headingIsLocked=!0,this.positionIsFollow=!0,this.isDisplaySatelliteBaseMap=!1,this.markerLocation=void 0,this.layersAreLoaded=!1,this.markersLoaded=[],this.eventDomMainReady=new lu,this.eventCreateNewMap=new lu,this.eventNewBboxPolygon=new lu,this.eventMoveElement=new lu,this.eventShowModal=new lu,this.eventOsmElementUpdated=new lu,this.eventOsmElementDeleted=new lu,this.eventOsmElementCreated=new lu,this.eventMarkerReDraw=new lu,this.eventMapIsLoaded=new lu,this.eventMarkerChangedReDraw=new lu,this.eventShowDialogMultiFeatures=new lu,this.markersLayer=[],this.eventMarkerMove=new lu,this.eventMapMove=new lu,this.markerMoving=!1,this.markerMaplibreUnknown={},this.filters={fixme:null},this.domMarkerPosition=document.createElement("div"),this.domMarkerPosition.className="positionMarkersSize",this.arrowDirection=document.createElement("div"),this.arrowDirection.className="positionMarkersSize locationMapIcon-wo-orientation",this.domMarkerPosition.appendChild(this.arrowDirection),this.arrowDirection.style.transform="rotate(0deg)",this.locationService.eventLocationIsReady.subscribe(function(e){h.map&&h.configService.config.centerWhenGpsIsReady&&h.map.setZoom(19)}),this.eventMarkerReDraw.subscribe(function(e){e&&(h.map.getSource("data").setData(e),h.drawWaysPoly(e,"ways"))}),this.eventMarkerChangedReDraw.subscribe(function(e){e&&(h.map.getSource("data_changed").setData(e),h.drawWaysPoly(e,"ways_changed"))}),this.eventMapMove.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tx;return function(n){return n.lift(new jx(e,t))}}(700)).subscribe(function(){var e=h.map.getCenter(),t=h.map.getBearing(),n=h.map.getZoom();h.configService.setLastView({lng:e.lng,lat:e.lat,zoom:n,bearing:t})})}return _createClass(e,[{key:"setIsProcessing",value:function(e){this.isProcessing.next(e)}},{key:"loadUnknownMarker",value:function(e){var t=this,n=e>1?2:1;this.map.loadImage("./assets/mapStyle/unknown-marker/circle-unknown@".concat(n,"X.png"),function(e,n){t.markerMaplibreUnknown.circle=n}),this.map.loadImage("./assets/mapStyle/unknown-marker/penta-unknown@".concat(n,"X.png"),function(e,n){t.markerMaplibreUnknown.penta=n}),this.map.loadImage("./assets/mapStyle/unknown-marker/square-unknown@".concat(n,"X.png"),function(e,n){t.markerMaplibreUnknown.square=n})}},{key:"filterMakerByIds",value:function(e){0===e.length&&(e=[""]);for(var t=0,n=["way_fill","way_line","label","icon-old","icon-fixme","marker"];t<n.length;t++){for(var r=n[t],i=this.map.getFilter(r),a=["match",["get","configId"],_toConsumableArray(e),!1,!0],o=[],s=!1,u=1;u<i.length;u++)"match"===i[u][0]&&"configId"===i[u][1][1]&&(i[u]=a,o=i,s=!0);s||(o=[].concat(_toConsumableArray(i),[a])),this.map.setFilter(r,o)}}},{key:"drawWaysPoly",value:function(e,t){for(var n=e.features,r=[],i=0;i<n.length;i++){var a=n[i];"node"!==a.properties.type&&r.push({type:"Feature",properties:a.properties,geometry:a.properties.way_geometry})}this.map.getSource(t).setData({type:"FeatureCollection",features:r})}},{key:"getPixelDistFromMeter",value:function(e,t){var n,r,i,a,o,s,u=e.getContainer().clientHeight/2,l=e.getContainer().clientWidth,c=(n=e.unproject([0,u]),r=e.unproject([l,u]),i=Math.PI/180,a=n.lat*i,o=r.lat*i,s=Math.sin(a)*Math.sin(o)+Math.cos(a)*Math.cos(o)*Math.cos((r.lng-n.lng)*i),6371e3*Math.acos(Math.min(s,1)));return Math.round(t*(l/c))}},{key:"getBbox",value:function(){for(var e=this.configService.getMapMarginBuffer()||50,t=document.getElementById("map").offsetWidth,n=document.getElementById("map").offsetHeight,r=this.map.unproject([0,0]).toArray(),i=[r,this.map.unproject([t,0]).toArray(),this.map.unproject([t,n]).toArray(),this.map.unproject([0,n]).toArray(),r],a=null,o=null,s=null,u=null,l=1;l<i.length;l++)(!a||i[l][0]<a)&&(a=i[l][0]),(!o||i[l][0]>o)&&(o=i[l][0]),(!s||i[l][1]<s)&&(s=i[l][1]),(!u||i[l][1]>u)&&(u=i[l][1]);var c={type:"Point",coordinates:[o,u]},h=(0,Nx.destination)({type:"Point",coordinates:[a,s]},e/1e3,-135).geometry.coordinates,f=(0,Nx.destination)(c,e/1e3,45).geometry.coordinates;return[h[0],h[1],f[0],f[1]]}},{key:"resetNorth",value:function(){this.map.resetNorth()}},{key:"displaySatelliteBaseMap",value:function(e,t){var n,r,i={type:"raster",tiles:e.tiles,tileSize:256,maxzoom:e.max_zoom};this.map.hasControl(this.attributionControl)&&this.map.removeControl(this.attributionControl),this.configService.config.basemap!==e.id&&(this.map.getLayer("basemap")&&this.map.removeLayer("basemap"),this.map.getSource("basemap")&&this.map.removeSource("basemap"),this.map.addSource("basemap",i)),this.map.getSource("basemap")||this.map.addSource("basemap",i),t?(this.map.addLayer({id:"basemap",type:"raster",source:"basemap",minzoom:0},"bboxLayer"),this.attributionControl=new Wx.AttributionControl({customAttribution:(null===(n=null==e?void 0:e.attribution)||void 0===n?void 0:n.text)?null===(r=null==e?void 0:e.attribution)||void 0===r?void 0:r.text:""}),this.map.addControl(this.attributionControl),this.isDisplaySatelliteBaseMap=!0):(this.attributionControl=new Wx.AttributionControl({customAttribution:""}),this.map.addControl(this.attributionControl),this.map.getLayer("basemap")&&this.map.removeLayer("basemap"),this.isDisplaySatelliteBaseMap=!1)}},{key:"centerOnMyPosition",value:function(){var e=this.map.getZoom();this.map.setCenter(this.locationService.getCoordsPosition()),e<17&&this.map.setZoom(18),this.configService.config.lockMapHeading&&(this.headingIsLocked=!0),this.configService.config.followPosition&&(this.positionIsFollow=!0,this.configService.config.lockMapHeading&&(this.map.rotateTo(this.locationService.compassHeading.trueHeading),this.arrowDirection.setAttribute("style","transform: rotate(0deg")))}},{key:"changeLocationRadius",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getPixelDistFromMeter(this.map,e);this.map.setPaintProperty("location_circle","circle-radius-transition",{duration:t?300:0}),this.map.setPaintProperty("location_circle","circle-radius",n)}},{key:"positionateMarker",value:function(){var e=this;this.markerPositionate=this.createDomMoveMarker([this.map.getCenter().lng,this.map.getCenter().lat],""),this.markerMoving=!0,this.markerPositionate.addTo(this.map),this.eventMarkerMove.subscribe(function(t){e.markerPositionate.setLngLat(t)})}},{key:"openModalOsm",value:function(){var e=this;this.markerMoving=!1,this.markerPositionate.remove();var t,n=this.markerPositionate.getLngLat();if(this.tagsService.lastTagsUsedIds&&this.tagsService.lastTagsUsedIds[0]){var r=this.tagsService.tags.find(function(t){return t.id===e.tagsService.lastTagsUsedIds[0]});t=Object.assign({},r?r.tags:this.tagsService.tags[0].tags)}else t=Object.assign({},this.tagsService.tags[0].tags);var i=(0,Nx.point)([n.lng,n.lat],{type:"node",tags:t});this.mode="Create",this.eventShowModal.emit({type:"Create",geojson:i,origineData:null})}},{key:"cancelNewMarker",value:function(){this.markerMoving=!1,this.markerPositionate.remove()}},{key:"openModalWithNewPosition",value:function(){this.markerMoveMoving=!1,this.markerMove.remove();var e=this.markerMove.data,t=this.markerMove.getLngLat();e.geometry.coordinates=[t.lng,t.lat],this.eventShowModal.emit({type:this.mode,geojson:e,newPosition:!0,origineData:e.properties.changeType?"data_changed":"data"})}},{key:"cancelNewPosition",value:function(){this.markerMoveMoving=!1;var e=this.markerMove.data;this.eventShowModal.emit({type:this.mode,geojson:e,origineData:e.properties.changeType?"data_changed":"data"}),this.markerMove.remove()}},{key:"getBboxPolygon",value:function(){return(0,Ax.cloneDeep)(this.bboxPolygon)}},{key:"createDomMoveMarker",value:function(e,t){var n=document.createElement("div");n.className="moveMarkerIcon";var r=new Wx.Marker(n,{offset:[0,-15]}).setLngLat(e);return r.data=t,r}},{key:"resetDataMap",value:function(){this.eventNewBboxPolygon.emit(this.dataService.resetGeojsonBbox()),this.eventMarkerReDraw.emit(this.dataService.resetGeojsonData())}},{key:"getMapStyle",value:function(){return this.http.get("assets/mapStyle/brigthCustom.json").pipe(E(function(e){var t="mapStyle/sprites/sprites";return t="".concat(window.location.href.split("#")[0],"/assets/").concat(t),e.sprite=t,e}))}},{key:"getIconStyle",value:function(e){return function(e,t){var n,r=Px(e,t);return n="node"===e.properties.type?"circle":"LineString"===e.properties.way_geometry.type||"MultiLineString"===e.properties.way_geometry.type?"penta":"Polygon"===e.properties.way_geometry.type||"MultiPolygon"===e.properties.way_geometry.type?"square":"star",e.properties.icon=r.icon?r.icon:"",e.properties.marker="".concat(n,"-").concat(r.markerColor,"-").concat(e.properties.icon),e.properties.hexColor=r.markerColor,e.properties.configId=r.id,r.unknowTags&&(e.properties.unknowTags=!0),r.deprecated?e.properties.deprecated=r.deprecated:e.properties.deprecated&&delete e.properties.deprecated,Ox(e),e}(e,this.tagsService.tags)}},{key:"initMap",value:function(e){var t=this;this.getMapStyle().subscribe(function(n){t.positionIsFollow=e.centerWhenGpsIsReady,t.headingIsLocked=e.centerWhenGpsIsReady,t.zone.runOutsideAngular(function(){t.map=new Wx.Map({container:"map",style:n,center:[e.lastView.lng,e.lastView.lat],zoom:e.lastView.zoom,bearing:e.lastView.bearing,pitch:0,maxZoom:22,doubleClickZoom:!1,attributionControl:!1,dragRotate:!0,trackResize:!1,pitchWithRotate:!1,collectResourceTiming:!1}),t.map.addControl(new Wx.NavigationControl(null)),t.attributionControl=new Wx.AttributionControl({customAttribution:""}),t.map.addControl(t.attributionControl);var r=new Wx.ScaleControl({maxWidth:160,unit:"metric"});t.map.addControl(r),t.map.on("load",function(){return uw(t,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.mapIsLoaded(),op(this.map)));case 1:case"end":return e.stop()}},e,this)}))}),t.map.on("move",function(e){t.eventMapMove.emit(),(t.markerMoving||t.markerMoveMoving)&&t.eventMarkerMove.emit(t.map.getCenter())}),t.map.on("movestart",function(e){}),t.map.on("moveend",function(e){}),t.map.on("zoom",function(e){t.layersAreLoaded&&t.locationService.location&&t.changeLocationRadius(t.locationService.location.coords.accuracy,!1)}),t.loadUnknownMarker(window.devicePixelRatio)})}),this.eventNewBboxPolygon.subscribe(function(e){t.map.getSource("bbox").setData(e)}),this.subscriptionMoveElement=this.eventMoveElement.subscribe(function(e){t.mode=e.mode;for(var n=e.geojson,r=0;r<t.markersLayer.length;r++){var i=t.markersLayer[r];if(i.id===n.id){i;break}}var a=n.geometry.coordinates;t.map.setCenter(a),t.markerMove=t.createDomMoveMarker(a,n),t.markerMoveMoving=!0,t.markerMove.addTo(t.map),t.subscriptionMarkerMove=t.eventMarkerMove.subscribe(function(e){t.markerMove.setLngLat(e)})})}},{key:"getIconRotate",value:function(e,t){var n=(e=e>354?0:e+5)-(t=t<0?360+t:t);return n>=360?n-=360:n<=0&&(n+=360),n}},{key:"toogleMesureFilter",value:function(e,t,n,r){for(var i=r.getFilter(t),a=null,o=1;o<i.length;o++)"mesure"==i[o][1][1]&&(a=o);return a&&!e?(i.splice(a,1),r.setFilter(t,i),i):e?(i.push(["<",["get","mesure"],n]),r.setFilter(t,i),i):void 0}},{key:"addDomMarkerPosition",value:function(){this.markerLocation||(this.markerLocation=new Zx(this.domMarkerPosition,{offset:[0,0]}).setLngLat(this.locationService.getGeojsonPos().features[0].geometry.coordinates),this.markerLocation.addTo(this.map))}},{key:"selectFeature",value:function(e){var t="data";["label_changed","marker_changed","icon-change","way_line_changed","way_fill_changed"].includes(e.layer.id)&&(t="data_changed");var n=this.dataService.getFeatureById(e.properties.id,t);this.eventShowModal.emit({type:"Read",geojson:n,origineData:t})}},{key:"showOldTagIcon",value:function(e){for(var t,n,r=31536e6,i=(new Date).getTime(),a=this.map.getFilter("icon-old"),o=1;o<a.length;o++){var s=a[o];3==s.length&&s[2]&&">"==s[0]&&"time"===s[2][1]&&(t=o)}t?(a[t]=[">",""+(i-r*e),["get","time"]],n=a):(n=_toConsumableArray(a)).push([">",""+(i-r*e),["get","time"]]),this.map.setFilter("icon-old",n),this.map.setLayoutProperty("icon-old","visibility","visible")}},{key:"hideOldTagIcon",value:function(){this.map.setLayoutProperty("icon-old","visibility","none")}},{key:"showFixmeIcon",value:function(){this.map.setLayoutProperty("icon-fixme","visibility","visible")}},{key:"hideFixmeIcon",value:function(){this.map.setLayoutProperty("icon-fixme","visibility","none")}},{key:"mapIsLoaded",value:function(){var e=this,t=14;this.map.addSource("bbox",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("data",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("data_changed",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("ways",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("ways_changed",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("location_circle",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.eventNewBboxPolygon.emit(this.dataService.geojsonBbox),this.eventMarkerChangedReDraw.emit(this.dataService.geojsonChanged),this.eventMarkerReDraw.emit(this.dataService.geojson),this.map.addLayer({id:"bboxLayer",type:"line",source:"bbox",paint:{"line-color":"#ea1212","line-width":5,"line-dasharray":[2,2]}}),this.map.addLayer({id:"way_fill",type:"fill",minzoom:t,source:"ways",paint:{"fill-color":{property:"hexColor",type:"identity"},"fill-opacity":.3},filter:["all",["match",["geometry-type"],["Polygon","MultiPolygon"],!0,!1]]}),this.map.addLayer({id:"way_line",type:"line",source:"ways",minzoom:t,paint:{"line-color":{property:"hexColor",type:"identity"},"line-width":4,"line-opacity":.7},layout:{"line-join":"round","line-cap":"round"},filter:["all",["match",["geometry-type"],["LineString","MultiLineString"],!0,!1]]}),this.map.addLayer({id:"way_fill_changed",type:"fill",source:"ways_changed",paint:{"fill-color":{property:"hexColor",type:"identity"},"fill-opacity":.3},filter:["all",["match",["geometry-type"],["Polygon","MultiPolygon"],!0,!1]]}),this.map.addLayer({id:"way_line_changed",type:"line",source:"ways_changed",paint:{"line-color":{property:"hexColor",type:"identity"},"line-width":4,"line-opacity":.7},layout:{"line-join":"round","line-cap":"round"},filter:["all",["match",["geometry-type"],["LineString","MultiLineString"],!0,!1]]}),this.map.addLayer({id:"label",type:"symbol",minzoom:16.5,source:"data",layout:{"icon-image":"none","icon-anchor":"bottom","text-field":"{_name}","text-font":["Roboto-Regular"],"text-allow-overlap":!1,"text-size":11,"text-offset":[0,1]},paint:{"text-color":"#0a0a0a","text-halo-color":"rgba(255,255,255,1)","text-halo-width":2},filter:["all"]}),this.map.addLayer({id:"label_changed",type:"symbol",minzoom:16.5,source:"data_changed",layout:{"icon-image":"none","icon-anchor":"bottom","text-field":"{_name}","text-font":["Roboto-Regular"],"text-allow-overlap":!1,"text-size":11,"text-offset":[0,1]},paint:{"text-color":"#0a0a0a","text-halo-color":"rgba(255,255,255,1)","text-halo-width":2},filter:["all"]}),this.map.addLayer({id:"location_circle",type:"circle",source:"location_circle",layout:{},paint:{"circle-color":"#9bbcf2","circle-opacity":.2,"circle-radius":0,"circle-stroke-width":1,"circle-stroke-color":"#9bbcf2","circle-stroke-opacity":.5,"circle-radius-transition":{duration:0}}}),this.map.addLayer({id:"icon-old",type:"symbol",source:"data",minzoom:t,layout:{"icon-image":"Old","icon-ignore-placement":!0,"icon-offset":[-13,-12],visibility:"none"},filter:["all"]}),this.map.addLayer({id:"icon-fixme",type:"symbol",source:"data",minzoom:t,layout:{"icon-image":"Fixme","icon-ignore-placement":!0,"icon-offset":[13,-12],visibility:"none"},filter:["all",["any",["has","fixme"],["has","deprecated"]]]}),this.map.addLayer({id:"marker",type:"symbol",minzoom:t,source:"data",layout:{"icon-image":"{marker}","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-offset":[0,-14]},filter:["all"]}),this.map.addLayer({id:"marker_changed",type:"symbol",source:"data_changed",minzoom:t,layout:{"icon-image":"{marker}","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-offset":[0,-14]},filter:["all"]}),this.map.addLayer({id:"icon-change",type:"symbol",source:"data_changed",minzoom:t,layout:{"icon-image":"{changeType}","icon-ignore-placement":!0,"icon-offset":[0,-35]},filter:["all"]}),this.layersAreLoaded=!0,this.filterMakerByIds(this.tagsService.hiddenTagsIds);var n=this.configService.getOldTagsIcon();n.display&&this.showOldTagIcon(n.year),this.configService.getDisplayFixmeIcon()&&this.showFixmeIcon(),this.toogleMesureFilter(this.configService.getFilterWayByArea(),"way_fill",5e3,this.map),this.toogleMesureFilter(this.configService.getFilterWayByLength(),"way_line",.2,this.map),this.map.on("click",function(t){return uw(e,void 0,void 0,_regeneratorRuntime().mark(function e(){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=this.map.queryRenderedFeatures(t.point,{layers:this.configService.selecableLayers})).length){e.next=3;break}return e.abrupt("return");case 3:if(this.configService.platforms.includes("hybrid")||!window.navigator.vibrate){e.next=7;break}window.navigator.vibrate(50),e.next=14;break;case 7:return e.prev=7,e.next=10,Xx.impact({style:$x.y$.Heavy});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(7);case 14:(r=(0,Ax.uniqBy)(n,function(e){return e.properties.id})).length>1?this.eventShowDialogMultiFeatures.emit(r):this.selectFeature(r[0]);case 16:case"end":return e.stop()}},e,this,[[7,12]])}))}),this.map.on("touchmove",function(t){e.headingIsLocked=!1,e.positionIsFollow=!1}),this.map.on("rotate",function(t){return uw(e,void 0,void 0,_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:!this.locationService.compassHeading.trueHeading||this.configService.config.lockMapHeading&&this.headingIsLocked||(t=this.getIconRotate(this.locationService.compassHeading.trueHeading,this.map.getBearing()),this.arrowDirection.setAttribute("style","transform: rotate("+t+"deg"));case 1:case"end":return e.stop()}},e,this)}))}),this.map.on("zoom",function(t){e._ngZone.run(function(){e.configService.currentZoom=e.map.getZoom()})}),this.map.on("styleimagemissing",function(t){return uw(e,void 0,void 0,_regeneratorRuntime().mark(function e(){var n,r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id,r=window.devicePixelRatio>1?2:1,/^circle/.test(n)&&this.map.addImage(n,this.markerMaplibreUnknown.circle,{pixelRatio:r}),/^penta/.test(n)&&this.map.addImage(n,this.markerMaplibreUnknown.penta,{pixelRatio:r}),/^square/.test(n)&&this.map.addImage(n,this.markerMaplibreUnknown.square,{pixelRatio:r});case 2:case"end":return e.stop()}},e,this)}))}),this.locationService.eventNewCompassHeading.pipe(E(function(e){return e}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tx,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ux;return function(r){return r.lift(new Vx(e,t,n.leading,n.trailing))}}(100)).subscribe(function(t){if("positionMarkersSize locationMapIcon"!==e.arrowDirection.className&&(e.arrowDirection.className="positionMarkersSize locationMapIcon"),e.configService.config.lockMapHeading&&e.headingIsLocked)e.map.rotateTo(t.trueHeading),e.arrowDirection.setAttribute("style","transform: rotate(0deg");else{var n=e.getIconRotate(t.trueHeading,e.map.getBearing());e.arrowDirection.setAttribute("style","transform: rotate("+n+"deg")}}),this.locationService.eventNewLocation.subscribe(function(t){if(e.addDomMarkerPosition(),t.features&&t.features[0].properties){var n=t.features[0].geometry.coordinates;e.markerLocation.setLngLat(n),e.map.getSource("location_circle").setData(t),e.changeLocationRadius(t.features[0].properties.accuracy,!0),e.configService.config.followPosition&&e.positionIsFollow&&(e.map.setCenter(n),e.isFirstPosition&&(e.map.setZoom(18),e.isFirstPosition=!1))}}),this.locationService.gpsIsReady&&this.locationService.eventNewLocation.emit(this.locationService.getGeojsonPos()),this.eventMapIsLoaded.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Ou),hr(Rx),hr(Mx),hr(Jx),hr(Qx),hr(Sx),hr(Ou),hr(Nb),hr(Aw),hr(xx))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),tk=function(){var e=function(){function e(t,n,r,i,a,o,s,u){_classCallCheck(this,e),this.platform=t,this.http=n,this.mapService=r,this.tagsService=i,this.dataService=a,this.alertService=o,this.configService=s,this.localStorage=u,this.oauthParam={prod:{url:"https://www.openstreetmap.org",oauth_consumer_key:"v2oE6nAar9KvIWLZHs4ip5oB7GFzbp6wTfznPNkr",oauth_secret:"1M71flXI86rh4JC3koIlAxn1KSzGksusvA8TgDz7"},dev:{url:"https://master.apis.dev.openstreetmap.org",oauth_consumer_key:"PmNIoIN7dRKXQqmVSi07LAh7okepVRv0VvQAX3pM",oauth_secret:"NULSrWvYE5nKtwOkSVSYAJ2zBQUJK6AgJo6ZE5Ax"}},this.eventNewPoint=new lu}return _createClass(e,[{key:"initAuth",value:function(){var e="".concat(window.location.origin,"/assets/land.html");this.auth=new(Yx())({url:this.configService.getIsDevServer()?this.oauthParam.dev.url:this.oauthParam.prod.url,oauth_consumer_key:this.configService.getIsDevServer()?this.oauthParam.dev.oauth_consumer_key:this.oauthParam.prod.oauth_consumer_key,oauth_secret:this.configService.getIsDevServer()?this.oauthParam.dev.oauth_secret:this.oauthParam.prod.oauth_secret,auto:!1,landing:e,windowType:"newFullPage"})}},{key:"login$",value:function(){var e=this;return _.create(function(t){e.auth.authenticate(function(e){t.next(!0)})}).pipe(E(function(e){return e}))}},{key:"isAuthenticated",value:function(){return this.auth.authenticated()}},{key:"logout",value:function(){"oauth"==this.configService.user_info.authType&&this.auth.logout(),this.localStorage.remove("changeset"),this.configService.resetUserInfo()}},{key:"getUrlApi",value:function(){return this.configService.getIsDevServer()?this.oauthParam.dev.url:this.oauthParam.prod.url}},{key:"getUserDetail$",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s="/api/0.6/user/details.json";if(i){var u=this.getUrlApi()+s,l=new pw;l=l.set("Authorization","Basic ".concat(btoa(e+":"+t))).set("Content-Type","application/json"),n=this.http.get(u,{headers:l})}else n=_.create(function(e){r.auth.xhr({method:"GET",path:s,options:{header:{"Content-Type":"application/json"}}},function(t,n){t&&e.error({response:t.response||"??",status:t.status||0}),e.next(JSON.parse(n))})});return n.pipe(E(function(n){var s=n.user,u={user:e,password:a?t:null,uid:s.id,display_name:s.display_name,connected:!0,authType:i?"basic":"oauth"};return o||r.configService.setUserInfo(u),u}),Ap(function(e){return Jw(e)}))}},{key:"createOSMChangeSet",value:function(e,t){var n,r=this,i='\n        <osm>\n            <changeset>\n                <tag k="created_by" v="'.concat(this.configService.getAppVersion().appName," ").concat(this.configService.getAppVersion().appVersionNumber,'"/>\n                <tag k="comment" v="').concat(e,'"/>\n                <tag k="source" v="survey"/>\n            </changeset>\n        </osm>'),a="/api/0.6/changeset/create";if("oauth"===this.configService.user_info.authType)n=_.create(function(e){r.auth.xhr({method:"PUT",path:a,options:{header:{"Content-Type":"text/xml"}},content:i},function(t,n){t&&e.error({response:t.response||"??",status:t.status||0}),e.next(n)})});else{var o=this.getUrlApi()+a,s=new pw;s=s.set("Authorization","Basic ".concat(btoa(this.configService.getUserInfo().user+":"+t))).set("Content-Type","text/xml"),n=this.http.put(o,i,{headers:s,responseType:"text"})}return n.pipe(E(function(t){return r.configService.setChangeset(t.toString(),Date.now(),Date.now(),e),t}))}},{key:"getValidChangset",value:function(e,t){return null==this.configService.getChangeset().id||""===this.configService.getChangeset().id||e!==this.configService.getChangeset().comment||(Date.now()-this.configService.getChangeset().last_changeset_activity)/1e3>3540||(Date.now()-this.configService.getChangeset().last_changeset_activity)/1e3>86360?this.createOSMChangeSet(e,t):op(this.configService.getChangeset().id).pipe(E(function(e){return e}))}},{key:"escapeXmlValue",value:function(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},{key:"osmGoFeaturesToOsmDiffFile",value:function(e,t){var n,r=[],i=[],a=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if("Create"==s.properties.changeType){var u=this.geojson2OsmCreate(s,t);r.push(u)}else if("Update"==s.properties.changeType){var l=this.geojson2OsmUpdate(s,t);i.push(l)}else if("Delete"==s.properties.changeType){var c=this.geojson2OsmUpdate(s,t);a.push(c)}}}catch(h){o.e(h)}finally{o.f()}return'<osmChange version="0.6" generator="Osm Go !">\n                            <create> \n                                '.concat(r.join("\n"),"\n                            </create>\n\n                            <modify> \n                                ").concat(i.join("\n"),"\n                            </modify>\n\n                            <delete> \n                                ").concat(a.join("\n"),"\n                            </delete>\n\n                        </osmChange>\n                ")}},{key:"convertDiffFileResultPorperties",value:function(e,t){var n;t.new_version?1===parseInt(t.new_version)?n="Create":parseInt(t.new_version)>1&&(n="Update"):n="Delete";var r=Object.assign({type:e,typeChange:n},t);return t.old_id&&(r=Object.assign(Object.assign({},r),{old_id:t.old_id,osmgoOldId:"".concat(e,"/").concat(t.old_id)})),t.new_id&&(r=Object.assign(Object.assign({},r),{new_id:t.new_id,osmgoNewId:"".concat(e,"/").concat(t.new_id)})),t.new_version&&(r=Object.assign(Object.assign({},r),{new_version:parseInt(t.new_version)})),r}},{key:"convertDiffFileResult",value:function(e){var t=new zx.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"",allowBooleanAttributes:!0}).parse(e).diffResult,n=[];if(t.node){Array.isArray(t.node)||(t.node=[t.node]);var r,i=_createForOfIteratorHelper(t.node);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=this.convertDiffFileResultPorperties("node",a);n.push(o)}}catch(m){i.e(m)}finally{i.f()}}if(t.way){Array.isArray(t.way)||(t.way=[t.way]);var s,u=_createForOfIteratorHelper(t.way);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=this.convertDiffFileResultPorperties("way",l);n.push(c)}}catch(m){u.e(m)}finally{u.f()}}if(t.relation){Array.isArray(t.relation)||(t.relation=[t.relation]);var h,f=_createForOfIteratorHelper(t.relation);try{for(f.s();!(h=f.n()).done;){var d=h.value,p=this.convertDiffFileResultPorperties("relation",d);n.push(p)}}catch(m){f.e(m)}finally{f.f()}}return n}},{key:"apiOsmSendOsmDiffFile",value:function(e,t,n){var r,i=this,a="/api/0.6/changeset/".concat(t,"/upload");if("oauth"===this.configService.user_info.authType)r=_.create(function(t){i.auth.xhr({method:"POST",path:a,options:{header:{"Content-Type":"text/plain; charset=utf-8",accept:"application/xml"}},content:e},function(e,n){if(e)console.error(e),t.error({status:e.status||500,error:e.responseText});else try{var r=(new XMLSerializer).serializeToString(n);t.next(r)}catch(i){console.error("error",i)}})});else{var o=this.getUrlApi()+"/api/0.6/changeset/".concat(t,"/upload"),s=new pw;s=s.set("Authorization","Basic ".concat(btoa(this.configService.getUserInfo().user+":"+n))).set("accept","application/xml").set("Content-Type","text/plain; charset=utf-8"),r=this.http.post(o,e,{headers:s,responseType:"text"})}return r.pipe(E(function(e){return i.convertDiffFileResult(e)}))}},{key:"geojson2OsmCreate",value:function(e,t){var n=e.properties.tags,r='<node changeset="'.concat(t,'" id="').concat(e.properties.id,'" lat="').concat(e.geometry.coordinates[1],'" lon="').concat(e.geometry.coordinates[0],'">'),i="";for(var a in n)""!==a&&""!==n[a]&&(i+='\n                                    <tag k="'.concat(this.escapeXmlValue(a.trim()),'" v="').concat(this.escapeXmlValue(String(n[a]).trim()),'"/>'));return"".concat(r,"  ").concat(i," </node>")}},{key:"geojson2OsmUpdate",value:function(e,t){var n=e.properties.tags,r=e.properties.type,i=e.properties.meta.version,a=e.properties.id;if("node"===r){var o='<node id="'.concat(a,'"\n                    changeset="').concat(t,'"\n                    version="').concat(i,'"\n                    lat="').concat(e.geometry.coordinates[1],'" lon="').concat(e.geometry.coordinates[0],'">'),s="";for(var u in n)""!==u&&""!==n[u]&&(s+='<tag\n                                    k="'.concat(this.escapeXmlValue(u.trim()),'"\n                                    v="').concat(this.escapeXmlValue(String(n[u]).trim()),'"/>'));return"".concat(o," ").concat(s,"  </node>")}if("way"===r){var l='<way id="'.concat(a,'" changeset="').concat(t,'" version="').concat(i,'">'),c="";for(var h in n)""!==h&&""!==n[h]&&(c+='<tag\n                    k="'.concat(this.escapeXmlValue(h.trim()),'"\n                    v="').concat(this.escapeXmlValue(String(n[h]).trim()),'"/>'));for(var f="",d=0;d<e.ndRefs.length;d++)f+='<nd ref="'.concat(e.ndRefs[d],'"/>');return"".concat(l).concat(f).concat(c,"</way>")}if("relation"===r){var p='<relation id="'.concat(a,'" changeset="').concat(t,'" version="').concat(i,'">'),m="";for(var g in n)""!==g&&""!==n[g]&&(m+='<tag\n                        k="'.concat(this.escapeXmlValue(g.trim()),'"\n                        v="').concat(this.escapeXmlValue(String(n[g]).trim()),'"/>'));for(var v="",y=0;y<e.members.length;y++)v+='<member\n                    type="'.concat(e.members[y].type,'"\n                    role="').concat(e.members[y].role,'"\n                    ref="').concat(e.members[y].ref,'"/>');return"\n                    ".concat(p,"\n                    ").concat(m,"\n                    ").concat(v,"\n                </relation>")}}},{key:"createOsmNode",value:function(e){var t=(0,Ax.cloneDeep)(e),n=this.dataService.nextFeatureId;return t.id="node/"+n,t.properties.id=n,t.properties.meta={timestamp:0,version:0,user:""},t.properties.changeType="Create",t.properties.originalData=null,Ox(t),R(this.dataService.addFeatureToGeojsonChanged(this.mapService.getIconStyle(t)))}},{key:"updateOsmElement",value:function(e,t){var n=(0,Ax.cloneDeep)(e);return Ox(n),"data_changed"===t?R(this.dataService.updateFeatureToGeojsonChanged(this.mapService.getIconStyle(n))):(n.properties.changeType="Update",n.properties.originalData=this.dataService.getFeatureById(n.properties.id,"data"),this.dataService.deleteFeatureFromGeojson(n),R(this.dataService.addFeatureToGeojsonChanged(this.mapService.getIconStyle(n))))}},{key:"deleteOsmElement",value:function(e){var t=(0,Ax.cloneDeep)(e);if(Ox(t),!t.properties.changeType)return t.properties.changeType="Delete",t.properties.originalData=this.dataService.getFeatureById(t.properties.id,"data"),this.dataService.deleteFeatureFromGeojson(t),R(this.dataService.addFeatureToGeojsonChanged(this.mapService.getIconStyle(t)));if("Create"===t.properties.changeType)this.dataService.deleteFeatureFromGeojsonChanged(t);else if("Update"===t.properties.changeType)return this.dataService.updateFeatureToGeojson(t.properties.originalData),t.properties.changeType="Delete",R(this.dataService.updateFeatureToGeojsonChanged(this.mapService.getIconStyle(t)))}},{key:"formatOsmJsonData$",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,i=this,a=this.dataService.getGeojsonBbox(),o=(0,Ax.cloneDeep)(a.features[0]);return R(new Promise(function(a,s){var u=new Worker("assets/workers/worker-formatOsmData.js");u.postMessage({tagsConfig:i.tagsService.tags,primaryKeys:i.tagsService.primaryKeys,osmData:e,oldGeojson:t,oldBboxFeature:o,geojsonChanged:n,limitFeatures:r}),u.onmessage=function(e){u.terminate(),e.data?a(e.data):s(Error("It broke"))}}))}},{key:"getDataFromBbox",value:function(e){for(var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,r=function(e,t){void 0===t&&(t={});var n=Number(e[0]),r=Number(e[1]),i=Number(e[2]),a=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var o=[n,r];return function(e,t,n){void 0===n&&(n={});for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}return function(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}({type:"Polygon",coordinates:e},t,n)}([[o,[i,r],[i,a],[n,a],o]],t.properties,{bbox:e,id:t.id})}(e),i=0;i<r.geometry.coordinates[0].length;i++)r.geometry.coordinates[0][i][0]=r.geometry.coordinates[0][i][0],r.geometry.coordinates[0][i][1]=r.geometry.coordinates[0][i][1];var a=(new pw).set("Content-Type","application/json").set("Accept","application/json"),o=this.getUrlApi()+"/api/0.6/map?bbox=".concat(e.join(","));return this.http.get(o,{headers:a,responseType:"text"}).pipe(_p(function(e){return t.formatOsmJsonData$(e,t.dataService.getGeojson(),t.dataService.getGeojsonChanged(),n)}),kp(1),Ap(function(e){return Jw(e.error||"Impossible de t\xe9l\xe9charger les donn\xe9es (api)")}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(C_),hr(Aw),hr(ek),hr(Mx),hr(Rx),hr(Jx),hr(Sx),hr(rw))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),nk=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this.configService=t,this.tagsService=n,this.dataService=r,this.translate=i,this.isLoaded=!1}return _createClass(e,[{key:"initLoadData$",value:function(){var e=this;return Zv(this.configService.getI18nConfig$().pipe(_p(function(t){return e.configService.loadConfig$(t)})),this.configService.getCountryConfig$(),this.configService.loadUserInfo$(),this.configService.loadChangeSet$(),this.tagsService.loadSavedFields$(),this.tagsService.loadJsonSprites$(),this.tagsService.loadPresets$(),this.tagsService.loadTags$(),this.tagsService.loadBookMarksIds$(),this.tagsService.loadLastTagsUsedIds$(),this.tagsService.loadHiddenTagsIds$(),this.dataService.loadGeojson$(),this.dataService.loadGeojsonChanged$(),this.dataService.loadGeojsonBbox$()).pipe($p(function(){e.isLoaded=!0,e.translate.use(e.configService.config.languageUi)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Sx),hr(Mx),hr(Rx),hr(xx))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function rk(e,t){if(1&e&&to(0,"div",2),2&e){var n=t.$implicit,r=ho();bo("width",n.width+"px")("height",n.height+"px")("background-position","-"+n.x+"px -"+n.y+"px"),Ja("className","spritesX"+r.devicePixelRatio)}}function ik(e,t){if(1&e&&to(0,"div",2),2&e){var n=ho();bo("width",n.jsonSprites.wiki_question.width+"px")("height",n.jsonSprites.wiki_question.height+"px")("background-position","-"+n.jsonSprites.wiki_question.x+"px -"+n.jsonSprites.wiki_question.y+"px"),Ja("className","spritesX"+n.devicePixelRatio)}}var ak=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){this.devicePixelRatio=window.devicePixelRatio>1?2:1}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["app-icon"]],inputs:{jsonSprites:"jsonSprites",icon:"icon"},decls:3,vars:2,consts:[[1,"iconWrapper"],["style","margin-left: auto; margin-right: auto",3,"width","height","background-position","className",4,"ngIf"],[2,"margin-left","auto","margin-right","auto",3,"className"]],template:function(e,t){1&e&&(Qa(0,"div",0),$a(1,rk,1,7,"div",1),$a(2,ik,1,7,"div",1),eo()),2&e&&(bi(1),Ja("ngIf",t.icon&&t.jsonSprites[t.icon]),bi(1),Ja("ngIf",!t.icon||!t.jsonSprites[t.icon]))},directives:[pc],styles:[".spritesX1[_ngcontent-%COMP%]{background:url(iconsSprites@x1.ace7dde6a3c6310aacd1.png) 0 0 no-repeat}.spritesX2[_ngcontent-%COMP%]{background:url(iconsSprites@x2.ace7dde6a3c6310aacd1.png) 0 0 no-repeat}.iconWrapper[_ngcontent-%COMP%]{position:relative;display:block}"]}),e}();function ok(e,t){1&e&&(no(0),Qa(1,"div",16),Qa(2,"h2"),Eo(3),tu(4,"translate"),eo(),eo(),Qa(5,"div",17),to(6,"ion-icon",18),eo(),Qa(7,"div",16),Qa(8,"h2"),Eo(9),tu(10,"translate"),eo(),eo(),ro()),2&e&&(bi(3),To(nu(4,2,"SEND_DATA.UPLOADING_DATA_TO_OSM")),bi(6),To(nu(10,4,"SEND_DATA.DONT_CLOSE")))}function sk(e,t){1&e&&(no(0),Qa(1,"div",17),to(2,"ion-icon",19),eo(),ro())}function uk(e,t){if(1&e&&(Qa(0,"div",15),$a(1,ok,11,6,"ng-container",5),$a(2,sk,3,0,"ng-container",5),eo()),2&e){var n=ho();bi(1),Ja("ngIf",!n.uploadedOk),bi(1),Ja("ngIf",n.uploadedOk)}}function lk(e,t){1&e&&(Qa(0,"h1"),Eo(1,"DEV SERVER"),eo())}function ck(e,t){if(1&e&&(Qa(0,"ion-card",20),Qa(1,"ion-card-content"),Eo(2),eo(),eo()),2&e){var n=ho();bi(2),Lo(" ",n.connectionError," ")}}function hk(e,t){1&e&&(Qa(0,"ion-card",20),Qa(1,"ion-card-content"),Eo(2),tu(3,"translate"),eo(),eo()),2&e&&(bi(2),Lo(" ",nu(3,1,"SEND_DATA.YOU_MUST_BE_LOGGED_IN")," "))}function fk(e,t){if(1&e&&(Qa(0,"tr"),Qa(1,"td"),Eo(2),eo(),Qa(3,"td"),Eo(4),eo(),eo()),2&e){var n=ho().$implicit;bi(2),To(n.key),bi(2),To(n.value)}}function dk(e,t){if(1&e&&(no(0),$a(1,fk,5,2,"tr",5),ro()),2&e){var n=t.$implicit;bi(1),Ja("ngIf",""!==n.value)}}function pk(e,t){if(1&e&&(Qa(0,"div"),Qa(1,"table",25),$a(2,dk,2,1,"ng-container",12),tu(3,"keyvalue"),eo(),eo()),2&e){var n=ho(2);bi(2),Ja("ngForOf",nu(3,1,null==n.error.feature||null==n.error.feature.properties?null:n.error.feature.properties.tags))}}function mk(e,t){if(1&e){var n=io();Qa(0,"ion-button",26),uo("click",function(){Dt(n);var e=ho(2);return e.cancelErrorFeature(e.error.feature)}),Eo(1),tu(2,"translate"),eo()}2&e&&(bi(1),To(nu(2,1,"SEND_DATA.CANCEL_THIS_CHANGE")))}function gk(e,t){if(1&e&&(Qa(0,"ion-card",21),Qa(1,"ion-card-header"),Qa(2,"h4",22),Eo(3,"Error"),eo(),eo(),Qa(4,"ion-card-content"),Qa(5,"span",23),Eo(6),eo(),$a(7,pk,4,3,"div",5),$a(8,mk,3,3,"ion-button",24),eo(),eo()),2&e){var n=ho();bi(6),Io("",n.error.status," ",n.error.message,""),bi(1),Ja("ngIf",null==n.error.feature||null==n.error.feature.properties?null:n.error.feature.properties.tags),bi(1),Ja("ngIf",n.error.feature)}}function vk(e,t){1&e&&to(0,"ion-icon",32)}function yk(e,t){1&e&&to(0,"ion-icon",33)}function _k(e,t){1&e&&to(0,"ion-icon",34)}function bk(e,t){if(1&e){var n=io();Qa(0,"div",26),uo("click",function(){Dt(n);var e=ho().$implicit;return ho().displayError(e.error)}),to(1,"ion-icon",35),eo()}}function wk(e,t){if(1&e){var n=io();Qa(0,"tr"),Qa(1,"td"),$a(2,vk,1,0,"ion-icon",27),$a(3,yk,1,0,"ion-icon",28),$a(4,_k,1,0,"ion-icon",29),eo(),Qa(5,"td"),to(6,"app-icon",30),eo(),Qa(7,"td"),Eo(8),eo(),Qa(9,"td"),Eo(10),eo(),Qa(11,"td",26),uo("click",function(){var e=Dt(n).$implicit;return ho().centerToElement(e.geometry.coordinates)}),to(12,"ion-icon",31),eo(),Qa(13,"td"),$a(14,bk,2,0,"div",24),eo(),eo()}if(2&e){var r=t.$implicit,i=ho();bi(2),Ja("ngIf","Create"==r.properties.changeType),bi(1),Ja("ngIf","Update"==r.properties.changeType),bi(1),Ja("ngIf","Delete"==r.properties.changeType),bi(1),bo("background-color",r.properties&&r.properties.hexColor?r.properties.hexColor:"black"),bi(1),Ja("icon",r.properties.icon)("jsonSprites",i.tagsService.jsonSprites),bi(2),To(null==r.properties?null:r.properties._name),bi(2),Io(" ",null==r.properties?null:r.properties.primaryTag.key,": ",null==r.properties?null:r.properties.primaryTag.value," "),bi(4),Ja("ngIf",r.error)}}var xk=function(){var e=function(){function e(t,n,r,i,a,o,s,u,l,c){_classCallCheck(this,e),this.dataService=t,this.osmApi=n,this.tagsService=r,this.mapService=i,this.navCtrl=a,this.alertCtrl=o,this.configService=s,this.platform=u,this.translate=l,this.initService=c,this.summary={Total:0,Create:0,Update:0,Delete:0},this.changesetId="",this.commentChangeset="",this.isPushing=!1,this.uploadedOk=!1,this.featuresChanges=[],this.basicPassword=null,this.commentChangeset=this.configService.getChangeSetComment(),this.featuresChanges=this.dataService.getGeojsonChanged().features}return _createClass(e,[{key:"ngOnInit",value:function(){this.initService.isLoaded||this.navCtrl.back(),this.basicPassword=this.configService.user_info.password}},{key:"ngOnDestroy",value:function(){}},{key:"presentConfirm",value:function(){var e=this;this.alertCtrl.create({header:this.translate.instant("SEND_DATA.DELETE_CONFIRM_HEADER"),message:this.translate.instant("SEND_DATA.DELETE_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.CANCEL"),role:"cancel",handler:function(){}},{text:this.translate.instant("SHARED.CONFIRM"),handler:function(){e.cancelAllFeatures()}}]}).then(function(e){e.present()})}},{key:"displayError",value:function(e){this.alertCtrl.create({message:e,buttons:[{text:this.translate.instant("SHARED.CLOSE"),role:"cancel",handler:function(){}}]}).then(function(e){e.present()})}},{key:"getSummary",value:function(){var e={Total:0,Create:0,Update:0,Delete:0};this.featuresChanges=this.dataService.getGeojsonChanged().features;for(var t=this.dataService.getGeojsonChanged().features,n=0;n<t.length;n++)e[t[n].properties.changeType]++,e.Total++;return e}},{key:"updateLocalDataFromDiffResult",value:function(e,t){var n,r=this,i=_createForOfIteratorHelper(e);try{var a=function(){var e=n.value,i=t.find(function(t){return t.id==e.osmgoOldId}),a=(0,Ax.cloneDeep)(i);a.id="".concat(e.osmgoNewId?e.osmgoNewId:null),a.properties.id=e.new_id?parseInt(e.new_id):null,a.properties.meta.version=e.new_version?e.new_version:null,a.properties.meta.user=r.configService.getUserInfo().display_name,a.properties.meta.uid=r.configService.getUserInfo().uid,a.properties.meta.timestamp=(new Date).toISOString(),a.properties.time=(new Date).getTime(),a.properties.tags.fixme?a.properties.fixme=!0:a.properties.fixme&&delete a.properties.fixme,a.properties.deprecated&&delete a.properties.deprecated,delete a.properties.changeType,delete a.properties.originalData,Ox(a=r.mapService.getIconStyle(a)),"Create"==e.typeChange||"Update"==e.typeChange?(a=r.mapService.getIconStyle(a),r.dataService.deleteFeatureFromGeojsonChanged(i),r.dataService.addFeatureToGeojson(a)):"Delete"==e.typeChange&&r.dataService.deleteFeatureFromGeojsonChanged(i)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}},{key:"presentAlertPassword",value:function(e){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function t(){var n=this;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({header:e.display_name,inputs:[{name:"password",type:"password",placeholder:this.translate.instant("SEND_DATA.PASSWORD_OSM")}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){}},{text:"Ok",handler:function(e){n.basicPassword=e.password,n.pushDataToOsm(n.commentChangeset,n.basicPassword)}}]});case 2:return t.next=4,t.sent.present();case 4:case"end":return t.stop()}},t,this)}))}},{key:"userIsConnected",value:function(e){var t=this;return new Promise(function(n,r){t.osmApi.getUserDetail$(t.configService.user_info.user,e,"basic"===t.configService.user_info.authType,null,!0).pipe(kp(1)).subscribe(function(e){n(!0)},function(e){r(e.error),"basic"===t.configService.user_info.authType&&!t.configService.user_info.password&&(t.basicPassword=null,t.isPushing=!1)})})}},{key:"getFeatureFromErrorResult",value:function(e,t){var n;if(409==e){var r=t.match(/(Node|Way|Relation)\s\d+$/);if(r){var i=r[0].split(" ")[0].toLowerCase(),a=r[0].split(" ")[1];n=i&&a?"".concat(i,"/").concat(a):null}}else{if(410!=e)return null;var o=t.match(/(node|way|relation)\swith\sthe\sid\s\d+/)[0].split(" with the id "),s=o[0],u=o[1];n=s&&u?"".concat(s,"/").concat(u):null}return n?this.dataService.getGeojsonChanged().features.find(function(e){return e.id==n}):null}},{key:"pushDataToOsm",value:function(e,t){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function n(){var r=this;return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.isPushing){n.next=19;break}return n.next=3,this.dataService.replaceIdGenerateByOldVersion();case 3:if(this.configService.setChangeSetComment(e),"basic"!=this.configService.user_info.authType||this.basicPassword){n.next=9;break}return this.mapService.isProcessing.next(!1),n.next=8,this.presentAlertPassword(this.configService.user_info);case 8:return n.abrupt("return",void n.sent);case 9:return this.mapService.isProcessing.next(!0),this.isPushing=!0,this.uploadedOk=!1,n.prev=10,n.next=13,this.userIsConnected(t);case 13:n.next=18;break;case 15:return n.prev=15,n.t0=n.catch(10),n.abrupt("return",(this.connectionError=n.t0,"basic"===this.configService.user_info.authType&&!this.configService.user_info.password&&(this.basicPassword=null,this.isPushing=!1),this.isPushing=!1,void this.mapService.isProcessing.next(!1)));case 18:this.connectionError=void 0,this.osmApi.getValidChangset(e,t).pipe(kp(1)).subscribe(function(e){var n=r.dataService.getGeojsonChanged().features;r.changesetId=e;var i=r.osmApi.osmGoFeaturesToOsmDiffFile(n,r.changesetId);r.osmApi.apiOsmSendOsmDiffFile(i,r.changesetId,t).pipe(kp(1)).subscribe({next:function(e){r.updateLocalDataFromDiffResult(e,n),r.mapService.eventMarkerReDraw.emit(r.dataService.getGeojson()),r.mapService.eventMarkerChangedReDraw.emit(r.dataService.getGeojsonChanged()),r.featuresChanges=r.dataService.getGeojsonChanged().features,r.error=void 0,r.summary=r.getSummary(),r.uploadedOk=!0,r.mapService.isProcessing.next(!1),Ix(1e3).pipe(kp(1)).subscribe(function(){r.navCtrl.back()})},error:function(e){var t=r.getFeatureFromErrorResult(e.status,e.error);r.error={status:e.status,message:e.error,feature:t};var n=Object.assign(Object.assign({},r.featuresChanges.find(function(e){return e.id==t.id})),{error:e.error});r.featuresChanges=[n].concat(_toConsumableArray(r.featuresChanges.filter(function(e){return e.id!==t.id}))),r.isPushing=!1,r.mapService.isProcessing.next(!1)}})});case 19:case"end":return n.stop()}},n,this,[[10,15]])}))}},{key:"cancelErrorFeature",value:function(e){this.dataService.cancelFeatureChange(e),this.featuresChanges=this.dataService.getGeojsonChanged().features,this.mapService.eventMarkerReDraw.emit(this.dataService.getGeojson()),this.mapService.eventMarkerChangedReDraw.emit(this.dataService.getGeojsonChanged()),this.error=void 0}},{key:"cancelAllFeatures",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t,n,r,i,a=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.dataService.getGeojsonChanged().features,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.dataService.cancelFeatureChange(i)}catch(o){n.e(o)}finally{n.f()}return e.next=5,this.dataService.resetGeojsonChanged();case 5:this.summary=this.getSummary(),this.featuresChanges=this.dataService.getGeojsonChanged().features,Ix(100).pipe(kp(1)).subscribe(function(e){a.mapService.eventMarkerReDraw.emit(a.dataService.getGeojson()),a.mapService.eventMarkerChangedReDraw.emit(a.dataService.getGeojsonChanged()),a.mapService.isProcessing.next(!1),a.navCtrl.pop()});case 8:case"end":return e.stop()}},e,this)}))}},{key:"centerToElement",value:function(e){this.mapService.map.getZoom()<18.5&&this.mapService.map.setZoom(18.5),this.mapService.map.setCenter(e),this.navCtrl.pop()}},{key:"ngAfterViewInit",value:function(){this.summary=this.getSummary()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Rx),Za(tk),Za(Mx),Za(ek),Za(E_),Za(Nb),Za(Sx),Za(C_),Za(xx),Za(nk))},e.\u0275cmp=Ue({type:e,selectors:[["page-push-data-to-osm"]],decls:71,vars:53,consts:[["class","pushDataOverlay",4,"ngIf"],["color","primary"],["slot","primary",2,"min-width","32px",3,"disabled","click"],["name","arrow-back"],[1,"ion-padding"],[4,"ngIf"],["color","danger",4,"ngIf"],[2,"width","100%"],["class","cardError",4,"ngIf"],["type","text",3,"ngModel","placeholder","ngModelChange"],[2,"width","45px"],["name","locate"],[4,"ngFor","ngForOf"],["color","danger",1,"footerButton",3,"disabled","click"],[1,"footerButton",3,"disabled","click"],[1,"pushDataOverlay"],[2,"text-align","center"],[2,"margin","1em"],["name","globe",1,"uploadingIcon"],["name","checkmark-circle-outline",1,"uploadedOkIcon"],["color","danger"],[1,"cardError"],[2,"color","white"],[1,"errorPush"],[3,"click",4,"ngIf"],["id","errorTable"],[3,"click"],["name","add","class","iconType","style","color: green",4,"ngIf"],["name","create","class","iconType","style","color: blue",4,"ngIf"],["name","trash","class","iconType","style","color: red",4,"ngIf"],[1,"imgCenter","iconImg",3,"icon","jsonSprites"],["name","locate",2,"font-size","2em"],["name","add",1,"iconType",2,"color","green"],["name","create",1,"iconType",2,"color","blue"],["name","trash",1,"iconType",2,"color","red"],["name","bug"]],template:function(e,t){1&e&&($a(0,uk,3,2,"div",0),Qa(1,"ion-header",1),Qa(2,"ion-toolbar",1),Qa(3,"ion-button",2),uo("click",function(){return t.navCtrl.back()}),to(4,"ion-icon",3),eo(),Qa(5,"ion-title"),Eo(6),tu(7,"translate"),eo(),eo(),eo(),Qa(8,"ion-content",4),$a(9,lk,2,0,"h1",5),$a(10,ck,3,1,"ion-card",6),$a(11,hk,4,3,"ion-card",6),Qa(12,"ion-card"),Qa(13,"ion-card-content"),Qa(14,"table",7),Qa(15,"tr"),Qa(16,"th"),Eo(17),tu(18,"translate"),eo(),Qa(19,"th"),Eo(20),tu(21,"translate"),eo(),Qa(22,"th"),Eo(23),tu(24,"translate"),eo(),Qa(25,"th"),Eo(26),tu(27,"translate"),eo(),eo(),Qa(28,"tr"),Qa(29,"td"),Eo(30),eo(),Qa(31,"td"),Eo(32),eo(),Qa(33,"td"),Eo(34),eo(),Qa(35,"td"),Eo(36),eo(),eo(),eo(),eo(),eo(),$a(37,gk,9,4,"ion-card",8),Qa(38,"ion-card"),Qa(39,"ion-card-header"),Eo(40),tu(41,"translate"),eo(),Qa(42,"ion-card-content"),Qa(43,"ion-item"),Qa(44,"ion-input",9),uo("ngModelChange",function(e){return t.commentChangeset=e}),tu(45,"translate"),eo(),eo(),eo(),eo(),Qa(46,"table",7),Qa(47,"tr"),Qa(48,"th",10),Eo(49),tu(50,"translate"),eo(),to(51,"th",10),Qa(52,"th"),Eo(53),tu(54,"translate"),eo(),Qa(55,"th"),Eo(56),tu(57,"translate"),eo(),Qa(58,"th",10),to(59,"ion-icon",11),eo(),Qa(60,"th",10),Eo(61),tu(62,"translate"),eo(),eo(),$a(63,wk,15,11,"tr",12),eo(),eo(),Qa(64,"ion-footer"),Qa(65,"ion-button",13),uo("click",function(){return t.presentConfirm()}),Eo(66),tu(67,"translate"),eo(),Qa(68,"ion-button",14),uo("click",function(){return t.pushDataToOsm(t.commentChangeset,t.basicPassword)}),Eo(69),tu(70,"translate"),eo(),eo()),2&e&&(Ja("ngIf",t.isPushing),bi(3),Ja("disabled",t.isPushing),bi(3),Lo(" ",nu(7,27,"SEND_DATA.SEND_DATA")," "),bi(3),Ja("ngIf",t.configService.config.isDevServer),bi(1),Ja("ngIf",t.connectionError),bi(1),Ja("ngIf",!t.configService.user_info.connected),bi(6),To(nu(18,29,"SEND_DATA.TOTAL_ITEMS")),bi(3),To(nu(21,31,"SEND_DATA.ADDED_ITEMS")),bi(3),To(nu(24,33,"SEND_DATA.UPDATED_ITEMS")),bi(3),To(nu(27,35,"SEND_DATA.DELETED_ITEMS")),bi(4),To(t.summary.Total),bi(2),To(t.summary.Create),bi(2),To(t.summary.Update),bi(2),To(t.summary.Delete),bi(1),Ja("ngIf",t.error),bi(3),Lo(" ",nu(41,37,"SEND_DATA.CHANGESET_COMMENT")," "),bi(4),Ja("ngModel",t.commentChangeset)("placeholder",nu(45,39,"SEND_DATA.CHANGESET_COMMENT")),bi(5),To(nu(50,41,"SEND_DATA.TYPE")),bi(4),To(nu(54,43,"SEND_DATA.NAME")),bi(3),To(nu(57,45,"SEND_DATA.PRIMARY_KEY")),bi(5),To(nu(62,47,"SEND_DATA.ERROR")),bi(2),Ja("ngForOf",t.featuresChanges),bi(2),Ja("disabled",t.isPushing),bi(1),To(nu(67,49,"SEND_DATA.DELETE")),bi(2),Ja("disabled",!t.configService.user_info.connected||!t.featuresChanges||0===t.featuresChanges.length||t.isPushing),bi(1),To(nu(70,51,"SEND_DATA.SEND")))},directives:[pc,X_,cb,N_,Z_,ub,V_,F_,Y_,z_,K_,J_,k_,wy,jy,fc,$_,ak],pipes:[kx,Ec],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;padding:4px}.footerButton[_ngcontent-%COMP%]{width:45%}.iconType[_ngcontent-%COMP%]{color:#fff;height:25px;width:25px}.cardError[_ngcontent-%COMP%]{background-color:#8b0000;color:#f5f5f5}.pushDataOverlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:11;background-color:#f5f5f5;display:flex;align-content:center;flex-direction:column;justify-content:center;align-items:center}.uploadingIcon[_ngcontent-%COMP%]{font-size:4em;-webkit-animation-name:spin;animation-name:spin;-webkit-animation-duration:3s;animation-duration:3s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.uploadedOkIcon[_ngcontent-%COMP%]{font-size:9em;color:green}ion-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;justify-content:space-around}#errorTable[_ngcontent-%COMP%]{border-collapse:collapse;color:#000;font-weight:600;font-size:.8em;background-color:#d3d3d3}#errorTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #errorTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:3px;text-align:left}#errorTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}"]}),e}(),kk=function(){var e=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.configService=t,this.platform=n,this.viewCtrl=r,this.navCtrl=i,this.toastController=a}return _createClass(e,[{key:"presentToast",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:"You have activated the developer mode!",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"tap",value:function(e){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=5==e.tapCount,!t.t0){t.next=5;break}return t.next=4,this.presentToast();case 4:this.configService.setIsDevMode(!0);case 5:case"end":return t.stop()}},t,this)}))}},{key:"dismiss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.viewCtrl.dismiss(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Sx),Za(C_),Za(zb),Za(E_),Za(Bb))},e.\u0275cmp=Ue({type:e,selectors:[["page-about"]],decls:23,vars:13,consts:[["color","primary"],["slot","primary",2,"min-width","32px",3,"click"],["name","arrow-back"],[1,"ion-padding"],[3,"tap"],["href","https://github.com/DoFabien/OsmGo","target","_blank"]],template:function(e,t){1&e&&(Qa(0,"ion-header",0),Qa(1,"ion-toolbar",0),Qa(2,"ion-buttons",1),uo("click",function(){return t.navCtrl.back()}),to(3,"ion-icon",2),eo(),Qa(4,"ion-title"),Eo(5),tu(6,"translate"),eo(),eo(),eo(),Qa(7,"ion-content",3),Qa(8,"ion-card",4),uo("tap",function(e){return t.tap(e)}),Qa(9,"ion-card-header"),Eo(10,"OSM Go!"),eo(),Qa(11,"ion-card-content"),Eo(12),tu(13,"translate"),eo(),eo(),Qa(14,"ion-card"),Qa(15,"ion-card-content"),Eo(16),tu(17,"translate"),tu(18,"translate"),eo(),eo(),Qa(19,"ion-card"),Qa(20,"ion-card-content"),Qa(21,"a",5),Eo(22,"GitHub"),eo(),eo(),eo(),eo()),2&e&&(bi(5),Lo(" ",nu(6,5,"ABOUT.ABOUT")," "),bi(7),Io(" ",nu(13,7,"ABOUT.VERSION")," ",t.configService.getAppVersion().appVersionNumber," "),bi(4),Io(" ",nu(17,9,"ABOUT.DATA")," ",nu(18,11,"ABOUT.OSM_CONTRIBUTORS")," "))},directives:[X_,cb,R_,Z_,ub,V_,F_,z_,Y_],pipes:[kx],encapsulation:2}),e}(),Ck=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){if(e){var t=[];for(var n in e)t=[].concat(_toConsumableArray(t),["".concat(n,"=").concat(e[n])]);return t.join(" & ")}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"displayTags",type:e,pure:!0}),e}(),Sk=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return!(!e.id||!t)&&t.includes(e.id)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"isBookmarked",type:e,pure:!0}),e}();function Mk(e,t){if(1&e){var n=io();Qa(0,"div",10),uo("click",function(){Dt(n);var e=ho();return e.addOrRemoveBookmark(e.tag)}),to(1,"ion-icon",11),tu(2,"isBookmarked"),eo()}if(2&e){var r=ho();bi(1),bo("color",ru(2,2,r.tag,r.bookmarksIds)?"#f71000":"#d8d8d8")}}function Ek(e,t){if(1&e&&(Qa(0,"div",12),to(1,"ion-icon",13),eo()),2&e){var n=ho();bi(1),bo("color",(null==n.oldTagConfig?null:n.oldTagConfig.id)===n.tag.id?"green":"black")}}function Tk(e,t){if(1&e){var n=io();Qa(0,"div"),Qa(1,"ion-button",14),uo("click",function(){Dt(n);var e=ho();return e.removeHiddenTag.emit(e.tag)}),to(2,"ion-icon",15),eo(),eo()}}function Lk(e,t){if(1&e){var n=io();Qa(0,"div"),Qa(1,"ion-button",16),uo("click",function(){Dt(n);var e=ho();return e.addHiddenTag.emit(e.tag)}),to(2,"ion-icon",17),eo(),eo()}}var Ik=function(){var e=function(){function e(){_classCallCheck(this,e),this.removeBookmark=new lu,this.addBookmark=new lu,this.removeHiddenTag=new lu,this.addHiddenTag=new lu,this.selected=new lu}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"isBookMarked",value:function(e){return this.bookmarksIds.includes(e.id)}},{key:"addOrRemoveBookmark",value:function(e){this.isBookMarked(e)?this.removeBookmark.emit(e):this.addBookmark.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["app-tag-list-element"]],inputs:{tag:"tag",countryTags:"countryTags",languageTags:"languageTags",jsonSprites:"jsonSprites",geometriesFilter:"geometriesFilter",bookmarksIds:"bookmarksIds",oldTagConfig:"oldTagConfig",isHiddenTag:"isHiddenTag",showHideTagButton:"showHideTagButton"},outputs:{removeBookmark:"removeBookmark",addBookmark:"addBookmark",removeHiddenTag:"removeHiddenTag",addHiddenTag:"addHiddenTag",selected:"selected"},decls:18,vars:15,consts:[[1,"content"],[1,"tag-icon",2,"width","50px"],[1,"icon-wrapper"],[2,"display","block",3,"icon","jsonSprites"],["style","width: 36px","class","bookmark",3,"click",4,"ngIf"],[1,"tag-text","spacer",3,"click"],[2,"font-size","0.8em"],[2,"font-size","11px","font-style","italic"],["class","action",4,"ngIf"],[4,"ngIf"],[1,"bookmark",2,"width","36px",3,"click"],["name","heart","item-left","",2,"font-size","26px","height","100%","width","100%"],[1,"action"],["name","checkmark","item-left","",2,"font-size","26px","height","100%"],["color","success",1,"ion-no-margin","buttonUnhideTag",3,"click"],["name","add-circle"],["color","danger",1,"ion-no-margin","buttonUnhideTag",3,"click"],["name","remove-circle"]],template:function(e,t){1&e&&(Qa(0,"div",0),Qa(1,"div",1),Qa(2,"div",2),to(3,"app-icon",3),eo(),eo(),$a(4,Mk,3,5,"div",4),Qa(5,"div",5),uo("click",function(){return t.selected.emit(t.tag)}),Qa(6,"b"),Eo(7),eo(),to(8,"br"),Qa(9,"span",6),Eo(10),tu(11,"displayTags"),eo(),to(12,"br"),Qa(13,"span",7),Eo(14),eo(),eo(),$a(15,Ek,2,2,"div",8),$a(16,Tk,3,0,"div",9),$a(17,Lk,3,0,"div",9),eo()),2&e&&(bi(1),bo("background-color",t.tag.markerColor?t.tag.markerColor:"black"),bi(2),Ja("icon",t.tag.icon)("jsonSprites",t.jsonSprites),bi(1),Ja("ngIf",!t.isHiddenTag),bi(2),bo("color",(null==t.oldTagConfig?null:t.oldTagConfig.id)===t.tag.id?"#3b22dd":"black"),bi(1),To(null!=t.tag&&t.tag.lbl?(null==t.tag?null:t.tag.lbl[t.languageTags])||(null==t.tag?null:t.tag.lbl.en):null),bi(3),To(nu(11,13,null==t.tag?null:t.tag.tags)),bi(4),Lo(" ",null!=t.tag&&t.tag.description?(null==t.tag?null:t.tag.description[t.languageTags])||(null==t.tag?null:t.tag.description.en):""," "),bi(1),Ja("ngIf",(null==t.oldTagConfig?null:t.oldTagConfig.id)===t.tag.id),bi(1),Ja("ngIf",t.isHiddenTag),bi(1),Ja("ngIf",t.showHideTagButton))},directives:[ak,pc,Z_,N_],pipes:[Ck,Sk],styles:[".box[_ngcontent-%COMP%]{display:flex}.content[_ngcontent-%COMP%]{position:relative;width:100%;display:flex}.tag-icon[_ngcontent-%COMP%]{position:relative;width:50px;min-width:50px;padding:.2em}.icon-wrapper[_ngcontent-%COMP%]{width:45px;height:45px;margin:0;position:absolute;top:50%;transform:translateY(-50%)}.buttonUnhideTag[_ngcontent-%COMP%]{height:100%;padding-top:5px;padding-bottom:5px}.bookmark[_ngcontent-%COMP%]{width:36px;min-width:36px;vertical-align:middle;padding:.2em}.action[_ngcontent-%COMP%]{width:45px;min-width:45px}.tag-text[_ngcontent-%COMP%]{padding:.5em}.spacer[_ngcontent-%COMP%]{flex-grow:1}"]}),e}(),Dk=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return t?e.slice(0,t):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"limitDisplayTags",type:e,pure:!0}),e}(),Ak=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"replaceCharSpe",value:function(e){if(e)return e.replace(/[\xfb]/gi,"u").replace(/[\xe1\xe0\xe2]/gi,"a").replace(/[\xe9\xe8\xea\xeb]/gi,"e").replace(/[\xed\xee\xef]/gi,"i").replace(/[\xf3\xf4]/gi,"o").replace(/\xe7/g,"c")}},{key:"transform",value:function(e,t,n){var r=this,i=new RegExp(n,"i"),a=_slicedToArray(t,2),o=a[0];a[1];return n?e.filter(function(e){var t=JSON.stringify(e.tags);if(i.test(t))return!0;if(i.test(r.replaceCharSpe(t)))return!0;if(e.lbl){var n=e.lbl[o]?e.lbl[o]:e.lbl.en;if(i.test(n))return!0;if(i.test(r.replaceCharSpe(n)))return!0}if(e.terms){var a=e.terms[o]?e.terms[o]:e.terms.en;if(i.test(a))return!0;if(i.test(r.replaceCharSpe(a)))return!0}}):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"filterByTagsContent",type:e,pure:!1}),e}(),Pk=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return t&&0!=t.length?e.filter(function(e){if(!e.geometry)return!0;var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.geometry.includes(i))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"filterByByGeometryType",type:e,pure:!0}),e}(),Ok=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return e.filter(function(e){return!e.excludeCountryCodes||!e.excludeCountryCodes.includes(t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"filterExcludeTagByCountryCode",type:e,pure:!1}),e}(),Nk=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return e.filter(function(e){if(void 0===e.searchable||!1!==e.searchable)return!0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"filterBySearchable",type:e,pure:!0}),e}(),Rk=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return e?e.filter(function(e){if(!e.deprecated)return!0}):[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"filterDeprecatedTag",type:e,pure:!1}),e}(),Fk=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return e;n=r?new Array:new Array(t.length);for(var i=0;i<e.length;i++){var a=e[i],o=t.indexOf(a.id);-1===o||r?-1===o&&r&&n.push(a):n[o]=a}return r?n:n.filter(function(e){return void 0!==e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"filtersTagsByIds",type:e,pure:!0}),e}(),Yk=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return e.sort()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"sortArray",type:e,pure:!0}),e}();function zk(e,t){if(1&e){var n=io();Qa(0,"ion-item",14),Qa(1,"app-tag-list-element",15),uo("removeBookmark",function(){var e=Dt(n).$implicit;return ho(3).tagsService.removeBookMark(e)})("addBookmark",function(){var e=Dt(n).$implicit;return ho(3).tagsService.addBookMark(e)})("selected",function(e){return Dt(n),ho(3).selected(e)}),eo(),eo()}if(2&e){var r=t.$implicit,i=ho(3);bi(1),Ja("tag",r)("countryTags",i.configService.config.countryTags)("languageTags",i.configService.config.languageTags)("jsonSprites",i.tagsService.jsonSprites)("geometriesFilter",i.geometriesPossible)("bookmarksIds",i.tagsService.bookmarksIds)("oldTagConfig",i.oldTagConfig)}}function jk(e,t){if(1&e){var n=io();Qa(0,"ion-chip"),Qa(1,"ion-label",16),uo("click",function(){var e=Dt(n).$implicit,t=ho(3);return t.addCustomValue(e,t.searchText.toLowerCase())}),Eo(2),tu(3,"lowercase"),eo(),eo()}if(2&e){var r=t.$implicit,i=ho(3);bi(2),Io("",r,"=",nu(3,2,i.searchText),"")}}var Bk=function(e){return[e]},Hk=function(e,t){return[e,t]};function Uk(e,t){if(1&e&&(Qa(0,"div",10),Qa(1,"ion-list",11),$a(2,zk,2,7,"ion-item",12),tu(3,"limitDisplayTags"),tu(4,"filterByTagsContent"),tu(5,"filterByByGeometryType"),tu(6,"filterExcludeTagByCountryCode"),tu(7,"filterBySearchable"),tu(8,"filterDeprecatedTag"),tu(9,"filtersTagsByIds"),eo(),Qa(10,"div"),Qa(11,"h4"),Eo(12),tu(13,"translate"),eo(),$a(14,jk,4,4,"ion-chip",13),tu(15,"sortArray"),eo(),eo()),2&e){var n=ho(2);bi(2),Ja("ngForOf",ru(3,3,iu(4,6,ru(5,10,ru(6,13,nu(7,16,nu(8,18,iu(9,20,n.currentListOfTags,n.tagsService.hiddenTagsIds,!0))),n.countryTags),Xs(28,Bk,n.geometryType)),Zs(30,Hk,n.configService.config.languageTags,n.configService.config.countryTags),n.searchText),50)),bi(10),To(nu(13,24,"MODAL_SELECTED_ITEM.CUSTOM_KEY_VALUE")),bi(2),Ja("ngForOf",nu(15,26,n.tagsService.primaryKeys))}}function Vk(e,t){if(1&e){var n=io();Qa(0,"ion-item",14),Qa(1,"app-tag-list-element",15),uo("removeBookmark",function(e){return Dt(n),ho(4).removeBookmark(e)})("addBookmark",function(e){return Dt(n),ho(4).addBookmark(e)})("selected",function(e){return Dt(n),ho(4).selected(e)}),eo(),eo()}if(2&e){var r=t.$implicit,i=ho(4);bi(1),Ja("tag",r)("countryTags",i.configService.config.countryTags)("languageTags",i.configService.config.languageTags)("jsonSprites",i.tagsService.jsonSprites)("geometriesFilter",i.geometriesPossible)("bookmarksIds",i.tagsService.bookmarksIds)("oldTagConfig",i.oldTagConfig)}}function Gk(e,t){if(1&e&&(Qa(0,"div",25),Qa(1,"h4",18),Eo(2),tu(3,"translate"),eo(),Qa(4,"ion-list",11),$a(5,Vk,2,7,"ion-item",12),tu(6,"filterByByGeometryType"),tu(7,"filterExcludeTagByCountryCode"),tu(8,"filterBySearchable"),tu(9,"filterDeprecatedTag"),tu(10,"filtersTagsByIds"),eo(),eo()),2&e){var n=ho(3);bi(2),Lo(" ",nu(3,2,"MODAL_SELECTED_ITEM.LAST_TAG_USED")," "),bi(3),Ja("ngForOf",ru(6,4,ru(7,7,nu(8,10,nu(9,12,ru(10,14,n.tagsService.tags,n.tagsService.lastTagsUsedIds))),n.countryTags),Xs(17,Bk,n.geometryType)))}}function qk(e,t){if(1&e){var n=io();Qa(0,"ion-item",14),Qa(1,"app-tag-list-element",15),uo("removeBookmark",function(e){return Dt(n),ho(4).removeBookmark(e)})("addBookmark",function(e){return Dt(n),ho(4).addBookmark(e)})("selected",function(e){return Dt(n),ho(4).selected(e)}),eo(),eo()}if(2&e){var r=t.$implicit,i=ho(4);bi(1),Ja("tag",r)("countryTags",i.configService.config.countryTags)("languageTags",i.configService.config.languageTags)("jsonSprites",i.tagsService.jsonSprites)("geometriesFilter",i.geometriesPossible)("bookmarksIds",i.tagsService.bookmarksIds)("oldTagConfig",i.oldTagConfig)}}function Wk(e,t){if(1&e&&(Qa(0,"div",26),Qa(1,"h4",18),Eo(2),tu(3,"translate"),eo(),Qa(4,"ion-list",11),$a(5,qk,2,7,"ion-item",12),tu(6,"filterByByGeometryType"),tu(7,"filterExcludeTagByCountryCode"),tu(8,"filtersTagsByIds"),eo(),eo()),2&e){var n=ho(3);bi(2),Lo(" ",nu(3,2,"MODAL_SELECTED_ITEM.BOOKMARKS")," "),bi(3),Ja("ngForOf",ru(6,4,ru(7,7,ru(8,10,n.tagsService.tags,n.tagsService.bookmarksIds),n.countryTags),Xs(13,Bk,n.geometryType)))}}function $k(e,t){if(1&e){var n=io();Qa(0,"div",17),uo("swipeleft",function(){return Dt(n),ho(2).swipeLeft()})("swiperight",function(){return Dt(n),ho(2).swipeRight()}),Qa(1,"h4",18),Eo(2),tu(3,"translate"),eo(),Qa(4,"div",19),Qa(5,"ion-button",20),uo("click",function(){return Dt(n),ho(2).changePageLastTagsBookmarks("lastTags")}),to(6,"ion-icon",21),Eo(7),tu(8,"translate"),eo(),Qa(9,"ion-button",20),uo("click",function(){return Dt(n),ho(2).changePageLastTagsBookmarks("bookmarks")}),to(10,"ion-icon",22),Eo(11),tu(12,"translate"),eo(),eo(),$a(13,Gk,11,19,"div",23),$a(14,Wk,9,15,"div",24),eo()}if(2&e){var r=ho(2);bi(2),Lo(" ",nu(3,7,"MODAL_SELECTED_ITEM.SEARCH_TAG_AT_LEAST_3_LETTERS")," "),bi(3),Ja("disabled","lastTags"===r.displayType),bi(2),Lo(" ",nu(8,9,"MODAL_SELECTED_ITEM.LAST_TAG_USED")," "),bi(2),Ja("disabled","bookmarks"===r.displayType),bi(2),Lo(" ",nu(12,11,"MODAL_SELECTED_ITEM.BOOKMARKS")," "),bi(2),Ja("ngIf","lastTags"==r.displayType),bi(1),Ja("ngIf","bookmarks"==r.displayType)}}function Xk(e,t){1&e&&(Qa(0,"div",27),Qa(1,"ion-title"),Eo(2),tu(3,"translate"),eo(),eo()),2&e&&(bi(2),Lo(" ",nu(3,1,"MODAL_SELECTED_ITEM.LOADING")," "))}function Zk(e,t){if(1&e){var n=io();Qa(0,"div",1),Qa(1,"div"),Qa(2,"div",2),Qa(3,"div",3),Qa(4,"ion-searchbar",4),uo("ngModelChange",function(e){return Dt(n),ho().searchText=e}),eo(),eo(),eo(),$a(5,Uk,16,33,"div",5),$a(6,$k,15,13,"div",6),eo(),Qa(7,"ion-footer",7),Qa(8,"ion-button",8),uo("click",function(){return Dt(n),ho().cancel()}),Eo(9),tu(10,"translate"),eo(),eo(),$a(11,Xk,4,3,"div",9),eo()}if(2&e){var r=ho();bi(4),Ja("ngModel",r.searchText)("debounce",300),bi(1),Ja("ngIf",r.searchText.length>2),bi(1),Ja("ngIf",r.searchText.length<3),bi(3),Lo(" ",nu(10,6,"SHARED.CANCEL")," "),bi(2),Ja("ngIf",r.loading)}}var Jk=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this.params=t,this.modalCtrl=n,this.tagsService=r,this.configService=i,this.loading=!0,this.searchText="",this.currentListOfTags=[],this.typeFiche="list",this.customValue="",this.geometriesPossible=[],this.displayType="lastTags",this.oldTagConfig=this.params.data.tagConfig}return _createClass(e,[{key:"ngOnInit",value:function(){this.displayType="bookmarks"==this.configService.config.defaultPrimarykeyWindows?"bookmarks":"lastTags",this.geometryType=this.params.data.geometryType,this.currentListOfTags=this.tagsService.tags,this.loading=!1}},{key:"dismiss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.modalCtrl.dismiss(e)}},{key:"summit",value:function(e){this.dismiss(e)}},{key:"cancel",value:function(){this.dismiss()}},{key:"selected",value:function(e){this.summit(e)}},{key:"addBookmark",value:function(e){this.tagsService.addBookMark(e)}},{key:"removeBookmark",value:function(e){this.tagsService.removeBookMark(e)}},{key:"addCustomValue",value:function(e,t){var n={icon:"maki-circle-custom",markerColor:"#000000",geometry:["point","vertex","line","area"],lbl:{en:"".concat(e," = ").concat(t)},presets:[],id:"".concat(e,"/").concat(t),key:t,tags:{},isUserTag:!0};n.tags[e]=t,this.tagsService.addUserTags(n),this.summit(n)}},{key:"swipeLeft",value:function(){console.log("this.swipeLeft"),this.displayType="bookmarks"}},{key:"swipeRight",value:function(){console.log("swipeRight"),this.displayType="lastTags"}},{key:"changePageLastTagsBookmarks",value:function(e){this.displayType=e,this.configService.setDefaultPrimarykeyWindows(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(pb),Za(zb),Za(Mx),Za(Sx))},e.\u0275cmp=Ue({type:e,selectors:[["modal-primary-tag"]],decls:1,vars:1,consts:[["style","height: 100%; background-color: white",4,"ngIf"],[2,"height","100%","background-color","white"],["id","searchSelect"],["id","searchDiv"],["autocomplete","off","autocorrect","off","autocapitalize","none","inputmode","text",3,"ngModel","debounce","ngModelChange"],["class","listTag",4,"ngIf"],["class","listTag",3,"swipeleft","swiperight",4,"ngIf"],["id","footer"],["ion-button","","color","danger",3,"click"],["style","height: 100%",4,"ngIf"],[1,"listTag"],[2,"overflow-y","auto"],["class","ion-no-padding",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"ion-no-padding"],[2,"width","100%",3,"tag","countryTags","languageTags","jsonSprites","geometriesFilter","bookmarksIds","oldTagConfig","removeBookmark","addBookmark","selected"],["color","primary",3,"click"],[1,"listTag",3,"swipeleft","swiperight"],[2,"text-align","center"],[1,"buttonsSwitchType"],["ion-button","","color","light",1,"buttonSwitchType",3,"disabled","click"],["name","time"],["name","heart"],["class","lastTags",4,"ngIf"],["class","bookmarks",4,"ngIf"],[1,"lastTags"],[1,"bookmarks"],[2,"height","100%"]],template:function(e,t){1&e&&$a(0,Zk,12,8,"div",0),2&e&&Ja("ngIf",!t.loading)},directives:[pc,ib,k_,wy,jy,$_,N_,eb,fc,K_,Ik,H_,Q_,Z_,ub],pipes:[kx,Dk,Ak,Pk,Ok,Nk,Rk,Fk,Yk,Sc],styles:["ion-header[_ngcontent-%COMP%]{height:65px}#searchSelect[_ngcontent-%COMP%]{position:absolute;top:0;height:65px;width:100%;margin-left:auto;margin-right:auto}#searchDiv[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.listTag[_ngcontent-%COMP%]{position:absolute;top:65px;bottom:50px;width:100%;overflow-y:scroll}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;width:100%}.buttonSwitchType[_ngcontent-%COMP%]{width:50%;margin:0}"]}),e}(),Kk=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"replaceCharSpe",value:function(e){return e.replace(/[\xfb]/gi,"u").replace(/[\xe1\xe0\xe2]/gi,"a").replace(/[\xe9\xe8\xea\xeb]/gi,"e").replace(/[\xed\xee\xef]/gi,"i").replace(/[\xf3\xf4]/gi,"o").replace(/\xe7/g,"c")}},{key:"transform",value:function(e,t,n){var r=this,i=new RegExp(n,"i"),a=_slicedToArray(t,2),o=a[0];a[1];return e.filter(function(e){if(i.test(e.v))return!0;if(i.test(r.replaceCharSpe(e.v)))return!0;if(e.lbl){var t=e.lbl[o]?e.lbl[o]:e.lbl.en;if(i.test(t))return!0;if(i.test(r.replaceCharSpe(t)))return!0}if(e.terms){var n=e.terms[o]?e.terms[o]:e.terms.en;if(i.test(n))return!0;if(i.test(r.replaceCharSpe(n)))return!0}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"filterByPresetsContent",type:e,pure:!1}),e}(),Qk=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return e&&e.filter(function(e){return!e.countryCodes||e.countryCodes.map(function(e){return e.toUpperCase()}).includes(t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"filterByCountryCode",type:e,pure:!1}),e}();function eC(e,t){if(1&e&&(Qa(0,"ion-item"),Qa(1,"ion-label"),Qa(2,"b"),Eo(3),eo(),to(4,"br"),Eo(5),eo(),to(6,"ion-radio",8),eo()),2&e){var n=t.$implicit,r=ho();bi(3),To(n.lbl[r.language]||n.lbl.en),bi(2),Lo(" ",n.v," "),bi(1),Ja("value",n)}}var tC=function(e){return[e]},nC=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this.params=t,this.modalCtrl=n,this.platform=r,this.configService=i,this.searchText="",this.initvalue=t.data.value,this.data=t.data,this.language=this.configService.config.languageTags,this.countryCode=this.configService.config.countryTags}return _createClass(e,[{key:"dismiss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.modalCtrl.dismiss(e)}},{key:"selected",value:function(e){e&&e.detail&&this.initvalue!==e.detail&&this.dismiss({key:this.data.key,value:e.detail.value.v,tags:e.detail.value.tags})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(pb),Za(zb),Za(C_),Za(Sx))},e.\u0275cmp=Ue({type:e,selectors:[["modal-select-list"]],decls:16,vars:16,consts:[["id","divContentSB"],["id","searchDiv"],[3,"ngModel","debounce","ngModelChange"],[1,"listTag"],[3,"ionChange"],[4,"ngFor","ngForOf"],["id","footer"],["ion-button","","color","danger",3,"click"],[3,"value"]],template:function(e,t){1&e&&(Qa(0,"ion-toolbar"),Qa(1,"ion-title"),Eo(2),eo(),eo(),Qa(3,"div",0),Qa(4,"div",1),Qa(5,"ion-searchbar",2),uo("ngModelChange",function(e){return t.searchText=e}),eo(),eo(),eo(),Qa(6,"div",3),Qa(7,"ion-list"),Qa(8,"ion-radio-group",4),uo("ionChange",function(e){return t.selected(e)}),$a(9,eC,7,3,"ion-item",5),tu(10,"filterByPresetsContent"),tu(11,"filterByCountryCode"),eo(),eo(),eo(),Qa(12,"ion-footer",6),Qa(13,"ion-button",7),uo("click",function(){return t.dismiss()}),Eo(14),tu(15,"translate"),eo(),eo()),2&e&&(bi(2),Lo(" ",t.data.preset.lbl[t.language]||t.data.preset.lbl.en," "),bi(3),Ja("ngModel",t.searchText)("debounce",300),bi(4),Ja("ngForOf",iu(10,5,ru(11,9,t.data.preset.options,t.countryCode),Xs(14,tC,t.language),t.searchText)),bi(5),To(nu(15,12,"SHARED.CANCEL")))},directives:[cb,ub,ib,k_,wy,jy,eb,nb,x_,fc,$_,N_,K_,Q_,tb,b_],pipes:[Kk,Qk,kx],styles:["ion-toolbar[_ngcontent-%COMP%]{box-shadow:1px 2px 4px rgba(0,0,0,.3)}#divContentSB[_ngcontent-%COMP%]{position:absolute;top:56px;height:65px;width:100%;background-color:#fff}#searchDiv[_ngcontent-%COMP%]{width:100%}.listTag[_ngcontent-%COMP%]{position:absolute;top:114px;bottom:50px;width:100%;overflow-y:scroll;background-color:#fff}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;width:100%;background-color:#fff;box-shadow:-1px -2px 4px rgba(0,0,0,.3)}td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid grey}"]}),e}();function rC(e,t){if(1&e){var n=io();Qa(0,"ion-button",4),uo("click",function(){Dt(n);var e=ho(2);return e.fixDeprecated.emit({old:e.tagConfig.tags,replace:e.tagConfig.replace})}),to(1,"ion-icon",5),eo()}}function iC(e,t){if(1&e&&(Qa(0,"ion-card",2),Qa(1,"ion-card-content"),Eo(2),tu(3,"translate"),$a(4,rC,2,0,"ion-button",3),eo(),eo()),2&e){var n=ho();bi(2),Lo(" ",nu(3,2,"ALERT.TAG_IS_DEPRECATED")," "),bi(2),Ja("ngIf",n.tagConfig.replace)}}function aC(e,t){if(1&e&&(Qa(0,"ion-card",2),Qa(1,"ion-card-content"),Eo(2),eo(),eo()),2&e){var n=ho();bi(2),Lo(" ",(null==n.tagConfig?null:n.tagConfig.alert[n.language])||(null==n.tagConfig?null:n.tagConfig.alert.en)," ")}}function oC(e,t){if(1&e&&(Qa(0,"ion-card",6),Qa(1,"ion-card-content"),Eo(2),eo(),eo()),2&e){var n=ho();bi(2),Lo(" ",(null==n.tagConfig?null:n.tagConfig.warning[n.language])||(null==n.tagConfig?null:n.tagConfig.warning.en)," ")}}var sC=function(){var e=function(){function e(){_classCallCheck(this,e),this.fixDeprecated=new lu}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["app-alert"]],inputs:{tagConfig:"tagConfig",language:"language",countryCode:"countryCode"},outputs:{fixDeprecated:"fixDeprecated"},decls:3,vars:3,consts:[["class","alertCard",4,"ngIf"],["class","warningtCard",4,"ngIf"],[1,"alertCard"],[3,"click",4,"ngIf"],[3,"click"],["name","hammer"],[1,"warningtCard"]],template:function(e,t){1&e&&($a(0,iC,5,4,"ion-card",0),$a(1,aC,3,1,"ion-card",0),$a(2,oC,3,1,"ion-card",1)),2&e&&(Ja("ngIf",t.tagConfig&&(null==t.tagConfig?null:t.tagConfig.deprecated)),bi(1),Ja("ngIf",t.tagConfig&&(null==t.tagConfig?null:t.tagConfig.alert)&&((null==t.tagConfig?null:t.tagConfig.alert[t.language])||(null==t.tagConfig?null:t.tagConfig.alert.en))),bi(1),Ja("ngIf",t.tagConfig&&(null==t.tagConfig?null:t.tagConfig.warning)&&((null==t.tagConfig?null:t.tagConfig.warning[t.language])||(null==t.tagConfig?null:t.tagConfig.warning.en))&&(!t.tagConfig.warningCountryCodes||t.tagConfig.warningCountryCodes.includes(t.countryCode))))},directives:[pc,F_,Y_,N_,Z_],pipes:[kx],styles:[".alertCard[_ngcontent-%COMP%]{background-color:#da281c;color:#fff}.warningtCard[_ngcontent-%COMP%]{background-color:#ff6b3e;color:#fff}"]}),e}();function uC(e,t){if(1&e&&(Qa(0,"p",6),Eo(1),eo()),2&e){var n=ho();bi(1),Lo(" ",n.tagConfig.lbl[n.language]?n.tagConfig.lbl[n.language]:n.tagConfig.lbl.en," ")}}function lC(e,t){if(1&e&&(Qa(0,"p",7),Eo(1),eo()),2&e){var n=ho();bi(1),Lo(" ",void 0!==n.tagConfig.description[n.language]?n.tagConfig.description[n.language]:n.tagConfig.description.en," ")}}function cC(e,t){if(1&e&&(Qa(0,"span"),to(1,"ion-icon",8),Eo(2),tu(3,"displayTags"),eo()),2&e){var n=ho();bi(2),Lo(" ",nu(3,1,n.tagConfig.tags)," ")}}function hC(e,t){if(1&e&&(Qa(0,"span"),to(1,"ion-icon",8),Eo(2),eo()),2&e){var n=ho();bi(2),Io(" ",n.primaryKey.key,"=",n.primaryKey.value," ")}}var fC=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){this.primaryKey=this.findPkey(this.feature)}},{key:"findPkey",value:function(e){var t=this.primaryKeys;for(var n in e.properties.tags)if(t.includes(n))return{key:n,value:e.properties.tags[n]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["read-primary-key"]],inputs:{displayCode:"displayCode",tagsConfig:"tagsConfig",tagConfig:"tagConfig",language:"language",feature:"feature",jsonSprites:"jsonSprites",primaryKeys:"primaryKeys"},decls:9,vars:8,consts:[[2,"width","50px","height","100%","position","absolute"],[1,"iconImgPNG","imgCenter",3,"icon","jsonSprites"],[1,"primaryCardContent"],["class","primaryKeyLabel",4,"ngIf"],["class","description",4,"ngIf"],[4,"ngIf"],[1,"primaryKeyLabel"],[1,"description"],["name","code"]],template:function(e,t){1&e&&(Qa(0,"ion-card"),Qa(1,"div",0),to(2,"app-icon",1),eo(),Qa(3,"div",2),Qa(4,"ion-card-content"),$a(5,uC,2,1,"p",3),$a(6,lC,2,1,"p",4),$a(7,cC,4,3,"span",5),$a(8,hC,3,2,"span",5),eo(),eo(),eo()),2&e&&(bi(1),bo("background-color",t.tagConfig&&t.tagConfig.markerColor?t.tagConfig.markerColor:"black"),bi(1),Ja("icon",t.tagConfig&&t.tagConfig.icon?t.tagConfig.icon:null)("jsonSprites",t.jsonSprites),bi(3),Ja("ngIf",!t.displayCode&&(null==t.tagConfig?null:t.tagConfig.lbl)),bi(1),Ja("ngIf",!t.displayCode&&t.tagConfig&&t.tagConfig.description),bi(1),Ja("ngIf",t.displayCode&&t.tagConfig),bi(1),Ja("ngIf",!t.tagConfig))},directives:[F_,ak,Y_,pc,Z_],pipes:[Ck],styles:[".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:rgba(0,0,0,.5)}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]}),e}(),dC=n(16738),pC=new qn("NGX_MOMENT_OPTIONS"),mC=dC,gC=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.cdRef=t,this.ngZone=n}return _createClass(e,[{key:"format",value:function(e){return e.from(mC(),this.lastOmitSuffix)}},{key:"transform",value:function(e,t,n){return this.hasChanged(e,t)?(this.lastTime=this.getTime(e),this.lastValue=e,this.lastOmitSuffix=t,this.lastLocale=this.getLocale(e),this.formatFn=n||this.format.bind(this),this.removeTimer(),this.createTimer(),this.lastText=this.formatFn(mC(e))):this.createTimer(),this.lastText}},{key:"ngOnDestroy",value:function(){this.removeTimer()}},{key:"createTimer",value:function(){var e=this;if(!this.currentTimer){var t=mC(this.lastValue),n=1e3*this.getSecondsUntilUpdate(t);this.currentTimer=this.ngZone.runOutsideAngular(function(){return"undefined"!=typeof window?window.setTimeout(function(){e.lastText=e.formatFn(mC(e.lastValue)),e.currentTimer=null,e.ngZone.run(function(){return e.cdRef.markForCheck()})},n):null})}}},{key:"removeTimer",value:function(){this.currentTimer&&(window.clearTimeout(this.currentTimer),this.currentTimer=null)}},{key:"getSecondsUntilUpdate",value:function(e){var t=Math.abs(mC().diff(e,"minute"));return t<1?1:t<60?30:t<180?300:3600}},{key:"hasChanged",value:function(e,t){return this.getTime(e)!==this.lastTime||this.getLocale(e)!==this.lastLocale||t!==this.lastOmitSuffix}},{key:"getTime",value:function(e){return(0,dC.isDate)(e)?e.getTime():(0,dC.isMoment)(e)?e.valueOf():mC(e).valueOf()}},{key:"getLocale",value:function(e){return(0,dC.isMoment)(e)?e.locale():(0,dC.locale)()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Cs,16),Za(Ou,16))},e.\u0275pipe=Ze({name:"amTimeAgo",type:e,pure:!1}),e}(),vC=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:pC,useValue:Object.assign({},t)}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({}),e}();function yC(e,t){1&e&&(Qa(0,"span"),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),Lo(" ",nu(2,1,"MODAL_SELECTED_ITEM.META_BEING_CREATED")," "))}function _C(e,t){if(1&e&&(Qa(0,"span"),Eo(1),tu(2,"translate"),tu(3,"translate"),Eo(4),tu(5,"date"),eo()),2&e){var n=ho();bi(1),Lo(" ",(null==n.feature.properties.meta?null:n.feature.properties.meta.version)>1?nu(2,2,"MODAL_SELECTED_ITEM.META_UPDATED_AT_DATE"):nu(3,4,"MODAL_SELECTED_ITEM.META_CREATED_AT_DATE")," "),bi(3),Lo(" ",ru(5,6,n.feature.properties.meta.timestamp,"dd/MM/yyyy HH:mm")," ")}}function bC(e,t){if(1&e&&(Qa(0,"span"),Eo(1),tu(2,"translate"),tu(3,"translate"),tu(4,"amTimeAgo"),eo()),2&e){var n=ho();bi(1),Io(" ",(null==n.feature.properties.meta?null:n.feature.properties.meta.version)>1?nu(2,2,"MODAL_SELECTED_ITEM.META_UPDATED_AT_DATE_TIME_AGO"):nu(3,4,"MODAL_SELECTED_ITEM.META_CREATED_AT_DATE_TIME_AGO")," ",nu(4,6,n.feature.properties.meta.timestamp)," ")}}function wC(e,t){if(1&e&&(Qa(0,"div",3),Eo(1),tu(2,"translate"),eo()),2&e){var n=ho();bi(1),Lo(" ",nu(2,1,"MODAL_SELECTED_ITEM.THIS_NODE_IS_USED_BY_A_WAY").replace("{x}",n.usedByWays.length)," ")}}var xC=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){this.usedByWays=this.feature.properties.usedByWays||null,dC.locale(this.languageUi)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["read-meta"]],inputs:{feature:"feature",displayCode:"displayCode",languageUi:"languageUi"},decls:13,vars:14,consts:[["color","primary"],[4,"ngIf"],["style","color: orange; font-weight: bold",4,"ngIf"],[2,"color","orange","font-weight","bold"]],template:function(e,t){1&e&&(Qa(0,"ion-card",0),Qa(1,"ion-card-content"),Eo(2),tu(3,"translate"),to(4,"br"),$a(5,yC,3,3,"span",1),$a(6,_C,6,9,"span",1),$a(7,bC,5,8,"span",1),to(8,"br"),Eo(9),tu(10,"translate"),tu(11,"translate"),$a(12,wC,3,3,"div",2),eo(),eo()),2&e&&(bi(2),Io(" ",nu(3,8,"MODAL_SELECTED_ITEM.META_VERSION")," ",null==t.feature.properties?null:t.feature.properties.meta.version," "),bi(3),Ja("ngIf",0===t.feature.properties.meta.timestamp),bi(1),Ja("ngIf",t.displayCode&&t.feature.properties.meta&&0!==t.feature.properties.meta.timestamp),bi(1),Ja("ngIf",!t.displayCode&&0!==t.feature.properties.meta.timestamp),bi(2),Io(" ",nu(10,10,"MODAL_SELECTED_ITEM.META_BY")," ",null!=t.feature.properties.meta&&t.feature.properties.meta.user?null==t.feature.properties.meta?null:t.feature.properties.meta.user:nu(11,12,"MODAL_SELECTED_ITEM.META_MYSELF")," "),bi(3),Ja("ngIf",t.usedByWays))},directives:[F_,Y_,pc],pipes:[kx,Mc,gC],encapsulation:2}),e}(),kC=n(42398),CC=n(51946),SC=n(40069),MC=n(98150),EC=n(42677);function TC(e,t){1&e&&(Qa(0,"div",7),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),Lo(" ",nu(2,1,"OPENINGHOURS.SELECT_AT_LEAST_ONE_DAY")," "))}function LC(e,t){if(1&e){var n=io();Qa(0,"div"),Qa(1,"ion-list"),Qa(2,"ion-item"),Qa(3,"ion-label"),Eo(4),tu(5,"translate"),eo(),Qa(6,"ion-datetime",8),uo("ngModelChange",function(e){return Dt(n).$implicit.start=e}),eo(),eo(),Qa(7,"ion-item"),Qa(8,"ion-label"),Eo(9),tu(10,"translate"),eo(),Qa(11,"ion-datetime",8),uo("ngModelChange",function(e){return Dt(n).$implicit.end=e}),eo(),eo(),eo(),Qa(12,"ion-button",9),uo("click",function(){var e=Dt(n).index;return ho().removeInteval(e)}),Eo(13),tu(14,"translate"),eo(),eo()}if(2&e){var r=t.$implicit;bi(4),Lo(" ",nu(5,5,"OPENINGHOURS.START_TIME")," "),bi(2),Ja("ngModel",r.start),bi(3),To(nu(10,7,"OPENINGHOURS.END_TIME")),bi(2),Ja("ngModel",r.end),bi(2),Lo(" ",nu(14,9,"OPENINGHOURS.DELETE_INTERVAL")," ")}}var IC=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.params=t,this.modalCtrl=n,this.translate=r,this.times=[{start:"09:00",end:"12:00"}],this.days=[{index:0,selected:!1},{index:1,selected:!1},{index:2,selected:!1},{index:3,selected:!1},{index:4,selected:!1},{index:5,selected:!1},{index:6,selected:!1}],this.dayIsSelected=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"timeChange",value:function(e){}},{key:"addNewInteval",value:function(){this.times=[].concat(_toConsumableArray(this.times),[{start:"09:00",end:"12:00"}])}},{key:"removeInteval",value:function(e){this.times.splice(e,1)}},{key:"toggleDay",value:function(e){this.days[e].selected=!this.days[e].selected,this.dayIsSelected=this.days.map(function(e){return e.selected}).includes(!0)}},{key:"cancel",value:function(){this.modalCtrl.dismiss(null)}},{key:"submit",value:function(e,t){this.modalCtrl.dismiss({times:e,days:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(pb),Za(zb),Za(xx))},e.\u0275cmp=Ue({type:e,selectors:[["app-modal-add-opening-hours-interval"]],decls:32,vars:34,consts:[[1,"dayBadge",3,"color","click"],["class","alertSelectADay",4,"ngIf"],[4,"ngFor","ngForOf"],["color","success",3,"click"],["id","footer"],["color","warning",3,"click"],[3,"disabled","click"],[1,"alertSelectADay"],["display-format","HH:mm","picker-format","HH:mm","minuteValues","0,5,10,15,20,25,30,35,40,45,50,55",3,"ngModel","ngModelChange"],["color","danger",3,"click"]],template:function(e,t){1&e&&(Qa(0,"ion-content"),Qa(1,"ion-badge",0),uo("click",function(){return t.toggleDay(0)}),Eo(2),tu(3,"translate"),eo(),Qa(4,"ion-badge",0),uo("click",function(){return t.toggleDay(1)}),Eo(5),tu(6,"translate"),eo(),Qa(7,"ion-badge",0),uo("click",function(){return t.toggleDay(2)}),Eo(8),tu(9,"translate"),eo(),Qa(10,"ion-badge",0),uo("click",function(){return t.toggleDay(3)}),Eo(11),tu(12,"translate"),eo(),Qa(13,"ion-badge",0),uo("click",function(){return t.toggleDay(4)}),Eo(14),tu(15,"translate"),eo(),Qa(16,"ion-badge",0),uo("click",function(){return t.toggleDay(5)}),Eo(17),tu(18,"translate"),eo(),Qa(19,"ion-badge",0),uo("click",function(){return t.toggleDay(6)}),Eo(20),tu(21,"translate"),eo(),$a(22,TC,3,3,"div",1),$a(23,LC,15,11,"div",2),Qa(24,"ion-button",3),uo("click",function(){return t.addNewInteval()}),Eo(25),tu(26,"translate"),eo(),eo(),Qa(27,"ion-footer",4),Qa(28,"ion-button",5),uo("click",function(){return t.cancel()}),Eo(29,"Cancel"),eo(),Qa(30,"ion-button",6),uo("click",function(){return t.submit(t.times,t.days)}),Eo(31,"Submit"),eo(),eo()),2&e&&(bi(1),Ja("color",t.days[0].selected?"primary":"light"),bi(1),Lo(" ",nu(3,18,"DAYS.MONDAY")," "),bi(2),Ja("color",t.days[1].selected?"primary":"light"),bi(1),Lo(" ",nu(6,20,"DAYS.TUESDAY")," "),bi(2),Ja("color",t.days[2].selected?"primary":"light"),bi(1),Lo(" ",nu(9,22,"DAYS.WEDNESDAY")," "),bi(2),Ja("color",t.days[3].selected?"primary":"light"),bi(1),Lo(" ",nu(12,24,"DAYS.THURSDAY")," "),bi(2),Ja("color",t.days[4].selected?"primary":"light"),bi(1),Lo(" ",nu(15,26,"DAYS.FRIDAY")," "),bi(2),Ja("color",t.days[5].selected?"primary":"light"),bi(1),Lo(" ",nu(18,28,"DAYS.SATURDAY")," "),bi(2),Ja("color",t.days[6].selected?"primary":"light"),bi(1),Lo(" ",nu(21,30,"DAYS.SUNDAY")," "),bi(2),Ja("ngIf",!t.dayIsSelected),bi(1),Ja("ngForOf",t.times),bi(2),Lo(" ",nu(26,32,"OPENINGHOURS.ADD_INTERVAL")," "),bi(5),Ja("disabled",!t.dayIsSelected||0==t.times.length))},directives:[V_,O_,pc,fc,N_,$_,eb,K_,Q_,G_,x_,wy,jy],pipes:[kx],styles:[".dayBadge[_ngcontent-%COMP%]{padding:.5em;margin:.2em;font-size:large}.alertSelectADay[_ngcontent-%COMP%]{text-align:center;color:red}"]}),e}(),DC=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=Math.floor(e/60),n=(e%60).toString();1==n.length&&(n="0".concat(n));var r=t.toString();return 1==r.length&&(r="0".concat(r)),r+":"+n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"minutesToHoursMinutes",type:e,pure:!0}),e}();function AC(e,t){if(1&e){var n=io();Qa(0,"ion-button",4),uo("click",function(){return Dt(n),ho(2).openModalAddOpeningHours(null)}),to(1,"ion-icon",5),Eo(2),tu(3,"translate"),eo()}2&e&&(bi(2),Lo(" ",nu(3,1,"OPENINGHOURS.ADD_OPENING_HOURS")," "))}function PC(e,t){if(1&e){var n=io();Qa(0,"ion-icon",10),uo("click",function(){Dt(n);var e=ho().$implicit,t=ho(3).$implicit;return ho(3).deleteCurrentInterval(t,e)}),eo()}}function OC(e,t){if(1&e&&(Qa(0,"div",8),Eo(1),tu(2,"minutesToHoursMinutes"),tu(3,"minutesToHoursMinutes"),$a(4,PC,1,0,"ion-icon",9),eo()),2&e){var n=t.$implicit,r=ho(6);bi(1),Io(" ",nu(2,3,n._start)," - ",nu(3,5,n._end)," "),bi(3),Ja("ngIf",r.editMode)}}function NC(e,t){1&e&&(Qa(0,"div"),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),Lo(" ",nu(2,1,"OPENINGHOURS.CLOSED")," "))}function RC(e,t){if(1&e&&(Qa(0,"div"),$a(1,OC,5,7,"div",7),$a(2,NC,3,3,"div",3),eo()),2&e){var n=t.$implicit;bi(1),Ja("ngForOf",n),bi(1),Ja("ngIf",0==n.length)}}function FC(e,t){if(1&e&&(Qa(0,"tr"),Qa(1,"td"),Eo(2),eo(),Qa(3,"td"),$a(4,RC,3,2,"div",3),eo(),eo()),2&e){var n=t.$implicit,r=ho().$implicit,i=ho(3);bi(2),To(n.text),bi(2),Ja("ngIf",i.findIntervalsByDay(r._typical._intervals,n.index))}}function YC(e,t){if(1&e&&(Qa(0,"div"),Qa(1,"table"),$a(2,FC,5,2,"tr",6),eo(),eo()),2&e){var n=ho(3);bi(2),Ja("ngForOf",n.days)}}function zC(e,t){if(1&e&&(Qa(0,"div"),$a(1,YC,3,1,"div",6),eo()),2&e){var n=ho(2);bi(1),Ja("ngForOf",n.intervals)}}function jC(e,t){1&e&&(Qa(0,"div"),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),Lo(" ",nu(2,1,"OPENINGHOURS.UNKNOW")," "))}function BC(e,t){if(1&e&&(Qa(0,"div"),$a(1,AC,4,3,"ion-button",2),$a(2,zC,2,1,"div",3),$a(3,jC,3,3,"div",3),eo()),2&e){var n=ho();bi(1),Ja("ngIf",n.editMode),bi(1),Ja("ngIf",n.openingHours),bi(1),Ja("ngIf",!n.openingHours)}}function HC(e,t){if(1&e){var n=io();Qa(0,"div",12),Qa(1,"div",13),Qa(2,"ion-item",14),Qa(3,"ion-input",15),uo("ngModelChange",function(e){return Dt(n),ho(2).openingHours=e})("ionChange",function(e){return Dt(n),ho(2).valueChange(e)}),eo(),eo(),eo(),Qa(4,"div",16),Qa(5,"ion-icon",17),uo("click",function(){return Dt(n),ho(2).openingHours=""}),eo(),eo(),eo()}if(2&e){var r=ho(2);bi(3),Ja("ngModel",r.openingHours)("placeholder","opening_hours")}}function UC(e,t){1&e&&(Qa(0,"div",19),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),Lo(" ",nu(2,1,"OPENINGHOURS.TOO_COMPLEX_FOR_OSMGO")," "))}function VC(e,t){if(1&e&&(Qa(0,"div"),Eo(1),$a(2,UC,3,3,"div",18),eo()),2&e){var n=ho(2);bi(1),Lo(" ",n.openingHours," "),bi(1),Ja("ngIf",n.isTooComplex)}}function GC(e,t){if(1&e&&($a(0,HC,6,2,"div",11),$a(1,VC,3,2,"div",3)),2&e){var n=ho();Ja("ngIf",n.editMode),bi(1),Ja("ngIf",!n.editMode)}}var qC=new CC,WC=new SC,$C=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.modalCtrl=t,this.translate=n,this.editMode=!1,this.valueChangeEvent=new lu,this.isError=!1,this.isTooComplex=!1,this.days=[{index:0,text:this.translate.instant("DAYS.MONDAY")},{index:1,text:this.translate.instant("DAYS.TUESDAY")},{index:2,text:this.translate.instant("DAYS.WEDNESDAY")},{index:3,text:this.translate.instant("DAYS.THURSDAY")},{index:4,text:this.translate.instant("DAYS.FRIDAY")},{index:5,text:this.translate.instant("DAYS.SATURDAY")},{index:6,text:this.translate.instant("DAYS.SUNDAY")}]}return _createClass(e,[{key:"valueChange",value:function(e){this.valueChangeEvent.emit(e.target.value),this.parseOpeningHours()}},{key:"parseOpeningHours",value:function(){try{if(this.intervals=qC.parse(this.openingHours),this.isError=!1,this.isTooComplex=!1,""==this.openingHours)return void(this.isError=!1);this.intervals.length>1?this.isTooComplex=!0:1==this.intervals.length&&(this.isTooComplex=!this.intervals[0].definesTypicalWeek()||"always"!==this.intervals[0].getInterval()._type)}catch(e){this.isError=!0}}},{key:"ngOnInit",value:function(){this.parseOpeningHours()}},{key:"findIntervalsByDay",value:function(e,t){return e.filter(function(e){return e&&e._dayStart==t})}},{key:"deleteCurrentInterval",value:function(e,t){var n=e._wideInterval._type,r=this.intervals.find(function(e){return e._wideInterval._type=n}),i=r.getTypical().getIntervals().findIndex(function(e){return e&&e._dayStart==t._dayStart&&e._dayEnd==t._dayEnd&&e._start==t._start&&e._end==t._end});r.getTypical().removeInterval(i),this.openingHours=WC.build(this.intervals),this.valueChangeEvent.emit(this.openingHours)}},{key:"addIntervals",value:function(e,t){if(!this.intervals||0==this.intervals.length){var n=new EC;this.intervals=[new MC(n.always())]}var r,i=this.intervals.find(function(e){return e._wideInterval._type="always"}),a=_createForOfIteratorHelper(t.filter(function(e){return e.selected}).map(function(e){return e.index}));try{for(a.s();!(r=a.n()).done;){var o,s=r.value,u=_createForOfIteratorHelper(e);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=this.timeToMinutes(l.start),h=this.timeToMinutes(l.end),f=c>h?s+1:s;7==f&&(f=0),i.getTypical().addInterval(new kC(s,f,c,h))}}catch(d){u.e(d)}finally{u.f()}}}catch(d){a.e(d)}finally{a.f()}this.openingHours=WC.build(this.intervals),this.valueChangeEvent.emit(this.openingHours),this.parseOpeningHours()}},{key:"timeToMinutes",value:function(e){var t=_slicedToArray(e.split(":").map(function(e){return parseInt(e)}),2),n=t[0];return t[1]+60*n}},{key:"openModalAddOpeningHours",value:function(e){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function t(){var n,r=this;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:IC,componentProps:e});case 2:return n=t.sent,t.next=5,n.present();case 5:n.onDidDismiss().then(function(e){var t=e.data;t&&r.addIntervals(t.times,t.days)});case 6:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(zb),Za(xx))},e.\u0275cmp=Ue({type:e,selectors:[["app-opening-hours"]],inputs:{openingHours:"openingHours",displayCode:"displayCode",editMode:"editMode"},outputs:{valueChangeEvent:"valueChangeEvent"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["code",""],["size","small",3,"click",4,"ngIf"],[4,"ngIf"],["size","small",3,"click"],["name","add"],[4,"ngFor","ngForOf"],["style","margin-bottom: 0.5em",4,"ngFor","ngForOf"],[2,"margin-bottom","0.5em"],["name","close-outline","style","\n                                        font-size: 1.5em;\n                                        vertical-align: bottom;\n                                        color: red;\n                                        cursor: pointer;\n                                    ",3,"click",4,"ngIf"],["name","close-outline",2,"font-size","1.5em","vertical-align","bottom","color","red","cursor","pointer",3,"click"],["class","wrapperEdit2cols",4,"ngIf"],[1,"wrapperEdit2cols"],[1,"contentEdit2cols"],[2,"padding-left","0px"],["type","text","debounce","200",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"buttonEdit2cols"],["name","close",2,"width","2em","height","2em",3,"click"],["class","tooComplex",4,"ngIf"],[1,"tooComplex"]],template:function(e,t){if(1&e&&($a(0,BC,4,3,"div",0),$a(1,GC,2,2,"ng-template",null,1,cu)),2&e){var n=Xa(2);Ja("ngIf",t.intervals&&!t.displayCode&&!t.isError&&!t.isTooComplex)("ngIfElse",n)}},directives:[pc,N_,Z_,fc,K_,J_,k_,wy,jy],pipes:[kx,DC],styles:["td[_ngcontent-%COMP%]{padding:.5em}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.tooComplex[_ngcontent-%COMP%]{font-size:small;font-style:italic}",".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:rgba(0,0,0,.5)}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]}),e}(),XC=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return t&&t.options&&t.options.find(function(t){return t.v===e.value})||void 0}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"displayPresetLabel",type:e,pure:!1}),e}();function ZC(e,t){if(1&e&&(Qa(0,"b"),Eo(1),eo()),2&e){var n=ho();bi(1),To((null==n.preset?null:n.preset.lbl[n.language])||(null==n.preset?null:n.preset.lbl.en))}}function JC(e,t){if(1&e&&(Qa(0,"b"),Eo(1),eo()),2&e){var n=ho();bi(1),To(null==n.preset?null:n.preset.key)}}function KC(e,t){1&e&&(Qa(0,"a",2),to(1,"ion-icon",3),eo()),2&e&&go("href",ho().tag.value,Cr)}function QC(e,t){1&e&&to(0,"div")}function eS(e,t){if(1&e&&(Qa(0,"p"),Eo(1),eo()),2&e){var n=t.$implicit,r=ho(2);bi(1),Lo(" ",n.lbl[r.language]||n.lbl.en," ")}}function tS(e,t){1&e&&to(0,"ion-icon",7)}var nS=function(){return["number","text","tel","url","email"]};function rS(e,t){if(1&e&&($a(0,tS,1,0,"ion-icon",6),Eo(1)),2&e){var n=ho(2);Ja("ngIf",!$s(2,nS).includes(null==n.preset?null:n.preset.type)),bi(1),Lo(" ",n.tag.value," ")}}function iS(e,t){if(1&e&&(Qa(0,"ion-card-content"),$a(1,QC,1,0,"div",0),$a(2,eS,2,1,"p",4),tu(3,"displayPresetLabel"),$a(4,rS,2,3,"ng-template",null,5,cu),eo()),2&e){var n=Xa(5),r=ho();bi(1),Ja("ngIf","opening_hours"==(null==r.preset?null:r.preset.type)),bi(1),Ja("ngIf",!r.displayCode&&ru(3,3,r.tag,r.preset))("ngIfElse",n)}}function aS(e,t){if(1&e&&to(0,"app-opening-hours",9),2&e){var n=ho(2);Ja("openingHours",n.tag.value)("displayCode",n.displayCode)}}function oS(e,t){if(1&e&&(to(0,"ion-icon",7),Eo(1)),2&e){var n=ho(2);bi(1),Lo(" ",n.tag.value," ")}}function sS(e,t){if(1&e&&(Qa(0,"ion-card-content"),$a(1,aS,1,2,"app-opening-hours",8),$a(2,oS,2,1,"ng-template",null,5,cu),eo()),2&e){var n=Xa(3),r=ho();bi(1),Ja("ngIf",!r.displayCode)("ngIfElse",n)}}var uS=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["read-presets"]],inputs:{displayCode:"displayCode",tag:"tag",preset:"preset",language:"language",countryCode:"countryCode"},decls:7,vars:5,consts:[[4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["name","link"],[4,"ngIf","ngIfElse"],["noPreset",""],["name","code",4,"ngIf"],["name","code"],[3,"openingHours","displayCode",4,"ngIf","ngIfElse"],[3,"openingHours","displayCode"]],template:function(e,t){1&e&&(Qa(0,"ion-card"),Qa(1,"ion-card-header"),$a(2,ZC,2,1,"b",0),$a(3,JC,2,1,"b",0),$a(4,KC,2,1,"a",1),eo(),$a(5,iS,6,6,"ion-card-content",0),$a(6,sS,4,2,"ion-card-content",0),eo()),2&e&&(bi(2),Ja("ngIf",!t.displayCode),bi(1),Ja("ngIf",t.displayCode),bi(1),Ja("ngIf","url"==(null==t.preset?null:t.preset.type)&&t.tag.value),bi(1),Ja("ngIf","opening_hours"!=(null==t.preset?null:t.preset.type)),bi(1),Ja("ngIf","opening_hours"==(null==t.preset?null:t.preset.type)))},directives:[F_,z_,pc,Z_,Y_,$C],pipes:[XC],encapsulation:2}),e}(),lS=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["read-other-tag"]],inputs:{tag:"tag"},decls:8,vars:2,consts:[["name","code"]],template:function(e,t){1&e&&(Qa(0,"ion-card"),Qa(1,"ion-card-header"),Qa(2,"b"),Eo(3),eo(),eo(),Qa(4,"ion-card-content"),Qa(5,"p"),to(6,"ion-icon",0),Eo(7),eo(),eo(),eo()),2&e&&(bi(3),To(t.tag.key),bi(4),Lo(" ",t.tag.value,""))},directives:[F_,z_,Y_,Z_],encapsulation:2}),e}();function cS(e,t){if(1&e&&(Qa(0,"p",11),Eo(1),eo()),2&e){var n=ho();bi(1),Lo(" ",n.tagConfig.lbl[n.language]?n.tagConfig.lbl[n.language]:n.tagConfig.lbl.en," ")}}function hS(e,t){if(1&e&&(Qa(0,"p",12),Eo(1),eo()),2&e){var n=ho();bi(1),Lo(" ",void 0!==n.tagConfig.description[n.language]?n.tagConfig.description[n.language]:n.tagConfig.description.en," ")}}function fS(e,t){if(1&e&&(Qa(0,"span"),to(1,"ion-icon",13),Eo(2),tu(3,"displayTags"),eo()),2&e){var n=ho();bi(2),Lo(" ",nu(3,1,n.tagConfig.tags)," ")}}function dS(e,t){if(1&e&&(Qa(0,"span"),to(1,"ion-icon",13),Eo(2),eo()),2&e){var n=ho();bi(2),Io(" ",n.primaryKey.key,"=",n.primaryKey.value," ")}}var pS=function(){var e=function(){function e(){_classCallCheck(this,e),this.openPrimaryTagModal=new lu}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"emitOpenModal",value:function(){this.openPrimaryTagModal.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["edit-primary-key"]],inputs:{displayCode:"displayCode",tagsConfig:"tagsConfig",tagConfig:"tagConfig",language:"language",jsonSprites:"jsonSprites",feature:"feature",primaryKey:"primaryKey"},outputs:{openPrimaryTagModal:"openPrimaryTagModal"},decls:13,vars:8,consts:[[3,"click"],[2,"width","50px","height","100%","position","absolute"],[1,"iconImgPNG","imgCenter",3,"icon","jsonSprites"],[1,"primaryCardContent"],[1,"wrapperEdit2cols"],[1,"contentEdit2cols"],["class","primaryKeyLabel",4,"ngIf"],["class","description",4,"ngIf"],[4,"ngIf"],[1,"buttonEdit2cols"],["name","settings",2,"width","2em","height","2em"],[1,"primaryKeyLabel"],[1,"description"],["name","code"]],template:function(e,t){1&e&&(Qa(0,"ion-card",0),uo("click",function(){return t.emitOpenModal()}),Qa(1,"div",1),to(2,"app-icon",2),eo(),Qa(3,"div",3),Qa(4,"ion-card-content"),Qa(5,"div",4),Qa(6,"div",5),$a(7,cS,2,1,"p",6),$a(8,hS,2,1,"p",7),$a(9,fS,4,3,"span",8),$a(10,dS,3,2,"span",8),eo(),Qa(11,"div",9),to(12,"ion-icon",10),eo(),eo(),eo(),eo(),eo()),2&e&&(bi(1),bo("background-color",t.tagConfig&&t.tagConfig.markerColor?t.tagConfig.markerColor:"black"),bi(1),Ja("icon",t.tagConfig&&t.tagConfig.icon?t.tagConfig.icon:null)("jsonSprites",t.jsonSprites),bi(5),Ja("ngIf",!t.displayCode&&(null==t.tagConfig?null:t.tagConfig.lbl)),bi(1),Ja("ngIf",!t.displayCode&&t.tagConfig&&t.tagConfig.description),bi(1),Ja("ngIf",t.displayCode&&t.tagConfig),bi(1),Ja("ngIf",!t.tagConfig||!(null!=t.tagConfig&&t.tagConfig.lbl)))},directives:[F_,ak,Y_,pc,Z_],pipes:[Ck],styles:[".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:rgba(0,0,0,.5)}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]}),e}();function mS(e,t){if(1&e&&(Qa(0,"b"),Eo(1),eo()),2&e){var n=ho(2);bi(1),To((null==n.preset?null:n.preset.lbl[n.language])||(null==n.preset?null:n.preset.lbl.en))}}function gS(e,t){if(1&e&&(to(0,"ion-icon",8),Eo(1)),2&e){var n=ho(2);bi(1),Lo(" ",null==n.preset?null:n.preset.key," ")}}function vS(e,t){if(1&e&&(Qa(0,"ion-select-option",10),Qa(1,"p",14),Eo(2),eo(),eo()),2&e){var n=t.$implicit,r=ho(3);Ja("value",n.v),bi(2),Lo(" ",n.lbl[r.language]||n.lbl.en," ")}}function yS(e,t){if(1&e&&(Qa(0,"ion-select-option",10),Eo(1),Qa(2,"p",14),Eo(3),tu(4,"displayPresetLabel"),eo(),eo()),2&e){var n=ho(3);Ja("value",n.tag.value),bi(1),Lo(" ","<> "," "),bi(2),Io(" ",n.tag.value," ",ru(4,4,n.tag,n.preset)," ")}}function _S(e,t){if(1&e){var n=io();Qa(0,"div"),Qa(1,"ion-select",9),uo("ionChange",function(e){return Dt(n),ho(2).selectChange(e)}),Qa(2,"ion-select-option",10),Qa(3,"p",11),Eo(4),tu(5,"translate"),eo(),eo(),$a(6,vS,3,2,"ion-select-option",12),$a(7,yS,5,7,"ion-select-option",13),tu(8,"displayPresetLabel"),eo(),eo()}if(2&e){var r=ho(2);bi(1),Ja("interface","action-sheet")("value",r.tag.value),bi(1),Ja("value",""),bi(2),Lo(" ",nu(5,6,"MODAL_SELECTED_ITEM.UNDEFINED_VALUE")," "),bi(2),Ja("ngForOf",r.preset.options),bi(1),Ja("ngIf",void 0===ru(8,8,r.tag,r.preset)&&""!=r.tag.value)}}function bS(e,t){if(1&e){var n=io();Qa(0,"ion-item"),Qa(1,"ion-input",15),uo("ngModelChange",function(e){return Dt(n),ho(2).tag.value=e}),eo(),eo()}if(2&e){var r=ho(2);bi(1),Ja("ngModel",r.tag.value)("placeholder",r.tag.key)}}function wS(e,t){if(1&e){var n=io();Qa(0,"ion-card"),Qa(1,"ion-card-header"),$a(2,mS,2,1,"b",1),$a(3,gS,2,1,"ng-template",null,2,cu),eo(),Qa(5,"ion-card-content"),Qa(6,"div",3),Qa(7,"div",4),$a(8,_S,9,11,"div",0),$a(9,bS,2,2,"ion-item",0),eo(),Qa(10,"div",5),Qa(11,"ion-col",6),Qa(12,"ion-icon",7),uo("click",function(){return Dt(n),ho().tag.value=""}),eo(),eo(),eo(),eo(),eo(),eo()}if(2&e){var r=Xa(4),i=ho();bi(2),Ja("ngIf",!i.displayCode&&((null==i.preset?null:i.preset.lbl[i.language])||(null==i.preset?null:i.preset.lbl.en)))("ngIfElse",r),bi(6),Ja("ngIf",!i.displayCode),bi(1),Ja("ngIf",i.displayCode)}}var xS=function(){var e=function(){function e(){_classCallCheck(this,e),this.addTags=new lu}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"selectChange",value:function(e){console.log("selectChange");var t=e.detail.value;this.tag.value=t;var n=this.preset.options.find(function(e){return e.v==t});n&&n.tags&&this.addTags.emit(n.tags)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["app-select"]],inputs:{displayCode:"displayCode",tag:"tag",preset:"preset",language:"language"},outputs:{addTags:"addTags"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["diplayCodeSelect",""],[1,"wrapperEdit2cols"],[1,"contentEdit2cols"],[1,"buttonEdit2cols"],["width-10","",1,"ion-col10"],["name","close",2,"width","2em","height","2em",3,"click"],["name","code"],[2,"width","100%","min-width","100%","padding-left","0",3,"interface","value","ionChange"],[3,"value"],[1,"undefindedListValue"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[1,"displayLabelListValue"],["type","text",3,"ngModel","placeholder","ngModelChange"]],template:function(e,t){1&e&&$a(0,wS,13,4,"ion-card",0),2&e&&Ja("ngIf","select"===(null==t.preset?null:t.preset.type))},directives:[pc,F_,z_,Y_,U_,Z_,ab,x_,ob,fc,K_,J_,k_,wy,jy],pipes:[kx,XC],styles:["",".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:rgba(0,0,0,.5)}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]}),e}();function kS(e,t){if(1&e){var n=io();Qa(0,"app-select",2),uo("addTags",function(e){return Dt(n),ho().addTags.emit(e)}),eo()}if(2&e){var r=ho();Ja("tag",r.tag)("preset",r.preset)("language",r.language)("displayCode",r.displayCode)}}function CS(e,t){if(1&e&&(Qa(0,"b"),Eo(1),to(2,"ion-icon",10),eo()),2&e){var n=ho(2);bi(1),Lo("",(null==n.preset?null:n.preset.lbl[n.language])||(null==n.preset?null:n.preset.lbl.en)," ")}}function SS(e,t){if(1&e&&(Qa(0,"b"),to(1,"ion-icon",11),Eo(2),eo()),2&e){var n=ho(2);bi(2),Lo(" ",null==n.preset?null:n.preset.key,"")}}function MS(e,t){if(1&e&&(Qa(0,"p",14),Eo(1),eo()),2&e){var n=ho().$implicit,r=ho(2);bi(1),Lo(" ",(null==n?null:n.lbl[r.language])||(null==n?null:n.lbl.en)," ")}}function ES(e,t){1&e&&(Qa(0,"p",15),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),Lo(" ",nu(2,1,"MODAL_SELECTED_ITEM.UNDEFINED_VALUE")," "))}function TS(e,t){if(1&e){var n=io();Qa(0,"ion-item",3),uo("click",function(){Dt(n);var e=ho(2);return e.emitOpenModal(e.tag)}),$a(1,MS,2,1,"p",12),$a(2,ES,3,3,"p",13),eo()}if(2&e){var r=ho(2);bi(1),Ja("ngIf",""!=r.tag.value),bi(1),Ja("ngIf",""==r.tag.value)}}function LS(e,t){if(1&e){var n=io();Qa(0,"ion-label",16),to(1,"ion-icon",11),eo(),Qa(2,"ion-input",17),uo("ngModelChange",function(e){return Dt(n),ho(2).tag.value=e}),eo()}if(2&e){var r=ho(2);bi(2),Ja("ngModel",r.tag.value)("placeholder",r.tag.key)}}function IS(e,t){if(1&e){var n=io();Qa(0,"ion-card"),Qa(1,"ion-card-header",3),uo("click",function(){Dt(n);var e=ho();return e.emitOpenModal(e.tag)}),$a(2,CS,3,1,"b",1),$a(3,SS,3,1,"b",1),eo(),Qa(4,"ion-card-content"),Qa(5,"div",4),Qa(6,"div",5),$a(7,TS,3,2,"ion-item",6),tu(8,"displayPresetLabel"),$a(9,LS,3,2,"ng-template",null,7,cu),eo(),Qa(11,"div",8),Qa(12,"ion-icon",9),uo("click",function(){return Dt(n),ho().tag.value=""}),eo(),eo(),eo(),eo(),eo()}if(2&e){var r=Xa(10),i=ho();bi(2),Ja("ngIf",!i.displayCode),bi(1),Ja("ngIf",i.displayCode),bi(4),Ja("ngIf",!i.displayCode&&(ru(8,4,i.tag,i.preset)||""==i.tag.value))("ngIfElse",r)}}function DS(e,t){if(1&e&&(Qa(0,"b"),Eo(1),eo()),2&e){var n=ho(2);bi(1),To((null==n.preset?null:n.preset.lbl[n.language])||(null==n.preset?null:n.preset.lbl.en))}}function AS(e,t){if(1&e&&(Qa(0,"b"),to(1,"ion-icon",11),Eo(2),eo()),2&e){var n=ho(2);bi(2),Lo(" ",null==n.preset?null:n.preset.key,"")}}function PS(e,t){if(1&e){var n=io();Qa(0,"ion-card"),Qa(1,"ion-card-header"),$a(2,DS,2,1,"b",1),$a(3,AS,3,1,"b",1),eo(),Qa(4,"ion-card-content"),Qa(5,"div",4),Qa(6,"div",5),Qa(7,"ion-item",18),Qa(8,"ion-input",19),uo("ngModelChange",function(e){return Dt(n),ho().tag.value=e}),eo(),eo(),eo(),Qa(9,"div",8),Qa(10,"ion-icon",9),uo("click",function(){return Dt(n),ho().tag.value=""}),eo(),eo(),eo(),eo(),eo()}if(2&e){var r=ho();bi(2),Ja("ngIf",!r.displayCode),bi(1),Ja("ngIf",r.displayCode),bi(5),Ja("ngModel",r.tag.value)("placeholder",r.tag.key)}}function OS(e,t){if(1&e&&(Qa(0,"b"),Eo(1),eo()),2&e){var n=ho(2);bi(1),To((null==n.preset?null:n.preset.lbl[n.language])||(null==n.preset?null:n.preset.lbl.en))}}function NS(e,t){if(1&e&&(Qa(0,"b"),to(1,"ion-icon",11),Eo(2),eo()),2&e){var n=ho(2);bi(2),Lo(" ",null==n.preset?null:n.preset.key,"")}}function RS(e,t){1&e&&(Qa(0,"a",22),to(1,"ion-icon",23),eo()),2&e&&go("href",ho(2).tag.value,Cr)}function FS(e,t){if(1&e){var n=io();Qa(0,"ion-card"),Qa(1,"ion-card-header"),$a(2,OS,2,1,"b",1),$a(3,NS,3,1,"b",1),$a(4,RS,2,1,"a",20),eo(),Qa(5,"ion-card-content"),Qa(6,"div",4),Qa(7,"div",5),Qa(8,"ion-item",18),Qa(9,"ion-input",21),uo("ngModelChange",function(e){return Dt(n),ho().tag.value=e}),eo(),eo(),eo(),Qa(10,"div",8),Qa(11,"ion-icon",9),uo("click",function(){return Dt(n),ho().tag.value=""}),eo(),eo(),eo(),eo(),eo()}if(2&e){var r=ho();bi(2),Ja("ngIf",!r.displayCode),bi(1),Ja("ngIf",r.displayCode),bi(1),Ja("ngIf","url"==(null==r.preset?null:r.preset.type)&&r.tag.value),bi(5),Ja("type",r.preset.type)("ngModel",r.tag.value)("placeholder",r.tag.key)}}function YS(e,t){if(1&e&&(Qa(0,"b"),Eo(1),eo()),2&e){var n=ho(2);bi(1),To((null==n.preset?null:n.preset.lbl[n.language])||(null==n.preset?null:n.preset.lbl.en))}}function zS(e,t){if(1&e&&(Qa(0,"b"),to(1,"ion-icon",11),Eo(2),eo()),2&e){var n=ho(2);bi(2),Lo(" ",null==n.preset?null:n.preset.key,"")}}function jS(e,t){if(1&e){var n=io();Qa(0,"ion-card"),Qa(1,"ion-card-header"),$a(2,YS,2,1,"b",1),$a(3,zS,3,1,"b",1),eo(),Qa(4,"ion-card-content"),Qa(5,"div",4),Qa(6,"app-opening-hours",24),uo("valueChangeEvent",function(e){return Dt(n),ho().tag.value=e}),eo(),eo(),eo(),eo()}if(2&e){var r=ho();bi(2),Ja("ngIf",!r.displayCode),bi(1),Ja("ngIf",r.displayCode),bi(3),Ja("openingHours",r.tag.value)("displayCode",r.displayCode)("editMode",!0)}}function BS(e,t){if(1&e&&(Qa(0,"b"),Eo(1),eo()),2&e){var n=ho(2);bi(1),To((null==n.preset?null:n.preset.lbl[n.language])||(null==n.preset?null:n.preset.lbl.en))}}function HS(e,t){if(1&e&&(Qa(0,"b"),to(1,"ion-icon",11),Eo(2),eo()),2&e){var n=ho(2);bi(2),Lo(" ",null==n.preset?null:n.preset.key,"")}}function US(e,t){if(1&e){var n=io();Qa(0,"ion-card"),Qa(1,"ion-card-header"),$a(2,BS,2,1,"b",1),$a(3,HS,3,1,"b",1),eo(),Qa(4,"ion-card-content"),Qa(5,"div",4),Qa(6,"div",5),Qa(7,"ion-item",18),Qa(8,"ion-input",17),uo("ngModelChange",function(e){return Dt(n),ho().tag.value=e}),eo(),eo(),eo(),Qa(9,"div",8),Qa(10,"ion-icon",9),uo("click",function(){return Dt(n),ho().tag.value=""}),eo(),eo(),eo(),eo(),eo()}if(2&e){var r=ho();bi(2),Ja("ngIf",!r.displayCode),bi(1),Ja("ngIf",r.displayCode),bi(5),Ja("ngModel",r.tag.value)("placeholder",r.tag.key)}}var VS=function(){return["tel","email","url"]},GS=function(){var e=function(){function e(){_classCallCheck(this,e),this.openPrimaryListModal=new lu,this.addTags=new lu}return _createClass(e,[{key:"emitOpenModal",value:function(e){!this.displayCode&&"list"===this.preset.type&&this.openPrimaryListModal.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["edit-presets"]],inputs:{displayCode:"displayCode",tag:"tag",language:"language",preset:"preset"},outputs:{openPrimaryListModal:"openPrimaryListModal",addTags:"addTags"},decls:6,vars:7,consts:[[3,"tag","preset","language","displayCode","addTags",4,"ngIf"],[4,"ngIf"],[3,"tag","preset","language","displayCode","addTags"],[3,"click"],[1,"wrapperEdit2cols"],[1,"contentEdit2cols"],[3,"click",4,"ngIf","ngIfElse"],["noPreset",""],[1,"buttonEdit2cols"],["name","close",2,"width","2em","height","2em",3,"click"],["name","settings"],["name","code"],["class","displayLabelListValue",4,"ngIf"],["class","undefindedListValue",4,"ngIf"],[1,"displayLabelListValue"],[1,"undefindedListValue"],["color","primary"],["type","text",3,"ngModel","placeholder","ngModelChange"],[2,"padding-left","0px"],["type","number",3,"ngModel","placeholder","ngModelChange"],["target","_blank",3,"href",4,"ngIf"],[3,"type","ngModel","placeholder","ngModelChange"],["target","_blank",3,"href"],["name","link"],[3,"openingHours","displayCode","editMode","valueChangeEvent"]],template:function(e,t){1&e&&($a(0,kS,1,4,"app-select",0),$a(1,IS,13,7,"ion-card",1),$a(2,PS,11,4,"ion-card",1),$a(3,FS,12,6,"ion-card",1),$a(4,jS,7,5,"ion-card",1),$a(5,US,11,4,"ion-card",1)),2&e&&(Ja("ngIf","select"===(null==t.preset?null:t.preset.type)),bi(1),Ja("ngIf","list"===(null==t.preset?null:t.preset.type)),bi(1),Ja("ngIf","number"===(null==t.preset?null:t.preset.type)),bi(1),Ja("ngIf",$s(6,VS).includes(null==t.preset?null:t.preset.type)),bi(1),Ja("ngIf","opening_hours"===(null==t.preset?null:t.preset.type)),bi(1),Ja("ngIf","text"===(null==t.preset?null:t.preset.type)))},directives:[pc,xS,F_,z_,Y_,Z_,K_,Q_,J_,k_,wy,jy,y_,$C],pipes:[XC,kx],styles:[".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:rgba(0,0,0,.5)}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]}),e}(),qS=function(){var e=function(){function e(){_classCallCheck(this,e),this.deleteTag=new lu}return _createClass(e,[{key:"eventDeleteTag",value:function(){this.deleteTag.emit(this.tag)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ue({type:e,selectors:[["edit-other-tag"]],inputs:{tag:"tag"},outputs:{deleteTag:"deleteTag"},decls:12,vars:3,consts:[["name","code"],[1,"wrapperEdit2cols"],[1,"contentEdit2cols"],["type","text",3,"ngModel","placeholder","ngModelChange"],[1,"buttonEdit2cols"],["name","close",2,"width","2em","height","2em",3,"click"]],template:function(e,t){1&e&&(Qa(0,"ion-card"),Qa(1,"ion-card-header"),to(2,"ion-icon",0),Qa(3,"b"),Eo(4),eo(),eo(),Qa(5,"ion-card-content"),Qa(6,"div",1),Qa(7,"div",2),Qa(8,"ion-item"),Qa(9,"ion-input",3),uo("ngModelChange",function(e){return t.tag.value=e}),eo(),eo(),eo(),Qa(10,"div",4),Qa(11,"ion-icon",5),uo("click",function(){return t.eventDeleteTag()}),eo(),eo(),eo(),eo(),eo()),2&e&&(bi(4),To(t.tag.key),bi(5),Ja("ngModel",t.tag.value)("placeholder",t.tag.key))},directives:[F_,z_,Z_,Y_,K_,J_,k_,wy,jy],styles:[".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:rgba(0,0,0,.5)}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]}),e}(),WS=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=["name"];if(!t)return e.filter(function(e){return!o.includes(e.key)});if(o=[].concat(_toConsumableArray(o),_toConsumableArray(Object.keys(t.tags))),i&&a){var s,u=[],l=_createForOfIteratorHelper(t.presets);try{for(l.s();!(s=l.n()).done;){var c=s.value;u.push(i[c].key)}}catch(g){l.e(g)}finally{l.f()}o=[].concat(_toConsumableArray(o),u)}if(n&&i){var h,f=[],d=_createForOfIteratorHelper(t.presets);try{for(d.s();!(h=d.n()).done;){var p=h.value,m=i[p];m.countryCode&&!m.countryCode.includes(n)&&f.push(i[p])}}catch(g){d.e(g)}finally{d.f()}o=[].concat(_toConsumableArray(o),f)}return e.filter(function(e){return!o.includes(e.key)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=Ze({name:"filterExcludeKeys",type:e,pure:!1}),e}();function $S(e,t){1&e&&to(0,"ion-icon",6)}function XS(e,t){1&e&&to(0,"ion-icon",7)}function ZS(e,t){if(1&e&&to(0,"read-meta",19),2&e){var n=ho(2);Ja("feature",n.feature)("displayCode",n.displayCode)("languageUi",n.configService.getUiLanguage())}}function JS(e,t){if(1&e&&to(0,"read-presets",21),2&e){var n=ho().$implicit,r=ho(2);Ja("displayCode",r.displayCode)("tag",n)("preset",n.preset)("language",r.configService.config.languageTags)("countryCode",r.configService.config.countryTags)}}function KS(e,t){if(1&e&&(Qa(0,"div"),$a(1,JS,1,5,"read-presets",20),eo()),2&e){var n=t.$implicit;bi(1),Ja("ngIf",n.preset&&""!==n.value)}}function QS(e,t){if(1&e&&to(0,"read-presets",21),2&e){var n=ho().$implicit,r=ho(2);Ja("displayCode",r.displayCode)("tag",n)("preset",r.tagsService.presets[n.key])("language",r.configService.config.languageTags)("countryCode",r.configService.config.countryTags)}}function eM(e,t){1&e&&to(0,"read-other-tag",25),2&e&&Ja("tag",ho(2).$implicit)}function tM(e,t){1&e&&$a(0,eM,1,1,"read-other-tag",24),2&e&&Ja("ngIf",!ho().$implicit.preset)}function nM(e,t){if(1&e&&(Qa(0,"div"),$a(1,QS,1,5,"read-presets",22),$a(2,tM,1,1,"ng-template",null,23,cu),eo()),2&e){var n=t.$implicit,r=Xa(3),i=ho(2);bi(1),Ja("ngIf",i.tagsService.presets[n.key])("ngIfElse",r)}}function rM(e,t){if(1&e){var n=io();Qa(0,"ion-fab-button",26),uo("click",function(){return Dt(n),ho(2).dismiss()}),to(1,"ion-icon",27),eo()}}function iM(e,t){if(1&e){var n=io();Qa(0,"ion-fab-button",28),uo("click",function(){return Dt(n),ho(2).cancelChange()}),tu(1,"async"),to(2,"ion-icon",27),to(3,"ion-icon",16),eo()}2&e&&Ja("disabled",nu(1,1,ho(2).mapService.isProcessing))}function aM(e,t){if(1&e){var n=io();Qa(0,"ion-fab-button",29),uo("click",function(){return Dt(n),ho(2).confirmAddSurveyDate()}),tu(1,"async"),to(2,"ion-icon",30),eo()}2&e&&Ja("disabled",nu(1,1,ho(2).mapService.isProcessing))}var oM=function(){return{key:"name"}},sM=function(e,t,n,r,i){return[e,t,n,r,i]},uM=function(e,t,n,r,i){return[e,t,n,r,i,!0]};function lM(e,t){if(1&e){var n=io();Qa(0,"div",8),Qa(1,"ion-header"),Qa(2,"ion-toolbar"),Qa(3,"ion-title"),Eo(4),tu(5,"translate"),eo(),eo(),eo(),Qa(6,"div",9),$a(7,ZS,1,3,"read-meta",10),Qa(8,"app-alert",11),uo("fixDeprecated",function(e){return Dt(n),ho().fixDeprecated(e)}),eo(),to(9,"read-primary-key",12),$a(10,KS,2,1,"div",13),tu(11,"filterExcludeKeys"),$a(12,nM,4,2,"div",13),tu(13,"filterExcludeKeys"),eo(),Qa(14,"ion-footer"),$a(15,rM,2,0,"ion-fab-button",14),Qa(16,"ion-fab-button",15),uo("click",function(){return Dt(n),ho().updateMode()}),tu(17,"async"),to(18,"ion-icon",16),eo(),$a(19,iM,4,3,"ion-fab-button",17),$a(20,aM,3,3,"ion-fab-button",18),eo(),eo()}if(2&e){var r=ho();bi(4),Lo(" ",""!=r.findElement(r.tags,$s(35,oM)).value?r.findElement(r.tags,$s(36,oM)).value:nu(5,18,"MODAL_SELECTED_ITEM.NO_NAME")," "),bi(3),Ja("ngIf",r.feature.properties.meta),bi(1),Ja("tagConfig",r.tagConfig)("language",r.configService.config.languageTags)("countryCode",r.configService.config.countryTags),bi(1),Ja("displayCode",r.displayCode)("tagsConfig",r.tagsService.tags)("feature",r.feature)("language",r.configService.config.languageTags)("tagConfig",r.tagConfig)("primaryKeys",r.tagsService.primaryKeys)("jsonSprites",r.tagsService.jsonSprites),bi(1),Ja("ngForOf",au(11,20,Js(37,sM,r.tags,r.tagConfig,r.configService.config.countryTags,r.tagsService.primaryKeys,r.tagsService.presets))),bi(2),Ja("ngForOf",au(13,26,Js(43,uM,r.tags,r.tagConfig,r.configService.config.countryTags,r.tagsService.primaryKeys,r.tagsService.presets))),bi(3),Ja("ngIf","Read"===r.typeFiche),bi(1),Ja("disabled",nu(17,33,r.mapService.isProcessing)),bi(3),Ja("ngIf",r.feature.properties.changeType),bi(1),Ja("ngIf",!r.feature.properties.changeType)}}function cM(e,t){if(1&e){var n=io();Qa(0,"ion-fab",47),Qa(1,"ion-fab-button",2),uo("click",function(){Dt(n);var e=ho(2);return e.restoreFields(e.tagId,e.tags)}),to(2,"ion-icon",48),eo(),eo()}}function hM(e,t){if(1&e&&to(0,"read-meta",19),2&e){var n=ho(2);Ja("feature",n.feature)("displayCode",n.displayCode)("languageUi",n.configService.getUiLanguage())}}function fM(e,t){if(1&e){var n=io();Qa(0,"edit-presets",51),uo("openPrimaryListModal",function(){Dt(n);var e=ho().$implicit,t=ho(2);return t.openModalList(e,e.preset?e.preset:t.tagsService.presets[e.key])})("addTags",function(e){return Dt(n),ho(3).addPresetsTags(e)}),eo()}if(2&e){var r=ho().$implicit,i=ho(2);Ja("preset",r.preset?r.preset:i.tagsService.presets[r.key])("displayCode",i.displayCode)("tag",r)("language",i.configService.config.languageTags)}}function dM(e,t){if(1&e){var n=io();Qa(0,"edit-other-tag",52),uo("deleteTag",function(e){return Dt(n),ho(3).deleteTag(e)}),eo()}2&e&&Ja("tag",ho().$implicit)}function pM(e,t){if(1&e&&(Qa(0,"div"),$a(1,fM,1,4,"edit-presets",49),$a(2,dM,1,1,"ng-template",null,50,cu),eo()),2&e){var n=t.$implicit,r=Xa(3),i=ho(2);bi(1),Ja("ngIf",n.preset||i.tagsService.presets[n.key])("ngIfElse",r)}}function mM(e,t){if(1&e){var n=io();Qa(0,"ion-fab-button",53),uo("click",function(){return Dt(n),ho(2).displayAddTag=!0}),to(1,"ion-icon",54),eo()}}function gM(e,t){1&e&&(Qa(0,"ion-card-header"),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),Lo(" ",nu(2,1,"MODAL_SELECTED_ITEM.ADD_A_TAG")," "))}function vM(e,t){if(1&e){var n=io();Qa(0,"ion-card-content"),Qa(1,"ion-item"),Qa(2,"ion-label",55),Eo(3,"Key"),eo(),Qa(4,"ion-input",56),uo("ngModelChange",function(e){return Dt(n),ho(3).newKey=e}),eo(),eo(),Qa(5,"ion-button",57),uo("click",function(){Dt(n);var e=ho(3);return e.addNewKey(e.newKey)}),Eo(6),tu(7,"translate"),eo(),eo()}if(2&e){var r=ho(3);bi(4),Ja("ngModel",r.newKey),bi(1),Ja("disabled",""==r.newKey),bi(1),Lo(" ",nu(7,3,"SHARED.ADD")," ")}}function yM(e,t){if(1&e&&(Qa(0,"div"),Qa(1,"ion-card"),$a(2,gM,3,3,"ion-card-header",40),$a(3,vM,8,5,"ion-card-content",40),eo(),eo()),2&e){var n=ho(2);bi(2),Ja("ngIf",n.displayAddTag),bi(1),Ja("ngIf",n.displayAddTag)}}function _M(e,t){if(1&e){var n=io();Qa(0,"ion-fab-button",58),uo("click",function(){Dt(n);var e=ho(2);return e.updateOsmElement(e.tagConfig)}),tu(1,"async"),to(2,"ion-icon",59),eo()}2&e&&Ja("disabled",nu(1,1,ho(2).mapService.isProcessing))}function bM(e,t){if(1&e){var n=io();Qa(0,"ion-fab-button",60),uo("click",function(){Dt(n);var e=ho(2);return e.createOsmElement(e.tagConfig)}),tu(1,"async"),to(2,"ion-icon",59),eo()}2&e&&Ja("disabled",nu(1,1,ho(2).mapService.isProcessing))}function wM(e,t){if(1&e){var n=io();Qa(0,"ion-fab-button",61),uo("click",function(){return Dt(n),ho(2).moveOsmElement()}),tu(1,"async"),to(2,"ion-icon",62),eo()}if(2&e){var r=ho(2);Ja("disabled",r.feature.properties.usedByWays||nu(1,1,r.mapService.isProcessing))}}function xM(e,t){if(1&e){var n=io();Qa(0,"ion-fab-button",63),uo("click",function(){return Dt(n),ho(2).cancelChange()}),tu(1,"async"),to(2,"ion-icon",27),to(3,"ion-icon",16),eo()}2&e&&Ja("disabled",nu(1,1,ho(2).mapService.isProcessing))}function kM(e,t){if(1&e){var n=io();Qa(0,"ion-fab-button",64),uo("click",function(){return Dt(n),ho(2).presentConfirm()}),tu(1,"async"),to(2,"ion-icon",65),eo()}2&e&&Ja("disabled",nu(1,1,ho(2).mapService.isProcessing))}function CM(e,t){if(1&e){var n=io();Qa(0,"div",8),Qa(1,"ion-header"),Qa(2,"ion-toolbar"),Qa(3,"ion-title"),Qa(4,"ion-input",31),uo("ngModelChange",function(e){Dt(n);var t=ho();return t.findElement(t.tags,{key:"name"}).value=e}),tu(5,"translate"),eo(),eo(),eo(),eo(),Qa(6,"div",9),Qa(7,"div",32),Qa(8,"ion-fab"),Qa(9,"ion-fab-button",33),uo("click",function(){Dt(n);var e=ho();return e.addOrRemoveBookmark(e.tagConfig)}),to(10,"ion-icon",34),tu(11,"isBookmarked"),eo(),eo(),Qa(12,"ion-fab",35),Qa(13,"ion-fab-button",2),uo("click",function(){Dt(n);var e=ho();return e.saveFields(e.tagId,e.tags)}),to(14,"ion-icon",36),eo(),eo(),$a(15,cM,3,0,"ion-fab",37),eo(),$a(16,hM,1,3,"read-meta",10),Qa(17,"app-alert",11),uo("fixDeprecated",function(e){return Dt(n),ho().fixDeprecated(e)}),eo(),Qa(18,"edit-primary-key",38),uo("openPrimaryTagModal",function(){return Dt(n),ho().openPrimaryTagModal()}),eo(),$a(19,pM,4,2,"div",13),tu(20,"filterExcludeKeys"),$a(21,mM,2,0,"ion-fab-button",39),$a(22,yM,4,2,"div",40),eo(),Qa(23,"ion-footer"),Qa(24,"ion-fab-button",41),uo("click",function(){return Dt(n),ho().dismiss()}),to(25,"ion-icon",27),eo(),$a(26,_M,3,3,"ion-fab-button",42),$a(27,bM,3,3,"ion-fab-button",43),$a(28,wM,3,3,"ion-fab-button",44),$a(29,xM,4,3,"ion-fab-button",45),$a(30,kM,3,3,"ion-fab-button",46),eo(),eo()}if(2&e){var r=ho();bi(4),Ja("placeholder",nu(5,24,"MODAL_SELECTED_ITEM.PLACEHOLDER_NAME"))("ngModel",r.findElement(r.tags,$s(35,oM)).value),bi(6),bo("color",ru(11,26,r.tagConfig,r.tagsService.bookmarksIds)?"#f71000":"#d8d8d8"),bi(5),Ja("ngIf",r.savedFields),bi(1),Ja("ngIf",r.feature.properties.meta),bi(1),Ja("tagConfig",r.tagConfig)("language",r.configService.config.languageTags)("countryCode",r.configService.config.countryTags),bi(1),Ja("displayCode",r.displayCode)("primaryKey",r.primaryKey)("tagsConfig",r.tagsService.tags)("feature",r.feature)("language",r.configService.config.languageTags)("tagConfig",r.tagConfig)("jsonSprites",r.tagsService.jsonSprites),bi(1),Ja("ngForOf",au(20,29,Js(36,sM,r.tags,r.tagConfig,r.configService.config.countryTags,r.tagsService.primaryKeys,r.tagsService.presets))),bi(2),Ja("ngIf",!r.displayAddTag),bi(1),Ja("ngIf",r.displayAddTag),bi(4),Ja("ngIf","Update"==r.mode),bi(1),Ja("ngIf","Create"==r.mode),bi(1),Ja("ngIf","node"===r.feature.properties.type),bi(1),Ja("ngIf",r.feature.properties.changeType),bi(1),Ja("ngIf","node"==r.feature.properties.type&&"Update"==r.mode)}}function SM(e,t){1&e&&(Qa(0,"div",8),Qa(1,"ion-header"),Qa(2,"ion-toolbar"),Qa(3,"ion-title"),Eo(4," Loading... "),eo(),eo(),eo(),Qa(5,"ion-content"),Qa(6,"h1"),Eo(7,"Loading ..."),eo(),eo(),to(8,"ion-footer"),eo())}var MM=function(){var e=function(){function e(t,n,r,i,a,o,s,u,l,c,h,f,d,p,m){_classCallCheck(this,e),this.platform=t,this.params=n,this.loadingCtrl=r,this.osmApi=i,this.tagsService=a,this.modalCtrl=o,this.mapService=s,this.dataService=u,this.configService=l,this.alertService=c,this.toastCtrl=h,this.alertCtrl=f,this.zone=d,this.translate=p,this.cdr=m,this.tags=[],this.originalTags=[],this.displayCode=!1,this.customValue="",this.newKey="",this.displayAddTag=!1,this.presetsIds=[],this.newPosition=n.data.newPosition,this.feature=(0,Ax.cloneDeep)(n.data.data);var g=(this.feature.properties.way_geometry?this.feature.properties.way_geometry:this.feature.geometry).type,v=!!this.feature.properties.usedByWays;for(var y in"Point"!==g||v?"Point"===g&&v?this.geometryType="vertex":"LineString"===g||"MultiLineString"===g?this.geometryType="line":("Polygon"===g||"MultiPolygon"===g)&&(this.geometryType="area"):this.geometryType="point",this.mode=n.data.type,this.origineData=this.params.data.origineData,this.typeFiche="Loading",this.feature.properties.tags)this.tags.push({key:y,value:this.feature.properties.tags[y]});this.originalTags=(0,Ax.cloneDeep)(this.tags)}return _createClass(e,[{key:"ngOnInit",value:function(){this.initComponent(),this.cdr.detectChanges(),"Create"===this.mode&&this.openPrimaryTagModal()}},{key:"presentConfirm",value:function(){var e=this;this.alertCtrl.create({header:this.translate.instant("MODAL_SELECTED_ITEM.DELETE_CONFIRM_HEADER"),message:this.translate.instant("MODAL_SELECTED_ITEM.DELETE_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.CANCEL"),role:"cancel",handler:function(){}},{text:this.translate.instant("SHARED.CONFIRM"),handler:function(){e.deleteOsmElement()}}]}).then(function(e){e.present()})}},{key:"initComponent",value:function(){var e,t,n,r,i,a=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=_toConsumableArray(this.tags),u=(0,Ax.cloneDeep)(this.feature);if(i=this.tagsService.findPkey(s),u.properties.primaryTag=i,this.typeFiche="Update"===this.mode||"Create"===this.mode?"Edit":"Read",(s=s.filter(function(e){return e.value&&""!==e.value&&!e.isDefaultValue})).find(function(e){return"name"===e.key})||s.push({key:"name",value:""}),t=(e=o||Px(u,this.tagsService.tags))&&e.id?e.id:"".concat(i.key,"/").concat(i.value),r=this.tagsService.savedFields[t],this.savedFields=r,(n=e&&e.presets?e.presets:void 0)&&n.length>0)for(var l=function(e){var t=a.tagsService.presets[n[e]],r=s.find(function(e){return e.key===t.key})||void 0;r?r.preset=t:s.push({key:t.key,value:"",preset:t})},c=0;c<n.length;c++)l(c);return this.tagId=t,this.feature=u,this.tags=s,this.presetsIds=n,this.tagConfig=e,this.primaryKey=i,{tagConfig:e,tags:s,feature:u}}},{key:"dataIsChanged",value:function(){for(var e=[],t=0;t<this.tags.length;t++)this.tags[t].value&&e.push({key:this.tags[t].key,value:this.tags[t].value});for(var n=[],r=0;r<this.originalTags.length;r++)this.originalTags[r].value&&""!==this.originalTags[r].value&&n.push({key:this.originalTags[r].key,value:this.originalTags[r].value});return!(0,Ax.isEqual)(e,n)}},{key:"updateMode",value:function(){var e=this;this.zone.run(function(){e.mode="Update",e.typeFiche="Edit"})}},{key:"toogleCode",value:function(){var e=this;this.zone.run(function(){e.displayCode=!e.displayCode})}},{key:"addNewKey",value:function(e){if(this.tags.find(function(t){return t.key==e}))return this.displayAddTag=!1,void(this.newKey="");var t=this.tagsService.presets[e];this.tags=[].concat(_toConsumableArray(this.tags),t?[{key:e,value:"",preset:t}]:[{key:e,value:""}]),this.newKey="",this.displayAddTag=!1}},{key:"deleteTag",value:function(e){var t=(0,Ax.findIndex)(this.tags,{key:e.key});-1!==t&&this.tags.splice(t,1)}},{key:"toLowerCase",value:function(e){return e.toLowerCase()}},{key:"findElement",value:function(e,t){var n=(0,Ax.findIndex)(e,t);return-1!==n?e[n]:null}},{key:"dismiss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.modalCtrl.dismiss(e)}},{key:"createOsmElement",value:function(e){var t=this;this.mapService.setIsProcessing(!0),this.typeFiche="Loading",this.tagsService.addTagTolastTagsUsed(e.id),this.configService.getAddSurveyDate()&&this.addSurveyDate(),this.pushTagsToFeature(),this.osmApi.createOsmNode(this.feature).subscribe({next:function(e){t.dismiss({redraw:!0})},complete:function(){t.mapService.setIsProcessing(!1)}})}},{key:"updateOsmElement",value:function(e){var t=this;if(this.mapService.setIsProcessing(!0),this.typeFiche="Loading",this.tagsService.addTagTolastTagsUsed(e?e.id:null),!this.dataIsChanged()&&!this.newPosition)return this.mapService.setIsProcessing(!1),void this.dismiss();this.configService.getAddSurveyDate()&&this.addSurveyDate(),this.pushTagsToFeature(),this.osmApi.updateOsmElement(this.feature,this.origineData).subscribe({next:function(e){t.dismiss({redraw:!0})},complete:function(){t.mapService.setIsProcessing(!1)}})}},{key:"deleteOsmElement",value:function(){var e=this;this.mapService.setIsProcessing(!0),this.typeFiche="Loading",this.osmApi.deleteOsmElement(this.feature).subscribe({next:function(t){e.dismiss({redraw:!0})},complete:function(){e.mapService.setIsProcessing(!1)}})}},{key:"pushTagsToFeature",value:function(){for(var e={},t=0;t<this.tags.length;t++)e[this.tags[t].key]=this.tags[t].value;this.feature.properties.tags=e}},{key:"moveOsmElement",value:function(){this.pushTagsToFeature(),this.dismiss({type:"Move",geojson:this.feature,mode:this.mode})}},{key:"openPrimaryTagModal",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t,n=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:Jk,componentProps:{geojson:this.feature,tagConfig:this.tagConfig,tags:this.tags,geometryType:this.geometryType}});case 2:return t=e.sent,e.next=5,t.present();case 5:t.onDidDismiss().then(function(e){var t,r=e.data,i=Object.keys(n.tagConfig.tags),a=(0,Ax.cloneDeep)(n.tags),o=_createForOfIteratorHelper(a=a.filter(function(e){return!i.includes(e.key)}));try{for(o.s();!(t=o.n()).done;){var s=t.value;s.preset&&delete s.preset}}catch(h){o.e(h)}finally{o.f()}if(r){var u=Object.keys(r.tags),l=[];for(var c in r.tags)l=[{key:c,value:r.tags[c]}].concat(_toConsumableArray(l));a=a.filter(function(e){return!u.includes(e.key)}),a=[].concat(_toConsumableArray(l),_toConsumableArray(a)),r.addTags&&(a=n.addTags(r.addTags,a)),n.tags=_toConsumableArray(a),n.initComponent(r),n.cdr.detectChanges()}else n.cdr.detectChanges()});case 6:case"end":return e.stop()}},e,this)}))}},{key:"openModalList",value:function(e,t){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function n(){var r,i=this;return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t&&(e.preset=t),n.next=3,this.modalCtrl.create({component:nC,componentProps:e});case 3:return r=n.sent,n.next=6,r.present();case 6:r.onDidDismiss().then(function(e){var t=e.data;t&&(i.tags.filter(function(e){return e.key===t.key})[0].value=t.value,t.tags&&(i.tags=i.addTags(t.tags,i.tags),i.initComponent(i.tagConfig))),i.cdr.detectChanges()});case 7:case"end":return n.stop()}},n,this)}))}},{key:"addTags",value:function(e,t){var n=_toConsumableArray(t),r=function(t){var r=n.findIndex(function(e){return e.key==t});-1!==r?n[r]={key:t,value:e[t]}:n=[].concat(_toConsumableArray(n),[{key:t,value:e[t]}])};for(var i in e)r(i);return n}},{key:"addPresetsTags",value:function(e){e&&(this.tags=this.addTags(e,this.tags),this.initComponent(this.tagConfig)),this.cdr.detectChanges()}},{key:"cancelChange",value:function(){this.dataService.cancelFeatureChange(this.feature),this.dismiss({redraw:!0})}},{key:"presentToast",value:function(e){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastCtrl.create({message:e,duration:4e3,position:"bottom",buttons:[{text:"X",role:"cancel",handler:function(){}}]});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"confirmAddSurveyDate",value:function(){var e=this;this.alertCtrl.create({header:this.translate.instant("MODAL_SELECTED_ITEM.ADD_SURVEY_DATE_CONFIRM_HEADER"),subHeader:this.translate.instant("MODAL_SELECTED_ITEM.ADD_SURVEY_DATE_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.NO"),role:"cancel",handler:function(e){}},{text:this.translate.instant("SHARED.YES"),handler:function(t){e.addSurveyDate(),e.updateOsmElement(null)}}]}).then(function(e){e.present()})}},{key:"addSurveyDate",value:function(){for(var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):""+(e.getMonth()+1))+"-"+(e.getDate()<10?"0"+e.getDate():""+e.getDate()),n=-1,r=0;r<this.tags.length;r++)if(this.tags[r].key===this.configService.config.checkedKey){n=r;break}-1!==n?this.tags[n].value=t:this.tags.push({key:this.configService.config.checkedKey,value:t})}},{key:"saveFields",value:function(e,t){var n=t.map(function(e){return{key:e.key,value:e.value}}).filter(function(e){return"name"!==e.key}).filter(function(e){return"survey:date"!==e.key}).filter(function(e){return"check_date"!==e.key});this.tagsService.addSavedField(e,n),this.savedFields||(this.savedFields={}),this.savedFields.tags=_toConsumableArray(n)}},{key:"restoreFields",value:function(e,t){var n=this.tagsService.savedFields[e],r=_toConsumableArray(t);if(n){var i,a=_createForOfIteratorHelper(n.tags);try{var o=function(){var e=i.value,t=r.find(function(t){return t.key===e.key});t?t.value=e.value:r.push(e)};for(a.s();!(i=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}this.tags=_toConsumableArray(r),this.initComponent(this.tagConfig),this.cdr.detectChanges()}},{key:"fixDeprecated",value:function(e){var t=Object.keys(e.old);this.tags=this.tags.filter(function(e){return!t.includes(e.key)});for(var n=0,r=t;n<r.length;n++){var i=r[n];this.feature.properties[i]&&delete this.feature.properties[i]}for(var a in this.feature.properties.tags=Object.assign(Object.assign({},this.feature.properties.tags),e.replace),e.replace)this.tags=[{key:a,value:e.replace[a]}].concat(_toConsumableArray(this.tags));"Update"!==this.mode&&(this.mode="Update",this.typeFiche="Edit"),this.initComponent(),this.cdr.detectChanges()}},{key:"addOrRemoveBookmark",value:function(e){this.tagsService.bookmarksIds.includes(e.id)?this.tagsService.removeBookMark(e):this.tagsService.addBookMark(e),this.cdr.detectChanges()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(C_),Za(pb),Za(Rb),Za(tk),Za(Mx),Za(zb),Za(ek),Za(Rx),Za(Sx),Za(Jx),Za(Bb),Za(Nb),Za(Ou),Za(xx),Za(Cs))},e.\u0275cmp=Ue({type:e,selectors:[["modal"]],decls:8,vars:6,consts:[[1,"wrapper",3,"ngSwitch"],[1,"toogleCodeButton"],["size","small",3,"click"],["name","code-working",4,"ngIf"],["name","code",4,"ngIf"],["style","height: 100%",4,"ngSwitchCase"],["name","code-working"],["name","code"],[2,"height","100%"],[1,"content"],[3,"feature","displayCode","languageUi",4,"ngIf"],[3,"tagConfig","language","countryCode","fixDeprecated"],[3,"displayCode","tagsConfig","feature","language","tagConfig","primaryKeys","jsonSprites"],[4,"ngFor","ngForOf"],["class","fabInlineMarginLess",3,"click",4,"ngIf"],[1,"fabInlineMarginLess",3,"disabled","click"],["name","create"],["color","danger","class","fabInlineMarginLess",3,"disabled","click",4,"ngIf"],["color","secondary","class","fabInlineMarginLess fabSurveyDate",3,"disabled","click",4,"ngIf"],[3,"feature","displayCode","languageUi"],[3,"displayCode","tag","preset","language","countryCode",4,"ngIf"],[3,"displayCode","tag","preset","language","countryCode"],[3,"displayCode","tag","preset","language","countryCode",4,"ngIf","ngIfElse"],["readOtherTag",""],[3,"tag",4,"ngIf"],[3,"tag"],[1,"fabInlineMarginLess",3,"click"],["name","close"],["color","danger",1,"fabInlineMarginLess",3,"disabled","click"],["color","secondary",1,"fabInlineMarginLess","fabSurveyDate",3,"disabled","click"],["name","checkmark-circle-outline"],["type","text","clearInput","true","autocorrect","off","autocapitalize","off",3,"placeholder","ngModel","ngModelChange"],[1,"actions"],["color","light","size","small",3,"click"],["name","heart","item-left","",2,"font-size","26px"],[2,"margin-left","45px"],["src","./assets/fa/copy-solid.svg"],["style","margin-left: 90px",4,"ngIf"],[3,"displayCode","primaryKey","tagsConfig","feature","language","tagConfig","jsonSprites","openPrimaryTagModal"],["tappable","","color","secondary","style","margin: 5px",3,"click",4,"ngIf"],[4,"ngIf"],["tappable","",1,"fabInlineMarginLess",3,"click"],["tappable","","color","secondary","class","fabInlineMarginLess","style","margin-right: 15px",3,"disabled","click",4,"ngIf"],["tappable","","color","secondary","class","fabInlineMarginLess",3,"disabled","click",4,"ngIf"],["tappable","","class","fabInlineMarginLess",3,"disabled","click",4,"ngIf"],["tappable","","color","danger","class","fabInlineMarginLess",3,"disabled","click",4,"ngIf"],["tappable","","ion-fab","","right","","color","danger","class","fabInlineMarginLess",3,"disabled","click",4,"ngIf"],[2,"margin-left","90px"],["src","./assets/fa/paste-solid.svg"],[3,"preset","displayCode","tag","language","openPrimaryListModal","addTags",4,"ngIf","ngIfElse"],["editOtherTag",""],[3,"preset","displayCode","tag","language","openPrimaryListModal","addTags"],[3,"tag","deleteTag"],["tappable","","color","secondary",2,"margin","5px",3,"click"],["name","add"],["primary","","stacked",""],["type","text","placeholder","Key","autocapitalize","none","autocomplete","off",3,"ngModel","ngModelChange"],["ion-button","",3,"disabled","click"],["tappable","","color","secondary",1,"fabInlineMarginLess",2,"margin-right","15px",3,"disabled","click"],["name","checkmark"],["tappable","","color","secondary",1,"fabInlineMarginLess",3,"disabled","click"],["tappable","",1,"fabInlineMarginLess",3,"disabled","click"],["name","move"],["tappable","","color","danger",1,"fabInlineMarginLess",3,"disabled","click"],["tappable","","ion-fab","","right","","color","danger",1,"fabInlineMarginLess",3,"disabled","click"],["name","trash"]],template:function(e,t){1&e&&(Qa(0,"div",0),Qa(1,"ion-fab",1),Qa(2,"ion-fab-button",2),uo("click",function(){return t.toogleCode()}),$a(3,$S,1,0,"ion-icon",3),$a(4,XS,1,0,"ion-icon",4),eo(),eo(),$a(5,lM,21,49,"div",5),$a(6,CM,31,42,"div",5),$a(7,SM,9,0,"div",5),eo()),2&e&&(Ja("ngSwitch",t.typeFiche),bi(3),Ja("ngIf",t.displayCode),bi(1),Ja("ngIf",!t.displayCode),bi(1),Ja("ngSwitchCase","Read"),bi(1),Ja("ngSwitchCase","Edit"),bi(1),Ja("ngSwitchCase","Loading"))},directives:[yc,q_,W_,pc,_c,Z_,X_,cb,ub,sC,fC,fc,$_,xC,uS,lS,J_,k_,wy,jy,pS,GS,qS,F_,z_,Y_,K_,Q_,N_,V_],pipes:[kx,WS,Cc,Sk],styles:[".toogleCodeButton[_ngcontent-%COMP%]{position:absolute;right:0;top:28px}.wrapper[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}ion-header[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:56px;background-color:#fff}ion-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:60px;background-color:#fff}.content[_ngcontent-%COMP%]{position:absolute;bottom:60px;overflow:auto;top:56px;width:100%;background-color:#fff}.fabInlineMarginLess[_ngcontent-%COMP%]{margin-left:4px!important;margin-top:2px!important;float:left}.fabSurveyDate[_ngcontent-%COMP%]{position:absolute;right:4px}.fabToogleCode[_ngcontent-%COMP%]{bottom:-25px}.actions[_ngcontent-%COMP%]{position:relative;min-height:40px;width:100%}.actionsFabButton[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),e}();function EM(e,t){1&e&&to(0,"ion-icon",12)}function TM(e,t){1&e&&to(0,"ion-icon",13)}function LM(e,t){1&e&&to(0,"ion-icon",14)}function IM(e,t){if(1&e&&(Qa(0,"span"),Eo(1),eo()),2&e){var n=ho().$implicit;bi(1),Lo(" ",n.properties._name," ")}}function DM(e,t){1&e&&(Qa(0,"span",15),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),Lo(" ",nu(2,1,"SHARED.UNDEFINED")," "))}function AM(e,t){if(1&e&&(Qa(0,"span",16),Eo(1),eo()),2&e){var n=ho().$implicit;bi(1),Lo(" ",n.properties.id," ")}}function PM(e,t){if(1&e){var n=io();Qa(0,"tbody"),Qa(1,"tr",4),uo("click",function(){var e=Dt(n).$implicit;return ho().selectFeature(e)}),Qa(2,"td",2),to(3,"app-icon",5),eo(),Qa(4,"td"),$a(5,EM,1,0,"ion-icon",6),$a(6,TM,1,0,"ion-icon",7),$a(7,LM,1,0,"ion-icon",8),eo(),Qa(8,"td"),$a(9,IM,2,1,"span",9),$a(10,DM,3,3,"span",10),eo(),Qa(11,"td"),$a(12,AM,2,1,"span",11),eo(),eo(),eo()}if(2&e){var r=t.$implicit,i=ho();bi(2),bo("background-color",r.properties.hexColor),bi(1),Ja("icon",r.properties.icon)("jsonSprites",i.jsonSprites),bi(2),Ja("ngIf","Create"==r.properties.changeType),bi(1),Ja("ngIf","Update"==r.properties.changeType),bi(1),Ja("ngIf","Delete"==r.properties.changeType),bi(2),Ja("ngIf",r.properties._name),bi(1),Ja("ngIf",!r.properties._name),bi(2),Ja("ngIf","Create"!==r.properties.changeType)}}var OM=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.modalCtrl=n,this.features=t.get("features"),this.jsonSprites=t.get("jsonSprites")}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"selectFeature",value:function(e){this.modalCtrl.dismiss(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(pb),Za(zb))},e.\u0275cmp=Ue({type:e,selectors:[["app-dialog-multi-features"]],decls:20,vars:10,consts:[[2,"height","100%"],[1,"content"],[2,"width","20px"],[4,"ngFor","ngForOf"],[3,"click"],[3,"icon","jsonSprites"],["name","add","class","iconType",4,"ngIf"],["name","create","class","iconType",4,"ngIf"],["name","trash","class","iconType",4,"ngIf"],[4,"ngIf"],["class","noname",4,"ngIf"],["class","spanId",4,"ngIf"],["name","add",1,"iconType"],["name","create",1,"iconType"],["name","trash",1,"iconType"],[1,"noname"],[1,"spanId"]],template:function(e,t){1&e&&(Qa(0,"div",0),Qa(1,"ion-header"),Qa(2,"ion-toolbar"),Qa(3,"ion-title"),Eo(4),tu(5,"translate"),eo(),eo(),eo(),Qa(6,"div",1),Qa(7,"table"),Qa(8,"table"),Qa(9,"thead"),Qa(10,"tr"),to(11,"th",2),to(12,"th",2),Qa(13,"th"),Eo(14),tu(15,"translate"),eo(),Qa(16,"th"),Eo(17),tu(18,"translate"),eo(),eo(),eo(),$a(19,PM,13,10,"tbody",3),eo(),eo(),eo(),eo()),2&e&&(bi(4),Lo(" ",nu(5,4,"MAIN.WHAT_ITEM")," "),bi(10),To(nu(15,6,"SHARED.NAME")),bi(3),To(nu(18,8,"SHARED.ID")),bi(2),Ja("ngForOf",t.features))},directives:[X_,cb,ub,fc,ak,pc,Z_],pipes:[kx],styles:[".iconType[_ngcontent-%COMP%]{color:#000;height:25px;width:25px}.iconGeometryType[_ngcontent-%COMP%]{color:#000;height:35px;width:35px}table[_ngcontent-%COMP%]{width:100%}.noname[_ngcontent-%COMP%]{color:#acacac}td[_ngcontent-%COMP%]{padding:4px}th[_ngcontent-%COMP%]{text-align:left}.spanId[_ngcontent-%COMP%]{color:#acacac;font-size:.8em}.content[_ngcontent-%COMP%]{position:absolute;top:64px;right:0;left:0;bottom:0;overflow-x:auto}"]}),e}(),NM=new _(Wp),RM=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new FM(e,this.delay,this.scheduler))}}]),e}(),FM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).delay=r,a.scheduler=i,a.queue=[],a.active=!1,a.errored=!1,a}return _createClass(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new YM(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(Qw.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Qw.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var a=Math.max(0,n[0].time-r.now());this.schedule(e,a)}else this.unsubscribe(),t.active=!1}}]),n}(m),YM=_createClass(function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n}),zM="Service workers are disabled or not supported by this browser",jM=function(){function e(t){if(_classCallCheck(this,e),this.serviceWorker=t,t){var n=n_(t,"controllerchange").pipe(E(function(){return t.controller})),r=mp(yp(function(){return op(t.controller)}),n);this.worker=r.pipe(Lp(function(e){return!!e})),this.registration=this.worker.pipe(_p(function(){return t.getRegistration()}));var i=n_(t,"message").pipe(E(function(e){return e.data})).pipe(Lp(function(e){return e&&e.type})).pipe(K(new C));i.connect(),this.events=i}else this.worker=this.events=this.registration=yp(function(){return Jw(new Error("Service workers are disabled or not supported by this browser"))})}return _createClass(e,[{key:"postMessage",value:function(e,t){return this.worker.pipe(kp(1),$p(function(n){n.postMessage(Object.assign({action:e},t))})).toPromise().then(function(){})}},{key:"postMessageWithStatus",value:function(e,t,n){var r=this.waitForStatus(n),i=this.postMessage(e,t);return Promise.all([r,i]).then(function(){})}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(e){return this.events.pipe(Lp(function(t){return t.type===e}))}},{key:"nextEventOfType",value:function(e){return this.eventsOfType(e).pipe(kp(1))}},{key:"waitForStatus",value:function(e){return this.eventsOfType("STATUS").pipe(Lp(function(t){return t.nonce===e}),kp(1),E(function(e){if(!e.status)throw new Error(e.error)})).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),e}(),BM=function(){var e=function(){function e(t){if(_classCallCheck(this,e),this.sw=t,this.subscriptionChanges=new C,!t.isEnabled)return this.messages=NM,this.notificationClicks=NM,void(this.subscription=NM);this.messages=this.sw.eventsOfType("PUSH").pipe(E(function(e){return e.data})),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(E(function(e){return e.data})),this.pushManager=this.sw.registration.pipe(E(function(e){return e.pushManager}));var n=this.pushManager.pipe(_p(function(e){return e.getSubscription()}));this.subscription=G(n,this.subscriptionChanges)}return _createClass(e,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"requestSubscription",value:function(e){var t=this;if(!this.sw.isEnabled)return Promise.reject(new Error(zM));for(var n={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(r.length)),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return n.applicationServerKey=i,this.pushManager.pipe(_p(function(e){return e.subscribe(n)}),kp(1)).toPromise().then(function(e){return t.subscriptionChanges.next(e),e})}},{key:"unsubscribe",value:function(){var e=this;return this.sw.isEnabled?this.subscription.pipe(kp(1),_p(function(t){if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(function(t){if(!t)throw new Error("Unsubscribe failed!");e.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(zM))}},{key:"decodeBase64",value:function(e){return atob(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(jM))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),HM=function(){var e=function(){function e(t){if(_classCallCheck(this,e),this.sw=t,!t.isEnabled)return this.available=NM,this.activated=NM,void(this.unrecoverable=NM);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}return _createClass(e,[{key:"isEnabled",get:function(){return this.sw.isEnabled}},{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(zM));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(zM));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(jM))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),UM=_createClass(function e(){_classCallCheck(this,e)}),VM=new qn("NGSW_REGISTER_SCRIPT");function GM(e,t,n,r){return function(){if(Dc(r)&&"serviceWorker"in navigator&&!1!==n.enabled){var i;if(navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{var a=_toArray((n.registrationStrategy||"registerWhenStable:30000").split(":")),o=a[0],s=a.slice(1);switch(o){case"registerImmediately":i=op(null);break;case"registerWithDelay":i=qM(+s[0]||0);break;case"registerWhenStable":i=s[0]?G(WM(e),qM(+s[0])):WM(e);break;default:throw new Error("Unknown ServiceWorker registration strategy: ".concat(n.registrationStrategy))}}e.get(Ou).runOutsideAngular(function(){return i.pipe(kp(1)).subscribe(function(){return navigator.serviceWorker.register(t,{scope:n.scope}).catch(function(e){return console.error("Service worker registration failed with:",e)})})})}}}function qM(e){return op(null).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tx,n=function(e){return e instanceof Date&&!isNaN(+e)}(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new RM(n,t))}}(e))}function WM(e){return e.get(Qu).isStable.pipe(Lp(function(e){return e}))}function $M(e,t){return new jM(Dc(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var XM,ZM=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"register",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:e,providers:[{provide:VM,useValue:t},{provide:UM,useValue:n},{provide:jM,useFactory:$M,deps:[UM,_u]},{provide:du,useFactory:GM,deps:[Ia,VM,UM,_u],multi:!0}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({providers:[BM,HM]}),e}(),JM=_createClass(function e(t,n){_classCallCheck(this,e),this.newRect=t,this.oldRect=n,this.isFirst=null==n}),KM=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.element=t,this.zone=n,this.resized=new lu,this.observer=new ResizeObserver(function(e){return r.zone.run(function(){return r.observe(e)})})}return _createClass(e,[{key:"ngOnInit",value:function(){this.observer.observe(this.element.nativeElement)}},{key:"ngOnDestroy",value:function(){this.observer.disconnect()}},{key:"observe",value:function(e){var t=e[0],n=new JM(t.contentRect,this.oldRect);this.oldRect=t.contentRect,this.resized.emit(n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(es),Za(Ou))},e.\u0275dir=Xe({type:e,selectors:[["","resized",""]],outputs:{resized:"resized"}}),e}(),QM=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({imports:[[]]}),e}(),eE=[(XM=[kh(":enter",[Ch(".menuContent",[xh({transform:"translateX(-100%)"}),bh("100ms ease-in")]),Ch(".backdrop",[xh({opacity:"0.34"}),bh("100ms")])]),kh(":leave",[Ch(".menuContent",[bh("0.1s ease-out",xh({transform:"translateX(-100%)"}))]),Ch(".backdrop",[bh("0.1s ease-out",xh({opacity:"0"}))])])],{type:7,name:"menuAnimation",definitions:XM,options:{}})];function tE(e,t){if(1&e){var n=io();Qa(0,"ion-item",17),uo("click",function(){return Dt(n),ho(3).reloadApp()}),to(1,"ion-icon",18),Eo(2),tu(3,"translate"),eo()}2&e&&(bi(2),Lo(" ",nu(3,1,"MENU.NEW_VERSION")," "))}function nE(e,t){if(1&e){var n=io();Qa(0,"ion-item",7),uo("click",function(){return Dt(n),ho(3).pushPage("/login")}),to(1,"ion-icon",19),Eo(2),tu(3,"translate"),eo()}2&e&&(bi(2),Lo(" ",nu(3,1,"MENU.CONNECTION")," "))}function rE(e,t){if(1&e){var n=io();Qa(0,"ion-item",7),uo("click",function(){return Dt(n),ho(3).logout()}),to(1,"ion-icon",20),Eo(2),tu(3,"translate"),eo()}2&e&&(bi(2),Lo(" ",nu(3,1,"MENU.SIGN_OUT")," "))}function iE(e,t){if(1&e){var n=io();Qa(0,"div",4),Qa(1,"ion-header"),Qa(2,"ion-toolbar",5),Qa(3,"ion-title"),Eo(4,"Osm Go!"),eo(),Qa(5,"ion-buttons",6),Qa(6,"ion-button",7),uo("click",function(){return Dt(n),ho(2).closeMenu()}),to(7,"ion-icon",8),eo(),eo(),eo(),eo(),Qa(8,"ion-content"),Qa(9,"ion-list",9),$a(10,tE,4,3,"ion-item",10),$a(11,nE,4,3,"ion-item",11),Qa(12,"ion-item",7),uo("click",function(){return Dt(n),ho(2).openBaseMapsPage()}),to(13,"ion-icon",12),Eo(14),tu(15,"translate"),eo(),Qa(16,"ion-item",7),uo("click",function(){return Dt(n),ho(2).pushPage("/tags")}),to(17,"ion-icon",13),Eo(18),tu(19,"translate"),eo(),Qa(20,"ion-item",7),uo("click",function(){return Dt(n),ho(2).pushPage("/settings")}),to(21,"ion-icon",13),Eo(22),tu(23,"translate"),eo(),Qa(24,"ion-item",7),uo("click",function(){return Dt(n),ho(2).pushPage("/about")}),to(25,"ion-icon",14),Eo(26),tu(27,"translate"),eo(),$a(28,rE,4,3,"ion-item",11),Qa(29,"ion-item",15),uo("click",function(){return Dt(n),ho(2).deleteDatapresentConfirm()}),to(30,"ion-icon",16),Eo(31),tu(32,"translate"),eo(),eo(),eo(),eo()}if(2&e){var r=ho(2);bi(10),Ja("ngIf",r.newVersion),bi(1),Ja("ngIf",!r.configService.user_info.connected),bi(3),Lo(" ",nu(15,8,"SETTINGS.AERIAL_IMAGERY")," "),bi(4),Lo(" ",nu(19,10,"MENU.TAG_MANAGEMENT")," "),bi(4),Lo(" ",nu(23,12,"MENU.SETTINGS")," "),bi(4),Lo(" ",nu(27,14,"MENU.ABOUT")," "),bi(2),Ja("ngIf",r.configService.user_info.connected),bi(3),Lo(" ",nu(32,16,"MENU.DELETE_DATA")," ")}}function aE(e,t){if(1&e){var n=io();Qa(0,"div",1),uo("swipeleft",function(e){return Dt(n),ho().swipe(e)}),$a(1,iE,33,18,"div",2),Qa(2,"div",3),uo("click",function(){return Dt(n),ho().closeMenu()}),eo(),eo()}if(2&e){var r=ho();Ja("@menuAnimation",void 0),bi(1),Ja("ngIf",r.menuIsOpen)}}var oE=function(){var e=function(){function e(t,n,r,i,a,o,s,u,l){_classCallCheck(this,e),this.mapService=t,this.osmApi=n,this.dataService=r,this.configService=i,this.alertService=a,this.alertCtrl=o,this.platform=s,this.translate=u,this.navCtrl=l,this.closeEvent=new lu,this.exitApp=new lu,this.aboutPage=kk,this.pushDataToOsmPage=xk}return _createClass(e,[{key:"deleteDatapresentConfirm",value:function(){var e=this;this.alertCtrl.create({header:this.translate.instant("MENU.DELETE_DATA_CONFIRM_HEADER"),message:this.translate.instant("MENU.DELETE_DATA_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.CANCEL"),role:"cancel",handler:function(){}},{text:this.translate.instant("SHARED.CONFIRM"),handler:function(){e.mapService.resetDataMap(),e.closeMenu()}}]}).then(function(e){e.present()})}},{key:"pushPage",value:function(e){this.navCtrl.navigateForward(e)}},{key:"openBaseMapsPage",value:function(){var e=this.mapService.map.getCenter(),t=e.lng,n=e.lat;console.log(e),this.pushPage("/basemaps/".concat(t,"/").concat(n))}},{key:"closeMenu",value:function(){this.closeEvent.emit()}},{key:"logout",value:function(){this.osmApi.logout()}},{key:"swipe",value:function(e){this.closeMenu()}},{key:"reloadApp",value:function(){window.location.reload()}},{key:"exit",value:function(){this.exitApp.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(ek),Za(tk),Za(Rx),Za(Sx),Za(Jx),Za(Nb),Za(C_),Za(xx),Za(E_))},e.\u0275cmp=Ue({type:e,selectors:[["menu-component"]],inputs:{menuIsOpen:"menuIsOpen",newVersion:"newVersion"},outputs:{closeEvent:"closeEvent",exitApp:"exitApp"},decls:1,vars:1,consts:[["id","menu",3,"swipeleft",4,"ngIf"],["id","menu",3,"swipeleft"],["class","menuContent",4,"ngIf"],[1,"backdrop",3,"click"],[1,"menuContent"],["color","primary"],["slot","end"],[3,"click"],["slot","icon-only","name","arrow-back"],[2,"padding-top","0"],["color","black",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["name","map"],["name","settings"],["name","help-circle"],["color","danger",3,"click"],["name","trash"],["color","black",3,"click"],["name","refresh"],["name","log-in"],["name","log-out"]],template:function(e,t){1&e&&$a(0,aE,3,2,"div",0),2&e&&Ja("ngIf",t.menuIsOpen)},directives:[pc,X_,cb,ub,R_,N_,Z_,V_,eb,K_],pipes:[kx],styles:["#menu[_ngcontent-%COMP%]{z-index:100;position:absolute;top:0;bottom:0;left:0;right:0}.backdrop[_ngcontent-%COMP%]{z-index:101;height:100%;width:100%;opacity:.32;background-color:#000}.menuContent[_ngcontent-%COMP%]{z-index:102;position:absolute;width:304px;top:0;left:0;bottom:0;box-shadow:0 -1px 24px rgba(0,0,0,.4)}ion-icon[_ngcontent-%COMP%]{margin-right:.5em}ion-item[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:eE}}),e}();function sE(e,t){1&e&&(Qa(0,"ion-badge",18),Eo(1,"!"),eo())}function uE(e,t){if(1&e){var n=io();Qa(0,"ion-fab",19),Qa(1,"ion-fab-button",20),uo("click",function(){return Dt(n),ho().navCtrl.navigateForward("/pushData")}),to(2,"ion-icon",21),eo(),eo()}}function lE(e,t){1&e&&to(0,"ion-icon",26)}function cE(e,t){1&e&&to(0,"ion-spinner")}function hE(e,t){if(1&e){var n=io();Qa(0,"ion-fab",22),Qa(1,"ion-fab-button",23),uo("click",function(){return Dt(n),ho().loadData()}),$a(2,lE,1,0,"ion-icon",24),tu(3,"async"),$a(4,cE,1,0,"ion-spinner",25),tu(5,"async"),eo(),eo()}if(2&e){var r=ho();bi(1),Ja("disabled",r.configService.currentZoom<14),bi(1),Ja("ngIf",!nu(3,3,r.mapService.isProcessing)),bi(2),Ja("ngIf",nu(5,5,r.mapService.isProcessing))}}function fE(e,t){1&e&&(Qa(0,"ion-fab",22),Qa(1,"ion-fab-button",27),to(2,"ion-spinner"),eo(),eo())}function dE(e,t){if(1&e){var n=io();Qa(0,"ion-fab",28),Qa(1,"ion-fab-button",29),uo("click",function(){return Dt(n),ho().mapService.positionateMarker()}),to(2,"ion-icon",30),eo(),eo()}if(2&e){var r=ho();bi(1),Ja("disabled",r.mapService.loadingData)}}function pE(e,t){if(1&e){var n=io();Qa(0,"ion-fab",31),Qa(1,"ion-fab-button",32),uo("click",function(){return Dt(n),ho().mapService.centerOnMyPosition()}),to(2,"ion-icon",33),eo(),eo()}if(2&e){var r=ho();bi(1),Ja("disabled",!r.locationService.gpsIsReady)}}function mE(e,t){if(1&e){var n=io();Qa(0,"ion-fab",34),Qa(1,"ion-fab-button",35),uo("click",function(){return Dt(n),ho().mapService.openModalOsm()}),to(2,"ion-icon",36),eo(),eo()}}function gE(e,t){if(1&e){var n=io();Qa(0,"ion-fab",37),Qa(1,"ion-fab-button",38),uo("click",function(){return Dt(n),ho().mapService.cancelNewMarker()}),to(2,"ion-icon",39),eo(),eo()}}function vE(e,t){if(1&e){var n=io();Qa(0,"ion-fab",37),Qa(1,"ion-fab-button",40),uo("click",function(){return Dt(n),ho().mapService.openModalWithNewPosition()}),to(2,"ion-icon",36),eo(),eo()}}function yE(e,t){if(1&e){var n=io();Qa(0,"ion-fab",41),Qa(1,"ion-fab-button",42),uo("click",function(){return Dt(n),ho().mapService.cancelNewPosition()}),to(2,"ion-icon",39),eo(),eo()}}var _E=function(){var e=function(){function e(t,n,r,i,a,o,s,u,l,c,h,f,d,p,m,g,v,y){var _=this;_classCallCheck(this,e),this.navCtrl=t,this.modalCtrl=n,this.toastCtrl=r,this.menuCtrl=i,this.osmApi=a,this.tagsService=o,this.mapService=s,this.dataService=u,this.locationService=l,this.alertService=c,this.configService=h,this.alertCtrl=f,this._ngZone=d,this.router=p,this.translate=m,this.loadingController=g,this.swUpdate=v,this.initService=y,this.modalIsOpen=!1,this.menuIsOpen=!1,this.newVersion=!1,this.loading=!0,this.router.events.subscribe(function(e){e instanceof tm&&("/main"===e.urlAfterRedirects?(_.configService.freezeMapRenderer=!1,_.mapService.map&&Ix(300).subscribe(function(e){_.mapService.map.resize()})):_.configService.freezeMapRenderer=!0)}),s.eventShowDialogMultiFeatures.subscribe(function(e){return uw(_,void 0,void 0,_regeneratorRuntime().mark(function t(){var n,r=this;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:OM,cssClass:"dialog-multi-features",componentProps:{features:e,jsonSprites:this.tagsService.jsonSprites}});case 2:return n=t.sent,t.next=5,n.present();case 5:n.onDidDismiss().then(function(e){e&&e.data&&r.mapService.selectFeature(e.data)});case 6:case"end":return t.stop()}},t,this)}))}),s.eventShowModal.subscribe(function(e){return uw(_,void 0,void 0,_regeneratorRuntime().mark(function t(){var n,r,i=this;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.configService.freezeMapRenderer=!0,n=!!e.newPosition&&e.newPosition,t.next=4,this.modalCtrl.create({component:MM,componentProps:{type:e.type,data:e.geojson,newPosition:n,origineData:e.origineData}});case 4:return r=t.sent,t.next=7,r.present();case 7:this.modalIsOpen=!0,r.onDidDismiss().then(function(e){i.modalIsOpen=!1;var t=e.data;i.configService.freezeMapRenderer=!1,t&&("Move"===t.type&&i.mapService.eventMoveElement.emit(t),t.redraw&&Ix(50).subscribe(function(e){i.mapService.eventMarkerReDraw.emit(i.dataService.getGeojson()),i.mapService.eventMarkerChangedReDraw.emit(i.dataService.getGeojsonChanged())}))});case 9:case"end":return t.stop()}},t,this)}))}),this.alertService.eventNewAlert.subscribe(function(e){_.presentToast(e)})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.swUpdate.available.subscribe(function(t){e.newVersion=!0})}},{key:"openMenu",value:function(){this.configService.freezeMapRenderer=!0,this.menuIsOpen=!0}},{key:"closeMenu",value:function(){this.configService.freezeMapRenderer=!1,this.menuIsOpen=!1}},{key:"onMapResized",value:function(e){this.mapService.map&&this.mapService.map.resize()}},{key:"presentConfirm",value:function(){this.alertCtrl.create({header:this.translate.instant("MAIN.EXIT_CONFIRM_HEADER"),message:this.translate.instant("MAIN.EXIT_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.NO"),role:"cancel",handler:function(){}},{text:this.translate.instant("SHARED.YES"),handler:function(){window.navigator.app.exitApp()}}]}).then(function(e){e.present()})}},{key:"loadData",value:function(){var e=this;this.mapService.setIsProcessing(!0),this._ngZone.run(function(){e.alertService.displayToolTipRefreshData=!1});var t=this.mapService.getBbox();this.osmApi.getDataFromBbox(t,this.configService.getLimitFeatures()).subscribe({next:function(t){e.dataService.setGeojsonBbox(t.geojsonBbox),e.mapService.eventNewBboxPolygon.emit(t.geojsonBbox),e.dataService.setGeojson(t.geojson),e.mapService.eventMarkerReDraw.emit(t.geojson)},error:function(t){console.log(t),e.presentToast(t.message)},complete:function(){e.mapService.setIsProcessing(!1)}})}},{key:"presentToast",value:function(e){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastCtrl.create({message:e,duration:4e3,position:"top",buttons:[{text:"X",role:"cancel",handler:function(){}}]});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.initService.initLoadData$().subscribe(function(t){var n=_slicedToArray(t,12),r=n[0];n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11];e.locationService.enableGeolocation(),e.osmApi.initAuth(),e.mapService.initMap(r)}),this.mapService.eventMapIsLoaded.subscribe(function(){e.loading=!1,Ix(2e3).subscribe(function(){var t=e.dataService.getGeojson().features.length;t>0?e.alertService.eventNewAlert.emit(t+" "+e.translate.instant("MAIN.START_SNACK_ITEMS_IN_MEMORY")):e.alertService.eventDisplayToolTipRefreshData.emit()})}),this.alertService.eventDisplayToolTipRefreshData.subscribe(function(){return uw(e,void 0,void 0,_regeneratorRuntime().mark(function e(){var t=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastCtrl.create({message:this.translate.instant("MAIN.LOAD_BBOX"),duration:4e3,position:"bottom",buttons:[{text:"Ok",role:"cancel",handler:function(){t.mapService.map&&t.mapService.map.getZoom()>16&&t.loadData()}}]});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}),window.addEventListener("load",function(e){window.history.pushState({noBackExitsApp:!0},"")}),window.addEventListener("popstate",function(t){e.menuIsOpen?(window.history.pushState({noBackExitsApp:!0},""),e.closeMenu()):e.modalIsOpen?(window.history.pushState({noBackExitsApp:!0},""),e.modalCtrl.dismiss()):window.history.pushState({noBackExitsApp:!0},"")})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(E_),Za(zb),Za(Bb),Za(Fb),Za(tk),Za(Mx),Za(ek),Za(Rx),Za(Qx),Za(Jx),Za(Sx),Za(Nb),Za(Ou),Za(Lv),Za(xx),Za(Rb),Za(HM),Za(nk))},e.\u0275cmp=Ue({type:e,selectors:[["main"]],decls:22,vars:17,consts:[[1,"ion-padding","home"],["mycontent",""],["id","map",2,"height","100%","width","100%",3,"resized"],[2,"left","0px","top","0px","margin","6px"],["color","danger","style","position: absolute; z-index: 1; left: 36px",4,"ngIf"],["tappable","","ion-fab","","fab-bottom","",3,"click"],["name","menu"],["style","right: 0; top: 0; margin: 6px; margin-right: 46px",4,"ngIf"],["style","left: 0; bottom: 34px; margin: 6px",4,"ngIf"],[2,"left","0","bottom","100px","margin","6px"],["tappable","","ion-fab","","fab-bottom","",3,"color","click"],["name","image"],["right","","bottom","","style","right: 0; bottom: 100px; margin: 6px",4,"ngIf"],["right","","style","right: 0; bottom: 34px; margin: 6px",4,"ngIf"],["right","","bottom","","style","right: 0; bottom: 34px; margin: 6px",4,"ngIf"],["style","right: 60px; bottom: 34px; margin: 6px",4,"ngIf"],["style","right: 0; bottom: 34px; margin: 6px",4,"ngIf"],[3,"menuIsOpen","newVersion","closeEvent"],["color","danger",2,"position","absolute","z-index","1","left","36px"],[2,"right","0","top","0","margin","6px","margin-right","46px"],[3,"click"],["name","cloud-upload"],[2,"left","0","bottom","34px","margin","6px"],["tappable","","arrow","true","event","press",3,"disabled","click"],["name","refresh",4,"ngIf"],[4,"ngIf"],["name","refresh"],["disabled",""],["right","","bottom","",2,"right","0","bottom","100px","margin","6px"],["tappable","","ion-fab","","fab-bottom","","color","danger",3,"disabled","click"],["name","add"],["right","",2,"right","0","bottom","34px","margin","6px"],["tappable","","ion-fab","","fab-bottom","",3,"disabled","click"],["name","locate"],["right","","bottom","",2,"right","0","bottom","34px","margin","6px"],["tappable","","fab-bottom","","color","secondary",3,"click"],["name","checkmark"],[2,"right","60px","bottom","34px","margin","6px"],["tappable","","fab-bottom","","color","danger",3,"click"],["name","close"],["fab-bottom","","color","secondary",3,"click"],[2,"right","0","bottom","34px","margin","6px"],["ion-fab","","fab-bottom","","color","danger",3,"click"]],template:function(e,t){1&e&&(Qa(0,"ion-content",0,1),Qa(2,"div",2),uo("resized",function(e){return t.onMapResized(e)}),Qa(3,"ion-fab",3),$a(4,sE,2,0,"ion-badge",4),Qa(5,"ion-fab-button",5),uo("click",function(){return t.openMenu()}),to(6,"ion-icon",6),eo(),eo(),$a(7,uE,3,0,"ion-fab",7),$a(8,hE,6,7,"ion-fab",8),tu(9,"async"),$a(10,fE,3,0,"ion-fab",8),tu(11,"async"),Qa(12,"ion-fab",9),Qa(13,"ion-fab-button",10),uo("click",function(){return t.mapService.displaySatelliteBaseMap(t.configService.getBasemap(),!t.mapService.isDisplaySatelliteBaseMap)}),to(14,"ion-icon",11),eo(),eo(),$a(15,dE,3,1,"ion-fab",12),$a(16,pE,3,1,"ion-fab",13),$a(17,mE,3,0,"ion-fab",14),$a(18,gE,3,0,"ion-fab",15),$a(19,vE,3,0,"ion-fab",15),$a(20,yE,3,0,"ion-fab",16),eo(),eo(),Qa(21,"menu-component",17),uo("closeEvent",function(){return t.closeMenu()}),eo()),2&e&&(bi(4),Ja("ngIf",t.newVersion),bi(3),Ja("ngIf",t.dataService.geojsonChanged&&t.dataService.geojsonChanged.features.length>0&&!t.mapService.markerMoving),bi(1),Ja("ngIf",!nu(9,13,t.mapService.isProcessing)),bi(2),Ja("ngIf",nu(11,15,t.mapService.isProcessing)),bi(3),Ja("color",t.mapService.isDisplaySatelliteBaseMap?"light":"secondary"),bi(2),Ja("ngIf",!t.mapService.markerMoving&&!t.mapService.markerMoveMoving),bi(1),Ja("ngIf",!t.mapService.markerMoving&&!t.mapService.markerMoveMoving),bi(1),Ja("ngIf",t.mapService.markerMoving),bi(1),Ja("ngIf",t.mapService.markerMoving),bi(1),Ja("ngIf",t.mapService.markerMoveMoving),bi(1),Ja("ngIf",t.mapService.markerMoveMoving),bi(1),Ja("menuIsOpen",t.menuIsOpen)("newVersion",t.newVersion))},directives:[V_,KM,q_,pc,W_,Z_,oE,O_,sb],pipes:[Cc],styles:[".loadingFullScreen[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:9999;background-color:#f5f5f5}.main[_ngcontent-%COMP%]   scroll-content[_ngcontent-%COMP%]{margin-bottom:0}#map[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;right:0;left:0}.maplibre-ctrl-logo[_ngcontent-%COMP%]{display:none}ion-footer[_ngcontent-%COMP%]{height:50px}.ion-fab[_ngcontent-%COMP%]{z-index:5000}.spin[_ngcontent-%COMP%]{-webkit-animation:spin 1s 1 linear;animation:spin 1s 1 linear}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(359deg)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}menu-component[_ngcontent-%COMP%]{z-index:1002}"]}),e}();function bE(e,t){if(1&e&&(Qa(0,"ion-select-option",17),Eo(1),eo()),2&e){var n=t.$implicit;Ja("value",n.code),bi(1),Lo(" ",n.nativeName," ")}}function wE(e,t){if(1&e){var n=io();Qa(0,"ion-card"),Qa(1,"ion-card-content"),Qa(2,"ion-item"),Qa(3,"ion-label"),Eo(4),tu(5,"translate"),eo(),Qa(6,"ion-select",9),uo("ionChange",function(e){return Dt(n),ho().languageUiChange(e)}),$a(7,bE,2,2,"ion-select-option",15),eo(),eo(),eo(),eo()}if(2&e){var r=ho();bi(4),To(nu(5,3,"SETTINGS.UI_LANGUAGE")),bi(2),Ja("value",r.configService.config.languageUi),bi(1),Ja("ngForOf",r.configService.i18nConfig.language)}}function xE(e,t){if(1&e&&(Qa(0,"ion-select-option",17),Eo(1),eo()),2&e){var n=t.$implicit;Ja("value",n.code),bi(1),Lo(" ",n.nativeName," ")}}function kE(e,t){if(1&e){var n=io();Qa(0,"ion-card"),Qa(1,"ion-card-content"),Qa(2,"ion-item"),Qa(3,"ion-label"),Eo(4),tu(5,"translate"),eo(),Qa(6,"ion-select",9),uo("ionChange",function(e){return Dt(n),ho().languageTagsChange(e)}),$a(7,xE,2,2,"ion-select-option",15),eo(),eo(),eo(),eo()}if(2&e){var r=ho();bi(4),To(nu(5,3,"SETTINGS.TAG_LANGUAGE")),bi(2),Ja("value",r.configService.config.languageTags),bi(1),Ja("ngForOf",r.configService.i18nConfig.language)}}function CE(e,t){if(1&e&&(Qa(0,"ion-select-option",17),Eo(1),eo()),2&e){var n=t.$implicit;Ja("value",n.code),bi(1),Lo(" ",n.name," ")}}function SE(e,t){if(1&e){var n=io();Qa(0,"div"),Qa(1,"h4"),Eo(2,"Developer mode"),eo(),Qa(3,"ion-card"),Qa(4,"ion-card-content"),Qa(5,"ion-item"),Qa(6,"ion-label"),Eo(7,"Use the OSM development server"),eo(),Qa(8,"ion-toggle",4),uo("ionChange",function(e){return Dt(n),ho().changeIsDevServer(e.detail.checked)}),eo(),eo(),Qa(9,"label",5),Eo(10," After this change, the application will be restarted and the data will be cleared "),eo(),eo(),eo(),Qa(11,"ion-card"),Qa(12,"ion-card-content"),Qa(13,"ion-item"),Qa(14,"ion-label"),Eo(15,"Disable Developer mode"),eo(),Qa(16,"ion-toggle",4),uo("ionChange",function(e){return Dt(n),ho().disableDevMode(e)}),eo(),eo(),eo(),eo(),eo()}if(2&e){var r=ho();bi(8),Ja("checked",r.configService.config.isDevServer),bi(8),Ja("checked",r.configService.config.isDevMode)}}var ME=function(){var e=function(){function e(t,n,r,i,a,o,s,u,l){_classCallCheck(this,e),this.navCtrl=t,this.configService=n,this.mapService=r,this.platform=i,this.tagsService=a,this.dataService=o,this.osmApi=s,this.loadingController=u,this.initService=l}return _createClass(e,[{key:"ngOnInit",value:function(){this.initService.isLoaded||this.navCtrl.back()}},{key:"back",value:function(){this.navCtrl.back()}},{key:"mapMarginBufferChange",value:function(e){this.configService.setMapMarginBuffer(e.detail.value)}},{key:"limitFeaturesChange",value:function(e){this.configService.setLimitFeatures(e.detail.value)}},{key:"lockMapHeadingChange",value:function(e){this.configService.setLockMapHeading(e.detail.checked)}},{key:"followPositionChange",value:function(e){this.configService.setFollowPosition(e.detail.checked)}},{key:"centerWhenGpsIsReadyChange",value:function(e){this.configService.setCenterWhenGpsIsReady(e.detail.checked)}},{key:"defaultPrimarykeyWindowsChange",value:function(e){this.configService.setDefaultPrimarykeyWindows(e.detail.value)}},{key:"filterWayByArea",value:function(e){this.configService.setFilterWayByArea(e.detail.checked),this.mapService.toogleMesureFilter(this.configService.getFilterWayByArea(),"way_fill",5e3,this.mapService.map)}},{key:"filterWayByLength",value:function(e){this.configService.setFilterWayByLength(e.detail.checked),this.mapService.toogleMesureFilter(this.configService.getFilterWayByLength(),"way_line",.2,this.mapService.map)}},{key:"displayOldTagIconChange",value:function(e){this.configService.setOldTagsIcon(e.detail.checked,this.configService.config.oldTagsIcon.year),e.detail.checked?this.mapService.showOldTagIcon(this.configService.config.oldTagsIcon.year):this.mapService.hideOldTagIcon()}},{key:"yearOldTagIconChange",value:function(e){this.configService.setOldTagsIcon(this.configService.config.oldTagsIcon.display,e.detail.value),this.configService.config.oldTagsIcon.display&&this.mapService.showOldTagIcon(e.detail.value)}},{key:"displayFixmeIconChange",value:function(e){this.configService.setDisplayFixmeIcon(e.detail.checked),e.detail.checked?this.mapService.showFixmeIcon():this.mapService.hideFixmeIcon()}},{key:"addSurveyDateChange",value:function(e){this.configService.setAddSurveyDate(e.detail.checked)}},{key:"checkedKeyChange",value:function(e){this.configService.setCheckedKey(e.detail.value)}},{key:"languageUiChange",value:function(e){this.configService.setUiLanguage(e.detail.value)}},{key:"languageTagsChange",value:function(e){this.configService.setLanguageTags(e.detail.value)}},{key:"countryTagsChange",value:function(e){this.configService.setCountryTags(e.detail.value)}},{key:"isSelectableLineChange",value:function(e){this.configService.setIsSelectableLine(e.detail.checked)}},{key:"isSelectablePolygonChange",value:function(e){this.configService.setIsSelectablePolygon(e.detail.checked)}},{key:"deleteCache",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t,n,r,i,a;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataService.clearCache();case 2:return e.next=4,caches.keys();case 4:t=e.sent,n=_createForOfIteratorHelper(t),e.prev=6,n.s();case 8:if((r=n.n()).done){e.next=14;break}return i=r.value,e.next=12,caches.delete(i);case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:a="".concat(window.location.origin,"#/main"),window.location.replace(a),window.location.reload();case 24:case"end":return e.stop()}},e,this,[[6,16,19,22]])}))}},{key:"changeIsDevServer",value:function(e){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function t(){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.configService.setIsDevServer(e);case 2:n="".concat(window.location.origin,"#/main"),window.location.replace(n),window.location.reload();case 4:case"end":return t.stop()}},t,this)}))}},{key:"disableDevMode",value:function(e){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.configService.getIsDevServer(),this.configService.setIsDevMode(!1),e.t0=t,!e.t0){e.next=6;break}return e.next=6,this.changeIsDevServer(!1);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(E_),Za(Sx),Za(ek),Za(C_),Za(Mx),Za(Rx),Za(tk),Za(Rb),Za(nk))},e.\u0275cmp=Ue({type:e,selectors:[["page-settings"]],decls:195,vars:133,consts:[["color","primary"],["slot","primary",2,"min-width","32px",3,"click"],["name","arrow-back"],[1,"ion-padding"],[3,"checked","ionChange"],[1,"hint"],["debounce","300","snaps","","min","0","max","10","step","0.5","pin","",3,"value","ionChange"],["range-left",""],["range-right",""],[3,"value","ionChange"],["value","survey:date"],["value","check_date"],["debounce","300","step","2000","snaps","","min","0","max","60000",3,"value","ionChange"],["debounce","300","snaps","","min","0","max","100",3,"value","ionChange"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["color","danger",3,"click"],[3,"value"]],template:function(e,t){1&e&&(Qa(0,"ion-header",0),Qa(1,"ion-toolbar",0),Qa(2,"ion-buttons",1),uo("click",function(){return t.navCtrl.back()}),to(3,"ion-icon",2),eo(),Qa(4,"ion-title"),Eo(5),tu(6,"translate"),eo(),eo(),eo(),Qa(7,"ion-content",3),Qa(8,"h4"),Eo(9),tu(10,"translate"),eo(),Qa(11,"ion-card"),Qa(12,"ion-card-content"),Qa(13,"ion-item"),Qa(14,"ion-label"),Eo(15),tu(16,"translate"),eo(),Qa(17,"ion-toggle",4),uo("ionChange",function(e){return t.followPositionChange(e)}),eo(),eo(),Qa(18,"label",5),Eo(19),tu(20,"translate"),eo(),eo(),eo(),Qa(21,"ion-card"),to(22,"ion-card-header"),Qa(23,"ion-card-content"),Qa(24,"ion-item"),Qa(25,"ion-label"),Eo(26),tu(27,"translate"),eo(),Qa(28,"ion-toggle",4),uo("ionChange",function(e){return t.lockMapHeadingChange(e)}),eo(),eo(),Qa(29,"label",5),Eo(30),tu(31,"translate"),eo(),eo(),eo(),Qa(32,"ion-card"),to(33,"ion-card-header"),Qa(34,"ion-card-content"),Qa(35,"ion-item"),Qa(36,"ion-label"),Eo(37),tu(38,"translate"),eo(),Qa(39,"ion-toggle",4),uo("ionChange",function(e){return t.centerWhenGpsIsReadyChange(e)}),eo(),eo(),Qa(40,"label",5),Eo(41),tu(42,"translate"),eo(),eo(),eo(),Qa(43,"ion-card"),to(44,"ion-card-header"),Qa(45,"ion-card-content"),Qa(46,"ion-item"),Qa(47,"ion-label"),Eo(48),tu(49,"translate"),eo(),Qa(50,"ion-toggle",4),uo("ionChange",function(e){return t.displayOldTagIconChange(e)}),eo(),eo(),Qa(51,"ion-label"),Eo(52),tu(53,"translate"),tu(54,"translate"),eo(),Qa(55,"ion-range",6),uo("ionChange",function(e){return t.yearOldTagIconChange(e)}),Qa(56,"ion-label",7),Eo(57,"0"),eo(),Qa(58,"ion-label",8),Eo(59,"10"),eo(),eo(),Qa(60,"label",5),Eo(61),tu(62,"translate"),eo(),eo(),eo(),Qa(63,"ion-card"),Qa(64,"ion-card-content"),Qa(65,"ion-item"),Qa(66,"ion-label"),Eo(67),tu(68,"translate"),eo(),Qa(69,"ion-toggle",4),uo("ionChange",function(e){return t.displayFixmeIconChange(e)}),eo(),eo(),Qa(70,"label",5),Eo(71),tu(72,"translate"),eo(),eo(),eo(),Qa(73,"ion-card"),Qa(74,"ion-card-content"),Qa(75,"ion-item"),Qa(76,"ion-label"),Eo(77),tu(78,"translate"),eo(),Qa(79,"ion-toggle",4),uo("ionChange",function(e){return t.filterWayByArea(e)}),eo(),eo(),Qa(80,"label",5),Eo(81),tu(82,"translate"),eo(),eo(),eo(),Qa(83,"ion-card"),Qa(84,"ion-card-content"),Qa(85,"ion-item"),Qa(86,"ion-label"),Eo(87),tu(88,"translate"),eo(),Qa(89,"ion-toggle",4),uo("ionChange",function(e){return t.filterWayByLength(e)}),eo(),eo(),Qa(90,"label",5),Eo(91),tu(92,"translate"),eo(),eo(),eo(),Qa(93,"ion-card"),Qa(94,"ion-card-content"),Qa(95,"ion-item"),Qa(96,"ion-label"),Eo(97),tu(98,"translate"),eo(),Qa(99,"ion-toggle",4),uo("ionChange",function(e){return t.isSelectableLineChange(e)}),eo(),eo(),Qa(100,"label",5),Eo(101),tu(102,"translate"),eo(),eo(),eo(),Qa(103,"ion-card"),Qa(104,"ion-card-content"),Qa(105,"ion-item"),Qa(106,"ion-label"),Eo(107),tu(108,"translate"),eo(),Qa(109,"ion-toggle",4),uo("ionChange",function(e){return t.isSelectablePolygonChange(e)}),eo(),eo(),Qa(110,"label",5),Eo(111),tu(112,"translate"),eo(),eo(),eo(),Qa(113,"h4"),Eo(114),tu(115,"translate"),eo(),Qa(116,"ion-card"),Qa(117,"ion-card-content"),Qa(118,"ion-item"),Qa(119,"ion-label"),Eo(120),tu(121,"translate"),eo(),Qa(122,"ion-toggle",4),uo("ionChange",function(e){return t.addSurveyDateChange(e)}),eo(),eo(),Qa(123,"label",5),Eo(124),tu(125,"translate"),eo(),eo(),eo(),Qa(126,"ion-card"),Qa(127,"ion-card-content"),Qa(128,"ion-item"),Qa(129,"ion-label"),Eo(130),tu(131,"translate"),eo(),Qa(132,"ion-select",9),uo("ionChange",function(e){return t.checkedKeyChange(e)}),Qa(133,"ion-select-option",10),Eo(134," survey:date "),eo(),Qa(135,"ion-select-option",11),Eo(136," check_date "),eo(),eo(),eo(),eo(),eo(),Qa(137,"h4"),Eo(138),tu(139,"translate"),eo(),Qa(140,"ion-card"),Qa(141,"ion-card-header"),Eo(142),tu(143,"translate"),eo(),Qa(144,"ion-card-content"),Qa(145,"ion-range",12),uo("ionChange",function(e){return t.limitFeaturesChange(e)}),Qa(146,"ion-label",7),Eo(147,"0"),eo(),Qa(148,"ion-label",8),Eo(149,"60000"),eo(),eo(),Qa(150,"label",5),Eo(151),tu(152,"translate"),eo(),eo(),eo(),Qa(153,"ion-card"),Qa(154,"ion-card-header"),Eo(155),tu(156,"translate"),eo(),Qa(157,"ion-card-content"),Qa(158,"ion-range",13),uo("ionChange",function(e){return t.mapMarginBufferChange(e)}),Qa(159,"ion-label",7),Eo(160,"0m"),eo(),Qa(161,"ion-label",8),Eo(162,"100m"),eo(),eo(),Qa(163,"label",5),Eo(164),tu(165,"translate"),eo(),eo(),eo(),Qa(166,"h4"),Eo(167),tu(168,"translate"),eo(),$a(169,wE,8,5,"ion-card",14),$a(170,kE,8,5,"ion-card",14),Qa(171,"ion-card"),Qa(172,"ion-card-content"),Qa(173,"ion-item"),Qa(174,"ion-label"),Eo(175),tu(176,"translate"),eo(),Qa(177,"ion-select",9),uo("ionChange",function(e){return t.countryTagsChange(e)}),$a(178,CE,2,2,"ion-select-option",15),eo(),eo(),Qa(179,"label",5),Eo(180),tu(181,"translate"),eo(),eo(),eo(),Qa(182,"h4"),Eo(183),tu(184,"translate"),eo(),Qa(185,"ion-card"),Qa(186,"ion-card-content"),Qa(187,"ion-item"),Qa(188,"ion-button",16),uo("click",function(){return t.deleteCache()}),Eo(189),tu(190,"translate"),eo(),eo(),Qa(191,"label",5),Eo(192),tu(193,"translate"),eo(),eo(),eo(),$a(194,SE,17,2,"div",14),eo()),2&e&&(bi(5),To(nu(6,59,"SETTINGS.SETTINGS")),bi(4),To(nu(10,61,"SETTINGS.MAP")),bi(6),Lo(" ",nu(16,63,"SETTINGS.POSITION_TRACKING")," "),bi(2),Ja("checked",t.configService.config.followPosition),bi(2),To(nu(20,65,"SETTINGS.POSITION_TRACKING_HINT")),bi(7),Lo("",nu(27,67,"SETTINGS.ORIENTATION_TRACKING")," "),bi(2),Ja("checked",t.configService.config.lockMapHeading),bi(2),Lo("",nu(31,69,"SETTINGS.ORIENTATION_TRACKING_HINT")," "),bi(7),Lo("",nu(38,71,"SETTINGS.CENTER_WHEN_GPS_IS_READY")," "),bi(2),Ja("checked",t.configService.config.centerWhenGpsIsReady),bi(2),Lo("",nu(42,73,"SETTINGS.CENTER_WHEN_GPS_IS_READY_HINT")," "),bi(7),Lo(" ",nu(49,75,"SETTINGS.DISPLAY_OLD_TAGS_ICON")," "),bi(2),Ja("checked",t.configService.config.oldTagsIcon.display),bi(2),Do("",nu(53,77,"SETTINGS.OLD_TAGS_ICON_RANGE_PART_1")," ",t.configService.config.oldTagsIcon.year," ",nu(54,79,"SETTINGS.OLD_TAGS_ICON_RANGE_PART_2")," "),bi(3),Ja("value",t.configService.config.oldTagsIcon.year),bi(6),Lo("",nu(62,81,"SETTINGS.OLD_TAGS_ICON_HINT")," "),bi(6),To(nu(68,83,"SETTINGS.DISPLAY_FIXME_ICON")),bi(2),Ja("checked",t.configService.config.displayFixmeIcon),bi(2),Lo(" ",nu(72,85,"SETTINGS.DISPLAY_FIXME_ICON_HINT")," "),bi(6),Lo("",nu(78,87,"SETTINGS.HIDE_LARGE_POLYGON")," "),bi(2),Ja("checked",t.configService.config.filterWayByArea),bi(2),Lo("",nu(82,89,"SETTINGS.HIDE_LARGE_POLYGON_HINT")," "),bi(6),Lo("",nu(88,91,"SETTINGS.HIDE_LONG_LINE")," "),bi(2),Ja("checked",t.configService.config.filterWayByLength),bi(2),To(nu(92,93,"SETTINGS.HIDE_LONG_LINE_HINT")),bi(6),Lo(" ",nu(98,95,"SETTINGS.LINES_SELECTABLE")," "),bi(2),Ja("checked",t.configService.config.isSelectableLine),bi(2),Lo("",nu(102,97,"SETTINGS.LINES_SELECTABLE_HINT")," "),bi(6),Lo("",nu(108,99,"SETTINGS.POLYGONS_SELECTABLE")," "),bi(2),Ja("checked",t.configService.config.isSelectablePolygon),bi(2),Lo("",nu(112,101,"SETTINGS.POLYGONS_SELECTABLE_HINT")," "),bi(3),To(nu(115,103,"SETTINGS.TAGS")),bi(6),To(nu(121,105,"SETTINGS.ADD_SURVEY_DATE")),bi(2),Ja("checked",t.configService.config.addSurveyDate),bi(2),Lo(" ",nu(125,107,"SETTINGS.ADD_SURVEY_DATE_HINT")," "),bi(6),To(nu(131,109,"SETTINGS.CHECKED_KEY")),bi(2),Ja("value",t.configService.config.checkedKey),bi(6),To(nu(139,111,"SETTINGS.DATA")),bi(4),Io(" ",nu(143,113,"SETTINGS.LIMIT_FEATURES")," (",t.configService.config.limitFeatures,") "),bi(3),Ja("value",t.configService.config.limitFeatures),bi(6),To(nu(152,115,"SETTINGS.LIMIT_FEATURES_HINT")),bi(4),Io(" ",nu(156,117,"SETTINGS.MARGIN")," (",t.configService.config.mapMarginBuffer," m) "),bi(3),Ja("value",t.configService.config.mapMarginBuffer),bi(6),To(nu(165,119,"SETTINGS.MARGIN_HINT")),bi(3),To(nu(168,121,"SETTINGS.LANGUAGE_AND_REGION")),bi(2),Ja("ngIf",t.configService.config.languageUi&&t.configService.i18nConfig),bi(1),Ja("ngIf",t.configService.config.languageTags&&t.configService.i18nConfig),bi(5),To(nu(176,123,"SETTINGS.TAG_COUNTRY")),bi(2),Ja("value",t.configService.config.countryTags),bi(1),Ja("ngForOf",t.configService.countryConfig),bi(2),To(nu(181,125,"SETTINGS.TAG_COUNTRY_HINT")),bi(3),To(nu(184,127,"SETTINGS.CACHE")),bi(6),To(nu(190,129,"SETTINGS.DELETE_CACHE")),bi(3),Lo(" ",nu(193,131,"SETTINGS.DELETE_CACHE_HINT")," "),bi(2),Ja("ngIf",t.configService.config.isDevMode))},directives:[X_,cb,R_,Z_,ub,V_,F_,Y_,K_,Q_,lb,g_,z_,rb,x_,ab,ob,pc,fc,N_],pipes:[kx],styles:["page-settings[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-family:inherit;line-height:normal;font-size:12px;font-style:italic;color:#a9a9a9}page-settings[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding-left:16px}ion-label[_ngcontent-%COMP%]{white-space:normal!important}"]}),e}();function EE(e,t){1&e&&to(0,"ion-spinner")}function TE(e,t){1&e&&(Qa(0,"label",16),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),Lo("",nu(2,1,"LOGIN.SAVED_PASSWORD_HINT")," "))}function LE(e,t){1&e&&(Qa(0,"label",16),Eo(1),tu(2,"translate"),eo()),2&e&&(bi(1),To(nu(2,1,"LOGIN.NOT_SAVED_PASSWORD_HINT")))}function IE(e,t){if(1&e&&(Qa(0,"ion-card",17),Qa(1,"ion-card-content"),Eo(2),eo(),eo()),2&e){var n=ho();bi(2),Lo(" ",n.errorLogin.error," ")}}function DE(e,t){if(1&e){var n=io();Qa(0,"ion-button",18),uo("click",function(){return Dt(n),ho().oauthLogin()}),to(1,"ion-icon",19),Eo(2),tu(3,"translate"),eo()}2&e&&(Ja("disabled",ho().loading),bi(2),Lo(" ",nu(3,2,"LOGIN.LOGIN_OAUTH")," "))}var AE=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this.osmApi=t,this.navCtrl=n,this.configService=r,this.platform=i,this.loading=!1,this.showPassword=!1,this.isAndroid=this.platform.platforms().includes("hybrid")}return _createClass(e,[{key:"login",value:function(){var e=this;this.loading=!0,this.osmApi.getUserDetail$(this.username,this.password,!0,this.configService.config.passwordSaved).subscribe(function(t){e.loading=!1,e.navCtrl.pop()},function(t){console.log(t),e.loading=!1,e.errorLogin=t})}},{key:"oauthLogin",value:function(){var e=this;this.loading=!0,this.osmApi.isAuthenticated()?this.osmApi.getUserDetail$().subscribe(function(t){e.loading=!1,e.configService.setUserInfo(t)}):this.osmApi.login$().subscribe(function(t){e.osmApi.getUserDetail$().subscribe(function(t){e.configService.setUserInfo(t),e.loading=!1,e.navCtrl.pop()})})}},{key:"passwordSavedChange",value:function(e){this.configService.setPasswordSaved(e.detail.checked)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(tk),Za(E_),Za(Sx),Za(C_))},e.\u0275cmp=Ue({type:e,selectors:[["login"]],decls:31,vars:29,consts:[["color","primary"],["slot","primary",2,"min-width","32px",3,"click"],["name","arrow-back"],[4,"ngIf"],[1,"ion-padding"],[3,"ngModel","disabled","placeholder","ngModelChange"],[3,"ngModel","type","disabled","placeholder","ngModelChange"],[1,"ion-text-right",3,"name","click"],[2,"display","flex","width","max-content","margin-left","auto","margin-right","auto"],[2,"line-height","38px"],[3,"checked","disabled","ionChange"],[2,"text-align","center"],["class","hint",4,"ngIf"],["color","danger",4,"ngIf"],["block","",2,"margin-top","16px","width","100%",3,"disabled","click"],["color","light","style","\n            margin-top: 60px;\n            width: 100%;\n            text-align: center;\n            cursor: pointer;\n        ",3,"disabled","click",4,"ngIf"],[1,"hint"],["color","danger"],["color","light",2,"margin-top","60px","width","100%","text-align","center","cursor","pointer",3,"disabled","click"],["name","log-in"]],template:function(e,t){1&e&&(Qa(0,"ion-header",0),Qa(1,"ion-toolbar",0),Qa(2,"ion-buttons",1),uo("click",function(){return t.navCtrl.back()}),to(3,"ion-icon",2),eo(),Qa(4,"ion-title"),Eo(5),tu(6,"translate"),$a(7,EE,1,0,"ion-spinner",3),eo(),eo(),eo(),Qa(8,"ion-content",4),Qa(9,"ion-card",4),Qa(10,"ion-item"),Qa(11,"ion-input",5),uo("ngModelChange",function(e){return t.username=e}),tu(12,"translate"),eo(),eo(),Qa(13,"ion-item"),Qa(14,"ion-input",6),uo("ngModelChange",function(e){return t.password=e}),tu(15,"translate"),eo(),Qa(16,"ion-icon",7),uo("click",function(){return t.showPassword=!t.showPassword}),eo(),eo(),Qa(17,"div"),Qa(18,"div",8),Qa(19,"ion-label",9),Eo(20),tu(21,"translate"),eo(),Qa(22,"ion-toggle",10),uo("ionChange",function(e){return t.passwordSavedChange(e)}),eo(),eo(),eo(),Qa(23,"div",11),$a(24,TE,3,3,"label",12),$a(25,LE,3,3,"label",12),eo(),$a(26,IE,3,1,"ion-card",13),Qa(27,"ion-button",14),uo("click",function(){return t.login()}),Eo(28),tu(29,"translate"),eo(),eo(),$a(30,DE,4,4,"ion-button",15),eo()),2&e&&(bi(5),Lo(" ",nu(6,19,"LOGIN.LOGIN")," "),bi(2),Ja("ngIf",t.loading),bi(4),Ja("ngModel",t.username)("disabled",t.loading)("placeholder",nu(12,21,"LOGIN.USERNAME_PLACEHOLDER")),bi(3),Ja("ngModel",t.password)("type",t.showPassword?"text":"password")("disabled",t.loading)("placeholder",nu(15,23,"LOGIN.PASSWORD_PLACEHOLDER")),bi(2),Ja("name",t.showPassword?"eye":"eye-off"),bi(4),Lo(" ",nu(21,25,"LOGIN.SAVE_PASSWORD")," "),bi(2),Ja("checked",t.configService.config.passwordSaved)("disabled",t.loading),bi(2),Ja("ngIf",t.configService.config.passwordSaved),bi(1),Ja("ngIf",!t.configService.config.passwordSaved),bi(1),Ja("ngIf",t.errorLogin),bi(1),Ja("disabled",t.loading),bi(1),To(nu(29,27,"LOGIN.LOGIN_BUTTON")),bi(2),Ja("ngIf",!t.isAndroid))},directives:[X_,cb,R_,Z_,ub,pc,V_,F_,K_,J_,k_,wy,jy,Q_,lb,g_,N_,sb,Y_],pipes:[kx],styles:[".hint[_ngcontent-%COMP%]{font-family:inherit;line-height:normal;font-size:12px;font-style:italic;color:#a9a9a9}"]}),e}(),PE=function(){return["point"]};function OE(e,t){if(1&e){var n=io();Qa(0,"ion-item",12),Qa(1,"app-tag-list-element",13),uo("removeHiddenTag",function(e){return Dt(n),ho().removeHiddenTag(e)}),eo(),eo()}if(2&e){var r=t.$implicit,i=ho();bi(1),Ja("tag",r)("countryTags",i.configService.config.countryTags)("languageTags",i.configService.config.languageTags)("jsonSprites",i.tagsService.jsonSprites)("geometriesFilter",$s(7,PE))("bookmarksIds",i.tagsService.bookmarksIds)("isHiddenTag",!0)}}var NE=function(e,t){return[e,t]},RE=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.configService=t,this.tagsService=n,this.modalCtrl=r,this.searchText="",this.refreshFilterMapAfterClose=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"removeHiddenTag",value:function(e){this.tagsService.removeHiddenTag(e),this.refreshFilterMapAfterClose=!0}},{key:"addHiddenTag",value:function(e){this.tagsService.addHiddenTag(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Sx),Za(Mx),Za(zb))},e.\u0275cmp=Ue({type:e,selectors:[["app-hidden-tags"]],decls:23,vars:22,consts:[["color","primary"],["slot","primary",2,"min-width","32px",3,"click"],["name","arrow-back"],["id","searchSelect"],["id","searchDiv"],["autocomplete","off","autocorrect","off","autocapitalize","none","inputmode","text",3,"ngModel","debounce","ngModelChange"],[1,"listTag"],[2,"overflow-y","auto"],["class","ion-no-padding",4,"ngFor","ngForOf"],["id","footer"],["ion-button","","color","primary",3,"click"],["ion-button","","color","danger",3,"click"],[1,"ion-no-padding"],[2,"width","100%",3,"tag","countryTags","languageTags","jsonSprites","geometriesFilter","bookmarksIds","isHiddenTag","removeHiddenTag"]],template:function(e,t){1&e&&(Qa(0,"ion-header",0),Qa(1,"ion-toolbar",0),Qa(2,"ion-buttons",1),uo("click",function(){return t.modalCtrl.dismiss(t.refreshFilterMapAfterClose)}),to(3,"ion-icon",2),eo(),Qa(4,"ion-title"),Eo(5),tu(6,"translate"),eo(),eo(),eo(),Qa(7,"ion-content"),Qa(8,"div",3),Qa(9,"div",4),Qa(10,"ion-searchbar",5),uo("ngModelChange",function(e){return t.searchText=e}),eo(),eo(),eo(),Qa(11,"div",6),Qa(12,"ion-list",7),$a(13,OE,2,8,"ion-item",8),tu(14,"filterByTagsContent"),tu(15,"filtersTagsByIds"),eo(),eo(),eo(),Qa(16,"ion-footer",9),Qa(17,"ion-button",10),uo("click",function(){return t.modalCtrl.dismiss(t.refreshFilterMapAfterClose)}),Eo(18),tu(19,"translate"),eo(),Qa(20,"ion-button",11),uo("click",function(){return t.tagsService.resetHiddenTags()}),Eo(21),tu(22,"translate"),eo(),eo()),2&e&&(bi(5),Lo(" ",nu(6,6,"MANAGE_TAGS.HIDDEN_TAGS")," "),bi(5),Ja("ngModel",t.searchText)("debounce",300),bi(3),Ja("ngForOf",iu(14,8,ru(15,12,t.tagsService.tags,t.tagsService.hiddenTagsIds),Zs(19,NE,t.configService.config.languageTags,t.configService.config.countryTags),t.searchText)),bi(5),Lo(" ",nu(19,15,"SHARED.CLOSE")," "),bi(3),Lo(" ",nu(22,17,"MANAGE_TAGS.RESET_HIDDEN_TAGS")," "))},directives:[X_,cb,R_,Z_,ub,V_,ib,k_,wy,jy,eb,fc,$_,N_,K_,Ik],pipes:[kx,Ak,Fk],styles:["","#searchSelect[_ngcontent-%COMP%]{position:absolute;top:0;height:65px;width:100%;margin-left:auto;margin-right:auto}#searchDiv[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.listTag[_ngcontent-%COMP%]{position:absolute;top:65px;bottom:50px;width:100%;overflow-y:scroll}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;width:100%}"]}),e}(),FE=function(){return["point"]};function YE(e,t){if(1&e){var n=io();Qa(0,"ion-item",13),Qa(1,"app-tag-list-element",14),uo("removeBookmark",function(){var e=Dt(n).$implicit;return ho(2).tagsService.removeBookMark(e)})("addBookmark",function(){var e=Dt(n).$implicit;return ho(2).tagsService.addBookMark(e)})("addHiddenTag",function(e){return Dt(n),ho(2).addHiddenTag(e)}),eo(),eo()}if(2&e){var r=t.$implicit,i=ho(2);bi(1),Ja("tag",r)("countryTags",i.configService.config.countryTags)("languageTags",i.configService.config.languageTags)("jsonSprites",i.tagsService.jsonSprites)("geometriesFilter",$s(7,FE))("bookmarksIds",i.tagsService.bookmarksIds)("showHideTagButton",!0)}}var zE=function(e,t){return[e,t]};function jE(e,t){if(1&e&&(Qa(0,"ion-list",11),$a(1,YE,2,8,"ion-item",12),tu(2,"filterByTagsContent"),tu(3,"filterDeprecatedTag"),tu(4,"filtersTagsByIds"),eo()),2&e){var n=ho();bi(1),Ja("ngForOf",iu(2,1,nu(3,5,iu(4,7,n.tagsService.tags,n.tagsService.hiddenTagsIds,!0)),Zs(11,zE,n.configService.config.languageTags,n.configService.config.countryTags),n.searchText))}}function BE(e,t){1&e&&(Qa(0,"div"),Qa(1,"h4",15),Eo(2),tu(3,"translate"),eo(),eo()),2&e&&(bi(2),Lo(" ",nu(3,1,"MODAL_SELECTED_ITEM.SEARCH_TAG_AT_LEAST_3_LETTERS")," "))}var HE=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.configService=t,this.tagsService=n,this.modalCtrl=r,this.searchText="",this.refreshFilterMapAfterClose=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"removeHiddenTag",value:function(e){this.tagsService.removeHiddenTag(e),this.refreshFilterMapAfterClose=!0}},{key:"addHiddenTag",value:function(e){this.tagsService.addHiddenTag(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Sx),Za(Mx),Za(zb))},e.\u0275cmp=Ue({type:e,selectors:[["app-active-tags"]],decls:18,vars:10,consts:[["color","primary"],["slot","primary",2,"min-width","32px",3,"click"],["name","arrow-back"],["id","searchSelect"],["id","searchDiv"],["autocomplete","off","autocorrect","off","autocapitalize","none","inputmode","text",3,"ngModel","debounce","ngModelChange"],[1,"listTag"],["style","overflow-y: auto",4,"ngIf"],[4,"ngIf"],["id","footer"],["ion-button","","color","primary",3,"click"],[2,"overflow-y","auto"],["class","ion-no-padding",4,"ngFor","ngForOf"],[1,"ion-no-padding"],[2,"width","100%",3,"tag","countryTags","languageTags","jsonSprites","geometriesFilter","bookmarksIds","showHideTagButton","removeBookmark","addBookmark","addHiddenTag"],[2,"text-align","center"]],template:function(e,t){1&e&&(Qa(0,"ion-header",0),Qa(1,"ion-toolbar",0),Qa(2,"ion-buttons",1),uo("click",function(){return t.modalCtrl.dismiss(!1)}),to(3,"ion-icon",2),eo(),Qa(4,"ion-title"),Eo(5),tu(6,"translate"),eo(),eo(),eo(),Qa(7,"ion-content"),Qa(8,"div",3),Qa(9,"div",4),Qa(10,"ion-searchbar",5),uo("ngModelChange",function(e){return t.searchText=e}),eo(),eo(),eo(),Qa(11,"div",6),$a(12,jE,5,14,"ion-list",7),$a(13,BE,4,3,"div",8),eo(),eo(),Qa(14,"ion-footer",9),Qa(15,"ion-button",10),uo("click",function(){return t.modalCtrl.dismiss(t.refreshFilterMapAfterClose)}),Eo(16),tu(17,"translate"),eo(),eo()),2&e&&(bi(5),Lo(" ",nu(6,6,"MANAGE_TAGS.ACTIVE_TAGS")," "),bi(5),Ja("ngModel",t.searchText)("debounce",300),bi(2),Ja("ngIf",t.searchText.length>2),bi(1),Ja("ngIf",t.searchText.length<=2),bi(3),Lo(" ",nu(17,8,"SHARED.CLOSE")," "))},directives:[X_,cb,R_,Z_,ub,V_,ib,k_,wy,jy,pc,$_,N_,eb,fc,K_,Ik],pipes:[kx,Ak,Rk,Fk],styles:["","#searchSelect[_ngcontent-%COMP%]{position:absolute;top:0;height:65px;width:100%;margin-left:auto;margin-right:auto}#searchDiv[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.listTag[_ngcontent-%COMP%]{position:absolute;top:65px;bottom:50px;width:100%;overflow-y:scroll}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;width:100%}"]}),e}(),UE=function(){return["point"]};function VE(e,t){if(1&e){var n=io();Qa(0,"ion-item",11),Qa(1,"app-tag-list-element",12),uo("removeBookmark",function(){var e=Dt(n).$implicit;return ho().tagsService.removeBookMark(e)})("addBookmark",function(){var e=Dt(n).$implicit;return ho().tagsService.addBookMark(e)}),eo(),eo()}if(2&e){var r=t.$implicit,i=ho();bi(1),Ja("tag",r)("countryTags",i.configService.config.countryTags)("languageTags",i.configService.config.languageTags)("jsonSprites",i.tagsService.jsonSprites)("geometriesFilter",$s(6,UE))("bookmarksIds",i.tagsService.bookmarksIds)}}var GE=function(e,t){return[e,t]},qE=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.configService=t,this.tagsService=n,this.modalCtrl=r,this.searchText=""}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(Sx),Za(Mx),Za(zb))},e.\u0275cmp=Ue({type:e,selectors:[["app-bookmarked-tags"]],decls:20,vars:19,consts:[["color","primary"],["slot","primary",2,"min-width","32px",3,"click"],["name","arrow-back"],["id","searchSelect"],["id","searchDiv"],["autocomplete","off","autocorrect","off","autocapitalize","none","inputmode","text",3,"ngModel","debounce","ngModelChange"],[1,"listTag"],[2,"overflow-y","auto"],["class","ion-no-padding",4,"ngFor","ngForOf"],["id","footer"],["ion-button","","color","primary",3,"click"],[1,"ion-no-padding"],[2,"width","100%",3,"tag","countryTags","languageTags","jsonSprites","geometriesFilter","bookmarksIds","removeBookmark","addBookmark"]],template:function(e,t){1&e&&(Qa(0,"ion-header",0),Qa(1,"ion-toolbar",0),Qa(2,"ion-buttons",1),uo("click",function(){return t.modalCtrl.dismiss(!1)}),to(3,"ion-icon",2),eo(),Qa(4,"ion-title"),Eo(5),tu(6,"translate"),eo(),eo(),eo(),Qa(7,"ion-content"),Qa(8,"div",3),Qa(9,"div",4),Qa(10,"ion-searchbar",5),uo("ngModelChange",function(e){return t.searchText=e}),eo(),eo(),eo(),Qa(11,"div",6),Qa(12,"ion-list",7),$a(13,VE,2,7,"ion-item",8),tu(14,"filterByTagsContent"),tu(15,"filtersTagsByIds"),eo(),eo(),eo(),Qa(16,"ion-footer",9),Qa(17,"ion-button",10),uo("click",function(){return t.modalCtrl.dismiss(!1)}),Eo(18),tu(19,"translate"),eo(),eo()),2&e&&(bi(5),Lo(" ",nu(6,5,"MANAGE_TAGS.BOOKMARKED_TAGS")," "),bi(5),Ja("ngModel",t.searchText)("debounce",300),bi(3),Ja("ngForOf",iu(14,7,ru(15,11,t.tagsService.tags,t.tagsService.bookmarksIds),Zs(16,GE,t.configService.config.languageTags,t.configService.config.countryTags),t.searchText)),bi(5),Lo(" ",nu(19,14,"SHARED.CLOSE")," "))},directives:[X_,cb,R_,Z_,ub,V_,ib,k_,wy,jy,eb,fc,$_,N_,K_,Ik],pipes:[kx,Ak,Fk],styles:["","#searchSelect[_ngcontent-%COMP%]{position:absolute;top:0;height:65px;width:100%;margin-left:auto;margin-right:auto}#searchDiv[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.listTag[_ngcontent-%COMP%]{position:absolute;top:65px;bottom:50px;width:100%;overflow-y:scroll}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;width:100%}"]}),e}(),WE=function(){var e=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.modalCtrl=t,this.initService=n,this.configService=r,this.mapService=i,this.tagsService=a,this.navCtrl=o,this.refreshFilterMapAfterClose=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.initService.isLoaded||this.initService.initLoadData$().subscribe()}},{key:"openHiddenTagsModal",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t,n=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:RE});case 2:return t=e.sent,e.next=5,t.present();case 5:t.onDidDismiss().then(function(e){(!0===e.data||void 0===e.data)&&(n.refreshFilterMapAfterClose=!0)});case 6:case"end":return e.stop()}},e,this)}))}},{key:"openActiveTagsModal",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t,n=this;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:HE});case 2:return t=e.sent,e.next=5,t.present();case 5:t.onDidDismiss().then(function(e){(!0===e.data||void 0===e.data)&&(n.refreshFilterMapAfterClose=!0)});case 6:case"end":return e.stop()}},e,this)}))}},{key:"openBookmarkedTagsModal",value:function(){return uw(this,void 0,void 0,_regeneratorRuntime().mark(function e(){var t;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:qE});case 2:return t=e.sent,e.next=5,t.present();case 5:t.onDidDismiss().then(function(e){});case 6:case"end":return e.stop()}},e,this)}))}},{key:"back",value:function(){this.mapService.map&&this.mapService.filterMakerByIds(this.tagsService.hiddenTagsIds),this.navCtrl.back()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(zb),Za(nk),Za(Sx),Za(ek),Za(Mx),Za(E_))},e.\u0275cmp=Ue({type:e,selectors:[["app-manage-tags"]],decls:44,vars:36,consts:[["color","primary"],["slot","primary",2,"min-width","32px",3,"click"],["name","arrow-back"],[1,"ion-padding"],[2,"color","red"],["expand","full",2,"text-transform","none",3,"click"]],template:function(e,t){1&e&&(Qa(0,"ion-header",0),Qa(1,"ion-toolbar",0),Qa(2,"ion-buttons",1),uo("click",function(){return t.back()}),to(3,"ion-icon",2),eo(),Qa(4,"ion-title"),Eo(5),tu(6,"translate"),eo(),eo(),eo(),Qa(7,"ion-content",3),Qa(8,"ion-card",3),Qa(9,"h4"),Eo(10),tu(11,"translate"),eo(),Qa(12,"p"),Eo(13),tu(14,"translate"),eo(),Qa(15,"p",4),Eo(16),tu(17,"translate"),eo(),Qa(18,"ion-button",5),uo("click",function(){return t.openActiveTagsModal()}),Eo(19),tu(20,"translate"),eo(),eo(),Qa(21,"ion-card",3),Qa(22,"h4"),Eo(23),tu(24,"translate"),eo(),Qa(25,"p"),Eo(26),tu(27,"translate"),eo(),Qa(28,"p",4),Eo(29),tu(30,"translate"),eo(),Qa(31,"ion-button",5),uo("click",function(){return t.openHiddenTagsModal()}),Eo(32),tu(33,"translate"),eo(),eo(),Qa(34,"ion-card",3),Qa(35,"h4"),Eo(36),tu(37,"translate"),eo(),Qa(38,"p"),Eo(39),tu(40,"translate"),eo(),Qa(41,"ion-button",5),uo("click",function(){return t.openBookmarkedTagsModal()}),Eo(42),tu(43,"translate"),eo(),eo(),eo()),2&e&&(bi(5),Lo(" ",nu(6,12,"MANAGE_TAGS.TAG_MANAGEMENT_TITLE")," "),bi(5),To(nu(11,14,"MANAGE_TAGS.ACTIVE_TAGS")),bi(3),Lo(" ",nu(14,16,"MANAGE_TAGS.ACTIVE_TAGS_DESCRIPTION")," "),bi(3),Lo(" ",nu(17,18,"MANAGE_TAGS.HIDDEN_TAGS_WARNING")," "),bi(3),Lo(" ",nu(20,20,"MANAGE_TAGS.ACTIVE_TAGS"),""),bi(4),To(nu(24,22,"MANAGE_TAGS.HIDDEN_TAGS")),bi(3),Lo(" ",nu(27,24,"MANAGE_TAGS.HIDDEN_TAGS_DESCRIPTION")," "),bi(3),Lo(" ",nu(30,26,"MANAGE_TAGS.HIDDEN_TAGS_WARNING")," "),bi(3),Lo(" ",nu(33,28,"MANAGE_TAGS.HIDDEN_TAGS"),""),bi(4),To(nu(37,30,"MANAGE_TAGS.BOOKMARKED_TAGS")),bi(3),Lo(" ",nu(40,32,"MANAGE_TAGS.BOOKMARKED_TAGS_DESCRIPTION")," "),bi(3),Lo(" ",nu(43,34,"MANAGE_TAGS.BOOKMARKED_TAGS"),""))},directives:[X_,cb,R_,Z_,ub,V_,F_,N_],pipes:[kx],styles:[""]}),e}(),$E=function(){var e=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"getBasemaps$",value:function(e,t){return this.http.get("assets/imagery.json").pipe(E(function(n){var r,i=[],a=(0,Nx.point)([e,t]),o=_createForOfIteratorHelper(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.geometry?(0,Nx.booleanPointInPolygon)(a,s)&&i.push(s.properties):i.push(s.properties)}}catch(u){o.e(u)}finally{o.f()}return i}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(hr(Aw))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function XE(e,t){1&e&&to(0,"p",8),2&e&&Ja("innerText",ho().$implicit.description)}var ZE=function(e){return{selectedCard:e}};function JE(e,t){if(1&e){var n=io();Qa(0,"ion-card",6),uo("click",function(){var e=Dt(n).$implicit;return ho(2).selectBaseMap(e)}),Qa(1,"ion-card-header"),Qa(2,"ion-card-subtitle"),Eo(3),eo(),Qa(4,"ion-card-title"),Eo(5),eo(),eo(),Qa(6,"ion-card-content"),$a(7,XE,1,1,"p",7),Qa(8,"p"),Eo(9),eo(),eo(),eo()}if(2&e){var r=t.$implicit,i=ho(2);Ja("ngClass",Xs(6,ZE,r.id==i.configService.config.basemap.id)),bi(3),Io("",null==r?null:r.category," ",null==r?null:r.end_date,""),bi(2),To(r.name),bi(2),Ja("ngIf",r.description),bi(2),To(null==r||null==r.attribution?null:r.attribution.text)}}function KE(e,t){if(1&e&&(Qa(0,"ion-content",4),Qa(1,"h4"),Eo(2),tu(3,"translate"),eo(),$a(4,JE,10,8,"ion-card",5),eo()),2&e){var n=ho();bi(2),To(nu(3,2,"SETTINGS.AERIAL_IMAGERY_HINT")),bi(2),Ja("ngForOf",n.basemaps)}}var QE=[{path:"",pathMatch:"full",redirectTo:"main"},{path:"main",component:_E},{path:"about",component:kk},{path:"settings",component:ME},{path:"pushData",component:xk},{path:"login",component:AE},{path:"tags",component:WE},{path:"basemaps/:lng/:lat",component:function(){var e=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.navCtrl=t,this.route=n,this.basemapsService=r,this.initService=i,this.configService=a,this.mapService=o}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.initService.isLoaded||this.navCtrl.back(),this.route.params.subscribe(function(t){e.lng=parseFloat(t.lng),e.lat=parseFloat(t.lat),e.basemapsService.getBasemaps$(e.lng,e.lat).subscribe(function(t){e.basemaps=t})})}},{key:"selectBaseMap",value:function(e){this.configService.setBasemap(e),this.mapService.displaySatelliteBaseMap(e,!0),this.navCtrl.back()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Za(E_),Za(sg),Za($E),Za(nk),Za(Sx),Za(ek))},e.\u0275cmp=Ue({type:e,selectors:[["app-basemaps"]],decls:8,vars:4,consts:[["color","primary"],["slot","primary",2,"min-width","32px",3,"click"],["name","arrow-back"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[3,"innerText",4,"ngIf"],[3,"innerText"]],template:function(e,t){1&e&&(Qa(0,"ion-header",0),Qa(1,"ion-toolbar",0),Qa(2,"ion-buttons",1),uo("click",function(){return t.navCtrl.back()}),to(3,"ion-icon",2),eo(),Qa(4,"ion-title"),Eo(5),tu(6,"translate"),eo(),eo(),eo(),$a(7,KE,5,4,"ion-content",3)),2&e&&(bi(5),To(nu(6,2,"SETTINGS.AERIAL_IMAGERY")),bi(2),Ja("ngIf",t.initService.isLoaded))},directives:[X_,cb,R_,Z_,ub,pc,V_,fc,F_,cc,z_,j_,B_,Y_],pipes:[kx],styles:[".selectedCard[_ngcontent-%COMP%]{background-color:#d3d3d3}"]}),e}()}],eT=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e}),e.\u0275inj=pe({imports:[[Bv.forRoot(QE,{useHash:!0})],Bv]}),e}(),tT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets/i18n/",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".json";_classCallCheck(this,e),this.http=t,this.prefix=n,this.suffix=r}return _createClass(e,[{key:"getTranslation",value:function(e){return this.http.get("".concat(this.prefix).concat(e).concat(this.suffix))}}]),e}();function nT(e){return new tT(e,"./assets/i18n/",".json")}n(52847),n(28174);var rT=function(){var e=_createClass(function e(){_classCallCheck(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=We({type:e,bootstrap:[Ex]}),e.\u0275inj=pe({providers:[{provide:vv,useClass:Wb}],imports:[[vh,ap,Uy,Xb.forRoot({mode:"md"}),sw.forRoot(),eT,Gw,vC,lh,QM,Cx.forRoot({loader:{provide:ax,useFactory:nT,deps:[Aw]}}),ZM.register("ngsw-worker.js",{enabled:!0})]]}),e}();n(11524),function(){if(qu)throw new Error("Cannot enable prod mode after platform setup.");Gu=!1}(),mh().bootstrapModule(rT).catch(function(e){return console.log(e)})},50863:function(e,t,n){var r={"./ion-action-sheet.entry.js":[47321,8592,7321],"./ion-alert.entry.js":[36108,8592,6108],"./ion-app_8.entry.js":[31489,8592,1489],"./ion-avatar_3.entry.js":[10305,8592,305],"./ion-back-button.entry.js":[15830,8592,5830],"./ion-backdrop.entry.js":[37757,7757],"./ion-button_2.entry.js":[30392,8592,392],"./ion-card_5.entry.js":[66911,8592,6911],"./ion-checkbox.entry.js":[30937,8592,937],"./ion-chip.entry.js":[78695,8592,8695],"./ion-col_3.entry.js":[16034,6034],"./ion-datetime_3.entry.js":[68837,8592,8837],"./ion-fab_3.entry.js":[34195,8592,4195],"./ion-img.entry.js":[41709,1709],"./ion-infinite-scroll_2.entry.js":[33087,8592,3087],"./ion-input.entry.js":[84513,8592,4513],"./ion-item-option_3.entry.js":[58056,8592,8056],"./ion-item_8.entry.js":[10862,8592,862],"./ion-loading.entry.js":[7509,8592,7509],"./ion-menu_3.entry.js":[86030,8592,6272],"./ion-modal.entry.js":[71855,8592,1855],"./ion-nav_2.entry.js":[38708,8592,8708],"./ion-popover.entry.js":[23527,8592,3527],"./ion-progress-bar.entry.js":[24694,8592,4694],"./ion-radio_2.entry.js":[19222,8592,9222],"./ion-range.entry.js":[25277,8592,5277],"./ion-refresher_2.entry.js":[39921,8592,9921],"./ion-reorder_2.entry.js":[83122,8592,3122],"./ion-ripple-effect.entry.js":[51602,1602],"./ion-route_4.entry.js":[45174,8592,5174],"./ion-searchbar.entry.js":[7895,8592,7895],"./ion-segment_2.entry.js":[76164,8592,6164],"./ion-select_3.entry.js":[20592,8592,592],"./ion-slide_2.entry.js":[27162,7162],"./ion-spinner.entry.js":[81374,8592,1374],"./ion-split-pane.entry.js":[97896,7896],"./ion-tab-bar_2.entry.js":[25043,8592,5043],"./ion-tab_2.entry.js":[77802,8592,7802],"./ion-text.entry.js":[29072,8592,9072],"./ion-textarea.entry.js":[32191,8592,2191],"./ion-toast.entry.js":[40801,8592,801],"./ion-toggle.entry.js":[67110,8592,7110],"./ion-virtual-scroll.entry.js":[10431,431]};function i(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(i)})}i.keys=function(){return Object.keys(r)},i.id=50863,e.exports=i},46700:function(e,t,n){var r={"./af":26431,"./af.js":26431,"./ar":81286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":43160,"./ar-ly.js":43160,"./ar-ma":62551,"./ar-ma.js":62551,"./ar-sa":79989,"./ar-sa.js":79989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":81286,"./az":15887,"./az.js":15887,"./be":14572,"./be.js":14572,"./bg":3276,"./bg.js":3276,"./bm":93344,"./bm.js":93344,"./bn":58985,"./bn-bd":83990,"./bn-bd.js":83990,"./bn.js":58985,"./bo":94391,"./bo.js":94391,"./br":46728,"./br.js":46728,"./bs":5536,"./bs.js":5536,"./ca":41043,"./ca.js":41043,"./cs":70420,"./cs.js":70420,"./cv":33513,"./cv.js":33513,"./cy":6771,"./cy.js":6771,"./da":47978,"./da.js":47978,"./de":46061,"./de-at":25204,"./de-at.js":25204,"./de-ch":2653,"./de-ch.js":2653,"./de.js":46061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":25724,"./en-au.js":25724,"./en-ca":10525,"./en-ca.js":10525,"./en-gb":52847,"./en-gb.js":52847,"./en-ie":67216,"./en-ie.js":67216,"./en-il":39305,"./en-il.js":39305,"./en-in":73364,"./en-in.js":73364,"./en-nz":79130,"./en-nz.js":79130,"./en-sg":11161,"./en-sg.js":11161,"./eo":50802,"./eo.js":50802,"./es":40328,"./es-do":45551,"./es-do.js":45551,"./es-mx":75615,"./es-mx.js":75615,"./es-us":64790,"./es-us.js":64790,"./es.js":40328,"./et":96389,"./et.js":96389,"./eu":52961,"./eu.js":52961,"./fa":26151,"./fa.js":26151,"./fi":7997,"./fi.js":7997,"./fil":58898,"./fil.js":58898,"./fo":37779,"./fo.js":37779,"./fr":28174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":38867,"./fr-ch.js":38867,"./fr.js":28174,"./fy":50452,"./fy.js":50452,"./ga":45014,"./ga.js":45014,"./gd":74127,"./gd.js":74127,"./gl":72124,"./gl.js":72124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":37953,"./gom-latn.js":37953,"./gu":76604,"./gu.js":76604,"./he":1222,"./he.js":1222,"./hi":74235,"./hi.js":74235,"./hr":622,"./hr.js":622,"./hu":37735,"./hu.js":37735,"./hy-am":90402,"./hy-am.js":90402,"./id":59187,"./id.js":59187,"./is":30536,"./is.js":30536,"./it":35007,"./it-ch":94667,"./it-ch.js":94667,"./it.js":35007,"./ja":62093,"./ja.js":62093,"./jv":80059,"./jv.js":80059,"./ka":66870,"./ka.js":66870,"./kk":80880,"./kk.js":80880,"./km":1083,"./km.js":1083,"./kn":68785,"./kn.js":68785,"./ko":21721,"./ko.js":21721,"./ku":37851,"./ku.js":37851,"./ky":1727,"./ky.js":1727,"./lb":40346,"./lb.js":40346,"./lo":93002,"./lo.js":93002,"./lt":64035,"./lt.js":64035,"./lv":56927,"./lv.js":56927,"./me":5634,"./me.js":5634,"./mi":94173,"./mi.js":94173,"./mk":86320,"./mk.js":86320,"./ml":11705,"./ml.js":11705,"./mn":31062,"./mn.js":31062,"./mr":92805,"./mr.js":92805,"./ms":11341,"./ms-my":59900,"./ms-my.js":59900,"./ms.js":11341,"./mt":37734,"./mt.js":37734,"./my":19034,"./my.js":19034,"./nb":9324,"./nb.js":9324,"./ne":46495,"./ne.js":46495,"./nl":70673,"./nl-be":76272,"./nl-be.js":76272,"./nl.js":70673,"./nn":72486,"./nn.js":72486,"./oc-lnc":46219,"./oc-lnc.js":46219,"./pa-in":2829,"./pa-in.js":2829,"./pl":78444,"./pl.js":78444,"./pt":53170,"./pt-br":66117,"./pt-br.js":66117,"./pt.js":53170,"./ro":96587,"./ro.js":96587,"./ru":39264,"./ru.js":39264,"./sd":42135,"./sd.js":42135,"./se":95366,"./se.js":95366,"./si":93379,"./si.js":93379,"./sk":46143,"./sk.js":46143,"./sl":196,"./sl.js":196,"./sq":21082,"./sq.js":21082,"./sr":91621,"./sr-cyrl":98963,"./sr-cyrl.js":98963,"./sr.js":91621,"./ss":41404,"./ss.js":41404,"./sv":55685,"./sv.js":55685,"./sw":46490,"./sw.js":46490,"./ta":54106,"./ta.js":54106,"./te":39204,"./te.js":39204,"./tet":83692,"./tet.js":83692,"./tg":86361,"./tg.js":86361,"./th":31735,"./th.js":31735,"./tk":1568,"./tk.js":1568,"./tl-ph":96129,"./tl-ph.js":96129,"./tlh":13759,"./tlh.js":13759,"./tr":81644,"./tr.js":81644,"./tzl":90875,"./tzl.js":90875,"./tzm":16878,"./tzm-latn":11041,"./tzm-latn.js":11041,"./tzm.js":16878,"./ug-cn":74357,"./ug-cn.js":74357,"./uk":74810,"./uk.js":74810,"./ur":86794,"./ur.js":86794,"./uz":28966,"./uz-latn":77959,"./uz-latn.js":77959,"./uz.js":28966,"./vi":35386,"./vi.js":35386,"./x-pseudo":23156,"./x-pseudo.js":23156,"./yo":68028,"./yo.js":68028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":89380,"./zh-hk.js":89380,"./zh-mo":60874,"./zh-mo.js":60874,"./zh-tw":96508,"./zh-tw.js":96508};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=46700},66012:function(e){e.exports=function(){"use strict";var e,t,n;function r(r,i){if(e)if(t){var a="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",o={};e(o),n=i(o),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))}else t=i;else e=i}return r(0,function(e){var t=n;function n(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}function r(e,n,r,i){var a=new t(e,n,r,i);return function(e){return a.solve(e)}}n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var a=this.sampleCurveDerivativeX(n);if(Math.abs(a)<1e-6)break;n-=i/a}var o=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?o=n:s=n,n=.5*(s-o)+o;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var i=r(.25,.1,.25,1);function a(e,t,n){return Math.min(n,Math.max(t,e))}function o(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)e[s]=o[s]}return e}var u=1;function l(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})}function c(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function h(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function f(e){return Array.isArray(e)?e.map(f):"object"==typeof e&&e?c(e,f):e}var d={};function p(e){d[e]||("undefined"!=typeof console&&console.warn(e),d[e]=!0)}function m(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function g(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)t=e[i],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}function v(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var y,_,b=null;function w(e){if(null==b){var t=e.navigator?e.navigator.userAgent:null;b=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return b}function x(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}var k={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame:function(e){var t=requestAnimationFrame(e);return{cancel:function(){return cancelAnimationFrame(t)}}},getImageData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=window.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return y||(y=document.createElement("a")),y.href=e,y.href},hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==_&&(_=matchMedia("(prefers-reduced-motion: reduce)")),_.matches)}},C=S;function S(e,t){this.x=e,this.y=t}S.prototype={clone:function(){return new S(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},S.convert=function(e){return e instanceof S?e:Array.isArray(e)?new S(e[0],e[1]):e};var M,E={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},T="mapbox-tiles",L=500,I=50;var D,A,P=1/0,O={supported:!1,testSupport:function(e){!N&&A&&(R?F(e):D=e)}},N=!1,R=!1;function F(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,A),e.isContextLost())return;O.supported=!0}catch(n){}e.deleteTexture(t),N=!0}"undefined"!=typeof document&&((A=document.createElement("img")).onload=function(){D&&F(D),D=null,R=!0},A.onerror=function(){N=!0,D=null},A.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var Y={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Y);var z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,"AJAXError: ".concat(r," (").concat(e,"): ").concat(i))).status=e,o.statusText=r,o.url=i,o.body=a,o}return _createClass(n)}(_wrapNativeSuper(Error)),j=v()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===window.location.protocol?window.parent:window).location.href};function B(e,t){var n=new AbortController,r=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:j(),signal:n.signal}),i=!1,a=!1;return"json"===e.type&&r.headers.set("Accept","application/json"),function(n,o,s){if(!a){Date.now();fetch(r).then(function(n){return n.ok?(r=n,void("arrayBuffer"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then(function(e){a||(i=!0,t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))}).catch(function(e){a||t(new Error(e.message))})):n.blob().then(function(r){return t(new z(n.status,n.statusText,e.url,r))});var r}).catch(function(e){20!==e.code&&t(new Error(e.message))})}}(),{cancel:function(){a=!0,i||n.abort()}}}var H=function(e,t){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){if(v()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t);if(!v()){var n=e.url.substring(0,e.url.indexOf("://"));return(E.REGISTERED_PROTOCOLS[n]||B)(e,t)}}if(!(/^file:/.test(r=e.url)||/^file:/.test(j())&&!/^\w+:/.test(r))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return B(e,t);if(v()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var r;return function(e,t){var n=new XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(a){return t(a)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else{var i=new Blob([n.response],{type:n.getResponseHeader("Content-Type")});t(new z(n.status,n.statusText,e.url,i))}},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},U=function(e,t){return H(s(e,{type:"arrayBuffer"}),t)};function V(e){var t=window.document.createElement("a");return t.href=e,t.protocol===window.document.location.protocol&&t.host===window.document.location.host}var G,q,W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";G=[],q=0;function $(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function X(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var Z=_createClass(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),s(this,n),this.type=t}),J=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),t.call(this,"error",s({error:e},r))}return _createClass(n)}(Z),K=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function(e,t){return this._listeners=this._listeners||{},$(e,t,this._listeners),this}},{key:"off",value:function(e,t){return X(e,t,this._listeners),X(e,t,this._oneTimeListeners),this}},{key:"once",value:function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},$(e,t,this._oneTimeListeners),this}},{key:"fire",value:function(e,t){"string"==typeof e&&(e=new Z(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;var r,i=_createForOfIteratorHelper(this._listeners&&this._listeners[n]?this._listeners[n].slice():[]);try{for(i.s();!(r=i.n()).done;){r.value.call(this,e)}}catch(c){i.e(c)}finally{i.f()}var a,o=_createForOfIteratorHelper(this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[]);try{for(o.s();!(a=o.n()).done;){var u=a.value;X(n,u,this._oneTimeListeners),u.call(this,e)}}catch(c){o.e(c)}finally{o.f()}var l=this._eventedParent;l&&(s(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(e))}else e instanceof J&&console.error(e.error);return this}},{key:"listens",value:function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}},{key:"setEventedParent",value:function(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}]),e}(),Q={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},ee=_createClass(function e(t,n,r,i){_classCallCheck(this,e),this.message=(t?"".concat(t,": "):"")+r,i&&(this.identifier=i),null!=n&&n.__line__&&(this.line=n.__line__)});function te(e){var t=e.value;return t?[new ee(e.key,t,"constants have been deprecated as of v8")]:[]}function ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)e[s]=o[s]}return e}function re(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function ie(e){if(Array.isArray(e))return e.map(ie);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=ie(e[n]);return t}return re(e)}var ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).message=r,i.key=e,i}return _createClass(n)}(_wrapNativeSuper(Error)),oe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,e),this.parent=t,this.bindings={};var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var a=_slicedToArray(r.value,2),o=a[0],s=a[1];this.bindings[o]=s}}catch(u){i.e(u)}finally{i.f()}}return _createClass(e,[{key:"concat",value:function(t){return new e(this,t)}},{key:"get",value:function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}},{key:"has",value:function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}]),e}(),se={kind:"null"},ue={kind:"number"},le={kind:"string"},ce={kind:"boolean"},he={kind:"color"},fe={kind:"object"},de={kind:"value"},pe={kind:"collator"},me={kind:"formatted"},ge={kind:"resolvedImage"};function ve(e,t){return{kind:"array",itemType:e,N:t}}function ye(e){if("array"===e.kind){var t=ye(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}var _e=[se,ue,le,ce,he,me,fe,ve(de),ge];function be(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!be(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind){var n,r=_createForOfIteratorHelper(_e);try{for(r.s();!(n=r.n()).done;){if(!be(n.value,t))return null}}catch(i){r.e(i)}finally{r.f()}}}return"Expected ".concat(ye(e)," but found ").concat(ye(t)," instead.")}function we(e,t){return t.some(function(t){return t.kind===e.kind})}function xe(e,t){return t.some(function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e})}var ke,Ce={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Se(e){return(e=Math.round(e))<0?0:e>255?255:e}function Me(e){return Se("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Ee(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Te(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{ke={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in Ce)return Ce[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=n.indexOf("("),i=n.indexOf(")");if(-1!==r&&i+1===n.length){var a=n.substr(0,r),o=n.substr(r+1,i-(r+1)).split(","),s=1;switch(a){case"rgba":if(4!==o.length)return null;s=Ee(o.pop());case"rgb":return 3!==o.length?null:[Me(o[0]),Me(o[1]),Me(o[2]),s];case"hsla":if(4!==o.length)return null;s=Ee(o.pop());case"hsl":if(3!==o.length)return null;var u=(parseFloat(o[0])%360+360)%360/360,l=Ee(o[1]),c=Ee(o[2]),h=c<=.5?c*(l+1):c+l-c*l,f=2*c-h;return[Se(255*Te(f,h,u+1/3)),Se(255*Te(f,h,u)),Se(255*Te(f,h,u-1/3)),s];default:return null}}return null}}catch(yr){}var Le=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,e),this.r=t,this.g=n,this.b=r,this.a=i}return _createClass(e,[{key:"toString",value:function(){var e=_slicedToArray(this.toArray(),4),t=e[0],n=e[1],r=e[2],i=e[3];return"rgba(".concat(Math.round(t),",").concat(Math.round(n),",").concat(Math.round(r),",").concat(i,")")}},{key:"toArray",value:function(){var e=this.r,t=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}}],[{key:"parse",value:function(t){if(t){if(t instanceof e)return t;if("string"==typeof t){var n=ke(t);return n?new e(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]):void 0}}}}]),e}();Le.black=new Le(0,0,0,1),Le.white=new Le(1,1,1,1),Le.transparent=new Le(0,0,0,0),Le.red=new Le(1,0,0,1);var Ie=function(){function e(t,n,r){_classCallCheck(this,e),this.sensitivity=t?n?"variant":"case":n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}return _createClass(e,[{key:"compare",value:function(e,t){return this.collator.compare(e,t)}},{key:"resolvedLocale",value:function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}]),e}(),De=_createClass(function e(t,n,r,i,a){_classCallCheck(this,e),this.text=t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=a}),Ae=function(){function e(t){_classCallCheck(this,e),this.sections=t}return _createClass(e,[{key:"isEmpty",value:function(){return 0===this.sections.length||!this.sections.some(function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length})}},{key:"toString",value:function(){return 0===this.sections.length?"":this.sections.map(function(e){return e.text}).join("")}},{key:"serialize",value:function(){var e,t=["format"],n=_createForOfIteratorHelper(this.sections);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}}catch(a){n.e(a)}finally{n.f()}return t}}],[{key:"fromString",value:function(t){return new e([new De(t,null,null,null,null)])}},{key:"factory",value:function(t){return t instanceof e?t:e.fromString(t)}}]),e}(),Pe=function(){function e(t){_classCallCheck(this,e),this.name=t.name,this.available=t.available}return _createClass(e,[{key:"toString",value:function(){return this.name}},{key:"serialize",value:function(){return["image",this.name]}}],[{key:"fromString",value:function(t){return t?new e({name:t,available:!1}):null}}]),e}();function Oe(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value [".concat([e,t,n,r].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function Ne(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof Le||e instanceof Ie||e instanceof Ae||e instanceof Pe)return!0;if(Array.isArray(e)){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){if(!Ne(t.value))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}if("object"==typeof e){for(var r in e)if(!Ne(e[r]))return!1;return!0}return!1}function Re(e){if(null===e)return se;if("string"==typeof e)return le;if("boolean"==typeof e)return ce;if("number"==typeof e)return ue;if(e instanceof Le)return he;if(e instanceof Ie)return pe;if(e instanceof Ae)return me;if(e instanceof Pe)return ge;if(Array.isArray(e)){var t,n,r=e.length,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var a=Re(n.value);if(t){if(t===a)continue;t=de;break}t=a}}catch(o){i.e(o)}finally{i.f()}return ve(t||de,r)}return fe}function Fe(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Le||e instanceof Ae||e instanceof Pe?e.toString():JSON.stringify(e)}var Ye=function(){function e(t,n){_classCallCheck(this,e),this.type=t,this.value=n}return _createClass(e,[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Le?["rgba"].concat(this.value.toArray()):this.value instanceof Ae?this.value.serialize():this.value}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'literal' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(!Ne(t[1]))return n.error("invalid value");var r=t[1],i=Re(r),a=n.expectedType;return"array"!==i.kind||0!==i.N||!a||"array"!==a.kind||"number"==typeof a.N&&0!==a.N||(i=a),new e(i,r)}}]),e}(),ze=function(){function e(t){_classCallCheck(this,e),this.name="ExpressionEvaluationError",this.message=t}return _createClass(e,[{key:"toJSON",value:function(){return this.message}}]),e}(),je={string:le,number:ue,boolean:ce,object:fe},Be=function(){function e(t,n){_classCallCheck(this,e),this.type=t,this.args=n}return _createClass(e,[{key:"evaluate",value:function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!be(this.type,Re(n)))return n;if(t===this.args.length-1)throw new ze("Expected value to be of type ".concat(ye(this.type),", but found ").concat(ye(Re(n))," instead."))}return null}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every(function(e){return e.outputDefined()})}},{key:"serialize",value:function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map(function(e){return e.serialize()}))}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r,i=1,a=t[0];if("array"===a){var o,s;if(t.length>2){var u=t[1];if("string"!=typeof u||!(u in je)||"object"===u)return n.error('The item type argument of "array" must be one of string, number, boolean',1);o=je[u],i++}else o=de;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);s=t[2],i++}r=ve(o,s)}else r=je[a];for(var l=[];i<t.length;i++){var c=n.parse(t[i],i,de);if(!c)return null;l.push(c)}return new e(r,l)}}]),e}(),He=function(){function e(t){_classCallCheck(this,e),this.type=me,this.sections=t}return _createClass(e,[{key:"evaluate",value:function(e){return new Ae(this.sections.map(function(t){var n=t.content.evaluate(e);return Re(n)===ge?new De("",n,null,null,null):new De(Fe(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}},{key:"eachChild",value:function(e){var t,n=_createForOfIteratorHelper(this.sections);try{for(n.s();!(t=n.n()).done;){var r=t.value;e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}}catch(i){n.e(i)}finally{n.f()}}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e,t=["format"],n=_createForOfIteratorHelper(this.sections);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}}catch(a){n.e(a)}finally{n.f()}return t}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[1];if(!Array.isArray(r)&&"object"==typeof r)return n.error("First argument must be an image or text section.");for(var i=[],a=!1,o=1;o<=t.length-1;++o){var s=t[o];if(a&&"object"==typeof s&&!Array.isArray(s)){a=!1;var u=null;if(s["font-scale"]&&!(u=n.parse(s["font-scale"],1,ue)))return null;var l=null;if(s["text-font"]&&!(l=n.parse(s["text-font"],1,ve(le))))return null;var c=null;if(s["text-color"]&&!(c=n.parse(s["text-color"],1,he)))return null;var h=i[i.length-1];h.scale=u,h.font=l,h.textColor=c}else{var f=n.parse(t[o],1,de);if(!f)return null;var d=f.type.kind;if("string"!==d&&"value"!==d&&"null"!==d&&"resolvedImage"!==d)return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");a=!0,i.push({content:f,scale:null,font:null,textColor:null})}}return new e(i)}}]),e}(),Ue=function(){function e(t){_classCallCheck(this,e),this.type=ge,this.input=t}return _createClass(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=Pe.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["image",this.input.serialize()]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,le);return r?new e(r):n.error("No image name provided.")}}]),e}(),Ve={"to-boolean":ce,"to-color":he,"to-number":ue,"to-string":le},Ge=function(){function e(t,n){_classCallCheck(this,e),this.type=t,this.args=n}return _createClass(e,[{key:"evaluate",value:function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){var t,n,r,i=_createForOfIteratorHelper(this.args);try{for(i.s();!(r=i.n()).done;){if(t=r.value.evaluate(e),n=null,t instanceof Le)return t;if("string"==typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):Oe(t[0],t[1],t[2],t[3])))return new Le(t[0]/255,t[1]/255,t[2]/255,t[3])}}catch(c){i.e(c)}finally{i.f()}throw new ze(n||"Could not parse color from value '".concat("string"==typeof t?t:String(JSON.stringify(t)),"'"))}if("number"===this.type.kind){var o,s=null,u=_createForOfIteratorHelper(this.args);try{for(u.s();!(o=u.n()).done;){if(null===(s=o.value.evaluate(e)))return 0;var l=Number(s);if(!isNaN(l))return l}}catch(c){u.e(c)}finally{u.f()}throw new ze("Could not convert ".concat(JSON.stringify(s)," to number."))}return"formatted"===this.type.kind?Ae.fromString(Fe(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Pe.fromString(Fe(this.args[0].evaluate(e))):Fe(this.args[0].evaluate(e))}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every(function(e){return e.outputDefined()})}},{key:"serialize",value:function(){if("formatted"===this.type.kind)return new He([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Ue(this.args[0]).serialize();var e=["to-".concat(this.type.kind)];return this.eachChild(function(t){e.push(t.serialize())}),e}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[0];if(("to-boolean"===r||"to-string"===r)&&2!==t.length)return n.error("Expected one argument.");for(var i=Ve[r],a=[],o=1;o<t.length;o++){var s=n.parse(t[o],o,de);if(!s)return null;a.push(s)}return new e(i,a)}}]),e}(),qe=["Unknown","Point","LineString","Polygon"],We=function(){function e(){_classCallCheck(this,e),this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}return _createClass(e,[{key:"id",value:function(){return this.feature&&"id"in this.feature?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?qe[this.feature.type]:this.feature.type:null}},{key:"geometry",value:function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}},{key:"canonicalID",value:function(){return this.canonical}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"parseColor",value:function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Le.parse(e)),t}}]),e}(),$e=function(){function e(t,n,r,i){_classCallCheck(this,e),this.name=t,this.type=n,this._evaluate=r,this.args=i}return _createClass(e,[{key:"evaluate",value:function(e){return this._evaluate(e,this.args)}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))}}],[{key:"parse",value:function(t,n){var r,i=t[0],a=e.definitions[i];if(!a)return n.error('Unknown expression "'.concat(i,'". If you wanted a literal array, use ["literal", [...]].'),0);var o,s=Array.isArray(a)?a[0]:a.type,u=Array.isArray(a)?[[a[1],a[2]]]:a.overloads,l=u.filter(function(e){var n=_slicedToArray(e,1)[0];return!Array.isArray(n)||n.length===t.length-1}),c=null,h=_createForOfIteratorHelper(l);try{for(h.s();!(o=h.n()).done;){var f=_slicedToArray(o.value,2),d=f[0],p=f[1];c=new vt(n.registry,n.path,null,n.scope);for(var m=[],g=!1,v=1;v<t.length;v++){var y=t[v],_=Array.isArray(d)?d[v-1]:d.type,b=c.parse(y,1+m.length,_);if(!b){g=!0;break}m.push(b)}if(!g)if(Array.isArray(d)&&d.length!==m.length)c.error("Expected ".concat(d.length," arguments, but found ").concat(m.length," instead."));else{for(var w=0;w<m.length;w++){var x=Array.isArray(d)?d[w]:d.type,k=m[w];c.concat(w+1).checkSubtype(x,k.type)}if(0===c.errors.length)return new e(i,s,p,m)}}}catch(T){h.e(T)}finally{h.f()}if(1===l.length)(r=n.errors).push.apply(r,_toConsumableArray(c.errors));else{for(var C=(l.length?l:u).map(function(e){var t;return t=_slicedToArray(e,1)[0],Array.isArray(t)?"(".concat(t.map(ye).join(", "),")"):"(".concat(ye(t.type),"...)")}).join(" | "),S=[],M=1;M<t.length;M++){var E=n.parse(t[M],1+S.length);if(!E)return null;S.push(ye(E.type))}n.error("Expected arguments of type ".concat(C,", but found (").concat(S.join(", "),") instead."))}return null}},{key:"register",value:function(t,n){for(var r in e.definitions=n,n)t[r]=e}}]),e}(),Xe=function(){function e(t,n,r){_classCallCheck(this,e),this.type=pe,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}return _createClass(e,[{key:"evaluate",value:function(e){return new Ie(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}},{key:"eachChild",value:function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected one argument.");var r=t[1];if("object"!=typeof r||Array.isArray(r))return n.error("Collator options argument must be an object.");var i=n.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,ce);if(!i)return null;var a=n.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,ce);if(!a)return null;var o=null;return r.locale&&!(o=n.parse(r.locale,1,le))?null:new e(i,a,o)}}]),e}(),Ze=8192;function Je(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Ke(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Qe(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*Ze),Math.round(r*i*Ze)]}function et(e,t,n){var r=e[0]-t[0],i=e[1]-t[1],a=e[0]-n[0],o=e[1]-n[1];return r*o-a*i==0&&r*a<=0&&i*o<=0}function tt(e,t){for(var n,r,i,a=!1,o=0,s=t.length;o<s;o++)for(var u=t[o],l=0,c=u.length;l<c-1;l++){if(et(e,u[l],u[l+1]))return!1;(r=u[l])[1]>(n=e)[1]!=(i=u[l+1])[1]>n[1]&&n[0]<(i[0]-r[0])*(n[1]-r[1])/(i[1]-r[1])+r[0]&&(a=!a)}return a}function nt(e,t){for(var n=0;n<t.length;n++)if(tt(e,t[n]))return!0;return!1}function rt(e,t,n,r){var i=r[0]-n[0],a=r[1]-n[1],o=(e[0]-n[0])*a-i*(e[1]-n[1]),s=(t[0]-n[0])*a-i*(t[1]-n[1]);return o>0&&s<0||o<0&&s>0}function it(e,t,n){var r,i,a,o,s,u,l,c=_createForOfIteratorHelper(n);try{for(c.s();!(r=c.n()).done;)for(var h=r.value,f=0;f<h.length-1;++f)if((u=[(s=h[f+1])[0]-(o=h[f])[0],s[1]-o[1]])[0]*(l=[(a=t)[0]-(i=e)[0],a[1]-i[1]])[1]-u[1]*l[0]!=0&&rt(i,a,o,s)&&rt(o,s,i,a))return!0}catch(d){c.e(d)}finally{c.f()}return!1}function at(e,t){for(var n=0;n<e.length;++n)if(!tt(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(it(e[r],e[r+1],t))return!1;return!0}function ot(e,t){for(var n=0;n<t.length;n++)if(at(e,t[n]))return!0;return!1}function st(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=Qe(e[i][o],n);Je(t,s),a.push(s)}r.push(a)}return r}function ut(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=st(e[i],t,n);r.push(a)}return r}function lt(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,a=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===a&&(a=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=a}Je(t,e)}function ct(e,t,n,r){var i,a=Math.pow(2,r.z)*Ze,o=[r.x*Ze,r.y*Ze],s=[],u=_createForOfIteratorHelper(e);try{for(u.s();!(i=u.n()).done;){var l,c=_createForOfIteratorHelper(i.value);try{for(c.s();!(l=c.n()).done;){var h=l.value,f=[h.x+o[0],h.y+o[1]];lt(f,t,n,a),s.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){u.e(d)}finally{u.f()}return s}function ht(e,t,n,r){var i,a,o=Math.pow(2,r.z)*Ze,s=[r.x*Ze,r.y*Ze],u=[],l=_createForOfIteratorHelper(e);try{for(l.s();!(i=l.n()).done;){var c,h=i.value,f=[],d=_createForOfIteratorHelper(h);try{for(d.s();!(c=d.n()).done;){var p=c.value,m=[p.x+s[0],p.y+s[1]];Je(t,m),f.push(m)}}catch(b){d.e(b)}finally{d.f()}u.push(f)}}catch(b){l.e(b)}finally{l.f()}if(t[2]-t[0]<=o/2){(a=t)[0]=a[1]=1/0,a[2]=a[3]=-1/0;var g,v=_createForOfIteratorHelper(u);try{for(v.s();!(g=v.n()).done;){var y,_=_createForOfIteratorHelper(g.value);try{for(_.s();!(y=_.n()).done;){lt(y.value,t,n,o)}}catch(b){_.e(b)}finally{_.f()}}}catch(b){v.e(b)}finally{v.f()}}return u}var ft=function(){function e(t,n){_classCallCheck(this,e),this.type=ce,this.geojson=t,this.geometries=n}return _createClass(e,[{key:"evaluate",value:function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var a=st(t.coordinates,r,i),o=ct(e.geometry(),n,r,i);if(!Ke(n,r))return!1;var s,u=_createForOfIteratorHelper(o);try{for(u.s();!(s=u.n()).done;){if(!tt(s.value,a))return!1}}catch(d){u.e(d)}finally{u.f()}}if("MultiPolygon"===t.type){var l=ut(t.coordinates,r,i),c=ct(e.geometry(),n,r,i);if(!Ke(n,r))return!1;var h,f=_createForOfIteratorHelper(c);try{for(f.s();!(h=f.n()).done;){if(!nt(h.value,l))return!1}}catch(d){f.e(d)}finally{f.f()}}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var a=st(t.coordinates,r,i),o=ht(e.geometry(),n,r,i);if(!Ke(n,r))return!1;var s,u=_createForOfIteratorHelper(o);try{for(u.s();!(s=u.n()).done;){if(!at(s.value,a))return!1}}catch(d){u.e(d)}finally{u.f()}}if("MultiPolygon"===t.type){var l=ut(t.coordinates,r,i),c=ht(e.geometry(),n,r,i);if(!Ke(n,r))return!1;var h,f=_createForOfIteratorHelper(c);try{for(f.s();!(h=f.n()).done;){if(!ot(h.value,l))return!1}}catch(d){f.e(d)}finally{f.f()}}return!0}(e,this.geometries)}return!1}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["within",this.geojson]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'within' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(Ne(t[1])){var r=t[1];if("FeatureCollection"===r.type)for(var i=0;i<r.features.length;++i){var a=r.features[i].geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new e(r,r.features[i].geometry)}else if("Feature"===r.type){var o=r.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new e(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new e(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}}]),e}();function dt(e){if(e instanceof $e&&("get"===e.name&&1===e.args.length||"feature-state"===e.name||"has"===e.name&&1===e.args.length||"properties"===e.name||"geometry-type"===e.name||"id"===e.name||/^filter-/.test(e.name))||e instanceof ft)return!1;var t=!0;return e.eachChild(function(e){t&&!dt(e)&&(t=!1)}),t}function pt(e){if(e instanceof $e&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild(function(e){t&&!pt(e)&&(t=!1)}),t}function mt(e,t){if(e instanceof $e&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild(function(e){n&&!mt(e,t)&&(n=!1)}),n}var gt=function(){function e(t,n){_classCallCheck(this,e),this.type=n.type,this.name=t,this.boundExpression=n}return _createClass(e,[{key:"evaluate",value:function(e){return this.boundExpression.evaluate(e)}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["var",this.name]}}],[{key:"parse",value:function(t,n){if(2!==t.length||"string"!=typeof t[1])return n.error("'var' expression requires exactly one string literal argument.");var r=t[1];return n.scope.has(r)?new e(r,n.scope.get(r)):n.error('Unknown variable "'.concat(r,'". Make sure "').concat(r,'" has been bound in an enclosing "let" expression before using it.'),1)}}]),e}(),vt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new oe,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];_classCallCheck(this,e),this.registry=t,this.path=n,this.key=n.map(function(e){return"[".concat(e,"]")}).join(""),this.scope=i,this.errors=a,this.expectedType=r}return _createClass(e,[{key:"parse",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}},{key:"_parse",value:function(e,t){function n(e,t,n){return"assert"===n?new Be(t,[e]):"coerce"===n?new Ge(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found ".concat(typeof r,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;var i=this.registry[r];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=n(a,o,t.typeAnnotation||"coerce");else a=n(a,o,t.typeAnnotation||"assert")}if(!(a instanceof Ye)&&"resolvedImage"!==a.type.kind&&yt(a)){var u=new We;try{a=new Ye(a.type,a.evaluate(u))}catch(s){return this.error(s.message),null}}return a}return this.error('Unknown expression "'.concat(r,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}},{key:"concat",value:function(t,n,r){var i="number"==typeof t?this.path.concat(t):this.path,a=r?this.scope.concat(r):this.scope;return new e(this.registry,i,n||null,a,this.errors)}},{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i="".concat(this.key).concat(n.map(function(e){return"[".concat(e,"]")}).join(""));this.errors.push(new ae(i,e))}},{key:"checkSubtype",value:function(e,t){var n=be(e,t);return n&&this.error(n),n}}]),e}();function yt(e){if(e instanceof gt)return yt(e.boundExpression);if(e instanceof $e&&"error"===e.name||e instanceof Xe||e instanceof ft)return!1;var t=e instanceof Ge||e instanceof Be,n=!0;return e.eachChild(function(e){n=t?n&&yt(e):n&&e instanceof Ye}),!!n&&dt(e)&&mt(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function _t(e,t){for(var n,r,i=e.length-1,a=0,o=i,s=0;a<=o;)if(n=e[s=Math.floor((a+o)/2)],r=e[s+1],n<=t){if(s===i||t<r)return s;a=s+1}else{if(!(n>t))throw new ze("Input is not a number.");o=s-1}return 0}var bt=function(){function e(t,n,r){_classCallCheck(this,e),this.type=t,this.input=n,this.labels=[],this.outputs=[];var i,a=_createForOfIteratorHelper(r);try{for(a.s();!(i=a.n()).done;){var o=_slicedToArray(i.value,2),s=o[0],u=o[1];this.labels.push(s),this.outputs.push(u)}}catch(l){a.e(l)}finally{a.f()}}return _createClass(e,[{key:"evaluate",value:function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[_t(t,r)].evaluate(e)}},{key:"eachChild",value:function(e){e(this.input);var t,n=_createForOfIteratorHelper(this.outputs);try{for(n.s();!(t=n.n()).done;){e(t.value)}}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every(function(e){return e.outputDefined()})}},{key:"serialize",value:function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}],[{key:"parse",value:function(t,n){if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");var r=n.parse(t[1],1,ue);if(!r)return null;var i=[],a=null;n.expectedType&&"value"!==n.expectedType.kind&&(a=n.expectedType);for(var o=1;o<t.length;o+=2){var s=1===o?-1/0:t[o],u=t[o+1],l=o,c=o+1;if("number"!=typeof s)return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var h=n.parse(u,c,a);if(!h)return null;a=a||h.type,i.push([s,h])}return new e(a,r,i)}}]),e}();function wt(e,t,n){return e*(1-n)+t*n}var xt=Object.freeze({__proto__:null,number:wt,color:function(e,t,n){return new Le(wt(e.r,t.r,n),wt(e.g,t.g,n),wt(e.b,t.b,n),wt(e.a,t.a,n))},array:function(e,t,n){return e.map(function(e,r){return wt(e,t[r],n)})}}),kt=4/29,Ct=6/29,St=3*Ct*Ct,Mt=Math.PI/180,Et=180/Math.PI;function Tt(e){return e>.008856451679035631?Math.pow(e,1/3):e/St+kt}function Lt(e){return e>Ct?e*e*e:St*(e-kt)}function It(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Dt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function At(e){var t=Dt(e.r),n=Dt(e.g),r=Dt(e.b),i=Tt((.4124564*t+.3575761*n+.1804375*r)/.95047),a=Tt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-Tt((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function Pt(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Lt(t),n=.95047*Lt(n),r=1.08883*Lt(r),new Le(It(3.2404542*n-1.5371385*t-.4985314*r),It(-.969266*n+1.8760108*t+.041556*r),It(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function Ot(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var Nt={forward:At,reverse:Pt,interpolate:function(e,t,n){return{l:wt(e.l,t.l,n),a:wt(e.a,t.a,n),b:wt(e.b,t.b,n),alpha:wt(e.alpha,t.alpha,n)}}},Rt={forward:function(e){var t=At(e),n=t.l,r=t.a,i=t.b,a=Math.atan2(i,r)*Et;return{h:a<0?a+360:a,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Mt,n=e.c;return Pt({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Ot(e.h,t.h,n),c:wt(e.c,t.c,n),l:wt(e.l,t.l,n),alpha:wt(e.alpha,t.alpha,n)}}},Ft=Object.freeze({__proto__:null,lab:Nt,hcl:Rt}),Yt=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];var o,s=_createForOfIteratorHelper(a);try{for(s.s();!(o=s.n()).done;){var u=_slicedToArray(o.value,2),l=u[0],c=u[1];this.labels.push(l),this.outputs.push(c)}}catch(h){s.e(h)}finally{s.f()}}return _createClass(e,[{key:"evaluate",value:function(t){var n=this.labels,r=this.outputs;if(1===n.length)return r[0].evaluate(t);var i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);var a=n.length;if(i>=n[a-1])return r[a-1].evaluate(t);var o=_t(n,i),s=e.interpolationFactor(this.interpolation,i,n[o],n[o+1]),u=r[o].evaluate(t),l=r[o+1].evaluate(t);return"interpolate"===this.operator?xt[this.type.kind.toLowerCase()](u,l,s):"interpolate-hcl"===this.operator?Rt.reverse(Rt.interpolate(Rt.forward(u),Rt.forward(l),s)):Nt.reverse(Nt.interpolate(Nt.forward(u),Nt.forward(l),s))}},{key:"eachChild",value:function(e){e(this.input);var t,n=_createForOfIteratorHelper(this.outputs);try{for(n.s();!(t=n.n()).done;){e(t.value)}}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every(function(e){return e.outputDefined()})}},{key:"serialize",value:function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}],[{key:"interpolationFactor",value:function(e,n,r,i){var a=0;if("exponential"===e.name)a=zt(n,e.base,r,i);else if("linear"===e.name)a=zt(n,1,r,i);else if("cubic-bezier"===e.name){var o=e.controlPoints;a=new t(o[0],o[1],o[2],o[3]).solve(zt(n,1,r,i))}return a}},{key:"parse",value:function(t,n){var r=_toArray(t),i=r[0],a=r[1],o=r[2],s=r.slice(3);if(!Array.isArray(a)||0===a.length)return n.error("Expected an interpolation type expression.",1);if("linear"===a[0])a={name:"linear"};else if("exponential"===a[0]){var u=a[1];if("number"!=typeof u)return n.error("Exponential interpolation requires a numeric base.",1,1);a={name:"exponential",base:u}}else{if("cubic-bezier"!==a[0])return n.error("Unknown interpolation type ".concat(String(a[0])),1,0);var l=a.slice(1);if(4!==l.length||l.some(function(e){return"number"!=typeof e||e<0||e>1}))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);a={name:"cubic-bezier",controlPoints:l}}if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(!(o=n.parse(o,2,ue)))return null;var c=[],h=null;"interpolate-hcl"===i||"interpolate-lab"===i?h=he:n.expectedType&&"value"!==n.expectedType.kind&&(h=n.expectedType);for(var f=0;f<s.length;f+=2){var d=s[f],p=s[f+1],m=f+3,g=f+4;if("number"!=typeof d)return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(c.length&&c[c.length-1][0]>=d)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',m);var v=n.parse(p,g,h);if(!v)return null;h=h||v.type,c.push([d,v])}return"number"===h.kind||"color"===h.kind||"array"===h.kind&&"number"===h.itemType.kind&&"number"==typeof h.N?new e(h,i,a,o,c):n.error("Type ".concat(ye(h)," is not interpolatable."))}}]),e}();function zt(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}var jt=function(){function e(t,n){_classCallCheck(this,e),this.type=t,this.args=n}return _createClass(e,[{key:"evaluate",value:function(e){var t,n,r=null,i=0,a=_createForOfIteratorHelper(this.args);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(i++,(r=o.evaluate(e))&&r instanceof Pe&&!r.available&&(t||(t=r.name),r=null,i===this.args.length&&(r=t)),null!==r)break}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every(function(e){return e.outputDefined()})}},{key:"serialize",value:function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expectected at least one argument.");var r=null,i=n.expectedType;i&&"value"!==i.kind&&(r=i);var a,o=[],s=_createForOfIteratorHelper(t.slice(1));try{for(s.s();!(a=s.n()).done;){var u=a.value,l=n.parse(u,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!l)return null;r=r||l.type,o.push(l)}}catch(c){s.e(c)}finally{s.f()}return new e(i&&o.some(function(e){return be(i,e.type)})?de:r,o)}}]),e}(),Bt=function(){function e(t,n){_classCallCheck(this,e),this.type=n.type,this.bindings=[].concat(t),this.result=n}return _createClass(e,[{key:"evaluate",value:function(e){return this.result.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=_createForOfIteratorHelper(this.bindings);try{for(n.s();!(t=n.n()).done;){e(t.value[1])}}catch(r){n.e(r)}finally{n.f()}e(this.result)}},{key:"outputDefined",value:function(){return this.result.outputDefined()}},{key:"serialize",value:function(){var e,t=["let"],n=_createForOfIteratorHelper(this.bindings);try{for(n.s();!(e=n.n()).done;){var r=_slicedToArray(e.value,2),i=r[0],a=r[1];t.push(i,a.serialize())}}catch(o){n.e(o)}finally{n.f()}return t.push(this.result.serialize()),t}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found ".concat(t.length-1," instead."));for(var r=[],i=1;i<t.length-1;i+=2){var a=t[i];if("string"!=typeof a)return n.error("Expected string, but found ".concat(typeof a," instead."),i);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",i);var o=n.parse(t[i+1],i+1);if(!o)return null;r.push([a,o])}var s=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return s?new e(r,s):null}}]),e}(),Ht=function(){function e(t,n,r){_classCallCheck(this,e),this.type=t,this.index=n,this.input=r}return _createClass(e,[{key:"evaluate",value:function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ze("Array index out of bounds: ".concat(t," < 0."));if(t>=n.length)throw new ze("Array index out of bounds: ".concat(t," > ").concat(n.length-1,"."));if(t!==Math.floor(t))throw new ze("Array index must be an integer, but found ".concat(t," instead."));return n[t]}},{key:"eachChild",value:function(e){e(this.index),e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["at",this.index.serialize(),this.input.serialize()]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,ue),i=n.parse(t[2],2,ve(n.expectedType||de));return r&&i?new e(i.type.itemType,r,i):null}}]),e}(),Ut=function(){function e(t,n){_classCallCheck(this,e),this.type=ce,this.needle=t,this.haystack=n}return _createClass(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!xe(t,["boolean","string","number","null"]))throw new ze("Expected first argument to be of type boolean, string, number or null, but found ".concat(ye(Re(t))," instead."));if(!xe(n,["string","array"]))throw new ze("Expected second argument to be of type array or string, but found ".concat(ye(Re(n))," instead."));return n.indexOf(t)>=0}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["in",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,de),i=n.parse(t[2],2,de);return r&&i?we(r.type,[ce,le,ue,se,de])?new e(r,i):n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(ye(r.type)," instead")):null}}]),e}(),Vt=function(){function e(t,n,r){_classCallCheck(this,e),this.type=ue,this.needle=t,this.haystack=n,this.fromIndex=r}return _createClass(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!xe(t,["boolean","string","number","null"]))throw new ze("Expected first argument to be of type boolean, string, number or null, but found ".concat(ye(Re(t))," instead."));if(!xe(n,["string","array"]))throw new ze("Expected second argument to be of type array or string, but found ".concat(ye(Re(n))," instead."));if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,de),i=n.parse(t[2],2,de);if(!r||!i)return null;if(!we(r.type,[ce,le,ue,se,de]))return n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(ye(r.type)," instead"));if(4===t.length){var a=n.parse(t[3],3,ue);return a?new e(r,i,a):null}return new e(r,i)}}]),e}(),Gt=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=a,this.otherwise=o}return _createClass(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);return(Re(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}},{key:"eachChild",value:function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}},{key:"outputDefined",value:function(){return this.outputs.every(function(e){return e.outputDefined()})&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e,t=this,n=["match",this.input.serialize()],r=[],i={},a=_createForOfIteratorHelper(Object.keys(this.cases).sort());try{for(a.s();!(e=a.n()).done;){var o=e.value,s=i[this.cases[o]];void 0===s?(i[this.cases[o]]=r.length,r.push([this.cases[o],[o]])):r[s][1].push(o)}}catch(p){a.e(p)}finally{a.f()}for(var u=function(e){return"number"===t.inputType.kind?Number(e):e},l=0,c=r;l<c.length;l++){var h=_slicedToArray(c[l],2),f=h[0],d=h[1];n.push(1===d.length?u(d[0]):d.map(u)),n.push(this.outputs[f].serialize())}return n.push(this.otherwise.serialize()),n}}],[{key:"parse",value:function(t,n){if(t.length<5)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=1)return n.error("Expected an even number of arguments.");var r,i;n.expectedType&&"value"!==n.expectedType.kind&&(i=n.expectedType);for(var a={},o=[],s=2;s<t.length-1;s+=2){var u=t[s],l=t[s+1];Array.isArray(u)||(u=[u]);var c=n.concat(s);if(0===u.length)return c.error("Expected at least one branch label.");var h,f=_createForOfIteratorHelper(u);try{for(f.s();!(h=f.n()).done;){var d=h.value;if("number"!=typeof d&&"string"!=typeof d)return c.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof d&&Math.floor(d)!==d)return c.error("Numeric branch labels must be integer values.");if(r){if(c.checkSubtype(r,Re(d)))return null}else r=Re(d);if(void 0!==a[String(d)])return c.error("Branch labels must be unique.");a[String(d)]=o.length}}catch(v){f.e(v)}finally{f.f()}var p=n.parse(l,s,i);if(!p)return null;i=i||p.type,o.push(p)}var m=n.parse(t[1],1,de);if(!m)return null;var g=n.parse(t[t.length-1],t.length-1,i);return g?"value"!==m.type.kind&&n.concat(1).checkSubtype(r,m.type)?null:new e(r,i,m,a,o,g):null}}]),e}(),qt=function(){function e(t,n,r){_classCallCheck(this,e),this.type=t,this.branches=n,this.otherwise=r}return _createClass(e,[{key:"evaluate",value:function(e){var t,n=_createForOfIteratorHelper(this.branches);try{for(n.s();!(t=n.n()).done;){var r=_slicedToArray(t.value,2),i=r[0],a=r[1];if(i.evaluate(e))return a.evaluate(e)}}catch(o){n.e(o)}finally{n.f()}return this.otherwise.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=_createForOfIteratorHelper(this.branches);try{for(n.s();!(t=n.n()).done;){var r=_slicedToArray(t.value,2),i=r[0],a=r[1];e(i),e(a)}}catch(o){n.e(o)}finally{n.f()}e(this.otherwise)}},{key:"outputDefined",value:function(){return this.branches.every(function(e){var t=_slicedToArray(e,2);t[0];return t[1].outputDefined()})&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=0)return n.error("Expected an odd number of arguments.");var r;n.expectedType&&"value"!==n.expectedType.kind&&(r=n.expectedType);for(var i=[],a=1;a<t.length-1;a+=2){var o=n.parse(t[a],a,ce);if(!o)return null;var s=n.parse(t[a+1],a+1,r);if(!s)return null;i.push([o,s]),r=r||s.type}var u=n.parse(t[t.length-1],t.length-1,r);return u?new e(r,i,u):null}}]),e}(),Wt=function(){function e(t,n,r,i){_classCallCheck(this,e),this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}return _createClass(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!xe(t,["string","array"]))throw new ze("Expected first argument to be of type array or string, but found ".concat(ye(Re(t))," instead."));if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}},{key:"eachChild",value:function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,de),i=n.parse(t[2],2,ue);if(!r||!i)return null;if(!we(r.type,[ve(de),le,de]))return n.error("Expected first argument to be of type array or string, but found ".concat(ye(r.type)," instead"));if(4===t.length){var a=n.parse(t[3],3,ue);return a?new e(r.type,r,i,a):null}return new e(r.type,r,i)}}]),e}();function $t(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Xt(e,t,n,r){return 0===r.compare(t,n)}function Zt(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){_classCallCheck(this,i),this.type=ce,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return _createClass(i,[{key:"evaluate",value:function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=Re(a),u=Re(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new ze('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(s.kind,", ").concat(u.kind,") instead."))}if(this.collator&&!r&&this.hasUntypedArgument){var l=Re(a),c=Re(o);if("string"!==l.kind||"string"!==c.kind)return t(i,a,o)}return this.collator?n(i,a,o,this.collator.evaluate(i)):t(i,a,o)}},{key:"eachChild",value:function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){var t=[e];return this.eachChild(function(e){t.push(e.serialize())}),t}}],[{key:"parse",value:function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],a=t.parse(e[1],1,de);if(!a)return null;if(!$t(n,a.type))return t.concat(1).error('"'.concat(n,"\" comparisons are not supported for type '").concat(ye(a.type),"'."));var o=t.parse(e[2],2,de);if(!o)return null;if(!$t(n,o.type))return t.concat(2).error('"'.concat(n,"\" comparisons are not supported for type '").concat(ye(o.type),"'."));if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '".concat(ye(a.type),"' and '").concat(ye(o.type),"'."));r&&("value"===a.type.kind&&"value"!==o.type.kind?a=new Be(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new Be(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,pe)))return null}return new i(a,o,s)}}]),i}()}var Jt=Zt("==",function(e,t,n){return t===n},Xt),Kt=Zt("!=",function(e,t,n){return t!==n},function(e,t,n,r){return!Xt(0,t,n,r)}),Qt=Zt("<",function(e,t,n){return t<n},function(e,t,n,r){return r.compare(t,n)<0}),en=Zt(">",function(e,t,n){return t>n},function(e,t,n,r){return r.compare(t,n)>0}),tn=Zt("<=",function(e,t,n){return t<=n},function(e,t,n,r){return r.compare(t,n)<=0}),nn=Zt(">=",function(e,t,n){return t>=n},function(e,t,n,r){return r.compare(t,n)>=0}),rn=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.type=le,this.number=t,this.locale=n,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=a}return _createClass(e,[{key:"evaluate",value:function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}},{key:"eachChild",value:function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,ue);if(!r)return null;var i=t[2];if("object"!=typeof i||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");var a=null;if(i.locale&&!(a=n.parse(i.locale,1,le)))return null;var o=null;if(i.currency&&!(o=n.parse(i.currency,1,le)))return null;var s=null;if(i["min-fraction-digits"]&&!(s=n.parse(i["min-fraction-digits"],1,ue)))return null;var u=null;return i["max-fraction-digits"]&&!(u=n.parse(i["max-fraction-digits"],1,ue))?null:new e(r,a,o,s,u)}}]),e}(),an={"==":Jt,"!=":Kt,">":en,"<":Qt,">=":nn,"<=":tn,array:Be,at:Ht,boolean:Be,case:qt,coalesce:jt,collator:Xe,format:He,image:Ue,in:Ut,"index-of":Vt,interpolate:Yt,"interpolate-hcl":Yt,"interpolate-lab":Yt,length:function(){function e(t){_classCallCheck(this,e),this.type=ue,this.input=t}return _createClass(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);if("string"==typeof t||Array.isArray(t))return t.length;throw new ze("Expected value to be of type string or array, but found ".concat(ye(Re(t))," instead."))}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected 1 argument, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?n.error("Expected argument of type string or array, but found ".concat(ye(r.type)," instead.")):new e(r):null}}]),e}(),let:Bt,literal:Ye,match:Gt,number:Be,"number-format":rn,object:Be,slice:Wt,step:bt,string:Be,"to-boolean":Ge,"to-color":Ge,"to-number":Ge,"to-string":Ge,var:gt,within:ft};function on(e,t){var n=_slicedToArray(t,4),r=n[0],i=n[1],a=n[2],o=n[3];r=r.evaluate(e),i=i.evaluate(e),a=a.evaluate(e);var s=o?o.evaluate(e):1,u=Oe(r,i,a,s);if(u)throw new ze(u);return new Le(r/255*s,i/255*s,a/255*s,s)}function sn(e,t){return e in t}function un(e,t){var n=t[e];return void 0===n?null:n}function ln(e){return{type:e}}function cn(e){return{result:"success",value:e}}function hn(e){return{result:"error",value:e}}function fn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function dn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function pn(e){return!!e.expression&&e.expression.interpolated}function mn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function gn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function vn(e){return e}function yn(e,t){var n,r,i,a="color"===t.type,o=e.stops&&"object"==typeof e.stops[0][0],s=o||!(o||void 0!==e.property),u=e.type||(pn(t)?"exponential":"interval");if(a&&((e=ne({},e)).stops&&(e.stops=e.stops.map(function(e){return[e[0],Le.parse(e[1])]})),e.default=Le.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Ft[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));if("exponential"===u)n=xn;else if("interval"===u)n=wn;else if("categorical"===u){n=bn,r=Object.create(null);var l,c=_createForOfIteratorHelper(e.stops);try{for(c.s();!(l=c.n()).done;){var h=l.value;r[h[0]]=h[1]}}catch(k){c.e(k)}finally{c.f()}i=typeof e.stops[0][0]}else{if("identity"!==u)throw new Error('Unknown function type "'.concat(u,'"'));n=kn}if(o){for(var f={},d=[],p=0;p<e.stops.length;p++){var m=e.stops[p],g=m[0].zoom;void 0===f[g]&&(f[g]={zoom:g,type:e.type,property:e.property,default:e.default,stops:[]},d.push(g)),f[g].stops.push([m[0].value,m[1]])}for(var v=[],y=0,_=d;y<_.length;y++){var b=_[y];v.push([f[b].zoom,yn(f[b],t)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:Yt.interpolationFactor.bind(void 0,w),zoomStops:v.map(function(e){return e[0]}),evaluate:function(n,r){var i=n.zoom;return xn({stops:v,base:e.base},t,i).evaluate(i,r)}}}if(s){var x="exponential"===u?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:x,interpolationFactor:Yt.interpolationFactor.bind(void 0,x),zoomStops:e.stops.map(function(e){return e[0]}),evaluate:function(a){var o=a.zoom;return n(e,t,o,r,i)}}}return{kind:"source",evaluate:function(a,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?_n(e.default,t.default):n(e,t,s,r,i)}}}function _n(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function bn(e,t,n,r,i){return _n(typeof n===i?r[n]:void 0,e.default,t.default)}function wn(e,t,n){if("number"!==mn(n))return _n(e.default,t.default);var r=e.stops.length;if(1===r||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=_t(e.stops.map(function(e){return e[0]}),n);return e.stops[i][1]}function xn(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==mn(n))return _n(e.default,t.default);var i=e.stops.length;if(1===i||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var a=_t(e.stops.map(function(e){return e[0]}),n),o=function(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],u=e.stops[a+1][1],l=xt[t.type]||vn;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=Ft[e.colorSpace];l=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=s.evaluate.apply(void 0,t),i=u.evaluate.apply(void 0,t);if(void 0!==r&&void 0!==i)return l(r,i,o)}}:l(s,u,o)}function kn(e,t,n){return"color"===t.type?n=Le.parse(n):"formatted"===t.type?n=Ae.fromString(n.toString()):"resolvedImage"===t.type?n=Pe.fromString(n.toString()):mn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),_n(n,e.default,t.default)}$e.register(an,{error:[{kind:"error"},[le],function(e,t){var n=_slicedToArray(t,1)[0];throw new ze(n.evaluate(e))}],typeof:[le,[de],function(e,t){return ye(Re(_slicedToArray(t,1)[0].evaluate(e)))}],"to-rgba":[ve(ue,4),[he],function(e,t){return _slicedToArray(t,1)[0].evaluate(e).toArray()}],rgb:[he,[ue,ue,ue],on],rgba:[he,[ue,ue,ue,ue],on],has:{type:ce,overloads:[[[le],function(e,t){return sn(_slicedToArray(t,1)[0].evaluate(e),e.properties())}],[[le,fe],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return sn(r.evaluate(e),i.evaluate(e))}]]},get:{type:de,overloads:[[[le],function(e,t){return un(_slicedToArray(t,1)[0].evaluate(e),e.properties())}],[[le,fe],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return un(r.evaluate(e),i.evaluate(e))}]]},"feature-state":[de,[le],function(e,t){return un(_slicedToArray(t,1)[0].evaluate(e),e.featureState||{})}],properties:[fe,[],function(e){return e.properties()}],"geometry-type":[le,[],function(e){return e.geometryType()}],id:[de,[],function(e){return e.id()}],zoom:[ue,[],function(e){return e.globals.zoom}],"heatmap-density":[ue,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[ue,[],function(e){return e.globals.lineProgress||0}],accumulated:[de,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[ue,ln(ue),function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){r+=n.value.evaluate(e)}}catch(a){i.e(a)}finally{i.f()}return r}],"*":[ue,ln(ue),function(e,t){var n,r=1,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){r*=n.value.evaluate(e)}}catch(a){i.e(a)}finally{i.f()}return r}],"-":{type:ue,overloads:[[[ue,ue],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return r.evaluate(e)-i.evaluate(e)}],[[ue],function(e,t){return-_slicedToArray(t,1)[0].evaluate(e)}]]},"/":[ue,[ue,ue],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return r.evaluate(e)/i.evaluate(e)}],"%":[ue,[ue,ue],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return r.evaluate(e)%i.evaluate(e)}],ln2:[ue,[],function(){return Math.LN2}],pi:[ue,[],function(){return Math.PI}],e:[ue,[],function(){return Math.E}],"^":[ue,[ue,ue],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return Math.pow(r.evaluate(e),i.evaluate(e))}],sqrt:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.sqrt(n.evaluate(e))}],log10:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.log(n.evaluate(e))/Math.LN10}],ln:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.log(n.evaluate(e))}],log2:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.log(n.evaluate(e))/Math.LN2}],sin:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.sin(n.evaluate(e))}],cos:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.cos(n.evaluate(e))}],tan:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.tan(n.evaluate(e))}],asin:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.asin(n.evaluate(e))}],acos:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.acos(n.evaluate(e))}],atan:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.atan(n.evaluate(e))}],min:[ue,ln(ue),function(e,t){return Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.evaluate(e)})))}],max:[ue,ln(ue),function(e,t){return Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.evaluate(e)})))}],abs:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.abs(n.evaluate(e))}],round:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.floor(n.evaluate(e))}],ceil:[ue,[ue],function(e,t){var n=_slicedToArray(t,1)[0];return Math.ceil(n.evaluate(e))}],"filter-==":[ce,[le,de],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return e.properties()[r.value]===i.value}],"filter-id-==":[ce,[de],function(e,t){var n=_slicedToArray(t,1)[0];return e.id()===n.value}],"filter-type-==":[ce,[le],function(e,t){var n=_slicedToArray(t,1)[0];return e.geometryType()===n.value}],"filter-<":[ce,[le,de],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a<o}],"filter-id-<":[ce,[de],function(e,t){var n=_slicedToArray(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[ce,[le,de],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a>o}],"filter-id->":[ce,[de],function(e,t){var n=_slicedToArray(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[ce,[le,de],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a<=o}],"filter-id-<=":[ce,[de],function(e,t){var n=_slicedToArray(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[ce,[le,de],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a>=o}],"filter-id->=":[ce,[de],function(e,t){var n=_slicedToArray(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[ce,[de],function(e,t){return _slicedToArray(t,1)[0].value in e.properties()}],"filter-has-id":[ce,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[ce,[ve(le)],function(e,t){return _slicedToArray(t,1)[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[ce,[ve(de)],function(e,t){return _slicedToArray(t,1)[0].value.indexOf(e.id())>=0}],"filter-in-small":[ce,[le,ve(de)],function(e,t){var n=_slicedToArray(t,2),r=n[0];return n[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[ce,[le,ve(de)],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[r.value],i.value,0,i.value.length-1)}],all:{type:ce,overloads:[[[ce,ce],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return r.evaluate(e)&&i.evaluate(e)}],[ln(ce),function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){if(!n.value.evaluate(e))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}]]},any:{type:ce,overloads:[[[ce,ce],function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return r.evaluate(e)||i.evaluate(e)}],[ln(ce),function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){if(n.value.evaluate(e))return!0}}catch(i){r.e(i)}finally{r.f()}return!1}]]},"!":[ce,[ce],function(e,t){return!_slicedToArray(t,1)[0].evaluate(e)}],"is-supported-script":[ce,[le],function(e,t){var n=_slicedToArray(t,1)[0],r=e.globals&&e.globals.isSupportedScript;return!r||r(n.evaluate(e))}],upcase:[le,[le],function(e,t){return _slicedToArray(t,1)[0].evaluate(e).toUpperCase()}],downcase:[le,[le],function(e,t){return _slicedToArray(t,1)[0].evaluate(e).toLowerCase()}],concat:[le,ln(de),function(e,t){return t.map(function(t){return Fe(t.evaluate(e))}).join("")}],"resolved-locale":[le,[pe],function(e,t){return _slicedToArray(t,1)[0].evaluate(e).resolvedLocale()}]});var Cn=function(){function e(t,n){var r;_classCallCheck(this,e),this.expression=t,this._warningHistory={},this._evaluator=new We,this._defaultValue=n?"color"===(r=n).type&&gn(r.default)?new Le(0,0,0,0):"color"===r.type?Le.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=n&&"enum"===n.type?n.values:null}return _createClass(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)}},{key:"evaluate",value:function(e,t,n,r,i,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o||"number"==typeof o&&o!=o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new ze("Expected value to be one of ".concat(Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(", "),", but found ").concat(JSON.stringify(o)," instead."));return o}catch(o){return this._warningHistory[o.message]||(this._warningHistory[o.message]=!0,"undefined"!=typeof console&&console.warn(o.message)),this._defaultValue}}}]),e}();function Sn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in an}function Mn(e,t){var n,r,i=new vt(an,[],t?(r={color:he,string:le,number:ue,enum:le,boolean:ce,formatted:me,resolvedImage:ge},"array"===(n=t).type?ve(r[n.value]||de,n.length):r[n.type]):void 0),a=i.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return a?cn(new Cn(a,t)):hn(i.errors)}var En=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this._styleExpression=n,this.isStateDependent="constant"!==t&&!pt(n.expression)}return _createClass(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)}},{key:"evaluate",value:function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)}}]),e}(),Tn=function(){function e(t,n,r,i){_classCallCheck(this,e),this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent="camera"!==t&&!pt(n.expression),this.interpolationType=i}return _createClass(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)}},{key:"evaluate",value:function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)}},{key:"interpolationFactor",value:function(e,t,n){return this.interpolationType?Yt.interpolationFactor(this.interpolationType,e,t,n):0}}]),e}();function Ln(e,t){var n=Mn(e,t);if("error"===n.result)return n;var r=n.value.expression,i=dt(r);if(!i&&!fn(t))return hn([new ae("","data expressions not supported")]);var a=mt(r,["zoom"]);if(!a&&!dn(t))return hn([new ae("","zoom expressions not supported")]);var o=Dn(r);return o||a?o instanceof ae?hn([o]):o instanceof Yt&&!pn(t)?hn([new ae("",'"interpolate" expressions cannot be used with this property')]):cn(o?new Tn(i?"camera":"composite",n.value,o.labels,o instanceof Yt?o.interpolation:void 0):new En(i?"constant":"source",n.value)):hn([new ae("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var In=function(){function e(t,n){_classCallCheck(this,e),this._parameters=t,this._specification=n,ne(this,yn(this._parameters,this._specification))}return _createClass(e,null,[{key:"deserialize",value:function(t){return new e(t._parameters,t._specification)}},{key:"serialize",value:function(e){return{_parameters:e._parameters,_specification:e._specification}}}]),e}();function Dn(e){var t=null;if(e instanceof Bt)t=Dn(e.result);else if(e instanceof jt){var n,r=_createForOfIteratorHelper(e.args);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t=Dn(i))break}}catch(a){r.e(a)}finally{r.f()}}else(e instanceof bt||e instanceof Yt)&&e.input instanceof $e&&"zoom"===e.input.name&&(t=e);return t instanceof ae||e.eachChild(function(e){var n=Dn(e);n instanceof ae?t=n:!t&&n?t=new ae("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new ae("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function An(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],u=mn(n);if("object"!==u)return[new ee(t,n,"object expected, ".concat(u," found"))];for(var l in n){var c=l.split(".")[0],h=r[c]||r["*"],f=void 0;if(i[c])f=i[c];else if(r[c])f=ar;else if(i["*"])f=i["*"];else{if(!r["*"]){s.push(new ee(t,n[l],'unknown property "'.concat(l,'"')));continue}f=ar}s=s.concat(f({key:(t&&"".concat(t,"."))+l,value:n[l],valueSpec:h,style:a,styleSpec:o,object:n,objectKey:l},n))}for(var d in r)i[d]||r[d].required&&void 0===r[d].default&&void 0===n[d]&&s.push(new ee(t,n,'missing required property "'.concat(d,'"')));return s}function Pn(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||ar;if("array"!==mn(t))return[new ee(a,t,"array expected, ".concat(mn(t)," found"))];if(n.length&&t.length!==n.length)return[new ee(a,t,"array length ".concat(n.length," expected, length ").concat(t.length," found"))];if(n["min-length"]&&t.length<n["min-length"])return[new ee(a,t,"array length at least ".concat(n["min-length"]," expected, length ").concat(t.length," found"))];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===mn(n.value)&&(s=n.value);for(var u=[],l=0;l<t.length;l++)u=u.concat(o({array:t,arrayIndex:l,value:t[l],valueSpec:s,style:r,styleSpec:i,key:"".concat(a,"[").concat(l,"]")}));return u}function On(e){var t=e.key,n=e.value,r=e.valueSpec,i=mn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new ee(t,n,"number expected, ".concat(i," found"))]:"minimum"in r&&n<r.minimum?[new ee(t,n,"".concat(n," is less than the minimum value ").concat(r.minimum))]:"maximum"in r&&n>r.maximum?[new ee(t,n,"".concat(n," is greater than the maximum value ").concat(r.maximum))]:[]}function Nn(e){var t,n,r,i=e.valueSpec,a=re(e.value.type),o={},s="categorical"!==a&&void 0===e.value.property,u=!s,l="array"===mn(e.value.stops)&&"array"===mn(e.value.stops[0])&&"object"===mn(e.value.stops[0][0]),c=An({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===a)return[new ee(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(Pn({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===mn(n)&&0===n.length&&t.push(new ee(e.key,n,"array must have at least one stop")),t},default:function(e){return ar({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===a&&s&&c.push(new ee(e.key,e.value,'missing required property "property"')),"identity"===a||e.value.stops||c.push(new ee(e.key,e.value,'missing required property "stops"')),"exponential"===a&&e.valueSpec.expression&&!pn(e.valueSpec)&&c.push(new ee(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(u&&!fn(e.valueSpec)?c.push(new ee(e.key,e.value,"property functions not supported")):s&&!dn(e.valueSpec)&&c.push(new ee(e.key,e.value,"zoom functions not supported"))),"categorical"!==a&&!l||void 0!==e.value.property||c.push(new ee(e.key,e.value,'"property" property is required')),c;function h(e){var t=[],a=e.value,s=e.key;if("array"!==mn(a))return[new ee(s,a,"array expected, ".concat(mn(a)," found"))];if(2!==a.length)return[new ee(s,a,"array length 2 expected, length ".concat(a.length," found"))];if(l){if("object"!==mn(a[0]))return[new ee(s,a,"object expected, ".concat(mn(a[0])," found"))];if(void 0===a[0].zoom)return[new ee(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new ee(s,a,"object stop key must have value")];if(r&&r>re(a[0].zoom))return[new ee(s,a[0].zoom,"stop zoom values must appear in ascending order")];re(a[0].zoom)!==r&&(r=re(a[0].zoom),n=void 0,o={}),t=t.concat(An({key:"".concat(s,"[0]"),value:a[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:On,value:f}}))}else t=t.concat(f({key:"".concat(s,"[0]"),value:a[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},a));return Sn(ie(a[1]))?t.concat([new ee("".concat(s,"[1]"),a[1],"expressions are not allowed in function stops.")]):t.concat(ar({key:"".concat(s,"[1]"),value:a[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function f(e,r){var s=mn(e.value),u=re(e.value),l=null!==e.value?e.value:r;if(t){if(s!==t)return[new ee(e.key,l,"".concat(s," stop domain type must match previous stop domain type ").concat(t))]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new ee(e.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var c="number expected, ".concat(s," found");return fn(i)&&void 0===a&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ee(e.key,l,c)]}return"categorical"!==a||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==a&&"number"===s&&void 0!==n&&u<n?[new ee(e.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===a&&u in o?[new ee(e.key,l,"stop domain values must be unique")]:(o[u]=!0,[])):[new ee(e.key,l,"integer expected, found ".concat(u))]}}function Rn(e){var t=("property"===e.expressionContext?Ln:Mn)(ie(e.value),e.valueSpec);if("error"===t.result)return t.value.map(function(t){return new ee("".concat(e.key).concat(t.key),e.value,t.message)});var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new ee(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!pt(n))return[new ee(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!pt(n))return[new ee(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!mt(n,["zoom","feature-state"]))return[new ee(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!dt(n))return[new ee(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Fn(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(re(n))&&i.push(new ee(t,n,"expected one of [".concat(r.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(r.values).indexOf(re(n))&&i.push(new ee(t,n,"expected one of [".concat(Object.keys(r.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),i}function Yn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":var t,n=_createForOfIteratorHelper(e.slice(1));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Yn(r)&&"boolean"!=typeof r)return!1}}catch(i){n.e(i)}finally{n.f()}return!0;default:return!0}}var zn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function jn(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};Yn(e)||(e=Un(e));var t=Mn(e,zn);if("error"===t.result)throw new Error(t.value.map(function(e){return"".concat(e.key,": ").concat(e.message)}).join(", "));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:Hn(e)}}function Bn(e,t){return e<t?-1:e>t?1:0}function Hn(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(Hn(e[t]))return!0;return!1}function Un(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?Vn(e[1],e[2],"=="):"!="===n?Wn(Vn(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Vn(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(Un))):"all"===n?["all"].concat(e.slice(1).map(Un)):"none"===n?["all"].concat(e.slice(1).map(Un).map(Wn)):"in"===n?Gn(e[1],e.slice(2)):"!in"===n?Wn(Gn(e[1],e.slice(2))):"has"===n?qn(e[1]):"!has"===n?Wn(qn(e[1])):"within"!==n||e}function Vn(e,t,n){switch(e){case"$type":return["filter-type-".concat(n),t];case"$id":return["filter-id-".concat(n),t];default:return["filter-".concat(n),e,t]}}function Gn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(function(e){return typeof e!=typeof t[0]})?["filter-in-large",e,["literal",t.sort(Bn)]]:["filter-in-small",e,["literal",t]]}}function qn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Wn(e){return["!",e]}function $n(e){return Yn(ie(e.value))?Rn(ne({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Xn(e)}function Xn(e){var t=e.value,n=e.key;if("array"!==mn(t))return[new ee(n,t,"array expected, ".concat(mn(t)," found"))];var r,i=e.styleSpec,a=[];if(t.length<1)return[new ee(n,t,"filter array must have at least 1 element")];switch(a=a.concat(Fn({key:"".concat(n,"[0]"),value:t[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),re(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===re(t[1])&&a.push(new ee(n,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&a.push(new ee(n,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&("string"!==(r=mn(t[1]))&&a.push(new ee("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found"))));for(var o=2;o<t.length;o++)r=mn(t[o]),"$type"===re(t[1])?a=a.concat(Fn({key:"".concat(n,"[").concat(o,"]"),value:t[o],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&a.push(new ee("".concat(n,"[").concat(o,"]"),t[o],"string, number, or boolean expected, ".concat(r," found")));break;case"any":case"all":case"none":for(var s=1;s<t.length;s++)a=a.concat(Xn({key:"".concat(n,"[").concat(s,"]"),value:t[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=mn(t[1]),2!==t.length?a.push(new ee(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==r&&a.push(new ee("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));break;case"within":r=mn(t[1]),2!==t.length?a.push(new ee(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"object"!==r&&a.push(new ee("".concat(n,"[1]"),t[1],"object expected, ".concat(r," found")))}return a}function Zn(e,t){var n=e.key,r=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i["".concat(t,"_").concat(e.layerType)];if(!s)return[];var u=o.match(/^(.*)-transition$/);if("paint"===t&&u&&s[u[1]]&&s[u[1]].transition)return ar({key:n,value:a,valueSpec:i.transition,style:r,styleSpec:i});var l,c=e.valueSpec||s[o];if(!c)return[new ee(n,a,'unknown property "'.concat(o,'"'))];if("string"===mn(a)&&fn(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(a)))return[new ee(n,a,'"'.concat(o,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(l[1])," }`."))];var h=[];return"symbol"===e.layerType&&("text-field"===o&&r&&!r.glyphs&&h.push(new ee(n,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&gn(ie(a))&&"identity"===re(a.type)&&h.push(new ee(n,a,'"text-font" does not support identity functions'))),h.concat(ar({key:e.key,value:a,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:o}))}function Jn(e){return Zn(e,"paint")}function Kn(e){return Zn(e,"layout")}function Qn(e){var t=[],n=e.value,r=e.key,i=e.style,a=e.styleSpec;n.type||n.ref||t.push(new ee(r,n,'either "type" or "ref" is required'));var o,s=re(n.type),u=re(n.ref);if(n.id)for(var l=re(n.id),c=0;c<e.arrayIndex;c++){var h=i.layers[c];re(h.id)===l&&t.push(new ee(r,n.id,'duplicate layer id "'.concat(n.id,'", previously used at line ').concat(h.id.__line__)))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach(function(e){e in n&&t.push(new ee(r,n[e],'"'.concat(e,'" is prohibited for ref layers')))}),i.layers.forEach(function(e){re(e.id)===u&&(o=e)}),o?o.ref?t.push(new ee(r,n.ref,"ref cannot reference another ref layer")):s=re(o.type):t.push(new ee(r,n.ref,'ref layer "'.concat(u,'" not found')));else if("background"!==s)if(n.source){var f=i.sources&&i.sources[n.source],d=f&&re(f.type);f?"vector"===d&&"raster"===s?t.push(new ee(r,n.source,'layer "'.concat(n.id,'" requires a raster source'))):"raster"===d&&"raster"!==s?t.push(new ee(r,n.source,'layer "'.concat(n.id,'" requires a vector source'))):"vector"!==d||n["source-layer"]?"raster-dem"===d&&"hillshade"!==s?t.push(new ee(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===d&&f.lineMetrics||t.push(new ee(r,n,'layer "'.concat(n.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new ee(r,n,'layer "'.concat(n.id,'" must specify a "source-layer"'))):t.push(new ee(r,n.source,'source "'.concat(n.source,'" not found')))}else t.push(new ee(r,n,'missing required property "source"'));return t=t.concat(An({key:r,value:n,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ar({key:"".concat(r,".type"),value:n.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:$n,layout:function(e){return An({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Kn(ne({layerType:s},e))}}})},paint:function(e){return An({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Jn(ne({layerType:s},e))}}})}}}))}function er(e){var t=e.value,n=e.key,r=mn(t);return"string"!==r?[new ee(n,t,"string expected, ".concat(r," found"))]:[]}var tr={promoteId:function(e){var t=e.key,n=e.value;if("string"===mn(n))return er({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,_toConsumableArray(er({key:"".concat(t,".").concat(i),value:n[i]})));return r}};function nr(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new ee(n,t,'"type" is required')];var a,o=re(t.type);switch(o){case"vector":case"raster":case"raster-dem":return a=An({key:n,value:t,valueSpec:r["source_".concat(o.replace("-","_"))],style:e.style,styleSpec:r,objectElementValidators:tr});case"geojson":if(a=An({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:tr}),t.cluster)for(var s in t.clusterProperties){var u,l,c=_slicedToArray(t.clusterProperties[s],2),h=c[0],f=c[1],d="string"==typeof h?[h,["accumulated"],["get",s]]:h;(u=a).push.apply(u,_toConsumableArray(Rn({key:"".concat(n,".").concat(s,".map"),value:f,expressionContext:"cluster-map"}))),(l=a).push.apply(l,_toConsumableArray(Rn({key:"".concat(n,".").concat(s,".reduce"),value:d,expressionContext:"cluster-reduce"})))}return a;case"video":return An({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return An({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new ee(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Fn({key:"".concat(n,".type"),value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function rr(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,a=[],o=mn(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new ee("light",t,"object expected, ".concat(o," found"))]);for(var s in t){var u=s.match(/^(.*)-transition$/);a=a.concat(u&&r[u[1]]&&r[u[1]].transition?ar({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?ar({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new ee(s,t[s],'unknown property "'.concat(s,'"'))])}return a}var ir={"*":function(){return[]},array:Pn,boolean:function(e){var t=e.value,n=e.key,r=mn(t);return"boolean"!==r?[new ee(n,t,"boolean expected, ".concat(r," found"))]:[]},number:On,color:function(e){var t=e.key,n=e.value,r=mn(n);return"string"!==r?[new ee(t,n,"color expected, ".concat(r," found"))]:null===ke(n)?[new ee(t,n,'color expected, "'.concat(n,'" found'))]:[]},constants:te,enum:Fn,filter:$n,function:Nn,layer:Qn,object:An,source:nr,light:rr,string:er,formatted:function(e){return 0===er(e).length?[]:Rn(e)},resolvedImage:function(e){return 0===er(e).length?[]:Rn(e)}};function ar(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&gn(re(t))?Nn(e):n.expression&&Sn(ie(t))?Rn(e):n.type&&ir[n.type]?ir[n.type](e):An(ne({},e,{valueSpec:n.type?r[n.type]:n}))}function or(e){var t=e.value,n=e.key,r=er(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new ee(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new ee(n,t,'"glyphs" url must include a "{range}" token'))),r}function sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q,n=[];return n=n.concat(ar({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:or,"*":function(){return[]}}})),e.constants&&(n=n.concat(te({key:"constants",value:e.constants,style:e,styleSpec:t}))),ur(n)}function ur(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function lr(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ur(e.apply(this,n))}}sr.source=lr(nr),sr.light=lr(rr),sr.layer=lr(Qn),sr.filter=lr($n),sr.paintProperty=lr(Jn),sr.layoutProperty=lr(Kn);var cr=sr,hr=cr.light,fr=cr.paintProperty,dr=cr.layoutProperty;function pr(e,t){var n=!1;if(t&&t.length){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.fire(new J(new Error(a.message))),n=!0}}catch(o){i.e(o)}finally{i.f()}}return n}var mr=function(){function e(t,n,r){_classCallCheck(this,e);var i=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var a=new Int32Array(this.arrayBuffer);t=a[0],this.d=(n=a[1])+2*(r=a[2]);for(var o=0;o<this.d*this.d;o++){var s=a[3+o],u=a[3+o+1];i.push(s===u?null:a.subarray(s,u))}var l=a[3+i.length+1];this.keys=a.subarray(a[3+i.length],l),this.bboxes=a.subarray(l),this.insert=this._insertReadonly}else{this.d=n+2*r;for(var c=0;c<this.d*this.d;c++)i.push([]);this.keys=[],this.bboxes=[]}this.n=n,this.extent=t,this.padding=r,this.scale=n/t,this.uid=0;var h=r/n*t;this.min=-h,this.max=t+h}return _createClass(e,[{key:"insert",value:function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"_insertReadonly",value:function(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}},{key:"_insertCell",value:function(e,t,n,r,i,a){this.cells[i].push(a)}},{key:"query",value:function(e,t,n,r,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s}},{key:"_queryCell",value:function(e,t,n,r,i,a,o,s){var u=this.cells[i];if(null!==u)for(var l=this.keys,c=this.bboxes,h=0;h<u.length;h++){var f=u[h];if(void 0===o[f]){var d=4*f;(s?s(c[d+0],c[d+1],c[d+2],c[d+3]):e<=c[d+2]&&t<=c[d+3]&&n>=c[d+0]&&r>=c[d+1])?(o[f]=!0,a.push(l[f])):o[f]=!1}}}},{key:"_forEachCell",value:function(e,t,n,r,i,a,o,s){for(var u=this._convertToCellCoord(e),l=this._convertToCellCoord(t),c=this._convertToCellCoord(n),h=this._convertToCellCoord(r),f=u;f<=c;f++)for(var d=l;d<=h;d++){var p=this.d*d+f;if((!s||s(this._convertFromCellCoord(f),this._convertFromCellCoord(d),this._convertFromCellCoord(f+1),this._convertFromCellCoord(d+1)))&&i.call(this,e,t,n,r,p,a,o,s))return}}},{key:"_convertFromCellCoord",value:function(e){return(e-this.padding)/this.scale}},{key:"_convertToCellCoord",value:function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}},{key:"toArrayBuffer",value:function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[3+o]=a,i.set(s,a),a+=s.length}return i[3+e.length]=a,i.set(this.keys,a),a+=this.keys.length,i[3+e.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer}}],[{key:"serialize",value:function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}}},{key:"deserialize",value:function(t){return new e(t.buffer)}}]),e}(),gr={};function vr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),gr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var yr in vr("Object",Object),vr("TransferableGridIndex",mr),vr("Color",Le),vr("Error",Error),vr("AJAXError",z),vr("ResolvedImage",Pe),vr("StylePropertyFunction",In),vr("StyleExpression",Cn,{omit:["_evaluator"]}),vr("ZoomDependentExpression",Tn),vr("ZoomConstantExpression",En),vr("CompoundExpression",$e,{omit:["_evaluate"]}),an)an[yr]._classRegistryKey||vr("Expression_".concat(yr),an[yr]);function _r(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function br(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob)return e;if(_r(e)||x(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){var r,i=[],a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push(br(o,t))}}catch(f){a.e(f)}finally{a.f()}return i}if("object"==typeof e){var s=e.constructor,u=s._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var l=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var c in e)if(e.hasOwnProperty(c)&&!(gr[u].omit.indexOf(c)>=0)){var h=e[c];l[c]=gr[u].shallow.indexOf(c)>=0?h:br(h,t)}e instanceof Error&&(l.message=e.message)}if(l.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==u&&(l.$name=u),l}throw new Error("can't serialize object of type "+typeof e)}function wr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||_r(e)||x(e)||ArrayBuffer.isView(e)||e instanceof ImageData)return e;if(Array.isArray(e))return e.map(wr);if("object"==typeof e){var t=e.$name||"Object";if(!gr[t])throw new Error("can't deserialize unregistered class ".concat(t));var n=gr[t].klass;if(!n)throw new Error("can't deserialize unregistered class ".concat(t));if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];if("$name"!==o){var s=e[o];r[o]=gr[t].shallow.indexOf(o)>=0?s:wr(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var xr=function(){function e(){_classCallCheck(this,e),this.first=!0}return _createClass(e,[{key:"update",value:function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}]),e}(),kr={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Cr(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){if(Mr(t.value.charCodeAt(0)))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}function Sr(e){return!(kr.Arabic(e)||kr["Arabic Supplement"](e)||kr["Arabic Extended-A"](e)||kr["Arabic Presentation Forms-A"](e)||kr["Arabic Presentation Forms-B"](e))}function Mr(e){return!(746!==e&&747!==e&&(e<4352||!(kr["Bopomofo Extended"](e)||kr.Bopomofo(e)||kr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||kr["CJK Compatibility Ideographs"](e)||kr["CJK Compatibility"](e)||kr["CJK Radicals Supplement"](e)||kr["CJK Strokes"](e)||!(!kr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||kr["CJK Unified Ideographs Extension A"](e)||kr["CJK Unified Ideographs"](e)||kr["Enclosed CJK Letters and Months"](e)||kr["Hangul Compatibility Jamo"](e)||kr["Hangul Jamo Extended-A"](e)||kr["Hangul Jamo Extended-B"](e)||kr["Hangul Jamo"](e)||kr["Hangul Syllables"](e)||kr.Hiragana(e)||kr["Ideographic Description Characters"](e)||kr.Kanbun(e)||kr["Kangxi Radicals"](e)||kr["Katakana Phonetic Extensions"](e)||kr.Katakana(e)&&12540!==e||!(!kr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!kr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||kr["Unified Canadian Aboriginal Syllabics"](e)||kr["Unified Canadian Aboriginal Syllabics Extended"](e)||kr["Vertical Forms"](e)||kr["Yijing Hexagram Symbols"](e)||kr["Yi Syllables"](e)||kr["Yi Radicals"](e))))}function Er(e){return!(Mr(e)||(t=e,kr["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||kr["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||kr["Letterlike Symbols"](t)||kr["Number Forms"](t)||kr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||kr["Control Pictures"](t)&&9251!==t||kr["Optical Character Recognition"](t)||kr["Enclosed Alphanumerics"](t)||kr["Geometric Shapes"](t)||kr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||kr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||kr["CJK Symbols and Punctuation"](t)||kr.Katakana(t)||kr["Private Use Area"](t)||kr["CJK Compatibility Forms"](t)||kr["Small Form Variants"](t)||kr["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t));var t}function Tr(e){return e>=1424&&e<=2303||kr["Arabic Presentation Forms-A"](e)||kr["Arabic Presentation Forms-B"](e)}function Lr(e,t){return!(!t&&Tr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||kr.Khmer(e))}function Ir(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){if(Tr(t.value.charCodeAt(0)))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}var Dr="deferred",Ar="loading",Pr="loaded",Or=null,Nr="unavailable",Rr=null,Fr=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Nr="error"),Or&&Or(e)};function Yr(){zr.fire(new Z("pluginStateChange",{pluginStatus:Nr,pluginURL:Rr}))}var zr=new K,jr=function(){return Nr},Br=function(){if(Nr!==Dr||!Rr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Nr=Ar,Yr(),Rr&&U({url:Rr},function(e){e?Fr(e):(Nr=Pr,Yr())})},Hr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Nr===Pr||null!=Hr.applyArabicShaping},isLoading:function(){return Nr===Ar},setState:function(e){Nr=e.pluginStatus,Rr=e.pluginURL},isParsed:function(){return null!=Hr.applyArabicShaping&&null!=Hr.processBidirectionalText&&null!=Hr.processStyledBidirectionalText},getPluginURL:function(){return Rr}},Ur=function(){function e(t,n){_classCallCheck(this,e),this.zoom=t,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.zoomHistory=n.zoomHistory,this.transition=n.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new xr,this.transition={})}return _createClass(e,[{key:"isSupportedScript",value:function(e){return function(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){if(!Lr(n.value.charCodeAt(0),t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,Hr.isLoaded())}},{key:"crossFadingFactor",value:function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}},{key:"getCrossfadeParameters",value:function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}]),e}(),Vr=function(){function e(t,n){_classCallCheck(this,e),this.property=t,this.value=n,this.expression=function(e,t){if(gn(e))return new In(e,t);if(Sn(e)){var n=Ln(e,t);if("error"===n.result)throw new Error(n.value.map(function(e){return"".concat(e.key,": ").concat(e.message)}).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=Le.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===n?t.specification.default:n,t.specification)}return _createClass(e,[{key:"isDataDriven",value:function(){return"source"===this.expression.kind||"composite"===this.expression.kind}},{key:"possiblyEvaluate",value:function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}]),e}(),Gr=function(){function e(t){_classCallCheck(this,e),this.property=t,this.value=new Vr(t,void 0)}return _createClass(e,[{key:"transitioned",value:function(e,t){return new Wr(this.property,this.value,t,s({},e.transition,this.transition),e.now)}},{key:"untransitioned",value:function(){return new Wr(this.property,this.value,null,{},0)}}]),e}(),qr=function(){function e(t){_classCallCheck(this,e),this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}return _createClass(e,[{key:"getValue",value:function(e){return f(this._values[e].value.value)}},{key:"setValue",value:function(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Gr(this._values[e].property)),this._values[e].value=new Vr(this._values[e].property,null===t?void 0:f(t))}},{key:"getTransition",value:function(e){return f(this._values[e].transition)}},{key:"setTransition",value:function(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Gr(this._values[e].property)),this._values[e].transition=f(t)||void 0}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var a=this.getTransition(r);void 0!==a&&(e["".concat(r,"-transition")]=a)}return e}},{key:"transitioned",value:function(e,t){for(var n=new $r(this._properties),r=0,i=Object.keys(this._values);r<i.length;r++){var a=i[r];n._values[a]=this._values[a].transitioned(e,t._values[a])}return n}},{key:"untransitioned",value:function(){for(var e=new $r(this._properties),t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e}}]),e}(),Wr=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.property=t,this.value=n,this.begin=a+i.delay||0,this.end=this.begin+i.duration||0,t.specification.transition&&(i.delay||i.duration)&&(this.prior=r)}return _createClass(e,[{key:"possiblyEvaluate",value:function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),a=this.prior;if(a){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return a.possiblyEvaluate(e,t,n);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(o))}return i}}]),e}(),$r=function(){function e(t){_classCallCheck(this,e),this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}return _createClass(e,[{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new Jr(this._properties),i=0,a=Object.keys(this._values);i<a.length;i++){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}},{key:"hasTransition",value:function(){for(var e=0,t=Object.keys(this._values);e<t.length;e++){var n=t[e];if(this._values[n].prior)return!0}return!1}}]),e}(),Xr=function(){function e(t){_classCallCheck(this,e),this._properties=t,this._values=Object.create(t.defaultPropertyValues)}return _createClass(e,[{key:"getValue",value:function(e){return f(this._values[e].value)}},{key:"setValue",value:function(e,t){this._values[e]=new Vr(this._values[e].property,null===t?void 0:f(t))}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e}},{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new Jr(this._properties),i=0,a=Object.keys(this._values);i<a.length;i++){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}}]),e}(),Zr=function(){function e(t,n,r){_classCallCheck(this,e),this.property=t,this.value=n,this.parameters=r}return _createClass(e,[{key:"isConstant",value:function(){return"constant"===this.value.kind}},{key:"constantOr",value:function(e){return"constant"===this.value.kind?this.value.value:e}},{key:"evaluate",value:function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}]),e}(),Jr=function(){function e(t){_classCallCheck(this,e),this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}return _createClass(e,[{key:"get",value:function(e){return this._values[e]}}]),e}(),Kr=function(){function e(t){_classCallCheck(this,e),this.specification=t}return _createClass(e,[{key:"possiblyEvaluate",value:function(e,t){return e.expression.evaluate(t)}},{key:"interpolate",value:function(e,t,n){var r=xt[this.specification.type];return r?r(e,t,n):e}}]),e}(),Qr=function(){function e(t,n){_classCallCheck(this,e),this.specification=t,this.overrides=n}return _createClass(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return new Zr(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}},{key:"interpolate",value:function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Zr(this,{kind:"constant",value:void 0},e.parameters);var r=xt[this.specification.type];return r?new Zr(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e}},{key:"evaluate",value:function(e,t,n,r,i,a){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,a)}}]),e}(),ei=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"possiblyEvaluate",value:function(e,t,n,r){if(void 0===e.value)return new Zr(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),a="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,o=this._calculate(a,a,a,t);return new Zr(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Zr(this,{kind:"constant",value:s},t)}return new Zr(this,e.expression,t)}},{key:"evaluate",value:function(e,t,n,r,i,a){if("source"===e.kind){var o=e.evaluate(t,n,r,i,a);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value}},{key:"_calculate",value:function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}},{key:"interpolate",value:function(e){return e}}]),n}(Qr),ti=function(){function e(t){_classCallCheck(this,e),this.specification=t}return _createClass(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new Ur(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Ur(Math.floor(t.zoom),t)),e.expression.evaluate(new Ur(Math.floor(t.zoom+1),t)),t)}}},{key:"_calculate",value:function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}},{key:"interpolate",value:function(e){return e}}]),e}(),ni=function(){function e(t){_classCallCheck(this,e),this.specification=t}return _createClass(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}},{key:"interpolate",value:function(){return!1}}]),e}(),ri=_createClass(function e(t){for(var n in _classCallCheck(this,e),this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var r=t[n];r.specification.overridable&&this.overridableProperties.push(n);var i=this.defaultPropertyValues[n]=new Vr(r,void 0),a=this.defaultTransitionablePropertyValues[n]=new Gr(r);this.defaultTransitioningPropertyValues[n]=a.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=i.possiblyEvaluate({})}});vr("DataDrivenProperty",Qr),vr("DataConstantProperty",Kr),vr("CrossFadedDataDrivenProperty",ei),vr("CrossFadedProperty",ti),vr("ColorRampProperty",ni);var ii="-transition",ai=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this)).id=e.id,i.type=e.type,i._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(i.metadata=(e=e).metadata,i.minzoom=e.minzoom,i.maxzoom=e.maxzoom,"background"!==e.type&&(i.source=e.source,i.sourceLayer=e["source-layer"],i.filter=e.filter),r.layout&&(i._unevaluatedLayout=new Xr(r.layout)),r.paint)){for(var a in i._transitionablePaint=new qr(r.paint),e.paint)i.setPaintProperty(a,e.paint[a],{validate:!1});for(var o in e.layout)i.setLayoutProperty(o,e.layout[o],{validate:!1});i._transitioningPaint=i._transitionablePaint.untransitioned(),i.paint=new Jr(r.paint)}return _possibleConstructorReturn(i)}return _createClass(n,[{key:"getCrossfadeParameters",value:function(){return this._crossfadeParameters}},{key:"getLayoutProperty",value:function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}},{key:"setLayoutProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(dr,"layers.".concat(this.id,".layout.").concat(e),e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}},{key:"getPaintProperty",value:function(e){return e.endsWith(ii)?this._transitionablePaint.getTransition(e.slice(0,-ii.length)):this._transitionablePaint.getValue(e)}},{key:"setPaintProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(fr,"layers.".concat(this.id,".paint.").concat(e),e,t,n))return!1;if(e.endsWith(ii))return this._transitionablePaint.setTransition(e.slice(0,-ii.length),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],a=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||a||i||this._handleOverridablePaintPropertyUpdate(e,o,s)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,n){return!1}},{key:"isHidden",value:function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}},{key:"updateTransitions",value:function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}},{key:"hasTransition",value:function(){return this._transitioningPaint.hasTransition()}},{key:"recalculate",value:function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}},{key:"serialize",value:function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),h(e,function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)})}},{key:"_validate",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!i||!1!==i.validate)&&pr(this,e.call(cr,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:Q,style:{glyphs:!0,sprite:!0}}))}},{key:"is3D",value:function(){return!1}},{key:"isTileClipped",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return!1}},{key:"resize",value:function(){}},{key:"isStateDependent",value:function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof Zr&&fn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}]),n}(K),oi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},si=_createClass(function e(t,n){_classCallCheck(this,e),this._structArray=t,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}),ui=function(){function e(){_classCallCheck(this,e),this.isTransferred=!1,this.capacity=-1,this.resize(0)}return _createClass(e,[{key:"_trim",value:function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}},{key:"clear",value:function(){this.length=0}},{key:"resize",value:function(e){this.reserve(e),this.length=e}},{key:"reserve",value:function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}},{key:"_refreshViews",value:function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}],[{key:"serialize",value:function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}},{key:"deserialize",value:function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}}]),e}();function li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0;return{members:e.map(function(e){var i=oi[e.type].BYTES_PER_ELEMENT,a=n=ci(n,Math.max(t,i)),o=e.components||1;return r=Math.max(r,i),n+=i*o,{name:e.name,type:e.type,components:o,offset:a}}),size:ci(n,Math.max(r,t)),alignment:t}}function ci(e,t){return Math.ceil(e/t)*t}var hi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}]),n}(ui);hi.prototype.bytesPerElement=4,vr("StructArrayLayout2i4",hi);var fi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=4*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,this.int16[a+3]=i,e}}]),n}(ui);fi.prototype.bytesPerElement=8,vr("StructArrayLayout4i8",fi);var di=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)}},{key:"emplace",value:function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e}}]),n}(ui);di.prototype.bytesPerElement=12,vr("StructArrayLayout2i4i12",di);var pi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)}},{key:"emplace",value:function(e,t,n,r,i,a,o){var s=4*e,u=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=a,this.uint8[u+7]=o,e}}]),n}(ui);pi.prototype.bytesPerElement=8,vr("StructArrayLayout2i4ub8",pi);var mi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}]),n}(ui);mi.prototype.bytesPerElement=8,vr("StructArrayLayout2f8",mi);var gi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,u,l){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,a,o,s,u,l)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,u,l,c){var h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=n,this.uint16[h+2]=r,this.uint16[h+3]=i,this.uint16[h+4]=a,this.uint16[h+5]=o,this.uint16[h+6]=s,this.uint16[h+7]=u,this.uint16[h+8]=l,this.uint16[h+9]=c,e}}]),n}(ui);gi.prototype.bytesPerElement=20,vr("StructArrayLayout10ui20",gi);var vi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,u,l,c,h){var f=this.length;return this.resize(f+1),this.emplace(f,e,t,n,r,i,a,o,s,u,l,c,h)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,u,l,c,h,f){var d=12*e;return this.int16[d+0]=t,this.int16[d+1]=n,this.int16[d+2]=r,this.int16[d+3]=i,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=u,this.int16[d+8]=l,this.int16[d+9]=c,this.int16[d+10]=h,this.int16[d+11]=f,e}}]),n}(ui);vi.prototype.bytesPerElement=24,vr("StructArrayLayout4i4ui4i24",vi);var yi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e}}]),n}(ui);yi.prototype.bytesPerElement=12,vr("StructArrayLayout3f12",yi);var _i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint32[1*e+0]=t,e}}]),n}(ui);_i.prototype.bytesPerElement=4,vr("StructArrayLayout1ul4",_i);var bi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,u){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,a,o,s,u)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,u,l){var c=10*e,h=5*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=a,this.int16[c+5]=o,this.uint32[h+3]=s,this.uint16[c+8]=u,this.uint16[c+9]=l,e}}]),n}(ui);bi.prototype.bytesPerElement=20,vr("StructArrayLayout6i1ul2ui20",bi);var wi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)}},{key:"emplace",value:function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e}}]),n}(ui);wi.prototype.bytesPerElement=12,vr("StructArrayLayout2i2i2i12",wi);var xi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)}},{key:"emplace",value:function(e,t,n,r,i,a){var o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.int16[s+6]=i,this.int16[s+7]=a,e}}]),n}(ui);xi.prototype.bytesPerElement=16,vr("StructArrayLayout2f1f2i16",xi);var ki=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=n,this.float32[o+1]=r,this.float32[o+2]=i,e}}]),n}(ui);ki.prototype.bytesPerElement=12,vr("StructArrayLayout2ub2f12",ki);var Ci=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e}}]),n}(ui);Ci.prototype.bytesPerElement=6,vr("StructArrayLayout3ui6",Ci);var Si=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,u,l,c,h,f,d,p,m,g){var v=this.length;return this.resize(v+1),this.emplace(v,e,t,n,r,i,a,o,s,u,l,c,h,f,d,p,m,g)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,u,l,c,h,f,d,p,m,g,v){var y=24*e,_=12*e,b=48*e;return this.int16[y+0]=t,this.int16[y+1]=n,this.uint16[y+2]=r,this.uint16[y+3]=i,this.uint32[_+2]=a,this.uint32[_+3]=o,this.uint32[_+4]=s,this.uint16[y+10]=u,this.uint16[y+11]=l,this.uint16[y+12]=c,this.float32[_+7]=h,this.float32[_+8]=f,this.uint8[b+36]=d,this.uint8[b+37]=p,this.uint8[b+38]=m,this.uint32[_+10]=g,this.int16[y+22]=v,e}}]),n}(ui);Si.prototype.bytesPerElement=48,vr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Si);var Mi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,u,l,c,h,f,d,p,m,g,v,y,_,b,w,x,k,C,S,M,E){var T=this.length;return this.resize(T+1),this.emplace(T,e,t,n,r,i,a,o,s,u,l,c,h,f,d,p,m,g,v,y,_,b,w,x,k,C,S,M,E)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,u,l,c,h,f,d,p,m,g,v,y,_,b,w,x,k,C,S,M,E,T){var L=34*e,I=17*e;return this.int16[L+0]=t,this.int16[L+1]=n,this.int16[L+2]=r,this.int16[L+3]=i,this.int16[L+4]=a,this.int16[L+5]=o,this.int16[L+6]=s,this.int16[L+7]=u,this.uint16[L+8]=l,this.uint16[L+9]=c,this.uint16[L+10]=h,this.uint16[L+11]=f,this.uint16[L+12]=d,this.uint16[L+13]=p,this.uint16[L+14]=m,this.uint16[L+15]=g,this.uint16[L+16]=v,this.uint16[L+17]=y,this.uint16[L+18]=_,this.uint16[L+19]=b,this.uint16[L+20]=w,this.uint16[L+21]=x,this.uint16[L+22]=k,this.uint32[I+12]=C,this.float32[I+13]=S,this.float32[I+14]=M,this.float32[I+15]=E,this.float32[I+16]=T,e}}]),n}(ui);Mi.prototype.bytesPerElement=68,vr("StructArrayLayout8i15ui1ul4f68",Mi);var Ei=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.float32[1*e+0]=t,e}}]),n}(ui);Ei.prototype.bytesPerElement=4,vr("StructArrayLayout1f4",Ei);var Ti=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e}}]),n}(ui);Ti.prototype.bytesPerElement=6,vr("StructArrayLayout3i6",Ti);var Li=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e}}]),n}(ui);Li.prototype.bytesPerElement=8,vr("StructArrayLayout1ul2ui8",Li);var Ii=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}]),n}(ui);Ii.prototype.bytesPerElement=4,vr("StructArrayLayout2ui4",Ii);var Di=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint16[1*e+0]=t,e}}]),n}(ui);Di.prototype.bytesPerElement=2,vr("StructArrayLayout1ui2",Di);var Ai=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=4*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.float32[a+3]=i,e}}]),n}(ui);Ai.prototype.bytesPerElement=16,vr("StructArrayLayout4f16",Ai);var Pi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"anchorPointX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"anchorPointY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"x1",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"y1",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"x2",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"y2",get:function(){return this._structArray.int16[this._pos2+5]}},{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+3]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"anchorPoint",get:function(){return new C(this.anchorPointX,this.anchorPointY)}}]),n}(si);Pi.prototype.size=20;var Oi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"get",value:function(e){return new Pi(this,e)}}]),n}(bi);vr("CollisionBoxArray",Oi);var Ni=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"anchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"anchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"glyphStartIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"numGlyphs",get:function(){return this._structArray.uint16[this._pos2+3]}},{key:"vertexStartIndex",get:function(){return this._structArray.uint32[this._pos4+2]}},{key:"lineStartIndex",get:function(){return this._structArray.uint32[this._pos4+3]}},{key:"lineLength",get:function(){return this._structArray.uint32[this._pos4+4]}},{key:"segment",get:function(){return this._structArray.uint16[this._pos2+10]}},{key:"lowerSize",get:function(){return this._structArray.uint16[this._pos2+11]}},{key:"upperSize",get:function(){return this._structArray.uint16[this._pos2+12]}},{key:"lineOffsetX",get:function(){return this._structArray.float32[this._pos4+7]}},{key:"lineOffsetY",get:function(){return this._structArray.float32[this._pos4+8]}},{key:"writingMode",get:function(){return this._structArray.uint8[this._pos1+36]}},{key:"placedOrientation",get:function(){return this._structArray.uint8[this._pos1+37]},set:function(e){this._structArray.uint8[this._pos1+37]=e}},{key:"hidden",get:function(){return this._structArray.uint8[this._pos1+38]},set:function(e){this._structArray.uint8[this._pos1+38]=e}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+10]},set:function(e){this._structArray.uint32[this._pos4+10]=e}},{key:"associatedIconIndex",get:function(){return this._structArray.int16[this._pos2+22]}}]),n}(si);Ni.prototype.size=48;var Ri=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"get",value:function(e){return new Ni(this,e)}}]),n}(Si);vr("PlacedSymbolArray",Ri);var Fi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"anchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"anchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"rightJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"centerJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"leftJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"verticalPlacedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+5]}},{key:"placedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+6]}},{key:"verticalPlacedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+7]}},{key:"key",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"textBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"textBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+10]}},{key:"verticalTextBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+11]}},{key:"verticalTextBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+12]}},{key:"iconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+13]}},{key:"iconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+14]}},{key:"verticalIconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+15]}},{key:"verticalIconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"featureIndex",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"numHorizontalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"numVerticalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+19]}},{key:"numIconVertices",get:function(){return this._structArray.uint16[this._pos2+20]}},{key:"numVerticalIconVertices",get:function(){return this._structArray.uint16[this._pos2+21]}},{key:"useRuntimeCollisionCircles",get:function(){return this._structArray.uint16[this._pos2+22]}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+12]},set:function(e){this._structArray.uint32[this._pos4+12]=e}},{key:"textBoxScale",get:function(){return this._structArray.float32[this._pos4+13]}},{key:"textOffset0",get:function(){return this._structArray.float32[this._pos4+14]}},{key:"textOffset1",get:function(){return this._structArray.float32[this._pos4+15]}},{key:"collisionCircleDiameter",get:function(){return this._structArray.float32[this._pos4+16]}}]),n}(si);Fi.prototype.size=68;var Yi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"get",value:function(e){return new Fi(this,e)}}]),n}(Mi);vr("SymbolInstanceArray",Yi);var zi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getoffsetX",value:function(e){return this.float32[1*e+0]}}]),n}(Ei);vr("GlyphOffsetArray",zi);var ji=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getx",value:function(e){return this.int16[3*e+0]}},{key:"gety",value:function(e){return this.int16[3*e+1]}},{key:"gettileUnitDistanceFromAnchor",value:function(e){return this.int16[3*e+2]}}]),n}(Ti);vr("SymbolLineVertexArray",ji);var Bi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+0]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+3]}}]),n}(si);Bi.prototype.size=8;var Hi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"get",value:function(e){return new Bi(this,e)}}]),n}(Li);vr("FeatureIndexArray",Hi);var Ui=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(hi),Vi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(hi),Gi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(di),qi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(pi),Wi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(mi),$i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(gi),Xi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(vi),Zi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(yi),Ji=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(_i),Ki=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(wi),Qi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(ki),ea=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(Ci),ta=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(Ii),na=li([{name:"a_pos",components:2,type:"Int16"}],4).members,ra=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.segments=t}return _createClass(e,[{key:"prepareSegment",value:function(t,n,r,i){var a=this.segments[this.segments.length-1];return t>e.MAX_VERTEX_ARRAY_LENGTH&&p("Max vertices per segment is ".concat(e.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(t)),(!a||a.vertexLength+t>e.MAX_VERTEX_ARRAY_LENGTH||a.sortKey!==i)&&(a={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==i&&(a.sortKey=i),this.segments.push(a)),a}},{key:"get",value:function(){return this.segments}},{key:"destroy",value:function(){var e,t=_createForOfIteratorHelper(this.segments);try{for(t.s();!(e=t.n()).done;){var n=e.value;for(var r in n.vaos)n.vaos[r].destroy()}}catch(i){t.e(i)}finally{t.f()}}}],[{key:"simpleSegment",value:function(t,n,r,i){return new e([{vertexOffset:t,primitiveOffset:n,vertexLength:r,primitiveLength:i,vaos:{},sortKey:0}])}}]),e}();function ia(e,t){return 256*(e=a(Math.floor(e),0,255))+a(Math.floor(t),0,255)}ra.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,vr("SegmentVector",ra);var aa=li([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),oa={exports:{}},sa=function(e,t){var n,r,i,a,o,s,u,l;for(r=e.length-(n=3&e.length),i=t,o=3432918353,s=461845907,l=0;l<r;)u=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(a=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(l+2))<<16;case 2:u^=(255&e.charCodeAt(l+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(l)))*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};oa.exports=sa,oa.exports.murmur3=sa,oa.exports.murmur2=function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};var ua=oa.exports,la=function(){function e(){_classCallCheck(this,e),this.ids=[],this.positions=[],this.indexed=!1}return _createClass(e,[{key:"add",value:function(e,t,n,r){this.ids.push(ca(e)),this.positions.push(t,n,r)}},{key:"getPositions",value:function(e){for(var t=ca(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var a=[];this.ids[n]===t;)a.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return a}}],[{key:"serialize",value:function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return ha(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}},{key:"deserialize",value:function(t){var n=new e;return n.ids=t.ids,n.positions=t.positions,n.indexed=!0,n}}]),e}();function ca(e){var t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:ua(String(e))}function ha(e,t,n,r){for(;n<r;){for(var i=e[n+r>>1],a=n-1,o=r+1;;){do{a++}while(e[a]<i);do{o--}while(e[o]>i);if(a>=o)break;fa(e,a,o),fa(t,3*a,3*o),fa(t,3*a+1,3*o+1),fa(t,3*a+2,3*o+2)}o-n<r-o?(ha(e,t,n,o),n=o+1):(ha(e,t,o+1,r),r=o)}}function fa(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}vr("FeaturePositionMap",la);var da=_createClass(function e(t,n){_classCallCheck(this,e),this.gl=t.gl,this.location=n}),pa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).current=0,i}return _createClass(n,[{key:"set",value:function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}]),n}(da),ma=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).current=[0,0,0,0],i}return _createClass(n,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}]),n}(da),ga=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).current=Le.transparent,i}return _createClass(n,[{key:"set",value:function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}]),n}(da),va=new Float32Array(16);function ya(e){return[ia(255*e.r,255*e.g),ia(255*e.b,255*e.a)]}var _a=function(){function e(t,n,r){_classCallCheck(this,e),this.value=t,this.uniformNames=n.map(function(e){return"u_".concat(e)}),this.type=r}return _createClass(e,[{key:"setUniform",value:function(e,t,n){e.set(n.constantOr(this.value))}},{key:"getBinding",value:function(e,t,n){return"color"===this.type?new ga(e,t):new pa(e,t)}}]),e}(),ba=function(){function e(t,n){_classCallCheck(this,e),this.uniformNames=n.map(function(e){return"u_".concat(e)}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}return _createClass(e,[{key:"setConstantPatternPositions",value:function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}},{key:"setUniform",value:function(e,t,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)}},{key:"getBinding",value:function(e,t,n){return"u_pattern"===n.substr(0,9)?new ma(e,t):new pa(e,t)}}]),e}(),wa=function(){function e(t,n,r,i){_classCallCheck(this,e),this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=n.map(function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?2:1,offset:0}}),this.paintVertexArray=new i}return _createClass(e,[{key:"populatePaintArray",value:function(e,t,n,r,i){var a=this.paintVertexArray.length,o=this.expression.evaluate(new Ur(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(a,e,o)}},{key:"updatePaintArray",value:function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)}},{key:"_setPaintValue",value:function(e,t,n){if("color"===this.type)for(var r=ya(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var a=e;a<t;a++)this.paintVertexArray.emplace(a,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}]),e}(),xa=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.expression=t,this.uniformNames=n.map(function(e){return"u_".concat(e,"_t")}),this.type=r,this.useIntegerZoom=i,this.zoom=a,this.maxValue=0,this.paintVertexAttributes=n.map(function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?4:2,offset:0}}),this.paintVertexArray=new o}return _createClass(e,[{key:"populatePaintArray",value:function(e,t,n,r,i){var a=this.expression.evaluate(new Ur(this.zoom),t,{},r,[],i),o=this.expression.evaluate(new Ur(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,a,o)}},{key:"updatePaintArray",value:function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,a)}},{key:"_setPaintValue",value:function(e,t,n,r){if("color"===this.type)for(var i=ya(n),a=ya(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"setUniform",value:function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=a(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)}},{key:"getBinding",value:function(e,t,n){return new pa(e,t)}}]),e}(),ka=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.expression=t,this.type=n,this.useIntegerZoom=r,this.zoom=i,this.layerId=o,this.zoomInPaintVertexArray=new a,this.zoomOutPaintVertexArray=new a}return _createClass(e,[{key:"populatePaintArray",value:function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)}},{key:"updatePaintArray",value:function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)}},{key:"_setPaintValues",value:function(e,t,n,r){if(r&&n){var i=n.min,a=n.mid,o=n.max,s=r[i],u=r[a],l=r[o];if(s&&u&&l)for(var c=e;c<t;c++)this.zoomInPaintVertexArray.emplace(c,u.tl[0],u.tl[1],u.br[0],u.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],u.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(c,u.tl[0],u.tl[1],u.br[0],u.br[1],l.tl[0],l.tl[1],l.br[0],l.br[1],u.pixelRatio,l.pixelRatio)}}},{key:"upload",value:function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,aa.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,aa.members,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}]),e}(),Ca=function(){function e(t,n,r){_classCallCheck(this,e),this.binders={},this._buffers=[];var i=[];for(var a in t.paint._values)if(r(a)){var o=t.paint.get(a);if(o instanceof Zr&&fn(o.property.specification)){var s=Ma(a,t.type),u=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,h=o.property.specification["property-type"],f="cross-faded"===h||"cross-faded-data-driven"===h;if("constant"===u.kind)this.binders[a]=f?new ba(u.value,s):new _a(u.value,s,l),i.push("/u_".concat(a));else if("source"===u.kind||f){var d=Ea(a,l,"source");this.binders[a]=f?new ka(u,l,c,n,d,t.id):new wa(u,s,l,d),i.push("/a_".concat(a))}else{var p=Ea(a,l,"composite");this.binders[a]=new xa(u,s,l,c,n,p),i.push("/z_".concat(a))}}}this.cacheKey=i.sort().join("")}return _createClass(e,[{key:"getMaxValue",value:function(e){var t=this.binders[e];return t instanceof wa||t instanceof xa?t.maxValue:0}},{key:"populatePaintArrays",value:function(e,t,n,r,i){for(var a in this.binders){var o=this.binders[a];(o instanceof wa||o instanceof xa||o instanceof ka)&&o.populatePaintArray(e,t,n,r,i)}}},{key:"setConstantPatternPositions",value:function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof ba&&r.setConstantPatternPositions(e,t)}}},{key:"updatePaintArrays",value:function(e,t,n,r,i){var a=!1;for(var o in e){var s,u=_createForOfIteratorHelper(t.getPositions(o));try{for(u.s();!(s=u.n()).done;){var l=s.value,c=n.feature(l.index);for(var h in this.binders){var f=this.binders[h];if((f instanceof wa||f instanceof xa||f instanceof ka)&&!0===f.expression.isStateDependent){var d=r.paint.get(h);f.expression=d.value,f.updatePaintArray(l.start,l.end,c,e[o],i),a=!0}}}}catch(p){u.e(p)}finally{u.f()}}return a}},{key:"defines",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof _a||n instanceof ba)&&e.push.apply(e,_toConsumableArray(n.uniformNames.map(function(e){return"#define HAS_UNIFORM_".concat(e)})))}return e}},{key:"getBinderAttributes",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof wa||n instanceof xa)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof ka)for(var i=0;i<aa.members.length;i++)e.push(aa.members[i].name)}return e}},{key:"getBinderUniforms",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof _a||n instanceof ba||n instanceof xa){var r,i=_createForOfIteratorHelper(n.uniformNames);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.push(a)}}catch(o){i.e(o)}finally{i.f()}}}return e}},{key:"getPaintVertexBuffers",value:function(){return this._buffers}},{key:"getUniforms",value:function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof _a||i instanceof ba||i instanceof xa){var a,o=_createForOfIteratorHelper(i.uniformNames);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t[s]){var u=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:u})}}}catch(l){o.e(l)}finally{o.f()}}}return n}},{key:"setUniforms",value:function(e,t,n,r){var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.name,u=o.property,l=o.binding;this.binders[u].setUniform(l,r,n.get(u),s)}}catch(c){a.e(c)}finally{a.f()}}},{key:"updatePaintBuffers",value:function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof ka){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof wa||n instanceof xa)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}},{key:"upload",value:function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof wa||n instanceof xa||n instanceof ka)&&n.upload(e)}this.updatePaintBuffers()}},{key:"destroy",value:function(){for(var e in this.binders){var t=this.binders[e];(t instanceof wa||t instanceof xa||t instanceof ka)&&t.destroy()}}}]),e}(),Sa=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};_classCallCheck(this,e),this.programConfigurations={};var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.programConfigurations[o.id]=new Ca(o,n,r)}}catch(s){a.e(s)}finally{a.f()}this.needsUpload=!1,this._featureMap=new la,this._bufferOffset=0}return _createClass(e,[{key:"populatePaintArrays",value:function(e,t,n,r,i,a){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,r,i,a);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}},{key:"updatePaintArrays",value:function(e,t,n,r){var i,a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,r)||this.needsUpload}}catch(s){a.e(s)}finally{a.f()}}},{key:"get",value:function(e){return this.programConfigurations[e]}},{key:"upload",value:function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}},{key:"destroy",value:function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()}}]),e}();function Ma(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}function Ea(e,t,n){var r={"line-pattern":{source:$i,composite:$i},"fill-pattern":{source:$i,composite:$i},"fill-extrusion-pattern":{source:$i,composite:$i}}[e];return r&&r[n]||{color:{source:mi,composite:Ai},number:{source:Ei,composite:mi}}[t][n]}vr("ConstantBinder",_a),vr("CrossFadedConstantBinder",ba),vr("SourceExpressionBinder",wa),vr("CrossFadedCompositeBinder",ka),vr("CompositeExpressionBinder",xa),vr("ProgramConfiguration",Ca,{omit:["_buffers"]}),vr("ProgramConfigurationSet",Sa);var Ta=8192,La=Math.pow(2,14)-1,Ia=-La-1;function Da(e){for(var t=Ta/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var s=i[o],u=Math.round(s.x*t),l=Math.round(s.y*t);s.x=a(u,Ia,La),s.y=a(l,Ia,La),(u<s.x||u>s.x+1||l<s.y||l>s.y+1)&&p("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Aa(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Da(e):[]}}function Pa(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var Oa=function(){function e(t){_classCallCheck(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ui,this.indexArray=new ea,this.segments=new ra,this.programConfigurations=new Sa(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})}return _createClass(e,[{key:"populate",value:function(e,t,n){var r=this.layers[0],i=[],a=null,o=!1;"circle"===r.type&&(o=!(a=r.layout.get("circle-sort-key")).isConstant());var s,u=_createForOfIteratorHelper(e);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=l.feature,h=l.id,f=l.index,d=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,m=Aa(c,p);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),m,n)){var g=o?a.evaluate(m,{},n):void 0,v={id:h,properties:c.properties,type:c.type,sourceLayerIndex:d,index:f,geometry:p?m.geometry:Da(c),patterns:{},sortKey:g};i.push(v)}}}catch(S){u.e(S)}finally{u.f()}o&&i.sort(function(e,t){return e.sortKey-t.sortKey});for(var y=0,_=i;y<_.length;y++){var b=_[y],w=b.geometry,x=b.index,k=b.sourceLayerIndex,C=e[x].feature;this.addFeature(b,w,x,n),t.featureIndex.insert(C,w,x,k,this.index)}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,na),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(e,t,n,r){var i,a=_createForOfIteratorHelper(t);try{for(a.s();!(i=a.n()).done;){var o,s=_createForOfIteratorHelper(i.value);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=u.x,c=u.y;if(!(l<0||l>=Ta||c<0||c>=Ta)){var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),f=h.vertexLength;Pa(this.layoutVertexArray,l,c,-1,-1),Pa(this.layoutVertexArray,l,c,1,-1),Pa(this.layoutVertexArray,l,c,1,1),Pa(this.layoutVertexArray,l,c,-1,1),this.indexArray.emplaceBack(f,f+1,f+2),this.indexArray.emplaceBack(f,f+3,f+2),h.vertexLength+=4,h.primitiveLength+=2}}}catch(d){s.e(d)}finally{s.f()}}}catch(d){a.e(d)}finally{a.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)}}]),e}();function Na(e,t){for(var n=0;n<e.length;n++)if(Va(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(Va(e,t[r]))return!0;return!!za(e,t)}function Ra(e,t,n){return!!Va(e,t)||!!Ba(t,e,n)}function Fa(e,t){if(1===e.length)return Ua(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(Va(e,r[i]))return!0;for(var a=0;a<e.length;a++)if(Ua(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(za(e,t[o]))return!0;return!1}function Ya(e,t,n){if(e.length>1){if(za(e,t))return!0;for(var r=0;r<t.length;r++)if(Ba(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Ba(e[i],t,n))return!0;return!1}function za(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],a=0;a<t.length-1;a++)if(ja(r,i,t[a],t[a+1]))return!0;return!1}function ja(e,t,n,r){return m(e,n,r)!==m(t,n,r)&&m(e,t,n)!==m(e,t,r)}function Ba(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(Ha(e,t[i-1],t[i])<r)return!0;return!1}function Ha(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Ua(e,t){for(var n,r,i,a=!1,o=0;o<e.length;o++)for(var s=0,u=(n=e[o]).length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(a=!a);return a}function Va(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var a=e[r],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function Ga(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var a=m(e,t,n[0]);return a!==m(e,t,n[1])||a!==m(e,t,n[2])||a!==m(e,t,n[3])}function qa(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function Wa(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function $a(e,t,n,r,i){if(!t[0]&&!t[1])return e;var a=C.convert(t)._mult(i);"viewport"===n&&a._rotate(-r);for(var o=[],s=0;s<e.length;s++)o.push(e[s].sub(a));return o}vr("CircleBucket",Oa,{omit:["layers"]});var Xa=new ri({"circle-sort-key":new Qr(Q.layout_circle["circle-sort-key"])}),Za={paint:new ri({"circle-radius":new Qr(Q.paint_circle["circle-radius"]),"circle-color":new Qr(Q.paint_circle["circle-color"]),"circle-blur":new Qr(Q.paint_circle["circle-blur"]),"circle-opacity":new Qr(Q.paint_circle["circle-opacity"]),"circle-translate":new Kr(Q.paint_circle["circle-translate"]),"circle-translate-anchor":new Kr(Q.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Kr(Q.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Kr(Q.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qr(Q.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qr(Q.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qr(Q.paint_circle["circle-stroke-opacity"])}),layout:Xa},Ja="undefined"!=typeof Float32Array?Float32Array:Array;function Ka(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Qa(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],v=t[14],y=t[15],_=n[0],b=n[1],w=n[2],x=n[3];return e[0]=_*r+b*s+w*h+x*m,e[1]=_*i+b*u+w*f+x*g,e[2]=_*a+b*l+w*d+x*v,e[3]=_*o+b*c+w*p+x*y,e[4]=(_=n[4])*r+(b=n[5])*s+(w=n[6])*h+(x=n[7])*m,e[5]=_*i+b*u+w*f+x*g,e[6]=_*a+b*l+w*d+x*v,e[7]=_*o+b*c+w*p+x*y,e[8]=(_=n[8])*r+(b=n[9])*s+(w=n[10])*h+(x=n[11])*m,e[9]=_*i+b*u+w*f+x*g,e[10]=_*a+b*l+w*d+x*v,e[11]=_*o+b*c+w*p+x*y,e[12]=(_=n[12])*r+(b=n[13])*s+(w=n[14])*h+(x=n[15])*m,e[13]=_*i+b*u+w*f+x*g,e[14]=_*a+b*l+w*d+x*v,e[15]=_*o+b*c+w*p+x*y,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var eo,to=Qa;function no(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function ro(e,t){var n=no([],[e.x,e.y,0,1],t);return new C(n[0]/n[3],n[1]/n[3])}eo=new Ja(4),Ja!=Float32Array&&(eo[0]=0,eo[1]=0,eo[2]=0,eo[3]=0);var io=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(Oa);vr("HeatmapBucket",io,{omit:["layers"]});var ao={paint:new ri({"heatmap-radius":new Qr(Q.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qr(Q.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Kr(Q.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ni(Q.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Kr(Q.paint_heatmap["heatmap-opacity"])})};function oo(e,t,n,r){var i=t.width,a=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*a*n)throw new RangeError("mismatched image size. expected: ".concat(r.length," but got: ").concat(i*a*n))}else r=new Uint8Array(i*a*n);return e.width=i,e.height=a,e.data=r,e}function so(e,t,n){var r=t.width,i=t.height;if(r!==e.width||i!==e.height){var a=oo({},{width:r,height:i},n);uo(e,a,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=a.data}}function uo(e,t,n,r,i,a){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,u=0;u<i.height;u++)for(var l=((n.y+u)*e.width+n.x)*a,c=((r.y+u)*t.width+r.x)*a,h=0;h<i.width*a;h++)s[c+h]=o[l+h];return t}var lo=function(){function e(t,n){_classCallCheck(this,e),oo(this,t,1,n)}return _createClass(e,[{key:"resize",value:function(e){so(this,e,1)}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,i){uo(e,t,n,r,i,1)}}]),e}(),co=function(){function e(t,n){_classCallCheck(this,e),oo(this,t,4,n)}return _createClass(e,[{key:"resize",value:function(e){so(this,e,4)}},{key:"replace",value:function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,i){uo(e,t,n,r,i,4)}}]),e}();function ho(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new co({width:n,height:r}),a=function(n,r,a){t[e.evaluationKey]=a;var o=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*o.r/o.a),i.data[n+r+1]=Math.floor(255*o.g/o.a),i.data[n+r+2]=Math.floor(255*o.b/o.a),i.data[n+r+3]=Math.floor(255*o.a)};if(e.clips)for(var o=0,s=0;o<r;++o,s+=4*n)for(var u=0,l=0;u<n;u++,l+=4){var c=u/(n-1),h=e.clips[o];a(s,l,h.start*(1-c)+h.end*c)}else for(var f=0,d=0;f<n;f++,d+=4)a(0,d,f/(n-1));return i}vr("AlphaImage",lo),vr("RGBAImage",co);var fo={paint:new ri({"hillshade-illumination-direction":new Kr(Q.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Kr(Q.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Kr(Q.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Kr(Q.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Kr(Q.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Kr(Q.paint_hillshade["hillshade-accent-color"])})},po=li([{name:"a_pos",components:2,type:"Int16"}],4).members,mo={exports:{}};function go(e,t,n){n=n||2;var r,i,a,o,s,u,l,c=t&&t.length,h=c?t[0]*n:e.length,f=vo(e,0,h,n,!0),d=[];if(!f||f.next===f.prev)return d;if(c&&(f=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=vo(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(To(o));for(s.sort(Co),i=0;i<s.length;i++)n=yo(n=So(s[i],n),n.next);return n}(e,t,f,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<h;p+=n)(s=e[p])<r&&(r=s),(u=e[p+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-i))?1/l:0}return _o(f,d,n,r,i,l),d}function vo(e,t,n,r,i){var a,o;if(i===Bo(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Yo(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Yo(a,e[a],e[a+1],o);return o&&Ao(o,o.next)&&(zo(o),o=o.next),o}function yo(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Ao(r,r.next)&&0!==Do(r.prev,r,r.next))r=r.next;else{if(zo(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function _o(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Eo(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?wo(e,r,i,a):bo(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),zo(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?_o(e=xo(yo(e),t,n),t,n,r,i,a,2):2===o&&ko(e,t,n,r,i,a):_o(yo(e),t,n,r,i,a,1);break}}}function bo(e){var t=e.prev,n=e,r=e.next;if(Do(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Lo(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Do(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function wo(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Do(i,a,o)>=0)return!1;for(var s=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,l=Eo(i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,t,n,r),c=Eo(s,u,t,n,r),h=e.prevZ,f=e.nextZ;h&&h.z>=l&&f&&f.z<=c;){if(h!==e.prev&&h!==e.next&&Lo(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&Do(h.prev,h,h.next)>=0||(h=h.prevZ,f!==e.prev&&f!==e.next&&Lo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Do(f.prev,f,f.next)>=0))return!1;f=f.nextZ}for(;h&&h.z>=l;){if(h!==e.prev&&h!==e.next&&Lo(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&Do(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;f&&f.z<=c;){if(f!==e.prev&&f!==e.next&&Lo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Do(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function xo(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Ao(i,a)&&Po(i,r,r.next,a)&&Ro(i,a)&&Ro(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),zo(r),zo(r.next),r=e=a),r=r.next}while(r!==e);return yo(r)}function ko(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Io(o,s)){var u=Fo(o,s);return o=yo(o,o.next),u=yo(u,u.next),_o(o,t,n,r,i,a),void _o(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function Co(e,t){return e.x-t.x}function So(e,t){var n=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var u,l=n,c=n.x,h=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Lo(a<h?i:o,a,c,h,a<h?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),Ro(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&Mo(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var r=Fo(n,e),i=yo(n,n.next);return yo(r,r.next),t===n?i:t}function Mo(e,t){return Do(e.prev,e,t.prev)<0&&Do(t.next,e,e.next)<0}function Eo(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function To(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Lo(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Io(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Po(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ro(e,t)&&Ro(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Do(e.prev,e,t.prev)||Do(e,t.prev,t))||Ao(e,t)&&Do(e.prev,e,e.next)>0&&Do(t.prev,t,t.next)>0)}function Do(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ao(e,t){return e.x===t.x&&e.y===t.y}function Po(e,t,n,r){var i=No(Do(e,t,n)),a=No(Do(e,t,r)),o=No(Do(n,r,e)),s=No(Do(n,r,t));return i!==a&&o!==s||!(0!==i||!Oo(e,n,t))||!(0!==a||!Oo(e,r,t))||!(0!==o||!Oo(n,e,r))||!(0!==s||!Oo(n,t,r))}function Oo(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function No(e){return e>0?1:e<0?-1:0}function Ro(e,t){return Do(e.prev,e,e.next)<0?Do(e,t,e.next)>=0&&Do(e,e.prev,t)>=0:Do(e,t,e.prev)<0||Do(e,e.next,t)<0}function Fo(e,t){var n=new jo(e.i,e.x,e.y),r=new jo(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Yo(e,t,n,r){var i=new jo(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function jo(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Bo(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}mo.exports=go,mo.exports.default=go,go.deviation=function(e,t,n,r){var i=t&&t.length,a=Math.abs(Bo(e,0,i?t[0]*n:e.length,n));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(Bo(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var u=0;for(o=0;o<r.length;o+=3){var l=r[o]*n,c=r[o+1]*n,h=r[o+2]*n;u+=Math.abs((e[l]-e[h])*(e[c+1]-e[l+1])-(e[l]-e[c])*(e[h+1]-e[l+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},go.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&n.holes.push(r+=e[i-1].length)}return n};var Ho=mo.exports;function Uo(e,t,n,r,i){Vo(e,t,n||0,r||e.length-1,i||qo)}function Vo(e,t,n,r,i){for(;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,s=Math.log(a),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(a-u)/a)*(o-a/2<0?-1:1);Vo(e,t,Math.max(n,Math.floor(t-o*u/a+l)),Math.min(r,Math.floor(t+(a-o)*u/a+l)),i)}var c=e[t],h=n,f=r;for(Go(e,n,t),i(e[r],c)>0&&Go(e,n,r);h<f;){for(Go(e,h,f),h++,f--;i(e[h],c)<0;)h++;for(;i(e[f],c)>0;)f--}0===i(e[n],c)?Go(e,n,f):Go(e,++f,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function Go(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function qo(e,t){return e<t?-1:e>t?1:0}function Wo(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,a=[],o=0;o<n;o++){var s=g(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&a.push(r),r=[e[o]]):r.push(e[o]))}if(r&&a.push(r),t>1)for(var u=0;u<a.length;u++)a[u].length<=t||(Uo(a[u],t,1,a[u].length-1,$o),a[u]=a[u].slice(0,t));return a}function $o(e,t){return t.area-e.area}function Xo(e,t,n){var r,i=n.patternDependencies,a=!1,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var s=r.value.paint.get("".concat(e,"-pattern"));s.isConstant()||(a=!0);var u=s.constantOr(null);u&&(a=!0,i[u.to]=!0,i[u.from]=!0)}}catch(l){o.e(l)}finally{o.f()}return a}function Zo(e,t,n,r,i){var a,o=i.patternDependencies,s=_createForOfIteratorHelper(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=u.paint.get("".concat(e,"-pattern")).value;if("constant"!==l.kind){var c=l.evaluate({zoom:r-1},n,{},i.availableImages),h=l.evaluate({zoom:r},n,{},i.availableImages),f=l.evaluate({zoom:r+1},n,{},i.availableImages);c=c&&c.name?c.name:c,h=h&&h.name?h.name:h,f=f&&f.name?f.name:f,o[c]=!0,o[h]=!0,o[f]=!0,n.patterns[u.id]={min:c,mid:h,max:f}}}}catch(d){s.e(d)}finally{s.f()}return n}var Jo=function(){function e(t){_classCallCheck(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Vi,this.indexArray=new ea,this.indexArray2=new ta,this.programConfigurations=new Sa(t.layers,t.zoom),this.segments=new ra,this.segments2=new ra,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})}return _createClass(e,[{key:"populate",value:function(e,t,n){this.hasPattern=Xo("fill",this.layers,t);var r,i=this.layers[0].layout.get("fill-sort-key"),a=!i.isConstant(),o=[],s=_createForOfIteratorHelper(e);try{for(s.s();!(r=s.n()).done;){var u=r.value,l=u.feature,c=u.id,h=u.index,f=u.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,p=Aa(l,d);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),p,n)){var m=a?i.evaluate(p,{},n,t.availableImages):void 0,g={id:c,properties:l.properties,type:l.type,sourceLayerIndex:f,index:h,geometry:d?p.geometry:Da(l),patterns:{},sortKey:m};o.push(g)}}}catch(C){s.e(C)}finally{s.f()}a&&o.sort(function(e,t){return e.sortKey-t.sortKey});for(var v=0,y=o;v<y.length;v++){var _=y[v],b=_.geometry,w=_.index,x=_.sourceLayerIndex;if(this.hasPattern){var k=Zo("fill",this.layers,_,this.zoom,t);this.patternFeatures.push(k)}else this.addFeature(_,b,w,n,{});t.featureIndex.insert(e[w].feature,b,w,x,this.index)}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}},{key:"addFeatures",value:function(e,t,n){var r,i=_createForOfIteratorHelper(this.patternFeatures);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.addFeature(a,a.geometry,a.index,t,n)}}catch(o){i.e(o)}finally{i.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,po),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}},{key:"addFeature",value:function(e,t,n,r,i){var a,o=_createForOfIteratorHelper(Wo(t,500));try{for(o.s();!(a=o.n()).done;){var s,u=a.value,l=0,c=_createForOfIteratorHelper(u);try{for(c.s();!(s=c.n()).done;){l+=s.value.length}}catch(k){c.e(k)}finally{c.f()}var h,f=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),d=f.vertexLength,p=[],m=[],g=_createForOfIteratorHelper(u);try{for(g.s();!(h=g.n()).done;){var v=h.value;if(0!==v.length){v!==u[0]&&m.push(p.length/2);var y=this.segments2.prepareSegment(v.length,this.layoutVertexArray,this.indexArray2),_=y.vertexLength;this.layoutVertexArray.emplaceBack(v[0].x,v[0].y),this.indexArray2.emplaceBack(_+v.length-1,_),p.push(v[0].x),p.push(v[0].y);for(var b=1;b<v.length;b++)this.layoutVertexArray.emplaceBack(v[b].x,v[b].y),this.indexArray2.emplaceBack(_+b-1,_+b),p.push(v[b].x),p.push(v[b].y);y.vertexLength+=v.length,y.primitiveLength+=v.length}}}catch(k){g.e(k)}finally{g.f()}for(var w=Ho(p,m),x=0;x<w.length;x+=3)this.indexArray.emplaceBack(d+w[x],d+w[x+1],d+w[x+2]);f.vertexLength+=l,f.primitiveLength+=w.length/3}}catch(k){o.e(k)}finally{o.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}}]),e}();vr("FillBucket",Jo,{omit:["layers","patternFeatures"]});var Ko=new ri({"fill-sort-key":new Qr(Q.layout_fill["fill-sort-key"])}),Qo={paint:new ri({"fill-antialias":new Kr(Q.paint_fill["fill-antialias"]),"fill-opacity":new Qr(Q.paint_fill["fill-opacity"]),"fill-color":new Qr(Q.paint_fill["fill-color"]),"fill-outline-color":new Qr(Q.paint_fill["fill-outline-color"]),"fill-translate":new Kr(Q.paint_fill["fill-translate"]),"fill-translate-anchor":new Kr(Q.paint_fill["fill-translate-anchor"]),"fill-pattern":new ei(Q.paint_fill["fill-pattern"])}),layout:Ko},es=li([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ts={},ns=C,rs=is;function is(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(as,this,t)}function as(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function os(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)r+=((n=e[o]).x-(t=e[i]).x)*(t.y+n.y);return r}is.types=["Unknown","Point","LineString","Polygon"],is.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,a=0,o=0,s=[];e.pos<n;){if(i<=0){var u=e.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)a+=e.readSVarint(),o+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new ns(a,o));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},is.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<u&&(u=a),a>l&&(l=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,u,s,l]},is.prototype.toGeoJSON=function(e,t,n){var r,i,a=this.extent*Math.pow(2,n),o=this.extent*e,s=this.extent*t,u=this.loadGeometry(),l=is.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(r=0;r<u.length;r++)h[r]=u[r][0];c(u=h);break;case 2:for(r=0;r<u.length;r++)c(u[r]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var o=os(e[a]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)c(u[r][i])}1===u.length?u=u[0]:l="Multi"+l;var f={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(f.id=this.id),f};var ss=rs,us=ls;function ls(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(cs,this,t),this.length=this._features.length}function cs(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}ls.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ss(this._pbf,t,this.extent,this._keys,this._values)};var hs=us;function fs(e,t,n){if(3===e){var r=new hs(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}ts.VectorTile=function(e,t){this.layers=e.readFields(fs,{},t)},ts.VectorTileFeature=rs,ts.VectorTileLayer=us;var ds=ts.VectorTileFeature.types,ps=Math.pow(2,13);function ms(e,t,n,r,i,a,o,s){e.emplaceBack(t,n,2*Math.floor(r*ps)+o,i*ps*2,a*ps*2,Math.round(s))}var gs=function(){function e(t){_classCallCheck(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Gi,this.indexArray=new ea,this.programConfigurations=new Sa(t.layers,t.zoom),this.segments=new ra,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})}return _createClass(e,[{key:"populate",value:function(e,t,n){this.features=[],this.hasPattern=Xo("fill-extrusion",this.layers,t);var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.feature,s=a.id,u=a.index,l=a.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,h=Aa(o,c);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),h,n)){var f={id:s,sourceLayerIndex:l,index:u,geometry:c?h.geometry:Da(o),properties:o.properties,type:o.type,patterns:{}};this.hasPattern?this.features.push(Zo("fill-extrusion",this.layers,f,this.zoom,t)):this.addFeature(f,f.geometry,u,n,{}),t.featureIndex.insert(o,f.geometry,u,l,this.index,!0)}}}catch(d){i.e(d)}finally{i.f()}}},{key:"addFeatures",value:function(e,t,n){var r,i=_createForOfIteratorHelper(this.features);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.geometry;this.addFeature(a,o,a.index,t,n)}}catch(s){i.e(s)}finally{i.f()}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,es),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(e,t,n,r,i){var a,o,s=_createForOfIteratorHelper(Wo(t,500));try{for(s.s();!(a=s.n()).done;){var u,l=a.value,c=0,h=_createForOfIteratorHelper(l);try{for(h.s();!(u=h.n()).done;){c+=u.value.length}}catch(P){h.e(P)}finally{h.f()}var f,d=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=_createForOfIteratorHelper(l);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(!(0===m.length||(o=m).every(function(e){return e.x<0})||o.every(function(e){return e.x>Ta})||o.every(function(e){return e.y<0})||o.every(function(e){return e.y>Ta})))for(var g=0,v=0;v<m.length;v++){var y=m[v];if(v>=1){var _=m[v-1];if(!vs(y,_)){d.vertexLength+4>ra.MAX_VERTEX_ARRAY_LENGTH&&(d=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var b=y.sub(_)._perp()._unit(),w=_.dist(y);g+w>32768&&(g=0),ms(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,0,g),ms(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,1,g),g+=w,ms(this.layoutVertexArray,_.x,_.y,b.x,b.y,0,0,g),ms(this.layoutVertexArray,_.x,_.y,b.x,b.y,0,1,g);var x=d.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),d.vertexLength+=4,d.primitiveLength+=2}}}}}catch(P){p.e(P)}finally{p.f()}if(d.vertexLength+c>ra.MAX_VERTEX_ARRAY_LENGTH&&(d=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray)),"Polygon"===ds[e.type]){var k,C=[],S=[],M=d.vertexLength,E=_createForOfIteratorHelper(l);try{for(E.s();!(k=E.n()).done;){var T=k.value;if(0!==T.length){T!==l[0]&&S.push(C.length/2);for(var L=0;L<T.length;L++){var I=T[L];ms(this.layoutVertexArray,I.x,I.y,0,0,1,1,0),C.push(I.x),C.push(I.y)}}}}catch(P){E.e(P)}finally{E.f()}for(var D=Ho(C,S),A=0;A<D.length;A+=3)this.indexArray.emplaceBack(M+D[A],M+D[A+2],M+D[A+1]);d.primitiveLength+=D.length/3,d.vertexLength+=c}}}catch(P){s.e(P)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}}]),e}();function vs(e,t){return e.x===t.x&&(e.x<0||e.x>Ta)||e.y===t.y&&(e.y<0||e.y>Ta)}vr("FillExtrusionBucket",gs,{omit:["layers","features"]});var ys={paint:new ri({"fill-extrusion-opacity":new Kr(Q["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qr(Q["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Kr(Q["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Kr(Q["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ei(Q["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qr(Q["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qr(Q["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Kr(Q["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function _s(e,t){return e.x*t.x+e.y*t.y}function bs(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var a=t[r],o=e[0],s=n.sub(i),u=a.sub(i),l=o.sub(i),c=_s(s,s),h=_s(s,u),f=_s(u,u),d=_s(l,s),p=_s(l,u),m=c*f-h*h,g=(f*d-h*p)/m,v=(c*p-h*d)/m,y=i.z*(1-g-v)+n.z*g+a.z*v;if(isFinite(y))return y}return 1/0}var _,b=1/0,w=_createForOfIteratorHelper(t);try{for(w.s();!(_=w.n()).done;){var x=_.value;b=Math.min(b,x.z)}}catch(k){w.e(k)}finally{w.f()}return b}var ws=li([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,xs=li([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,ks=ts.VectorTileFeature.types,Cs=Math.cos(Math.PI/180*37.5),Ss=Math.pow(2,14)/.5,Ms=function(){function e(t){var n=this;_classCallCheck(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(e){n.gradients[e.id]={}}),this.layoutVertexArray=new qi,this.layoutVertexArray2=new Wi,this.indexArray=new ea,this.programConfigurations=new Sa(t.layers,t.zoom),this.segments=new ra,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})}return _createClass(e,[{key:"populate",value:function(e,t,n){this.hasPattern=Xo("line",this.layers,t);var r,i=this.layers[0].layout.get("line-sort-key"),a=!i.isConstant(),o=[],s=_createForOfIteratorHelper(e);try{for(s.s();!(r=s.n()).done;){var u=r.value,l=u.feature,c=u.id,h=u.index,f=u.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,p=Aa(l,d);if(this.layers[0]._featureFilter.filter(new Ur(this.zoom),p,n)){var m=a?i.evaluate(p,{},n):void 0,g={id:c,properties:l.properties,type:l.type,sourceLayerIndex:f,index:h,geometry:d?p.geometry:Da(l),patterns:{},sortKey:m};o.push(g)}}}catch(C){s.e(C)}finally{s.f()}a&&o.sort(function(e,t){return e.sortKey-t.sortKey});for(var v=0,y=o;v<y.length;v++){var _=y[v],b=_.geometry,w=_.index,x=_.sourceLayerIndex;if(this.hasPattern){var k=Zo("line",this.layers,_,this.zoom,t);this.patternFeatures.push(k)}else this.addFeature(_,b,w,n,{});t.featureIndex.insert(e[w].feature,b,w,x,this.index)}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}},{key:"addFeatures",value:function(e,t,n){var r,i=_createForOfIteratorHelper(this.patternFeatures);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.addFeature(a,a.geometry,a.index,t,n)}}catch(o){i.e(o)}finally{i.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,xs)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ws),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"lineFeatureClips",value:function(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}},{key:"addFeature",value:function(e,t,n,r,i){var a=this.layers[0].layout,o=a.get("line-join").evaluate(e,{}),s=a.get("line-cap"),u=a.get("line-miter-limit"),l=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);var c,h=_createForOfIteratorHelper(t);try{for(h.s();!(c=h.n()).done;){var f=c.value;this.addLine(f,e,o,s,u,l)}}catch(d){h.e(d)}finally{h.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}},{key:"addLine",value:function(e,t,n,r,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===ks[t.type],u=e.length;u>=2&&e[u-1].equals(e[u-2]);)u--;for(var l=0;l<u-1&&e[l].equals(e[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var c,h,f,d,p,m=this.overscaling<=16?122880/(512*this.overscaling):0,g=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray);this.e1=this.e2=-1,s&&(c=e[u-2],p=e[l].sub(c)._unit()._perp());for(var v=l;v<u;v++)if(!(f=v===u-1?s?e[l+1]:void 0:e[v+1])||!e[v].equals(f)){p&&(d=p),c&&(h=c),c=e[v],p=f?f.sub(c)._unit()._perp():d;var y=(d=d||p).add(p);0===y.x&&0===y.y||y._unit();var _=d.x*p.x+d.y*p.y,b=y.x*p.x+y.y*p.y,w=0!==b?1/b:1/0,x=2*Math.sqrt(2-2*b),k=b<Cs&&h&&f,C=d.x*p.y-d.y*p.x>0;if(k&&v>l){var S=c.dist(h);if(S>2*m){var M=c.sub(c.sub(h)._mult(m/S)._round());this.updateDistance(h,M),this.addCurrentVertex(M,d,0,0,g),h=M}}var E=h&&f,T=E?n:s?"butt":r;if(E&&"round"===T&&(w<a?T="miter":w<=2&&(T="fakeround")),"miter"===T&&w>i&&(T="bevel"),"bevel"===T&&(w>2&&(T="flipbevel"),w<i&&(T="miter")),h&&this.updateDistance(h,c),"miter"===T)y._mult(w),this.addCurrentVertex(c,y,0,0,g);else if("flipbevel"===T){if(w>100)y=p.mult(-1);else{var L=w*d.add(p).mag()/d.sub(p).mag();y._perp()._mult(L*(C?-1:1))}this.addCurrentVertex(c,y,0,0,g),this.addCurrentVertex(c,y.mult(-1),0,0,g)}else if("bevel"===T||"fakeround"===T){var I=-Math.sqrt(w*w-1),D=C?I:0,A=C?0:I;if(h&&this.addCurrentVertex(c,d,D,A,g),"fakeround"===T)for(var P=Math.round(180*x/Math.PI/20),O=1;O<P;O++){var N=O/P;if(.5!==N){var R=N-.5;N+=N*R*(N-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*R*R+(.848013+_*(.215638*_-1.06021)))}var F=p.sub(d)._mult(N)._add(d)._unit()._mult(C?-1:1);this.addHalfVertex(c,F.x,F.y,!1,C,0,g)}f&&this.addCurrentVertex(c,p,-D,-A,g)}else if("butt"===T)this.addCurrentVertex(c,y,0,0,g);else if("square"===T){var Y=h?1:-1;this.addCurrentVertex(c,y,Y,Y,g)}else"round"===T&&(h&&(this.addCurrentVertex(c,d,0,0,g),this.addCurrentVertex(c,d,1,1,g,!0)),f&&(this.addCurrentVertex(c,p,-1,-1,g,!0),this.addCurrentVertex(c,p,0,0,g)));if(k&&v<u-1){var z=c.dist(f);if(z>2*m){var j=c.add(f.sub(c)._mult(m/z)._round());this.updateDistance(c,j),this.addCurrentVertex(j,p,0,0,g),c=j}}}}}},{key:"addCurrentVertex",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,a,!1,n,i),this.addHalfVertex(e,o,s,a,!0,-r,i),this.distance>Ss/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,a))}},{key:"addHalfVertex",value:function(e,t,n,r,i,a,o){var s=e.x,u=e.y,l=.5*(this.lineClips?this.scaledDistance*(Ss-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((s<<1)+(r?1:0),(u<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var c=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),o.primitiveLength++),i?this.e2=c:this.e1=c}},{key:"updateScaledDistance",value:function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}},{key:"updateDistance",value:function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}]),e}();vr("LineBucket",Ms,{omit:["layers","patternFeatures"]});var Es=new ri({"line-cap":new Kr(Q.layout_line["line-cap"]),"line-join":new Qr(Q.layout_line["line-join"]),"line-miter-limit":new Kr(Q.layout_line["line-miter-limit"]),"line-round-limit":new Kr(Q.layout_line["line-round-limit"]),"line-sort-key":new Qr(Q.layout_line["line-sort-key"])}),Ts={paint:new ri({"line-opacity":new Qr(Q.paint_line["line-opacity"]),"line-color":new Qr(Q.paint_line["line-color"]),"line-translate":new Kr(Q.paint_line["line-translate"]),"line-translate-anchor":new Kr(Q.paint_line["line-translate-anchor"]),"line-width":new Qr(Q.paint_line["line-width"]),"line-gap-width":new Qr(Q.paint_line["line-gap-width"]),"line-offset":new Qr(Q.paint_line["line-offset"]),"line-blur":new Qr(Q.paint_line["line-blur"]),"line-dasharray":new ti(Q.paint_line["line-dasharray"]),"line-pattern":new ei(Q.paint_line["line-pattern"]),"line-gradient":new ni(Q.paint_line["line-gradient"])}),layout:Es},Ls=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"possiblyEvaluate",value:function(e,t){return t=new Ur(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),_get(_getPrototypeOf(n.prototype),"possiblyEvaluate",this).call(this,e,t)}},{key:"evaluate",value:function(e,t,r,i){return t=s({},t,{zoom:Math.floor(t.zoom)}),_get(_getPrototypeOf(n.prototype),"evaluate",this).call(this,e,t,r,i)}}]),n}(Qr))(Ts.paint.properties["line-width"].specification);function Is(e,t){return t>0?t+2*e:e}Ls.useIntegerZoom=!0;var Ds=li([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),As=li([{name:"a_projected_pos",components:3,type:"Float32"}],4);li([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var Ps=li([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);li([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var Os=li([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Ns=li([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Rs(e,t,n){return e.sections.forEach(function(e){var r,i,a;e.text=(r=e.text,i=n,"uppercase"===(a=t.layout.get("text-transform").evaluate(i,{}))?r=r.toLocaleUpperCase():"lowercase"===a&&(r=r.toLocaleLowerCase()),Hr.applyArabicShaping&&(r=Hr.applyArabicShaping(r)),r)}),e}li([{name:"triangle",components:3,type:"Uint16"}]),li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),li([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),li([{type:"Float32",name:"offsetX"}]),li([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Fs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ys=Bs,zs=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+h],h+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=l}return(d?-1:1)*o*Math.pow(2,a-r)},js=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=c?(s=0,o=c):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+d]=255&o,d+=p,o/=256,l-=8);e[n+d-p]|=128*m};function Bs(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Bs.Varint=0,Bs.Fixed64=1,Bs.Bytes=2,Bs.Fixed32=5;var Hs,Us=4294967296,Vs=1/Us,Gs="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function qs(e){return e.type===Bs.Bytes?e.readVarint()+e.pos:e.pos+1}function Ws(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function $s(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Xs(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Zs(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Js(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function Ks(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Qs(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function eu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function tu(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function nu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function ru(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function iu(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function au(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function ou(e,t,n){1===e&&n.readMessage(su,t)}function su(e,t,n){if(3===e){var r=n.readMessage(uu,{}),i=r.id,a=r.bitmap,o=r.width,s=r.height,u=r.left,l=r.top,c=r.advance;t.push({id:i,bitmap:new lo({width:o+6,height:s+6},a),metrics:{width:o,height:s,left:u,top:l,advance:c}})}}function uu(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function lu(e){var t,n=0,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n+=a.w*a.h,r=Math.max(r,a.w)}}catch(m){i.e(m)}finally{i.f()}e.sort(function(e,t){return t.h-e.h});var o,s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),r),h:1/0}],u=0,l=0,c=_createForOfIteratorHelper(e);try{for(c.s();!(o=c.n()).done;)for(var h=o.value,f=s.length-1;f>=0;f--){var d=s[f];if(!(h.w>d.w||h.h>d.h)){if(h.x=d.x,h.y=d.y,l=Math.max(l,h.y+h.h),u=Math.max(u,h.x+h.w),h.w===d.w&&h.h===d.h){var p=s.pop();f<s.length&&(s[f]=p)}else h.h===d.h?(d.x+=h.w,d.w-=h.w):h.w===d.w?(d.y+=h.h,d.h-=h.h):(s.push({x:d.x+h.w,y:d.y,w:d.w-h.w,h:h.h}),d.y+=h.h,d.h-=h.h);break}}}catch(m){c.e(m)}finally{c.f()}return{w:u,h:l,fill:n/(u*l)||0}}Bs.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=ru(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=au(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=ru(this.buf,this.pos)+ru(this.buf,this.pos+4)*Us;return this.pos+=8,e},readSFixed64:function(){var e=ru(this.buf,this.pos)+au(this.buf,this.pos+4)*Us;return this.pos+=8,e},readFloat:function(){var e=zs(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=zs(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,a=n.buf;if(r=(112&(i=a[n.pos++]))>>4,i<128||(r|=(127&(i=a[n.pos++]))<<3,i<128)||(r|=(127&(i=a[n.pos++]))<<10,i<128)||(r|=(127&(i=a[n.pos++]))<<17,i<128)||(r|=(127&(i=a[n.pos++]))<<24,i<128)||(r|=(1&(i=a[n.pos++]))<<31,i<128))return function(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Gs?Gs.decode(this.buf.subarray(t,e)):function(e,t,n){for(var r="",i=t;i<n;){var a,o,s,u=e[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(a=e[i+1]))&&(l=(31&u)<<6|63&a)<=127&&(l=null):3===c?(o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&((l=(15&u)<<12|(63&a)<<6|63&o)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&((l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Bs.Bytes)return e.push(this.readVarint(t));var n=qs(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Bs.Bytes)return e.push(this.readSVarint());var t=qs(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Bs.Bytes)return e.push(this.readBoolean());var t=qs(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Bs.Bytes)return e.push(this.readFloat());var t=qs(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Bs.Bytes)return e.push(this.readDouble());var t=qs(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Bs.Bytes)return e.push(this.readFixed32());var t=qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Bs.Bytes)return e.push(this.readSFixed32());var t=qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Bs.Bytes)return e.push(this.readFixed64());var t=qs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Bs.Bytes)return e.push(this.readSFixed64());var t=qs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Bs.Varint)for(;this.buf[this.pos++]>127;);else if(t===Bs.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Bs.Fixed32)this.pos+=4;else{if(t!==Bs.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),iu(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),iu(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),iu(this.buf,-1&e,this.pos),iu(this.buf,Math.floor(e*Vs),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),iu(this.buf,-1&e,this.pos),iu(this.buf,Math.floor(e*Vs),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r,i,a;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),i=n,(a=t).buf[a.pos++]=127&i|128,i>>>=7,a.buf[a.pos++]=127&i|128,i>>>=7,a.buf[a.pos++]=127&i|128,i>>>=7,a.buf[a.pos++]=127&i|128,a.buf[a.pos]=127&(i>>>=7),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,a=0;a<t.length;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&Ws(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),js(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),js(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&Ws(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Bs.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,$s,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Xs,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Ks,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Zs,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Js,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Qs,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,eu,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,tu,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,nu,t)},writeBytesField:function(e,t){this.writeTag(e,Bs.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Bs.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Bs.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Bs.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Bs.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Bs.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Bs.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Bs.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Bs.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Bs.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var cu=function(){function e(t,n){var r=n.pixelRatio,i=n.version,a=n.stretchX,o=n.stretchY,s=n.content;_classCallCheck(this,e),this.paddedRect=t,this.pixelRatio=r,this.stretchX=a,this.stretchY=o,this.content=s,this.version=i}return _createClass(e,[{key:"tl",get:function(){return[this.paddedRect.x+1,this.paddedRect.y+1]}},{key:"br",get:function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}},{key:"tlbr",get:function(){return this.tl.concat(this.br)}},{key:"displaySize",get:function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}]),e}(),hu=function(){function e(t,n){_classCallCheck(this,e);var r={},i={};this.haveRenderCallbacks=[];var a=[];this.addImages(t,r,a),this.addImages(n,i,a);var o=lu(a),s=o.w,u=o.h,l=new co({width:s||1,height:u||1});for(var c in t){var h=t[c],f=r[c].paddedRect;co.copy(h.data,l,{x:0,y:0},{x:f.x+1,y:f.y+1},h.data)}for(var d in n){var p=n[d],m=i[d].paddedRect,g=m.x+1,v=m.y+1,y=p.data.width,_=p.data.height;co.copy(p.data,l,{x:0,y:0},{x:g,y:v},p.data),co.copy(p.data,l,{x:0,y:_-1},{x:g,y:v-1},{width:y,height:1}),co.copy(p.data,l,{x:0,y:0},{x:g,y:v+_},{width:y,height:1}),co.copy(p.data,l,{x:y-1,y:0},{x:g-1,y:v},{width:1,height:_}),co.copy(p.data,l,{x:0,y:0},{x:g+y,y:v},{width:1,height:_})}this.image=l,this.iconPositions=r,this.patternPositions=i}return _createClass(e,[{key:"addImages",value:function(e,t,n){for(var r in e){var i=e[r],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(a),t[r]=new cu(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}},{key:"patchUpdatedImages",value:function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}},{key:"patchUpdatedImage",value:function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=_slicedToArray(e.tl,2),i=r[0],a=r[1];n.update(t.data,void 0,{x:i,y:a})}}}]),e}();vr("ImagePosition",cu),vr("ImageAtlas",hu),e.WritingMode=void 0,(Hs=e.WritingMode||(e.WritingMode={}))[Hs.none=0]="none",Hs[Hs.horizontal=1]="horizontal",Hs[Hs.vertical=2]="vertical",Hs[Hs.horizontalOnly=3]="horizontalOnly";var fu=function(){function e(){_classCallCheck(this,e),this.scale=1,this.fontStack="",this.imageName=null}return _createClass(e,null,[{key:"forText",value:function(t,n){var r=new e;return r.scale=t||1,r.fontStack=n,r}},{key:"forImage",value:function(t){var n=new e;return n.imageName=t,n}}]),e}(),du=function(){function e(){_classCallCheck(this,e),this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}return _createClass(e,[{key:"length",value:function(){return this.text.length}},{key:"getSection",value:function(e){return this.sections[this.sectionIndex[e]]}},{key:"getSectionIndex",value:function(e){return this.sectionIndex[e]}},{key:"getCharCode",value:function(e){return this.text.charCodeAt(e)}},{key:"verticalizePunctuation",value:function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&Er(r)&&!Fs[e[n+1]]||i&&Er(i)&&!Fs[e[n-1]]||!Fs[e[n]]?e[n]:Fs[e[n]]}return t}(this.text)}},{key:"trim",value:function(){for(var e=0,t=0;t<this.text.length&&mu[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&mu[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)}},{key:"substring",value:function(t,n){var r=new e;return r.text=this.text.substring(t,n),r.sectionIndex=this.sectionIndex.slice(t,n),r.sections=this.sections,r}},{key:"toString",value:function(){return this.text}},{key:"getMaxScale",value:function(){var e=this;return this.sectionIndex.reduce(function(t,n){return Math.max(t,e.sections[n].scale)},0)}},{key:"addTextSection",value:function(e,t){this.text+=e.text,this.sections.push(fu.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)}},{key:"addImageSection",value:function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(fu.forImage(t)),this.sectionIndex.push(this.sections.length-1)):p("Reached maximum number of images 6401")}else p("Can't add FormattedSection with an empty image.")}},{key:"getNextImageSectionCharCode",value:function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}],[{key:"fromFeature",value:function(t,n){for(var r=new e,i=0;i<t.sections.length;i++){var a=t.sections[i];a.image?r.addImageSection(a):r.addTextSection(a,n)}return r}}]),e}();function pu(t,n,r,i,a,o,s,u,l,c,h,f,d,p,m,g){var v,y=du.fromFeature(t,a);f===e.WritingMode.vertical&&y.verticalizePunctuation();var _=Hr.processBidirectionalText,b=Hr.processStyledBidirectionalText;if(_&&1===y.sections.length){v=[];var w,x=_createForOfIteratorHelper(_(y.toString(),xu(y,c,o,n,i,p,m)));try{for(x.s();!(w=x.n()).done;){var k=w.value,C=new du;C.text=k,C.sections=y.sections;for(var S=0;S<k.length;S++)C.sectionIndex.push(0);v.push(C)}}catch(A){x.e(A)}finally{x.f()}}else if(b){v=[];var M,E=_createForOfIteratorHelper(b(y.text,y.sectionIndex,xu(y,c,o,n,i,p,m)));try{for(E.s();!(M=E.n()).done;){var T=M.value,L=new du;L.text=T[0],L.sectionIndex=T[1],L.sections=y.sections,v.push(L)}}catch(A){E.e(A)}finally{E.f()}}else v=function(e,t){var n,r=[],i=e.text,a=0,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.push(e.substring(a,s)),a=s}}catch(A){o.e(A)}finally{o.f()}return a<i.length&&r.push(e.substring(a,i.length)),r}(y,xu(y,c,o,n,i,p,m));var I=[],D={positionedLines:I,text:y.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(t,n,r,i,a,o,s,u,l,c,h,f){var d,p,m=0,g=-17,v=0,y=0,_="right"===u?1:"left"===u?0:.5,b=0,w=_createForOfIteratorHelper(a);try{for(w.s();!(d=w.n()).done;){var x=d.value;x.trim();var k=x.getMaxScale(),C=24*(k-1),S={positionedGlyphs:[],lineOffset:0};t.positionedLines[b]=S;var M=S.positionedGlyphs,E=0;if(x.length()){for(var T=0;T<x.length();T++){var L=x.getSection(T),I=x.getSectionIndex(T),D=x.getCharCode(T),P=0,O=null,N=null,R=null,F=24,Y=!(l===e.WritingMode.horizontal||!h&&!Mr(D)||h&&(mu[D]||(p=D,kr.Arabic(p)||kr["Arabic Supplement"](p)||kr["Arabic Extended-A"](p)||kr["Arabic Presentation Forms-A"](p)||kr["Arabic Presentation Forms-B"](p))));if(L.imageName){var z=i[L.imageName];if(!z)continue;R=L.imageName,t.iconsInText=t.iconsInText||!0,N=z.paddedRect;var j=z.displaySize;L.scale=24*L.scale/f,O={width:j[0],height:j[1],left:1,top:-3,advance:Y?j[1]:j[0]},P=C+(24-j[1]*L.scale),F=O.advance;var B=Y?j[0]*L.scale-24*k:j[1]*L.scale-24*k;B>0&&B>E&&(E=B)}else{var H=r[L.fontStack],U=H&&H[D];if(U&&U.rect)N=U.rect,O=U.metrics;else{var V=n[L.fontStack],G=V&&V[D];if(!G)continue;O=G.metrics}P=24*(k-L.scale)}Y?(t.verticalizable=!0,M.push({glyph:D,imageName:R,x:m,y:g+P,vertical:Y,scale:L.scale,fontStack:L.fontStack,sectionIndex:I,metrics:O,rect:N}),m+=F*L.scale+c):(M.push({glyph:D,imageName:R,x:m,y:g+P,vertical:Y,scale:L.scale,fontStack:L.fontStack,sectionIndex:I,metrics:O,rect:N}),m+=O.advance*L.scale+c)}0!==M.length&&(v=Math.max(m-c,v),Cu(M,0,M.length-1,_,E)),m=0;var q=o*k+E;S.lineOffset=Math.max(E,C),g+=q,y=Math.max(q,y),++b}else g+=o,++b}}catch(A){w.e(A)}finally{w.f()}var W=g- -17,$=ku(s),X=$.horizontalAlign,Z=$.verticalAlign;(function(e,t,n,r,i,a,o,s,u){var l,c=(t-n)*i;l=a!==o?-s*r- -17:(-r*u+.5)*o;var h,f=_createForOfIteratorHelper(e);try{for(f.s();!(h=f.n()).done;){var d,p=_createForOfIteratorHelper(h.value.positionedGlyphs);try{for(p.s();!(d=p.n()).done;){var m=d.value;m.x+=c,m.y+=l}}catch(A){p.e(A)}finally{p.f()}}}catch(A){f.e(A)}finally{f.f()}})(t.positionedLines,_,X,Z,v,y,o,W,a.length),t.top+=-Z*W,t.bottom=t.top+W,t.left+=-X*v,t.right=t.left+v}(D,n,r,i,v,s,u,l,f,c,d,g),!function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){if(0!==t.value.positionedGlyphs.length)return!1}}catch(A){n.e(A)}finally{n.f()}return!0}(I)&&D}var mu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},gu={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function vu(e,t,n,r,i,a){if(t.imageName){var o=r[t.imageName];return o?o.displaySize[0]*t.scale*24/a+i:0}var s=n[t.fontStack],u=s&&s[e];return u?u.metrics.advance*t.scale+i:0}function yu(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function _u(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function bu(e,t,n,r,i,a){var o,s=null,u=yu(t,n,i,a),l=_createForOfIteratorHelper(r);try{for(l.s();!(o=l.n()).done;){var c=o.value,h=yu(t-c.x,n,i,a)+c.badness;h<=u&&(s=c,u=h)}}catch(f){l.e(f)}finally{l.f()}return{index:e,x:t,priorBreak:s,badness:u}}function wu(e){return e?wu(e.priorBreak).concat(e.index):[]}function xu(e,t,n,r,i,a,o){if("point"!==a)return[];if(!e)return[];for(var s,u=[],l=function(e,t,n,r,i,a){for(var o=0,s=0;s<e.length();s++){var u=e.getSection(s);o+=vu(e.getCharCode(s),u,r,i,t,a)}return o/Math.max(1,Math.ceil(o/n))}(e,t,n,r,i,o),c=e.text.indexOf("\u200b")>=0,h=0,f=0;f<e.length();f++){var d=e.getSection(f),p=e.getCharCode(f);if(mu[p]||(h+=vu(p,d,r,i,t,o)),f<e.length()-1){var m=!((s=p)<11904||!(kr["Bopomofo Extended"](s)||kr.Bopomofo(s)||kr["CJK Compatibility Forms"](s)||kr["CJK Compatibility Ideographs"](s)||kr["CJK Compatibility"](s)||kr["CJK Radicals Supplement"](s)||kr["CJK Strokes"](s)||kr["CJK Symbols and Punctuation"](s)||kr["CJK Unified Ideographs Extension A"](s)||kr["CJK Unified Ideographs"](s)||kr["Enclosed CJK Letters and Months"](s)||kr["Halfwidth and Fullwidth Forms"](s)||kr.Hiragana(s)||kr["Ideographic Description Characters"](s)||kr["Kangxi Radicals"](s)||kr["Katakana Phonetic Extensions"](s)||kr.Katakana(s)||kr["Vertical Forms"](s)||kr["Yi Radicals"](s)||kr["Yi Syllables"](s)));(gu[p]||m||d.imageName)&&u.push(bu(f+1,h,l,u,_u(p,e.getCharCode(f+1),m&&c),!1))}}return wu(bu(e.length(),h,l,u,0,!0))}function ku(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Cu(e,t,n,r,i){if(r||i)for(var a=e[n],o=(e[n].x+a.metrics.advance*a.scale)*r,s=t;s<=n;s++)e[s].x-=o,e[s].y+=i}function Su(e,t,n,r,i,a){var o,s=e.image;if(s.content){var u=s.content,l=s.pixelRatio||1;o=[u[0]/l,u[1]/l,s.displaySize[0]-u[2]/l,s.displaySize[1]-u[3]/l]}var c,h,f,d,p=t.left*a,m=t.right*a;"width"===n||"both"===n?(d=i[0]+p-r[3],h=i[0]+m+r[1]):h=(d=i[0]+(p+m-s.displaySize[0])/2)+s.displaySize[0];var g=t.top*a,v=t.bottom*a;return"height"===n||"both"===n?(c=i[1]+g-r[0],f=i[1]+v+r[2]):f=(c=i[1]+(g+v-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:h,bottom:f,left:d,collisionPadding:o}}var Mu=128;function Eu(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Ur(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,a=0;a<r.length&&r[a]<=e;)a++;for(var o=a=Math.max(0,a-1);o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var s=r[a],u=r[o];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new Ur(s)),maxSize:n.evaluate(new Ur(u)),interpolationType:i}}var Tu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).angle=i,void 0!==a&&(o.segment=a),o}return _createClass(n,[{key:"clone",value:function(){return new n(this.x,this.y,this.angle,this.segment)}}]),n}(C);function Lu(e,t,n,r,i){if(void 0===t.segment)return!0;for(var a=t,o=t.segment+1,s=0;s>-n/2;){if(--o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var u=[],l=0;s<n/2;){var c=e[o],h=e[o+1];if(!h)return!1;var f=e[o-1].angleTo(c)-c.angleTo(h);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:f}),l+=f;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;o++,s+=c.dist(h)}return!0}function Iu(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Du(e,t,n){return e?.6*t*n:0}function Au(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Pu(e,t,n,r,i,a){for(var o=Du(n,i,a),s=Au(n,r)*a,u=0,l=Iu(e)/2,c=0;c<e.length-1;c++){var h=e[c],f=e[c+1],d=h.dist(f);if(u+d>l){var p=(l-u)/d,m=wt(h.x,f.x,p),g=wt(h.y,f.y,p),v=new Tu(m,g,f.angleTo(h),c);return v._round(),!o||Lu(e,v,s,o,t)?v:void 0}u+=d}}function Ou(e,t,n,r,i,a,o,s,u){var l=Du(r,a,o),c=Au(r,i),h=c*o,f=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;return t-h<t/4&&(t=h+t/4),Nu(e,f?t/2*s%t:(c/2+2*a)*o*s%t,t,l,n,h,f,!1,u)}function Nu(e,t,n,r,i,a,o,s,u){for(var l=a/2,c=Iu(e),h=0,f=t-n,d=[],p=0;p<e.length-1;p++){for(var m=e[p],g=e[p+1],v=m.dist(g),y=g.angleTo(m);f+n<h+v;){var _=((f+=n)-h)/v,b=wt(m.x,g.x,_),w=wt(m.y,g.y,_);if(b>=0&&b<u&&w>=0&&w<u&&f-l>=0&&f+l<=c){var x=new Tu(b,w,y,p);x._round(),r&&!Lu(e,x,a,r,i)||d.push(x)}}h+=v}return s||d.length||o||(d=Nu(e,h/2,n,r,i,a,o,!0,u)),d}function Ru(e,t,n,r,i){for(var a=[],o=0;o<e.length;o++)for(var s=e[o],u=void 0,l=0;l<s.length-1;l++){var c=s[l],h=s[l+1];c.x<t&&h.x<t||(c.x<t?c=new C(t,c.y+(t-c.x)/(h.x-c.x)*(h.y-c.y))._round():h.x<t&&(h=new C(t,c.y+(t-c.x)/(h.x-c.x)*(h.y-c.y))._round()),c.y<n&&h.y<n||(c.y<n?c=new C(c.x+(n-c.y)/(h.y-c.y)*(h.x-c.x),n)._round():h.y<n&&(h=new C(c.x+(n-c.y)/(h.y-c.y)*(h.x-c.x),n)._round()),c.x>=r&&h.x>=r||(c.x>=r?c=new C(r,c.y+(r-c.x)/(h.x-c.x)*(h.y-c.y))._round():h.x>=r&&(h=new C(r,c.y+(r-c.x)/(h.x-c.x)*(h.y-c.y))._round()),c.y>=i&&h.y>=i||(c.y>=i?c=new C(c.x+(i-c.y)/(h.y-c.y)*(h.x-c.x),i)._round():h.y>=i&&(h=new C(c.x+(i-c.y)/(h.y-c.y)*(h.x-c.x),i)._round()),u&&c.equals(u[u.length-1])||(u=[c],a.push(u)),u.push(h)))))}return a}function Fu(e,t,n,r){var i=[],a=e.image,o=a.pixelRatio,s=a.paddedRect.w-2,u=a.paddedRect.h-2,l=e.right-e.left,c=e.bottom-e.top,h=a.stretchX||[[0,s]],f=a.stretchY||[[0,u]],d=function(e,t){return e+t[1]-t[0]},p=h.reduce(d,0),m=f.reduce(d,0),g=s-p,v=u-m,y=0,_=p,b=0,w=m,x=0,k=g,S=0,M=v;if(a.content&&r){var E=a.content;y=Yu(h,0,E[0]),b=Yu(f,0,E[1]),_=Yu(h,E[0],E[2]),w=Yu(f,E[1],E[3]),x=E[0]-y,S=E[1]-b,k=E[2]-E[0]-_,M=E[3]-E[1]-w}var T=function(r,i,s,u){var h=ju(r.stretch-y,_,l,e.left),f=Bu(r.fixed-x,k,r.stretch,p),d=ju(i.stretch-b,w,c,e.top),g=Bu(i.fixed-S,M,i.stretch,m),v=ju(s.stretch-y,_,l,e.left),E=Bu(s.fixed-x,k,s.stretch,p),T=ju(u.stretch-b,w,c,e.top),L=Bu(u.fixed-S,M,u.stretch,m),I=new C(h,d),D=new C(v,d),A=new C(v,T),P=new C(h,T),O=new C(f/o,g/o),N=new C(E/o,L/o),R=t*Math.PI/180;if(R){var F=Math.sin(R),Y=Math.cos(R),z=[Y,-F,F,Y];I._matMult(z),D._matMult(z),P._matMult(z),A._matMult(z)}var j=r.stretch+r.fixed,B=i.stretch+i.fixed;return{tl:I,tr:D,bl:P,br:A,tex:{x:a.paddedRect.x+1+j,y:a.paddedRect.y+1+B,w:s.stretch+s.fixed-j,h:u.stretch+u.fixed-B},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:O,pixelOffsetBR:N,minFontScaleX:k/o/l,minFontScaleY:M/o/c,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var L=zu(h,g,p),I=zu(f,v,m),D=0;D<L.length-1;D++)for(var A=L[D],P=L[D+1],O=0;O<I.length-1;O++)i.push(T(A,I[O],P,I[O+1]));else i.push(T({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:u+1}));return i}function Yu(e,t,n){var r,i=0,a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]))}}catch(s){a.e(s)}finally{a.f()}return i}function zu(e,t,n){var r,i=[{fixed:-1,stretch:0}],a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var o=_slicedToArray(r.value,2),s=o[0],u=o[1],l=i[i.length-1];i.push({fixed:s-l.stretch,stretch:l.stretch}),i.push({fixed:s-l.stretch,stretch:l.stretch+(u-s)})}}catch(c){a.e(c)}finally{a.f()}return i.push({fixed:t+1,stretch:n}),i}function ju(e,t,n,r){return e/t*n+r}function Bu(e,t,n,r){return e-t*n/r}vr("Anchor",Tu);var Hu=_createClass(function e(t,n,r,i,a,o,s,u,l,c){if(_classCallCheck(this,e),this.boxStartIndex=t.length,l){var h=o.top,f=o.bottom,d=o.collisionPadding;d&&(h-=d[1],f+=d[3]);var p=f-h;p>0&&(p=Math.max(10,p),this.circleDiameter=p)}else{var m=o.top*s-u,g=o.bottom*s+u,v=o.left*s-u,y=o.right*s+u,_=o.collisionPadding;if(_&&(v-=_[0]*s,m-=_[1]*s,y+=_[2]*s,g+=_[3]*s),c){var b=new C(v,m),w=new C(y,m),x=new C(v,g),k=new C(y,g),S=c*Math.PI/180;b._rotate(S),w._rotate(S),x._rotate(S),k._rotate(S),v=Math.min(b.x,w.x,x.x,k.x),y=Math.max(b.x,w.x,x.x,k.x),m=Math.min(b.y,w.y,x.y,k.y),g=Math.max(b.y,w.y,x.y,k.y)}t.emplaceBack(n.x,n.y,v,m,y,g,r,i,a)}this.boxEndIndex=t.length}),Uu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vu;if(_classCallCheck(this,e),this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}return _createClass(e,[{key:"push",value:function(e){this.data.push(e),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r}},{key:"_down",value:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&n(t[s],o)<0&&(a=s,o=t[s]),n(o,i)>=0)break;t[e]=o,e=a}t[e]=i}}]),e}();function Vu(e,t){return e<t?-1:e>t?1:0}function Gu(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1/0,i=1/0,a=-1/0,o=-1/0,s=e[0],u=0;u<s.length;u++){var l=s[u];(!u||l.x<r)&&(r=l.x),(!u||l.y<i)&&(i=l.y),(!u||l.x>a)&&(a=l.x),(!u||l.y>o)&&(o=l.y)}var c=Math.min(a-r,o-i),h=c/2,f=new Uu([],qu);if(0===c)return new C(r,i);for(var d=r;d<a;d+=c)for(var p=i;p<o;p+=c)f.push(new Wu(d+h,p+h,h,e));for(var m=function(e){for(var t=0,n=0,r=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var u=i[a],l=i[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,r+=(u.y+l.y)*c,t+=3*c}return new Wu(n/t,r/t,0,e)}(e),g=f.length;f.length;){var v=f.pop();(v.d>m.d||!m.d)&&(m=v,n&&console.log("found best %d after %d probes",Math.round(1e4*v.d)/1e4,g)),v.max-m.d<=t||(h=v.h/2,f.push(new Wu(v.p.x-h,v.p.y-h,h,e)),f.push(new Wu(v.p.x+h,v.p.y-h,h,e)),f.push(new Wu(v.p.x-h,v.p.y+h,h,e)),f.push(new Wu(v.p.x+h,v.p.y+h,h,e)),g+=4)}return n&&(console.log("num probes: ".concat(g)),console.log("best distance: ".concat(m.d))),m.p}function qu(e,t){return t.max-e.max}function Wu(e,t,n,r){this.p=new C(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,u=s-1;o<s;u=o++){var l=a[o],c=a[u];l.y>e.y!=c.y>e.y&&e.x<(c.x-l.x)*(e.y-l.y)/(c.y-l.y)+l.x&&(n=!n),r=Math.min(r,Ha(e,l,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}var $u=Number.POSITIVE_INFINITY;function Xu(e,t){return t[1]!==$u?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function Zu(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Ju=32640;function Ku(e,t,n,r,i,a,o,s,u,l,c,h,f,d,m){var g=function(e,t,n,r,i,a,o,s){var u,l=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],h=_createForOfIteratorHelper(t.positionedLines);try{for(h.s();!(u=h.n()).done;){var f,d=u.value,p=_createForOfIteratorHelper(d.positionedGlyphs);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(m.rect){var g=m.rect||{},v=4,y=!0,_=1,b=0,w=(i||s)&&m.vertical,x=m.metrics.advance*m.scale/2;if(s&&t.verticalizable){var k=24*(m.scale-1),S=(24-m.metrics.width*m.scale)/2;b=d.lineOffset/2-(m.imageName?-S:k)}if(m.imageName){var M=o[m.imageName];y=M.sdf,v=1/(_=M.pixelRatio)}var E=i?[m.x+x,m.y]:[0,0],T=i?[0,0]:[m.x+x+n[0],m.y+n[1]-b],L=[0,0];w&&(L=T,T=[0,0]);var I=(m.metrics.left-v)*m.scale-x+T[0],D=(-m.metrics.top-v)*m.scale+T[1],A=I+g.w*m.scale/_,P=D+g.h*m.scale/_,O=new C(I,D),N=new C(A,D),R=new C(I,P),F=new C(A,P);if(w){var Y=new C(-x,x- -17),z=-Math.PI/2,j=12-x,B=new C(22-j,-(m.imageName?j:0)),H=_construct(C,_toConsumableArray(L));O._rotateAround(z,Y)._add(B)._add(H),N._rotateAround(z,Y)._add(B)._add(H),R._rotateAround(z,Y)._add(B)._add(H),F._rotateAround(z,Y)._add(B)._add(H)}if(l){var U=Math.sin(l),V=Math.cos(l),G=[V,-U,U,V];O._matMult(G),N._matMult(G),R._matMult(G),F._matMult(G)}var q=new C(0,0),W=new C(0,0);c.push({tl:O,tr:N,bl:R,br:F,tex:g,writingMode:t.writingMode,glyphOffset:E,sectionIndex:m.sectionIndex,isSDF:y,pixelOffsetTL:q,pixelOffsetBR:W,minFontScaleX:0,minFontScaleY:0})}}}catch($){p.e($)}finally{p.f()}}}catch($){h.e($)}finally{h.f()}return c}(0,n,s,i,a,o,r,e.allowVerticalPlacement),v=e.textSizeData,y=null;"source"===v.kind?(y=[Mu*i.layout.get("text-size").evaluate(o,{})])[0]>Ju&&p("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===v.kind&&(((y=[Mu*d.compositeTextSizes[0].evaluate(o,{},m),Mu*d.compositeTextSizes[1].evaluate(o,{},m)])[0]>Ju||y[1]>Ju)&&p("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".'))),e.addSymbols(e.text,g,y,s,a,o,l,t,u.lineStartIndex,u.lineLength,f,m);var _,b=_createForOfIteratorHelper(c);try{for(b.s();!(_=b.n()).done;){h[_.value]=e.text.placedSymbolArray.length-1}}catch(w){b.e(w)}finally{b.f()}return 4*g.length}function Qu(e){for(var t in e)return e[t];return null}function el(e,t,n,r){var i=e.compareText;if(t in i){for(var a=i[t],o=a.length-1;o>=0;o--)if(r.dist(a[o])<n)return!0}else i[t]=[];return i[t].push(r),!1}var tl=ts.VectorTileFeature.types,nl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function rl(e,t,n,r,i,a,o,s,u,l,c,h,f){var d=s?Math.min(Ju,Math.round(s[0])):0,p=s?Math.min(Ju,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),a,o,(d<<1)+(u?1:0),p,16*l,16*c,256*h,256*f)}function il(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function al(e){var t,n=_createForOfIteratorHelper(e.sections);try{for(n.s();!(t=n.n()).done;){if(Ir(t.value.text))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}var ol=function(){function e(t){_classCallCheck(this,e),this.layoutVertexArray=new Xi,this.indexArray=new ea,this.programConfigurations=t,this.segments=new ra,this.dynamicLayoutVertexArray=new Zi,this.opacityVertexArray=new Ji,this.placedSymbolArray=new Ri}return _createClass(e,[{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}},{key:"upload",value:function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ds.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,As.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,nl,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}]),e}();vr("SymbolBuffers",ol);var sl=function(){function e(t,n,r){_classCallCheck(this,e),this.layoutVertexArray=new t,this.layoutAttributes=n,this.indexArray=new r,this.segments=new ra,this.collisionVertexArray=new Qi}return _createClass(e,[{key:"upload",value:function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Ps.members,!0)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}]),e}();vr("CollisionBuffers",sl);var ul=function(){function t(n){_classCallCheck(this,t),this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ka([]),this.placementViewportMatrix=Ka([]);var r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Eu(this.zoom,r["text-size"]),this.iconSizeData=Eu(this.zoom,r["icon-size"]);var i=this.layers[0].layout,a=i.get("symbol-sort-key"),o=i.get("symbol-z-order");this.canOverlap="never"!==dl(i,"text-overlap","text-allow-overlap")||"never"!==dl(i,"icon-overlap","icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==o&&!a.isConstant(),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===i.get("symbol-placement")&&(this.writingModes=i.get("text-writing-mode").map(function(t){return e.WritingMode[t]})),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id}),this.sourceID=n.sourceID}return _createClass(t,[{key:"createArrays",value:function(){this.text=new ol(new Sa(this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new ol(new Sa(this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.glyphOffsetArray=new zi,this.lineVertexArray=new ji,this.symbolInstances=new Yi}},{key:"calculateGlyphDependencies",value:function(e,t,n,r,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(n||r)&&i){var o=Fs[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}}},{key:"populate",value:function(t,n,r){var i=this.layers[0],a=i.layout,o=a.get("text-font"),s=a.get("text-field"),u=a.get("icon-image"),l=("constant"!==s.value.kind||s.value.value instanceof Ae&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),c="constant"!==u.value.kind||!!u.value.value||Object.keys(u.parameters).length>0,h=a.get("symbol-sort-key");if(this.features=[],l||c){var f,d=n.iconDependencies,p=n.glyphDependencies,m=n.availableImages,g=new Ur(this.zoom),v=_createForOfIteratorHelper(t);try{for(v.s();!(f=v.n()).done;){var y=f.value,_=y.feature,b=y.id,w=y.index,x=y.sourceLayerIndex,k=i._featureFilter.needGeometry,C=Aa(_,k);if(i._featureFilter.filter(g,C,r)){var S=void 0,M=void 0;if(k||(C.geometry=Da(_)),l){var E=i.getValueAndResolveTokens("text-field",C,r,m),T=Ae.factory(E);al(T)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===jr()||this.hasRTLText&&Hr.isParsed())&&(S=Rs(T,i,C))}if(c){var L=i.getValueAndResolveTokens("icon-image",C,r,m);M=L instanceof Pe?L:Pe.fromString(L)}if(S||M){var I=this.sortFeaturesByKey?h.evaluate(C,{},r):void 0;if(this.features.push({id:b,text:S,icon:M,index:w,sourceLayerIndex:x,geometry:C.geometry,properties:_.properties,type:tl[_.type],sortKey:I}),M&&(d[M.name]=!0),S){var D=o.evaluate(C,{},r).join(","),A="viewport"!==a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.WritingMode.vertical)>=0;var P,O=_createForOfIteratorHelper(S.sections);try{for(O.s();!(P=O.n()).done;){var N=P.value;if(N.image)d[N.image.name]=!0;else{var R=Cr(S.toString()),F=N.fontStack||D,Y=p[F]=p[F]||{};this.calculateGlyphDependencies(N.text,Y,A,this.allowVerticalPlacement,R)}}}catch(z){O.e(z)}finally{O.f()}}}}}}catch(z){v.e(z)}finally{v.f()}"line"===a.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function a(t){r.push(e[t]),i++}function o(e,t,i){var a=n[e];return delete n[e],n[t]=a,r[a].geometry[0].pop(),r[a].geometry[0]=r[a].geometry[0].concat(i[0]),a}function s(e,n,i){var a=t[n];return delete t[n],t[e]=a,r[a].geometry[0].shift(),r[a].geometry[0]=i[0].concat(r[a].geometry[0]),a}function u(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(r.x,":").concat(r.y)}for(var l=0;l<e.length;l++){var c=e[l],h=c.geometry,f=c.text?c.text.toString():null;if(f){var d=u(f,h),p=u(f,h,!0);if(d in n&&p in t&&n[d]!==t[p]){var m=s(d,p,h),g=o(d,p,r[m].geometry);delete t[d],delete n[p],n[u(f,r[g].geometry,!0)]=g,r[m].geometry=null}else d in n?o(d,p,h):p in t?s(d,p,h):(a(l),t[d]=i-1,n[p]=i-1)}else a(l)}return r.filter(function(e){return e.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(e,t){return e.sortKey-t.sortKey})}}},{key:"update",value:function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))}},{key:"isEmpty",value:function(){return 0===this.symbolInstances.length&&!this.hasRTLText}},{key:"uploadPending",value:function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}},{key:"upload",value:function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}},{key:"destroyDebugData",value:function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}},{key:"destroy",value:function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}},{key:"addToLineVertexArray",value:function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),a={},o=e.segment+1;o<t.length;o++)a[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:r},o<t.length-1&&(r+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)a[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var l=a[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}},{key:"addSymbols",value:function(t,n,r,i,a,o,s,u,l,c,h,f){for(var d=t.indexArray,p=t.layoutVertexArray,m=t.segments.prepareSegment(4*n.length,p,d,this.canOverlap?o.sortKey:void 0),g=this.glyphOffsetArray.length,v=m.vertexLength,y=this.allowVerticalPlacement&&s===e.WritingMode.vertical?Math.PI/2:0,_=o.text&&o.text.sections,b=0;b<n.length;b++){var w=n[b],x=w.tl,k=w.tr,C=w.bl,S=w.br,M=w.tex,E=w.pixelOffsetTL,T=w.pixelOffsetBR,L=w.minFontScaleX,I=w.minFontScaleY,D=w.glyphOffset,A=w.isSDF,P=w.sectionIndex,O=m.vertexLength,N=D[1];rl(p,u.x,u.y,x.x,N+x.y,M.x,M.y,r,A,E.x,E.y,L,I),rl(p,u.x,u.y,k.x,N+k.y,M.x+M.w,M.y,r,A,T.x,E.y,L,I),rl(p,u.x,u.y,C.x,N+C.y,M.x,M.y+M.h,r,A,E.x,T.y,L,I),rl(p,u.x,u.y,S.x,N+S.y,M.x+M.w,M.y+M.h,r,A,T.x,T.y,L,I),il(t.dynamicLayoutVertexArray,u,y),d.emplaceBack(O,O+1,O+2),d.emplaceBack(O+1,O+2,O+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(D[0]),b!==n.length-1&&P===n[b+1].sectionIndex||t.programConfigurations.populatePaintArrays(p.length,o,o.index,{},f,_&&_[P])}t.placedSymbolArray.emplaceBack(u.x,u.y,g,this.glyphOffsetArray.length-g,v,l,c,u.segment,r?r[0]:0,r?r[1]:0,i[0],i[1],s,0,!1,0,h)}},{key:"_addCollisionDebugVertex",value:function(e,t,n,r,i,a){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(a.x),Math.round(a.y))}},{key:"addCollisionDebugVertices",value:function(e,t,n,r,i,a,o){var s=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),u=s.vertexLength,l=i.layoutVertexArray,c=i.collisionVertexArray,h=o.anchorX,f=o.anchorY;this._addCollisionDebugVertex(l,c,a,h,f,new C(e,t)),this._addCollisionDebugVertex(l,c,a,h,f,new C(n,t)),this._addCollisionDebugVertex(l,c,a,h,f,new C(n,r)),this._addCollisionDebugVertex(l,c,a,h,f,new C(e,r)),s.vertexLength+=4;var d=i.indexArray;d.emplaceBack(u,u+1),d.emplaceBack(u+1,u+2),d.emplaceBack(u+2,u+3),d.emplaceBack(u+3,u),s.primitiveLength+=4}},{key:"addDebugCollisionBoxes",value:function(e,t,n,r){for(var i=e;i<t;i++){var a=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(a.x1,a.y1,a.x2,a.y2,r?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,n)}}},{key:"generateCollisionDebugBuffers",value:function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new sl(Ki,Os.members,ta),this.iconCollisionBox=new sl(Ki,Os.members,ta);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}},{key:"_deserializeCollisionBoxesForSymbol",value:function(e,t,n,r,i,a,o,s,u){for(var l={},c=t;c<n;c++){var h=e.get(c);l.textBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},l.textFeatureIndex=h.featureIndex;break}for(var f=r;f<i;f++){var d=e.get(f);l.verticalTextBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},l.verticalTextFeatureIndex=d.featureIndex;break}for(var p=a;p<o;p++){var m=e.get(p);l.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},l.iconFeatureIndex=m.featureIndex;break}for(var g=s;g<u;g++){var v=e.get(g);l.verticalIconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},l.verticalIconFeatureIndex=v.featureIndex;break}return l}},{key:"deserializeCollisionBoxes",value:function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}},{key:"hasTextData",value:function(){return this.text.segments.get().length>0}},{key:"hasIconData",value:function(){return this.icon.segments.get().length>0}},{key:"hasDebugData",value:function(){return this.textCollisionBox&&this.iconCollisionBox}},{key:"hasTextCollisionBoxData",value:function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}},{key:"hasIconCollisionBoxData",value:function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}},{key:"addIndicesForPlacedSymbol",value:function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)}},{key:"getSortedSymbolIndexes",value:function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return a.sort(function(e,t){return r[e]-r[t]||i[t]-i[e]}),a}},{key:"addToSortKeyRanges",value:function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}},{key:"sortFeatures",value:function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];var n,r=_createForOfIteratorHelper(this.symbolInstanceIndexes);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.symbolInstances.get(i);this.featureSortOrder.push(a.featureIndex),[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach(function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)}),a.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,a.verticalPlacedTextSymbolIndex),a.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.placedIconSymbolIndex),a.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.verticalPlacedIconSymbolIndex)}}catch(o){r.e(o)}finally{r.f()}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}]),t}();vr("SymbolBucket",ul,{omit:["layers","collisionBoxArray","features","compareText"]}),ul.MAX_GLYPHS=65535,ul.addDynamicAttributes=il;var ll=new ri({"symbol-placement":new Kr(Q.layout_symbol["symbol-placement"]),"symbol-spacing":new Kr(Q.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Kr(Q.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Qr(Q.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Kr(Q.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Kr(Q.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Kr(Q.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Kr(Q.layout_symbol["icon-ignore-placement"]),"icon-optional":new Kr(Q.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Kr(Q.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qr(Q.layout_symbol["icon-size"]),"icon-text-fit":new Kr(Q.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Kr(Q.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qr(Q.layout_symbol["icon-image"]),"icon-rotate":new Qr(Q.layout_symbol["icon-rotate"]),"icon-padding":new Kr(Q.layout_symbol["icon-padding"]),"icon-keep-upright":new Kr(Q.layout_symbol["icon-keep-upright"]),"icon-offset":new Qr(Q.layout_symbol["icon-offset"]),"icon-anchor":new Qr(Q.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Kr(Q.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Kr(Q.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Kr(Q.layout_symbol["text-rotation-alignment"]),"text-field":new Qr(Q.layout_symbol["text-field"]),"text-font":new Qr(Q.layout_symbol["text-font"]),"text-size":new Qr(Q.layout_symbol["text-size"]),"text-max-width":new Qr(Q.layout_symbol["text-max-width"]),"text-line-height":new Kr(Q.layout_symbol["text-line-height"]),"text-letter-spacing":new Qr(Q.layout_symbol["text-letter-spacing"]),"text-justify":new Qr(Q.layout_symbol["text-justify"]),"text-radial-offset":new Qr(Q.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Kr(Q.layout_symbol["text-variable-anchor"]),"text-anchor":new Qr(Q.layout_symbol["text-anchor"]),"text-max-angle":new Kr(Q.layout_symbol["text-max-angle"]),"text-writing-mode":new Kr(Q.layout_symbol["text-writing-mode"]),"text-rotate":new Qr(Q.layout_symbol["text-rotate"]),"text-padding":new Kr(Q.layout_symbol["text-padding"]),"text-keep-upright":new Kr(Q.layout_symbol["text-keep-upright"]),"text-transform":new Qr(Q.layout_symbol["text-transform"]),"text-offset":new Qr(Q.layout_symbol["text-offset"]),"text-allow-overlap":new Kr(Q.layout_symbol["text-allow-overlap"]),"text-overlap":new Kr(Q.layout_symbol["text-overlap"]),"text-ignore-placement":new Kr(Q.layout_symbol["text-ignore-placement"]),"text-optional":new Kr(Q.layout_symbol["text-optional"])}),cl={paint:new ri({"icon-opacity":new Qr(Q.paint_symbol["icon-opacity"]),"icon-color":new Qr(Q.paint_symbol["icon-color"]),"icon-halo-color":new Qr(Q.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qr(Q.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qr(Q.paint_symbol["icon-halo-blur"]),"icon-translate":new Kr(Q.paint_symbol["icon-translate"]),"icon-translate-anchor":new Kr(Q.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qr(Q.paint_symbol["text-opacity"]),"text-color":new Qr(Q.paint_symbol["text-color"],{runtimeType:he,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new Qr(Q.paint_symbol["text-halo-color"]),"text-halo-width":new Qr(Q.paint_symbol["text-halo-width"]),"text-halo-blur":new Qr(Q.paint_symbol["text-halo-blur"]),"text-translate":new Kr(Q.paint_symbol["text-translate"]),"text-translate-anchor":new Kr(Q.paint_symbol["text-translate-anchor"])}),layout:ll},hl=function(){function e(t){_classCallCheck(this,e),this.type=t.property.overrides?t.property.overrides.runtimeType:se,this.defaultValue=t}return _createClass(e,[{key:"evaluate",value:function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}},{key:"eachChild",value:function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return null}}]),e}();vr("FormatSectionOverride",hl,{omit:["defaultValue"]});var fl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,cl)}return _createClass(n,[{key:"recalculate",value:function(e,t){if(_get(_getPrototypeOf(n.prototype),"recalculate",this).call(this,e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){var i,a=[],o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;a.indexOf(s)<0&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}this.layout._values["text-writing-mode"]=a}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}},{key:"getValueAndResolveTokens",value:function(e,t,n,r){var i,a=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Sn(o.value)||!a?a:(i=t.properties,a.replace(/{([^{}]+)}/g,function(e,t){return t in i?String(i[t]):""}))}},{key:"createBucket",value:function(e){return new ul(e)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"_setPaintOverrides",value:function(){var e,t=_createForOfIteratorHelper(cl.paint.overridableProperties);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(n.hasPaintOverride(this.layout,r)){var i,a=this.paint.get(r),o=new hl(a),s=new Cn(o,a.property.specification);i="constant"===a.value.kind||"source"===a.value.kind?new En("source",s):new Tn("composite",s,a.value.zoomStops,a.value._interpolationType),this.paint._values[r]=new Zr(a.property,i,a.parameters)}}}catch(u){t.e(u)}finally{t.f()}}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&n.hasPaintOverride(this.layout,e)}}],[{key:"hasPaintOverride",value:function(e,t){var n=e.get("text-field"),r=cl.paint.properties[t],i=!1,a=function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(r.overrides&&r.overrides.hasOverride(a))return void(i=!0)}}catch(o){n.e(o)}finally{n.f()}};if("constant"===n.value.kind&&n.value.value instanceof Ae)a(n.value.value.sections);else if("source"===n.value.kind){var o=n.value;o._styleExpression&&function e(t){i||(t instanceof Ye&&Re(t.value)===me?a(t.value.sections):t instanceof He?a(t.sections):t.eachChild(e))}(o._styleExpression.expression)}return i}}]),n}(ai);function dl(e,t,n){var r="never",i=e.get(t);return i?r=i:e.get(n)&&(r="always"),r}var pl={paint:new ri({"background-color":new Kr(Q.paint_background["background-color"]),"background-pattern":new ti(Q.paint_background["background-pattern"]),"background-opacity":new Kr(Q.paint_background["background-opacity"])})},ml={paint:new ri({"raster-opacity":new Kr(Q.paint_raster["raster-opacity"]),"raster-hue-rotate":new Kr(Q.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Kr(Q.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Kr(Q.paint_raster["raster-brightness-max"]),"raster-saturation":new Kr(Q.paint_raster["raster-saturation"]),"raster-contrast":new Kr(Q.paint_raster["raster-contrast"]),"raster-resampling":new Kr(Q.paint_raster["raster-resampling"]),"raster-fade-duration":new Kr(Q.paint_raster["raster-fade-duration"])})},gl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,{})).onAdd=function(e){r.implementation.onAdd&&r.implementation.onAdd(e,e.painter.context.gl)},r.onRemove=function(e){r.implementation.onRemove&&r.implementation.onRemove(e,e.painter.context.gl)},r.implementation=e,r}return _createClass(n,[{key:"is3D",value:function(){return"3d"===this.implementation.renderingMode}},{key:"hasOffscreenPass",value:function(){return void 0!==this.implementation.prerender}},{key:"recalculate",value:function(){}},{key:"updateTransitions",value:function(){}},{key:"hasTransition",value:function(){return!1}},{key:"serialize",value:function(){}}]),n}(ai),vl={circle:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,Za)}return _createClass(n,[{key:"createBucket",value:function(e){return new Oa(e)}},{key:"queryRadius",value:function(e){var t=e;return qa("circle-radius",this,t)+qa("circle-stroke-width",this,t)+Wa(this.paint.get("circle-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s){var u,l,c=$a(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),h=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),f="map"===this.paint.get("circle-pitch-alignment"),d=f?c:(u=s,c.map(function(e){return ro(e,u)})),p=f?h*o:h,m=_createForOfIteratorHelper(r);try{for(m.s();!(l=m.n()).done;){var g,v=_createForOfIteratorHelper(l.value);try{for(v.s();!(g=v.n()).done;){var y=g.value,_=f?y:ro(y,s),b=p,w=no([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=w[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=a.cameraToCenterDistance/w[3]),Ra(d,_,b))return!0}}catch(x){v.e(x)}finally{v.f()}}}catch(x){m.e(x)}finally{m.f()}return!1}}]),n}(ai),heatmap:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,ao))._updateColorRamp(),r}return _createClass(n,[{key:"createBucket",value:function(e){return new io(e)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"heatmap-color"===e&&this._updateColorRamp()}},{key:"_updateColorRamp",value:function(){this.colorRamp=ho({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}},{key:"resize",value:function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}]),n}(ai),hillshade:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,fo)}return _createClass(n,[{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}]),n}(ai),fill:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,Qo)}return _createClass(n,[{key:"recalculate",value:function(e,t){_get(_getPrototypeOf(n.prototype),"recalculate",this).call(this,e,t);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}},{key:"createBucket",value:function(e){return new Jo(e)}},{key:"queryRadius",value:function(){return Wa(this.paint.get("fill-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o){return Fa($a(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),r)}},{key:"isTileClipped",value:function(){return!0}}]),n}(ai),"fill-extrusion":function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,ys)}return _createClass(n,[{key:"createBucket",value:function(e){return new gs(e)}},{key:"queryRadius",value:function(){return Wa(this.paint.get("fill-extrusion-translate"))}},{key:"is3D",value:function(){return!0}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s){var u=$a(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,o),l=this.paint.get("fill-extrusion-height").evaluate(t,n),c=this.paint.get("fill-extrusion-base").evaluate(t,n),h=function(e,t,n,r){var i,a=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=[s.x,s.y,0,1];no(u,u,t),a.push(new C(u[0]/u[3],u[1]/u[3]))}}catch(l){o.e(l)}finally{o.f()}return a}(u,s),f=function(e,t,n,r){var i,a=[],o=[],s=r[8]*t,u=r[9]*t,l=r[10]*t,c=r[11]*t,h=r[8]*n,f=r[9]*n,d=r[10]*n,p=r[11]*n,m=_createForOfIteratorHelper(e);try{for(m.s();!(i=m.n()).done;){var g,v=i.value,y=[],_=[],b=_createForOfIteratorHelper(v);try{for(b.s();!(g=b.n()).done;){var w=g.value,x=w.x,k=w.y,S=r[0]*x+r[4]*k+r[12],M=r[1]*x+r[5]*k+r[13],E=r[2]*x+r[6]*k+r[14],T=r[3]*x+r[7]*k+r[15],L=E+l,I=T+c,D=S+h,A=M+f,P=E+d,O=T+p,N=new C((S+s)/I,(M+u)/I);N.z=L/I,y.push(N);var R=new C(D/O,A/O);R.z=P/O,_.push(R)}}catch(F){b.e(F)}finally{b.f()}a.push(y),o.push(_)}}catch(F){m.e(F)}finally{m.f()}return[a,o]}(r,c,l,s);return function(e,t,n){var r=1/0;Fa(n,t)&&(r=bs(n,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var u=a[s],l=[u,a[s+1],o[s+1],o[s],u];Na(n,l)&&(r=Math.min(r,bs(n,l)))}return r!==1/0&&r}(f[0],f[1],h)}}]),n}(ai),line:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,Ts)).gradientVersion=0,r}return _createClass(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof bt,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}},{key:"gradientExpression",value:function(){return this._transitionablePaint._values["line-gradient"].value.expression}},{key:"recalculate",value:function(e,t){_get(_getPrototypeOf(n.prototype),"recalculate",this).call(this,e,t),this.paint._values["line-floorwidth"]=Ls.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}},{key:"createBucket",value:function(e){return new Ms(e)}},{key:"queryRadius",value:function(e){var t=e,n=Is(qa("line-width",this,t),qa("line-gap-width",this,t)),r=qa("line-offset",this,t);return n/2+Math.abs(r)+Wa(this.paint.get("line-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o){var s=$a(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,o),u=o/2*Is(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(r=function(e,t){for(var n=[],r=0;r<e.length;r++){for(var i=e[r],a=[],o=0;o<i.length;o++){var s=i[o-1],u=i[o],l=i[o+1],c=0===o?new C(0,0):u.sub(s)._unit()._perp(),h=o===i.length-1?new C(0,0):l.sub(u)._unit()._perp(),f=c._add(h)._unit(),d=f.x*h.x+f.y*h.y;0!==d&&f._mult(1/d),a.push(f._mult(t)._add(u))}n.push(a)}return n}(r,l*o)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var a=0;a<i.length;a++)if(Va(e,i[a]))return!0;if(Ya(e,i,n))return!0}return!1}(s,r,u)}},{key:"isTileClipped",value:function(){return!0}}]),n}(ai),symbol:fl,background:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,pl)}return _createClass(n)}(ai),raster:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,ml)}return _createClass(n)}(ai)},yl=function(){function e(t){var n=this;_classCallCheck(this,e),this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){n._triggered=!1,n._callback()})}return _createClass(e,[{key:"trigger",value:function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){e._triggered=!1,e._callback()},0))}},{key:"remove",value:function(){delete this._channel,this._callback=function(){}}}]),e}(),_l=6371008.8,bl=function(){function e(t,n){if(_classCallCheck(this,e),isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(n,")"));if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return _createClass(e,[{key:"wrap",value:function(){return new e(o(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return _l*Math.acos(Math.min(i,1))}},{key:"toBounds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=360*t/40075017,r=n/Math.cos(Math.PI/180*this.lat);return new wl(new e(this.lng-r,this.lat-n),new e(this.lng+r,this.lat+n))}}],[{key:"convert",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new e(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new e(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),e}(),wl=function(){function e(t,n){_classCallCheck(this,e),t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return _createClass(e,[{key:"setNorthEast",value:function(e){return this._ne=e instanceof bl?new bl(e.lng,e.lat):bl.convert(e),this}},{key:"setSouthWest",value:function(e){return this._sw=e instanceof bl?new bl(e.lng,e.lat):bl.convert(e),this}},{key:"extend",value:function(t){var n,r,i=this._sw,a=this._ne;if(t instanceof bl)n=t,r=t;else{if(!(t instanceof e))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(e.convert(t)):this.extend(bl.convert(t)):this;if(n=t._sw,r=t._ne,!n||!r)return this}return i||a?(i.lng=Math.min(n.lng,i.lng),i.lat=Math.min(n.lat,i.lat),a.lng=Math.max(r.lng,a.lng),a.lat=Math.max(r.lat,a.lat)):(this._sw=new bl(n.lng,n.lat),this._ne=new bl(r.lng,r.lat)),this}},{key:"getCenter",value:function(){return new bl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}},{key:"getSouthWest",value:function(){return this._sw}},{key:"getNorthEast",value:function(){return this._ne}},{key:"getNorthWest",value:function(){return new bl(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new bl(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this._sw.lng}},{key:"getSouth",value:function(){return this._sw.lat}},{key:"getEast",value:function(){return this._ne.lng}},{key:"getNorth",value:function(){return this._ne.lat}},{key:"toArray",value:function(){return[this._sw.toArray(),this._ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this._sw&&this._ne)}},{key:"contains",value:function(e){var t=bl.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i}}],[{key:"convert",value:function(t){return t instanceof e?t:t&&new e(t)}}]),e}(),xl=2*Math.PI*_l;function kl(e){return xl*Math.cos(e*Math.PI/180)}function Cl(e){return(180+e)/360}function Sl(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Ml(e,t){return e/kl(t)}function El(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var Tl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,e),this.x=+t,this.y=+n,this.z=+r}return _createClass(e,[{key:"toLngLat",value:function(){return new bl(360*this.x-180,El(this.y))}},{key:"toAltitude",value:function(){return this.z*kl(El(this.y))}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/xl*(e=El(this.y),1/Math.cos(e*Math.PI/180));var e}}],[{key:"fromLngLat",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=bl.convert(t);return new e(Cl(r.lng),Sl(r.lat),Ml(n,r.lat))}}]),e}();function Ll(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}var Il=function(){function e(t,n,r){_classCallCheck(this,e),this.z=t,this.x=n,this.y=r,this.key=Pl(0,t,t,n,r)}return _createClass(e,[{key:"equals",value:function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}},{key:"url",value:function(e,t,n){var r,i,a,o,s,u=(i=this.y,a=this.z,o=Ll(256*(r=this.x),256*(i=Math.pow(2,a)-i-1),a),s=Ll(256*(r+1),256*(i+1),a),o[0]+","+o[1]+","+s[0]+","+s[1]),l=function(e,t,n){for(var r,i="",a=e;a>0;a--)i+=(t&(r=1<<a-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,l).replace(/{bbox-epsg-3857}/g,u)}},{key:"getTilePoint",value:function(e){var t=Math.pow(2,this.z);return new C((e.x*t-this.x)*Ta,(e.y*t-this.y)*Ta)}},{key:"toString",value:function(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}]),e}(),Dl=_createClass(function e(t,n){_classCallCheck(this,e),this.wrap=t,this.canonical=n,this.key=Pl(t,n.z,n.z,n.x,n.y)}),Al=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.overscaledZ=t,this.wrap=n,this.canonical=new Il(r,+i,+a),this.key=Pl(n,t,r,i,a)}return _createClass(e,[{key:"equals",value:function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}},{key:"scaledTo",value:function(t){var n=this.canonical.z-t;return t>this.canonical.z?new e(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new e(t,this.wrap,t,this.canonical.x>>n,this.canonical.y>>n)}},{key:"calculateScaledKey",value:function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?Pl(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Pl(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}},{key:"isChildOf",value:function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}},{key:"children",value:function(t){if(this.overscaledZ>=t)return[new e(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var n=this.canonical.z+1,r=2*this.canonical.x,i=2*this.canonical.y;return[new e(n,this.wrap,n,r,i),new e(n,this.wrap,n,r+1,i),new e(n,this.wrap,n,r,i+1),new e(n,this.wrap,n,r+1,i+1)]}},{key:"isLessThan",value:function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}},{key:"wrapped",value:function(){return new e(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"unwrapTo",value:function(t){return new e(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"overscaleFactor",value:function(){return Math.pow(2,this.overscaledZ-this.canonical.z)}},{key:"toUnwrapped",value:function(){return new Dl(this.wrap,this.canonical)}},{key:"toString",value:function(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}},{key:"getTilePoint",value:function(e){return this.canonical.getTilePoint(new Tl(e.x-this.wrap,e.y))}}]),e}();function Pl(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);var a=1<<n;return(a*a*e+a*i+r).toString(36)+n.toString(36)+t.toString(36)}vr("CanonicalTileID",Il),vr("OverscaledTileID",Al,{omit:["posMatrix"]});var Ol=function(){function e(t,n,r){if(_classCallCheck(this,e),this.uid=t,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)p('"'.concat(r,'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".'));else{this.stride=n.height;var i=this.dim=n.height-2;this.data=new Uint32Array(n.data.buffer),this.encoding=r||"mapbox";for(var a=0;a<i;a++)this.data[this._idx(-1,a)]=this.data[this._idx(0,a)],this.data[this._idx(i,a)]=this.data[this._idx(i-1,a)],this.data[this._idx(a,-1)]=this.data[this._idx(a,0)],this.data[this._idx(a,i)]=this.data[this._idx(a,i-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(i,-1)]=this.data[this._idx(i-1,0)],this.data[this._idx(-1,i)]=this.data[this._idx(0,i-1)],this.data[this._idx(i,i)]=this.data[this._idx(i-1,i-1)]}}return _createClass(e,[{key:"get",value:function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])}},{key:"getUnpackVector",value:function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}},{key:"_idx",value:function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}},{key:"_unpackMapbox",value:function(e,t,n){return(256*e*256+256*t+n)/10-1e4}},{key:"_unpackTerrarium",value:function(e,t,n){return 256*e+t+n/256-32768}},{key:"getPixels",value:function(){return new co({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}},{key:"backfillBorder",value:function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:a=o-1;break;case 1:o=a+1}for(var s=-t*this.dim,u=-n*this.dim,l=a;l<o;l++)for(var c=r;c<i;c++)this.data[this._idx(c,l)]=e.data[this._idx(c+s,l+u)]}}]),e}();vr("DEMData",Ol);var Nl,Rl=function(){function e(t){_classCallCheck(this,e),this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];this._stringToNumber[r]=n,this._numberToString[n]=r}}return _createClass(e,[{key:"encode",value:function(e){return this._stringToNumber[e]}},{key:"decode",value:function(e){return this._numberToString[e]}}]),e}(),Fl=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.type="Feature",this._vectorTileFeature=t,t._z=n,t._x=r,t._y=i,this.properties=t.properties,this.id=a}return _createClass(e,[{key:"geometry",get:function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},set:function(e){this._geometry=e}},{key:"toJSON",value:function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}]),e}(),Yl=function(){function e(t,n){_classCallCheck(this,e),this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new mr(Ta,16,0),this.grid3D=new mr(Ta,16,0),this.featureIndexArray=new Hi,this.promoteId=n}return _createClass(e,[{key:"insert",value:function(e,t,n,r,i,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=a?this.grid3D:this.grid,u=0;u<t.length;u++){for(var l=t[u],c=[1/0,1/0,-1/0,-1/0],h=0;h<l.length;h++){var f=l[h];c[0]=Math.min(c[0],f.x),c[1]=Math.min(c[1],f.y),c[2]=Math.max(c[2],f.x),c[3]=Math.max(c[3],f.y)}c[0]<Ta&&c[1]<Ta&&c[2]>=0&&c[3]>=0&&s.insert(o,c[0],c[1],c[2],c[3])}}},{key:"loadVTLayers",value:function(){return this.vtLayers||(this.vtLayers=new ts.VectorTile(new Ys(this.rawTileData)).layers,this.sourceLayerCoder=new Rl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}},{key:"query",value:function(e,t,n,r){var i=this;this.loadVTLayers();var a,o=e.params||{},s=Ta/e.tileSize/e.scale,u=jn(o.filter),l=e.queryGeometry,c=e.queryPadding*s,h=jl(l),f=this.grid.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c),d=jl(e.cameraQueryGeometry),p=this.grid3D.query(d.minX-c,d.minY-c,d.maxX+c,d.maxY+c,function(t,n,r,i){return function(e,t,n,r,i){var a,o=_createForOfIteratorHelper(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t<=s.x&&n<=s.y&&r>=s.x&&i>=s.y)return!0}}catch(f){o.e(f)}finally{o.f()}var u=[new C(t,n),new C(t,i),new C(r,i),new C(r,n)];if(e.length>2){var l,c=_createForOfIteratorHelper(u);try{for(c.s();!(l=c.n()).done;){if(Va(e,l.value))return!0}}catch(f){c.e(f)}finally{c.f()}}for(var h=0;h<e.length-1;h++)if(Ga(e[h],e[h+1],u))return!0;return!1}(e.cameraQueryGeometry,t-c,n-c,r+c,i+c)}),m=_createForOfIteratorHelper(p);try{for(m.s();!(a=m.n()).done;){var g=a.value;f.push(g)}}catch(w){m.e(w)}finally{m.f()}f.sort(Bl);for(var v,y={},_=function(a){var c=f[a];if(c===v)return"continue";v=c;var h=i.featureIndexArray.get(c),d=null;i.loadMatchingFeature(y,h.bucketIndex,h.sourceLayerIndex,h.featureIndex,u,o.layers,o.availableImages,t,n,r,function(t,n,r){return d||(d=Da(t)),n.queryIntersectsFeature(l,t,r,d,i.z,e.transform,s,e.pixelPosMatrix)})},b=0;b<f.length;b++)_(b);return y}},{key:"loadMatchingFeature",value:function(e,t,n,r,i,a,o,u,l,c,h){var f=this.bucketLayerIDs[t];if(!a||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(a,f)){var d=this.sourceLayerCoder.decode(n),p=this.vtLayers[d].feature(r);if(i.needGeometry){var m=Aa(p,!0);if(!i.filter(new Ur(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!i.filter(new Ur(this.tileID.overscaledZ),p))return;for(var g=this.getId(p,d),v=0;v<f.length;v++){var y=f[v];if(!(a&&a.indexOf(y)<0)){var _=u[y];if(_){var b={};g&&c&&(b=c.getState(_.sourceLayer||"_geojsonTileLayer",g));var w=s({},l[y]);w.paint=zl(w.paint,_.paint,p,b,o),w.layout=zl(w.layout,_.layout,p,b,o);var x=!h||h(p,_,b);if(x){var k=new Fl(p,this.z,this.x,this.y,g);k.layer=w;var C=e[y];void 0===C&&(C=e[y]=[]),C.push({featureIndex:r,feature:k,intersectionZ:x})}}}}}}},{key:"lookupSymbolFeatures",value:function(e,t,n,r,i,a,o,s){var u={};this.loadVTLayers();var l,c=jn(i),h=_createForOfIteratorHelper(e);try{for(h.s();!(l=h.n()).done;){var f=l.value;this.loadMatchingFeature(u,n,r,f,c,a,o,s,t)}}catch(d){h.e(d)}finally{h.f()}return u}},{key:"hasLayer",value:function(e){var t,n=_createForOfIteratorHelper(this.bucketLayerIDs);try{for(n.s();!(t=n.n()).done;){var r,i=_createForOfIteratorHelper(t.value);try{for(i.s();!(r=i.n()).done;){if(e===r.value)return!0}}catch(a){i.e(a)}finally{i.f()}}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"getId",value:function(e,t){var n=e.id;return this.promoteId&&("boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n))),n}}]),e}();function zl(e,t,n,r,i){return c(e,function(e,a){var o=t instanceof Jr?t.get(a):null;return o&&o.evaluate?o.evaluate(n,r,i):o})}function jl(e){var t,n=1/0,r=1/0,i=-1/0,a=-1/0,o=_createForOfIteratorHelper(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n=Math.min(n,s.x),r=Math.min(r,s.y),i=Math.max(i,s.x),a=Math.max(a,s.y)}}catch(u){o.e(u)}finally{o.f()}return{minX:n,minY:r,maxX:i,maxY:a}}function Bl(e,t){return t-e}vr("FeatureIndex",Yl,{omit:["rawTileData","sourceLayerCoder"]}),e.PerformanceMarkers=void 0,(Nl=e.PerformanceMarkers||(e.PerformanceMarkers={})).create="create",Nl.load="load",Nl.fullLoad="fullLoad";var Hl=null,Ul=[],Vl=1e3/30,Gl={mark:function(e){performance.mark(e)},frame:function(e){var t=e;null!=Hl&&Ul.push(t-Hl),Hl=t},clearMetrics:function(){for(var t in Hl=null,Ul=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime"),e.PerformanceMarkers)performance.clearMarks(e.PerformanceMarkers[t])},getPerformanceMetrics:function(){performance.measure("loadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.load),performance.measure("fullLoadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.fullLoad);var t=performance.getEntriesByName("loadTime")[0].duration,n=performance.getEntriesByName("fullLoadTime")[0].duration,r=Ul.length,i=1/(Ul.reduce(function(e,t){return e+t},0)/r/1e3),a=Ul.filter(function(e){return e>Vl}).reduce(function(e,t){return e+(t-Vl)/Vl},0);return{loadTime:t,fullLoadTime:n,fps:i,percentDroppedFrames:a/(r+a)*100}}};e.AJAXError=z,e.ARRAY_TYPE=Ja,e.Actor=function(){function e(t,n,r){_classCallCheck(this,e),this.target=t,this.parent=n,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},l(["receive","process"],this),this.invoker=new yl(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=v()?t:window}return _createClass(e,[{key:"send",value:function(e,t,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[o]=n);var s=w(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!n,targetMapId:r,mustQueue:a,sourceMapId:this.mapId,data:br(t,s)},s),{cancel:function(){n&&delete i.callbacks[o],i.target.postMessage({id:o,type:"<cancel>",targetMapId:r,sourceMapId:i.mapId})}}}},{key:"receive",value:function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else v()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)}},{key:"process",value:function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}}},{key:"processTask",value:function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(wr(t.error)):r(null,wr(t.data)))}else{var i=!1,a=w(this.globalScope)?void 0:[],o=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?br(t):null,data:br(r,a)},a)}:function(e){i=!0},s=null,u=wr(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,u,o);else if(this.parent.getWorkerSource){var l=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,l[0],u.source)[l[1]](u,o)}else o(new Error("Could not find function ".concat(t.type)));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}}},{key:"remove",value:function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}}]),e}(),e.AlphaImage=lo,e.CanonicalTileID=Il,e.CollisionBoxArray=Oi,e.CollisionCircleLayoutArray=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(xi),e.Color=Le,e.DEMData=Ol,e.DataConstantProperty=Kr,e.DictionaryCoder=Rl,e.EXTENT=Ta,e.ErrorEvent=J,e.EvaluationParameters=Ur,e.Event=Z,e.Evented=K,e.FeatureIndex=Yl,e.FillBucket=Jo,e.FillExtrusionBucket=gs,e.GeoJSONFeature=Fl,e.ImageAtlas=hu,e.ImagePosition=cu,e.LineBucket=Ms,e.LineStripIndexArray=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(Di),e.LngLat=bl,e.LngLatBounds=wl,e.MercatorCoordinate=Tl,e.ONE_EM=24,e.OverscaledTileID=Al,e.PerformanceUtils=Gl,e.PosArray=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(hi),e.Properties=ri,e.QuadTriangleArray=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(Ci),e.RGBAImage=co,e.RasterBoundsArray=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(fi),e.RequestPerformance=function(){function e(t){_classCallCheck(this,e),this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},performance.mark(this._marks.start)}return _createClass(e,[{key:"finish",value:function(){performance.mark(this._marks.end);var e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}}]),e}(),e.ResourceType=Y,e.SegmentVector=ra,e.SymbolBucket=ul,e.Transitionable=qr,e.TriangleIndexArray=ea,e.Uniform1f=pa,e.Uniform1i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).current=0,i}return _createClass(n,[{key:"set",value:function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}}]),n}(da),e.Uniform2f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).current=[0,0],i}return _createClass(n,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}}]),n}(da),e.Uniform3f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).current=[0,0,0],i}return _createClass(n,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}}]),n}(da),e.Uniform4f=ma,e.UniformColor=ga,e.UniformMatrix4f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).current=va,i}return _createClass(n,[{key:"set",value:function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}}]),n}(da),e.UnwrappedTileID=Dl,e.ValidationError=ee,e.ZoomHistory=xr,e.addDynamicAttributes=il,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),a=null;e.forEach(function(e,o){t(e,function(e,t){e&&(a=e),i[o]=t,0==--r&&n(a,i)})})},e.bezier=r,e.bindAll=l,e.cacheEntryPossiblyAdded=function(e){++P>I&&(e.getActor().send("enforceCacheSizeLimit",L),P=0)},e.clamp=a,e.clearTileCache=function(e){var t=caches.delete(T);e&&t.catch(e).then(function(){return e()})},e.clipLine=Ru,e.clone=function(e){var t=new Ja(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=f,e.collisionCircleLayout=Ns,e.config=E,e.create=function(){var e=new Ja(16);return Ja!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.createExpression=Mn,e.createFilter=jn,e.createLayout=li,e.createStyleLayer=function(e){return"custom"===e.type?new gl(e):new vl[e.type](e)},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=i,e.emitValidationErrors=pr,e.enforceCacheSizeLimit=function(e){"undefined"==typeof caches||M||(M=caches.open(T)),M&&M.then(function(t){t.keys().then(function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])})})},e.evaluateSizeForFeature=function(e,t,n){var r=t.uSize,i=t.uSizeT,a=n.lowerSize,o=n.upperSize;return"source"===e.kind?a/Mu:"composite"===e.kind?wt(a/Mu,o/Mu,i):r},e.evaluateSizeForZoom=function(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,o=e.minZoom,s=e.maxZoom,u=i?a(Yt.interpolationFactor(i,t,o,s),0,1):0;"camera"===e.kind?r=wt(e.minSize,e.maxSize,u):n=u}return{uSizeT:n,uSize:r}},e.evaluateVariableOffset=Xu,e.evented=zr,e.exported=k,e.exported$1=O,e.extend=s,e.filterObject=h,e.getAnchorAlignment=ku,e.getAnchorJustification=Zu,e.getArrayBuffer=U,e.getImage=function e(t,n){if(O.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),q>=E.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return G.push(r),r}q++;var i=!1,a=function(){if(!i)for(i=!0,q--;G.length&&q<E.MAX_PARALLEL_IMAGE_REQUESTS;){var t=G.shift(),n=t.requestParameters,r=t.callback;t.cancelled||(t.cancel=e(n,r).cancel)}},o=U(t,function(e,t,r,i){var o,s,u,l;a(),e?n(e):t&&(o=t,s=function(e,t){null!=e?n(e):null!=t&&n(null,t,{cacheControl:r,expires:i})},"function"==typeof createImageBitmap?(u=s,l=new Blob([new Uint8Array(o)],{type:"image/png"}),createImageBitmap(l).then(function(e){u(null,e)}).catch(function(e){u(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))})):function(e,t){var n=new Image;n.onload=function(){t(null,n),URL.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame(function(){n.src=W})},n.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var r=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?URL.createObjectURL(r):W}(o,s))});return{cancel:function(){o.cancel(),a()}}},e.getJSON=function(e,t){return H(s(e,{type:"json"}),t)},e.getOverlapMode=dl,e.getRTLTextPluginStatus=jr,e.getReferrer=j,e.getVideo=function(e,t){var n=window.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(var r=0;r<e.length;r++){var i=window.document.createElement("source");V(e[r])||(n.crossOrigin="Anonymous"),i.src=e[r],n.appendChild(i)}return{cancel:function(){}}},e.identity=Ka,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*o,_=n*u-i*o,b=n*l-a*o,w=r*u-i*s,x=r*l-a*s,k=i*l-a*u,C=c*m-h*p,S=c*g-f*p,M=c*v-d*p,E=h*g-f*m,T=h*v-d*m,L=f*v-d*g,I=y*L-_*T+b*E+w*M-x*S+k*C;return I?(e[0]=(s*L-u*T+l*E)*(I=1/I),e[1]=(i*T-r*L-a*E)*I,e[2]=(m*k-g*x+v*w)*I,e[3]=(f*x-h*k-d*w)*I,e[4]=(u*M-o*L-l*S)*I,e[5]=(n*L-i*M+a*S)*I,e[6]=(g*b-p*k-v*_)*I,e[7]=(c*k-f*b+d*_)*I,e[8]=(o*T-s*M+l*C)*I,e[9]=(r*M-n*T-a*C)*I,e[10]=(p*x-m*b+v*y)*I,e[11]=(h*b-c*x-d*y)*I,e[12]=(s*S-o*E-u*C)*I,e[13]=(n*E-r*S+i*C)*I,e[14]=(m*_-p*w-g*y)*I,e[15]=(c*w-h*_+f*y)*I,e):null},e.isImageBitmap=x,e.isSafari=w,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.lazyLoadRTLTextPlugin=function(){Hr.isLoading()||Hr.isLoaded()||"deferred"!==jr()||Br()},e.makeRequest=H,e.mapObject=c,e.mercatorXfromLng=Cl,e.mercatorYfromLat=Sl,e.mercatorZfromAltitude=Ml,e.mul=to,e.multiply=Qa,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.number=wt,e.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),u=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(o+a)*l,e[15]=1,e},e.parseCacheControl=function(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(e,n,r,i){var a=r||i;return t[n]=!a||a.toLowerCase(),""}),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t},e.parseGlyphPBF=function(e){return new Ys(e).readFields(ou,[])},e.pbf=Ys,e.performSymbolLayout=function(t,n,r,i,a,o,s){t.createArrays(),t.tilePixelRatio=Ta/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var u=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,c={layoutIconSize:l["icon-size"].possiblyEvaluate(new Ur(t.zoom+1),s),layoutTextSize:l["text-size"].possiblyEvaluate(new Ur(t.zoom+1),s),textMaxSize:l["text-size"].possiblyEvaluate(new Ur(18))};if("composite"===t.textSizeData.kind){var h=t.textSizeData,f=h.minZoom,d=h.maxZoom;c.compositeTextSizes=[l["text-size"].possiblyEvaluate(new Ur(f),s),l["text-size"].possiblyEvaluate(new Ur(d),s)]}if("composite"===t.iconSizeData.kind){var m=t.iconSizeData,g=m.minZoom,v=m.maxZoom;c.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new Ur(g),s),l["icon-size"].possiblyEvaluate(new Ur(v),s)]}var y,_=24*u.get("text-line-height"),b="viewport"!==u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),w=u.get("text-keep-upright"),x=u.get("text-size"),k=_createForOfIteratorHelper(t.features);try{var C=function(){var o=y.value,l=u.get("text-font").evaluate(o,{},s).join(","),h=x.evaluate(o,{},s),f=c.layoutTextSize.evaluate(o,{},s),d=c.layoutIconSize.evaluate(o,{},s),m={horizontal:{},vertical:void 0},g=o.text,v=void 0,k=[0,0];if(g){var C=g.toString(),S=24*u.get("text-letter-spacing").evaluate(o,{},s),M=function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;)if(!Sr(t.value.charCodeAt(0)))return!1}catch(r){n.e(r)}finally{n.f()}return!0}(C)?S:0,E=u.get("text-anchor").evaluate(o,{},s),T=u.get("text-variable-anchor");if(!T){var L=u.get("text-radial-offset").evaluate(o,{},s);k=L?Xu(E,[24*L,$u]):u.get("text-offset").evaluate(o,{},s).map(function(e){return 24*e})}var I=b?"center":u.get("text-justify").evaluate(o,{},s),D=u.get("symbol-placement"),A="point"===D?24*u.get("text-max-width").evaluate(o,{},s):0,P=function(){t.allowVerticalPlacement&&Cr(C)&&(m.vertical=pu(g,n,r,a,l,A,_,E,"left",M,k,e.WritingMode.vertical,!0,D,f,h))};if(!b&&T){for(var O="auto"===I?T.map(function(e){return Zu(e)}):[I],N=!1,R=0;R<O.length;R++){var F=O[R];if(!m.horizontal[F])if(N)m.horizontal[F]=m.horizontal[0];else{var Y=pu(g,n,r,a,l,A,_,"center",F,M,k,e.WritingMode.horizontal,!1,D,f,h);Y&&(m.horizontal[F]=Y,N=1===Y.positionedLines.length)}}P()}else{"auto"===I&&(I=Zu(E));var z=pu(g,n,r,a,l,A,_,E,I,M,k,e.WritingMode.horizontal,!1,D,f,h);z&&(m.horizontal[I]=z),P(),Cr(C)&&b&&w&&(m.vertical=pu(g,n,r,a,l,A,_,E,I,M,k,e.WritingMode.vertical,!1,D,f,h))}}var j=!1;if(o.icon&&o.icon.name){var B=i[o.icon.name];B&&(v=function(e,t,n){var r=ku(n),i=r.horizontalAlign,a=r.verticalAlign,o=t[0]-e.displaySize[0]*i,s=t[1]-e.displaySize[1]*a;return{image:e,top:s,bottom:s+e.displaySize[1],left:o,right:o+e.displaySize[0]}}(a[o.icon.name],u.get("icon-offset").evaluate(o,{},s),u.get("icon-anchor").evaluate(o,{},s)),j=!!B.sdf,void 0===t.sdfIcons?t.sdfIcons=j:t.sdfIcons!==j&&p("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(B.pixelRatio!==t.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var H=Qu(m.horizontal)||m.vertical;t.iconsInText=!!H&&H.iconsInText,(H||v)&&function(t,n,r,i,a,o,s,u,l,c,h){var f=o.textMaxSize.evaluate(n,{});void 0===f&&(f=s);var d,m=t.layers[0].layout,g=m.get("icon-offset").evaluate(n,{},h),v=Qu(r.horizontal),y=s/24,_=t.tilePixelRatio*y,b=t.tilePixelRatio*f/24,w=t.tilePixelRatio*u,x=t.tilePixelRatio*m.get("symbol-spacing"),k=m.get("text-padding")*t.tilePixelRatio,C=m.get("icon-padding")*t.tilePixelRatio,S=m.get("text-max-angle")/180*Math.PI,M="viewport"!==m.get("text-rotation-alignment")&&"point"!==m.get("symbol-placement"),E="map"===m.get("icon-rotation-alignment")&&"point"!==m.get("symbol-placement"),T=m.get("symbol-placement"),L=x/2,I=m.get("icon-text-fit");i&&"none"!==I&&(t.allowVerticalPlacement&&r.vertical&&(d=Su(i,r.vertical,I,m.get("icon-text-fit-padding"),g,y)),v&&(i=Su(i,v,I,m.get("icon-text-fit-padding"),g,y)));var D=function(u,f){f.x<0||f.x>=Ta||f.y<0||f.y>=Ta||function(t,n,r,i,a,o,s,u,l,c,h,f,d,m,g,v,y,_,b,w,x,k,C,S,M){var E,T,L,I,D,A=t.addToLineVertexArray(n,r),P=0,O=0,N=0,R=0,F=-1,Y=-1,z={},j=ua(""),B=0,H=0;if(void 0===u._unevaluatedLayout.getValue("text-radial-offset")?(B=(E=_slicedToArray(u.layout.get("text-offset").evaluate(x,{},S).map(function(e){return 24*e}),2))[0],H=E[1]):(B=24*u.layout.get("text-radial-offset").evaluate(x,{},S),H=$u),t.allowVerticalPlacement&&i.vertical){var U=u.layout.get("text-rotate").evaluate(x,{},S)+90;I=new Hu(l,n,c,h,f,i.vertical,d,m,g,U),s&&(D=new Hu(l,n,c,h,f,s,y,_,g,U))}if(a){var V=u.layout.get("icon-rotate").evaluate(x,{}),G="none"!==u.layout.get("icon-text-fit"),q=Fu(a,V,C,G),W=s?Fu(s,V,C,G):void 0;L=new Hu(l,n,c,h,f,a,y,_,!1,V),P=4*q.length;var $=t.iconSizeData,X=null;"source"===$.kind?(X=[Mu*u.layout.get("icon-size").evaluate(x,{})])[0]>Ju&&p("".concat(t.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===$.kind&&((X=[Mu*k.compositeIconSizes[0].evaluate(x,{},S),Mu*k.compositeIconSizes[1].evaluate(x,{},S)])[0]>Ju||X[1]>Ju)&&p("".concat(t.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')),t.addSymbols(t.icon,q,X,w,b,x,e.WritingMode.none,n,A.lineStartIndex,A.lineLength,-1,S),F=t.icon.placedSymbolArray.length-1,W&&(O=4*W.length,t.addSymbols(t.icon,W,X,w,b,x,e.WritingMode.vertical,n,A.lineStartIndex,A.lineLength,-1,S),Y=t.icon.placedSymbolArray.length-1)}for(var Z=Object.keys(i.horizontal),J=0,K=Z;J<K.length;J++){var Q=K[J],ee=i.horizontal[Q];if(!T){j=ua(ee.text);var te=u.layout.get("text-rotate").evaluate(x,{},S);T=new Hu(l,n,c,h,f,ee,d,m,g,te)}var ne=1===ee.positionedLines.length;if(N+=Ku(t,n,ee,o,u,g,x,v,A,i.vertical?e.WritingMode.horizontal:e.WritingMode.horizontalOnly,ne?Z:[Q],z,F,k,S),ne)break}i.vertical&&(R+=Ku(t,n,i.vertical,o,u,g,x,v,A,e.WritingMode.vertical,["vertical"],z,Y,k,S));var re=T?T.boxStartIndex:t.collisionBoxArray.length,ie=T?T.boxEndIndex:t.collisionBoxArray.length,ae=I?I.boxStartIndex:t.collisionBoxArray.length,oe=I?I.boxEndIndex:t.collisionBoxArray.length,se=L?L.boxStartIndex:t.collisionBoxArray.length,ue=L?L.boxEndIndex:t.collisionBoxArray.length,le=D?D.boxStartIndex:t.collisionBoxArray.length,ce=D?D.boxEndIndex:t.collisionBoxArray.length,he=-1,fe=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};he=fe(T,he),he=fe(I,he),he=fe(L,he);var de=(he=fe(D,he))>-1?1:0;de&&(he*=M/24),t.glyphOffsetArray.length>=ul.MAX_GLYPHS&&p("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,x.sortKey),t.symbolInstances.emplaceBack(n.x,n.y,z.right>=0?z.right:-1,z.center>=0?z.center:-1,z.left>=0?z.left:-1,z.vertical||-1,F,Y,j,re,ie,ae,oe,se,ue,le,ce,c,N,R,P,O,de,0,d,B,H,he)}(t,f,u,r,i,a,d,t.layers[0],t.collisionBoxArray,n.index,n.sourceLayerIndex,t.index,_,k,M,l,w,C,E,g,n,o,c,h,s)};if("line"===T){var A,P=_createForOfIteratorHelper(Ru(n.geometry,0,0,Ta,Ta));try{for(P.s();!(A=P.n()).done;){var O,N=A.value,R=_createForOfIteratorHelper(Ou(N,x,S,r.vertical||v,i,24,b,t.overscaling,Ta));try{for(R.s();!(O=R.n()).done;){var F=O.value;v&&el(t,v.text,L,F)||D(N,F)}}catch(ee){R.e(ee)}finally{R.f()}}}catch(ee){P.e(ee)}finally{P.f()}}else if("line-center"===T){var Y,z=_createForOfIteratorHelper(n.geometry);try{for(z.s();!(Y=z.n()).done;){var j=Y.value;if(j.length>1){var B=Pu(j,S,r.vertical||v,i,24,b);B&&D(j,B)}}}catch(ee){z.e(ee)}finally{z.f()}}else if("Polygon"===n.type){var H,U=_createForOfIteratorHelper(Wo(n.geometry,0));try{for(U.s();!(H=U.n()).done;){var V=H.value,G=Gu(V,16);D(V[0],new Tu(G.x,G.y,0))}}catch(ee){U.e(ee)}finally{U.f()}}else if("LineString"===n.type){var q,W=_createForOfIteratorHelper(n.geometry);try{for(W.s();!(q=W.n()).done;){var $=q.value;D($,new Tu($[0].x,$[0].y,0))}}catch(ee){W.e(ee)}finally{W.f()}}else if("Point"===n.type){var X,Z=_createForOfIteratorHelper(n.geometry);try{for(Z.s();!(X=Z.n()).done;){var J,K=_createForOfIteratorHelper(X.value);try{for(K.s();!(J=K.n()).done;){var Q=J.value;D([Q],new Tu(Q.x,Q.y,0))}}catch(ee){K.e(ee)}finally{K.f()}}}catch(ee){Z.e(ee)}finally{Z.f()}}}(t,o,m,v,i,c,f,d,k,j,s)};for(k.s();!(y=k.n()).done;)C()}catch(S){k.e(S)}finally{k.f()}o&&t.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(a=1/(r-i)),e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=Hr,e.pointGeometry=C,e.polygonIntersectsPolygon=Na,e.potpack=lu,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=vr,e.registerForPluginStateChange=function(e){return e({pluginStatus:Nr,pluginURL:Rr}),zr.on("pluginStateChange",e),e},e.renderColorRamp=ho,e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+c*r,e[6]=s*i+h*r,e[7]=u*i+f*r,e[8]=l*i-a*r,e[9]=c*i-o*r,e[10]=h*i-s*r,e[11]=f*i-u*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],h=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+c*r,e[2]=s*i+h*r,e[3]=u*i+f*r,e[4]=l*i-a*r,e[5]=c*i-o*r,e[6]=h*i-s*r,e[7]=f*i-u*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.setCacheLimits=function(e,t){L=e,I=t},e.setRTLTextPlugin=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Nr===Dr||Nr===Ar||Nr===Pr)throw new Error("setRTLTextPlugin cannot be called multiple times.");Rr=k.resolveURL(e),Nr=Dr,Or=t,Yr(),n||Br()},e.spec=Q,e.sphericalToCartesian=function(e){var t=_slicedToArray(e,3),n=t[0],r=t[1],i=t[2];return r+=90,r*=Math.PI/180,i*=Math.PI/180,{x:n*Math.cos(r)*Math.sin(i),y:n*Math.sin(r)*Math.sin(i),z:n*Math.cos(i)}},e.toEvaluationFeature=Aa,e.transformMat4=no,e.translate=function(e,t,n){var r,i,a,o,s,u,l,c,h,f,d,p,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],d=t[10],p=t[11],e[0]=r=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=h,e[9]=f,e[10]=d,e[11]=p,e[12]=r*m+s*g+h*v+t[12],e[13]=i*m+u*g+f*v+t[13],e[14]=a*m+l*g+d*v+t[14],e[15]=o*m+c*g+p*v+t[15]),e},e.triggerPluginCompletionEvent=Fr,e.unicodeBlockLookup=kr,e.uniqueId=function(){return u++},e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers.".concat(n,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(n,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(n,': property "renderingMode" must be either "2d" or "3d"')}),t},e.validateLight=hr,e.validateStyle=cr,e.vectorTile=ts,e.warnOnce=p,e.wrap=o}),r(0,function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){var r,i="[",a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+="".concat(t(o),",")}}catch(c){a.e(c)}finally{a.f()}return"".concat(i,"]")}for(var s=Object.keys(e).sort(),u="{",l=0;l<s.length;l++)u+="".concat(JSON.stringify(s[l]),":").concat(t(e[s[l]]),",");return"".concat(u,"}")}function n(n){var r,i="",a=_createForOfIteratorHelper(e.refProperties);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+="/".concat(t(n[o]))}}catch(s){a.e(s)}finally{a.f()}return i}var r=function(){function t(e){_classCallCheck(this,t),this.keyCache={},e&&this.replace(e)}return _createClass(t,[{key:"replace",value:function(e){this._layerConfigs={},this._layers={},this.update(e,[])}},{key:"update",value:function(t,r){var i,a=this,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;this._layerConfigs[s.id]=s;var u=this._layers[s.id]=e.createStyleLayer(s);u._featureFilter=e.createFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}}catch(b){o.e(b)}finally{o.f()}var l,c=_createForOfIteratorHelper(r);try{for(c.s();!(l=c.n()).done;){var h=l.value;delete this.keyCache[h],delete this._layerConfigs[h],delete this._layers[h]}}catch(b){c.e(b)}finally{c.f()}this.familiesBySource={};var f,d=_createForOfIteratorHelper(function(e,t){for(var r={},i=0;i<e.length;i++){var a=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=a);var o=r[a];o||(o=r[a]=[]),o.push(e[i])}var s=[];for(var u in r)s.push(r[u]);return s}(Object.values(this._layerConfigs),this.keyCache));try{for(d.s();!(f=d.n()).done;){var p=f.value.map(function(e){return a._layers[e.id]}),m=p[0];if("none"!==m.visibility){var g=m.source||"",v=this.familiesBySource[g];v||(v=this.familiesBySource[g]={});var y=m.sourceLayer||"_geojsonTileLayer",_=v[y];_||(_=v[y]=[]),_.push(p)}}}catch(b){d.e(b)}finally{d.f()}}}]),t}(),i=_createClass(function t(n){_classCallCheck(this,t);var r={},i=[];for(var a in n){var o=n[a],s=r[a]={};for(var u in o){if((p=o[+u])&&0!==p.bitmap.width&&0!==p.bitmap.height){var l={x:0,y:0,w:p.bitmap.width+2,h:p.bitmap.height+2};i.push(l),s[u]={rect:l,metrics:p.metrics}}}}var c=e.potpack(i),h=c.w,f=c.h,d=new e.AlphaImage({width:h||1,height:f||1});for(var a in n){o=n[a];for(var s in o){if((u=o[+s])&&0!==u.bitmap.width&&0!==u.bitmap.height){var p=r[a][s].rect;e.AlphaImage.copy(u.bitmap,d,{x:0,y:0},{x:p.x+1,y:p.y+1},u.bitmap)}}}this.image=d,this.positions=r});e.register("GlyphAtlas",i);var a=function(){function t(n){_classCallCheck(this,t),this.tileID=new e.OverscaledTileID(n.tileID.overscaledZ,n.tileID.wrap,n.tileID.canonical.z,n.tileID.canonical.x,n.tileID.canonical.y),this.uid=n.uid,this.zoom=n.zoom,this.pixelRatio=n.pixelRatio,this.tileSize=n.tileSize,this.source=n.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=n.showCollisionBoxes,this.collectResourceTiming=!!n.collectResourceTiming,this.returnDependencies=!!n.returnDependencies,this.promoteId=n.promoteId}return _createClass(t,[{key:"parse",value:function(t,n,r,a,s){var u=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var l=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var h,f,d,p,m={},g={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},v=n.familiesBySource[this.source];for(var y in v){var _=t.layers[y];if(_){1===_.version&&e.warnOnce('Vector tile source "'.concat(this.source,'" layer "').concat(y,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));for(var b=l.encode(y),w=[],x=0;x<_.length;x++){var k=_.feature(x),C=c.getId(k,y);w.push({feature:k,id:C,index:x,sourceLayerIndex:b})}var S,M=_createForOfIteratorHelper(v[y]);try{for(M.s();!(S=M.n()).done;){var E=S.value,T=E[0];T.minzoom&&this.zoom<Math.floor(T.minzoom)||T.maxzoom&&this.zoom>=T.maxzoom||"none"!==T.visibility&&(o(E,this.zoom,r),(m[T.id]=T.createBucket({index:c.bucketLayerIDs.length,layers:E,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(w,g,this.tileID.canonical),c.bucketLayerIDs.push(E.map(function(e){return e.id})))}}catch(P){M.e(P)}finally{M.f()}}}var L=e.mapObject(g.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(L).length?a.send("getGlyphs",{uid:this.uid,stacks:L},function(e,t){h||(h=e,f=t,A.call(u))}):f={};var I=Object.keys(g.iconDependencies);I.length?a.send("getImages",{icons:I,source:this.source,tileID:this.tileID,type:"icons"},function(e,t){h||(h=e,d=t,A.call(u))}):d={};var D=Object.keys(g.patternDependencies);function A(){if(h)return s(h);if(f&&d&&p){var t=new i(f),n=new e.ImageAtlas(d,p);for(var a in m){var u=m[a];u instanceof e.SymbolBucket?(o(u.layers,this.zoom,r),e.performSymbolLayout(u,f,t.positions,d,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):u.hasPattern&&(u instanceof e.LineBucket||u instanceof e.FillBucket||u instanceof e.FillExtrusionBucket)&&(o(u.layers,this.zoom,r),u.addFeatures(g,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:Object.values(m).filter(function(e){return!e.isEmpty()}),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?f:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?t.positions:null})}}D.length?a.send("getImages",{icons:D,source:this.source,tileID:this.tileID,type:"patterns"},function(e,t){h||(h=e,p=t,A.call(u))}):p={},A.call(this)}}]),t}();function o(t,n,r){var i,a=new e.EvaluationParameters(n),o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){i.value.recalculate(a,r)}}catch(s){o.e(s)}finally{o.f()}}function s(t,n){var r=e.getArrayBuffer(t.request,function(t,r,i,a){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:a})});return function(){r.cancel(),n()}}var u=function(){function t(e,n,r,i){_classCallCheck(this,t),this.actor=e,this.layerIndex=n,this.availableImages=r,this.loadVectorData=i||s,this.loading={},this.loaded={}}return _createClass(t,[{key:"loadTile",value:function(t,n){var r=this,i=t.uid;this.loading||(this.loading={});var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new a(t);s.abort=this.loadVectorData(t,function(t,a){if(delete r.loading[i],t||!a)return s.status="done",r.loaded[i]=s,n(t);var u=a.rawData,l={};a.expires&&(l.expires=a.expires),a.cacheControl&&(l.cacheControl=a.cacheControl);var c={};if(o){var h=o.finish();h&&(c.resourceTiming=JSON.parse(JSON.stringify(h)))}s.vectorTile=a.vectorTile,s.parse(a.vectorTile,r.layerIndex,r.availableImages,r.actor,function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:u.slice(0)},r,l,c))}),r.loaded=r.loaded||{},r.loaded[i]=s})}},{key:"reloadTile",value:function(e,t){var n=this,r=this.loaded,i=e.uid,a=this;if(r&&r[i]){var o=r[i];o.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,r){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,n.availableImages,a.actor,i)),t(e,r)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}},{key:"abortTile",value:function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()}},{key:"removeTile",value:function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()}}]),t}(),l=function(){function t(){_classCallCheck(this,t),this.loaded={}}return _createClass(t,[{key:"loadTile",value:function(t,n){var r=t.uid,i=t.encoding,a=t.rawImageData,o=e.isImageBitmap(a)?this.getImageData(a):a,s=new e.DEMData(r,o,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)}},{key:"getImageData",value:function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)}},{key:"removeTile",value:function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]}}]),t}(),c=function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)h(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)h(t.coordinates[r],n);return t};function h(e,t){if(0!==e.length){f(e[0],t);for(var n=1;n<e.length;n++)f(e[n],!t)}}function f(e,t){for(var n=0,r=0,i=0,a=e.length,o=a-1;i<a;o=i++){var s=(e[i][0]-e[o][0])*(e[o][1]+e[i][1]),u=n+s;r+=Math.abs(n)>=Math.abs(s)?n-u+s:s-u+n,n=u}n+r>=0!=!!t&&e.reverse()}var d=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,p=function(){function t(n){_classCallCheck(this,t),this._feature=n,this.extent=e.EXTENT,this.type=n.type,this.properties=n.tags,"id"in n&&!isNaN(n.id)&&(this.id=parseInt(n.id,10))}return _createClass(t,[{key:"loadGeometry",value:function(){if(1===this._feature.type){var t,n=[],r=_createForOfIteratorHelper(this._feature.geometry);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push([new e.pointGeometry(i[0],i[1])])}}catch(d){r.e(d)}finally{r.f()}return n}var a,o=[],s=_createForOfIteratorHelper(this._feature.geometry);try{for(s.s();!(a=s.n()).done;){var u,l=a.value,c=[],h=_createForOfIteratorHelper(l);try{for(h.s();!(u=h.n()).done;){var f=u.value;c.push(new e.pointGeometry(f[0],f[1]))}}catch(d){h.e(d)}finally{h.f()}o.push(c)}}catch(d){s.e(d)}finally{s.f()}return o}},{key:"toGeoJSON",value:function(e,t,n){return d.call(this,e,t,n)}}]),t}(),m=function(){function t(n){_classCallCheck(this,t),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=n.length,this._features=n}return _createClass(t,[{key:"feature",value:function(e){return new p(this._features[e])}}]),t}(),g={exports:{}},v=e.pointGeometry,y=e.vectorTile.VectorTileFeature,_=b;function b(e,t){this.options=t||{},this.features=e,this.length=e.length}function w(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}b.prototype.feature=function(e){return new w(this.features[e],this.options.extent)},w.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],i=0;i<n.length;i++)r.push(new v(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var u=o[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[t,r,n,i]},w.prototype.toGeoJSON=y.prototype.toGeoJSON;var x=e.pbf,k=_;function C(e){var t=new x;return function(e,t){for(var n in e.layers)t.writeMessage(3,S,e.layers[n])}(e,t),t.finish()}function S(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,M,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var a=r.values;for(n=0;n<a.length;n++)t.writeMessage(4,D,a[n])}function M(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,E,e),t.writeVarintField(3,n.type),t.writeMessage(4,I,n)}function E(e,t){var n=e.feature,r=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in n.properties){var u=n.properties[s],l=a[s];if(null!==u){void 0===l&&(r.push(s),a[s]=l=r.length-1),t.writeVarint(l);var c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var h=c+":"+u,f=o[h];void 0===f&&(i.push(u),o[h]=f=i.length-1),t.writeVarint(f)}}}function T(e,t){return(t<<3)+(7&e)}function L(e){return e<<1^e>>31}function I(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,a=0,o=n.length,s=0;s<o;s++){var u=n[s],l=1;1===r&&(l=u.length),t.writeVarint(T(1,l));for(var c=3===r?u.length-1:u.length,h=0;h<c;h++){1===h&&1!==r&&t.writeVarint(T(2,c-1));var f=u[h].x-i,d=u[h].y-a;t.writeVarint(L(f)),t.writeVarint(L(d)),i+=f,a+=d}3===r&&t.writeVarint(T(7,1))}}function D(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}g.exports=C,g.exports.fromVectorTileJs=C,g.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new k(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return C({layers:n})},g.exports.GeoJSONWrapper=k;var A=g.exports;function P(e,t,n,r,i,a){if(!(i-r<=n)){var o=r+i>>1;O(e,t,o,r,i,a%2),P(e,t,n,r,o-1,a+1),P(e,t,n,o+1,i,a+1)}}function O(e,t,n,r,i,a){for(;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,u=Math.log(o),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(o-l)/o)*(s-o/2<0?-1:1);O(e,t,n,Math.max(r,Math.floor(n-s*l/o+c)),Math.min(i,Math.floor(n+(o-s)*l/o+c)),a)}var h=t[2*n+a],f=r,d=i;for(N(e,t,r,n),t[2*i+a]>h&&N(e,t,r,i);f<d;){for(N(e,t,f,d),f++,d--;t[2*f+a]<h;)f++;for(;t[2*d+a]>h;)d--}t[2*r+a]===h?N(e,t,r,d):N(e,t,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}function N(e,t,n,r){R(e,n,r),R(t,2*n,2*r),R(t,2*n+1,2*r+1)}function R(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function F(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}var Y,z=function(e){return e[0]},j=function(e){return e[1]},B=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;_classCallCheck(this,e),this.nodeSize=i,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new o(t.length),u=this.coords=new a(2*t.length),l=0;l<t.length;l++)s[l]=l,u[2*l]=n(t[l]),u[2*l+1]=r(t[l]);P(s,u,i,0,s.length-1,0)}return _createClass(e,[{key:"range",value:function(e,t,n,r){return function(e,t,n,r,i,a,o){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var h=l.pop(),f=l.pop(),d=l.pop();if(f-d<=o)for(var p=d;p<=f;p++)s=t[2*p],u=t[2*p+1],s>=n&&s<=i&&u>=r&&u<=a&&c.push(e[p]);else{var m=Math.floor((d+f)/2);s=t[2*m],u=t[2*m+1],s>=n&&s<=i&&u>=r&&u<=a&&c.push(e[m]);var g=(h+1)%2;(0===h?n<=s:r<=u)&&(l.push(d),l.push(m-1),l.push(g)),(0===h?i>=s:a>=u)&&(l.push(m+1),l.push(f),l.push(g))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)}},{key:"within",value:function(e,t,n){return function(e,t,n,r,i,a){for(var o=[0,e.length-1,0],s=[],u=i*i;o.length;){var l=o.pop(),c=o.pop(),h=o.pop();if(c-h<=a)for(var f=h;f<=c;f++)F(t[2*f],t[2*f+1],n,r)<=u&&s.push(e[f]);else{var d=Math.floor((h+c)/2),p=t[2*d],m=t[2*d+1];F(p,m,n,r)<=u&&s.push(e[d]);var g=(l+1)%2;(0===l?n-i<=p:r-i<=m)&&(o.push(h),o.push(d-1),o.push(g)),(0===l?n+i>=p:r+i>=m)&&(o.push(d+1),o.push(c),o.push(g))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}]),e}(),H={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},U=Math.fround||(Y=new Float32Array(1),function(e){return Y[0]=+e,Y[0]}),V=function(){function e(t){_classCallCheck(this,e),this.options=K(Object.create(H),t),this.trees=new Array(this.options.maxZoom+1)}return _createClass(e,[{key:"load",value:function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,a=t.nodeSize;n&&console.time("total time");var o="prepare ".concat(e.length," points");n&&console.time(o),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(q(e[u],u));this.trees[i+1]=new B(s,Q,ee,a,Float32Array),n&&console.timeEnd(o);for(var l=i;l>=r;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new B(s,Q,ee,a,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}var u,l=this.trees[this._limitZoom(t)],c=[],h=_createForOfIteratorHelper(l.range(X(n),Z(a),X(i),Z(r)));try{for(h.s();!(u=h.n()).done;){var f=u.value,d=l.points[f];c.push(d.numPoints?W(d):this.points[d.index])}}catch(p){h.e(p)}finally{h.f()}return c}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var a=i.points[t];if(!a)throw new Error(r);var o,s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),u=[],l=_createForOfIteratorHelper(i.within(a.x,a.y,s));try{for(l.s();!(o=l.n()).done;){var c=o.value,h=i.points[c];h.parentId===e&&u.push(h.numPoints?W(h):this.points[h.index])}}catch(f){l.e(f)}finally{l.f()}if(0===u.length)throw new Error(r);return u}},{key:"getLeaves",value:function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r}},{key:"getTile",value:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.extent,s=a.radius/o,u=(n-s)/i,l=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((t-s)/i,u,(t+1+s)/i,l),r.points,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-s/i,u,1,l),r.points,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,u,s/i,l),r.points,-1,n,i,c),c.features.length?c:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,r,i){var a,o=_createForOfIteratorHelper(this.getChildren(t));try{for(o.s();!(a=o.n()).done;){var s=a.value,u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}}catch(l){o.e(l)}finally{o.f()}return i}},{key:"_addTileFeatures",value:function(e,t,n,r,i,a){var o,s=_createForOfIteratorHelper(e);try{for(s.s();!(o=s.n()).done;){var u=t[o.value],l=u.numPoints,c=void 0,h=void 0,f=void 0;if(l)c=$(u),h=u.x,f=u.y;else{var d=this.points[u.index];c=d.properties,h=X(d.geometry.coordinates[0]),f=Z(d.geometry.coordinates[1])}var p={type:1,geometry:[[Math.round(this.options.extent*(h*i-n)),Math.round(this.options.extent*(f*i-r))]],tags:c},m=void 0;l?m=u.id:this.options.generateId?m=u.index:this.points[u.index].id&&(m=this.points[u.index].id),void 0!==m&&(p.id=m),a.features.push(p)}}catch(g){s.e(g)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=[],r=this.options,i=r.radius,a=r.extent,o=r.reduce,s=r.minPoints,u=i/(a*Math.pow(2,t)),l=0;l<e.length;l++){var c=e[l];if(!(c.zoom<=t)){c.zoom=t;var h,f=this.trees[t+1],d=f.within(c.x,c.y,u),p=c.numPoints||1,m=p,g=_createForOfIteratorHelper(d);try{for(g.s();!(h=g.n()).done;){var v=h.value,y=f.points[v];y.zoom>t&&(m+=y.numPoints||1)}}catch(A){g.e(A)}finally{g.f()}if(m>p&&m>=s){var _,b=c.x*p,w=c.y*p,x=o&&p>1?this._map(c,!0):null,k=(l<<5)+(t+1)+this.points.length,C=_createForOfIteratorHelper(d);try{for(C.s();!(_=C.n()).done;){var S=_.value,M=f.points[S];if(!(M.zoom<=t)){M.zoom=t;var E=M.numPoints||1;b+=M.x*E,w+=M.y*E,M.parentId=k,o&&(x||(x=this._map(c,!0)),o(x,this._map(M)))}}}catch(A){C.e(A)}finally{C.f()}c.parentId=k,n.push(G(b/m,w/m,k,m,x))}else if(n.push(c),m>1){var T,L=_createForOfIteratorHelper(d);try{for(L.s();!(T=L.n()).done;){var I=T.value,D=f.points[I];D.zoom<=t||(D.zoom=t,n.push(D))}}catch(A){L.e(A)}finally{L.f()}}}}return n}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?K({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?K({},r):r}}]),e}();function G(e,t,n,r,i){return{x:U(e),y:U(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function q(e,t){var n=_slicedToArray(e.geometry.coordinates,2),r=n[0],i=n[1];return{x:U(X(r)),y:U(Z(i)),zoom:1/0,index:t,parentId:-1}}function W(e){return{type:"Feature",id:e.id,properties:$(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),J(e.y)]}};var t}function $(e){var t=e.numPoints,n=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?Math.round(t/100)/10+"k":t;return K(K({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function X(e){return e/360+.5}function Z(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function J(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function K(e,t){for(var n in t)e[n]=t[n];return e}function Q(e){return e.x}function ee(e){return e.y}function te(e,t,n,r){for(var i,a=r,o=n-t>>1,s=n-t,u=e[t],l=e[t+1],c=e[n],h=e[n+1],f=t+3;f<n;f+=3){var d=ne(e[f],e[f+1],u,l,c,h);if(d>a)i=f,a=d;else if(d===a){var p=Math.abs(f-o);p<s&&(i=f,s=p)}}a>r&&(i-t>3&&te(e,t,i,r),e[i+2]=a,n-i>3&&te(e,i,n,r))}function ne(e,t,n,r,i,a){var o=i-n,s=a-r;if(0!==o||0!==s){var u=((e-n)*o+(t-r)*s)/(o*o+s*s);u>1?(n=i,r=a):u>0&&(n+=o*u,r+=s*u)}return(o=e-n)*o+(s=t-r)*s}function re(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)ie(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)ie(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)ie(e,t[r][i])}(i),i}function ie(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function ae(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=t.id;if(n.promoteId?u=t.properties[n.promoteId]:n.generateId&&(u=r||0),"Point"===a)oe(i,s);else if("MultiPoint"===a)for(var l=0;l<i.length;l++)oe(i[l],s);else if("LineString"===a)se(i,s,o,!1);else if("MultiLineString"===a){if(n.lineMetrics){for(l=0;l<i.length;l++)se(i[l],s=[],o,!1),e.push(re(u,"LineString",s,t.properties));return}ue(i,s,o,!1)}else if("Polygon"===a)ue(i,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(l=0;l<t.geometry.geometries.length;l++)ae(e,{id:u,geometry:t.geometry.geometries[l],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<i.length;l++){var c=[];ue(i[l],c,o,!0),s.push(c)}}e.push(re(u,a,s,t.properties))}}function oe(e,t){t.push(le(e[0])),t.push(ce(e[1])),t.push(0)}function se(e,t,n,r){for(var i,a,o=0,s=0;s<e.length;s++){var u=le(e[s][0]),l=ce(e[s][1]);t.push(u),t.push(l),t.push(0),s>0&&(o+=r?(i*l-u*a)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(l-a,2))),i=u,a=l}var c=t.length-3;t[2]=1,te(t,0,c,n),t[c+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function ue(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];se(e[i],a,n,r),t.push(a)}}function le(e){return e/360+.5}function ce(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function he(e,t,n,r,i,a,o,s){if(r/=t,a>=(n/=t)&&o<r)return e;if(o<n||a>=r)return null;for(var u=[],l=0;l<e.length;l++){var c=e[l],h=c.geometry,f=c.type,d=0===i?c.minX:c.minY,p=0===i?c.maxX:c.maxY;if(d>=n&&p<r)u.push(c);else if(!(p<n||d>=r)){var m=[];if("Point"===f||"MultiPoint"===f)fe(h,m,n,r,i);else if("LineString"===f)de(h,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===f)me(h,m,n,r,i,!1);else if("Polygon"===f)me(h,m,n,r,i,!0);else if("MultiPolygon"===f)for(var g=0;g<h.length;g++){var v=[];me(h[g],v,n,r,i,!0),v.length&&m.push(v)}if(m.length){if(s.lineMetrics&&"LineString"===f){for(g=0;g<m.length;g++)u.push(re(c.id,f,m[g],c.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===m.length?(f="LineString",m=m[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===m.length?"Point":"MultiPoint"),u.push(re(c.id,f,m,c.tags))}}}return u.length?u:null}function fe(e,t,n,r,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=n&&o<=r&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function de(e,t,n,r,i,a,o){for(var s,u,l=pe(e),c=0===i?ve:ye,h=e.start,f=0;f<e.length-3;f+=3){var d=e[f],p=e[f+1],m=e[f+2],g=e[f+3],v=e[f+4],y=0===i?d:p,_=0===i?g:v,b=!1;o&&(s=Math.sqrt(Math.pow(d-g,2)+Math.pow(p-v,2))),y<n?_>n&&(u=c(l,d,p,g,v,n),o&&(l.start=h+s*u)):y>r?_<r&&(u=c(l,d,p,g,v,r),o&&(l.start=h+s*u)):ge(l,d,p,m),_<n&&y>=n&&(u=c(l,d,p,g,v,n),b=!0),_>r&&y<=r&&(u=c(l,d,p,g,v,r),b=!0),!a&&b&&(o&&(l.end=h+s*u),t.push(l),l=pe(e)),o&&(h+=s)}var w=e.length-3;d=e[w],p=e[w+1],m=e[w+2],(y=0===i?d:p)>=n&&y<=r&&ge(l,d,p,m),w=l.length-3,a&&w>=3&&(l[w]!==l[0]||l[w+1]!==l[1])&&ge(l,l[0],l[1],l[2]),l.length&&t.push(l)}function pe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function me(e,t,n,r,i,a){for(var o=0;o<e.length;o++)de(e[o],t,n,r,i,a,!1)}function ge(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ve(e,t,n,r,i,a){var o=(a-t)/(r-t);return e.push(a),e.push(n+(i-n)*o),e.push(1),o}function ye(e,t,n,r,i,a){var o=(a-n)/(i-n);return e.push(t+(r-t)*o),e.push(a),e.push(1),o}function _e(e,t){for(var n=[],r=0;r<e.length;r++){var i,a=e[r],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)i=be(a.geometry,t);else if("MultiLineString"===o||"Polygon"===o){i=[];for(var s=0;s<a.geometry.length;s++)i.push(be(a.geometry[s],t))}else if("MultiPolygon"===o)for(i=[],s=0;s<a.geometry.length;s++){for(var u=[],l=0;l<a.geometry[s].length;l++)u.push(be(a.geometry[s][l],t));i.push(u)}n.push(re(a.id,o,i,a.tags))}return n}function be(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function we(e,t){if(e.transformed)return e;var n,r,i,a=1<<e.z,o=e.x,s=e.y;for(n=0;n<e.features.length;n++){var u=e.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(r=0;r<l.length;r+=2)u.geometry.push(xe(l[r],l[r+1],t,a,o,s));else for(r=0;r<l.length;r++){var h=[];for(i=0;i<l[r].length;i+=2)h.push(xe(l[r][i],l[r][i+1],t,a,o,s));u.geometry.push(h)}}return e.transformed=!0,e}function xe(e,t,n,r,i,a){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-a))]}function ke(e,t,n,r,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,Ce(o,e[s],a,i);var u=e[s].minX,l=e[s].minY,c=e[s].maxX,h=e[s].maxY;u<o.minX&&(o.minX=u),l<o.minY&&(o.minY=l),c>o.maxX&&(o.maxX=c),h>o.maxY&&(o.maxY=h)}return o}function Ce(e,t,n,r){var i=t.geometry,a=t.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)Se(o,i,e,n,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<i.length;s++)Se(o,i[s],e,n,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)Se(o,l[s],e,n,!0,0===s)}if(o.length){var c=t.tags||null;if("LineString"===a&&r.lineMetrics){for(var h in c={},t.tags)c[h]=t.tags[h];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var f={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:c};null!==t.id&&(f.id=t.id),e.features.push(f)}}function Se(e,t,n,r,i,a){var o=r*r;if(r>0&&t.size<(i?o:r))n.numPoints+=t.length/3;else{for(var s=[],u=0;u<t.length;u+=3)(0===r||t[u+2]>o)&&(n.numSimplified++,s.push(t[u]),s.push(t[u+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,a=i-2;r<i;a=r,r+=2)n+=(e[r]-e[a])*(e[r+1]+e[a+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=o,e[i-1-r]=s}}(s,a),e.push(s)}}function Me(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r,i,a,o,s,u,l=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)ae(n,e.features[r],t,r);else ae(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),o=r=l,s=he(r,1,-1-(a=(i=t).buffer/i.extent),a,0,-1,2,i),u=he(r,1,1-a,2+a,0,-1,2,i),(s||u)&&(o=he(r,1,-a,1+a,0,-1,2,i)||[],s&&(o=_e(s,1).concat(o)),u&&(o=o.concat(_e(u,-1)))),(l=o).length&&this.splitTile(l,0,0,0),n&&(l.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ee(e,t,n){return 32*((1<<e)*n+t)+e}function Te(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new m(r.features),a=A(i);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}Me.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Me.prototype.splitTile=function(e,t,n,r,i,a,o){for(var s=[e,t,n,r],u=this.options,l=u.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,h=Ee(t,n,r),f=this.tiles[h];if(!f&&(l>1&&console.time("creation"),f=this.tiles[h]=ke(e,t,n,r,u),this.tileCoords.push({z:t,x:n,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var d="z"+t;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(f.source=e,i){if(t===u.maxZoom||t===i)continue;var p=1<<i-t;if(n!==Math.floor(a/p)||r!==Math.floor(o/p))continue}else if(t===u.indexMaxZoom||f.numPoints<=u.indexMaxPoints)continue;if(f.source=null,0!==e.length){l>1&&console.time("clipping");var m,g,v,y,_,b,w=.5*u.buffer/u.extent,x=.5-w,k=.5+w,C=1+w;m=g=v=y=null,_=he(e,c,n-w,n+k,0,f.minX,f.maxX,u),b=he(e,c,n+x,n+C,0,f.minX,f.maxX,u),e=null,_&&(m=he(_,c,r-w,r+k,1,f.minY,f.maxY,u),g=he(_,c,r+x,r+C,1,f.minY,f.maxY,u),_=null),b&&(v=he(b,c,r-w,r+k,1,f.minY,f.maxY,u),y=he(b,c,r+x,r+C,1,f.minY,f.maxY,u),b=null),l>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(g||[],t+1,2*n,2*r+1),s.push(v||[],t+1,2*n+1,2*r),s.push(y||[],t+1,2*n+1,2*r+1)}}},Me.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug;if(e<0||e>24)return null;var o=1<<e,s=Ee(e,t=(t%o+o)%o,n);if(this.tiles[s])return we(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var u,l=e,c=t,h=n;!u&&l>0;)l--,c=Math.floor(c/2),h=Math.floor(h/2),u=this.tiles[Ee(l,c,h)];return u&&u.source?(a>1&&console.log("found parent tile z%d-%d-%d",l,c,h),a>1&&console.time("drilling down"),this.splitTile(u.source,l,c,h,e,t,n),a>1&&console.timeEnd("drilling down"),this.tiles[s]?we(this.tiles[s],i):null):null};var Le=function(t){_inherits(r,t);var n=_createSuper(r);function r(e,t,i,a){var o;return _classCallCheck(this,r),o=n.call(this,e,t,i,Te),a&&(o.loadGeoJSON=a),o}return _createClass(r,[{key:"loadData",value:function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())}},{key:"_loadData",value:function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new e.RequestPerformance(r.request);this.loadGeoJSON(r,function(a,o){if(a||!o)return n(a);if("object"!=typeof o)return n(new Error("Input data given to '".concat(r.source,"' is not a valid GeoJSON object.")));c(o,!0);try{if(r.filter){var s=e.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map(function(e){return"".concat(e.key,": ").concat(e.message)}).join(", "));var u=o.features.filter(function(e){return s.value.evaluate({zoom:0},e)});o={type:"FeatureCollection",features:u}}t._geoJSONIndex=r.cluster?new V(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},u=Object.keys(r),l=0,c=u;l<c.length;l++){var h=c[l],f=_slicedToArray(r[h],2),d=f[0],p=f[1],m=e.createExpression(p),g=e.createExpression("string"==typeof d?[d,["accumulated"],["get",h]]:d);i[h]=m.value,a[h]=g.value}return n.map=function(e){s.properties=e;var t,n={},r=_createForOfIteratorHelper(u);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a]=i[a].evaluate(o,s)}}catch(l){r.e(l)}finally{r.f()}return n},n.reduce=function(e,t){s.properties=t;var n,r=_createForOfIteratorHelper(u);try{for(r.s();!(n=r.n()).done;){var i=n.value;o.accumulated=e[i],e[i]=a[i].evaluate(o,s)}}catch(l){r.e(l)}finally{r.f()}},n}(r)).load(o.features):new Me(l=o,r.geojsonVtOptions)}catch(l){return n(l)}t.loaded={};var l,h={};if(i){var f=i.finish();f&&(h.resourceTiming={},h.resourceTiming[r.source]=JSON.parse(JSON.stringify(f)))}n(null,h)})}}},{key:"coalesce",value:function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())}},{key:"reloadTile",value:function(e,t){var n=this.loaded;return n&&n[e.uid]?_get(_getPrototypeOf(r.prototype),"reloadTile",this).call(this,e,t):this.loadTile(e,t)}},{key:"loadGeoJSON",value:function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));try{return n(null,JSON.parse(t.data))}catch(r){return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")))}}}},{key:"removeSource",value:function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()}},{key:"getClusterExpansionZoom",value:function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(n){t(n)}}},{key:"getClusterChildren",value:function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(n){t(n)}}},{key:"getClusterLeaves",value:function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(n){t(n)}}}]),r}(u),Ie=function(){function t(n){var r=this;_classCallCheck(this,t),this.self=n,this.actor=new e.Actor(n,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Le},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}return _createClass(t,[{key:"setReferrer",value:function(e,t){this.referrer=t}},{key:"setImages",value:function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var a in i)i[a].availableImages=t}n()}},{key:"setLayers",value:function(e,t,n){this.getLayerIndex(e).replace(t),n()}},{key:"updateLayers",value:function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}},{key:"loadTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)}},{key:"loadDEMTile",value:function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)}},{key:"reloadTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)}},{key:"abortTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}},{key:"removeTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}},{key:"removeDEMTile",value:function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)}},{key:"removeSource",value:function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}}},{key:"loadWorkerSource",value:function(e,t,n){try{this.self.importScripts(t.url),n()}catch(r){n(r.toString())}}},{key:"syncRTLPluginState",value:function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var a=e.plugin.isParsed();r(a?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(i)),a)}}catch(i){r(i.toString())}}},{key:"getAvailableImages",value:function(e){var t=this.availableImages[e];return t||(t=[]),t}},{key:"getLayerIndex",value:function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t}},{key:"getWorkerSource",value:function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,i){r.actor.send(t,n,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]}},{key:"getDEMWorkerSource",value:function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new l),this.demWorkerSources[e][t]}},{key:"enforceCacheSizeLimit",value:function(t,n){e.enforceCacheSizeLimit(n)}}]),t}();return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Ie(self)),Ie}),r(0,function(e){var t=n;function n(e){return t=e,!("undefined"==typeof window||"undefined"==typeof document||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(i){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()||(void 0===r[i=t&&t.failIfMajorPerformanceCaveat]&&(r[i]=function(e){var t,r,i,a,o=(r=e,i=document.createElement("canvas"),(a=Object.create(n.webGLContextAttributes)).failIfMajorPerformanceCaveat=r,i.getContext("webgl",a)||i.getContext("experimental-webgl",a));if(!o)return!1;try{t=o.createShader(o.VERTEX_SHADER)}catch(r){return!1}return!(!t||o.isContextLost())&&(o.shaderSource(t,"void main() {}"),o.compileShader(t),!0===o.getShaderParameter(t,o.COMPILE_STATUS))}(i)),!r[i]||document.documentMode));var t,i}var r={};function i(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t||Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!i(e[r],t[r]))return!1;return!0}return e===t}n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var a=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"testProp",value:function(e){if(!t.docStyle)return e[0];for(var n=0;n<e.length;n++)if(e[n]in t.docStyle)return e[n];return e[0]}},{key:"create",value:function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}},{key:"createNS",value:function(e,t){return window.document.createElementNS(e,t)}},{key:"disableDrag",value:function(){t.docStyle&&t.selectProp&&(t.userSelect=t.docStyle[t.selectProp],t.docStyle[t.selectProp]="none")}},{key:"enableDrag",value:function(){t.docStyle&&t.selectProp&&(t.docStyle[t.selectProp]=t.userSelect)}},{key:"setTransform",value:function(e,n){e.style[t.transformProp]=n}},{key:"addEventListener",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(t,n,"passive"in r?r:r.capture)}},{key:"removeEventListener",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.removeEventListener(t,n,"passive"in r?r:r.capture)}},{key:"suppressClickInternal",value:function(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",t.suppressClickInternal,!0)}},{key:"suppressClick",value:function(){window.addEventListener("click",t.suppressClickInternal,!0),window.setTimeout(function(){window.removeEventListener("click",t.suppressClickInternal,!0)},0)}},{key:"mousePos",value:function(t,n){var r=t.getBoundingClientRect();return new e.pointGeometry(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)}},{key:"touchPos",value:function(t,n){for(var r=t.getBoundingClientRect(),i=[],a=0;a<n.length;a++)i.push(new e.pointGeometry(n[a].clientX-r.left-t.clientLeft,n[a].clientY-r.top-t.clientTop));return i}},{key:"mouseButton",value:function(e){return e.button}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}}]),t}();a.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,a.selectProp=a.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),a.transformProp=a.testProp(["transform","WebkitTransform"]);var o=function(){function e(t){_classCallCheck(this,e),this._transformRequestFn=t}return _createClass(e,[{key:"transformRequest",value:function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}},{key:"normalizeSpriteURL",value:function(e,t,n){var r,i,a=function(e){var t=e.match(s);if(!t)throw new Error('Unable to parse URL "'.concat(e,'"'));return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}(e);return a.path+="".concat(t).concat(n),i=(r=a).params.length?"?".concat(r.params.join("&")):"","".concat(r.protocol,"://").concat(r.authority).concat(r.path).concat(i)}},{key:"setTransformRequest",value:function(e){this._transformRequestFn=e}}]),e}(),s=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function u(t){var n=new e.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}var l,c=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};l=new e.ARRAY_TYPE(3),e.ARRAY_TYPE!=Float32Array&&(l[0]=0,l[1]=0,l[2]=0);var h,f=function(e){var t=e[0],n=e[1];return t*t+n*n};h=new e.ARRAY_TYPE(2),e.ARRAY_TYPE!=Float32Array&&(h[0]=0,h[1]=0);var d=function(){function t(e,n,r,i){_classCallCheck(this,t),this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(n,i)}return _createClass(t,[{key:"update",value:function(t,n,r){var i=t.width,a=t.height,o=!(this.size&&this.size[0]===i&&this.size[1]===a||r),s=this.context,u=s.gl;if(this.useMipmap=Boolean(n&&n.useMipmap),u.bindTexture(u.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===u.RGBA&&(!n||!1!==n.premultiply)),o)this.size=[i,a],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?u.texImage2D(u.TEXTURE_2D,0,this.format,this.format,u.UNSIGNED_BYTE,t):u.texImage2D(u.TEXTURE_2D,0,this.format,i,a,0,this.format,u.UNSIGNED_BYTE,t.data);else{var l=r||{x:0,y:0},c=l.x,h=l.y;t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?u.texSubImage2D(u.TEXTURE_2D,0,c,h,u.RGBA,u.UNSIGNED_BYTE,t):u.texSubImage2D(u.TEXTURE_2D,0,c,h,i,a,u.RGBA,u.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&u.generateMipmap(u.TEXTURE_2D)}},{key:"bind",value:function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)}},{key:"isSizePowerOfTwo",value:function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}},{key:"destroy",value:function(){this.context.gl.deleteTexture(this.texture),this.texture=null}}]),t}();function p(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}var m=function(t){_inherits(r,t);var n=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=n.call(this)).images={},t.updatedImages={},t.callbackDispatchedThisFrame={},t.loaded=!1,t.requestors=[],t.patterns={},t.atlasImage=new e.RGBAImage({width:1,height:1}),t.dirty=!0,t}return _createClass(r,[{key:"isLoaded",value:function(){return this.loaded}},{key:"setLoaded",value:function(e){if(this.loaded!==e&&(this.loaded=e,e)){var t,n=_createForOfIteratorHelper(this.requestors);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.ids,a=r.callback;this._notify(i,a)}}catch(o){n.e(o)}finally{n.f()}this.requestors=[]}}},{key:"getImage",value:function(e){return this.images[e]}},{key:"addImage",value:function(e,t){this._validate(e,t)&&(this.images[e]=t)}},{key:"_validate",value:function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchX" value')))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchY" value')))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "content" value')))),r=!1),r}},{key:"_validateStretch",value:function(e,t){if(!e)return!0;var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a[0]<r||a[1]<a[0]||t<a[1])return!1;r=a[1]}}catch(o){i.e(o)}finally{i.f()}return!0}},{key:"_validateContent",value:function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}},{key:"updateImage",value:function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}},{key:"removeImage",value:function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}},{key:"listImages",value:function(){return Object.keys(this.images)}},{key:"getImages",value:function(e,t){var n=!0;if(!this.isLoaded()){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.images[a]||(n=!1)}}catch(o){i.e(o)}finally{i.f()}}this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}},{key:"_notify",value:function(t,n){var r,i={},a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?i[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'.concat(o,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}}catch(u){a.e(u)}finally{a.f()}n(null,i)}},{key:"getPixelSize",value:function(){var e=this.atlasImage;return{width:e.width,height:e.height}}},{key:"getPattern",value:function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},a=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:a}}return this._updatePatternAtlas(),this.patterns[t].position}},{key:"bind",value:function(e){var t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new d(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}},{key:"_updatePatternAtlas",value:function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,a=r.h,o=this.atlasImage;for(var n in o.resize({width:i||1,height:a||1}),this.patterns){var s=this.patterns[n].bin,u=s.x+1,l=s.y+1,c=this.images[n].data,h=c.width,f=c.height;e.RGBAImage.copy(c,o,{x:0,y:0},{x:u,y:l},{width:h,height:f}),e.RGBAImage.copy(c,o,{x:0,y:f-1},{x:u,y:l-1},{width:h,height:1}),e.RGBAImage.copy(c,o,{x:0,y:0},{x:u,y:l+f},{width:h,height:1}),e.RGBAImage.copy(c,o,{x:h-1,y:0},{x:u-1,y:l},{width:1,height:f}),e.RGBAImage.copy(c,o,{x:0,y:0},{x:u+h,y:l},{width:1,height:f})}this.dirty=!0}},{key:"beginFrame",value:function(){this.callbackDispatchedThisFrame={}}},{key:"dispatchRenderCallbacks",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];p(i)&&this.updateImage(r,i)}}}catch(a){n.e(a)}finally{n.f()}}}]),r}(e.Evented),g=1e20;function v(e,t,n,r,i,a,o,s,u){for(var l=t;l<t+r;l++)y(e,n*a+l,a,i,o,s,u);for(var c=n;c<n+i;c++)y(e,c*a+t,1,r,o,s,u)}function y(e,t,n,r,i,a,o){a[0]=0,o[0]=-g,o[1]=g,i[0]=e[t];for(var s=1,u=0,l=0;s<r;s++){i[s]=e[t+s*n];var c=s*s;do{var h=a[u];l=(i[s]-i[h]+c-h*h)/(s-h)/2}while(l<=o[u]&&--u>-1);a[++u]=s,o[u]=l,o[u+1]=g}for(var f=0,d=0;f<r;f++){for(;o[d+1]<f;)d++;var p=a[d],m=f-p;e[t+f*n]=i[p]+m*m}}var _=function(){function t(e,n){_classCallCheck(this,t),this.requestManager=e,this.localIdeographFontFamily=n,this.entries={}}return _createClass(t,[{key:"setURL",value:function(e){this.url=e}},{key:"getGlyphs",value:function(n,r){var i=this,a=[];for(var o in n){var s,u=_createForOfIteratorHelper(n[o]);try{for(u.s();!(s=u.n()).done;){var l=s.value;a.push({stack:o,id:l})}}catch(c){u.e(c)}finally{u.f()}}e.asyncAll(a,function(e,n){var r=e.stack,a=e.id,o=i.entries[r];o||(o=i.entries[r]={glyphs:{},requests:{},ranges:{}});var s=o.glyphs[a];if(void 0===s){if(s=i._tinySDF(o,r,a))return o.glyphs[a]=s,void n(null,{stack:r,id:a,glyph:s});var u=Math.floor(a/256);if(256*u>65535)n(new Error("glyphs > 65535 not supported"));else if(o.ranges[u])n(null,{stack:r,id:a,glyph:s});else{var l=o.requests[u];l||(l=o.requests[u]=[],t.loadGlyphRange(r,u,i.url,i.requestManager,function(e,t){if(t){for(var n in t)i._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t[+n]);o.ranges[u]=!0}var r,a=_createForOfIteratorHelper(l);try{for(a.s();!(r=a.n()).done;){(0,r.value)(e,t)}}catch(c){a.e(c)}finally{a.f()}delete o.requests[u]})),l.push(function(e,t){e?n(e):t&&n(null,{stack:r,id:a,glyph:t[a]||null})})}}else n(null,{stack:r,id:a,glyph:s})},function(e,t){if(e)r(e);else if(t){var n,i={},a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.stack,u=o.id,l=o.glyph;(i[s]||(i[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}}catch(c){a.e(c)}finally{a.f()}r(null,i)}})}},{key:"_doesCharSupportLocalGlyph",value:function(t){return!!this.localIdeographFontFamily&&(e.unicodeBlockLookup["CJK Unified Ideographs"](t)||e.unicodeBlockLookup["Hangul Syllables"](t)||e.unicodeBlockLookup.Hiragana(t)||e.unicodeBlockLookup.Katakana(t))}},{key:"_tinySDF",value:function(n,r,i){var a=this.localIdeographFontFamily;if(a&&this._doesCharSupportLocalGlyph(i)){var o=n.tinySDF;if(!o){var s="400";/bold/i.test(r)?s="900":/medium/i.test(r)?s="500":/light/i.test(r)&&(s="200"),o=n.tinySDF=new t.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:a,fontWeight:s})}var u=o.draw(String.fromCharCode(i));return{id:i,bitmap:new e.AlphaImage({width:u.width||30,height:u.height||30},u.data),metrics:{width:u.glyphWidth||24,height:u.glyphHeight||24,left:u.glyphLeft||0,top:u.glyphTop-27||-8,advance:u.glyphAdvance||24}}}}}]),t}();_.loadGlyphRange=function(t,n,r,i,a){var o=256*n,s=o+255,u=i.transformRequest(r.replace("{fontstack}",t).replace("{range}","".concat(o,"-").concat(s)),e.ResourceType.Glyphs);e.getArrayBuffer(u,function(t,n){if(t)a(t);else if(n){var r,i={},o=_createForOfIteratorHelper(e.parseGlyphPBF(n));try{for(o.s();!(r=o.n()).done;){var s=r.value;i[s.id]=s}}catch(u){o.e(u)}finally{o.f()}a(null,i)}})},_.TinySDF=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fontSize,r=void 0===n?24:n,i=t.buffer,a=void 0===i?3:i,o=t.radius,s=void 0===o?8:o,u=t.cutoff,l=void 0===u?.25:u,c=t.fontFamily,h=void 0===c?"sans-serif":c,f=t.fontWeight,d=void 0===f?"normal":f,p=t.fontStyle,m=void 0===p?"normal":p;_classCallCheck(this,e),this.buffer=a,this.cutoff=l,this.radius=s;var g=this.size=r+4*a,v=this._createCanvas(g),y=this.ctx=v.getContext("2d",{willReadFrequently:!0});y.font="".concat(m," ").concat(d," ").concat(r,"px ").concat(h),y.textBaseline="alphabetic",y.textAlign="left",y.fillStyle="black",this.gridOuter=new Float64Array(g*g),this.gridInner=new Float64Array(g*g),this.f=new Float64Array(g),this.z=new Float64Array(g+1),this.v=new Uint16Array(g)}return _createClass(e,[{key:"_createCanvas",value:function(e){var t=document.createElement("canvas");return t.width=t.height=e,t}},{key:"draw",value:function(e){var t=this.ctx.measureText(e),n=t.width,r=t.actualBoundingBoxAscent,i=t.actualBoundingBoxDescent,a=t.actualBoundingBoxLeft,o=t.actualBoundingBoxRight,s=Math.ceil(r),u=Math.min(this.size-this.buffer,Math.ceil(o-a)),l=Math.min(this.size-this.buffer,s+Math.ceil(i)),c=u+2*this.buffer,h=l+2*this.buffer,f=Math.max(c*h,0),d=new Uint8ClampedArray(f),p={data:d,width:c,height:h,glyphWidth:u,glyphHeight:l,glyphTop:s,glyphLeft:0,glyphAdvance:n};if(0===u||0===l)return p;var m=this.ctx,y=this.buffer,_=this.gridInner,b=this.gridOuter;m.clearRect(y,y,u,l),m.fillText(e,y,y+s);var w=m.getImageData(y,y,u,l);b.fill(g,0,f),_.fill(0,0,f);for(var x=0;x<l;x++)for(var k=0;k<u;k++){var C=w.data[4*(x*u+k)+3]/255;if(0!==C){var S=(x+y)*c+k+y;if(1===C)b[S]=0,_[S]=g;else{var M=.5-C;b[S]=M>0?M*M:0,_[S]=M<0?M*M:0}}}v(b,0,0,c,h,c,this.f,this.v,this.z),v(_,y,y,u,l,c,this.f,this.v,this.z);for(var E=0;E<f;E++){var T=Math.sqrt(b[E])-Math.sqrt(_[E]);d[E]=Math.round(255-255*(T/this.radius+this.cutoff))}return p}}]),e}();var b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new(function(){function t(){_classCallCheck(this,t),this.specification=e.spec.light.position}return _createClass(t,[{key:"possiblyEvaluate",value:function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))}},{key:"interpolate",value:function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}}}]),t}()),color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w="-transition",x=function(t){_inherits(r,t);var n=_createSuper(r);function r(t){var i;return _classCallCheck(this,r),(i=n.call(this))._transitionable=new e.Transitionable(b),i.setLight(t),i._transitioning=i._transitionable.untransitioned(),i}return _createClass(r,[{key:"getLight",value:function(){return this._transitionable.serialize()}},{key:"setLight",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];r.endsWith(w)?this._transitionable.setTransition(r.slice(0,-w.length),i):this._transitionable.setValue(r,i)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),r}(e.Evented),k=function(){function t(e,n){_classCallCheck(this,t),this.width=e,this.height=n,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}return _createClass(t,[{key:"getDash",value:function(e,t){var n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]}},{key:"getDashRanges",value:function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,a=e[0]*n,o=!0;r.push({left:i,right:a,isDash:o,zeroLength:0===e[0]});for(var s=e[0],u=1;u<e.length;u++){o=!o;var l=e[u];i=s*n,a=(s+=l)*n,r.push({left:i,right:a,isDash:o,zeroLength:0===l})}return r}},{key:"addRoundDash",value:function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var a=this.width*(this.nextRow+n+i),o=0,s=e[o],u=0;u<this.width;u++){u/s.right>1&&(s=e[++o]);var l=Math.abs(u-s.left),c=Math.abs(u-s.right),h=Math.min(l,c),f=void 0,d=i/n*(r+1);if(s.isDash){var p=r-Math.abs(d);f=Math.sqrt(h*h+p*p)}else f=r-Math.sqrt(h*h+d*d);this.data[a+u]=Math.max(0,Math.min(255,f+128))}}},{key:"addRegularDash",value:function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var i=e[0],a=e[e.length-1];i.isDash===a.isDash&&(i.left=a.left-this.width,a.right=i.right+this.width);for(var o=this.width*this.nextRow,s=0,u=e[s],l=0;l<this.width;l++){l/u.right>1&&(u=e[++s]);var c=Math.abs(l-u.left),h=Math.abs(l-u.right),f=Math.min(c,h);this.data[o+l]=Math.max(0,Math.min(255,(u.isDash?f:-f)+128))}}},{key:"addDash",value:function(t,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var a=0,o=0;o<t.length;o++)a+=t[o];if(0!==a){var s=this.width/a,u=this.getDashRanges(t,this.width,s);n?this.addRoundDash(u,s,r):this.addRegularDash(u)}var l={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:a};return this.nextRow+=i,this.dirty=!0,l}},{key:"bind",value:function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}]),t}(),C=function(){function t(n,r){_classCallCheck(this,t),this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var o=new t.Actor(i[a],r,this.id);o.name="Worker ".concat(a),this.actors.push(o)}}return _createClass(t,[{key:"broadcast",value:function(t,n,r){e.asyncAll(this.actors,function(e,r){e.send(t,n,r)},r=r||function(){})}},{key:"getActor",value:function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}},{key:"remove",value:function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)}}]),t}();function S(t,n,r){var i=function(n,i){if(n)return r(n);if(i){var a=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(a.vectorLayers=i.vector_layers,a.vectorLayerIds=a.vectorLayers.map(function(e){return e.id})),r(null,a)}};return t.url?e.getJSON(n.transformRequest(t.url,e.ResourceType.Source),i):e.exported.frame(function(){return i(null,t)})}C.Actor=e.Actor;var M,E=function(){function t(n,r,i){_classCallCheck(this,t),this.bounds=e.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=r||0,this.maxzoom=i||24}return _createClass(t,[{key:"validateBounds",value:function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}},{key:"contains",value:function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<a&&t.y>=i&&t.y<o}}]),t}(),T=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i,a,o){var s;if(_classCallCheck(this,r),(s=n.call(this)).id=t,s.dispatcher=a,s.type="vector",s.minzoom=0,s.maxzoom=22,s.scheme="xyz",s.tileSize=512,s.reparseOverscaled=!0,s.isTileClipped=!0,s._loaded=!1,e.extend(_assertThisInitialized(s),e.pick(i,["url","scheme","tileSize","promoteId"])),s._options=e.extend({type:"vector"},i),s._collectResourceTiming=i.collectResourceTiming,512!==s.tileSize)throw new Error("vector tile sources must have a tileSize of 512");return s.setEventedParent(o),_possibleConstructorReturn(s)}return _createClass(r,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,function(n,r){t._tileJSONRequest=null,t._loaded=!0,t.map.style.sourceCaches[t.id].clearTiles(),n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new E(r.bounds,t.minzoom,t.maxzoom)),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}},{key:"loaded",value:function(){return this._loaded}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"setSourceProperty",value:function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}},{key:"setTiles",value:function(e){var t=this;return this.setSourceProperty(function(){t._options.tiles=e}),this}},{key:"setUrl",value:function(e){var t=this;return this.setSourceProperty(function(){t.url=e,t._options.url=e}),this}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"loadTile",value:function(t,n){var r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",i,a.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,a.bind(this)))}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)}},{key:"unloadTile",value:function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),L=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i,a,o){var s;return _classCallCheck(this,r),(s=n.call(this)).id=t,s.dispatcher=a,s.setEventedParent(o),s.type="raster",s.minzoom=0,s.maxzoom=22,s.roundZoom=!0,s.scheme="xyz",s.tileSize=512,s._loaded=!1,s._options=e.extend({type:"raster"},i),e.extend(_assertThisInitialized(s),e.pick(i,["url","scheme","tileSize"])),s}return _createClass(r,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new E(r.bounds,t.minzoom,t.maxzoom)),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,n){var r=this,i=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),function(i,a,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(a){r.map._refreshExpiredTiles&&t.setExpiryData(o);var s=r.map.painter.context,u=s.gl;t.texture=r.map.painter.getTileTexture(a.width),t.texture?t.texture.update(a,{useMipmap:!0}):(t.texture=new d(s,a,u.RGBA,{useMipmap:!0}),t.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE,u.LINEAR_MIPMAP_NEAREST),s.extTextureFilterAnisotropic&&u.texParameterf(u.TEXTURE_2D,s.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,s.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),n(null)}})}},{key:"abortTile",value:function(e,t){e.request&&(e.request.cancel(),delete e.request),t()}},{key:"unloadTile",value:function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),I=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i,a,o){var s;return _classCallCheck(this,r),(s=n.call(this,t,i,a,o)).type="raster-dem",s.maxzoom=22,s._options=e.extend({type:"raster-dem"},i),s.encoding=i.encoding||"mapbox",s}return _createClass(r,[{key:"serialize",value:function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}},{key:"loadTile",value:function(t,n){var r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),(function(r,a){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=e.isImageBitmap(a)&&(null==M&&(M="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),M)?a:e.exported.getImageData(a,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}).bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)}},{key:"_getNeighboringTiles",value:function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,a=0===n.x?t.wrap-1:t.wrap,o=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,u={};return u[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(u[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),u}},{key:"unloadTile",value:function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})}}]),r}(L),D=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i,a,o){var s;_classCallCheck(this,r),(s=n.call(this)).id=t,s.type="geojson",s.minzoom=0,s.maxzoom=18,s.tileSize=512,s.isTileClipped=!0,s.reparseOverscaled=!0,s._removed=!1,s._pendingLoads=0,s.actor=a.getActor(),s.setEventedParent(o),s._data=i.data,s._options=e.extend({},i),s._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(s.maxzoom=i.maxzoom),i.type&&(s.type=i.type),i.attribution&&(s.attribution=i.attribution),s.promoteId=i.promoteId;var u=e.EXTENT/s.tileSize;return s.workerOptions=e.extend({source:s.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*u,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*u,extent:e.EXTENT,maxZoom:s.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:s.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.EXTENT,radius:(i.clusterRadius||50)*u,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions),s}return _createClass(r,[{key:"load",value:function(){this._updateWorkerData("metadata")}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"setData",value:function(e){return this._data=e,this._updateWorkerData("content"),this}},{key:"getClusterExpansionZoom",value:function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}},{key:"getClusterChildren",value:function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}},{key:"getClusterLeaves",value:function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this}},{key:"_updateWorkerData",value:function(t){var n=this,r=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(e.exported.resolveURL(i),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this._pendingLoads++,this.fire(new e.Event("dataloading",{dataType:"source"})),this.actor.send("".concat(this.type,".loadData"),r,function(i,a){if(n._pendingLoads--,!(n._removed||a&&a.abandoned)){var o=null;if(a&&a.resourceTiming&&a.resourceTiming[n.id]&&(o=a.resourceTiming[n.id].slice(0)),n.actor.send("".concat(n.type,".coalesce"),{source:r.source},null),i)n.fire(new e.ErrorEvent(i));else{var s={dataType:"source",sourceDataType:t};n._collectResourceTiming&&o&&o.length>0&&e.extend(s,{resourceTiming:o}),n.fire(new e.Event("data",s))}}})}},{key:"loaded",value:function(){return 0===this._pendingLoads}},{key:"loadTile",value:function(e,t){var n=this,r=e.actor?"reloadTile":"loadTile";e.actor=this.actor;var i={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.request=this.actor.send(r,i,function(i,a){return delete e.request,e.unloadVectorData(),e.aborted?t(null):i?t(i):(e.loadVectorData(a,n.map.painter,"reloadTile"===r),t(null))})}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}},{key:"unloadTile",value:function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"onRemove",value:function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}},{key:"serialize",value:function(){return e.extend({},this._options,{type:this.type,data:this._data})}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),A=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),P=function(t){_inherits(r,t);var n=_createSuper(r);function r(e,t,i,a){var o;return _classCallCheck(this,r),(o=n.call(this)).id=e,o.dispatcher=i,o.coordinates=t.coordinates,o.type="image",o.minzoom=0,o.maxzoom=22,o.tileSize=512,o.tiles={},o._loaded=!1,o.setEventedParent(a),o.options=t,o}return _createClass(r,[{key:"load",value:function(t,n){var r=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),function(i,a){r._loaded=!0,i?r.fire(new e.ErrorEvent(i)):a&&(r.image=a,t&&(r.coordinates=t),n&&n(),r._finishLoading())})}},{key:"loaded",value:function(){return this._loaded}},{key:"updateImage",value:function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,function(){t.texture=null}),this):this}},{key:"_finishLoading",value:function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"setCoordinates",value:function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){var n,r=1/0,i=1/0,a=-1/0,o=-1/0,s=_createForOfIteratorHelper(t);try{for(s.s();!(n=s.n()).done;){var u=n.value;r=Math.min(r,u.x),i=Math.min(i,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y)}}catch(f){s.e(f)}finally{s.f()}var l=Math.max(a-r,o-i),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2)),h=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((r+a)/2*h),Math.floor((i+o)/2*h))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map(function(e){return n.tileID.getTilePoint(e)._round()});return this._boundsArray=new e.RasterBoundsArray,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}},{key:"prepare",value:function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new d(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}}},{key:"loadTile",value:function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}},{key:"serialize",value:function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),O=function(t){_inherits(r,t);var n=_createSuper(r);function r(e,t,i,a){var o;return _classCallCheck(this,r),(o=n.call(this,e,t,i,a)).roundZoom=!0,o.type="video",o.options=t,o}return _createClass(r,[{key:"load",value:function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];var r,i=_createForOfIteratorHelper(n.urls);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.urls.push(this.map._requestManager.transformRequest(a,e.ResourceType.Source).url)}}catch(o){i.e(o)}finally{i.f()}e.getVideo(this.urls,function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.addEventListener("playing",function(){t.map.triggerRepaint()}),t.map&&t.video.play(),t._finishLoading())})}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"seek",value:function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(n.start(0)," and ").concat(n.end(0),"-second mark.")))):this.video.currentTime=t}}},{key:"getVideo",value:function(){return this.video}},{key:"onAdd",value:function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}},{key:"prepare",value:function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new d(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}}},{key:"serialize",value:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this.video&&!this.video.paused}}]),r}(P),N=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i,a,o){var s;return _classCallCheck(this,r),s=n.call(this,t,i,a,o),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some(function(e){return!Array.isArray(e)||2!==e.length||e.some(function(e){return"number"!=typeof e})})||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof HTMLCanvasElement||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "canvas"'))),s.options=i,s.animate=void 0===i.animate||i.animate,s}return _createClass(r,[{key:"load",value:function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}},{key:"getCanvas",value:function(){return this.canvas}},{key:"onAdd",value:function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}},{key:"onRemove",value:function(){this.pause()}},{key:"prepare",value:function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new d(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var a=this.tiles[i];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}}},{key:"serialize",value:function(){return{type:"canvas",coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this._playing}},{key:"_hasInvalidDimensions",value:function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e++){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1}}]),r}(P),R={vector:T,raster:L,"raster-dem":I,geojson:D,video:O,image:P,canvas:N};function F(t,n){var r=e.create();return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function Y(e,t,n,r,i,a){var o=function(e,t,n){if(e){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=t[r.value];if(a&&a.source===n&&"fill-extrusion"===a.type)return!0}}catch(u){i.e(u)}finally{i.f()}}else for(var o in t){var s=t[o];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=a.maxPitchScaleFactor(),u=e.tilesIn(r,s,o);u.sort(z);var l,c=[],h=_createForOfIteratorHelper(u);try{for(h.s();!(l=h.n()).done;){var f=l.value;c.push({wrappedTileID:f.tileID.wrapped().key,queryResults:f.tile.queryRenderedFeatures(t,n,e._state,f.queryGeometry,f.cameraQueryGeometry,f.scale,i,a,s,F(e.transform,f.tileID))})}}catch(m){h.e(m)}finally{h.f()}var d=function(e){var t,n={},r={},i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.queryResults,s=a.wrappedTileID,u=r[s]=r[s]||{};for(var l in o){var c,h=o[l],f=u[l]=u[l]||{},d=n[l]=n[l]||[],p=_createForOfIteratorHelper(h);try{for(p.s();!(c=p.n()).done;){var g=c.value;f[g.featureIndex]||(f[g.featureIndex]=!0,d.push(g))}}catch(m){p.e(m)}finally{p.f()}}}}catch(m){i.e(m)}finally{i.f()}return n}(c);for(var p in d)d[p].forEach(function(t){var n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r});return d}function z(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var j=function(){function t(n,r){_classCallCheck(this,t),this.tileID=n,this.uid=e.uniqueId(),this.uses=0,this.tileSize=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}return _createClass(t,[{key:"registerFadeDuration",value:function(t){var n=t+this.timeAdded;n<e.exported.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n)}},{key:"wasRequested",value:function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}},{key:"loadVectorData",value:function(t,n,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var i in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;var r,i=_createForOfIteratorHelper(e);try{var a=function(){var e=r.value,i=e.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==i.length){e.layers=i,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map(function(e){return i.filter(function(t){return t.id===e})[0]}));var a,o=_createForOfIteratorHelper(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;n[s.id]=e}}catch(u){o.e(u)}finally{o.f()}}};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return n}(t.buckets,n.style),this.hasSymbolBuckets=!1,this.buckets){var a=this.buckets[i];if(a instanceof e.SymbolBucket){if(this.hasSymbolBuckets=!0,!r)break;a.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var s=this.buckets[o];if(s instanceof e.SymbolBucket&&s.hasRTLText){this.hasRTLText=!0,e.lazyLoadRTLTextPlugin();break}}for(var u in this.queryPadding=0,this.buckets){var l=this.buckets[u];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(u).queryRadius(l))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new e.CollisionBoxArray}},{key:"unloadVectorData",value:function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}},{key:"getBucket",value:function(e){return this.buckets[e.id]}},{key:"upload",value:function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new d(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new d(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)}},{key:"prepare",value:function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}},{key:"queryRenderedFeatures",value:function(e,t,n,r,i,a,o,s,u,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:a,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:o,queryPadding:this.queryPadding*u},e,t,n):{}}},{key:"querySourceFeatures",value:function(t,n){var r=this.latestFeatureIndex;if(r&&r.rawTileData){var i=r.loadVTLayers(),a=n?n.sourceLayer:"",o=i._geojsonTileLayer||i[a];if(o)for(var s=e.createFilter(n&&n.filter),u=this.tileID.canonical,l=u.z,c=u.x,h=u.y,f={z:l,x:c,y:h},d=0;d<o.length;d++){var p=o.feature(d);if(s.needGeometry){var m=e.toEvaluationFeature(p,!0);if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),m,this.tileID.canonical))continue}else if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),p))continue;var g=r.getId(p,a),v=new e.GeoJSONFeature(p,l,c,h,g);v.tile=f,t.push(v)}}}},{key:"hasData",value:function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}},{key:"patternsLoaded",value:function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}},{key:"setExpiryData",value:function(t){var n=this.expirationTime;if(t.cacheControl){var r=e.parseCacheControl(t.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var i=Date.now(),a=!1;if(this.expirationTime>i)a=!1;else if(n)if(this.expirationTime<n)a=!0;else{var o=this.expirationTime-n;o?this.expirationTime=i+Math.max(o,3e4):a=!0}else a=!0;a?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}},{key:"getExpiryTimeout",value:function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}},{key:"setFeatureState",value:function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],a=i.layers[0].sourceLayer||"_geojsonTileLayer",o=n[a],s=e[a];if(o&&s&&0!==Object.keys(s).length){i.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=t&&t.style&&t.style.getLayer(r);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(i)))}}}}},{key:"holdingForFade",value:function(){return void 0!==this.symbolFadeHoldUntil}},{key:"symbolFadeFinished",value:function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<e.exported.now()}},{key:"clearFadeHold",value:function(){this.symbolFadeHoldUntil=void 0}},{key:"setHoldDuration",value:function(t){this.symbolFadeHoldUntil=e.exported.now()+t}},{key:"setDependencies",value:function(e,t){var n,r={},i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){r[n.value]=!0}}catch(a){i.e(a)}finally{i.f()}this.dependencies[e]=r}},{key:"hasDependency",value:function(e,t){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.dependencies[i];if(a){var o,s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){if(a[o.value])return!0}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){r.e(u)}finally{r.f()}return!1}}]),t}(),B=function(){function e(t,n){_classCallCheck(this,e),this.max=t,this.onRemove=n,this.reset()}return _createClass(e,[{key:"reset",value:function(){for(var e in this.data){var t,n=_createForOfIteratorHelper(this.data[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}}catch(i){n.e(i)}finally{n.f()}}return this.data={},this.order=[],this}},{key:"add",value:function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var a={value:t,timeout:void 0};if(void 0!==n&&(a.timeout=setTimeout(function(){r.remove(e,a)},n)),this.data[i].push(a),this.order.push(i),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}},{key:"has",value:function(e){return e.wrapped().key in this.data}},{key:"getAndRemove",value:function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}},{key:"_getAndRemoveByKey",value:function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}},{key:"getByKey",value:function(e){var t=this.data[e];return t?t[0].value:null}},{key:"get",value:function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}},{key:"remove",value:function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}},{key:"setMaxSize",value:function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}},{key:"filter",value:function(e){var t=[];for(var n in this.data){var r,i=_createForOfIteratorHelper(this.data[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value;e(a.value)||t.push(a)}}catch(l){i.e(l)}finally{i.f()}}for(var o=0,s=t;o<s.length;o++){var u=s[o];this.remove(u.value.tileID,u)}}}]),e}(),H=function(){function t(){_classCallCheck(this,t),this.state={},this.stateChanges={},this.deletedStates={}}return _createClass(t,[{key:"updateState",value:function(t,n,r){var i=String(n);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},e.extend(this.stateChanges[t][i],r),null===this.deletedStates[t])for(var a in this.deletedStates[t]={},this.state[t])a!==i&&(this.deletedStates[t][a]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][i])for(var o in this.deletedStates[t][i]={},this.state[t][i])r[o]||(this.deletedStates[t][i][o]=null);else for(var s in r)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][s]&&delete this.deletedStates[t][i][s]}},{key:"removeFeatureState",value:function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}}},{key:"getState",value:function(t,n){var r=String(n),i=e.extend({},(this.state[t]||{})[r],(this.stateChanges[t]||{})[r]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var a=this.deletedStates[t][n];if(null===a)return{};for(var o in a)delete i[o]}return i}},{key:"initializeTileState",value:function(e,t){e.setFeatureState(this.state,t)}},{key:"coalesceChanges",value:function(t,n){var r={};for(var i in this.stateChanges){this.state[i]=this.state[i]||{};var a={};for(var o in this.stateChanges[i])this.state[i][o]||(this.state[i][o]={}),e.extend(this.state[i][o],this.stateChanges[i][o]),a[o]=this.state[i][o];r[i]=a}for(var s in this.deletedStates){this.state[s]=this.state[s]||{};var u={};if(null===this.deletedStates[s])for(var l in this.state[s])u[l]={},this.state[s][l]={};else for(var c in this.deletedStates[s]){if(null===this.deletedStates[s][c])this.state[s][c]={};else for(var h=0,f=Object.keys(this.deletedStates[s][c]);h<f.length;h++){var d=f[h];delete this.state[s][c][d]}u[c]=this.state[s][c]}r[s]=r[s]||{},e.extend(r[s],u)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var p in t)t[p].setFeatureState(r,n)}}]),t}(),U=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i,a){var o;return _classCallCheck(this,r),(o=n.call(this)).id=t,o.dispatcher=a,o.on("data",function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),o.on("dataloading",function(){o._sourceErrored=!1}),o.on("error",function(){o._sourceErrored=o._source.loaded()}),o._source=function(t,n,r,i){var a=new R[n.type](t,n,r,i);if(a.id!==t)throw new Error("Expected Source id to be ".concat(t," instead of ").concat(a.id));return e.bindAll(["load","abort","unload","serialize","prepare"],a),a}(t,i,a,_assertThisInitialized(o)),o._tiles={},o._cache=new B(0,o._unloadTile.bind(_assertThisInitialized(o))),o._timers={},o._cacheTimers={},o._maxTileCacheSize=null,o._loadedParentTiles={},o._coveredTiles={},o._state=new H,o}return _createClass(r,[{key:"onAdd",value:function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}},{key:"onRemove",value:function(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}},{key:"loaded",value:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}},{key:"getSource",value:function(){return this._source}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}}},{key:"_loadTile",value:function(e,t){return this._source.loadTile(e,t)}},{key:"_unloadTile",value:function(e){if(this._source.unloadTile)return this._source.unloadTile(e,function(){})}},{key:"_abortTile",value:function(t){this._source.abortTile&&this._source.abortTile(t,function(){}),this._source.fire(new e.Event("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}},{key:"serialize",value:function(){return this._source.serialize()}},{key:"prepare",value:function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}},{key:"getIds",value:function(){return Object.values(this._tiles).map(function(e){return e.tileID}).sort(V).map(function(e){return e.key})}},{key:"getRenderableIds",value:function(t){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&r.push(this._tiles[i]);return t?r.sort(function(t,r){var i=t.tileID,a=r.tileID,o=new e.pointGeometry(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new e.pointGeometry(a.canonical.x,a.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-a.overscaledZ||s.y-o.y||s.x-o.x}).map(function(e){return e.tileID.key}):r.map(function(e){return e.tileID}).sort(V).map(function(e){return e.key})}},{key:"hasRenderableParent",value:function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}},{key:"_isIdRenderable",value:function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}},{key:"reload",value:function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")}},{key:"_reloadTile",value:function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}},{key:"_tileLoaded",value:function(t,n,r,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.exported.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))}},{key:"_backfillDEM",value:function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);a(e,i),a(i,e)}}function a(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}}},{key:"getTile",value:function(e){return this.getTileByID(e.key)}},{key:"getTileByID",value:function(e){return this._tiles[e]}},{key:"_retainLoadedChildren",value:function(e,t,n,r){for(var i in this._tiles){var a=this._tiles[i];if(!(r[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>n)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var u=o;u.overscaledZ>t;)if(e[(u=u.scaledTo(u.overscaledZ-1)).key]){r[o.key]=o;break}}}}},{key:"findLoadedParent",value:function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),a=this._getLoadedTile(i);if(a)return a}}},{key:"_getLoadedTile",value:function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}},{key:"updateCacheSize",value:function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)}},{key:"handleWrapJump",value:function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var o in this._tiles)this._setTileReloadTimer(o,this._tiles[o])}}},{key:"update",value:function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter(function(e){return n._source.hasTile(e)}))):i=[];var a=t.coveringZoomLevel(this._source),o=Math.max(a-r.maxOverzooming,this._source.minzoom),s=Math.max(a+r.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(i,a);if(G(this._source.type)){for(var l={},c={},h=0,f=Object.keys(u);h<f.length;h++){var d=f[h],p=u[d],m=this._tiles[d];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=e.exported.now())){var g=this.findLoadedParent(p,o);g&&(this._addTile(g.tileID),l[g.tileID.key]=g.tileID),c[d]=p}}for(var v in this._retainLoadedChildren(c,a,s,u),l)u[v]||(this._coveredTiles[v]=!0,u[v]=l[v])}for(var y in u)this._tiles[y].clearFadeHold();var _,b=_createForOfIteratorHelper(e.keysDifference(this._tiles,u));try{for(b.s();!(_=b.n()).done;){var w=_.value,x=this._tiles[w];x.hasSymbolBuckets&&!x.holdingForFade()?x.setHoldDuration(this.map._fadeDuration):x.hasSymbolBuckets&&!x.symbolFadeFinished()||this._removeTile(w)}}catch(k){b.e(k)}finally{b.f()}this._updateLoadedParentTileCache()}}},{key:"releaseSymbolFadeTiles",value:function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}},{key:"_updateRetainedTiles",value:function(e,t){var n,i={},a={},o=Math.max(t-r.maxOverzooming,this._source.minzoom),s=Math.max(t+r.maxUnderzooming,this._source.minzoom),u={},l=_createForOfIteratorHelper(e);try{for(l.s();!(n=l.n()).done;){var c=n.value,h=this._addTile(c);i[c.key]=c,h.hasData()||t<this._source.maxzoom&&(u[c.key]=c)}}catch(x){l.e(x)}finally{l.f()}this._retainLoadedChildren(u,t,s,i);var f,d=_createForOfIteratorHelper(e);try{for(d.s();!(f=d.n()).done;){var p=f.value,m=this._tiles[p.key];if(!m.hasData()){if(t+1>this._source.maxzoom){var g=p.children(this._source.maxzoom)[0],v=this.getTile(g);if(v&&v.hasData()){i[g.key]=g;continue}}else{var y=p.children(this._source.maxzoom);if(i[y[0].key]&&i[y[1].key]&&i[y[2].key]&&i[y[3].key])continue}for(var _=m.wasRequested(),b=p.overscaledZ-1;b>=o;--b){var w=p.scaledTo(b);if(a[w.key]||(a[w.key]=!0,!(m=this.getTile(w))&&_&&(m=this._addTile(w)),m&&(i[w.key]=w,_=m.wasRequested(),m.hasData())))break}}}}catch(x){d.e(x)}finally{d.f()}return i}},{key:"_updateLoadedParentTileCache",value:function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var a=0,o=t;a<o.length;a++){var s=o[a];this._loadedParentTiles[s]=n}}}},{key:"_addTile",value:function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=n;return n||(n=new j(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}},{key:"_setTileReloadTimer",value:function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout(function(){n._reloadTile(e,"expired"),delete n._timers[e]},r))}},{key:"_removeTile",value:function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}},{key:"clearTiles",value:function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()}},{key:"tilesIn",value:function(t,n,r){var i=this,a=[],o=this.transform;if(!o)return a;var s,u=r?o.getCameraQueryGeometry(t):t,l=t.map(function(e){return o.pointCoordinate(e)}),c=u.map(function(e){return o.pointCoordinate(e)}),h=this.getIds(),f=1/0,d=1/0,p=-1/0,m=-1/0,g=_createForOfIteratorHelper(c);try{for(g.s();!(s=g.n()).done;){var v=s.value;f=Math.min(f,v.x),d=Math.min(d,v.y),p=Math.max(p,v.x),m=Math.max(m,v.y)}}catch(b){g.e(b)}finally{g.f()}for(var y=function(t){var r=i._tiles[h[t]];if(r.holdingForFade())return"continue";var s=r.tileID,u=Math.pow(2,o.zoom-r.tileID.overscaledZ),g=n*r.queryPadding*e.EXTENT/r.tileSize/u,v=[s.getTilePoint(new e.MercatorCoordinate(f,d)),s.getTilePoint(new e.MercatorCoordinate(p,m))];if(v[0].x-g<e.EXTENT&&v[0].y-g<e.EXTENT&&v[1].x+g>=0&&v[1].y+g>=0){var y=l.map(function(e){return s.getTilePoint(e)}),_=c.map(function(e){return s.getTilePoint(e)});a.push({tile:r,tileID:s,queryGeometry:y,cameraQueryGeometry:_,scale:u})}},_=0;_<h.length;_++)y(_);return a}},{key:"getVisibleCoordinates",value:function(e){var t,n=this,r=this.getRenderableIds(e).map(function(e){return n._tiles[e].tileID}),i=_createForOfIteratorHelper(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.posMatrix=this.transform.calculatePosMatrix(a.toUnwrapped())}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"hasTransition",value:function(){if(this._source.hasTransition())return!0;if(G(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.exported.now())return!0}return!1}},{key:"setFeatureState",value:function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}},{key:"removeFeatureState",value:function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}},{key:"getFeatureState",value:function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}},{key:"setDependencies",value:function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)}},{key:"reloadTilesForDependencies",value:function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter(function(n){return!n.hasDependency(e,t)})}}]),r}(e.Evented);function V(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function G(e){return"raster"===e||"image"===e||"video"===e}U.maxOverzooming=10,U.maxUnderzooming=3;var q,W="mapboxgl_preloaded_worker_pool",$=function(){function e(){_classCallCheck(this,e),this.active={}}return _createClass(e,[{key:"acquire",value:function(t){if(!this.workers)for(this.workers=[];this.workers.length<e.workerCount;)this.workers.push(new Worker(_i.workerUrl));return this.active[t]=!0,this.workers.slice()}},{key:"release",value:function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)}},{key:"isPreloaded",value:function(){return!!this.active[W]}},{key:"numActive",value:function(){return Object.keys(this.active).length}}]),e}(),X=Math.floor(e.exported.hardwareConcurrency/2);function Z(){return q||(q=new $),q}function J(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach(function(e){e in n&&(r[e]=n[e])}),r}function K(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=J(e[r],t[e[r].ref]));return e}$.workerCount=Math.max(Math.min(X,6),1);var Q={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ee(e,t,n){n.push({command:Q.addSource,args:[e,t[e]]})}function te(e,t,n){t.push({command:Q.removeSource,args:[e]}),n[e]=!0}function ne(e,t,n,r){te(e,n,r),ee(e,t,n)}function re(e,t,n){var r;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&"data"!==r&&!i(e[n][r],t[n][r]))return!1;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&"data"!==r&&!i(e[n][r],t[n][r]))return!1;return!0}function ie(e,t,n,r,a,o){var s;for(s in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,s)&&(i(e[s],t[s])||n.push({command:o,args:[r,s,t[s],a]}));for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&!Object.prototype.hasOwnProperty.call(e,s)&&(i(e[s],t[s])||n.push({command:o,args:[r,s,t[s],a]}))}function ae(e){return e.id}function oe(e,t){return e[t.id]=t,e}var se=function(){function t(e,n){_classCallCheck(this,t),this.reset(e,n)}return _createClass(t,[{key:"reset",value:function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}},{key:"lerp",value:function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var a=n-1,o=this._distances[a],s=r-o,u=s>0?(i-o)/s:0;return this.points[a].mult(1-u).add(this.points[n].mult(u))}}]),t}();function ue(e,t){var n=!0;return"always"===e||"never"!==e&&"never"!==t||(n=!1),n}var le=function(){function e(t,n,r){_classCallCheck(this,e);var i=this.boxCells=[],a=this.circleCells=[];this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),a.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0,this.circleUid=0}return _createClass(e,[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"insertCircle",value:function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}},{key:"_insertBoxCell",value:function(e,t,n,r,i,a){this.boxCells[i].push(a)}},{key:"_insertCircleCell",value:function(e,t,n,r,i,a){this.circleCells[i].push(a)}},{key:"_query",value:function(e,t,n,r,i,a,o){if(n<0||e>this.width||r<0||t>this.height)return[];var s=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return[{key:null,x1:e,y1:t,x2:n,y2:r}];for(var u=0;u<this.boxKeys.length;u++)s.push({key:this.boxKeys[u],x1:this.bboxes[4*u],y1:this.bboxes[4*u+1],x2:this.bboxes[4*u+2],y2:this.bboxes[4*u+3]});for(var l=0;l<this.circleKeys.length;l++){var c=this.circles[3*l],h=this.circles[3*l+1],f=this.circles[3*l+2];s.push({key:this.circleKeys[l],x1:c-f,y1:h-f,x2:c+f,y2:h+f})}}else this._forEachCell(e,t,n,r,this._queryCell,s,{hitTest:i,overlapMode:a,seenUids:{box:{},circle:{}}},o);return s}},{key:"query",value:function(e,t,n,r){return this._query(e,t,n,r,!1,null)}},{key:"hitTest",value:function(e,t,n,r,i,a){return this._query(e,t,n,r,!0,i,a).length>0}},{key:"hitTestCircle",value:function(e,t,n,r,i){var a=e-n,o=e+n,s=t-n,u=t+n;if(o<0||a>this.width||u<0||s>this.height)return!1;var l=[];return this._forEachCell(a,s,o,u,this._queryCellCircle,l,{hitTest:!0,overlapMode:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),l.length>0}},{key:"_queryCell",value:function(e,t,n,r,i,a,o,s){var u=o.seenUids,l=o.hitTest,c=o.overlapMode,h=this.boxCells[i];if(null!==h){var f,d=this.bboxes,p=_createForOfIteratorHelper(h);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(!u.box[m]){u.box[m]=!0;var g=4*m,v=this.boxKeys[m];if(e<=d[g+2]&&t<=d[g+3]&&n>=d[g+0]&&r>=d[g+1]&&(!s||s(v))&&(!l||!ue(c,v.overlapMode))&&(a.push({key:v,x1:d[g],y1:d[g+1],x2:d[g+2],y2:d[g+3]}),l))return!0}}}catch(T){p.e(T)}finally{p.f()}}var y=this.circleCells[i];if(null!==y){var _,b=this.circles,w=_createForOfIteratorHelper(y);try{for(w.s();!(_=w.n()).done;){var x=_.value;if(!u.circle[x]){u.circle[x]=!0;var k=3*x,C=this.circleKeys[x];if(this._circleAndRectCollide(b[k],b[k+1],b[k+2],e,t,n,r)&&(!s||s(C))&&(!l||!ue(c,C.overlapMode))){var S=b[k],M=b[k+1],E=b[k+2];if(a.push({key:C,x1:S-E,y1:M-E,x2:S+E,y2:M+E}),l)return!0}}}}catch(T){w.e(T)}finally{w.f()}}return!1}},{key:"_queryCellCircle",value:function(e,t,n,r,i,a,o,s){var u=o.circle,l=o.seenUids,c=o.overlapMode,h=this.boxCells[i];if(null!==h){var f,d=this.bboxes,p=_createForOfIteratorHelper(h);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(!l.box[m]){l.box[m]=!0;var g=4*m,v=this.boxKeys[m];if(this._circleAndRectCollide(u.x,u.y,u.radius,d[g+0],d[g+1],d[g+2],d[g+3])&&(!s||s(v))&&!ue(c,v.overlapMode))return a.push(!0),!0}}}catch(S){p.e(S)}finally{p.f()}}var y=this.circleCells[i];if(null!==y){var _,b=this.circles,w=_createForOfIteratorHelper(y);try{for(w.s();!(_=w.n()).done;){var x=_.value;if(!l.circle[x]){l.circle[x]=!0;var k=3*x,C=this.circleKeys[x];if(this._circlesCollide(b[k],b[k+1],b[k+2],u.x,u.y,u.radius)&&(!s||s(C))&&!ue(c,C.overlapMode))return a.push(!0),!0}}}catch(S){w.e(S)}finally{w.f()}}}},{key:"_forEachCell",value:function(e,t,n,r,i,a,o,s){for(var u=this._convertToXCellCoord(e),l=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(r),f=u;f<=c;f++)for(var d=l;d<=h;d++)if(i.call(this,e,t,n,r,this.xCellCount*d+f,a,o,s))return}},{key:"_convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"_convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}},{key:"_circlesCollide",value:function(e,t,n,r,i,a){var o=r-e,s=i-t,u=n+a;return u*u>o*o+s*s}},{key:"_circleAndRectCollide",value:function(e,t,n,r,i,a,o){var s=(a-r)/2,u=Math.abs(e-(r+s));if(u>s+n)return!1;var l=(o-i)/2,c=Math.abs(t-(i+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var h=u-s,f=c-l;return h*h+f*f<=n*n}}]),e}();function ce(t,n,r,i,a){var o=e.create();return n?(e.scale(o,o,[1/a,1/a,1]),r||e.rotateZ(o,o,i.angle)):e.multiply(o,i.labelPlaneMatrix,t),o}function he(t,n,r,i,a){if(n){var o=e.clone(t);return e.scale(o,o,[a,a,1]),r||e.rotateZ(o,o,-i.angle),o}return i.glCoordMatrix}function fe(t,n){var r=[t.x,t.y,0,1];ke(r,r,n);var i=r[3];return{point:new e.pointGeometry(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function de(e,t){return.5+e/t*.5}function pe(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function me(t,n,r,i,a,o,s,u,l){var c=i?t.textSizeData:t.iconSizeData,h=e.evaluateSizeForZoom(c,r.transform.zoom),f=[256/r.width*2+1,256/r.height*2+1],d=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;d.clear();for(var p=t.lineVertexArray,m=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=r.transform.width/r.transform.height,v=!1,y=0;y<m.length;y++){var _=m.get(y);if(_.hidden||_.writingMode===e.WritingMode.vertical&&!v)xe(_.numGlyphs,d);else{v=!1;var b=[_.anchorX,_.anchorY,0,1];if(e.transformMat4(b,b,n),pe(b,f)){var w=de(r.transform.cameraToCenterDistance,b[3]),x=e.evaluateSizeForFeature(c,h,_),k=s?x/w:x*w,C=new e.pointGeometry(_.anchorX,_.anchorY),S=fe(C,a).point,M={},E=ye(_,k,!1,u,n,a,o,t.glyphOffsetArray,p,d,S,C,M,g,l);v=E.useVertical,(E.notEnoughRoom||v||E.needsFlipping&&ye(_,k,!0,u,n,a,o,t.glyphOffsetArray,p,d,S,C,M,g,l).notEnoughRoom)&&xe(_.numGlyphs,d)}else xe(_.numGlyphs,d)}}i?t.text.dynamicLayoutVertexBuffer.updateData(d):t.icon.dynamicLayoutVertexBuffer.updateData(d)}function ge(e,t,n,r,i,a,o,s,u,l,c,h){var f=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,p=s.lineStartIndex+s.lineLength,m=t.getoffsetX(s.glyphStartIndex),g=t.getoffsetX(f-1),v=be(e*m,n,r,i,a,o,s.segment,d,p,u,l,c,h);if(!v)return null;var y=be(e*g,n,r,i,a,o,s.segment,d,p,u,l,c,h);return y?{first:v,last:y}:null}function ve(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function ye(t,n,r,i,a,o,s,u,l,c,h,f,d,p,m){var g,v=n/24,y=t.lineOffsetX*v,_=t.lineOffsetY*v;if(t.numGlyphs>1){var b=t.glyphStartIndex+t.numGlyphs,w=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,k=ge(v,u,y,_,r,h,f,t,l,o,d,m);if(!k)return{notEnoughRoom:!0};var C=fe(k.first.point,s).point,S=fe(k.last.point,s).point;if(i&&!r){var M=ve(t.writingMode,C,S,p);if(M)return M}g=[k.first];for(var E=t.glyphStartIndex+1;E<b-1;E++)g.push(be(v*u.getoffsetX(E),y,_,r,h,f,t.segment,w,x,l,o,d,m));g.push(k.last)}else{if(i&&!r){var T=fe(f,a).point,L=t.lineStartIndex+t.segment+1,I=new e.pointGeometry(l.getx(L),l.gety(L)),D=fe(I,a),A=D.signedDistanceFromCamera>0?D.point:_e(f,I,T,1,a),P=ve(t.writingMode,T,A,p);if(P)return P}var O=be(v*u.getoffsetX(t.glyphStartIndex),y,_,r,h,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,l,o,d,m);if(!O)return{notEnoughRoom:!0};g=[O]}var N,R=_createForOfIteratorHelper(g);try{for(R.s();!(N=R.n()).done;){var F=N.value;e.addDynamicAttributes(c,F.point,F.angle)}}catch(Y){R.e(Y)}finally{R.f()}return{}}function _e(e,t,n,r,i){var a=fe(e.add(e.sub(t)._unit()),i).point,o=n.sub(a);return n.add(o._mult(r/o.mag()))}function be(t,n,r,i,a,o,s,u,l,c,h,f,d){var p=i?t-n:t+n,m=p>0?1:-1,g=0;i&&(m*=-1,g=Math.PI),m<0&&(g+=Math.PI);for(var v=m>0?u+s:u+s+1,y=a,_=a,b=0,w=0,x=Math.abs(p),k=[];b+w<=x;){if((v+=m)<u||v>=l)return null;if(_=y,k.push(y),void 0===(y=f[v])){var C=new e.pointGeometry(c.getx(v),c.gety(v)),S=fe(C,h);if(S.signedDistanceFromCamera>0)y=f[v]=S.point;else{var M=v-m;y=_e(0===b?o:new e.pointGeometry(c.getx(M),c.gety(M)),C,_,x-b+1,h)}}b+=w,w=_.dist(y)}var E=(x-b)/w,T=y.sub(_),L=T.mult(E)._add(_);L._add(T._unit()._perp()._mult(r*m));var I=g+Math.atan2(y.y-_.y,y.x-_.x);return k.push(L),{point:L,angle:d?I:0,path:k}}var we=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function xe(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(we,3*r)}}function ke(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var Ce=100,Se=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new le(e.width+200,e.height+200,25),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new le(e.width+200,e.height+200,25);_classCallCheck(this,t),this.transform=e,this.grid=n,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+Ce,this.screenBottomBoundary=e.height+Ce,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200}return _createClass(t,[{key:"placeCollisionBox",value:function(e,t,n,r,i){var a=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),o=n*a.perspectiveRatio,s=e.x1*o+a.point.x,u=e.y1*o+a.point.y,l=e.x2*o+a.point.x,c=e.y2*o+a.point.y;return!this.isInsideGrid(s,u,l,c)||"always"!==t&&this.grid.hitTest(s,u,l,c,t,i)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}}},{key:"placeCollisionCircles",value:function(t,n,r,i,a,o,s,u,l,c,h,f,d){var p=[],m=new e.pointGeometry(n.anchorX,n.anchorY),g=fe(m,o),v=de(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),y=(c?a/v:a*v)/e.ONE_EM,_=fe(m,s).point,b=ge(y,i,n.lineOffsetX*y,n.lineOffsetY*y,!1,_,m,n,r,s,{},!1),w=!1,x=!1,k=!0;if(b){for(var C=.5*f*v+d,S=new e.pointGeometry(-100,-100),M=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),E=new se,T=b.first,L=b.last,I=[],D=T.path.length-1;D>=1;D--)I.push(T.path[D]);for(var A=1;A<L.path.length;A++)I.push(L.path[A]);var P=2.5*C;if(u){var O=I.map(function(e){return fe(e,u)});I=O.some(function(e){return e.signedDistanceFromCamera<=0})?[]:O.map(function(e){return e.point})}var N=[];if(I.length>0){for(var R=I[0].clone(),F=I[0].clone(),Y=1;Y<I.length;Y++)R.x=Math.min(R.x,I[Y].x),R.y=Math.min(R.y,I[Y].y),F.x=Math.max(F.x,I[Y].x),F.y=Math.max(F.y,I[Y].y);N=R.x>=S.x&&F.x<=M.x&&R.y>=S.y&&F.y<=M.y?[I]:F.x<S.x||R.x>M.x||F.y<S.y||R.y>M.y?[]:e.clipLine([I],S.x,S.y,M.x,M.y)}var z,j=_createForOfIteratorHelper(N);try{for(j.s();!(z=j.n()).done;){var B=z.value;E.reset(B,.25*C);var H;H=E.length<=.5*C?1:Math.ceil(E.paddedLength/P)+1;for(var U=0;U<H;U++){var V=U/Math.max(H-1,1),G=E.lerp(V),q=G.x+Ce,W=G.y+Ce;p.push(q,W,C,0);var $=q-C,X=W-C,Z=q+C,J=W+C;if(k=k&&this.isOffscreen($,X,Z,J),x=x||this.isInsideGrid($,X,Z,J),"always"!==t&&this.grid.hitTestCircle(q,W,C,t,h)&&(w=!0,!l))return{circles:[],offscreen:!1,collisionDetected:w}}}}catch(K){j.e(K)}finally{j.f()}}return{circles:!l&&w||!x?[]:p,offscreen:k,collisionDetected:w}}},{key:"queryRenderedSymbols",value:function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};var n,r=[],i=1/0,a=1/0,o=-1/0,s=-1/0,u=_createForOfIteratorHelper(t);try{for(u.s();!(n=u.n()).done;){var l=n.value,c=new e.pointGeometry(l.x+Ce,l.y+Ce);i=Math.min(i,c.x),a=Math.min(a,c.y),o=Math.max(o,c.x),s=Math.max(s,c.y),r.push(c)}}catch(y){u.e(y)}finally{u.f()}var h,f={},d={},p=_createForOfIteratorHelper(this.grid.query(i,a,o,s).concat(this.ignoredGrid.query(i,a,o,s)));try{for(p.s();!(h=p.n()).done;){var m=h.value,g=m.key;if(void 0===f[g.bucketInstanceId]&&(f[g.bucketInstanceId]={}),!f[g.bucketInstanceId][g.featureIndex]){var v=[new e.pointGeometry(m.x1,m.y1),new e.pointGeometry(m.x2,m.y1),new e.pointGeometry(m.x2,m.y2),new e.pointGeometry(m.x1,m.y2)];e.polygonIntersectsPolygon(r,v)&&(f[g.bucketInstanceId][g.featureIndex]=!0,void 0===d[g.bucketInstanceId]&&(d[g.bucketInstanceId]=[]),d[g.bucketInstanceId].push(g.featureIndex))}}}catch(y){p.e(y)}finally{p.f()}return d}},{key:"insertCollisionBox",value:function(e,t,n,r,i,a){(n?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:i,collisionGroupID:a,overlapMode:t},e[0],e[1],e[2],e[3])}},{key:"insertCollisionCircles",value:function(e,t,n,r,i,a){for(var o=n?this.ignoredGrid:this.grid,s={bucketInstanceId:r,featureIndex:i,collisionGroupID:a,overlapMode:t},u=0;u<e.length;u+=4)o.insertCircle(s,e[u],e[u+1],e[u+2])}},{key:"projectAndGetPerspectiveRatio",value:function(t,n,r){var i=[n,r,0,1];return ke(i,i,t),{point:new e.pointGeometry((i[0]/i[3]+1)/2*this.transform.width+Ce,(-i[1]/i[3]+1)/2*this.transform.height+Ce),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}}},{key:"isOffscreen",value:function(e,t,n,r){return n<Ce||e>=this.screenRightBoundary||r<Ce||t>this.screenBottomBoundary}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}},{key:"getViewportMatrix",value:function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}]),t}();function Me(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}var Ee=function(){function e(t,n,r,i){_classCallCheck(this,e),this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?n:-n))):i&&r?1:0,this.placed=r}return _createClass(e,[{key:"isHidden",value:function(){return 0===this.opacity&&!this.placed}}]),e}(),Te=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.text=new Ee(t?t.text:null,n,r,a),this.icon=new Ee(t?t.icon:null,n,i,a)}return _createClass(e,[{key:"isHidden",value:function(){return this.text.isHidden()&&this.icon.isHidden()}}]),e}(),Le=_createClass(function e(t,n,r){_classCallCheck(this,e),this.text=t,this.icon=n,this.skipFade=r}),Ie=_createClass(function t(){_classCallCheck(this,t),this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}),De=_createClass(function e(t,n,r,i,a){_classCallCheck(this,e),this.bucketInstanceId=t,this.featureIndex=n,this.sourceLayerIndex=r,this.bucketIndex=i,this.tileID=a}),Ae=function(){function e(t){_classCallCheck(this,e),this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}return _createClass(e,[{key:"get",value:function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]}}]),e}();function Pe(t,n,r,i,a){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*n,u=-(o.verticalAlign-.5)*r,l=e.evaluateVariableOffset(t,i);return new e.pointGeometry(s+l[0]*a,u+l[1]*a)}function Oe(t,n,r,i,a,o){var s=t.x1,u=t.x2,l=t.y1,c=t.y2,h=t.anchorPointX,f=t.anchorPointY,d=new e.pointGeometry(n,r);return i&&d._rotate(a?o:-o),{x1:s+d.x,y1:l+d.y,x2:u+d.x,y2:c+d.y,anchorPointX:h,anchorPointY:f}}var Ne=function(){function t(e,n,r,i){_classCallCheck(this,t),this.transform=e.clone(),this.collisionIndex=new Se(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=n,this.retainedQueryData={},this.collisionGroups=new Ae(r),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}return _createClass(t,[{key:"getBucketParts",value:function(t,n,r,i){var a=r.getBucket(n),o=r.latestFeatureIndex;if(a&&o&&n.id===a.layerIds[0]){var s=r.collisionBoxArray,u=a.layers[0].layout,l=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,h=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),f="map"===u.get("text-pitch-alignment"),d="map"===u.get("text-rotation-alignment"),p=Me(r,1,this.transform.zoom),m=ce(h,f,d,this.transform,p),g=null;if(f){var v=he(h,f,d,this.transform,p);g=e.multiply([],this.transform.labelPlaneMatrix,v)}this.retainedQueryData[a.bucketInstanceId]=new De(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,r.tileID);var y={bucket:a,layout:u,posMatrix:h,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:l,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(i){var _,b=_createForOfIteratorHelper(a.sortKeyRanges);try{for(b.s();!(_=b.n()).done;){var w=_.value,x=w.sortKey,k=w.symbolInstanceStart,C=w.symbolInstanceEnd;t.push({sortKey:x,symbolInstanceStart:k,symbolInstanceEnd:C,parameters:y})}}catch(S){b.e(S)}finally{b.f()}}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:y})}}},{key:"attemptAnchorPlacement",value:function(e,t,n,r,i,a,o,s,u,l,c,h,f,d,p){var m,g=[h.textOffset0,h.textOffset1],v=Pe(e,n,r,g,i),y=this.collisionIndex.placeCollisionBox(Oe(t,v.x,v.y,a,o,this.transform.angle),c,s,u,l.predicate);if((!p||0!==this.collisionIndex.placeCollisionBox(Oe(p,v.x,v.y,a,o,this.transform.angle),c,s,u,l.predicate).box.length)&&y.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(m=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:g,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:m},this.markUsedJustification(f,e,h,d),f.allowVerticalPlacement&&(this.markUsedOrientation(f,d,h),this.placedOrientations[h.crossTileID]=d),{shift:v,placedGlyphBoxes:y}}},{key:"placeLayerBucketPart",value:function(t,n,r){var i=this,a=t.parameters,o=a.bucket,s=a.layout,u=a.posMatrix,l=a.textLabelPlaneMatrix,c=a.labelToScreenMatrix,h=a.textPixelRatio,f=a.holdingForFade,d=a.collisionBoxArray,p=a.partiallyEvaluatedTextSize,m=a.collisionGroup,g=s.get("text-optional"),v=s.get("icon-optional"),y=e.getOverlapMode(s,"text-overlap","text-allow-overlap"),_="always"===y,b=e.getOverlapMode(s,"icon-overlap","icon-allow-overlap"),w="always"===b,x="map"===s.get("text-rotation-alignment"),k="map"===s.get("text-pitch-alignment"),C="none"!==s.get("icon-text-fit"),S="viewport-y"===s.get("symbol-z-order"),M=_&&(w||!o.hasIconData()||v),E=w&&(_||!o.hasTextData()||g);!o.collisionArrays&&d&&o.deserializeCollisionBoxes(d);var T=function(t,a){if(!n[t.crossTileID])if(f)i.placements[t.crossTileID]=new Le(!1,!1,!1);else{var d,w=!1,S=!1,T=!0,L=null,I={box:null,offscreen:null},D={box:null,offscreen:null},A=null,P=null,O=0,N=0,R=0;a.textFeatureIndex?O=a.textFeatureIndex:t.useRuntimeCollisionCircles&&(O=t.featureIndex),a.verticalTextFeatureIndex&&(N=a.verticalTextFeatureIndex);var F=a.textBox;if(F){var Y=function(n){var r=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&i.prevPlacement){var a=i.prevPlacement.placedOrientations[t.crossTileID];a&&(i.placedOrientations[t.crossTileID]=a,r=a,i.markUsedOrientation(o,r,t))}return r},z=function(n,r){if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&a.verticalTextBox){var i,s=_createForOfIteratorHelper(o.writingModes);try{for(s.s();!(i=s.n()).done;){if(i.value===e.WritingMode.vertical?(I=r(),D=I):I=n(),I&&I.box&&I.box.length)break}}catch(u){s.e(u)}finally{s.f()}}else I=n()};if(s.get("text-variable-anchor")){var j=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var B=i.prevPlacement.variableOffsets[t.crossTileID];j.indexOf(B.anchor)>0&&(j=j.filter(function(e){return e!==B.anchor})).unshift(B.anchor)}var H=function(e,n,r){for(var a=e.x2-e.x1,s=e.y2-e.y1,l=t.textBoxScale,c=C&&"never"===b?n:null,f={box:[],offscreen:!1},d="never"!==y?2*j.length:j.length,p=0;p<d;++p){var g=i.attemptAnchorPlacement(j[p%j.length],e,a,s,l,x,k,h,u,m,p>=j.length?y:"never",t,o,r,c);if(g&&((f=g.placedGlyphBoxes)&&f.box&&f.box.length)){w=!0,L=g.shift;break}}return f};z(function(){return H(F,a.iconBox,e.WritingMode.horizontal)},function(){var n=a.verticalTextBox;return o.allowVerticalPlacement&&!(I&&I.box&&I.box.length)&&t.numVerticalGlyphVertices>0&&n?H(n,a.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}}),I&&(w=I.box,T=I.offscreen);var U=Y(I&&I.box);if(!w&&i.prevPlacement){var V=i.prevPlacement.variableOffsets[t.crossTileID];V&&(i.variableOffsets[t.crossTileID]=V,i.markUsedJustification(o,V.anchor,t,U))}}else{var G=function(e,n){var r=i.collisionIndex.placeCollisionBox(e,y,h,u,m.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(o,n,t),i.placedOrientations[t.crossTileID]=n),r};z(function(){return G(F,e.WritingMode.horizontal)},function(){var n=a.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?G(n,e.WritingMode.vertical):{box:null,offscreen:null}}),Y(I&&I.box&&I.box.length)}}if(w=(d=I)&&d.box&&d.box.length>0,T=d&&d.offscreen,t.useRuntimeCollisionCircles){var q=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),W=e.evaluateSizeForFeature(o.textSizeData,p,q),$=s.get("text-padding");A=i.collisionIndex.placeCollisionCircles(y,q,o.lineVertexArray,o.glyphOffsetArray,W,u,l,c,r,k,m.predicate,t.collisionCircleDiameter,$),w=_||A.circles.length>0&&!A.collisionDetected,T=T&&A.offscreen}if(a.iconFeatureIndex&&(R=a.iconFeatureIndex),a.iconBox){var X=function(e){var t=C&&L?Oe(e,L.x,L.y,x,k,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,b,h,u,m.predicate)};D&&D.box&&D.box.length&&a.verticalIconBox?S=(P=X(a.verticalIconBox)).box.length>0:S=(P=X(a.iconBox)).box.length>0,T=T&&P.offscreen}var Z=g||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,J=v||0===t.numIconVertices;if(Z||J?J?Z||(S=S&&w):w=S&&w:S=w=S&&w,w&&d&&d.box&&i.collisionIndex.insertCollisionBox(d.box,y,s.get("text-ignore-placement"),o.bucketInstanceId,D&&D.box&&N?N:O,m.ID),S&&P&&i.collisionIndex.insertCollisionBox(P.box,b,s.get("icon-ignore-placement"),o.bucketInstanceId,R,m.ID),A&&(w&&i.collisionIndex.insertCollisionCircles(A.circles,y,s.get("text-ignore-placement"),o.bucketInstanceId,O,m.ID),r)){var K=o.bucketInstanceId,Q=i.collisionCircleArrays[K];void 0===Q&&(Q=i.collisionCircleArrays[K]=new Ie);for(var ee=0;ee<A.circles.length;ee+=4)Q.circles.push(A.circles[ee+0]),Q.circles.push(A.circles[ee+1]),Q.circles.push(A.circles[ee+2]),Q.circles.push(A.collisionDetected?1:0)}i.placements[t.crossTileID]=new Le(w||M,S||E,T||o.justReloaded),n[t.crossTileID]=!0}};if(S)for(var L=o.getSortedSymbolIndexes(this.transform.angle),I=L.length-1;I>=0;--I){var D=L[I];T(o.symbolInstances.get(D),o.collisionArrays[D])}else for(var A=t.symbolInstanceStart;A<t.symbolInstanceEnd;A++)T(o.symbolInstances.get(A),o.collisionArrays[A]);if(r&&o.bucketInstanceId in this.collisionCircleArrays){var P=this.collisionCircleArrays[o.bucketInstanceId];e.invert(P.invProjMatrix,u),P.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}},{key:"markUsedJustification",value:function(t,n,r,i){var a;a=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];for(var o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];o<s.length;o++){var u=s[o];u>=0&&(t.text.placedSymbolArray.get(u).crossTileID=a>=0&&u!==a?0:r.crossTileID)}}},{key:"markUsedOrientation",value:function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,a=n===e.WritingMode.vertical?n:0,o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];o<s.length;o++){var u=s[o];t.text.placedSymbolArray.get(u).placedOrientation=i}r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=a)}},{key:"commit",value:function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],l=i[s];l?(this.opacities[s]=new Te(l,r,u.text,u.icon),n=n||u.text!==l.text.placed||u.icon!==l.icon.placed):(this.opacities[s]=new Te(null,r,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var c in i){var h=i[c];if(!this.opacities[c]){var f=new Te(h,r,!1,!1);f.isHidden()||(this.opacities[c]=f,n=n||h.text.placed||h.icon.placed)}}for(var d in a)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=a[d]);for(var p in o)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=o[p]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}},{key:"updateLayerOpacities",value:function(e,t){var n,r={},i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,r,a.collisionBoxArray)}}catch(s){i.e(s)}finally{i.f()}}},{key:"updateBucketOpacities",value:function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var a=t.layers[0].layout,o=new Te(null,0,!1,!1,!0),s=a.get("text-allow-overlap"),u=a.get("icon-allow-overlap"),l=a.get("text-variable-anchor"),c="map"===a.get("text-rotation-alignment"),h="map"===a.get("text-pitch-alignment"),f="none"!==a.get("icon-text-fit"),d=new Te(null,0,s&&(u||!t.hasIconData()||a.get("icon-optional")),u&&(s||!t.hasTextData()||a.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var p=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},m=function(r){var a=t.symbolInstances.get(r),s=a.numHorizontalGlyphVertices,u=a.numVerticalGlyphVertices,m=a.crossTileID,g=i.opacities[m];n[m]?g=o:g||(g=d,i.opacities[m]=g),n[m]=!0;var v=a.numIconVertices>0,y=i.placedOrientations[a.crossTileID],_=y===e.WritingMode.vertical,b=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(s>0||u>0){var w=Ve(g.text);p(t.text,s,_?Ge:w),p(t.text,u,b?Ge:w);var x=g.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach(function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=x||_?1:0)}),a.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=x||b?1:0);var k=i.variableOffsets[a.crossTileID];k&&i.markUsedJustification(t,k.anchor,a,y);var C=i.placedOrientations[a.crossTileID];C&&(i.markUsedJustification(t,"left",a,C),i.markUsedOrientation(t,C,a))}if(v){var S=Ve(g.icon),M=!(f&&a.verticalPlacedIconSymbolIndex&&_);a.placedIconSymbolIndex>=0&&(p(t.icon,a.numIconVertices,M?S:Ge),t.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=g.icon.isHidden()),a.verticalPlacedIconSymbolIndex>=0&&(p(t.icon,a.numVerticalIconVertices,M?Ge:S),t.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var E=t.collisionArrays[r];if(E){var T=new e.pointGeometry(0,0);if(E.textBox||E.verticalTextBox){var L=!0;if(l){var I=i.variableOffsets[m];I?(T=Pe(I.anchor,I.width,I.height,I.textOffset,I.textBoxScale),c&&T._rotate(h?i.transform.angle:-i.transform.angle)):L=!1}E.textBox&&Re(t.textCollisionBox.collisionVertexArray,g.text.placed,!L||_,T.x,T.y),E.verticalTextBox&&Re(t.textCollisionBox.collisionVertexArray,g.text.placed,!L||b,T.x,T.y)}var D=Boolean(!b&&E.verticalIconBox);E.iconBox&&Re(t.iconCollisionBox.collisionVertexArray,g.icon.placed,D,f?T.x:0,f?T.y:0),E.verticalIconBox&&Re(t.iconCollisionBox.collisionVertexArray,g.icon.placed,!D,f?T.x:0,f?T.y:0)}}},g=0;g<t.symbolInstances.length;g++)m(g);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var v=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=v.invProjMatrix,t.placementViewportMatrix=v.viewportMatrix,t.collisionCircleArray=v.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}},{key:"symbolFadeChange",value:function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}},{key:"zoomAdjustment",value:function(e){return Math.max(0,(this.transform.zoom-e)/1.5)}},{key:"hasTransitions",value:function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}},{key:"stillRecent",value:function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}},{key:"setStale",value:function(){this.stale=!0}}]),t}();function Re(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}var Fe=Math.pow(2,25),Ye=Math.pow(2,24),ze=Math.pow(2,17),je=Math.pow(2,16),Be=Math.pow(2,9),He=Math.pow(2,8),Ue=Math.pow(2,1);function Ve(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Fe+t*Ye+n*ze+t*je+n*Be+t*He+n*Ue+t}var Ge=0,qe=function(){function e(t){_classCallCheck(this,e),this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&!t.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}return _createClass(e,[{key:"continuePlacement",value:function(e,t,n,r,i){for(var a=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(a,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort(function(e,t){return e.sortKey-t.sortKey}));this._currentPartIndex<a.length;)if(t.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1}}]),e}(),We=function(){function t(e,n,r,i,a,o,s){_classCallCheck(this,t),this.placement=new Ne(e,a,o,s),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=i,this._done=!1}return _createClass(t,[{key:"isDone",value:function(){return this._done}},{key:"continuePlacement",value:function(t,n,r){for(var i=this,a=e.exported.now(),o=function(){var t=e.exported.now()-a;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new qe(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}},{key:"commit",value:function(e){return this.placement.commit(e),this.placement}}]),t}(),$e=512/e.EXTENT/2,Xe=function(){function t(e,n,r){_classCallCheck(this,t),this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var i=0;i<n.length;i++){var a=n.get(i),o=a.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:a.crossTileID,coord:this.getScaledCoordinates(a,e)})}}return _createClass(t,[{key:"getScaledCoordinates",value:function(t,n){var r=$e/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}}},{key:"findMatches",value:function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var a=e.get(i);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o){var s,u=this.getScaledCoordinates(a,t),l=_createForOfIteratorHelper(o);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(Math.abs(c.coord.x-u.x)<=r&&Math.abs(c.coord.y-u.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,a.crossTileID=c.crossTileID;break}}}catch(h){l.e(h)}finally{l.f()}}}}}}]),t}(),Ze=function(){function e(){_classCallCheck(this,e),this.maxCrossTileID=0}return _createClass(e,[{key:"generate",value:function(){return++this.maxCrossTileID}}]),e}(),Je=function(){function e(){_classCallCheck(this,e),this.indexes={},this.usedCrossTileIDs={},this.lng=0}return _createClass(e,[{key:"handleWrapJump",value:function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var a in r){var o=r[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),i[o.tileID.key]=o}this.indexes[n]=i}this.lng=e}},{key:"addBucket",value:function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>e.overscaledZ)for(var s in o){var u=o[s];u.tileID.isChildOf(e)&&u.findMatches(t.symbolInstances,e,i)}else{var l=o[e.scaledTo(Number(a)).key];l&&l.findMatches(t.symbolInstances,e,i)}}for(var c=0;c<t.symbolInstances.length;c++){var h=t.symbolInstances.get(c);h.crossTileID||(h.crossTileID=n.generate(),i[h.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Xe(e,t.symbolInstances,t.bucketInstanceId),!0}},{key:"removeBucketCrossTileIDs",value:function(e,t){for(var n in t.indexedSymbolInstances){var r,i=_createForOfIteratorHelper(t.indexedSymbolInstances[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete this.usedCrossTileIDs[e][a.crossTileID]}}catch(o){i.e(o)}finally{i.f()}}}},{key:"removeStaleBuckets",value:function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t}}]),e}(),Ke=function(){function e(){_classCallCheck(this,e),this.layerIndexes={},this.crossTileIDs=new Ze,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}return _createClass(e,[{key:"addLayer",value:function(e,t,n){var r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Je);var i=!1,a={};r.handleWrapJump(n);var o,s=_createForOfIteratorHelper(t);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=u.getBucket(e);l&&e.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,l,this.crossTileIDs)&&(i=!0),a[l.bucketInstanceId]=!0)}}catch(c){s.e(c)}finally{s.f()}return r.removeStaleBuckets(a)&&(i=!0),i}},{key:"pruneUnusedLayers",value:function(e){var t={};for(var n in e.forEach(function(e){t[e]=!0}),this.layerIndexes)t[n]||delete this.layerIndexes[n]}}]),e}(),Qe=function(t,n){return e.emitValidationErrors(t,n&&n.filter(function(e){return"source.canvas"!==e.identifier}))},et=e.pick(Q,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),tt=e.pick(Q,["setCenter","setZoom","setBearing","setPitch"]),nt=function(){var t={},n=e.spec.$version;for(var r in e.spec.$root){var i=e.spec.$root[r];if(i.required){var a;null!=(a="version"===r?n:"array"===i.type?[]:{})&&(t[r]=a)}}return t}(),rt=function(t){_inherits(r,t);var n=_createSuper(r);function r(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,r),(i=n.call(this)).map=t,i.dispatcher=new C(Z(),_assertThisInitialized(i)),i.imageManager=new m,i.imageManager.setEventedParent(_assertThisInitialized(i)),i.glyphManager=new _(t._requestManager,a.localIdeographFontFamily),i.lineAtlas=new k(256,512),i.crossTileSymbolIndex=new Ke,i._layers={},i._serializedLayers={},i._order=[],i.sourceCaches={},i.zoomHistory=new e.ZoomHistory,i._loaded=!1,i._availableImages=[],i._resetUpdates(),i.dispatcher.broadcast("setReferrer",e.getReferrer());var o=_assertThisInitialized(i);return i._rtlTextPluginCallback=r.registerForPluginStateChange(function(t){o.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every(function(e){return e}))for(var r in o.sourceCaches)o.sourceCaches[r].reload()})}),i.on("data",function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=i.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in i._layers){var a=i._layers[r];a.source===n.id&&i._validateLayer(a)}}}}),i}return _createClass(r,[{key:"loadURL",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"!=typeof r.validate||r.validate,a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,i)})}},{key:"loadJSON",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame(function(){n._request=null,n._load(t,!1!==r.validate)})}},{key:"loadEmpty",value:function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(nt,!1)}},{key:"_load",value:function(t,n){if(!n||!Qe(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=K(this.stylesheet.layers);this._order=i.map(function(e){return e.id}),this._layers={},this._serializedLayers={};var a,o=_createForOfIteratorHelper(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}}catch(u){o.e(u)}finally{o.f()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}}},{key:"_loadSprite",value:function(t){var n=this;this._spriteRequest=function(t,n,r,i){var a,o,s,u=r>1?"@2x":"",l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,u,".json"),e.ResourceType.SpriteJSON),function(e,t){l=null,s||(s=e,a=t,h())}),c=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,u,".png"),e.ResourceType.SpriteImage),function(e,t){c=null,s||(s=e,o=t,h())});function h(){if(s)i(s);else if(a&&o){var t=e.exported.getImageData(o),n={};for(var r in a){var u=a[r],l=u.width,c=u.height,h=u.x,f=u.y,d=u.sdf,p=u.pixelRatio,m=u.stretchX,g=u.stretchY,v=u.content,y=new e.RGBAImage({width:l,height:c});e.RGBAImage.copy(t,y,{x:h,y:f},{x:0,y:0},{width:l,height:c}),n[r]={data:y,pixelRatio:p,sdf:d,stretchX:m,stretchY:g,content:v}}i(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,this.map.getPixelRatio(),function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new e.Event("data",{dataType:"style"}))})}},{key:"_validateLayer",value:function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'.concat(r,'" does not exist on source "').concat(i.id,'" as specified by style layer "').concat(t.id,'".'))))}}}},{key:"loaded",value:function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}},{key:"_serializeLayers",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=this._layers[i];"custom"!==a.type&&n.push(a.serialize())}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"hasTransitions",value:function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}},{key:"_checkLoaded",value:function(){if(!this._loaded)throw new Error("Style is not done loading.")}},{key:"update",value:function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var a in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var u={};for(var l in this.sourceCaches){var c=this.sourceCaches[l];u[l]=c.used,c.used=!1}var h,f=_createForOfIteratorHelper(this._order);try{for(f.s();!(h=f.n()).done;){var d=h.value,p=this._layers[d];p.recalculate(t,this._availableImages),!p.isHidden(t.zoom)&&p.source&&(this.sourceCaches[p.source].used=!0)}}catch(v){f.e(v)}finally{f.f()}for(var m in u){var g=this.sourceCaches[m];u[m]!==g.used&&g.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:m}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}}},{key:"_updateTilesForChangedImages",value:function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}},{key:"_updateWorkerLayers",value:function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}},{key:"_resetUpdates",value:function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}},{key:"setState",value:function(t){var n=this;if(this._checkLoaded(),Qe(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=K(t.layers);var r=function(e,t){if(!e)return[{command:Q.setStyle,args:[t]}];var n=[];try{if(!i(e.version,t.version))return[{command:Q.setStyle,args:[t]}];i(e.center,t.center)||n.push({command:Q.setCenter,args:[t.center]}),i(e.zoom,t.zoom)||n.push({command:Q.setZoom,args:[t.zoom]}),i(e.bearing,t.bearing)||n.push({command:Q.setBearing,args:[t.bearing]}),i(e.pitch,t.pitch)||n.push({command:Q.setPitch,args:[t.pitch]}),i(e.sprite,t.sprite)||n.push({command:Q.setSprite,args:[t.sprite]}),i(e.glyphs,t.glyphs)||n.push({command:Q.setGlyphs,args:[t.glyphs]}),i(e.transition,t.transition)||n.push({command:Q.setTransition,args:[t.transition]}),i(e.light,t.light)||n.push({command:Q.setLight,args:[t.light]});var r={},a=[];!function(e,t,n,r){var a;for(a in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,a)&&(Object.prototype.hasOwnProperty.call(t,a)||te(a,n,r));for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(Object.prototype.hasOwnProperty.call(e,a)?i(e[a],t[a])||("geojson"===e[a].type&&"geojson"===t[a].type&&re(e,t,a)?n.push({command:Q.setGeoJSONSourceData,args:[a,t[a].data]}):ne(a,t,n,r)):ee(a,t,n))}(e.sources,t.sources,a,r);var o=[];e.layers&&e.layers.forEach(function(e){r[e.source]?n.push({command:Q.removeLayer,args:[e.id]}):o.push(e)}),n=n.concat(a),function(e,t,n){t=t||[];var r,a,o,s,u,l,c,h=(e=e||[]).map(ae),f=t.map(ae),d=e.reduce(oe,{}),p=t.reduce(oe,{}),m=h.slice(),g=Object.create(null);for(r=0,a=0;r<h.length;r++)o=h[r],Object.prototype.hasOwnProperty.call(p,o)?a++:(n.push({command:Q.removeLayer,args:[o]}),m.splice(m.indexOf(o,a),1));for(r=0,a=0;r<f.length;r++)o=f[f.length-1-r],m[m.length-1-r]!==o&&(Object.prototype.hasOwnProperty.call(d,o)?(n.push({command:Q.removeLayer,args:[o]}),m.splice(m.lastIndexOf(o,m.length-a),1)):a++,l=m[m.length-r],n.push({command:Q.addLayer,args:[p[o],l]}),m.splice(m.length-r,0,o),g[o]=!0);for(r=0;r<f.length;r++)if(s=d[o=f[r]],u=p[o],!g[o]&&!i(s,u))if(i(s.source,u.source)&&i(s["source-layer"],u["source-layer"])&&i(s.type,u.type)){for(c in ie(s.layout,u.layout,n,o,null,Q.setLayoutProperty),ie(s.paint,u.paint,n,o,null,Q.setPaintProperty),i(s.filter,u.filter)||n.push({command:Q.setFilter,args:[o,u.filter]}),i(s.minzoom,u.minzoom)&&i(s.maxzoom,u.maxzoom)||n.push({command:Q.setLayerZoomRange,args:[o,u.minzoom,u.maxzoom]}),s)Object.prototype.hasOwnProperty.call(s,c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?ie(s[c],u[c],n,o,c.slice(6),Q.setPaintProperty):i(s[c],u[c])||n.push({command:Q.setLayerProperty,args:[o,c,u[c]]}));for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&!Object.prototype.hasOwnProperty.call(s,c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?ie(s[c],u[c],n,o,c.slice(6),Q.setPaintProperty):i(s[c],u[c])||n.push({command:Q.setLayerProperty,args:[o,c,u[c]]}))}else n.push({command:Q.removeLayer,args:[o]}),l=m[m.lastIndexOf(o)+1],n.push({command:Q.addLayer,args:[u,l]})}(o,t.layers,n)}catch(r){console.warn("Unable to compute style diff:",r),n=[{command:Q.setStyle,args:[t]}]}return n}(this.serialize(),t).filter(function(e){return!(e.command in tt)});if(0===r.length)return!1;var a=r.filter(function(e){return!(e.command in et)});if(a.length>0)throw new Error("Unimplemented: ".concat(a.map(function(e){return e.command}).join(", "),"."));return r.forEach(function(e){"setTransition"!==e.command&&n[e.command].apply(n,e.args)}),this.stylesheet=t,!0}},{key:"addImage",value:function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error('An image named "'.concat(t,'" already exists.'))));this.imageManager.addImage(t,n),this._afterImageUpdated(t)}},{key:"updateImage",value:function(e,t){this.imageManager.updateImage(e,t)}},{key:"getImage",value:function(e){return this.imageManager.getImage(e)}},{key:"removeImage",value:function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error('An image named "'.concat(t,'" does not exist.'))));this.imageManager.removeImage(t),this._afterImageUpdated(t)}},{key:"_afterImageUpdated",value:function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}},{key:"listImages",value:function(){return this._checkLoaded(),this.imageManager.listImages()}},{key:"addSource",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error('Source "'.concat(t,'" already exists.'));if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(n).join(", "),"."));if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,"sources.".concat(t),n,null,i))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var a=this.sourceCaches[t]=new U(t,n,this.dispatcher);a.style=this,a.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:a.serialize(),sourceId:t}}),a.onAdd(this.map),this._changed=!0}}},{key:"removeSource",value:function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while layer "').concat(n,'" is using it.'))));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.onRemove(this.map),this._changed=!0}},{key:"setGeoJSONSourceData",value:function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0}},{key:"getSource",value:function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}},{key:"addLayer",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer "'.concat(i,'" already exists on this map.'))));else{var a;if("custom"===t.type){if(Qe(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers.".concat(i),t,{arrayIndex:-1},r))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[a.id]=a.serialize()}var o=n?this._order.indexOf(n):this._order.length;if(n&&-1===o)this.fire(new e.ErrorEvent(new Error('Cannot add layer "'.concat(i,'" before non-existing layer "').concat(n,'".'))));else{if(this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a,this._removedLayers[i]&&a.source&&"custom"!==a.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}}},{key:"moveLayer",value:function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Cannot move layer "'.concat(t,'" before non-existing layer "').concat(n,'".')))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be moved."))))}},{key:"removeLayer",value:function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error('Cannot remove non-existing layer "'.concat(t,'".'))))}},{key:"getLayer",value:function(e){return this._layers[e]}},{key:"hasLayer",value:function(e){return e in this._layers}},{key:"setLayerZoomRange",value:function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error('Cannot set the zoom range of non-existing layer "'.concat(t,'".'))))}},{key:"setFilter",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var a=this.getLayer(t);if(a){if(!i(a.filter,n))return null==n?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(e.validateStyle.filter,"layers.".concat(a.id,".filter"),n,null,r)||(a.filter=e.clone$1(n),this._updateLayer(a)))}else this.fire(new e.ErrorEvent(new Error('Cannot filter non-existing layer "'.concat(t,'".'))))}},{key:"getFilter",value:function(t){return e.clone$1(this.getLayer(t).filter)}},{key:"setLayoutProperty",value:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(t);o?i(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,a),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error('Cannot style non-existing layer "'.concat(t,'".'))))}},{key:"getLayoutProperty",value:function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error('Cannot get style of non-existing layer "'.concat(t,'".'))))}},{key:"setPaintProperty",value:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(t);o?i(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,a)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error('Cannot style non-existing layer "'.concat(t,'".'))))}},{key:"getPaintProperty",value:function(e,t){return this.getLayer(e).getPaintProperty(t)}},{key:"setFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,a=this.sourceCaches[r];if(void 0!==a){var o=a.getSource().type;"geojson"===o&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),a.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"removeFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,i=this.sourceCaches[r];if(void 0!==i){var a=i.getSource().type,o="vector"===a?t.sourceLayer:void 0;"vector"!==a||o?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(o,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"getFeatureState",value:function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i)return"vector"!==i.getSource().type||r?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id)):void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new e.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"getTransition",value:function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}},{key:"serialize",value:function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._serializeLayers(this._order)},function(e){return void 0!==e})}},{key:"_updateLayer",value:function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0}},{key:"_flattenAndSortRenderedFeatures",value:function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(n(o)){r[o]=a;var s,u=_createForOfIteratorHelper(e);try{for(u.s();!(s=u.n()).done;){var l=s.value[o];if(l){var c,h=_createForOfIteratorHelper(l);try{for(h.s();!(c=h.n()).done;){var f=c.value;i.push(f)}}catch(C){h.e(C)}finally{h.f()}}}}catch(C){u.e(C)}finally{u.f()}}}i.sort(function(e,t){return t.intersectionZ-e.intersectionZ});for(var d=[],p=this._order.length-1;p>=0;p--){var m=this._order[p];if(n(m))for(var g=i.length-1;g>=0;g--){var v=i[g].feature;if(r[v.layer.id]<p)break;d.push(v),i.pop()}else{var y,_=_createForOfIteratorHelper(e);try{for(_.s();!(y=_.n()).done;){var b=y.value[m];if(b){var w,x=_createForOfIteratorHelper(b);try{for(x.s();!(w=x.n()).done;){var k=w.value;d.push(k.feature)}}catch(C){x.e(C)}finally{x.f()}}}}catch(C){_.e(C)}finally{_.f()}}}return d}},{key:"queryRenderedFeatures",value:function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];var a,o=_createForOfIteratorHelper(n.layers);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=this._layers[s];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '".concat(s,"' does not exist in the map's style and cannot be queried for features.")))),[];i[u.source]=!0}}catch(h){o.e(h)}finally{o.f()}}var l=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||l.push(Y(this.sourceCaches[c],this._layers,this._serializedLayers,t,n,r));return this.placement&&l.push(function(e,t,n,r,i,a,o){var s,u={},l=a.queryRenderedSymbols(r),c=[],f=_createForOfIteratorHelper(Object.keys(l).map(Number));try{for(f.s();!(s=f.n()).done;){var d=s.value;c.push(o[d])}}catch(h){f.e(h)}finally{f.f()}c.sort(z);for(var p=function(){var n=g[m],r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var a in r){var o=u[a]=u[a]||[],s=r[a];s.sort(function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex});var c,f=_createForOfIteratorHelper(s);try{for(f.s();!(c=f.n()).done;){var d=c.value;o.push(d)}}catch(h){f.e(h)}finally{f.f()}}},m=0,g=c;m<g.length;m++)p();var v=function(t){u[t].forEach(function(r){var i=r.feature,a=n[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=a})};for(var y in u)v(y);return u}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)}},{key:"querySourceFeatures",value:function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],i={},a=0;a<n.length;a++){var o=n[a],s=o.tileID.canonical.key;i[s]||(i[s]=!0,o.querySourceFeatures(r,t))}return r}(r,n):[]}},{key:"addSourceType",value:function(e,t,n){return r.getSourceType(e)?n(new Error('A source type called "'.concat(e,'" already exists.'))):(r.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}},{key:"getLight",value:function(){return this.light.getLight()}},{key:"setLight",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();var r=this.light.getLight(),a=!1;for(var o in t)if(!i(t[o],r[o])){a=!0;break}if(a){var s={now:e.exported.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(s)}}},{key:"_validate",value:function(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!a||!1!==a.validate)&&Qe(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.spec},i)))}},{key:"_remove",value:function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this.sourceCaches){var r=this.sourceCaches[n];r.setEventedParent(null),r.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}},{key:"_clearSource",value:function(e){this.sourceCaches[e].clearTiles()}},{key:"_reloadSource",value:function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}},{key:"_updateSources",value:function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)}},{key:"_generateCollisionBoxes",value:function(){for(var e in this.sourceCaches)this._reloadSource(e)}},{key:"_updatePlacement",value:function(t,n,r,i){var a,o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=!1,l=!1,c={},h=_createForOfIteratorHelper(this._order);try{for(h.s();!(a=h.n()).done;){var f=a.value,d=this._layers[f];if("symbol"===d.type){c[d.source]||function(){var e=o.sourceCaches[d.source];c[d.source]=e.getRenderableIds(!0).map(function(t){return e.getTileByID(t)}).sort(function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)})}();var p=this.crossTileSymbolIndex.addLayer(d,c[d.source],t.center.lng);u=u||p}}}catch(_){h.e(_)}finally{h.f()}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((s=s||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new We(t,this._order,s,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,c),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),l=!0),u&&this.pauseablePlacement.placement.setStale()),l||u){var m,g=_createForOfIteratorHelper(this._order);try{for(g.s();!(m=g.n()).done;){var v=m.value,y=this._layers[v];"symbol"===y.type&&this.placement.updateLayerOpacities(y,c[y.source])}}catch(_){g.e(_)}finally{g.f()}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}},{key:"_releaseSymbolFadeTiles",value:function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}},{key:"getImages",value:function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)}},{key:"getGlyphs",value:function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}},{key:"getResource",value:function(t,n,r){return e.makeRequest(n,r)}}]),r}(e.Evented);rt.getSourceType=function(e){return R[e]},rt.setSourceType=function(e,t){R[e]=t},rt.registerForPluginStateChange=e.registerForPluginStateChange;var it=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),at={prelude:ot("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),background:ot("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:ot("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:ot("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:ot("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ot("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:ot("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:ot("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:ot("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:ot("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),fill:ot("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:ot("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:ot("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:ot("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:ot("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:ot("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:ot("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ot("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:ot("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),lineGradient:ot("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),linePattern:ot("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:ot("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:ot("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:ot("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),symbolSDF:ot("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:ot("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}")};function ot(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=a?a.concat(i):i,s={};return{fragmentSource:e=e.replace(n,function(e,t,n,r,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\nvarying ").concat(n," ").concat(r," ").concat(i,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(i,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(i,"\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n")}),vertexSource:t=t.replace(n,function(e,t,n,r,i){var a="float"===r?"vec2":"vec4",o=i.match(/color/)?"color":a;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\nuniform lowp float u_").concat(i,"_t;\nattribute ").concat(n," ").concat(a," a_").concat(i,";\nvarying ").concat(n," ").concat(r," ").concat(i,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(i,";\n#endif\n"):"vec4"===o?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\n    ").concat(i," = a_").concat(i,";\n#else\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(i,"\n    ").concat(i," = unpack_mix_").concat(o,"(a_").concat(i,", u_").concat(i,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\nuniform lowp float u_").concat(i,"_t;\nattribute ").concat(n," ").concat(a," a_").concat(i,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(i,";\n#endif\n"):"vec4"===o?"\n#ifndef HAS_UNIFORM_u_".concat(i,"\n    ").concat(n," ").concat(r," ").concat(i," = a_").concat(i,";\n#else\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(i,"\n    ").concat(n," ").concat(r," ").concat(i," = unpack_mix_").concat(o,"(a_").concat(i,", u_").concat(i,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(i," = u_").concat(i,";\n#endif\n")}),staticAttributes:r,staticUniforms:o}}var st=function(){function e(){_classCallCheck(this,e),this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}return _createClass(e,[{key:"bind",value:function(e,t,n,r,i,a,o,s){this.context=e;for(var u=this.boundPaintVertexBuffers.length!==r.length,l=0;!u&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(u=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===a&&this.boundDynamicVertexBuffer===o&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,a,o,s)}},{key:"freshBind",value:function(e,t,n,r,i,a,o){var s,u=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=l.currentNumAttributes||0;for(var h=u;h<s;h++)c.disableVertexAttribArray(h)}t.enableAttributes(c,e);var f,d=_createForOfIteratorHelper(n);try{for(d.s();!(f=d.n()).done;){f.value.enableAttributes(c,e)}}catch(v){d.e(v)}finally{d.f()}a&&a.enableAttributes(c,e),o&&o.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);var p,m=_createForOfIteratorHelper(n);try{for(m.s();!(p=m.n()).done;){var g=p.value;g.bind(),g.setVertexAttribPointers(c,e,i)}}catch(v){m.e(v)}finally{m.f()}a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),r&&r.bind(),o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),l.currentNumAttributes=u}},{key:"destroy",value:function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}]),e}();function ut(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}var lt=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e);var s=t.gl;this.program=s.createProgram();var u,l=ut(r.staticAttributes),c=i?i.getBinderAttributes():[],h=l.concat(c),f=r.staticUniforms?ut(r.staticUniforms):[],d=i?i.getBinderUniforms():[],p=[],m=_createForOfIteratorHelper(f.concat(d));try{for(m.s();!(u=m.n()).done;){var g=u.value;p.indexOf(g)<0&&p.push(g)}}catch(E){m.e(E)}finally{m.f()}var v=i?i.defines():[];o&&v.push("#define OVERDRAW_INSPECTOR;");var y=v.concat(at.prelude.fragmentSource,r.fragmentSource).join("\n"),_=v.concat(at.prelude.vertexSource,r.vertexSource).join("\n"),b=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())this.failedToCreate=!0;else{s.shaderSource(b,y),s.compileShader(b),s.attachShader(this.program,b);var w=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else{s.shaderSource(w,_),s.compileShader(w),s.attachShader(this.program,w),this.attributes={};var x={};this.numAttributes=h.length;for(var k=0;k<this.numAttributes;k++)h[k]&&(s.bindAttribLocation(this.program,k,h[k]),this.attributes[h[k]]=k);s.linkProgram(this.program),s.deleteShader(w),s.deleteShader(b);for(var C=0;C<p.length;C++){var S=p[C];if(S&&!x[S]){var M=s.getUniformLocation(this.program,S);M&&(x[S]=M)}}this.fixedUniforms=a(t,x),this.binderUniforms=i?i.getUniforms(t,x):[]}}}return _createClass(e,[{key:"draw",value:function(e,t,n,r,i,a,o,s,u,l,c,h,f,d,p,m){var g,v=e.gl;if(!this.failedToCreate){for(var y in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(a),this.fixedUniforms)this.fixedUniforms[y].set(o[y]);d&&d.setUniforms(e,this.binderUniforms,h,{zoom:f});var _,b=(g={},_defineProperty(g,v.LINES,2),_defineProperty(g,v.TRIANGLES,3),_defineProperty(g,v.LINE_STRIP,1),g)[t],w=_createForOfIteratorHelper(c.get());try{for(w.s();!(_=w.n()).done;){var x=_.value,k=x.vaos||(x.vaos={});(k[s]||(k[s]=new st)).bind(e,this,u,d?d.getPaintVertexBuffers():[],l,x.vertexOffset,p,m),v.drawElements(t,x.primitiveLength*b,v.UNSIGNED_SHORT,x.primitiveOffset*b*2)}}catch(C){w.e(C)}finally{w.f()}}}}]),e}();function ct(e,t,n){var r=1/Me(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,o=a*(n.tileID.canonical.x+n.tileID.wrap*i),s=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}var ht=function(t,n,r,i){var a,o=n.style.light,s=o.properties.get("position"),u=[s.x,s.y,s.z],l=(a=new e.ARRAY_TYPE(9),e.ARRAY_TYPE!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a);"viewport"===o.properties.get("anchor")&&function(e,t){var n=Math.sin(t),r=Math.cos(t);e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(l,-n.transform.angle),function(e,t,n){var r=t[0],i=t[1],a=t[2];e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8]}(u,u,l);var c=o.properties.get("color");return{u_matrix:t,u_lightpos:u,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:i}},ft=function(t,n,r,i,a,o,s){return e.extend(ht(t,n,r,i),ct(o,n,s),{u_height_factor:-Math.pow(2,a.overscaledZ)/s.tileSize/8})},dt=function(e){return{u_matrix:e}},pt=function(t,n,r,i){return e.extend(dt(t),ct(r,n,i))},mt=function(e,t){return{u_matrix:e,u_world:t}},gt=function(t,n,r,i,a){return e.extend(pt(t,n,r,i),{u_world:a})},vt=function(e,t,n,r){var i,a,o=e.transform;if("map"===r.paint.get("circle-pitch-alignment")){var s=Me(n,1,o.zoom);i=!0,a=[s,s]}else i=!1,a=o.pixelsToGLUnits;return{u_camera_to_center_distance:o.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+i,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:a}},yt=function(e,t,n){var r=Me(n,1,t.zoom),i=Math.pow(2,t.zoom-n.tileID.overscaledZ),a=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:a}},_t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}},bt=function(e){return{u_matrix:e}},wt=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:Me(t,1,n),u_intensity:r}};function xt(t,n){var r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new e.MercatorCoordinate(0,i/r).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}var kt=function(e,t,n){var r=e.transform;return{u_matrix:Tt(e,t,n),u_ratio:1/Me(t,1,r.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Ct=function(t,n,r,i){return e.extend(kt(t,n,r),{u_image:0,u_image_height:i})},St=function(e,t,n,r){var i=e.transform,a=Et(t,i);return{u_matrix:Tt(e,t,n),u_texsize:t.imageAtlasTexture.size,u_ratio:1/Me(t,1,i.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[a,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Mt=function(t,n,r,i,a){var o=t.lineAtlas,s=Et(n,t.transform),u="round"===r.layout.get("line-cap"),l=o.getDash(i.from,u),c=o.getDash(i.to,u),h=l.width*a.fromScale,f=c.width*a.toScale;return e.extend(kt(t,n,r),{u_patternscale_a:[s/h,-l.height/2],u_patternscale_b:[s/f,-c.height/2],u_sdfgamma:o.width/(256*Math.min(h,f)*t.pixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:c.y,u_mix:a.t})};function Et(e,t){return 1/Me(e,1,t.tileZoom)}function Tt(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Lt=function(e,t,n,r,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(o=i.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=i.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:It(i.paint.get("raster-hue-rotate"))};var a,o};function It(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var Dt=function(e,t,n,r,i,a,o,s,u,l){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},At=function(t,n,r,i,a,o,s,u,l,c,h){var f=a.transform;return e.extend(Dt(t,n,r,i,a,o,s,u,l,c),{u_gamma_scale:i?Math.cos(f._pitch)*f.cameraToCenterDistance:1,u_device_pixel_ratio:a.pixelRatio,u_is_halo:+h})},Pt=function(t,n,r,i,a,o,s,u,l,c){return e.extend(At(t,n,r,i,a,o,s,u,!0,l,!0),{u_texsize_icon:c,u_texture_icon:1})},Ot=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Nt=function(t,n,r,i,a,o){return e.extend((s=i,u=o,c=a,h=(l=r).imageManager.getPattern(s.from.toString()),f=l.imageManager.getPattern(s.to.toString()),d=l.imageManager.getPixelSize(),p=d.width,m=d.height,g=Math.pow(2,c.tileID.overscaledZ),v=c.tileSize*Math.pow(2,l.transform.tileZoom)/g,y=v*(c.tileID.canonical.x+c.tileID.wrap*g),_=v*c.tileID.canonical.y,{u_image:0,u_pattern_tl_a:h.tl,u_pattern_br_a:h.br,u_pattern_tl_b:f.tl,u_pattern_br_b:f.br,u_texsize:[p,m],u_mix:u.t,u_pattern_size_a:h.displaySize,u_pattern_size_b:f.displaySize,u_scale_a:u.fromScale,u_scale_b:u.toScale,u_tile_units_to_pixels:1/Me(c,1,l.transform.tileZoom),u_pixel_coord_upper:[y>>16,_>>16],u_pixel_coord_lower:[65535&y,65535&_]}),{u_matrix:t,u_opacity:n});var s,u,l,c,h,f,d,p,m,g,v,y,_},Rt={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},collisionCircle:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}},debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},symbolTextAndIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}},Ft=function(){function e(t,n,r){_classCallCheck(this,e),this.context=t;var i=t.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}return _createClass(e,[{key:"bind",value:function(){this.context.bindElementBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),Yt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},zt=function(){function e(t,n,r,i){_classCallCheck(this,e),this.length=n.length,this.attributes=r,this.itemSize=n.bytesPerElement,this.dynamicDraw=i,this.context=t;var a=t.gl;this.buffer=a.createBuffer(),t.bindVertexBuffer.set(this.buffer),a.bufferData(a.ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}return _createClass(e,[{key:"bind",value:function(){this.context.bindVertexBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"enableAttributes",value:function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}},{key:"setVertexAttribPointers",value:function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],a=t.attributes[i.name];void 0!==a&&e.vertexAttribPointer(a,i.components,e[Yt[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),jt=function(){function e(t){_classCallCheck(this,e),this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}return _createClass(e,[{key:"get",value:function(){return this.current}},{key:"set",value:function(e){}},{key:"getDefault",value:function(){return this.default}},{key:"setDefault",value:function(){this.set(this.default)}}]),e}(),Bt=function(t){_inherits(r,t);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(jt),Ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return 1}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}]),n}(jt),Ut=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return 0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}]),n}(jt),Vt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return[!0,!0,!0,!0]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(jt),Gt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return!0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}]),n}(jt),qt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return 255}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}]),n}(jt),Wt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return{func:this.gl.ALWAYS,ref:0,mask:255}}},{key:"set",value:function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}]),n}(jt),$t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}]),n}(jt),Xt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}}]),n}(jt),Zt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return[0,1]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(jt),Jt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}}]),n}(jt),Kt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return this.gl.LESS}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}]),n}(jt),Qt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}}]),n}(jt),en=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.ONE,e.ZERO]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(jt),tn=function(t){_inherits(r,t);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(jt),nn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return this.gl.FUNC_ADD}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}]),n}(jt),rn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}}]),n}(jt),an=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return this.gl.BACK}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}]),n}(jt),on=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return this.gl.CCW}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}]),n}(jt),sn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}]),n}(jt),un=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return this.gl.TEXTURE0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}]),n}(jt),ln=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(jt),cn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(jt),hn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(jt),fn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}}]),n}(jt),dn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}}]),n}(jt),pn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}]),n}(jt),mn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).vao=e.extVertexArrayObject,r}return _createClass(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}]),n}(jt),gn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return 4}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}}]),n}(jt),vn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(jt),yn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(jt),_n=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).context=e,i.parent=r,i}return _createClass(n,[{key:"getDefault",value:function(){return null}}]),n}(jt),bn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"setDirty",value:function(){this.dirty=!0}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}}]),n}(_n),wn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(_n),xn=function(){function e(t,n,r,i){_classCallCheck(this,e),this.context=t,this.width=n,this.height=r;var a=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new bn(t,a),i&&(this.depthAttachment=new wn(t,a))}return _createClass(e,[{key:"destroy",value:function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)}}]),e}(),kn=_createClass(function e(t,n,r){_classCallCheck(this,e),this.blendFunction=t,this.blendColor=n,this.mask=r});kn.Replace=[1,0],kn.disabled=new kn(kn.Replace,e.Color.transparent,[!1,!1,!1,!1]),kn.unblended=new kn(kn.Replace,e.Color.transparent,[!0,!0,!0,!0]),kn.alphaBlended=new kn([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Cn=function(){function e(t){_classCallCheck(this,e),this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Bt(this),this.clearDepth=new Ht(this),this.clearStencil=new Ut(this),this.colorMask=new Vt(this),this.depthMask=new Gt(this),this.stencilMask=new qt(this),this.stencilFunc=new Wt(this),this.stencilOp=new $t(this),this.stencilTest=new Xt(this),this.depthRange=new Zt(this),this.depthTest=new Jt(this),this.depthFunc=new Kt(this),this.blend=new Qt(this),this.blendFunc=new en(this),this.blendColor=new tn(this),this.blendEquation=new nn(this),this.cullFace=new rn(this),this.cullFaceSide=new an(this),this.frontFace=new on(this),this.program=new sn(this),this.activeTexture=new un(this),this.viewport=new ln(this),this.bindFramebuffer=new cn(this),this.bindRenderbuffer=new hn(this),this.bindTexture=new fn(this),this.bindVertexBuffer=new dn(this),this.bindElementBuffer=new pn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new mn(this),this.pixelStoreUnpack=new gn(this),this.pixelStoreUnpackPremultiplyAlpha=new vn(this),this.pixelStoreUnpackFlipY=new yn(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)}return _createClass(e,[{key:"setDefault",value:function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}},{key:"setDirty",value:function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}},{key:"createIndexBuffer",value:function(e,t){return new Ft(this,e,t)}},{key:"createVertexBuffer",value:function(e,t,n){return new zt(this,e,t,n)}},{key:"createRenderbuffer",value:function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i}},{key:"createFramebuffer",value:function(e,t,n){return new xn(this,e,t,n)}},{key:"clear",value:function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)}},{key:"setCullFace",value:function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}},{key:"setDepthMode",value:function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}},{key:"setStencilMode",value:function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}},{key:"setColorMode",value:function(e){i(e.blendFunction,kn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}},{key:"unbindVAO",value:function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}]),e}(),Sn=_createClass(function e(t,n,r){_classCallCheck(this,e),this.func=t,this.mask=n,this.range=r});Sn.ReadOnly=!1,Sn.ReadWrite=!0,Sn.disabled=new Sn(519,Sn.ReadOnly,[0,1]);var Mn=_createClass(function e(t,n,r,i,a,o){_classCallCheck(this,e),this.test=t,this.ref=n,this.mask=r,this.fail=i,this.depthFail=a,this.pass=o});Mn.disabled=new Mn({func:519,mask:0},0,0,7680,7680,7680);var En,Tn=_createClass(function e(t,n,r){_classCallCheck(this,e),this.enable=t,this.mode=n,this.frontFace=r});function Ln(t,n,r,i,a,o,s){for(var u=t.context,l=u.gl,c=t.useProgram("collisionBox"),h=[],f=0,d=0,p=0;p<i.length;p++){var m=i[p],g=n.getTile(m),v=g.getBucket(r);if(v){var y=m.posMatrix;0===a[0]&&0===a[1]||(y=t.translatePosMatrix(m.posMatrix,g,a,o));var _=s?v.textCollisionBox:v.iconCollisionBox,b=v.collisionCircleArray;if(b.length>0){var w=e.create(),x=y;e.mul(w,v.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(w,w,v.placementViewportMatrix),h.push({circleArray:b,circleOffset:d,transform:x,invTransform:w}),d=f+=b.length/4}_&&c.draw(u,l.LINES,Sn.disabled,Mn.disabled,t.colorModeForRenderPass(),Tn.disabled,yt(y,t.transform,g),r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,t.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&h.length){var k=t.useProgram("collisionCircle"),C=new e.CollisionCircleLayoutArray;C.resize(4*f),C._trim();for(var S=0,M=0,E=h;M<E.length;M++)for(var T=E[M],L=0;L<T.circleArray.length/4;L++){var I=4*L,D=T.circleArray[I+0],A=T.circleArray[I+1],P=T.circleArray[I+2],O=T.circleArray[I+3];C.emplace(S++,D,A,P,O,0),C.emplace(S++,D,A,P,O,1),C.emplace(S++,D,A,P,O,2),C.emplace(S++,D,A,P,O,3)}(!En||En.length<2*f)&&(En=function(t){var n=2*t,r=new e.QuadTriangleArray;r.resize(n),r._trim();for(var i=0;i<n;i++){var a=6*i;r.uint16[a+0]=4*i+0,r.uint16[a+1]=4*i+1,r.uint16[a+2]=4*i+2,r.uint16[a+3]=4*i+2,r.uint16[a+4]=4*i+3,r.uint16[a+5]=4*i+0}return r}(f));for(var N,R=u.createIndexBuffer(En,!0),F=u.createVertexBuffer(C,e.collisionCircleLayout.members,!0),Y=0,z=h;Y<z.length;Y++){var j=z[Y],B={u_matrix:j.transform,u_inv_matrix:j.invTransform,u_camera_to_center_distance:(N=t.transform).cameraToCenterDistance,u_viewport_size:[N.width,N.height]};k.draw(u,l.TRIANGLES,Sn.disabled,Mn.disabled,t.colorModeForRenderPass(),Tn.disabled,B,r.id,F,R,e.SegmentVector.simpleSegment(0,2*j.circleOffset,j.circleArray.length,j.circleArray.length/2),null,t.transform.zoom,null,null,null)}F.destroy(),R.destroy()}}Tn.disabled=new Tn(!1,1029,2305),Tn.backCCW=new Tn(!0,1029,2305);var In=e.identity(new Float32Array(16));function Dn(t,n,r,i,a,o){var s=e.getAnchorAlignment(t),u=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.pointGeometry((u/a+c[0])*o,(l/a+c[1])*o)}function An(t,n,r,i,a,o,s,u,l,c){var h=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray,d=t.icon.dynamicLayoutVertexArray,p={};f.clear();for(var m=0;m<h.length;m++){var g=h.get(m),v=t.allowVerticalPlacement&&!g.placedOrientation,y=g.hidden||!g.crossTileID||v?null:i[g.crossTileID];if(y){var _=new e.pointGeometry(g.anchorX,g.anchorY),b=fe(_,r?s:o),w=de(a.cameraToCenterDistance,b.signedDistanceFromCamera),x=e.evaluateSizeForFeature(t.textSizeData,l,g)*w/e.ONE_EM;r&&(x*=t.tilePixelRatio/u);for(var k=y.width,C=y.height,S=Dn(y.anchor,k,C,y.textOffset,y.textBoxScale,x),M=r?fe(_.add(S),o).point:b.point.add(n?S.rotate(-a.angle):S),E=t.allowVerticalPlacement&&g.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,T=0;T<g.numGlyphs;T++)e.addDynamicAttributes(f,M,E);c&&g.associatedIconIndex>=0&&(p[g.associatedIconIndex]={shiftedAnchor:M,angle:E})}else xe(g.numGlyphs,f)}if(c){d.clear();for(var L=t.icon.placedSymbolArray,I=0;I<L.length;I++){var D=L.get(I);if(D.hidden)xe(D.numGlyphs,d);else{var A=p[I];if(A)for(var P=0;P<D.numGlyphs;P++)e.addDynamicAttributes(d,A.shiftedAnchor,A.angle);else xe(D.numGlyphs,d)}}t.icon.dynamicLayoutVertexBuffer.updateData(d)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function Pn(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function On(t,n,r,i,a,o,s,u,l,c,h,f){var d,p=t.context,m=p.gl,g=t.transform,v="map"===u,y="map"===l,_="viewport"!==u&&"point"!==r.layout.get("symbol-placement"),b=v&&!y&&!_,w=!r.layout.get("symbol-sort-key").isConstant(),x=!1,k=t.depthModeForSublayer(0,Sn.ReadOnly),C=r.layout.get("text-variable-anchor"),S=[],M=_createForOfIteratorHelper(i);try{for(M.s();!(d=M.n()).done;){var E=d.value,T=n.getTile(E),L=T.getBucket(r);if(L){var I=a?L.text:L.icon;if(I&&I.segments.get().length){var D=I.programConfigurations.get(r.id),A=a||L.sdfIcons,P=a?L.textSizeData:L.iconSizeData,O=y||0!==g.pitch,N=t.useProgram(Pn(A,a,L),D),R=e.evaluateSizeForZoom(P,g.zoom),F=void 0,Y=void 0,z=void 0,j=void 0,B=[0,0],H=null;if(a){if(Y=T.glyphAtlasTexture,z=m.LINEAR,F=T.glyphAtlasTexture.size,L.iconsInText){B=T.imageAtlasTexture.size,H=T.imageAtlasTexture;var U="composite"===P.kind||"camera"===P.kind;j=O||t.options.rotating||t.options.zooming||U?m.LINEAR:m.NEAREST}}else{var V=1!==r.layout.get("icon-size").constantOr(0)||L.iconsNeedLinear;Y=T.imageAtlasTexture,z=A||t.options.rotating||t.options.zooming||V||O?m.LINEAR:m.NEAREST,F=T.imageAtlasTexture.size}var G=Me(T,1,t.transform.zoom),q=ce(E.posMatrix,y,v,t.transform,G),W=he(E.posMatrix,y,v,t.transform,G),$=C&&L.hasTextData(),X="none"!==r.layout.get("icon-text-fit")&&$&&L.hasIconData();if(_){var Z="map"===r.layout.get("text-rotation-alignment");me(L,E.posMatrix,t,a,q,W,y,c,Z)}var J=t.translatePosMatrix(E.posMatrix,T,o,s),K=_||a&&C||X?In:q,Q=t.translatePosMatrix(W,T,o,s,!0),ee=A&&0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),te={program:N,buffers:I,uniformValues:A?L.iconsInText?Pt(P.kind,R,b,y,t,J,K,Q,F,B):At(P.kind,R,b,y,t,J,K,Q,a,F,!0):Dt(P.kind,R,b,y,t,J,K,Q,a,F),atlasTexture:Y,atlasTextureIcon:H,atlasInterpolation:z,atlasInterpolationIcon:j,isSDF:A,hasHalo:ee};if(w&&L.canOverlap){x=!0;var ne,re=_createForOfIteratorHelper(I.segments.get());try{for(re.s();!(ne=re.n()).done;){var ie=ne.value;S.push({segments:new e.SegmentVector([ie]),sortKey:ie.sortKey,state:te})}}catch(fe){re.e(fe)}finally{re.f()}}else S.push({segments:I.segments,sortKey:0,state:te})}}}}catch(fe){M.e(fe)}finally{M.f()}x&&S.sort(function(e,t){return e.sortKey-t.sortKey});for(var ae=0,oe=S;ae<oe.length;ae++){var se=oe[ae],ue=se.state;if(p.activeTexture.set(m.TEXTURE0),ue.atlasTexture.bind(ue.atlasInterpolation,m.CLAMP_TO_EDGE),ue.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),ue.atlasTextureIcon&&ue.atlasTextureIcon.bind(ue.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),ue.isSDF){var le=ue.uniformValues;ue.hasHalo&&(le.u_is_halo=1,Nn(ue.buffers,se.segments,r,t,ue.program,k,h,f,le)),le.u_is_halo=0}Nn(ue.buffers,se.segments,r,t,ue.program,k,h,f,ue.uniformValues)}}function Nn(e,t,n,r,i,a,o,s,u){var l=r.context;i.draw(l,l.gl.TRIANGLES,a,o,s,Tn.disabled,u,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Rn(e,t,n,r,i,a,o){var s,u,l,c,h,f=e.context.gl,d=n.paint.get("fill-pattern"),p=d&&d.constantOr(1),m=n.getCrossfadeParameters();o?(u=p&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=f.LINES):(u=p?"fillPattern":"fill",s=f.TRIANGLES);var g,v=_createForOfIteratorHelper(r);try{for(v.s();!(g=v.n()).done;){var y=g.value,_=t.getTile(y);if(!p||_.patternsLoaded()){var b=_.getBucket(n);if(b){var w=b.programConfigurations.get(n.id),x=e.useProgram(u,w);p&&(e.context.activeTexture.set(f.TEXTURE0),_.imageAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),w.updatePaintBuffers(m));var k=d.constantOr(null);if(k&&_.imageAtlas){var C=_.imageAtlas,S=C.patternPositions[k.to.toString()],M=C.patternPositions[k.from.toString()];S&&M&&w.setConstantPatternPositions(S,M)}var E=e.translatePosMatrix(y.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(o){c=b.indexBuffer2,h=b.segments2;var T=[f.drawingBufferWidth,f.drawingBufferHeight];l="fillOutlinePattern"===u&&p?gt(E,e,m,_,T):mt(E,T)}else c=b.indexBuffer,h=b.segments,l=p?pt(E,e,m,_):dt(E);x.draw(e.context,s,i,e.stencilModeForClipping(y),a,Tn.disabled,l,n.id,b.layoutVertexBuffer,c,h,n.paint,e.transform.zoom,w)}}}}catch(L){v.e(L)}finally{v.f()}}function Fn(e,t,n,r,i,a,o){var s,u=e.context,l=u.gl,c=n.paint.get("fill-extrusion-pattern"),h=c.constantOr(1),f=n.getCrossfadeParameters(),d=n.paint.get("fill-extrusion-opacity"),p=_createForOfIteratorHelper(r);try{for(p.s();!(s=p.n()).done;){var m=s.value,g=t.getTile(m),v=g.getBucket(n);if(v){var y=v.programConfigurations.get(n.id),_=e.useProgram(h?"fillExtrusionPattern":"fillExtrusion",y);h&&(e.context.activeTexture.set(l.TEXTURE0),g.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers(f));var b=c.constantOr(null);if(b&&g.imageAtlas){var w=g.imageAtlas,x=w.patternPositions[b.to.toString()],k=w.patternPositions[b.from.toString()];x&&k&&y.setConstantPatternPositions(x,k)}var C=e.translatePosMatrix(m.posMatrix,g,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),S=n.paint.get("fill-extrusion-vertical-gradient"),M=h?ft(C,e,S,d,m,f,g):ht(C,e,S,d);_.draw(u,u.gl.TRIANGLES,i,a,o,Tn.backCCW,M,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,n.paint,e.transform.zoom,y)}}}catch(E){p.e(E)}finally{p.f()}}function Yn(e,t,n,r,i,a){var o=e.context,s=o.gl,u=t.fbo;if(u){var l=e.useProgram("hillshade");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,u.colorAttachment.get());var c=function(e,t,n){var r=n.paint.get("hillshade-shadow-color"),i=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color"),o=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(o-=e.transform.angle);var s=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),s),u_image:0,u_latrange:xt(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),o],u_shadow:r,u_highlight:i,u_accent:a}}(e,t,n);l.draw(o,s.TRIANGLES,r,i,a,Tn.disabled,c,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function zn(t,n,r,i,a,o){var s=t.context,u=s.gl,l=n.dem;if(l&&l.data){var c=l.dim,h=l.stride,f=l.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(h),n.demTexture){var p=n.demTexture;p.update(f,{premultiply:!1}),p.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new d(s,f,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);var m=n.fbo;if(!m){var g=new d(s,{width:c,height:c,data:null},u.RGBA);g.bind(u.LINEAR,u.CLAMP_TO_EDGE),(m=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(g.texture)}s.bindFramebuffer.set(m.framebuffer),s.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,a,o,Tn.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,l),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function jn(t,n,r,i,a){var o=i.paint.get("raster-fade-duration");if(o>0){var s=e.exported.now(),u=(s-t.timeAdded)/o,l=n?(s-n.timeAdded)/o:-1,c=r.getSource(),h=a.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),f=!n||Math.abs(n.tileID.overscaledZ-h)>Math.abs(t.tileID.overscaledZ-h),d=f&&t.refreshedUponExpiration?1:e.clamp(f?u:1-l,0,1);return t.refreshedUponExpiration&&u>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var Bn=new e.Color(1,0,0,1),Hn=new e.Color(0,1,0,1),Un=new e.Color(0,0,1,1),Vn=new e.Color(1,0,1,1),Gn=new e.Color(0,1,1,1);function qn(e,t,n,r){$n(e,0,t+n/2,e.transform.width,n,r)}function Wn(e,t,n,r){$n(e,t-n/2,0,n,e.transform.height,r)}function $n(e,t,n,r,i,a){var o=e.context,s=o.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,n*e.pixelRatio,r*e.pixelRatio,i*e.pixelRatio),o.clear({color:a}),s.disable(s.SCISSOR_TEST)}function Xn(t,n,r){var i=t.context,a=i.gl,o=r.posMatrix,s=t.useProgram("debug"),u=Sn.disabled,l=Mn.disabled,c=t.colorModeForRenderPass();i.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s.draw(i,a.LINE_STRIP,u,l,c,Tn.disabled,_t(o,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var h=n.getTileByID(r.key).latestRawTileData,f=Math.floor((h&&h.byteLength||0)/1024),d=n.getTile(r).tileSize,p=512/Math.min(d,512)*(r.overscaledZ/t.transform.zoom)*.5,m=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(m+=" => ".concat(r.overscaledZ)),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,"".concat(m," ").concat(f,"kb")),s.draw(i,a.TRIANGLES,u,l,kn.alphaBlended,Tn.disabled,_t(o,e.Color.transparent,p),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var Zn={symbol:function(t,n,r,i,a){if("translucent"===t.renderPass){var o=Mn.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,a,o,s){var u,l=n.transform,c="map"===a,h="map"===o,f=_createForOfIteratorHelper(t);try{for(f.s();!(u=f.n()).done;){var d=u.value,p=i.getTile(d),m=p.getBucket(r);if(m&&m.text&&m.text.segments.get().length){var g=e.evaluateSizeForZoom(m.textSizeData,l.zoom),v=Me(p,1,n.transform.zoom),y=ce(d.posMatrix,h,c,n.transform,v),_="none"!==r.layout.get("icon-text-fit")&&m.hasIconData();if(g){var b=Math.pow(2,l.zoom-p.tileID.overscaledZ);An(m,c,h,s,l,y,d.posMatrix,b,g,_)}}}}catch(w){f.e(w)}finally{f.f()}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),a),0!==r.paint.get("icon-opacity").constantOr(1)&&On(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),o,s),0!==r.paint.get("text-opacity").constantOr(1)&&On(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),o,s),n.map.showCollisionBoxes&&(Ln(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Ln(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("circle-opacity"),o=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),u=!r.layout.get("circle-sort-key").isConstant();if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var l=t.context,c=l.gl,h=t.depthModeForSublayer(0,Sn.ReadOnly),f=Mn.disabled,d=t.colorModeForRenderPass(),p=[],m=0;m<i.length;m++){var g=i[m],v=n.getTile(g),y=v.getBucket(r);if(y){var _=y.programConfigurations.get(r.id),b={programConfiguration:_,program:t.useProgram("circle",_),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:vt(t,g,v,r)};if(u){var w,x=_createForOfIteratorHelper(y.segments.get());try{for(x.s();!(w=x.n()).done;){var k=w.value;p.push({segments:new e.SegmentVector([k]),sortKey:k.sortKey,state:b})}}catch(P){x.e(P)}finally{x.f()}}else p.push({segments:y.segments,sortKey:0,state:b})}}u&&p.sort(function(e,t){return e.sortKey-t.sortKey});for(var C=0,S=p;C<S.length;C++){var M=S[C],E=M.state,T=E.programConfiguration,L=E.program,I=E.layoutVertexBuffer,D=E.indexBuffer,A=E.uniformValues;L.draw(l,c.TRIANGLES,h,f,d,Tn.disabled,A,r.id,I,D,M.segments,r.paint,t.transform.zoom,T)}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var a=t.context,o=a.gl,s=Mn.disabled,u=new kn([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);(function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,a,i)}})(a,t,r),a.clear({color:e.Color.transparent});for(var l=0;l<i.length;l++){var c=i[l];if(!n.hasRenderableParent(c)){var h=n.getTile(c),f=h.getBucket(r);if(f){var p=f.programConfigurations.get(r.id),m=t.useProgram("heatmap",p),g=t.transform.zoom;m.draw(a,o.TRIANGLES,Sn.disabled,s,u,Tn.disabled,wt(c.posMatrix,h,g,r.paint.get("heatmap-intensity")),r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,r.paint,t.transform.zoom,p)}}}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,a=n.heatmapFbo;if(a){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var o=n.colorRampTexture;o||(o=n.colorRampTexture=new d(r,n.colorRamp,i.RGBA)),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Sn.disabled,Mn.disabled,t.colorModeForRenderPass(),Tn.disabled,function(t,n,r,i){var a=e.create();e.ortho(a,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("line-opacity"),o=r.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1)){var s,u=t.depthModeForSublayer(0,Sn.ReadOnly),l=t.colorModeForRenderPass(),c=r.paint.get("line-dasharray"),h=r.paint.get("line-pattern"),f=h.constantOr(1),p=r.paint.get("line-gradient"),m=r.getCrossfadeParameters(),g=f?"linePattern":c?"lineSDF":p?"lineGradient":"line",v=t.context,y=v.gl,_=!0,b=_createForOfIteratorHelper(i);try{for(b.s();!(s=b.n()).done;){var w=s.value,x=n.getTile(w);if(!f||x.patternsLoaded()){var k=x.getBucket(r);if(k){var C=k.programConfigurations.get(r.id),S=t.context.program.get(),M=t.useProgram(g,C),E=_||M.program!==S,T=h.constantOr(null);if(T&&x.imageAtlas){var L=x.imageAtlas,I=L.patternPositions[T.to.toString()],D=L.patternPositions[T.from.toString()];I&&D&&C.setConstantPatternPositions(I,D)}var A=f?St(t,x,r,m):c?Mt(t,x,r,c,m):p?Ct(t,x,r,k.lineClipsArray.length):kt(t,x,r);if(f)v.activeTexture.set(y.TEXTURE0),x.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),C.updatePaintBuffers(m);else if(c&&(E||t.lineAtlas.dirty))v.activeTexture.set(y.TEXTURE0),t.lineAtlas.bind(v);else if(p){var P=k.gradients[r.id],O=P.texture;if(r.gradientVersion!==P.version){var N=256;if(r.stepInterpolant){var R=n.getSource().maxzoom,F=w.canonical.z===R?Math.ceil(1<<t.transform.maxZoom-w.canonical.z):1;N=e.clamp(e.nextPowerOfTwo(k.maxLineLength/e.EXTENT*1024*F),256,v.maxTextureSize)}P.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:N,image:P.gradient||void 0,clips:k.lineClipsArray}),P.texture?P.texture.update(P.gradient):P.texture=new d(v,P.gradient,y.RGBA),P.version=r.gradientVersion,O=P.texture}v.activeTexture.set(y.TEXTURE0),O.bind(r.stepInterpolant?y.NEAREST:y.LINEAR,y.CLAMP_TO_EDGE)}M.draw(v,y.TRIANGLES,u,t.stencilModeForClipping(w),l,Tn.disabled,A,r.id,k.layoutVertexBuffer,k.indexBuffer,k.segments,r.paint,t.transform.zoom,C,k.layoutVertexBuffer2),_=!1}}}}catch(Y){b.e(Y)}finally{b.f()}}}},fill:function(t,n,r,i){var a=r.paint.get("fill-color"),o=r.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),l=t.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===l){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?Sn.ReadWrite:Sn.ReadOnly);Rn(t,n,r,i,c,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var h=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Sn.ReadOnly);Rn(t,n,r,i,h,s,!0)}}},"fill-extrusion":function(e,t,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var a=new Sn(e.context.gl.LEQUAL,Sn.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))Fn(e,t,n,r,a,Mn.disabled,kn.disabled),Fn(e,t,n,r,a,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var o=e.colorModeForRenderPass();Fn(e,t,n,r,a,Mn.disabled,o)}}},hillshade:function(e,t,n,r){if("offscreen"===e.renderPass||"translucent"===e.renderPass){var i,a=e.context,o=e.depthModeForSublayer(0,Sn.ReadOnly),s=e.colorModeForRenderPass(),u=_slicedToArray("translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r],2),l=u[0],c=_createForOfIteratorHelper(u[1]);try{for(c.s();!(i=c.n()).done;){var h=i.value,f=t.getTile(h);f.needsHillshadePrepare&&"offscreen"===e.renderPass?zn(e,f,n,o,Mn.disabled,s):"translucent"===e.renderPass&&Yn(e,f,n,o,l[h.overscaledZ],s)}}catch(d){c.e(d)}finally{c.f()}a.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,r){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity")&&r.length){var i,a=e.context,o=a.gl,s=t.getSource(),u=e.useProgram("raster"),l=e.colorModeForRenderPass(),c=_slicedToArray(s instanceof P?[{},r]:e.stencilConfigForOverlap(r),2),h=c[0],f=c[1],d=f[f.length-1].overscaledZ,p=!e.options.moving,m=_createForOfIteratorHelper(f);try{for(m.s();!(i=m.n()).done;){var g=i.value,v=e.depthModeForSublayer(g.overscaledZ-d,1===n.paint.get("raster-opacity")?Sn.ReadWrite:Sn.ReadOnly,o.LESS),y=t.getTile(g),_=e.transform.calculatePosMatrix(g.toUnwrapped(),p);y.registerFadeDuration(n.paint.get("raster-fade-duration"));var b=t.findLoadedParent(g,0),w=jn(y,b,t,n,e.transform),x=void 0,k=void 0,C="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;a.activeTexture.set(o.TEXTURE0),y.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(o.TEXTURE1),b?(b.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,b.tileID.overscaledZ-y.tileID.overscaledZ),k=[y.tileID.canonical.x*x%1,y.tileID.canonical.y*x%1]):y.texture.bind(C,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var S=Lt(_,k||[0,0],x||1,w,n);s instanceof P?u.draw(a,o.TRIANGLES,v,Mn.disabled,l,Tn.disabled,S,n.id,s.boundsBuffer,e.quadTriangleIndexBuffer,s.boundsSegments):u.draw(a,o.TRIANGLES,v,h[g.overscaledZ],l,Tn.disabled,S,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}catch(M){m.e(M)}finally{m.f()}}},background:function(e,t,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var a=e.context,o=a.gl,s=e.transform,u=s.tileSize,l=n.paint.get("background-pattern");if(!e.isPatternMissing(l)){var c=!l&&1===r.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===c){var h=Mn.disabled,f=e.depthModeForSublayer(0,"opaque"===c?Sn.ReadWrite:Sn.ReadOnly),d=e.colorModeForRenderPass(),p=e.useProgram(l?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:u});l&&(a.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));var g,v=n.getCrossfadeParameters(),y=_createForOfIteratorHelper(m);try{for(y.s();!(g=y.n()).done;){var _=g.value,b=e.transform.calculatePosMatrix(_.toUnwrapped()),w=l?Nt(b,i,e,l,{tileID:_,tileSize:u},v):Ot(b,i,r);p.draw(a,o.TRIANGLES,f,h,d,Tn.disabled,w,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}catch(x){y.e(x)}finally{y.f()}}}}},debug:function(e,t,n){for(var r=0;r<n.length;r++)Xn(e,t,n[r])},custom:function(e,t,n){var r=e.context,i=n.implementation;if("offscreen"===e.renderPass){var a=i.prerender;a&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),a.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(Mn.disabled);var o="3d"===i.renderingMode?new Sn(e.context.gl.LEQUAL,Sn.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,Sn.ReadOnly);r.setDepthMode(o),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}},Jn=function(){function t(e,n){_classCallCheck(this,t),this.context=new Cn(e),this.transform=n,this._tileTextures={},this.setup(),this.numSublayers=U.maxUnderzooming+U.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ke,this.gpuTimers={}}return _createClass(t,[{key:"resize",value:function(e,t,n){if(this.width=e*n,this.height=t*n,this.pixelRatio=n,this.context.viewport.set([0,0,this.width,this.height]),this.style){var r,i=_createForOfIteratorHelper(this.style._order);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.style._layers[a].resize()}}catch(o){i.e(o)}finally{i.f()}}}},{key:"setup",value:function(){var t=this.context,n=new e.PosArray;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,it.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.PosArray;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,it.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.RasterBoundsArray;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,A.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.PosArray;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(a,it.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.LineStripIndexArray;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.TriangleIndexArray;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new d(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new Mn({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)}},{key:"clearStencil",value:function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,Sn.disabled,this.stencilClearMode,kn.disabled,Tn.disabled,bt(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}},{key:"_renderTileClippingMasks",value:function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(kn.disabled),n.setDepthMode(Sn.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};var a,o=_createForOfIteratorHelper(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Sn.disabled,new Mn({func:r.ALWAYS,mask:0},u,255,r.KEEP,r.KEEP,r.REPLACE),kn.disabled,Tn.disabled,bt(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}catch(l){o.e(l)}finally{o.f()}}}},{key:"stencilModeFor3D",value:function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Mn({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}},{key:"stencilModeForClipping",value:function(e){var t=this.context.gl;return new Mn({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}},{key:"stencilConfigForOverlap",value:function(e){var t=this.context.gl,n=e.sort(function(e,t){return t.overscaledZ-e.overscaledZ}),r=n[n.length-1].overscaledZ,i=n[0].overscaledZ-r+1;if(i>1){this.currentStencilSource=void 0,this.nextStencilID+i>256&&this.clearStencil();for(var a={},o=0;o<i;o++)a[o+r]=new Mn({func:t.GEQUAL,mask:255},o+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=i,[a,n]}return[_defineProperty({},r,Mn.disabled),n]}},{key:"colorModeForRenderPass",value:function(){var t=this.context.gl;if(this._showOverdrawInspector){var n=1/8;return new kn([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?kn.unblended:kn.alphaBlended}},{key:"depthModeForSublayer",value:function(e,t,n){if(!this.opaquePassEnabledForLayer())return Sn.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new Sn(n||this.context.gl.LEQUAL,t,[r,r])}},{key:"opaquePassEnabledForLayer",value:function(){return this.currentLayer<this.opaquePassCutoff}},{key:"render",value:function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();var i=this.style._order,a=this.style.sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var u={},l={},c={};for(var h in a){var f=a[h];u[h]=f.getVisibleCoordinates(),l[h]=u[h].slice().reverse(),c[h]=f.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var d=0;d<i.length;d++)if(this.style._layers[i[d]].is3D()){this.opaquePassCutoff=d;break}this.renderPass="offscreen";var p,m,g,v=_createForOfIteratorHelper(i);try{for(v.s();!(p=v.n()).done;){var y=p.value,_=this.style._layers[y];if(_.hasOffscreenPass()&&!_.isHidden(this.transform.zoom)){var b=l[_.source];("custom"===_.type||b.length)&&this.renderLayer(this,a[_.source],_,b)}}}catch(E){v.e(E)}finally{v.f()}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var w=this.style._layers[i[this.currentLayer]],x=a[w.source],k=u[w.source];this._renderTileClippingMasks(w,k),this.renderLayer(this,x,w,k)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var C=this.style._layers[i[this.currentLayer]],S=a[C.source],M=("symbol"===C.type?c:l)[C.source];this._renderTileClippingMasks(C,u[C.source]),this.renderLayer(this,S,C,M)}this.options.showTileBoundaries&&(Object.values(this.style._layers).forEach(function(e){e.source&&!e.isHidden(r.transform.zoom)&&(e.source!==(g&&g.id)&&(g=r.style.sourceCaches[e.source]),(!m||m.getSource().maxzoom<g.getSource().maxzoom)&&(m=g))}),m&&Zn.debug(this,m,m.getVisibleCoordinates()));this.options.showPadding&&function(e){var t=e.transform.padding;qn(e,e.transform.height-(t.top||0),3,Bn),qn(e,t.bottom||0,3,Hn),Wn(e,t.left||0,3,Un),Wn(e,e.transform.width-(t.right||0),3,Vn);var n,r,i,a,o=e.transform.centerPoint;$n(n=e,(r=o.x)-1,(i=e.transform.height-o.y)-10,2,20,a=Gn),$n(n,r-10,i-1,20,2,a)}(this),this.context.setDefault()}},{key:"renderLayer",value:function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),Zn[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())}},{key:"gpuTimingStart",value:function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}}},{key:"gpuTimingEnd",value:function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}}},{key:"collectGpuTimers",value:function(){var e=this.gpuTimers;return this.gpuTimers={},e}},{key:"queryGpuTimers",value:function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=a}return t}},{key:"translatePosMatrix",value:function(t,n,r,i,a){if(!r[0]&&!r[1])return t;var o=a?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(o){var s=Math.sin(o),u=Math.cos(o);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var l=[a?r[0]:Me(n,r[0],this.transform.zoom),a?r[1]:Me(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,l),c}},{key:"saveTileTexture",value:function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}},{key:"getTileTexture",value:function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null}},{key:"isPatternMissing",value:function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}},{key:"useProgram",value:function(e,t){this.cache=this.cache||{};var n="".concat(e).concat(t?t.cacheKey:"").concat(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new lt(this.context,e,at[e],t,Rt[e],this._showOverdrawInspector)),this.cache[n]}},{key:"setCustomLayerDefaults",value:function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}},{key:"setBaseState",value:function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}},{key:"initDebugOverlayCanvas",value:function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new d(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}},{key:"destroy",value:function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}]),t}(),Kn=function(){function t(e,n){_classCallCheck(this,t),this.points=e,this.planes=n}return _createClass(t,null,[{key:"fromInvProjectionMatrix",value:function(n,r,i){var a=Math.pow(2,i),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(t){return e.transformMat4([],t,n)}).map(function(t){return e.scale$1([],t,1/t[3]/r*a)}),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(e){var t,n,r,i,a,s,u,l,h,f,d,p=function(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}([],(t=[],n=c([],o[e[0]],o[e[1]]),r=c([],o[e[2]],o[e[1]]),i=n[0],u=r[0],t[0]=(a=n[1])*(h=r[2])-(s=n[2])*(l=r[1]),t[1]=s*u-i*h,t[2]=i*l-a*u,t)),m=-((f=p)[0]*(d=o[e[1]])[0]+f[1]*d[1]+f[2]*d[2]);return p.concat(m)});return new t(o,s)}}]),t}(),Qn=function(){function t(e,n){var r,i,a;_classCallCheck(this,t),this.min=e,this.max=n,this.center=function(e,t,n){return e[0]=.5*t[0],e[1]=.5*t[1],e[2]=.5*t[2],e}([],((r=[])[0]=(i=this.min)[0]+(a=this.max)[0],r[1]=i[1]+a[1],r[2]=i[2]+a[2],r))}return _createClass(t,[{key:"quadrant",value:function(e){for(var n=[e%2==0,e<2],r=u(this.min),i=u(this.max),a=0;a<n.length;a++)r[a]=n[a]?this.min[a]:this.center[a],i[a]=n[a]?this.center[a]:this.max[a];return i[2]=this.max[2],new t(r,i)}},{key:"distanceX",value:function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}},{key:"distanceY",value:function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}},{key:"intersects",value:function(t){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<t.planes.length;i++){for(var a=t.planes[i],o=0,s=0;s<n.length;s++)e.dot(a,n[s])>=0&&o++;if(0===o)return 0;o!==n.length&&(r=!1)}if(r)return 2;for(var u=0;u<3;u++){for(var l=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=0;h<t.points.length;h++){var f=t.points[h][u]-this.min[u];l=Math.min(l,f),c=Math.max(c,f)}if(c<0||l>this.max[u]-this.min[u])return 0}return 1}}]),t}(),er=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(_classCallCheck(this,t),isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=n,this.left=r,this.right=i}return _createClass(t,[{key:"interpolate",value:function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this}},{key:"getCenter",value:function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(r,i)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new t(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),t}(),tr=function(){function t(n,r,i,a,o){_classCallCheck(this,t),this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||!!o,this._minZoom=n||0,this._maxZoom=r||22,this._minPitch=null==i?0:i,this._maxPitch=null==a?60:a,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new er,this._posMatrixCache={},this._alignedPosMatrixCache={}}return _createClass(t,[{key:"clone",value:function(){var e=new t(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e}},{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new e.pointGeometry(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(t){var n,r=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=(n=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=r*-s+a*u,e[3]=i*-s+o*u}(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}},{key:"padding",get:function(){return this._edgeInsets.toJSON()},set:function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}},{key:"centerPoint",get:function(){return this._edgeInsets.getCenter(this.width,this.height)}},{key:"isPaddingEqual",value:function(e){return this._edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"getVisibleUnwrappedCoordinates",value:function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),a=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),o=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(r.x,i.x,a.x,o.x)),u=Math.floor(Math.max(r.x,i.x,a.x,o.x)),l=s-1;l<=u+1;l++)0!==l&&n.push(new e.UnwrappedTileID(l,t));return n}},{key:"coveringTiles",value:function(t){var n=this.coveringZoomLevel(t),r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),a=Math.pow(2,n),o=[a*i.x,a*i.y,0],s=Kn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),u=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(u=n);var l=function(e){return{aabb:new Qn([e*a,0,0],[(e+1)*a,a,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},c=[],h=[],d=n,p=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var m=1;m<=3;m++)c.push(l(-m)),c.push(l(m));for(c.push(l(0));c.length>0;){var g=c.pop(),v=g.x,y=g.y,_=g.fullyVisible;if(!_){var b=g.aabb.intersects(s);if(0===b)continue;_=2===b}var w=g.aabb.distanceX(o),x=g.aabb.distanceY(o),k=Math.max(Math.abs(w),Math.abs(x)),C=3+(1<<d-g.zoom)-2;if(g.zoom===d||k>C&&g.zoom>=u)h.push({tileID:new e.OverscaledTileID(g.zoom===d?p:g.zoom,g.wrap,g.zoom,v,y),distanceSq:f([o[0]-.5-v,o[1]-.5-y])});else for(var S=0;S<4;S++){var M=(v<<1)+S%2,E=(y<<1)+(S>>1);c.push({aabb:g.aabb.quadrant(S),zoom:g.zoom+1,x:M,y:E,wrap:g.wrap,fullyVisible:_})}}return h.sort(function(e,t){return e.distanceSq-t.distanceSq}).map(function(e){return e.tileID})}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}},{key:"unmodified",get:function(){return this._unmodified}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.pointGeometry(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)}},{key:"unproject",value:function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}},{key:"point",get:function(){return this.project(this.center)}},{key:"setLocationAtPoint",value:function(t,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(t),o=new e.MercatorCoordinate(a.x-(r.x-i.x),a.y-(r.y-i.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())}},{key:"locationPoint",value:function(e){return this.coordinatePoint(this.locationCoordinate(e))}},{key:"pointLocation",value:function(e){return this.coordinateLocation(this.pointCoordinate(e))}},{key:"locationCoordinate",value:function(t){return e.MercatorCoordinate.fromLngLat(t)}},{key:"coordinateLocation",value:function(e){return e.toLngLat()}},{key:"pointCoordinate",value:function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],a=r[3],o=n[1]/i,s=r[1]/a,u=n[2]/i,l=r[2]/a,c=u===l?0:(0-u)/(l-u);return new e.MercatorCoordinate(e.number(n[0]/i,r[0]/a,c)/this.worldSize,e.number(o,s,c)/this.worldSize)}},{key:"coordinatePoint",value:function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.pointGeometry(n[0]/n[3],n[1]/n[3])}},{key:"getBounds",value:function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.pointGeometry(0,0))).extend(this.pointLocation(new e.pointGeometry(this.width,0))).extend(this.pointLocation(new e.pointGeometry(this.width,this.height))).extend(this.pointLocation(new e.pointGeometry(0,this.height)))}},{key:"getMaxBounds",value:function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}},{key:"setMaxBounds",value:function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}},{key:"calculatePosMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var a=t.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+Math.pow(2,a.z)*t.wrap,u=e.identity(new Float64Array(16));return e.translate(u,u,[s*o,a.y*o,0]),e.scale(u,u,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),i[r]=new Float32Array(u),i[r]}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"_constrain",value:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,i,a=-90,o=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var h=this.latRange;a=e.mercatorYfromLat(h[1])*this.worldSize,t=(o=e.mercatorYfromLat(h[0])*this.worldSize)-a<l.y?l.y/(o-a):0}if(this.lngRange){var f=this.lngRange;s=e.mercatorXfromLng(f[0])*this.worldSize,n=(u=e.mercatorXfromLng(f[1])*this.worldSize)-s<l.x?l.x/(u-s):0}var d=this.point,p=Math.max(n||0,t||0);if(p)return this.center=this.unproject(new e.pointGeometry(n?(u+s)/2:d.x,t?(o+a)/2:d.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=d.y,g=l.y/2;m-g<a&&(i=a+g),m+g>o&&(i=o-g)}if(this.lngRange){var v=d.x,y=l.x/2;v-y<s&&(r=s+y),v+y>u&&(r=u-y)}void 0===r&&void 0===i||(this.center=this.unproject(new e.pointGeometry(void 0!==r?r:d.x,void 0!==i?i:d.y))),this._unmodified=c,this._constraining=!1}}},{key:"_calcMatrices",value:function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),a=this.point,o=a.x,s=a.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),l=this.height/50,c=new Float64Array(16);e.perspective(c,this._fov,this.width/this.height,l,u),c[8]=2*-t.x/this.width,c[9]=2*t.y/this.height,e.scale(c,c,[1,-1,1]),e.translate(c,c,[0,0,-this.cameraToCenterDistance]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle),e.translate(c,c,[-o,-s,0]),this.mercatorMatrix=e.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),e.scale(c,c,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize]),this.projMatrix=c,this.invProjMatrix=e.invert([],this.projMatrix);var h=this.width%2/2,f=this.height%2/2,d=Math.cos(this.angle),p=Math.sin(this.angle),m=o-Math.round(o)+d*h+p*f,g=s-Math.round(s)+d*f+p*h,v=new Float64Array(c);if(e.translate(v,v,[m>.5?m-1:m,g>.5?g-1:g,0]),this.alignedProjMatrix=v,c=e.create(),e.scale(c,c,[this.width/2,-this.height/2,1]),e.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=e.create(),e.scale(c,c,[1,-1,1]),e.translate(c,c,[-1,-1,0]),e.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}}},{key:"maxPitchScaleFactor",value:function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.pointGeometry(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance}},{key:"getCameraPoint",value:function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}},{key:"getCameraQueryGeometry",value:function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];var r,i=n.x,a=n.y,o=n.x,s=n.y,u=_createForOfIteratorHelper(t);try{for(u.s();!(r=u.n()).done;){var l=r.value;i=Math.min(i,l.x),a=Math.min(a,l.y),o=Math.max(o,l.x),s=Math.max(s,l.y)}}catch(c){u.e(c)}finally{u.f()}return[new e.pointGeometry(i,a),new e.pointGeometry(o,a),new e.pointGeometry(o,s),new e.pointGeometry(i,s),new e.pointGeometry(i,a)]}}]),t}(),nr=function(){function t(n){var r,i,a,o;_classCallCheck(this,t),this._hashName=n&&encodeURIComponent(n),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(r=this._updateHashUnthrottled.bind(this),i=!1,a=null,o=function e(){a=null,i&&(r(),a=setTimeout(e,300),i=!1)},function(){return i=!0,a||o(),a})}return _createClass(t,[{key:"addTo",value:function(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}},{key:"remove",value:function(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}},{key:"getHashString",value:function(e){var t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),a=Math.round(t.lng*i)/i,o=Math.round(t.lat*i)/i,s=this._map.getBearing(),u=this._map.getPitch(),l="";if(l+=e?"/".concat(a,"/").concat(o,"/").concat(n):"".concat(n,"/").concat(o,"/").concat(a),(s||u)&&(l+="/"+Math.round(10*s)/10),u&&(l+="/".concat(Math.round(u))),this._hashName){var c=this._hashName,h=!1,f=window.location.hash.slice(1).split("&").map(function(e){var t=e.split("=")[0];return t===c?(h=!0,"".concat(t,"=").concat(l)):e}).filter(function(e){return e});return h||f.push("".concat(c,"=").concat(l)),"#".concat(f.join("&"))}return"#".concat(l)}},{key:"_getCurrentHash",value:function(){var e,t=this,n=window.location.hash.replace("#","");return this._hashName?(n.split("&").map(function(e){return e.split("=")}).forEach(function(n){n[0]===t._hashName&&(e=n)}),(e&&e[1]||"").split("/")):n.split("/")}},{key:"_onHashChange",value:function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some(function(e){return isNaN(e)})){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1}},{key:"_updateHashUnthrottled",value:function(){var e=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,e)}catch(t){}}}]),t}(),rr={linearity:.3,easing:e.bezier(0,0,.3,1)},ir=e.extend({deceleration:2500,maxSpeed:1400},rr),ar=e.extend({deceleration:20,maxSpeed:1400},rr),or=e.extend({deceleration:1e3,maxSpeed:360},rr),sr=e.extend({deceleration:1e3,maxSpeed:90},rr),ur=function(){function t(e){_classCallCheck(this,t),this._map=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this._inertiaBuffer=[]}},{key:"record",value:function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}},{key:"_drainInertiaBuffer",value:function(){for(var t=this._inertiaBuffer,n=e.exported.now();t.length>0&&n-t[0].time>160;)t.shift()}},{key:"_onMoveEnd",value:function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var n,r={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0},i=_createForOfIteratorHelper(this._inertiaBuffer);try{for(i.s();!(n=i.n()).done;){var a=n.value.settings;r.zoom+=a.zoomDelta||0,r.bearing+=a.bearingDelta||0,r.pitch+=a.pitchDelta||0,a.panDelta&&r.pan._add(a.panDelta),a.around&&(r.around=a.around),a.pinchAround&&(r.pinchAround=a.pinchAround)}}catch(d){i.e(d)}finally{i.f()}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(r.pan.mag()){var u=cr(r.pan.mag(),o,e.extend({},ir,t||{}));s.offset=r.pan.mult(u.amount/r.pan.mag()),s.center=this._map.transform.center,lr(s,u)}if(r.zoom){var l=cr(r.zoom,o,ar);s.zoom=this._map.transform.zoom+l.amount,lr(s,l)}if(r.bearing){var c=cr(r.bearing,o,or);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),lr(s,c)}if(r.pitch){var h=cr(r.pitch,o,sr);s.pitch=this._map.transform.pitch+h.amount,lr(s,h)}if(s.zoom||s.bearing){var f=void 0===r.pinchAround?r.around:r.pinchAround;s.around=f?this._map.unproject(f):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}}}]),t}();function lr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function cr(t,n,r){var i=r.maxSpeed,a=r.linearity,o=r.deceleration,s=e.clamp(t*a/(n/1e3),-i,i),u=Math.abs(s)/(o*a);return{easing:r.easing,duration:1e3*u,amount:s*(u/2)}}var hr=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i,o){var s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_classCallCheck(this,r);var l=a.mousePos(i.getCanvasContainer(),o),c=i.unproject(l);return(s=n.call(this,t,e.extend({point:l,lngLat:c,originalEvent:o},u)))._defaultPrevented=!1,s.target=i,s}return _createClass(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(e.Event),fr=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i,o){var s;_classCallCheck(this,r);var u="touchend"===t?o.changedTouches:o.touches,l=a.touchPos(i.getCanvasContainer(),u),c=l.map(function(e){return i.unproject(e)}),h=l.reduce(function(e,t,n,r){return e.add(t.div(r.length))},new e.pointGeometry(0,0));return(s=n.call(this,t,{points:l,point:h,lngLats:c,lngLat:i.unproject(h),originalEvent:o}))._defaultPrevented=!1,s}return _createClass(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(e.Event),dr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,{originalEvent:i}))._defaultPrevented=!1,a}return _createClass(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(e.Event),pr=function(){function e(t,n){_classCallCheck(this,e),this._map=t,this._clickTolerance=n.clickTolerance}return _createClass(e,[{key:"reset",value:function(){delete this._mousedownPos}},{key:"wheel",value:function(e){return this._firePreventable(new dr(e.type,this._map,e))}},{key:"mousedown",value:function(e,t){return this._mousedownPos=t,this._firePreventable(new hr(e.type,this._map,e))}},{key:"mouseup",value:function(e){this._map.fire(new hr(e.type,this._map,e))}},{key:"click",value:function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new hr(e.type,this._map,e))}},{key:"dblclick",value:function(e){return this._firePreventable(new hr(e.type,this._map,e))}},{key:"mouseover",value:function(e){this._map.fire(new hr(e.type,this._map,e))}},{key:"mouseout",value:function(e){this._map.fire(new hr(e.type,this._map,e))}},{key:"touchstart",value:function(e){return this._firePreventable(new fr(e.type,this._map,e))}},{key:"touchmove",value:function(e){this._map.fire(new fr(e.type,this._map,e))}},{key:"touchend",value:function(e){this._map.fire(new fr(e.type,this._map,e))}},{key:"touchcancel",value:function(e){this._map.fire(new fr(e.type,this._map,e))}},{key:"_firePreventable",value:function(e){if(this._map.fire(e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),e}(),mr=function(){function e(t){_classCallCheck(this,e),this._map=t}return _createClass(e,[{key:"reset",value:function(){this._delayContextMenu=!1,delete this._contextMenuEvent}},{key:"mousemove",value:function(e){this._map.fire(new hr(e.type,this._map,e))}},{key:"mousedown",value:function(){this._delayContextMenu=!0}},{key:"mouseup",value:function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new hr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}},{key:"contextmenu",value:function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new hr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),e}(),gr=function(){function t(e,n){_classCallCheck(this,t),this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1}return _createClass(t,[{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"enable",value:function(){this.isEnabled()||(this._enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(a.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}},{key:"mousemoveWindow",value:function(e,t){if(this._active){var n=t;if(!(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=n,this._box||(this._box=a.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var i=Math.min(r.x,n.x),o=Math.max(r.x,n.x),s=Math.min(r.y,n.y),u=Math.max(r.y,n.y);a.setTransform(this._box,"translate(".concat(i,"px,").concat(s,"px)")),this._box.style.width=o-i+"px",this._box.style.height=u-s+"px"}}}},{key:"mouseupWindow",value:function(t,n){var r=this;if(this._active&&0===t.button){var i=this._startPos,o=n;if(this.reset(),a.suppressClick(),i.x!==o.x||i.y!==o.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(i,o,r._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}}},{key:"keydown",value:function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}},{key:"reset",value:function(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(a.remove(this._box),this._box=null),a.enableDrag(),delete this._startPos,delete this._lastPos}},{key:"_fireEvent",value:function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}]),t}();function vr(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}var yr=function(){function t(e){_classCallCheck(this,t),this.reset(),this.numTouches=e.numTouches}return _createClass(t,[{key:"reset",value:function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}},{key:"touchstart",value:function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){var n,r=new e.pointGeometry(0,0),i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r._add(a)}}catch(o){i.e(o)}finally{i.f()}return r.div(t.length)}(n),this.touches=vr(r,n)))}},{key:"touchmove",value:function(e,t,n){if(!this.aborted&&this.centroid){var r=vr(n,t);for(var i in this.touches){var a=this.touches[i],o=r[i];(!o||o.dist(a)>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),t}(),_r=function(){function e(t){_classCallCheck(this,e),this.singleTap=new yr(t),this.numTaps=t.numTaps,this.reset()}return _createClass(e,[{key:"reset",value:function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,n){this.singleTap.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.singleTap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,a=!this.lastTap||this.lastTap.dist(r)<30;if(i&&a||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),e}(),br=function(){function e(){_classCallCheck(this,e),this._zoomIn=new _r({numTouches:1,numTaps:2}),this._zoomOut=new _r({numTouches:2,numTaps:1}),this.reset()}return _createClass(e,[{key:"reset",value:function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}},{key:"touchstart",value:function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),a=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout(function(){return r.reset()},0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):a?(this._active=!0,e.preventDefault(),setTimeout(function(){return r.reset()},0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),wr={0:1,2:2},xr=function(){function e(t){_classCallCheck(this,e),this.reset(),this._clickTolerance=t.clickTolerance||1}return _createClass(e,[{key:"reset",value:function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}},{key:"_correctButton",value:function(e,t){return!1}},{key:"_move",value:function(e,t){return{}}},{key:"mousedown",value:function(e,t){if(!this._lastPoint){var n=a.mouseButton(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}}},{key:"mousemoveWindow",value:function(e,t){var n,r,i,a=this._lastPoint;if(a)if(e.preventDefault(),n=e,r=this._eventButton,i=wr[r],void 0===n.buttons||(n.buttons&i)!==i)this.reset();else if(this._moved||!(t.dist(a)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(a,t)}},{key:"mouseupWindow",value:function(e){this._lastPoint&&a.mouseButton(e)===this._eventButton&&(this._moved&&a.suppressClick(),this.reset())}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),kr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"mousedown",value:function(e,t){_get(_getPrototypeOf(n.prototype),"mousedown",this).call(this,e,t),this._lastPoint&&(this._active=!0)}},{key:"_correctButton",value:function(e,t){return 0===t&&!e.ctrlKey}},{key:"_move",value:function(e,t){return{around:t,panDelta:t.sub(e)}}}]),n}(xr),Cr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(xr),Sr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(xr),Mr=function(){function t(e){_classCallCheck(this,t),this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()}return _createClass(t,[{key:"reset",value:function(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}},{key:"touchstart",value:function(e,t,n){return this._calculateTransform(e,t,n)}},{key:"touchmove",value:function(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)}},{key:"touchend",value:function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"_calculateTransform",value:function(t,n,r){r.length>0&&(this._active=!0);var i=vr(r,n),a=new e.pointGeometry(0,0),o=new e.pointGeometry(0,0),s=0;for(var u in i){var l=i[u],c=this._touches[u];c&&(a._add(l),o._add(l.sub(c)),s++,i[u]=l)}if(this._touches=i,!(s<this._minTouches)&&o.mag()){var h=o.div(s);return this._sum._add(h),this._sum.mag()<this._clickTolerance?void 0:{around:a.div(s),panDelta:h}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),t}(),Er=function(){function e(){_classCallCheck(this,e),this.reset()}return _createClass(e,[{key:"reset",value:function(){this._active=!1,delete this._firstTwoTouches}},{key:"_start",value:function(e){}},{key:"_move",value:function(e,t,n){return{}}},{key:"touchstart",value:function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=_slicedToArray(this._firstTwoTouches,2),i=r[0],a=r[1],o=Tr(n,t,i),s=Tr(n,t,a);if(o&&s){var u=this._aroundCenter?null:o.add(s).div(2);return this._move([o,s],u,e)}}}},{key:"touchend",value:function(e,t,n){if(this._firstTwoTouches){var r=_slicedToArray(this._firstTwoTouches,2),i=r[0],o=r[1],s=Tr(n,t,i),u=Tr(n,t,o);s&&u||(this._active&&a.suppressClick(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}();function Tr(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Lr(e,t){return Math.log(e/t)/Math.LN2}var Ir=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"reset",value:function(){_get(_getPrototypeOf(n.prototype),"reset",this).call(this),delete this._distance,delete this._startDistance}},{key:"_start",value:function(e){this._startDistance=this._distance=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Lr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Lr(this._distance,n),pinchAround:t}}}]),n}(Er);function Dr(e,t){return 180*e.angleWith(t)/Math.PI}var Ar=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"reset",value:function(){_get(_getPrototypeOf(n.prototype),"reset",this).call(this),delete this._minDiameter,delete this._startVector,delete this._vector}},{key:"_start",value:function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Dr(this._vector,n),pinchAround:t}}},{key:"_isBelowThreshold",value:function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=Dr(e,this._startVector);return Math.abs(n)<t}}]),n}(Er);function Pr(e){return Math.abs(e.y)>Math.abs(e.x)}var Or=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"reset",value:function(){_get(_getPrototypeOf(n.prototype),"reset",this).call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints}},{key:"_start",value:function(e){this._lastPoints=e,Pr(e[0].sub(e[1]))&&(this._valid=!1)}},{key:"_move",value:function(e,t,n){var r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}}},{key:"gestureBeginsVertically",value:function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var a=e.y>0==t.y>0;return Pr(e)&&Pr(t)&&a}}}]),n}(Er),Nr={panStep:100,bearingStep:15,pitchStep:10},Rr=function(){function e(){_classCallCheck(this,e);var t=Nr;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}return _createClass(e,[{key:"reset",value:function(){this._active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:Fr,zoom:n?Math.round(u)+n*(e.shiftKey?2:1):u,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-a*t._panStep,-o*t._panStep],center:s.getCenter()},{originalEvent:e})}}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"disableRotation",value:function(){this._rotationDisabled=!0}},{key:"enableRotation",value:function(){this._rotationDisabled=!1}}]),e}();function Fr(e){return e*(2-e)}var Yr=4.000244140625,zr=function(){function t(n,r){_classCallCheck(this,t),this._map=n,this._el=n.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout"],this)}return _createClass(t,[{key:"setZoomRate",value:function(e){this._defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this._wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active||void 0!==this._finishTimeout}},{key:"isZooming",value:function(){return!!this._zooming}},{key:"enable",value:function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"wheel",value:function(t){if(this.isEnabled()){var n=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.exported.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%Yr==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}}},{key:"_onTimeout",value:function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}},{key:"_start",value:function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var n=a.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}}},{key:"renderFrame",value:function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>Yr?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var a="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(a*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,u=this._startZoom,l=this._easing,c=!1;if("wheel"===this._type&&u&&l){var h=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),f=l(h);o=e.number(u,s,f),h<1?this._frameId||(this._frameId=!0):c=!0}else o=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:o-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}}},{key:"_smoothOutEasing",value:function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.exported.now()-r.start)/r.duration,a=r.easing(i+.01)-r.easing(i),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=e.bezier(o,s,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}},{key:"reset",value:function(){this._active=!1}}]),t}(),jr=function(){function e(t,n){_classCallCheck(this,e),this._clickZoom=t,this._tapZoom=n}return _createClass(e,[{key:"enable",value:function(){this._clickZoom.enable(),this._tapZoom.enable()}},{key:"disable",value:function(){this._clickZoom.disable(),this._tapZoom.disable()}},{key:"isEnabled",value:function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}},{key:"isActive",value:function(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}]),e}(),Br=function(){function e(){_classCallCheck(this,e),this.reset()}return _createClass(e,[{key:"reset",value:function(){this._active=!1}},{key:"dblclick",value:function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Hr=function(){function e(){_classCallCheck(this,e),this._tap=new _r({numTouches:1,numTaps:1}),this.reset()}return _createClass(e,[{key:"reset",value:function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}},{key:"touchstart",value:function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}},{key:"touchmove",value:function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Ur=function(){function e(t,n,r){_classCallCheck(this,e),this._el=t,this._mousePan=n,this._touchPan=r}return _createClass(e,[{key:"enable",value:function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}},{key:"disable",value:function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}},{key:"isEnabled",value:function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}},{key:"isActive",value:function(){return this._mousePan.isActive()||this._touchPan.isActive()}}]),e}(),Vr=function(){function e(t,n,r){_classCallCheck(this,e),this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=n,this._mousePitch=r}return _createClass(e,[{key:"enable",value:function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}},{key:"disable",value:function(){this._mouseRotate.disable(),this._mousePitch.disable()}},{key:"isEnabled",value:function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}},{key:"isActive",value:function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}]),e}(),Gr=function(){function e(t,n,r,i){_classCallCheck(this,e),this._el=t,this._touchZoom=n,this._touchRotate=r,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}return _createClass(e,[{key:"enable",value:function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}},{key:"disable",value:function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this._rotationDisabled=!0,this._touchRotate.disable()}},{key:"enableRotation",value:function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}]),e}(),qr=function(e){return e.zoom||e.drag||e.pitch||e.rotate},Wr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n)}(e.Event);function $r(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var Xr=function(){function t(n,r){_classCallCheck(this,t),this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ur(n),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[window,"blur",void 0]];var o,s=_createForOfIteratorHelper(this._listeners);try{for(s.s();!(o=s.n()).done;){var u=_slicedToArray(o.value,3),l=u[0],c=u[1],h=u[2];a.addEventListener(l,c,l===document?this.handleWindowEvent:this.handleEvent,h)}}catch(f){s.e(f)}finally{s.f()}}return _createClass(t,[{key:"destroy",value:function(){var e,t=_createForOfIteratorHelper(this._listeners);try{for(t.s();!(e=t.n()).done;){var n=_slicedToArray(e.value,3),r=n[0],i=n[1],o=n[2];a.removeEventListener(r,i,r===document?this.handleWindowEvent:this.handleEvent,o)}}catch(s){t.e(s)}finally{t.f()}}},{key:"_addDefaultHandlers",value:function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new pr(t,e));var r=t.boxZoom=new gr(t,e);this._add("boxZoom",r);var i=new br,a=new Br;t.doubleClickZoom=new jr(a,i),this._add("tapZoom",i),this._add("clickZoom",a);var o=new Hr;this._add("tapDragZoom",o);var s=t.touchPitch=new Or;this._add("touchPitch",s);var u=new Cr(e),l=new Sr(e);t.dragRotate=new Vr(e,u,l),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",l,["mouseRotate"]);var c=new kr(e),h=new Mr(e);t.dragPan=new Ur(n,c,h),this._add("mousePan",c),this._add("touchPan",h,["touchZoom","touchRotate"]);var f=new Ar,d=new Ir;t.touchZoomRotate=new Gr(n,d,f,o),this._add("touchRotate",f,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]);var p=t.scrollZoom=new zr(t,this);this._add("scrollZoom",p,["mousePan"]);var m=t.keyboard=new Rr;this._add("keyboard",m),this._add("blockableMapEvent",new mr(t));for(var g=0,v=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];g<v.length;g++){var y=v[g];e.interactive&&e[y]&&t[y].enable(e[y])}}},{key:"_add",value:function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}},{key:"stop",value:function(e){if(!this._updatingCamera){var t,n=_createForOfIteratorHelper(this._handlers);try{for(n.s();!(t=n.n()).done;){t.value.handler.reset()}}catch(r){n.e(r)}finally{n.f()}this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}},{key:"isActive",value:function(){var e,t=_createForOfIteratorHelper(this._handlers);try{for(t.s();!(e=t.n()).done;){if(e.value.handler.isActive())return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this._eventsInProgress.rotate}},{key:"isMoving",value:function(){return Boolean(qr(this._eventsInProgress))||this.isZooming()}},{key:"_blockedByActive",value:function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}},{key:"handleWindowEvent",value:function(e){this.handleEvent(e,"".concat(e.type,"Window"))}},{key:"_getMapTouches",value:function(e){var t,n=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this._el.contains(i.target)&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"handleEvent",value:function(e,t){if("blur"!==e.type){this._updatingCamera=!0;var n,r="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},s={},u=e.touches,l=u?this._getMapTouches(u):void 0,c=l?a.touchPos(this._el,l):a.mousePos(this._el,e),h=_createForOfIteratorHelper(this._handlers);try{for(h.s();!(n=h.n()).done;){var f=n.value,d=f.handlerName,p=f.handler,m=f.allowed;if(p.isEnabled()){var g=void 0;this._blockedByActive(s,m,d)?p.reset():p[t||e.type]&&(g=p[t||e.type](e,c,l),this.mergeHandlerResult(i,o,g,d,r),g&&g.needsRenderFrame&&this._triggerRenderFrame()),(g||p.isActive())&&(s[d]=p)}}}catch(_){h.e(_)}finally{h.f()}var v={};for(var d in this._previousActiveHandlers)s[d]||(v[d]=r);this._previousActiveHandlers=s,(Object.keys(v).length||$r(i))&&(this._changes.push([i,o,v]),this._triggerRenderFrame()),(Object.keys(s).length||$r(i))&&this._map._stop(!0),this._updatingCamera=!1;var y=i.cameraAnimation;y&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],y(this._map))}else this.stop(!0)}},{key:"mergeHandlerResult",value:function(t,n,r,i,a){if(r){e.extend(t,r);var o={handlerName:i,originalEvent:r.originalEvent||a};void 0!==r.zoomDelta&&(n.zoom=o),void 0!==r.panDelta&&(n.drag=o),void 0!==r.pitchDelta&&(n.pitch=o),void 0!==r.bearingDelta&&(n.rotate=o)}}},{key:"_applyChanges",value:function(){var t,n={},r={},i={},a=_createForOfIteratorHelper(this._changes);try{for(a.s();!(t=a.n()).done;){var o=_slicedToArray(t.value,3),s=o[0],u=o[1],l=o[2];s.panDelta&&(n.panDelta=(n.panDelta||new e.pointGeometry(0,0))._add(s.panDelta)),s.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(n.around=s.around),void 0!==s.pinchAround&&(n.pinchAround=s.pinchAround),s.noInertia&&(n.noInertia=s.noInertia),e.extend(r,u),e.extend(i,l)}}catch(c){a.e(c)}finally{a.f()}this._updateMapTransform(n,r,i),this._changes=[]}},{key:"_updateMapTransform",value:function(e,t,n){var r=this._map,i=r.transform;if(!$r(e))return this._fireEvents(t,n,!0);var a=e.panDelta,o=e.zoomDelta,s=e.bearingDelta,u=e.pitchDelta,l=e.around,c=e.pinchAround;void 0!==c&&(l=c),r._stop(!0),l=l||r.transform.centerPoint;var h=i.pointLocation(a?l.sub(a):l);s&&(i.bearing+=s),u&&(i.pitch+=u),o&&(i.zoom+=o),i.setLocationAtPoint(h,l),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)}},{key:"_fireEvents",value:function(t,n,r){var i=this,a=qr(this._eventsInProgress),o=qr(t),s={};for(var u in t){var l=t[u].originalEvent;this._eventsInProgress[u]||(s["".concat(u,"start")]=l),this._eventsInProgress[u]=t[u]}for(var c in!a&&o&&this._fireEvent("movestart",o.originalEvent),s)this._fireEvent(c,s[c]);for(var h in o&&this._fireEvent("move",o.originalEvent),t){var f=t[h].originalEvent;this._fireEvent(h,f)}var d,p={};for(var m in this._eventsInProgress){var g=this._eventsInProgress[m],v=g.handlerName,y=g.originalEvent;this._handlersById[v].isActive()||(delete this._eventsInProgress[m],d=n[v]||y,p["".concat(m,"end")]=d)}for(var _ in p)this._fireEvent(_,p[_]);var b=qr(this._eventsInProgress);if(r&&(a||o)&&!b){this._updatingCamera=!0;var w=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),x=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};w?(x(w.bearing||this._map.getBearing())&&(w.bearing=0),this._map.easeTo(w,{originalEvent:d})):(this._map.fire(new e.Event("moveend",{originalEvent:d})),x(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}},{key:"_fireEvent",value:function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}},{key:"_requestFrame",value:function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(t){delete e._frameId,e.handleEvent(new Wr("renderFrame",{timeStamp:t})),e._applyChanges()})}},{key:"_triggerRenderFrame",value:function(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}]),t}(),Zr=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.extend.apply(e,[t].concat(r))},Jr=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i){var a;return _classCallCheck(this,r),(a=n.call(this))._moving=!1,a._zooming=!1,a.transform=t,a._bearingSnap=i.bearingSnap,e.bindAll(["_renderFrameCallback"],_assertThisInitialized(a)),a}return _createClass(r,[{key:"getCenter",value:function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"panBy",value:function(t,n,r){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)}},{key:"panTo",value:function(t,n,r){return this.easeTo(e.extend({center:t},n),r)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomTo",value:function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)}},{key:"resetNorth",value:function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}},{key:"resetNorthPitch",value:function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"cameraForBounds",value:function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)}},{key:"_cameraForBoxAndBearing",value:function(t,n,r,i){var a={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}i.padding=e.extend(a,i.padding);var s=this.transform,u=s.padding,l=s.project(e.LngLat.convert(t)),c=s.project(e.LngLat.convert(n)),h=l.rotate(-r*Math.PI/180),f=c.rotate(-r*Math.PI/180),d=new e.pointGeometry(Math.max(h.x,f.x),Math.max(h.y,f.y)),p=new e.pointGeometry(Math.min(h.x,f.x),Math.min(h.y,f.y)),m=d.sub(p),g=(s.width-(u.left+u.right+i.padding.left+i.padding.right))/m.x,v=(s.height-(u.top+u.bottom+i.padding.top+i.padding.bottom))/m.y;if(!(v<0||g<0)){var y=Math.min(s.scaleZoom(s.scale*Math.min(g,v)),i.maxZoom),_=e.pointGeometry.convert(i.offset),b=new e.pointGeometry((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),w=_.add(b).mult(s.scale/s.zoomScale(y));return{center:s.unproject(l.add(c).div(2).sub(w)),zoom:y,bearing:r}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"fitBounds",value:function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}},{key:"fitScreenCoordinates",value:function(t,n,r,i,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(n)),r,i),i,a)}},{key:"_fitInternal",value:function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}},{key:"jumpTo",value:function(t,n){this.stop();var r=this.transform,i=!1,a=!1,o=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(a=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(o=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),a&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),o&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))}},{key:"easeTo",value:function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);var i=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),u=this.getPadding(),l="zoom"in t?+t.zoom:a,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,h="pitch"in t?+t.pitch:s,f="padding"in t?t.padding:i.padding,d=e.pointGeometry.convert(t.offset),p=i.centerPoint.add(d),m=i.pointLocation(p),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);var v,y,_=i.project(m),b=i.project(g).sub(_),w=i.zoomScale(l-a);t.around&&(v=e.LngLat.convert(t.around),y=i.locationPoint(v));var x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==a,this._rotating=this._rotating||o!==c,this._pitching=this._pitching||h!==s,this._padding=!i.isPaddingEqual(f),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,x),this._ease(function(t){if(r._zooming&&(i.zoom=e.number(a,l,t)),r._rotating&&(i.bearing=e.number(o,c,t)),r._pitching&&(i.pitch=e.number(s,h,t)),r._padding&&(i.interpolatePadding(u,f,t),p=i.centerPoint.add(d)),v)i.setLocationAtPoint(v,y);else{var m=i.zoomScale(i.zoom-a),g=l>a?Math.min(2,w):Math.max(.5,w),x=Math.pow(g,1-t),k=i.unproject(_.add(b.mult(t*x)).mult(m));i.setLocationAtPoint(i.renderWorldCopies?k.wrap():k,p)}r._fireMoveEvents(n)},function(e){r._afterEase(n,e)},t),this}},{key:"_prepareEase",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))}},{key:"_fireMoveEvents",value:function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}},{key:"_afterEase",value:function(t,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}}},{key:"flyTo",value:function(t,n){var r=this;if(!t.essential&&e.exported.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),u=this.getPitch(),l=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,h="bearing"in t?this._normalizeBearing(t.bearing,s):s,f="pitch"in t?+t.pitch:u,d="padding"in t?t.padding:a.padding,p=a.zoomScale(c-o),m=e.pointGeometry.convert(t.offset),g=a.centerPoint.add(m),v=a.pointLocation(g),y=e.LngLat.convert(t.center||v);this._normalizeCenter(y);var _=a.project(v),b=a.project(y).sub(_),w=t.curve,x=Math.max(a.width,a.height),k=x/p,C=b.mag();if("minZoom"in t){var S=e.clamp(Math.min(t.minZoom,o,c),a.minZoom,a.maxZoom),M=x/a.zoomScale(S-o);w=Math.sqrt(M/C*2)}var E=w*w;function T(e){var t=(k*k-x*x+(e?-1:1)*E*E*C*C)/(2*(e?k:x)*E*C);return Math.log(Math.sqrt(t*t+1)-t)}function L(e){return(Math.exp(e)-Math.exp(-e))/2}function I(e){return(Math.exp(e)+Math.exp(-e))/2}var D=T(0),A=function(e){return I(D)/I(D+w*e)},P=function(e){return x*((I(D)*(L(t=D+w*e)/I(t))-L(D))/E)/C;var t},O=(T(1)-D)/w;if(Math.abs(C)<1e-6||!isFinite(O)){if(Math.abs(x-k)<1e-6)return this.easeTo(t,n);var N=k<x?-1:1;O=Math.abs(Math.log(k/x))/w,P=function(){return 0},A=function(e){return Math.exp(N*w*e)}}return t.duration="duration"in t?+t.duration:1e3*O/("screenSpeed"in t?+t.screenSpeed/w:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==h,this._pitching=f!==u,this._padding=!a.isPaddingEqual(d),this._prepareEase(n,!1),this._ease(function(t){var i=t*O,p=1/A(i);a.zoom=1===t?c:o+a.scaleZoom(p),r._rotating&&(a.bearing=e.number(s,h,t)),r._pitching&&(a.pitch=e.number(u,f,t)),r._padding&&(a.interpolatePadding(l,d,t),g=a.centerPoint.add(m));var v=1===t?y:a.unproject(_.add(b.mult(P(i))).mult(p));a.setLocationAtPoint(a.renderWorldCopies?v.wrap():v,g),r._fireMoveEvents(n)},function(){return r._afterEase(n)},t),this}},{key:"isEasing",value:function(){return!!this._easeFrameId}},{key:"stop",value:function(){return this._stop()}},{key:"_stop",value:function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this}},{key:"_ease",value:function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}},{key:"_renderFrameCallback",value:function(){var t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}},{key:"_normalizeBearing",value:function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t}},{key:"_normalizeCenter",value:function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}}]),r}(e.Evented),Kr=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.options=n,e.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}return _createClass(t,[{key:"getDefaultPosition",value:function(){return"bottom-right"}},{key:"onAdd",value:function(e){return this._map=e,this._compact=this.options&&this.options.compact,this._container=a.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=a.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=a.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}},{key:"onRemove",value:function(){a.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}},{key:"_setElementTitle",value:function(e,t){var n=this._map._getUIString("AttributionControl.".concat(t));e.title=n,e.setAttribute("aria-label",n)}},{key:"_toggleAttribution",value:function(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}},{key:"_updateData",value:function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||this._updateAttributions()}},{key:"_updateAttributions",value:function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(function(e){return"string"!=typeof e?"":e})):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var a=i.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}(e=e.filter(function(e){return String(e).trim()})).sort(function(e,t){return e.length-t.length});var o=(e=e.filter(function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0})).join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}}},{key:"_updateCompact",value:function(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}},{key:"_updateCompactMinimize",value:function(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}]),t}(),Qr=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.options=n,e.bindAll(["_updateCompact"],this)}return _createClass(t,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"onAdd",value:function(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=a.create("div","maplibregl-ctrl mapboxgl-ctrl");var t=a.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}},{key:"onRemove",value:function(){a.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}},{key:"_updateCompact",value:function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact","mapboxgl-compact"):t.classList.remove("maplibregl-compact","mapboxgl-compact")}}}]),t}(),ei=function(){function e(){_classCallCheck(this,e),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}return _createClass(e,[{key:"add",value:function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,n=this._currentlyRunning,r=_createForOfIteratorHelper(n?this._queue.concat(n):this._queue);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.id===e)return void(i.cancelled=!0)}}catch(a){r.e(a)}finally{r.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._currentlyRunning=this._queue;this._queue=[];var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.cancelled&&(i.callback(e),this._cleared))break}}catch(a){r.e(a)}finally{r.f()}this._cleared=!1,this._currentlyRunning=!1}},{key:"clear",value:function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}]),e}(),ti={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},ni={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},ri={showCompass:!0,showZoom:!0,visualizePitch:!1},ii=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this._clickTolerance=10,this.element=r,this.mouseRotate=new Cr({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,i&&(this.mousePitch=new Sr({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),a.addEventListener(r,"mousedown",this.mousedown),a.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),a.addEventListener(r,"touchmove",this.touchmove),a.addEventListener(r,"touchend",this.touchend),a.addEventListener(r,"touchcancel",this.reset)}return _createClass(t,[{key:"down",value:function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),a.disableDrag()}},{key:"move",value:function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}}},{key:"off",value:function(){var e=this.element;a.removeEventListener(e,"mousedown",this.mousedown),a.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),a.removeEventListener(e,"touchmove",this.touchmove),a.removeEventListener(e,"touchend",this.touchend),a.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}},{key:"offTemp",value:function(){a.enableDrag(),a.removeEventListener(window,"mousemove",this.mousemove),a.removeEventListener(window,"mouseup",this.mouseup)}},{key:"mousedown",value:function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),a.mousePos(this.element,t)),a.addEventListener(window,"mousemove",this.mousemove),a.addEventListener(window,"mouseup",this.mouseup)}},{key:"mousemove",value:function(e){this.move(e,a.mousePos(this.element,e))}},{key:"mouseup",value:function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}},{key:"touchstart",value:function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=a.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))}},{key:"touchmove",value:function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=a.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))}},{key:"touchend",value:function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}},{key:"reset",value:function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}]),t}();function ai(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<o?t=i:r.locationPoint(a).distSqr(n)<o&&(t=a)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}var oi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function si(e,t,n){var r=e.classList;for(var i in oi)r.remove("maplibregl-".concat(n,"-anchor-").concat(i),"mapboxgl-".concat(n,"-anchor-").concat(i));r.add("maplibregl-".concat(n,"-anchor-").concat(t),"mapboxgl-".concat(n,"-anchor-").concat(t))}var ui,li=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,i){var o;if(_classCallCheck(this,r),o=n.call(this),(t instanceof HTMLElement||i)&&(t=e.extend({element:t},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],_assertThisInitialized(o)),o._anchor=t&&t.anchor||"center",o._color=t&&t.color||"#3FB1CE",o._scale=t&&t.scale||1,o._draggable=t&&t.draggable||!1,o._clickTolerance=t&&t.clickTolerance||0,o._isDragging=!1,o._state="inactive",o._rotation=t&&t.rotation||0,o._rotationAlignment=t&&t.rotationAlignment||"auto",o._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:o._rotationAlignment,t&&t.element)o._element=t.element,o._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{o._defaultMarker=!0,o._element=a.create("div"),o._element.setAttribute("aria-label","Map marker");var s=a.createNS("http://www.w3.org/2000/svg","svg");s.setAttributeNS(null,"display","block"),s.setAttributeNS(null,"height","".concat(41,"px")),s.setAttributeNS(null,"width","".concat(27,"px")),s.setAttributeNS(null,"viewBox","0 0 ".concat(27," ").concat(41));var u=a.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"stroke","none"),u.setAttributeNS(null,"stroke-width","1"),u.setAttributeNS(null,"fill","none"),u.setAttributeNS(null,"fill-rule","evenodd");var l=a.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"fill-rule","nonzero");var c=a.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"transform","translate(3.0, 29.0)"),c.setAttributeNS(null,"fill","#000000");for(var h=0,f=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];h<f.length;h++){var d=f[h],p=a.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",d.rx),p.setAttributeNS(null,"ry",d.ry),c.appendChild(p)}var m=a.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"fill",o._color);var g=a.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),m.appendChild(g);var v=a.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"fill","#000000");var y=a.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),v.appendChild(y);var _=a.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(6.0, 7.0)"),_.setAttributeNS(null,"fill","#FFFFFF");var b=a.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"transform","translate(8.0, 8.0)");var w=a.createNS("http://www.w3.org/2000/svg","circle");w.setAttributeNS(null,"fill","#000000"),w.setAttributeNS(null,"opacity","0.25"),w.setAttributeNS(null,"cx","5.5"),w.setAttributeNS(null,"cy","5.5"),w.setAttributeNS(null,"r","5.4999962");var x=a.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#FFFFFF"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962"),b.appendChild(w),b.appendChild(x),l.appendChild(c),l.appendChild(m),l.appendChild(v),l.appendChild(_),l.appendChild(b),s.appendChild(l),s.setAttributeNS(null,"height",41*o._scale+"px"),s.setAttributeNS(null,"width",27*o._scale+"px"),o._element.appendChild(s),o._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}return o._element.classList.add("maplibregl-marker","mapboxgl-marker"),o._element.addEventListener("dragstart",function(e){e.preventDefault()}),o._element.addEventListener("mousedown",function(e){e.preventDefault()}),si(o._element,o._anchor,"marker"),o._popup=null,_possibleConstructorReturn(o)}return _createClass(r,[{key:"addTo",value:function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}},{key:"remove",value:function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),a.remove(this._element),this._popup&&this._popup.remove(),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}},{key:"getElement",value:function(){return this._element}},{key:"setPopup",value:function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=38.1,n=13.5,r=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-24.6],right:[-n,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}},{key:"_onKeyPress",value:function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}},{key:"_onMapClick",value:function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}},{key:"getPopup",value:function(){return this._popup}},{key:"togglePopup",value:function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}},{key:"_update",value:function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=ai(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ(".concat(this._rotation,"deg)"):"map"===this._rotationAlignment&&(t="rotateZ(".concat(this._rotation-this._map.getBearing(),"deg)"));var n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n="rotateX(".concat(this._map.getPitch(),"deg)")),e&&"moveend"!==e.type||(this._pos=this._pos.round()),a.setTransform(this._element,"".concat(oi[this._anchor]," translate(").concat(this._pos.x,"px, ").concat(this._pos.y,"px) ").concat(n," ").concat(t))}}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}},{key:"_onMove",value:function(t){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}},{key:"_onUp",value:function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}},{key:"_addDragHandler",value:function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}},{key:"setDraggable",value:function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"setRotation",value:function(e){return this._rotation=e||0,this._update(),this}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotationAlignment",value:function(e){return this._rotationAlignment=e||"auto",this._update(),this}},{key:"getRotationAlignment",value:function(){return this._rotationAlignment}},{key:"setPitchAlignment",value:function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}},{key:"getPitchAlignment",value:function(){return this._pitchAlignment}}]),r}(e.Evented),ci={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},hi=0,fi=!1,di={maxWidth:100,unit:"metric"};function pi(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,a=e.unproject([0,i]),o=e.unproject([r,i]),s=a.distanceTo(o);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?mi(t,r,u/5280,e._getUIString("ScaleControl.Miles")):mi(t,r,u,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?mi(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?mi(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):mi(t,r,s,e._getUIString("ScaleControl.Meters"))}function mi(e,t,n,r){var i,a,o,s,u,l=(i=n,(s=Math.pow(10,"".concat(Math.floor(i)).length-1))*(u=(u=i/s)>=10?10:u>=5?5:u>=3?3:u>=2?2:u>=1?1:(a=u,o=Math.pow(10,Math.ceil(-Math.log(a)/Math.LN10)),Math.round(a*o)/o)));e.style.width=t*(l/n)+"px",e.innerHTML="".concat(l,"&nbsp;").concat(r)}var gi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},vi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function yi(t){if(t){if("number"==typeof t){var n=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new e.pointGeometry(0,0),top:new e.pointGeometry(0,t),"top-left":new e.pointGeometry(n,n),"top-right":new e.pointGeometry(-n,n),bottom:new e.pointGeometry(0,-t),"bottom-left":new e.pointGeometry(n,-n),"bottom-right":new e.pointGeometry(-n,-n),left:new e.pointGeometry(t,0),right:new e.pointGeometry(-t,0)}}if(t instanceof e.pointGeometry||Array.isArray(t)){var r=e.pointGeometry.convert(t);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:e.pointGeometry.convert(t.center||[0,0]),top:e.pointGeometry.convert(t.top||[0,0]),"top-left":e.pointGeometry.convert(t["top-left"]||[0,0]),"top-right":e.pointGeometry.convert(t["top-right"]||[0,0]),bottom:e.pointGeometry.convert(t.bottom||[0,0]),"bottom-left":e.pointGeometry.convert(t["bottom-left"]||[0,0]),"bottom-right":e.pointGeometry.convert(t["bottom-right"]||[0,0]),left:e.pointGeometry.convert(t.left||[0,0]),right:e.pointGeometry.convert(t.right||[0,0])}}return yi(new e.pointGeometry(0,0))}var _i={supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:function(n){_inherits(i,n);var r=_createSuper(i);function i(t){var n,a;if(_classCallCheck(this,i),e.PerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},ni,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if((n=r.call(this,new tr(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),{bearingSnap:t.bearingSnap}))._interactive=t.interactive,n._maxTileCacheSize=t.maxTileCacheSize,n._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,n._preserveDrawingBuffer=t.preserveDrawingBuffer,n._antialias=t.antialias,n._trackResize=t.trackResize,n._bearingSnap=t.bearingSnap,n._refreshExpiredTiles=t.refreshExpiredTiles,n._fadeDuration=t.fadeDuration,n._crossSourceCollisions=t.crossSourceCollisions,n._crossFadingFactor=1,n._collectResourceTiming=t.collectResourceTiming,n._renderTaskQueue=new ei,n._controls=[],n._mapId=e.uniqueId(),n._locale=e.extend({},ti,t.locale),n._clickTolerance=t.clickTolerance,n._pixelRatio=null!==(a=t.pixelRatio)&&void 0!==a?a:devicePixelRatio,n._requestManager=new o(t.transformRequest),"string"==typeof t.container){if(n._container=document.getElementById(t.container),!n._container)throw new Error("Container '".concat(t.container,"' not found."))}else{if(!(t.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");n._container=t.container}if(t.maxBounds&&n.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],_assertThisInitialized(n)),n._setupContainer(),n._setupPainter(),void 0===n.painter)throw new Error("Failed to initialize WebGL.");return n.on("move",function(){return n._update(!1)}),n.on("moveend",function(){return n._update(!1)}),n.on("zoom",function(){return n._update(!0)}),"undefined"!=typeof window&&(addEventListener("online",n._onWindowOnline,!1),addEventListener("resize",n._onWindowResize,!1),addEventListener("orientationchange",n._onWindowResize,!1)),n.handlers=new Xr(_assertThisInitialized(n),t),n._hash=t.hash&&new nr("string"==typeof t.hash&&t.hash||void 0).addTo(_assertThisInitialized(n)),n._hash&&n._hash._onHashChange()||(n.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(n.resize(),n.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),n.resize(),n._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&n.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&n.addControl(new Kr({customAttribution:t.customAttribution})),t.maplibreLogo&&n.addControl(new Qr,t.logoPosition),n.on("style.load",function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)}),n.on("data",function(t){n._update("style"===t.dataType),n.fire(new e.Event("".concat(t.dataType,"data"),t))}),n.on("dataloading",function(t){n.fire(new e.Event("".concat(t.dataType,"dataloading"),t))}),n.on("dataabort",function(t){n.fire(new e.Event("sourcedataabort",t))}),_possibleConstructorReturn(n)}return _createClass(i,[{key:"_getMapId",value:function(){return this._mapId}},{key:"addControl",value:function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this}},{key:"removeControl",value:function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}},{key:"hasControl",value:function(e){return this._controls.indexOf(e)>-1}},{key:"resize",value:function(t){var n=this._containerDimensions(),r=n[0],i=n[1];this._resizeCanvas(r,i,this.getPixelRatio()),this.transform.resize(r,i),this.painter.resize(r,i,this.getPixelRatio());var a=!this._moving;return a&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),a&&this.fire(new e.Event("moveend",t)),this}},{key:"getPixelRatio",value:function(){return this._pixelRatio}},{key:"setPixelRatio",value:function(e){var t=_slicedToArray(this._containerDimensions(),2),n=t[0],r=t[1];this._pixelRatio=e,this._resizeCanvas(n,r,e),this.painter.resize(n,r,e)}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}},{key:"setMinZoom",value:function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(e){if((e=null==e?60:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){return this.transform.renderWorldCopies=e,this._update()}},{key:"project",value:function(t){return this.transform.locationPoint(e.LngLat.convert(t))}},{key:"unproject",value:function(t){return this.transform.pointLocation(e.pointGeometry.convert(t))}},{key:"isMoving",value:function(){return this._moving||this.handlers.isMoving()}},{key:"isZooming",value:function(){return this._zooming||this.handlers.isZooming()}},{key:"isRotating",value:function(){return this._rotating||this.handlers.isRotating()}},{key:"_createDelegatedListener",value:function(e,t,n){var r=this;if("mouseenter"===e||"mouseover"===e){var i=!1;return{layer:t,listener:n,delegates:{mousemove:function(a){var o=r.getLayer(t)?r.queryRenderedFeatures(a.point,{layers:[t]}):[];o.length?i||(i=!0,n.call(r,new hr(e,r,a.originalEvent,{features:o}))):i=!1},mouseout:function(){i=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(i){(r.getLayer(t)?r.queryRenderedFeatures(i.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,n.call(r,new hr(e,r,i.originalEvent)))},mouseout:function(t){a&&(a=!1,n.call(r,new hr(e,r,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:_defineProperty({},e,function(e){var i=r.getLayer(t)?r.queryRenderedFeatures(e.point,{layers:[t]}):[];i.length&&(e.features=i,n.call(r,e),delete e.features)})}}},{key:"on",value:function(e,t,n){if(void 0===n)return _get(_getPrototypeOf(i.prototype),"on",this).call(this,e,t);var r=this._createDelegatedListener(e,t,n);for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r),r.delegates)this.on(a,r.delegates[a]);return this}},{key:"once",value:function(e,t,n){if(void 0===n)return _get(_getPrototypeOf(i.prototype),"once",this).call(this,e,t);var r=this._createDelegatedListener(e,t,n);for(var a in r.delegates)this.once(a,r.delegates[a]);return this}},{key:"off",value:function(e,t,n){var r=this;return void 0===n?_get(_getPrototypeOf(i.prototype),"off",this).call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(i){for(var a=r._delegatedListeners[e],o=0;o<a.length;o++){var s=a[o];if(s.layer===t&&s.listener===n){for(var u in s.delegates)r.off(u,s.delegates[u]);return a.splice(o,1),r}}}(),this)}},{key:"queryRenderedFeatures",value:function(t,n){if(!this.style)return[];var r;if(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.pointGeometry||"number"==typeof t[0])r=[e.pointGeometry.convert(t)];else{var i=e.pointGeometry.convert(t[0]),a=e.pointGeometry.convert(t[1]);r=[i,new e.pointGeometry(a.x,i.y),a,new e.pointGeometry(i.x,a.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)}},{key:"querySourceFeatures",value:function(e,t){return this.style.querySourceFeatures(e,t)}},{key:"setStyle",value:function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))}},{key:"setTransformRequest",value:function(e){return this._requestManager.setTransformRequest(e),this}},{key:"_getUIString",value:function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}},{key:"_updateStyle",value:function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new rt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)}},{key:"_lazyInitEmptyStyle",value:function(){this.style||(this.style=new rt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}},{key:"_diffStyle",value:function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.transformRequest(t,e.ResourceType.Style);e.getJSON(i,function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)})}else"object"==typeof t&&this._updateDiff(t,n)}},{key:"_updateDiff",value:function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce("Unable to perform style diff: ".concat(r.message||r.error||r,".  Rebuilding the style from scratch.")),this._updateStyle(t,n)}}},{key:"getStyle",value:function(){if(this.style)return this.style.serialize()}},{key:"isStyleLoaded",value:function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")}},{key:"addSource",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}},{key:"isSourceLoaded",value:function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '".concat(t,"'"))))}},{key:"areTilesLoaded",value:function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0}},{key:"addSourceType",value:function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}},{key:"removeSource",value:function(e){return this.style.removeSource(e),this._update(!0)}},{key:"getSource",value:function(e){return this.style.getSource(e)}},{key:"addImage",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.pixelRatio,a=void 0===i?1:i,o=r.sdf,s=void 0!==o&&o,u=r.stretchX,l=r.stretchY,c=r.content;if(this._lazyInitEmptyStyle(),n instanceof HTMLImageElement||e.isImageBitmap(n)){var h=e.exported.getImageData(n),f=h.width,d=h.height,p=h.data;this.style.addImage(t,{data:new e.RGBAImage({width:f,height:d},p),pixelRatio:a,stretchX:u,stretchY:l,content:c,sdf:s,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var m=n.width,g=n.height,v=n.data,y=n;this.style.addImage(t,{data:new e.RGBAImage({width:m,height:g},new Uint8Array(v)),pixelRatio:a,stretchX:u,stretchY:l,content:c,sdf:s,version:0,userImage:y}),y.onAdd&&y.onAdd(this,t)}}},{key:"updateImage",value:function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof HTMLImageElement||e.isImageBitmap(n)?e.exported.getImageData(n):n,a=i.width,o=i.height,s=i.data;if(void 0===a||void 0===o)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(a!==r.data.width||o!==r.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var u=!(n instanceof HTMLImageElement||e.isImageBitmap(n));r.data.replace(s,u),this.style.updateImage(t,r)}},{key:"hasImage",value:function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}},{key:"removeImage",value:function(e){this.style.removeImage(e)}},{key:"loadImage",value:function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)}},{key:"listImages",value:function(){return this.style.listImages()}},{key:"addLayer",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}},{key:"moveLayer",value:function(e,t){return this.style.moveLayer(e,t),this._update(!0)}},{key:"removeLayer",value:function(e){return this.style.removeLayer(e),this._update(!0)}},{key:"getLayer",value:function(e){return this.style.getLayer(e)}},{key:"setLayerZoomRange",value:function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}},{key:"setFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,n),this._update(!0)}},{key:"getFilter",value:function(e){return this.style.getFilter(e)}},{key:"setPaintProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,n,r),this._update(!0)}},{key:"getPaintProperty",value:function(e,t){return this.style.getPaintProperty(e,t)}},{key:"setLayoutProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}},{key:"getLayoutProperty",value:function(e,t){return this.style.getLayoutProperty(e,t)}},{key:"setLight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}},{key:"getLight",value:function(){return this.style.getLight()}},{key:"setFeatureState",value:function(e,t){return this.style.setFeatureState(e,t),this._update()}},{key:"removeFeatureState",value:function(e,t){return this.style.removeFeatureState(e,t),this._update()}},{key:"getFeatureState",value:function(e){return this.style.getFeatureState(e)}},{key:"getContainer",value:function(){return this._container}},{key:"getCanvasContainer",value:function(){return this._canvasContainer}},{key:"getCanvas",value:function(){return this._canvas}},{key:"_containerDimensions",value:function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}},{key:"_setupContainer",value:function(){var e=this._container;e.classList.add("maplibregl-map","mapboxgl-map");var t=this._canvasContainer=a.create("div","maplibregl-canvas-container mapboxgl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=a.create("canvas","maplibregl-canvas mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1],this.getPixelRatio());var r=this._controlContainer=a.create("div","maplibregl-control-container mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){i[e]=a.create("div","maplibregl-ctrl-".concat(e," mapboxgl-ctrl-").concat(e),r)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}},{key:"_resizeCanvas",value:function(e,t,n){this._canvas.width=n*e,this._canvas.height=n*t,this._canvas.style.width="".concat(e,"px"),this._canvas.style.height="".concat(t,"px")}},{key:"_setupPainter",value:function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new Jn(r,this.transform),e.exported$1.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}},{key:"_contextLost",value:function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}},{key:"_contextRestored",value:function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}},{key:"_onMapScroll",value:function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}},{key:"loaded",value:function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}},{key:"_update",value:function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}},{key:"_requestRenderFrame",value:function(e){return this._update(),this._renderTaskQueue.add(e)}},{key:"_cancelRenderFrame",value:function(e){this._renderTaskQueue.remove(e)}},{key:"_render",value:function(t){var n,r=this,i=0,a=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=a.createQueryEXT(),a.beginQueryEXT(a.TIME_ELAPSED_EXT,n),i=e.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var o=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,u=e.exported.now();this.style.zoomHistory.update(s,u);var l=new e.EvaluationParameters(s,{now:u,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=l.crossFadingFactor();1===c&&c===this._crossFadingFactor||(o=!0,this._crossFadingFactor=c),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.load),this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var h=e.exported.now()-i;a.endQueryEXT(a.TIME_ELAPSED_EXT,n),setTimeout(function(){var t=a.getQueryObjectEXT(n,a.QUERY_RESULT_EXT)/1e6;a.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:h,gpuTime:t}))},50)}if(this.listens("gpu-timing-layer")){var f=this.painter.collectGpuTimers();setTimeout(function(){var t=r.painter.queryGpuTimers(f);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))},50)}var d=this._sourcesDirty||this._styleDirty||this._placementDirty;return d||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||d||(this._fullyLoaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.fullLoad)),this}}},{key:"redraw",value:function(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}},{key:"remove",value:function(){this._hash&&this._hash.remove();var t,n=_createForOfIteratorHelper(this._controls);try{for(n.s();!(t=n.n()).done;){t.value.onRemove(this)}}catch(i){n.e(i)}finally{n.f()}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),a.remove(this._canvasContainer),a.remove(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),e.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new e.Event("remove"))}},{key:"triggerRepaint",value:function(){var t=this;this.style&&!this._frame&&(this._frame=e.exported.frame(function(n){e.PerformanceUtils.frame(n),t._frame=null,t._render(n)}))}},{key:"_onWindowOnline",value:function(){this._update()}},{key:"_onWindowResize",value:function(e){this._trackResize&&this.resize({originalEvent:e})._update()}},{key:"showTileBoundaries",get:function(){return!!this._showTileBoundaries},set:function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}},{key:"showPadding",get:function(){return!!this._showPadding},set:function(e){this._showPadding!==e&&(this._showPadding=e,this._update())}},{key:"showCollisionBoxes",get:function(){return!!this._showCollisionBoxes},set:function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}},{key:"showOverdrawInspector",get:function(){return!!this._showOverdrawInspector},set:function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}},{key:"repaint",get:function(){return!!this._repaint},set:function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}},{key:"vertices",get:function(){return!!this._vertices},set:function(e){this._vertices=e,this._update()}},{key:"_setCacheLimits",value:function(t,n){e.setCacheLimits(t,n)}}]),i}(Jr),NavigationControl:function(){function t(n){var r=this;_classCallCheck(this,t),this.options=e.extend({},ri,n),this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",function(e){return r._map.zoomIn({},{originalEvent:e})}),a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",function(e){return r._map.zoomOut({},{originalEvent:e})}),a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",function(e){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:e}):r._map.resetNorth({},{originalEvent:e})}),this._compassIcon=a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}return _createClass(t,[{key:"_updateZoomButtons",value:function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}},{key:"_rotateCompassArrow",value:function(){var e=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(this._map.transform.pitch,"deg) rotateZ(").concat(this._map.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(this._map.transform.angle*(180/Math.PI),"deg)");this._compassIcon.style.transform=e}},{key:"onAdd",value:function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ii(this._map,this._compass,this.options.visualizePitch)),this._container}},{key:"onRemove",value:function(){a.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}},{key:"_createButton",value:function(e,t){var n=a.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}},{key:"_setButtonTitle",value:function(e,t){var n=this._map._getUIString("NavigationControl.".concat(t));e.title=n,e.setAttribute("aria-label",n)}}]),t}(),GeolocateControl:function(t){_inherits(r,t);var n=_createSuper(r);function r(t){var i;return _classCallCheck(this,r),(i=n.call(this)).options=e.extend({},ci,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],_assertThisInitialized(i)),i}return _createClass(r,[{key:"onAdd",value:function(e){var t;return this._map=e,this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),t=this._setupUI,void 0!==ui?t(ui):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(function(e){ui="denied"!==e.state,t(ui)}):(ui=!!window.navigator.geolocation,t(ui)),this._container}},{key:"onRemove",value:function(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),a.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,hi=0,fi=!1}},{key:"_isOutOfMapMaxBounds",value:function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}},{key:"_setErrorState",value:function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}}},{key:"_onSuccess",value:function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}},{key:"_updateCamera",value:function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),a,{geolocateSource:!0})}},{key:"_updateMarker",value:function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}},{key:"_updateCircleRadius",value:function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width="".concat(i,"px"),this._circleElement.style.height="".concat(i,"px")}},{key:"_onZoom",value:function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}},{key:"_onError",value:function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&fi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}},{key:"_finish",value:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}},{key:"_setupUI",value:function(t){var n=this;if(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=a.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}else{var i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=a.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new li(this._dotElement),this._circleElement=a.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new li({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))})}},{key:"trigger",value:function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":hi--,fi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++hi>1?(t={maximumAge:6e5,timeout:0},fi=!0):(t=this.options.positionOptions,fi=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}},{key:"_clearWatch",value:function(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}]),r}(e.Evented),AttributionControl:Kr,LogoControl:Qr,ScaleControl:function(){function t(n){_classCallCheck(this,t),this.options=e.extend({},di,n),e.bindAll(["_onMove","setUnit"],this)}return _createClass(t,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_onMove",value:function(){pi(this._map,this._container,this.options)}},{key:"onAdd",value:function(e){return this._map=e,this._container=a.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}},{key:"onRemove",value:function(){a.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},{key:"setUnit",value:function(e){this.options.unit=e,pi(this._map,this._container,this.options)}}]),t}(),FullscreenControl:function(){function t(n){_classCallCheck(this,t),this._fullscreen=!1,n&&n.container&&(n.container instanceof HTMLElement?this._container=n.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}return _createClass(t,[{key:"onAdd",value:function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=a.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}},{key:"onRemove",value:function(){a.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_checkFullscreenSupport",value:function(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}},{key:"_setupUI",value:function(){var e=this._fullscreenButton=a.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);a.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_updateTitle",value:function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}},{key:"_getTitle",value:function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}},{key:"_isFullscreen",value:function(){return this._fullscreen}},{key:"_changeIcon",value:function(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}},{key:"_onClickFullscreen",value:function(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}}]),t}(),Popup:function(t){_inherits(r,t);var n=_createSuper(r);function r(t){var i;return _classCallCheck(this,r),(i=n.call(this)).options=e.extend(Object.create(gi),t),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],_assertThisInitialized(i)),i}return _createClass(r,[{key:"addTo",value:function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this}},{key:"isOpen",value:function(){return!!this._map}},{key:"remove",value:function(){return this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}},{key:"trackPointer",value:function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}},{key:"getElement",value:function(){return this._container}},{key:"setText",value:function(e){return this.setDOMContent(document.createTextNode(e))}},{key:"setHTML",value:function(e){var t,n=document.createDocumentFragment(),r=document.createElement("body");for(r.innerHTML=e;t=r.firstChild;)n.appendChild(t);return this.setDOMContent(n)}},{key:"getMaxWidth",value:function(){return this._container&&this._container.style.maxWidth}},{key:"setMaxWidth",value:function(e){return this.options.maxWidth=e,this._update(),this}},{key:"setDOMContent",value:function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=a.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}},{key:"addClassName",value:function(e){this._container&&this._container.classList.add(e)}},{key:"removeClassName",value:function(e){this._container&&this._container.classList.remove(e)}},{key:"setOffset",value:function(e){return this.options.offset=e,this._update(),this}},{key:"toggleClassName",value:function(e){if(this._container)return this._container.classList.toggle(e)}},{key:"_createCloseButton",value:function(){this.options.closeButton&&(this._closeButton=a.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}},{key:"_onMouseUp",value:function(e){this._update(e.point)}},{key:"_onMouseMove",value:function(e){this._update(e.point)}},{key:"_onDrag",value:function(e){this._update(e.point)}},{key:"_update",value:function(e){var t=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=a.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(e){return t._container.classList.add(e)}),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ai(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var n=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),r=this.options.anchor,i=yi(this.options.offset);if(!r){var o,s=this._container.offsetWidth,u=this._container.offsetHeight;o=n.y+i.bottom.y<u?["top"]:n.y>this._map.transform.height-u?["bottom"]:[],n.x<s/2?o.push("left"):n.x>this._map.transform.width-s/2&&o.push("right"),r=0===o.length?"bottom":o.join("-")}var l=n.add(i[r]).round();a.setTransform(this._container,"".concat(oi[r]," translate(").concat(l.x,"px,").concat(l.y,"px)")),si(this._container,r,"popup")}}},{key:"_focusFirstElement",value:function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(vi);e&&e.focus()}}},{key:"_onClose",value:function(){this.remove()}}]),r}(e.Evented),Marker:li,Style:rt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,AJAXError:e.AJAXError,config:e.config,CanvasSource:N,GeoJSONSource:D,ImageSource:P,RasterDEMTileSource:I,RasterTileSource:L,VectorTileSource:T,VideoSource:O,prewarm:function(){Z().acquire(W)},clearPrewarmedResources:function(){var e=q;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(W),q=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get workerCount(){return $.workerCount},set workerCount(e){$.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:"",addProtocol:function(t,n){e.config.REGISTERED_PROTOCOLS[t]=n},removeProtocol:function(t){delete e.config.REGISTERED_PROTOCOLS[t]}};return Zr(_i,{isSafari:e.isSafari,getPerformanceMetrics:e.PerformanceUtils.getPerformanceMetrics}),_i}),n}()},8239:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){e(e.s=29790)}])})();