(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2726:(pt,Ze,X)=>{"use strict";X.d(Ze,{Uw:()=>de,dV:()=>Ie,fo:()=>it});var B=X(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var G=function(ht){return ht.Unimplemented="UNIMPLEMENTED",ht.Unavailable="UNAVAILABLE",ht}(G||{});class ie extends Error{constructor(tt,He,_t){super(tt),this.message=tt,this.code=He,this.data=_t}}const he=ht=>{var tt,He,_t,et,Xe;const De=ht.CapacitorCustomPlatform||null,le=ht.Capacitor||{},ze=le.Plugins=le.Plugins||{},Ve=ht.CapacitorPlatforms,Ct=(null===(tt=Ve?.currentPlatform)||void 0===tt?void 0:tt.getPlatform)||(()=>null!==De?De.name:(ht=>{var tt,He;return ht?.androidBridge?"android":null!==(He=null===(tt=ht?.webkit)||void 0===tt?void 0:tt.messageHandlers)&&void 0!==He&&He.bridge?"ios":"web"})(ht)),fn=(null===(He=Ve?.currentPlatform)||void 0===He?void 0:He.isNativePlatform)||(()=>"web"!==Ct()),un=(null===(_t=Ve?.currentPlatform)||void 0===_t?void 0:_t.isPluginAvailable)||($r=>{const en=Ln.get($r);return!(!en?.platforms.has(Ct())&&!Rn($r))}),Rn=(null===(et=Ve?.currentPlatform)||void 0===et?void 0:et.getPluginHeader)||($r=>{var en;return null===(en=le.PluginHeaders)||void 0===en?void 0:en.find(Wn=>Wn.name===$r)}),Ln=new Map,xr=(null===(Xe=Ve?.currentPlatform)||void 0===Xe?void 0:Xe.registerPlugin)||(($r,en={})=>{const Wn=Ln.get($r);if(Wn)return console.warn(`Capacitor plugin "${$r}" already registered. Cannot register plugins twice.`),Wn.proxy;const qt=Ct(),rn=Rn($r);let Fn;const zr=function(){var Dn=(0,B.Z)(function*(){return!Fn&&qt in en?Fn=Fn="function"==typeof en[qt]?yield en[qt]():en[qt]:null!==De&&!Fn&&"web"in en&&(Fn=Fn="function"==typeof en.web?yield en.web():en.web),Fn});return function(){return Dn.apply(this,arguments)}}(),ai=Dn=>{let nn;const ke=(...Ge)=>{const xe=zr().then(Q=>{const oe=((Dn,nn)=>{var ke,Ge;if(!rn){if(Dn)return null===(Ge=Dn[nn])||void 0===Ge?void 0:Ge.bind(Dn);throw new ie(`"${$r}" plugin is not implemented on ${qt}`,G.Unimplemented)}{const xe=rn?.methods.find(Q=>nn===Q.name);if(xe)return"promise"===xe.rtype?Q=>le.nativePromise($r,nn.toString(),Q):(Q,oe)=>le.nativeCallback($r,nn.toString(),Q,oe);if(Dn)return null===(ke=Dn[nn])||void 0===ke?void 0:ke.bind(Dn)}})(Q,Dn);if(oe){const We=oe(...Ge);return nn=We?.remove,We}throw new ie(`"${$r}.${Dn}()" is not implemented on ${qt}`,G.Unimplemented)});return"addListener"===Dn&&(xe.remove=(0,B.Z)(function*(){return nn()})),xe};return ke.toString=()=>`${Dn.toString()}() { [capacitor code] }`,Object.defineProperty(ke,"name",{value:Dn,writable:!1,configurable:!1}),ke},Zn=ai("addListener"),is=ai("removeListener"),Qi=(Dn,nn)=>{const ke=Zn({eventName:Dn},nn),Ge=function(){var Q=(0,B.Z)(function*(){const oe=yield ke;is({eventName:Dn,callbackId:oe},nn)});return function(){return Q.apply(this,arguments)}}(),xe=new Promise(Q=>ke.then(()=>Q({remove:Ge})));return xe.remove=(0,B.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ge()}),xe},Nr=new Proxy({},{get(Dn,nn){switch(nn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return rn?Qi:Zn;case"removeListener":return is;default:return ai(nn)}}});return ze[$r]=Nr,Ln.set($r,{name:$r,proxy:Nr,platforms:new Set([...Object.keys(en),...rn?[qt]:[]])}),Nr});return le.convertFileSrc||(le.convertFileSrc=$r=>$r),le.getPlatform=Ct,le.handleError=$r=>ht.console.error($r),le.isNativePlatform=fn,le.isPluginAvailable=un,le.pluginMethodNoop=($r,en,Wn)=>Promise.reject(`${Wn} does not have an implementation of "${en}".`),le.registerPlugin=xr,le.Exception=ie,le.DEBUG=!!le.DEBUG,le.isLoggingEnabled=!!le.isLoggingEnabled,le.platform=le.getPlatform(),le.isNative=le.isNativePlatform(),le},Ie=(ht=>ht.Capacitor=he(ht))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),it=Ie.registerPlugin;class de{constructor(tt){this.listeners={},this.retainedEventArguments={},this.windowListeners={},tt&&(console.warn(`Capacitor WebPlugin "${tt.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=tt)}addListener(tt,He){var _t=this;let et=!1;this.listeners[tt]||(this.listeners[tt]=[],et=!0),this.listeners[tt].push(He);const De=this.windowListeners[tt];De&&!De.registered&&this.addWindowListener(De),et&&this.sendRetainedArgumentsForEvent(tt);const le=function(){var Ve=(0,B.Z)(function*(){return _t.removeListener(tt,He)});return function(){return Ve.apply(this,arguments)}}();return Promise.resolve({remove:le})}removeAllListeners(){var tt=this;return(0,B.Z)(function*(){tt.listeners={};for(const He in tt.windowListeners)tt.removeWindowListener(tt.windowListeners[He]);tt.windowListeners={}})()}notifyListeners(tt,He,_t){const et=this.listeners[tt];if(et)et.forEach(Xe=>Xe(He));else if(_t){let Xe=this.retainedEventArguments[tt];Xe||(Xe=[]),Xe.push(He),this.retainedEventArguments[tt]=Xe}}hasListeners(tt){return!!this.listeners[tt].length}registerWindowListener(tt,He){this.windowListeners[He]={registered:!1,windowEventName:tt,pluginEventName:He,handler:_t=>{this.notifyListeners(He,_t)}}}unimplemented(tt="not implemented"){return new Ie.Exception(tt,G.Unimplemented)}unavailable(tt="not available"){return new Ie.Exception(tt,G.Unavailable)}removeListener(tt,He){var _t=this;return(0,B.Z)(function*(){const et=_t.listeners[tt];if(!et)return;const Xe=et.indexOf(He);_t.listeners[tt].splice(Xe,1),_t.listeners[tt].length||_t.removeWindowListener(_t.windowListeners[tt])})()}addWindowListener(tt){window.addEventListener(tt.windowEventName,tt.handler),tt.registered=!0}removeWindowListener(tt){tt&&(window.removeEventListener(tt.windowEventName,tt.handler),tt.registered=!1)}sendRetainedArgumentsForEvent(tt){const He=this.retainedEventArguments[tt];He&&(delete this.retainedEventArguments[tt],He.forEach(_t=>{this.notifyListeners(tt,_t)}))}}const te=ht=>encodeURIComponent(ht).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),be=ht=>ht.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ee extends de{getCookies(){return(0,B.Z)(function*(){const tt=document.cookie,He={};return tt.split(";").forEach(_t=>{if(_t.length<=0)return;let[et,Xe]=_t.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");et=be(et).trim(),Xe=be(Xe).trim(),He[et]=Xe}),He})()}setCookie(tt){return(0,B.Z)(function*(){try{const He=te(tt.key),_t=te(tt.value),et=`; expires=${(tt.expires||"").replace("expires=","")}`,Xe=(tt.path||"/").replace("path=",""),De=null!=tt.url&&tt.url.length>0?`domain=${tt.url}`:"";document.cookie=`${He}=${_t||""}${et}; path=${Xe}; ${De};`}catch(He){return Promise.reject(He)}})()}deleteCookie(tt){return(0,B.Z)(function*(){try{document.cookie=`${tt.key}=; Max-Age=0`}catch(He){return Promise.reject(He)}})()}clearCookies(){return(0,B.Z)(function*(){try{const tt=document.cookie.split(";")||[];for(const He of tt)document.cookie=He.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(tt){return Promise.reject(tt)}})()}clearAllCookies(){var tt=this;return(0,B.Z)(function*(){try{yield tt.clearCookies()}catch(He){return Promise.reject(He)}})()}}it("CapacitorCookies",{web:()=>new ee});const ne=function(){var ht=(0,B.Z)(function*(tt){return new Promise((He,_t)=>{const et=new FileReader;et.onload=()=>{const Xe=et.result;He(Xe.indexOf(",")>=0?Xe.split(",")[1]:Xe)},et.onerror=Xe=>_t(Xe),et.readAsDataURL(tt)})});return function(He){return ht.apply(this,arguments)}}();class rt extends de{request(tt){return(0,B.Z)(function*(){const He=((ht,tt={})=>{const He=Object.assign({method:ht.method||"GET",headers:ht.headers},tt),et=((ht={})=>{const tt=Object.keys(ht);return Object.keys(ht).map(et=>et.toLocaleLowerCase()).reduce((et,Xe,De)=>(et[Xe]=ht[tt[De]],et),{})})(ht.headers)["content-type"]||"";if("string"==typeof ht.data)He.body=ht.data;else if(et.includes("application/x-www-form-urlencoded")){const Xe=new URLSearchParams;for(const[De,le]of Object.entries(ht.data||{}))Xe.set(De,le);He.body=Xe.toString()}else if(et.includes("multipart/form-data")||ht.data instanceof FormData){const Xe=new FormData;if(ht.data instanceof FormData)ht.data.forEach((le,ze)=>{Xe.append(ze,le)});else for(const le of Object.keys(ht.data))Xe.append(le,ht.data[le]);He.body=Xe;const De=new Headers(He.headers);De.delete("content-type"),He.headers=De}else(et.includes("application/json")||"object"==typeof ht.data)&&(He.body=JSON.stringify(ht.data));return He})(tt,tt.webFetchExtra),_t=((ht,tt=!0)=>ht?Object.entries(ht).reduce((_t,et)=>{const[Xe,De]=et;let le,ze;return Array.isArray(De)?(ze="",De.forEach(Ve=>{le=tt?encodeURIComponent(Ve):Ve,ze+=`${Xe}=${le}&`}),ze.slice(0,-1)):(le=tt?encodeURIComponent(De):De,ze=`${Xe}=${le}`),`${_t}&${ze}`},"").substr(1):null)(tt.params,tt.shouldEncodeUrlParams),et=_t?`${tt.url}?${_t}`:tt.url,Xe=yield fetch(et,He),De=Xe.headers.get("content-type")||"";let ze,Ve,{responseType:le="text"}=Xe.ok?tt:{};switch(De.includes("application/json")&&(le="json"),le){case"arraybuffer":case"blob":Ve=yield Xe.blob(),ze=yield ne(Ve);break;case"json":ze=yield Xe.json();break;default:ze=yield Xe.text()}const Yt={};return Xe.headers.forEach((Ct,bn)=>{Yt[bn]=Ct}),{data:ze,headers:Yt,status:Xe.status,url:Xe.url}})()}get(tt){var He=this;return(0,B.Z)(function*(){return He.request(Object.assign(Object.assign({},tt),{method:"GET"}))})()}post(tt){var He=this;return(0,B.Z)(function*(){return He.request(Object.assign(Object.assign({},tt),{method:"POST"}))})()}put(tt){var He=this;return(0,B.Z)(function*(){return He.request(Object.assign(Object.assign({},tt),{method:"PUT"}))})()}patch(tt){var He=this;return(0,B.Z)(function*(){return He.request(Object.assign(Object.assign({},tt),{method:"PATCH"}))})()}delete(tt){var He=this;return(0,B.Z)(function*(){return He.request(Object.assign(Object.assign({},tt),{method:"DELETE"}))})()}}it("CapacitorHttp",{web:()=>new rt})},3549:(pt,Ze,X)=>{"use strict";X.d(Ze,{k$:()=>E,y$:()=>B});var B=function(O){return O.Heavy="HEAVY",O.Medium="MEDIUM",O.Light="LIGHT",O}(B||{}),E=function(O){return O.Success="SUCCESS",O.Warning="WARNING",O.Error="ERROR",O}(E||{})},2762:(pt,Ze,X)=>{"use strict";X.d(Ze,{L:()=>O,a:()=>R,b:()=>H,c:()=>G,d:()=>ie,g:()=>Xe}),X(3162);const O="ionViewWillEnter",R="ionViewDidEnter",H="ionViewWillLeave",G="ionViewDidLeave",ie="ionViewWillUnload",Xe=De=>De.classList.contains("ion-page")?De:De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||De},3162:(pt,Ze,X)=>{"use strict";X.d(Ze,{a:()=>Ee,c:()=>E,g:()=>ie});class B{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,le){const ze=this.m.get(De);return void 0!==ze?ze:le}getBoolean(De,le=!1){const ze=this.m.get(De);return void 0===ze?le:"string"==typeof ze?"true"===ze:!!ze}getNumber(De,le){const ze=parseFloat(this.m.get(De));return isNaN(ze)?void 0!==le?le:NaN:ze}set(De,le){this.m.set(De,le)}}const E=new B,ie=Xe=>he(Xe),Ee=(Xe,De)=>("string"==typeof Xe&&(De=Xe,Xe=void 0),ie(Xe).includes(De)),he=(Xe=window)=>{if(typeof Xe>"u")return[];Xe.Ionic=Xe.Ionic||{};let De=Xe.Ionic.platforms;return null==De&&(De=Xe.Ionic.platforms=Pe(Xe),De.forEach(le=>Xe.document.documentElement.classList.add(`plt-${le}`))),De},Pe=Xe=>{const De=E.get("platform");return Object.keys(tt).filter(le=>{const ze=De?.[le];return"function"==typeof ze?ze(Xe):tt[le](Xe)})},it=Xe=>!!(Te(Xe,/iPad/i)||Te(Xe,/Macintosh/i)&&ee(Xe)),de=Xe=>Te(Xe,/android|sink/i),ee=Xe=>ht(Xe,"(any-pointer:coarse)"),ne=Xe=>se(Xe)||st(Xe),se=Xe=>!!(Xe.cordova||Xe.phonegap||Xe.PhoneGap),st=Xe=>{const De=Xe.Capacitor;return!!De?.isNative},Te=(Xe,De)=>De.test(Xe.navigator.userAgent),ht=(Xe,De)=>{var le;return null===(le=Xe.matchMedia)||void 0===le?void 0:le.call(Xe,De).matches},tt={ipad:it,iphone:Xe=>Te(Xe,/iPhone/i),ios:Xe=>Te(Xe,/iPhone|iPod/i)||it(Xe),android:de,phablet:Xe=>{const De=Xe.innerWidth,le=Xe.innerHeight,ze=Math.min(De,le),Ve=Math.max(De,le);return ze>390&&ze<520&&Ve>620&&Ve<800},tablet:Xe=>{const De=Xe.innerWidth,le=Xe.innerHeight,ze=Math.min(De,le),Ve=Math.max(De,le);return it(Xe)||(Xe=>de(Xe)&&!Te(Xe,/mobile/i))(Xe)||ze>460&&ze<820&&Ve>780&&Ve<1400},cordova:se,capacitor:st,electron:Xe=>Te(Xe,/electron/i),pwa:Xe=>{var De;return!!(null!==(De=Xe.matchMedia)&&void 0!==De&&De.call(Xe,"(display-mode: standalone)").matches||Xe.navigator.standalone)},mobile:ee,mobileweb:Xe=>ee(Xe)&&!ne(Xe),desktop:Xe=>!ee(Xe),hybrid:ne}},2282:(pt,Ze,X)=>{"use strict";X.d(Ze,{c:()=>R});var B=X(1848);let E;const p=(H,G,ie)=>{const Ee=G.startsWith("animation")?(H=>(void 0===E&&(E=void 0===H.style.animationName&&void 0!==H.style.webkitAnimationName?"-webkit-":""),E))(H):"";H.style.setProperty(Ee+G,ie)},O=(H=[],G)=>{if(void 0!==G){const ie=Array.isArray(G)?G:[G];return[...H,...ie]}return H},R=H=>{let G,ie,Ee,he,Pe,Ie,J,$e,rt,Te,_t,it=[],pe=[],ve=[],de=!1,te={},be=[],ee=[],ae={},ne=0,se=!1,st=!1,ht=!0,tt=!1,He=!0,et=!1;const Xe=H,De=[],le=[],ze=[],Ve=[],Yt=[],Ct=[],bn=[],fn=[],kn=[],un=[],Xn=[],Rn="function"==typeof AnimationEffect||void 0!==B.w&&"function"==typeof B.w.AnimationEffect,dr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Rn,Xr=()=>Xn,en=(jn,vr)=>{const Qr=vr.findIndex(Xs=>Xs.c===jn);Qr>-1&&vr.splice(Qr,1)},qt=(jn,vr)=>((vr?.oneTimeCallback?le:De).push({c:jn,o:vr}),_t),Fn=()=>{dr&&(Xn.forEach(jn=>{jn.cancel()}),Xn.length=0)},zr=()=>{Ct.forEach(jn=>{jn?.parentNode&&jn.parentNode.removeChild(jn)}),Ct.length=0},oe=()=>void 0!==Pe?Pe:J?J.getFill():"both",We=()=>void 0!==$e?$e:void 0!==Ie?Ie:J?J.getDirection():"normal",Mt=()=>se?"linear":void 0!==Ee?Ee:J?J.getEasing():"linear",St=()=>st?0:void 0!==rt?rt:void 0!==ie?ie:J?J.getDuration():0,kt=()=>void 0!==he?he:J?J.getIterations():1,dn=()=>void 0!==Te?Te:void 0!==G?G:J?J.getDelay():0,fr=()=>{0!==ne&&(ne--,0===ne&&((()=>{kn.forEach(hs=>hs()),un.forEach(hs=>hs());const jn=ht?1:0,vr=be,Qr=ee,Xs=ae;Ve.forEach(hs=>{const ps=hs.classList;vr.forEach(Ds=>ps.add(Ds)),Qr.forEach(Ds=>ps.remove(Ds));for(const Ds in Xs)Xs.hasOwnProperty(Ds)&&p(hs,Ds,Xs[Ds])}),rt=void 0,$e=void 0,Te=void 0,De.forEach(hs=>hs.c(jn,_t)),le.forEach(hs=>hs.c(jn,_t)),le.length=0,He=!0,ht&&(tt=!0),ht=!0})(),J&&J.animationFinish()))},lr=()=>{(()=>{bn.forEach(Xs=>Xs()),fn.forEach(Xs=>Xs());const jn=pe,vr=ve,Qr=te;Ve.forEach(Xs=>{const hs=Xs.classList;jn.forEach(ps=>hs.add(ps)),vr.forEach(ps=>hs.remove(ps));for(const ps in Qr)Qr.hasOwnProperty(ps)&&p(Xs,ps,Qr[ps])})})(),it.length>0&&dr&&(Ve.forEach(jn=>{const vr=jn.animate(it,{id:Xe,delay:dn(),duration:St(),easing:Mt(),iterations:kt(),fill:oe(),direction:We()});vr.pause(),Xn.push(vr)}),Xn.length>0&&(Xn[0].onfinish=()=>{fr()})),de=!0},hr=jn=>{jn=Math.min(Math.max(jn,0),.9999),dr&&Xn.forEach(vr=>{vr.currentTime=vr.effect.getComputedTiming().delay+St()*jn,vr.pause()})},Wr=jn=>{Xn.forEach(vr=>{vr.effect.updateTiming({delay:dn(),duration:St(),easing:Mt(),iterations:kt(),fill:oe(),direction:We()})}),void 0!==jn&&hr(jn)},Ir=(jn=!1,vr=!0,Qr)=>(jn&&Yt.forEach(Xs=>{Xs.update(jn,vr,Qr)}),dr&&Wr(Qr),_t),mi=()=>{de&&(dr?Xn.forEach(jn=>{jn.pause()}):Ve.forEach(jn=>{p(jn,"animation-play-state","paused")}),et=!0)},no=jn=>new Promise(vr=>{jn?.sync&&(st=!0,qt(()=>st=!1,{oneTimeCallback:!0})),de||lr(),tt&&(dr&&(hr(0),Wr()),tt=!1),He&&(ne=Yt.length+1,He=!1);const Qr=()=>{en(Xs,le),vr()},Xs=()=>{en(Qr,ze),vr()};qt(Xs,{oneTimeCallback:!0}),((jn,vr)=>{ze.push({c:jn,o:{oneTimeCallback:!0}})})(Qr),Yt.forEach(hs=>{hs.play()}),dr?(Xn.forEach(jn=>{jn.play()}),(0===it.length||0===Ve.length)&&fr()):fr(),et=!1}),Ns=(jn,vr)=>{const Qr=it[0];return void 0===Qr||void 0!==Qr.offset&&0!==Qr.offset?it=[{offset:0,[jn]:vr},...it]:Qr[jn]=vr,_t};return _t={parentAnimation:J,elements:Ve,childAnimations:Yt,id:Xe,animationFinish:fr,from:Ns,to:(jn,vr)=>{const Qr=it[it.length-1];return void 0===Qr||void 0!==Qr.offset&&1!==Qr.offset?it=[...it,{offset:1,[jn]:vr}]:Qr[jn]=vr,_t},fromTo:(jn,vr,Qr)=>Ns(jn,vr).to(jn,Qr),parent:jn=>(J=jn,_t),play:no,pause:()=>(Yt.forEach(jn=>{jn.pause()}),mi(),_t),stop:()=>{Yt.forEach(jn=>{jn.stop()}),de&&(Fn(),de=!1),se=!1,st=!1,He=!0,$e=void 0,rt=void 0,Te=void 0,ne=0,tt=!1,ht=!0,et=!1,ze.forEach(jn=>jn.c(0,_t)),ze.length=0},destroy:jn=>(Yt.forEach(vr=>{vr.destroy(jn)}),(jn=>{Fn(),jn&&zr()})(jn),Ve.length=0,Yt.length=0,it.length=0,De.length=0,le.length=0,de=!1,He=!0,_t),keyframes:jn=>{const vr=it!==jn;return it=jn,vr&&(jn=>{dr&&Xr().forEach(vr=>{const Qr=vr.effect;if(Qr.setKeyframes)Qr.setKeyframes(jn);else{const Xs=new KeyframeEffect(Qr.target,jn,Qr.getTiming());vr.effect=Xs}})})(it),_t},addAnimation:jn=>{if(null!=jn)if(Array.isArray(jn))for(const vr of jn)vr.parent(_t),Yt.push(vr);else jn.parent(_t),Yt.push(jn);return _t},addElement:jn=>{if(null!=jn)if(1===jn.nodeType)Ve.push(jn);else if(jn.length>=0)for(let vr=0;vr<jn.length;vr++)Ve.push(jn[vr]);else console.error("Invalid addElement value");return _t},update:Ir,fill:jn=>(Pe=jn,Ir(!0),_t),direction:jn=>(Ie=jn,Ir(!0),_t),iterations:jn=>(he=jn,Ir(!0),_t),duration:jn=>(!dr&&0===jn&&(jn=1),ie=jn,Ir(!0),_t),easing:jn=>(Ee=jn,Ir(!0),_t),delay:jn=>(G=jn,Ir(!0),_t),getWebAnimations:Xr,getKeyframes:()=>it,getFill:oe,getDirection:We,getDelay:dn,getIterations:kt,getEasing:Mt,getDuration:St,afterAddRead:jn=>(kn.push(jn),_t),afterAddWrite:jn=>(un.push(jn),_t),afterClearStyles:(jn=[])=>{for(const vr of jn)ae[vr]="";return _t},afterStyles:(jn={})=>(ae=jn,_t),afterRemoveClass:jn=>(ee=O(ee,jn),_t),afterAddClass:jn=>(be=O(be,jn),_t),beforeAddRead:jn=>(bn.push(jn),_t),beforeAddWrite:jn=>(fn.push(jn),_t),beforeClearStyles:(jn=[])=>{for(const vr of jn)te[vr]="";return _t},beforeStyles:(jn={})=>(te=jn,_t),beforeRemoveClass:jn=>(ve=O(ve,jn),_t),beforeAddClass:jn=>(pe=O(pe,jn),_t),onFinish:qt,isRunning:()=>0!==ne&&!et,progressStart:(jn=!1,vr)=>(Yt.forEach(Qr=>{Qr.progressStart(jn,vr)}),mi(),se=jn,de||lr(),Ir(!1,!0,vr),_t),progressStep:jn=>(Yt.forEach(vr=>{vr.progressStep(jn)}),hr(jn),_t),progressEnd:(jn,vr,Qr)=>(se=!1,Yt.forEach(Xs=>{Xs.progressEnd(jn,vr,Qr)}),void 0!==Qr&&(rt=Qr),tt=!1,ht=!0,0===jn?($e="reverse"===We()?"normal":"reverse","reverse"===$e&&(ht=!1),dr?(Ir(),hr(1-vr)):(Te=(1-vr)*St()*-1,Ir(!1,!1))):1===jn&&(dr?(Ir(),hr(vr)):(Te=vr*St()*-1,Ir(!1,!1))),void 0!==jn&&!J&&no(),_t)}}},8958:(pt,Ze,X)=>{"use strict";X.d(Ze,{E:()=>Ee,a:()=>B,s:()=>G});const B=he=>{try{if(he instanceof H)return he.value;if(!p()||"string"!=typeof he||""===he)return he;if(he.includes("onload="))return"";const Pe=document.createDocumentFragment(),Ie=document.createElement("div");Pe.appendChild(Ie),Ie.innerHTML=he,R.forEach(de=>{const J=Pe.querySelectorAll(de);for(let te=J.length-1;te>=0;te--){const be=J[te];be.parentNode?be.parentNode.removeChild(be):Pe.removeChild(be);const ee=z(be);for(let ae=0;ae<ee.length;ae++)E(ee[ae])}});const it=z(Pe);for(let de=0;de<it.length;de++)E(it[de]);const pe=document.createElement("div");pe.appendChild(Pe);const ve=pe.querySelector("div");return null!==ve?ve.innerHTML:pe.innerHTML}catch(Pe){return console.error(Pe),""}},E=he=>{if(he.nodeType&&1!==he.nodeType)return;if(typeof NamedNodeMap<"u"&&!(he.attributes instanceof NamedNodeMap))return void he.remove();for(let Ie=he.attributes.length-1;Ie>=0;Ie--){const it=he.attributes.item(Ie),pe=it.name;if(!O.includes(pe.toLowerCase())){he.removeAttribute(pe);continue}const ve=it.value,de=he[pe];(null!=ve&&ve.toLowerCase().includes("javascript:")||null!=de&&de.toLowerCase().includes("javascript:"))&&he.removeAttribute(pe)}const Pe=z(he);for(let Ie=0;Ie<Pe.length;Ie++)E(Pe[Ie])},z=he=>null!=he.children?he.children:he.childNodes,p=()=>{var he;const Pe=window,Ie=null===(he=Pe?.Ionic)||void 0===he?void 0:he.config;return!Ie||(Ie.get?Ie.get("sanitizerEnabled",!0):!0===Ie.sanitizerEnabled||void 0===Ie.sanitizerEnabled)},O=["class","id","href","src","name","slot"],R=["script","style","iframe","meta","link","object","embed"];class H{constructor(Pe){this.value=Pe}}const G=he=>{const Pe=window,Ie=Pe.Ionic;if(!Ie||!Ie.config||"Object"===Ie.config.constructor.name)return Pe.Ionic=Pe.Ionic||{},Pe.Ionic.config=Object.assign(Object.assign({},Pe.Ionic.config),he),Pe.Ionic.config},Ee=!1},4813:(pt,Ze,X)=>{"use strict";X.d(Ze,{C:()=>O,a:()=>z,d:()=>p});var B=X(5861),E=X(4298);const z=function(){var R=(0,B.Z)(function*(H,G,ie,Ee,he,Pe){var Ie;if(H)return H.attachViewToDom(G,ie,he,Ee);if(!(Pe||"string"==typeof ie||ie instanceof HTMLElement))throw new Error("framework delegate is missing");const it="string"==typeof ie?null===(Ie=G.ownerDocument)||void 0===Ie?void 0:Ie.createElement(ie):ie;return Ee&&Ee.forEach(pe=>it.classList.add(pe)),he&&Object.assign(it,he),G.appendChild(it),yield new Promise(pe=>(0,E.c)(it,pe)),it});return function(G,ie,Ee,he,Pe,Ie){return R.apply(this,arguments)}}(),p=(R,H)=>{if(H){if(R)return R.removeViewFromDom(H.parentElement,H);H.remove()}return Promise.resolve()},O=()=>{let R,H;return{attachViewToDom:function(){var Ee=(0,B.Z)(function*(he,Pe,Ie={},it=[]){var pe,ve;let de;if(R=he,Pe){const te="string"==typeof Pe?null===(pe=R.ownerDocument)||void 0===pe?void 0:pe.createElement(Pe):Pe;it.forEach(be=>te.classList.add(be)),Object.assign(te,Ie),R.appendChild(te),de=te,yield new Promise(be=>(0,E.c)(te,be))}else if(R.children.length>0&&("ION-MODAL"===R.tagName||"ION-POPOVER"===R.tagName)&&!(de=R.children[0]).classList.contains("ion-delegate-host")){const be=null===(ve=R.ownerDocument)||void 0===ve?void 0:ve.createElement("div");be.classList.add("ion-delegate-host"),it.forEach(ee=>be.classList.add(ee)),be.append(...R.children),R.appendChild(be),de=be}const J=document.querySelector("ion-app")||document.body;return H=document.createComment("ionic teleport"),R.parentNode.insertBefore(H,R),J.appendChild(R),de??R});return function(Pe,Ie){return Ee.apply(this,arguments)}}(),removeViewFromDom:()=>(R&&H&&(H.parentNode.insertBefore(R,H),H.remove()),Promise.resolve())}}},4089:(pt,Ze,X)=>{"use strict";X.d(Ze,{B:()=>p,G:()=>O});class E{constructor(H,G,ie,Ee,he){this.id=G,this.name=ie,this.disableScroll=he,this.priority=1e6*Ee+G,this.ctrl=H}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const H=this.ctrl.capture(this.name,this.id,this.priority);return H&&this.disableScroll&&this.ctrl.disableScroll(this.id),H}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class z{constructor(H,G,ie,Ee){this.id=G,this.disable=ie,this.disableScroll=Ee,this.ctrl=H}block(){if(this.ctrl){if(this.disable)for(const H of this.disable)this.ctrl.disableGesture(H,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const H of this.disable)this.ctrl.enableGesture(H,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const p="backdrop-no-scroll",O=new class B{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(H){var G;return new E(this,this.newID(),H.name,null!==(G=H.priority)&&void 0!==G?G:0,!!H.disableScroll)}createBlocker(H={}){return new z(this,this.newID(),H.disable,!!H.disableScroll)}start(H,G,ie){return this.canStart(H)?(this.requestedStart.set(G,ie),!0):(this.requestedStart.delete(G),!1)}capture(H,G,ie){if(!this.start(H,G,ie))return!1;const Ee=this.requestedStart;let he=-1e4;if(Ee.forEach(Pe=>{he=Math.max(he,Pe)}),he===ie){this.capturedId=G,Ee.clear();const Pe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:H}});return document.dispatchEvent(Pe),!0}return Ee.delete(G),!1}release(H){this.requestedStart.delete(H),this.capturedId===H&&(this.capturedId=void 0)}disableGesture(H,G){let ie=this.disabledGestures.get(H);void 0===ie&&(ie=new Set,this.disabledGestures.set(H,ie)),ie.add(G)}enableGesture(H,G){const ie=this.disabledGestures.get(H);void 0!==ie&&ie.delete(G)}disableScroll(H){this.disabledScroll.add(H),1===this.disabledScroll.size&&document.body.classList.add(p)}enableScroll(H){this.disabledScroll.delete(H),0===this.disabledScroll.size&&document.body.classList.remove(p)}canStart(H){return!(void 0!==this.capturedId||this.isDisabled(H))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(H){const G=this.disabledGestures.get(H);return!!(G&&G.size>0)}newID(){return this.gestureId++,this.gestureId}}},4309:(pt,Ze,X)=>{"use strict";X.r(Ze),X.d(Ze,{MENU_BACK_BUTTON_PRIORITY:()=>ie,OVERLAY_BACK_BUTTON_PRIORITY:()=>G,blockHardwareBackButton:()=>R,shouldUseCloseWatcher:()=>O,startHardwareBackButton:()=>H});var B=X(5861),E=X(1848),z=X(5303);X(4063);const O=()=>z.c.get("experimentalCloseWatcher",!1)&&void 0!==E.w&&"CloseWatcher"in E.w,R=()=>{document.addEventListener("backbutton",()=>{})},H=()=>{const Ee=document;let he=!1;const Pe=()=>{if(he)return;let Ie=0,it=[];const pe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(J,te){it.push({priority:J,handler:te,id:Ie++})}}});Ee.dispatchEvent(pe);const ve=function(){var J=(0,B.Z)(function*(te){try{if(te?.handler){const be=te.handler(de);null!=be&&(yield be)}}catch(be){console.error(be)}});return function(be){return J.apply(this,arguments)}}(),de=()=>{if(it.length>0){let J={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};it.forEach(te=>{te.priority>=J.priority&&(J=te)}),he=!0,it=it.filter(te=>te.id!==J.id),ve(J).then(()=>he=!1)}};de()};if(O()){let Ie;const it=()=>{Ie?.destroy(),Ie=new E.w.CloseWatcher,Ie.onclose=()=>{Pe(),it()}};it()}else Ee.addEventListener("backbutton",Pe)},G=100,ie=99},4298:(pt,Ze,X)=>{"use strict";X.d(Ze,{a:()=>G,b:()=>ie,c:()=>z,d:()=>it,e:()=>te,f:()=>Ie,g:()=>Ee,h:()=>O,i:()=>H,j:()=>pe,k:()=>p,l:()=>Pe,m:()=>ve,n:()=>J,o:()=>be,p:()=>de,r:()=>he,s:()=>ee,t:()=>B});const B=(ae,ne=0)=>new Promise(se=>{E(ae,ne,se)}),E=(ae,ne=0,se)=>{let st,$e;const rt={passive:!0},ht=()=>{st&&st()},tt=He=>{(void 0===He||ae===He.target)&&(ht(),se(He))};return ae&&(ae.addEventListener("webkitTransitionEnd",tt,rt),ae.addEventListener("transitionend",tt,rt),$e=setTimeout(tt,ne+500),st=()=>{void 0!==$e&&(clearTimeout($e),$e=void 0),ae.removeEventListener("webkitTransitionEnd",tt,rt),ae.removeEventListener("transitionend",tt,rt)}),ht},z=(ae,ne)=>{ae.componentOnReady?ae.componentOnReady().then(se=>ne(se)):he(()=>ne(ae))},p=ae=>void 0!==ae.componentOnReady,O=(ae,ne=[])=>{const se={};return ne.forEach(st=>{ae.hasAttribute(st)&&(null!==ae.getAttribute(st)&&(se[st]=ae.getAttribute(st)),ae.removeAttribute(st))}),se},R=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],H=(ae,ne)=>{let se=R;return ne&&ne.length>0&&(se=se.filter(st=>!ne.includes(st))),O(ae,se)},G=(ae,ne,se,st)=>{var $e;if(typeof window<"u"){const rt=window,Te=null===($e=rt?.Ionic)||void 0===$e?void 0:$e.config;if(Te){const ht=Te.get("_ael");if(ht)return ht(ae,ne,se,st);if(Te._ael)return Te._ael(ae,ne,se,st)}}return ae.addEventListener(ne,se,st)},ie=(ae,ne,se,st)=>{var $e;if(typeof window<"u"){const rt=window,Te=null===($e=rt?.Ionic)||void 0===$e?void 0:$e.config;if(Te){const ht=Te.get("_rel");if(ht)return ht(ae,ne,se,st);if(Te._rel)return Te._rel(ae,ne,se,st)}}return ae.removeEventListener(ne,se,st)},Ee=(ae,ne=ae)=>ae.shadowRoot||ne,he=ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):setTimeout(ae),Pe=ae=>!!ae.shadowRoot&&!!ae.attachShadow,Ie=ae=>{if(ae.focus(),ae.classList.contains("ion-focusable")){const ne=ae.closest("ion-app");ne&&ne.setFocus([ae])}},it=(ae,ne,se,st,$e)=>{if(ae||Pe(ne)){let rt=ne.querySelector("input.aux-input");rt||(rt=ne.ownerDocument.createElement("input"),rt.type="hidden",rt.classList.add("aux-input"),ne.appendChild(rt)),rt.disabled=$e,rt.name=se,rt.value=st||""}},pe=(ae,ne,se)=>Math.max(ae,Math.min(ne,se)),ve=(ae,ne)=>{if(!ae){const se="ASSERT: "+ne;throw console.error(se),new Error(se)}},de=ae=>{if(ae){const ne=ae.changedTouches;if(ne&&ne.length>0){const se=ne[0];return{x:se.clientX,y:se.clientY}}if(void 0!==ae.pageX)return{x:ae.pageX,y:ae.pageY}}return{x:0,y:0}},J=ae=>{const ne="rtl"===document.dir;switch(ae){case"start":return ne;case"end":return!ne;default:throw new Error(`"${ae}" is not a valid value for [side]. Use "start" or "end" instead.`)}},te=(ae,ne)=>{const se=ae._original||ae;return{_original:ae,emit:be(se.emit.bind(se),ne)}},be=(ae,ne=0)=>{let se;return(...st)=>{clearTimeout(se),se=setTimeout(ae,ne,...st)}},ee=(ae,ne)=>{if(ae??(ae={}),ne??(ne={}),ae===ne)return!0;const se=Object.keys(ae);if(se.length!==Object.keys(ne).length)return!1;for(const st of se)if(!(st in ne)||ae[st]!==ne[st])return!1;return!0}},1981:(pt,Ze,X)=>{"use strict";X.r(Ze),X.d(Ze,{GESTURE_CONTROLLER:()=>B.G,createGesture:()=>ie});var B=X(4089);const E=(Ie,it,pe,ve)=>{const de=z(Ie)?{capture:!!ve.capture,passive:!!ve.passive}:!!ve.capture;let J,te;return Ie.__zone_symbol__addEventListener?(J="__zone_symbol__addEventListener",te="__zone_symbol__removeEventListener"):(J="addEventListener",te="removeEventListener"),Ie[J](it,pe,de),()=>{Ie[te](it,pe,de)}},z=Ie=>{if(void 0===p)try{const it=Object.defineProperty({},"passive",{get:()=>{p=!0}});Ie.addEventListener("optsTest",()=>{},it)}catch{p=!1}return!!p};let p;const H=Ie=>Ie instanceof Document?Ie:Ie.ownerDocument,ie=Ie=>{let it=!1,pe=!1,ve=!0,de=!1;const J=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ie),te=J.canStart,be=J.onWillStart,ee=J.onStart,ae=J.onEnd,ne=J.notCaptured,se=J.onMove,st=J.threshold,$e=J.passive,rt=J.blurOnStart,Te={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ht=((Ie,it,pe)=>{const ve=pe*(Math.PI/180),de="x"===Ie,J=Math.cos(ve),te=it*it;let be=0,ee=0,ae=!1,ne=0;return{start(se,st){be=se,ee=st,ne=0,ae=!0},detect(se,st){if(!ae)return!1;const $e=se-be,rt=st-ee,Te=$e*$e+rt*rt;if(Te<te)return!1;const ht=Math.sqrt(Te),tt=(de?$e:rt)/ht;return ne=tt>J?1:tt<-J?-1:0,ae=!1,!0},isGesture:()=>0!==ne,getDirection:()=>ne}})(J.direction,J.threshold,J.maxAngle),tt=B.G.createGesture({name:Ie.gestureName,priority:Ie.gesturePriority,disableScroll:Ie.disableScroll}),et=()=>{it&&(de=!1,se&&se(Te))},Xe=()=>!!tt.capture()&&(it=!0,ve=!1,Te.startX=Te.currentX,Te.startY=Te.currentY,Te.startTime=Te.currentTime,be?be(Te).then(le):le(),!0),le=()=>{rt&&(()=>{if(typeof document<"u"){const bn=document.activeElement;bn?.blur&&bn.blur()}})(),ee&&ee(Te),ve=!0},ze=()=>{it=!1,pe=!1,de=!1,ve=!0,tt.release()},Ve=bn=>{const fn=it,kn=ve;if(ze(),kn){if(Ee(Te,bn),fn)return void(ae&&ae(Te));ne&&ne(Te)}},Yt=((Ie,it,pe,ve,de)=>{let J,te,be,ee,ae,ne,se,st=0;const $e=De=>{st=Date.now()+2e3,it(De)&&(!te&&pe&&(te=E(Ie,"touchmove",pe,de)),be||(be=E(De.target,"touchend",Te,de)),ee||(ee=E(De.target,"touchcancel",Te,de)))},rt=De=>{st>Date.now()||it(De)&&(!ne&&pe&&(ne=E(H(Ie),"mousemove",pe,de)),se||(se=E(H(Ie),"mouseup",ht,de)))},Te=De=>{tt(),ve&&ve(De)},ht=De=>{He(),ve&&ve(De)},tt=()=>{te&&te(),be&&be(),ee&&ee(),te=be=ee=void 0},He=()=>{ne&&ne(),se&&se(),ne=se=void 0},_t=()=>{tt(),He()},et=(De=!0)=>{De?(J||(J=E(Ie,"touchstart",$e,de)),ae||(ae=E(Ie,"mousedown",rt,de))):(J&&J(),ae&&ae(),J=ae=void 0,_t())};return{enable:et,stop:_t,destroy:()=>{et(!1),ve=pe=it=void 0}}})(J.el,bn=>{const fn=Pe(bn);return!(pe||!ve||(he(bn,Te),Te.startX=Te.currentX,Te.startY=Te.currentY,Te.startTime=Te.currentTime=fn,Te.velocityX=Te.velocityY=Te.deltaX=Te.deltaY=0,Te.event=bn,te&&!1===te(Te))||(tt.release(),!tt.start()))&&(pe=!0,0===st?Xe():(ht.start(Te.startX,Te.startY),!0))},bn=>{it?!de&&ve&&(de=!0,Ee(Te,bn),requestAnimationFrame(et)):(Ee(Te,bn),ht.detect(Te.currentX,Te.currentY)&&(!ht.isGesture()||!Xe())&&Ct())},Ve,{capture:!1,passive:$e}),Ct=()=>{ze(),Yt.stop(),ne&&ne(Te)};return{enable(bn=!0){bn||(it&&Ve(void 0),ze()),Yt.enable(bn)},destroy(){tt.destroy(),Yt.destroy()}}},Ee=(Ie,it)=>{if(!it)return;const pe=Ie.currentX,ve=Ie.currentY,de=Ie.currentTime;he(it,Ie);const J=Ie.currentX,te=Ie.currentY,ee=(Ie.currentTime=Pe(it))-de;if(ee>0&&ee<100){const ne=(te-ve)/ee;Ie.velocityX=(J-pe)/ee*.7+.3*Ie.velocityX,Ie.velocityY=.7*ne+.3*Ie.velocityY}Ie.deltaX=J-Ie.startX,Ie.deltaY=te-Ie.startY,Ie.event=it},he=(Ie,it)=>{let pe=0,ve=0;if(Ie){const de=Ie.changedTouches;if(de&&de.length>0){const J=de[0];pe=J.clientX,ve=J.clientY}else void 0!==Ie.pageX&&(pe=Ie.pageX,ve=Ie.pageY)}it.currentX=pe,it.currentY=ve},Pe=Ie=>Ie.timeStamp||Date.now()},8138:(pt,Ze,X)=>{"use strict";X.d(Ze,{m:()=>Ie});var B=X(5861),E=X(1848),z=X(4309),p=X(2400),O=X(4298),R=X(5303),H=X(2282);const G=it=>(0,H.c)().duration(it?400:300),ie=it=>{let pe,ve;const de=it.width+8,J=(0,H.c)(),te=(0,H.c)();it.isEndSide?(pe=de+"px",ve="0px"):(pe=-de+"px",ve="0px"),J.addElement(it.menuInnerEl).fromTo("transform",`translateX(${pe})`,`translateX(${ve})`);const ee="ios"===(0,R.b)(it),ae=ee?.2:.25;return te.addElement(it.backdropEl).fromTo("opacity",.01,ae),G(ee).addAnimation([J,te])},Ee=it=>{let pe,ve;const de=(0,R.b)(it),J=it.width;it.isEndSide?(pe=-J+"px",ve=J+"px"):(pe=J+"px",ve=-J+"px");const te=(0,H.c)().addElement(it.menuInnerEl).fromTo("transform",`translateX(${ve})`,"translateX(0px)"),be=(0,H.c)().addElement(it.contentEl).fromTo("transform","translateX(0px)",`translateX(${pe})`),ee=(0,H.c)().addElement(it.backdropEl).fromTo("opacity",.01,.32);return G("ios"===de).addAnimation([te,be,ee])},he=it=>{const pe=(0,R.b)(it),ve=it.width*(it.isEndSide?-1:1)+"px",de=(0,H.c)().addElement(it.contentEl).fromTo("transform","translateX(0px)",`translateX(${ve})`);return G("ios"===pe).addAnimation(de)},Ie=(()=>{const it=new Map,pe=[],ve=function(){var ze=(0,B.Z)(function*(Ve){const Yt=yield ne(Ve,!0);return!!Yt&&Yt.open()});return function(Yt){return ze.apply(this,arguments)}}(),de=function(){var ze=(0,B.Z)(function*(Ve){const Yt=yield void 0!==Ve?ne(Ve,!0):se();return void 0!==Yt&&Yt.close()});return function(Yt){return ze.apply(this,arguments)}}(),J=function(){var ze=(0,B.Z)(function*(Ve){const Yt=yield ne(Ve,!0);return!!Yt&&Yt.toggle()});return function(Yt){return ze.apply(this,arguments)}}(),te=function(){var ze=(0,B.Z)(function*(Ve,Yt){const Ct=yield ne(Yt);return Ct&&(Ct.disabled=!Ve),Ct});return function(Yt,Ct){return ze.apply(this,arguments)}}(),be=function(){var ze=(0,B.Z)(function*(Ve,Yt){const Ct=yield ne(Yt);return Ct&&(Ct.swipeGesture=Ve),Ct});return function(Yt,Ct){return ze.apply(this,arguments)}}(),ee=function(){var ze=(0,B.Z)(function*(Ve){if(null!=Ve){const Yt=yield ne(Ve);return void 0!==Yt&&Yt.isOpen()}return void 0!==(yield se())});return function(Yt){return ze.apply(this,arguments)}}(),ae=function(){var ze=(0,B.Z)(function*(Ve){const Yt=yield ne(Ve);return!!Yt&&!Yt.disabled});return function(Yt){return ze.apply(this,arguments)}}(),ne=function(){var ze=(0,B.Z)(function*(Ve,Yt=!1){if(yield le(),"start"===Ve||"end"===Ve){const bn=pe.filter(kn=>kn.side===Ve&&!kn.disabled);if(bn.length>=1)return bn.length>1&&Yt&&(0,p.p)(`menuController queried for a menu on the "${Ve}" side, but ${bn.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,bn.map(kn=>kn.el)),bn[0].el;const fn=pe.filter(kn=>kn.side===Ve);if(fn.length>=1)return fn.length>1&&Yt&&(0,p.p)(`menuController queried for a menu on the "${Ve}" side, but ${fn.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,fn.map(kn=>kn.el)),fn[0].el}else if(null!=Ve)return De(bn=>bn.menuId===Ve);return De(bn=>!bn.disabled)||(pe.length>0?pe[0].el:void 0)});return function(Yt){return ze.apply(this,arguments)}}(),se=function(){var ze=(0,B.Z)(function*(){return yield le(),_t()});return function(){return ze.apply(this,arguments)}}(),st=function(){var ze=(0,B.Z)(function*(){return yield le(),et()});return function(){return ze.apply(this,arguments)}}(),$e=function(){var ze=(0,B.Z)(function*(){return yield le(),Xe()});return function(){return ze.apply(this,arguments)}}(),rt=(ze,Ve)=>{it.set(ze,Ve)},tt=function(){var ze=(0,B.Z)(function*(Ve,Yt,Ct){if(Xe())return!1;if(Yt){const bn=yield se();bn&&Ve.el!==bn&&(yield bn.setOpen(!1,!1))}return Ve._setOpen(Yt,Ct)});return function(Yt,Ct,bn){return ze.apply(this,arguments)}}(),_t=()=>De(ze=>ze._isOpen),et=()=>pe.map(ze=>ze.el),Xe=()=>pe.some(ze=>ze.isAnimating),De=ze=>{const Ve=pe.find(ze);if(void 0!==Ve)return Ve.el},le=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ze=>new Promise(Ve=>(0,O.c)(ze,Ve))));return rt("reveal",he),rt("push",Ee),rt("overlay",ie),null==E.d||E.d.addEventListener("ionBackButton",ze=>{const Ve=_t();Ve&&ze.detail.register(z.MENU_BACK_BUTTON_PRIORITY,()=>Ve.close())}),{registerAnimation:rt,get:ne,getMenus:st,getOpen:se,isEnabled:ae,swipeGesture:be,isAnimating:$e,isOpen:ee,enable:te,toggle:J,close:de,open:ve,_getOpenSync:_t,_createAnimation:(ze,Ve)=>{const Yt=it.get(ze);if(!Yt)throw new Error("animation not registered");return Yt(Ve)},_register:ze=>{pe.indexOf(ze)<0&&pe.push(ze)},_unregister:ze=>{const Ve=pe.indexOf(ze);Ve>-1&&pe.splice(Ve,1)},_setOpen:tt}})()},4063:(pt,Ze,X)=>{"use strict";X.d(Ze,{B:()=>R,a:()=>He,b:()=>Ao,c:()=>oe,d:()=>kt,e:()=>kn,f:()=>is,g:()=>We,h:()=>ai,i:()=>St,j:()=>rr,k:()=>Xn,r:()=>ie,w:()=>un});var B=X(5861);var p=Object.defineProperty,R={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},H=new WeakMap,G=Be=>H.get(Be),ie=(Be,at)=>H.set(at.$lazyInstance$=Be,at),he=(Be,at)=>at in Be,Pe=(Be,at)=>(0,console.error)(Be,at),Ie=new Map,pe=new Map,ve=[],ee="s-id",ae="sty-id",st="slot-fb{display:contents}slot-fb[hidden]{display:none}",$e="http://www.w3.org/1999/xlink",rt=typeof window<"u"?window:{},Te=rt.document||{head:{}},tt={$flags$:0,$resourcesUrl$:"",jmp:Be=>Be(),raf:Be=>requestAnimationFrame(Be),ael:(Be,at,zt,At)=>Be.addEventListener(at,zt,At),rel:(Be,at,zt,At)=>Be.removeEventListener(at,zt,At),ce:(Be,at)=>new CustomEvent(Be,at)},He=Be=>{Object.assign(tt,Be)},et=(()=>{let Be=!1;try{Te.addEventListener("e",null,Object.defineProperty({},"passive",{get(){Be=!0}}))}catch{}return Be})(),De=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),le=!1,ze=[],Ve=[],Yt=(Be,at)=>zt=>{Be.push(zt),le||(le=!0,at&&4&tt.$flags$?fn(bn):tt.raf(bn))},Ct=Be=>{for(let at=0;at<Be.length;at++)try{Be[at](performance.now())}catch(zt){Pe(zt)}Be.length=0},bn=()=>{Ct(ze),Ct(Ve),(le=ze.length>0)&&tt.raf(bn)},fn=Be=>Promise.resolve(void 0).then(Be),kn=Yt(ze,!1),un=Yt(Ve,!0),Xn=Be=>{const at=new URL(Be,tt.$resourcesUrl$);return at.origin!==rt.location.origin?at.href:at.pathname},Rn={},ir=Be=>"object"==(Be=typeof Be)||"function"===Be;function xr(Be){var at,zt,At;return null!=(At=null==(zt=null==(at=Be.head)?void 0:at.querySelector('meta[name="csp-nonce"]'))?void 0:zt.getAttribute("content"))?At:void 0}((Be,at)=>{for(var zt in at)p(Be,zt,{get:at[zt],enumerable:!0})})({},{err:()=>Wn,map:()=>qt,ok:()=>en,unwrap:()=>rn,unwrapErr:()=>Fn});var en=Be=>({isOk:!0,isErr:!1,value:Be}),Wn=Be=>({isOk:!1,isErr:!0,value:Be});function qt(Be,at){if(Be.isOk){const zt=at(Be.value);return zt instanceof Promise?zt.then(At=>en(At)):en(zt)}if(Be.isErr)return Wn(Be.value);throw"should never get here"}var rn=Be=>{if(Be.isOk)return Be.value;throw Be.value},Fn=Be=>{if(Be.isErr)return Be.value;throw Be.value},ai=(Be,at,...zt)=>{let At=null,an=null,ln=null,or=!1,_n=!1;const Jn=[],nr=Rr=>{for(let ri=0;ri<Rr.length;ri++)At=Rr[ri],Array.isArray(At)?nr(At):null!=At&&"boolean"!=typeof At&&((or="function"!=typeof Be&&!ir(At))&&(At=String(At)),or&&_n?Jn[Jn.length-1].$text$+=At:Jn.push(or?Zn(null,At):At),_n=or)};if(nr(zt),at){at.key&&(an=at.key),at.name&&(ln=at.name);{const Rr=at.className||at.class;Rr&&(at.class="object"!=typeof Rr?Rr:Object.keys(Rr).filter(ri=>Rr[ri]).join(" "))}}if("function"==typeof Be)return Be(null===at?{}:at,Jn,Nr);const br=Zn(Be,null);return br.$attrs$=at,Jn.length>0&&(br.$children$=Jn),br.$key$=an,br.$name$=ln,br},Zn=(Be,at)=>({$flags$:0,$tag$:Be,$text$:at,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),is={},Nr={forEach:(Be,at)=>Be.map(Dn).forEach(at),map:(Be,at)=>Be.map(Dn).map(at).map(nn)},Dn=Be=>({vattrs:Be.$attrs$,vchildren:Be.$children$,vkey:Be.$key$,vname:Be.$name$,vtag:Be.$tag$,vtext:Be.$text$}),nn=Be=>{if("function"==typeof Be.vtag){const zt={...Be.vattrs};return Be.vkey&&(zt.key=Be.vkey),Be.vname&&(zt.name=Be.vname),ai(Be.vtag,zt,...Be.vchildren||[])}const at=Zn(Be.vtag,Be.vtext);return at.$attrs$=Be.vattrs,at.$children$=Be.vchildren,at.$key$=Be.vkey,at.$name$=Be.vname,at},Ge=(Be,at,zt,At,an,ln,or)=>{let _n,Jn,nr,br;if(1===ln.nodeType){for(_n=ln.getAttribute("c-id"),_n&&(Jn=_n.split("."),(Jn[0]===or||"0"===Jn[0])&&(nr={$flags$:0,$hostId$:Jn[0],$nodeId$:Jn[1],$depth$:Jn[2],$index$:Jn[3],$tag$:ln.tagName.toLowerCase(),$elm$:ln,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},at.push(nr),ln.removeAttribute("c-id"),Be.$children$||(Be.$children$=[]),Be.$children$[nr.$index$]=nr,Be=nr,At&&"0"===nr.$depth$&&(At[nr.$index$]=nr.$elm$))),br=ln.childNodes.length-1;br>=0;br--)Ge(Be,at,zt,At,an,ln.childNodes[br],or);if(ln.shadowRoot)for(br=ln.shadowRoot.childNodes.length-1;br>=0;br--)Ge(Be,at,zt,At,an,ln.shadowRoot.childNodes[br],or)}else if(8===ln.nodeType)Jn=ln.nodeValue.split("."),(Jn[1]===or||"0"===Jn[1])&&(_n=Jn[0],nr={$flags$:0,$hostId$:Jn[1],$nodeId$:Jn[2],$depth$:Jn[3],$index$:Jn[4],$elm$:ln,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===_n?(nr.$elm$=ln.nextSibling,nr.$elm$&&3===nr.$elm$.nodeType&&(nr.$text$=nr.$elm$.textContent,at.push(nr),ln.remove(),Be.$children$||(Be.$children$=[]),Be.$children$[nr.$index$]=nr,At&&"0"===nr.$depth$&&(At[nr.$index$]=nr.$elm$))):nr.$hostId$===or&&("s"===_n?(nr.$tag$="slot",ln["s-sn"]=Jn[5]?nr.$name$=Jn[5]:"",ln["s-sr"]=!0,At&&(nr.$elm$=Te.createElement(nr.$tag$),nr.$name$&&nr.$elm$.setAttribute("name",nr.$name$),ln.parentNode.insertBefore(nr.$elm$,ln),ln.remove(),"0"===nr.$depth$&&(At[nr.$index$]=nr.$elm$)),zt.push(nr),Be.$children$||(Be.$children$=[]),Be.$children$[nr.$index$]=nr):"r"===_n&&(At?ln.remove():(an["s-cr"]=ln,ln["s-cn"]=!0))));else if(Be&&"style"===Be.$tag$){const Rr=Zn(null,ln.textContent);Rr.$elm$=ln,Rr.$index$="0",Be.$children$=[Rr]}},xe=(Be,at)=>{if(1===Be.nodeType){let zt=0;for(;zt<Be.childNodes.length;zt++)xe(Be.childNodes[zt],at);if(Be.shadowRoot)for(zt=0;zt<Be.shadowRoot.childNodes.length;zt++)xe(Be.shadowRoot.childNodes[zt],at)}else if(8===Be.nodeType){const zt=Be.nodeValue.split(".");"o"===zt[0]&&(at.set(zt[1]+"."+zt[2],Be),Be.nodeValue="",Be["s-en"]=zt[3])}},oe=Be=>ve.push(Be),We=Be=>G(Be).$modeName$,St=Be=>G(Be).$hostElement$,kt=(Be,at,zt)=>{const At=St(Be);return{emit:an=>dn(At,at,{bubbles:!!(4&zt),composed:!!(2&zt),cancelable:!!(1&zt),detail:an})}},dn=(Be,at,zt)=>{const At=tt.ce(at,zt);return Be.dispatchEvent(At),At},me=new WeakMap,ce=(Be,at,zt)=>{let At=pe.get(Be);De&&zt?(At=At||new CSSStyleSheet,"string"==typeof At?At=at:At.replaceSync(at)):At=at,pe.set(Be,At)},Se=(Be,at,zt)=>{var At;const an=Je(at,zt),ln=pe.get(an);if(Be=11===Be.nodeType?Be:Te,ln)if("string"==typeof ln){let _n,or=me.get(Be=Be.head||Be);if(or||me.set(Be,or=new Set),!or.has(an)){if(Be.host&&(_n=Be.querySelector(`[${ae}="${an}"]`)))_n.innerHTML=ln;else{_n=Te.createElement("style"),_n.innerHTML=ln;const Jn=null!=(At=tt.$nonce$)?At:xr(Te);null!=Jn&&_n.setAttribute("nonce",Jn),Be.insertBefore(_n,Be.querySelector("link"))}4&at.$flags$&&(_n.innerHTML+=st),or&&or.add(an)}}else Be.adoptedStyleSheets.includes(ln)||(Be.adoptedStyleSheets=[...Be.adoptedStyleSheets,ln]);return an},Je=(Be,at)=>"sc-"+(at&&32&Be.$flags$?Be.$tagName$+"-"+at:Be.$tagName$),gt=Be=>Be.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ft=(Be,at,zt,At,an,ln)=>{if(zt!==At){let or=he(Be,at),_n=at.toLowerCase();if("class"===at){const Jn=Be.classList,nr=xt(zt),br=xt(At);Jn.remove(...nr.filter(Rr=>Rr&&!br.includes(Rr))),Jn.add(...br.filter(Rr=>Rr&&!nr.includes(Rr)))}else if("style"===at){for(const Jn in zt)(!At||null==At[Jn])&&(Jn.includes("-")?Be.style.removeProperty(Jn):Be.style[Jn]="");for(const Jn in At)(!zt||At[Jn]!==zt[Jn])&&(Jn.includes("-")?Be.style.setProperty(Jn,At[Jn]):Be.style[Jn]=At[Jn])}else if("key"!==at)if("ref"===at)At&&At(Be);else if(or||"o"!==at[0]||"n"!==at[1]){const Jn=ir(At);if((or||Jn&&null!==At)&&!an)try{if(Be.tagName.includes("-"))Be[at]=At;else{const br=At??"";"list"===at?or=!1:(null==zt||Be[at]!=br)&&(Be[at]=br)}}catch{}let nr=!1;_n!==(_n=_n.replace(/^xlink\:?/,""))&&(at=_n,nr=!0),null==At||!1===At?(!1!==At||""===Be.getAttribute(at))&&(nr?Be.removeAttributeNS($e,at):Be.removeAttribute(at)):(!or||4&ln||an)&&!Jn&&(At=!0===At?"":At,nr?Be.setAttributeNS($e,at,At):Be.setAttribute(at,At))}else if(at="-"===at[2]?at.slice(3):he(rt,_n)?_n.slice(2):_n[2]+at.slice(3),zt||At){const Jn=at.endsWith(Bt);at=at.replace(hn,""),zt&&tt.rel(Be,at,zt,Jn),At&&tt.ael(Be,at,At,Jn)}}},Tt=/\s/,xt=Be=>Be?Be.split(Tt):[],Bt="Capture",hn=new RegExp(Bt+"$"),En=(Be,at,zt)=>{const At=11===at.$elm$.nodeType&&at.$elm$.host?at.$elm$.host:at.$elm$,an=Be&&Be.$attrs$||Rn,ln=at.$attrs$||Rn;for(const or of In(Object.keys(an)))or in ln||Ft(At,or,an[or],void 0,zt,at.$flags$);for(const or of In(Object.keys(ln)))Ft(At,or,an[or],ln[or],zt,at.$flags$)};function In(Be){return Be.includes("ref")?[...Be.filter(at=>"ref"!==at),"ref"]:Be}var sr,fr,Gn,lr=!1,hr=!1,Wr=!1,Ir=!1,wi=(Be,at,zt,At)=>{var an;const ln=at.$children$[zt];let _n,Jn,nr,or=0;if(lr||(Wr=!0,"slot"===ln.$tag$&&(sr&&At.classList.add(sr+"-s"),ln.$flags$|=ln.$children$?2:1)),null!==ln.$text$)_n=ln.$elm$=Te.createTextNode(ln.$text$);else if(1&ln.$flags$)_n=ln.$elm$=Te.createTextNode("");else{if(Ir||(Ir="svg"===ln.$tag$),_n=ln.$elm$=Te.createElementNS(Ir?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!lr&&2&ln.$flags$?"slot-fb":ln.$tag$),Ir&&"foreignObject"===ln.$tag$&&(Ir=!1),En(null,ln,Ir),(Be=>null!=Be)(sr)&&_n["s-si"]!==sr&&_n.classList.add(_n["s-si"]=sr),hs(_n,At),ln.$children$)for(or=0;or<ln.$children$.length;++or)Jn=wi(Be,ln,or,_n),Jn&&_n.appendChild(Jn);"svg"===ln.$tag$?Ir=!1:"foreignObject"===_n.tagName&&(Ir=!0)}return _n["s-hn"]=Gn,3&ln.$flags$&&(_n["s-sr"]=!0,_n["s-cr"]=fr,_n["s-sn"]=ln.$name$||"",_n["s-rf"]=null==(an=ln.$attrs$)?void 0:an.ref,nr=Be&&Be.$children$&&Be.$children$[zt],nr&&nr.$tag$===ln.$tag$&&Be.$elm$&&li(Be.$elm$)),_n},li=Be=>{tt.$flags$|=1;const at=Be.closest(Gn.toLowerCase());if(null!=at){const zt=Array.from(at.childNodes).find(an=>an["s-cr"]),At=Array.from(Be.childNodes);for(const an of zt?At.reverse():At)null!=an["s-sh"]&&(Qr(at,an,zt??null),an["s-sh"]=void 0,Wr=!0)}tt.$flags$&=-2},Js=(Be,at)=>{tt.$flags$|=1;const zt=Array.from(Be.childNodes);if(Be["s-sr"]){let At=Be;for(;At=At.nextSibling;)At&&At["s-sn"]===Be["s-sn"]&&At["s-sh"]===Gn&&zt.push(At)}for(let At=zt.length-1;At>=0;At--){const an=zt[At];an["s-hn"]!==Gn&&an["s-ol"]&&(Qr(no(an),an,za(an)),an["s-ol"].remove(),an["s-ol"]=void 0,an["s-sh"]=void 0,Wr=!0),at&&Js(an,at)}tt.$flags$&=-2},mi=(Be,at,zt,At,an,ln)=>{let _n,or=Be["s-cr"]&&Be["s-cr"].parentNode||Be;for(or.shadowRoot&&or.tagName===Gn&&(or=or.shadowRoot);an<=ln;++an)At[an]&&(_n=wi(null,zt,an,Be),_n&&(At[an].$elm$=_n,Qr(or,_n,za(at))))},Cs=(Be,at,zt)=>{for(let At=at;At<=zt;++At){const an=Be[At];if(an){const ln=an.$elm$;vr(an),ln&&(hr=!0,ln["s-ol"]?ln["s-ol"].remove():Js(ln,!0),ln.remove())}}},Zi=(Be,at,zt=!1)=>Be.$tag$===at.$tag$&&("slot"===Be.$tag$?Be.$name$===at.$name$:!!zt||Be.$key$===at.$key$),za=Be=>Be&&Be["s-ol"]||Be,no=Be=>(Be["s-ol"]?Be["s-ol"]:Be).parentNode,Oo=(Be,at,zt=!1)=>{const At=at.$elm$=Be.$elm$,an=Be.$children$,ln=at.$children$,or=at.$tag$,_n=at.$text$;let Jn;null===_n?(Ir="svg"===or||"foreignObject"!==or&&Ir,"slot"!==or||lr?En(Be,at,Ir):Be.$name$!==at.$name$&&(at.$elm$["s-sn"]=at.$name$||"",li(at.$elm$.parentElement)),null!==an&&null!==ln?((Be,at,zt,At,an=!1)=>{let Eo,To,ln=0,or=0,_n=0,Jn=0,nr=at.length-1,br=at[0],Rr=at[nr],ri=At.length-1,ii=At[0],Vs=At[ri];for(;ln<=nr&&or<=ri;)if(null==br)br=at[++ln];else if(null==Rr)Rr=at[--nr];else if(null==ii)ii=At[++or];else if(null==Vs)Vs=At[--ri];else if(Zi(br,ii,an))Oo(br,ii,an),br=at[++ln],ii=At[++or];else if(Zi(Rr,Vs,an))Oo(Rr,Vs,an),Rr=at[--nr],Vs=At[--ri];else if(Zi(br,Vs,an))("slot"===br.$tag$||"slot"===Vs.$tag$)&&Js(br.$elm$.parentNode,!1),Oo(br,Vs,an),Qr(Be,br.$elm$,Rr.$elm$.nextSibling),br=at[++ln],Vs=At[--ri];else if(Zi(Rr,ii,an))("slot"===br.$tag$||"slot"===Vs.$tag$)&&Js(Rr.$elm$.parentNode,!1),Oo(Rr,ii,an),Qr(Be,Rr.$elm$,br.$elm$),Rr=at[--nr],ii=At[++or];else{for(_n=-1,Jn=ln;Jn<=nr;++Jn)if(at[Jn]&&null!==at[Jn].$key$&&at[Jn].$key$===ii.$key$){_n=Jn;break}_n>=0?(To=at[_n],To.$tag$!==ii.$tag$?Eo=wi(at&&at[or],zt,_n,Be):(Oo(To,ii,an),at[_n]=void 0,Eo=To.$elm$),ii=At[++or]):(Eo=wi(at&&at[or],zt,or,Be),ii=At[++or]),Eo&&Qr(no(br.$elm$),Eo,za(br.$elm$))}ln>nr?mi(Be,null==At[ri+1]?null:At[ri+1].$elm$,zt,At,or,ri):or>ri&&Cs(at,ln,nr)})(At,an,at,ln,zt):null!==ln?(null!==Be.$text$&&(At.textContent=""),mi(At,null,at,ln,0,ln.length-1)):null!==an&&Cs(an,0,an.length-1),Ir&&"svg"===or&&(Ir=!1)):(Jn=At["s-cr"])?Jn.parentNode.textContent=_n:Be.$text$!==_n&&(At.data=_n)},Ns=Be=>{const at=Be.childNodes;for(const zt of at)if(1===zt.nodeType){if(zt["s-sr"]){const At=zt["s-sn"];zt.hidden=!1;for(const an of at)if(an!==zt)if(an["s-hn"]!==zt["s-hn"]||""!==At){if(1===an.nodeType&&(At===an.getAttribute("slot")||At===an["s-sn"])||3===an.nodeType&&At===an["s-sn"]){zt.hidden=!0;break}}else if(1===an.nodeType||3===an.nodeType&&""!==an.textContent.trim()){zt.hidden=!0;break}}Ns(zt)}},Wi=[],Xi=Be=>{let at,zt,At;for(const an of Be.childNodes){if(an["s-sr"]&&(at=an["s-cr"])&&at.parentNode){zt=at.parentNode.childNodes;const ln=an["s-sn"];for(At=zt.length-1;At>=0;At--)if(at=zt[At],!(at["s-cn"]||at["s-nr"]||at["s-hn"]===an["s-hn"]||at["s-sh"]&&at["s-sh"]===an["s-hn"]))if(jn(at,ln)){let or=Wi.find(_n=>_n.$nodeToRelocate$===at);hr=!0,at["s-sn"]=at["s-sn"]||ln,or?(or.$nodeToRelocate$["s-sh"]=an["s-hn"],or.$slotRefNode$=an):(at["s-sh"]=an["s-hn"],Wi.push({$slotRefNode$:an,$nodeToRelocate$:at})),at["s-sr"]&&Wi.map(_n=>{jn(_n.$nodeToRelocate$,at["s-sn"])&&(or=Wi.find(Jn=>Jn.$nodeToRelocate$===at),or&&!_n.$slotRefNode$&&(_n.$slotRefNode$=or.$slotRefNode$))})}else Wi.some(or=>or.$nodeToRelocate$===at)||Wi.push({$nodeToRelocate$:at})}1===an.nodeType&&Xi(an)}},jn=(Be,at)=>1===Be.nodeType?null===Be.getAttribute("slot")&&""===at||Be.getAttribute("slot")===at:Be["s-sn"]===at||""===at,vr=Be=>{Be.$attrs$&&Be.$attrs$.ref&&Be.$attrs$.ref(null),Be.$children$&&Be.$children$.map(vr)},Qr=(Be,at,zt)=>{const At=Be?.insertBefore(at,zt);return hs(at,Be),At},Xs=Be=>{const at=[];return Be&&at.push(...Be["s-scs"]||[],Be["s-si"],Be["s-sc"],...Xs(Be.parentElement)),at},hs=(Be,at,zt=!1)=>{var At;if(Be&&at&&1===Be.nodeType){const an=new Set(Xs(at).filter(Boolean));if(an.size&&(null==(At=Be.classList)||At.add(...Be["s-scs"]=[...an]),Be["s-ol"]||zt))for(const ln of Array.from(Be.childNodes))hs(ln,Be,!0)}},Ds=(Be,at)=>{at&&!Be.$onRenderResolve$&&at["s-p"]&&at["s-p"].push(new Promise(zt=>Be.$onRenderResolve$=zt))},kl=(Be,at)=>{if(Be.$flags$|=16,!(4&Be.$flags$))return Ds(Be,Be.$ancestorComponent$),un(()=>mt(Be,at));Be.$flags$|=512},mt=(Be,at)=>{const an=Be.$lazyInstance$;if(!an)throw new Error(`Can't render component <${Be.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let ln;return at&&(Be.$flags$|=256,Be.$queuedListeners$&&(Be.$queuedListeners$.map(([or,_n])=>wr(an,or,_n)),Be.$queuedListeners$=void 0),ln=wr(an,"componentWillLoad")),ln=It(ln,()=>wr(an,"componentWillRender")),It(ln,()=>$t(Be,an,at))},It=(Be,at)=>Ot(Be)?Be.then(at).catch(zt=>{console.error(zt),at()}):at(),Ot=Be=>Be instanceof Promise||Be&&Be.then&&"function"==typeof Be.then,$t=function(){var Be=(0,B.Z)(function*(at,zt,At){var an;const ln=at.$hostElement$,_n=ln["s-rc"];At&&(Be=>{const at=Be.$cmpMeta$,zt=Be.$hostElement$,At=at.$flags$,ln=Se(zt.shadowRoot?zt.shadowRoot:zt.getRootNode(),at,Be.$modeName$);10&At&&(zt["s-sc"]=ln,zt.classList.add(ln+"-h"),2&At&&zt.classList.add(ln+"-s"))})(at);Xt(at,zt,ln,At),_n&&(_n.map(nr=>nr()),ln["s-rc"]=void 0);{const nr=null!=(an=ln["s-p"])?an:[],br=()=>on(at);0===nr.length?br():(Promise.all(nr).then(br),at.$flags$|=4,nr.length=0)}});return function(zt,At,an){return Be.apply(this,arguments)}}(),Xt=(Be,at,zt,At)=>{try{at=at.render&&at.render(),Be.$flags$&=-17,Be.$flags$|=2,((Be,at,zt=!1)=>{var At,an,ln,or,_n;const Jn=Be.$hostElement$,nr=Be.$cmpMeta$,br=Be.$vnode$||Zn(null,null),Rr=(Be=>Be&&Be.$tag$===is)(at)?at:ai(null,null,at);if(Gn=Jn.tagName,nr.$attrsToReflect$&&(Rr.$attrs$=Rr.$attrs$||{},nr.$attrsToReflect$.map(([ri,ii])=>Rr.$attrs$[ii]=Jn[ri])),zt&&Rr.$attrs$)for(const ri of Object.keys(Rr.$attrs$))Jn.hasAttribute(ri)&&!["key","ref","style","class"].includes(ri)&&(Rr.$attrs$[ri]=Jn[ri]);if(Rr.$tag$=null,Rr.$flags$|=4,Be.$vnode$=Rr,Rr.$elm$=br.$elm$=Jn.shadowRoot||Jn,sr=Jn["s-sc"],lr=0!=(1&nr.$flags$),fr=Jn["s-cr"],hr=!1,Oo(br,Rr,zt),tt.$flags$|=1,Wr){Xi(Rr.$elm$);for(const ri of Wi){const ii=ri.$nodeToRelocate$;if(!ii["s-ol"]){const Vs=Te.createTextNode("");Vs["s-nr"]=ii,Qr(ii.parentNode,ii["s-ol"]=Vs,ii)}}for(const ri of Wi){const ii=ri.$nodeToRelocate$,Vs=ri.$slotRefNode$;if(Vs){const Eo=Vs.parentNode;let To=Vs.nextSibling;if(To&&1===To.nodeType){let xs=null==(At=ii["s-ol"])?void 0:At.previousSibling;for(;xs;){let Ur=null!=(an=xs["s-nr"])?an:null;if(Ur&&Ur["s-sn"]===ii["s-sn"]&&Eo===Ur.parentNode){for(Ur=Ur.nextSibling;Ur===ii||Ur?.["s-sr"];)Ur=Ur?.nextSibling;if(!Ur||!Ur["s-nr"]){To=Ur;break}}xs=xs.previousSibling}}(!To&&Eo!==ii.parentNode||ii.nextSibling!==To)&&ii!==To&&(Qr(Eo,ii,To),1===ii.nodeType&&(ii.hidden=null!=(ln=ii["s-ih"])&&ln)),ii&&"function"==typeof Vs["s-rf"]&&Vs["s-rf"](ii)}else 1===ii.nodeType&&(zt&&(ii["s-ih"]=null!=(or=ii.hidden)&&or),ii.hidden=!0)}}if(hr&&Ns(Rr.$elm$),tt.$flags$&=-2,Wi.length=0,2&nr.$flags$)for(const ri of Rr.$elm$.childNodes)ri["s-hn"]!==Gn&&!ri["s-sh"]&&(zt&&null==ri["s-ih"]&&(ri["s-ih"]=null!=(_n=ri.hidden)&&_n),ri.hidden=!0);fr=void 0})(Be,at,At)}catch(an){Pe(an,Be.$hostElement$)}return null},on=Be=>{const zt=Be.$hostElement$,an=Be.$lazyInstance$,ln=Be.$ancestorComponent$;wr(an,"componentDidRender"),64&Be.$flags$?wr(an,"componentDidUpdate"):(Be.$flags$|=64,Lr(zt),wr(an,"componentDidLoad"),Be.$onReadyResolve$(zt),ln||Cn()),Be.$onInstanceResolve$(zt),Be.$onRenderResolve$&&(Be.$onRenderResolve$(),Be.$onRenderResolve$=void 0),512&Be.$flags$&&fn(()=>kl(Be,!1)),Be.$flags$&=-517},rr=Be=>{{const at=G(Be),zt=at.$hostElement$.isConnected;return zt&&2==(18&at.$flags$)&&kl(at,!1),zt}},Cn=Be=>{Lr(Te.documentElement),fn(()=>dn(rt,"appload",{detail:{namespace:"ionic"}}))},wr=(Be,at,zt)=>{if(Be&&Be[at])try{return Be[at](zt)}catch(At){Pe(At)}},Lr=Be=>Be.classList.add(("hydrated","hydrated")),ei=(Be,at,zt)=>{var At,an;const ln=Be.prototype;if(at.$members$||at.$watchers$||Be.watchers){Be.watchers&&!at.$watchers$&&(at.$watchers$=Be.watchers);const or=Object.entries(null!=(At=at.$members$)?At:{});if(or.map(([_n,[Jn]])=>{31&Jn||2&zt&&32&Jn?Object.defineProperty(ln,_n,{get(){return((Be,at)=>G(this).$instanceValues$.get(at))(0,_n)},set(nr){((Be,at,zt,At)=>{const an=G(Be);if(!an)throw new Error(`Couldn't find host element for "${At.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const ln=an.$hostElement$,or=an.$instanceValues$.get(at),_n=an.$flags$,Jn=an.$lazyInstance$;zt=((Be,at)=>null==Be||ir(Be)?Be:4&at?"false"!==Be&&(""===Be||!!Be):2&at?parseFloat(Be):1&at?String(Be):Be)(zt,At.$members$[at][0]);const nr=Number.isNaN(or)&&Number.isNaN(zt);if((!(8&_n)||void 0===or)&&zt!==or&&!nr&&(an.$instanceValues$.set(at,zt),Jn)){if(At.$watchers$&&128&_n){const Rr=At.$watchers$[at];Rr&&Rr.map(ri=>{try{Jn[ri](zt,or,at)}catch(ii){Pe(ii,ln)}})}2==(18&_n)&&kl(an,!1)}})(this,_n,nr,at)},configurable:!0,enumerable:!0}):1&zt&&64&Jn&&Object.defineProperty(ln,_n,{value(...nr){var br;const Rr=G(this);return null==(br=Rr?.$onInstancePromise$)?void 0:br.then(()=>{var ri;return null==(ri=Rr.$lazyInstance$)?void 0:ri[_n](...nr)})}})}),1&zt){const _n=new Map;ln.attributeChangedCallback=function(Jn,nr,br){tt.jmp(()=>{var Rr;const ri=_n.get(Jn);if(this.hasOwnProperty(ri))br=this[ri],delete this[ri];else{if(ln.hasOwnProperty(ri)&&"number"==typeof this[ri]&&this[ri]==br)return;if(null==ri){const ii=G(this),Vs=ii?.$flags$;if(Vs&&!(8&Vs)&&128&Vs&&br!==nr){const Eo=ii.$lazyInstance$,To=null==(Rr=at.$watchers$)?void 0:Rr[Jn];To?.forEach(xs=>{null!=Eo[xs]&&Eo[xs].call(Eo,br,nr,Jn)})}return}}this[ri]=(null!==br||"boolean"!=typeof this[ri])&&br})},Be.observedAttributes=Array.from(new Set([...Object.keys(null!=(an=at.$watchers$)?an:{}),...or.filter(([Jn,nr])=>15&nr[0]).map(([Jn,nr])=>{var br;const Rr=nr[1]||Jn;return _n.set(Rr,Jn),512&nr[0]&&(null==(br=at.$attrsToReflect$)||br.push([Jn,Rr])),Rr})]))}}return Be},ss=function(){var Be=(0,B.Z)(function*(at,zt,At,an){let ln;if(!(32&zt.$flags$)){if(zt.$flags$|=32,At.$lazyBundleId$){const nr=((Be,at,zt)=>{const At=Be.$tagName$.replace(/-/g,"_"),an=Be.$lazyBundleId$;if(!an)return;const ln=Ie.get(an);return ln?ln[At]:X(863)(`./${an}.entry.js`).then(or=>(Ie.set(an,or),or[At]),Pe)})(At);if(nr&&"then"in nr){const Rr=()=>{};ln=yield nr,Rr()}else ln=nr;if(!ln)throw new Error(`Constructor for "${At.$tagName$}#${zt.$modeName$}" was not found`);ln.isProxied||(At.$watchers$=ln.watchers,ei(ln,At,2),ln.isProxied=!0);const br=()=>{};zt.$flags$|=8;try{new ln(zt)}catch(Rr){Pe(Rr)}zt.$flags$&=-9,zt.$flags$|=128,br(),Ps(zt.$lazyInstance$)}else ln=at.constructor,customElements.whenDefined(at.localName).then(()=>zt.$flags$|=128);if(ln&&ln.style){let nr;"string"==typeof ln.style?nr=ln.style:"string"!=typeof ln.style&&(zt.$modeName$=(Be=>ve.map(at=>at(Be)).find(at=>!!at))(at),zt.$modeName$&&(nr=ln.style[zt.$modeName$]));const br=Je(At,zt.$modeName$);if(!pe.has(br)){const Rr=()=>{};ce(br,nr,!!(1&At.$flags$)),Rr()}}}const or=zt.$ancestorComponent$,_n=()=>kl(zt,!0);or&&or["s-rc"]?or["s-rc"].push(_n):_n()});return function(zt,At,an,ln){return Be.apply(this,arguments)}}(),Ps=Be=>{wr(Be,"connectedCallback")},ut=Be=>{const at=Be["s-cr"]=Te.createComment("");at["s-cn"]=!0,Qr(Be,at,Be.firstChild)},Wt=Be=>{wr(Be,"disconnectedCallback")},An=function(){var Be=(0,B.Z)(function*(at){if(!(1&tt.$flags$)){const zt=G(at);zt.$rmListeners$&&(zt.$rmListeners$.map(At=>At()),zt.$rmListeners$=void 0),zt?.$lazyInstance$?Wt(zt.$lazyInstance$):zt?.$onReadyPromise$&&zt.$onReadyPromise$.then(()=>Wt(zt.$lazyInstance$))}});return function(zt){return Be.apply(this,arguments)}}(),Hr=Be=>{const at=Be.cloneNode;Be.cloneNode=function(zt){const At=this,an=At.shadowRoot&&true,ln=at.call(At,!!an&&zt);if(!an&&zt){let _n,Jn,or=0;const nr=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;or<At.childNodes.length;or++)_n=At.childNodes[or]["s-nr"],Jn=nr.every(br=>!At.childNodes[or][br]),_n&&(ln.__appendChild?ln.__appendChild(_n.cloneNode(!0)):ln.appendChild(_n.cloneNode(!0))),Jn&&ln.appendChild(At.childNodes[or].cloneNode(!0))}return ln}},gn=Be=>{Be.__appendChild=Be.appendChild,Be.appendChild=function(at){const zt=at["s-sn"]=Aa(at),At=ju(this.childNodes,zt,this.tagName);if(At){const an=dl(At,zt),ln=an[an.length-1],or=Qr(ln.parentNode,at,ln.nextSibling);return Ns(this),or}return this.__appendChild(at)}},zi=Be=>{Be.__removeChild=Be.removeChild,Be.removeChild=function(at){if(at&&typeof at["s-sn"]<"u"){const zt=ju(this.childNodes,at["s-sn"],this.tagName);if(zt){const an=dl(zt,at["s-sn"]).find(ln=>ln===at);if(an)return an.remove(),void Ns(this)}}return this.__removeChild(at)}},jr=Be=>{const at=Be.prepend;Be.prepend=function(...zt){zt.forEach(At=>{"string"==typeof At&&(At=this.ownerDocument.createTextNode(At));const an=At["s-sn"]=Aa(At),ln=ju(this.childNodes,an,this.tagName);if(ln){const or=document.createTextNode("");or["s-nr"]=At,ln["s-cr"].parentNode.__appendChild(or),At["s-ol"]=or;const Jn=dl(ln,an)[0];return Qr(Jn.parentNode,At,Jn.nextSibling)}return 1===At.nodeType&&At.getAttribute("slot")&&(At.hidden=!0),at.call(this,At)})}},ns=Be=>{Be.append=function(...at){at.forEach(zt=>{"string"==typeof zt&&(zt=this.ownerDocument.createTextNode(zt)),this.appendChild(zt)})}},Ml=Be=>{const at=Be.insertAdjacentHTML;Be.insertAdjacentHTML=function(zt,At){if("afterbegin"!==zt&&"beforeend"!==zt)return at.call(this,zt,At);const an=this.ownerDocument.createElement("_");let ln;if(an.innerHTML=At,"afterbegin"===zt)for(;ln=an.firstChild;)this.prepend(ln);else if("beforeend"===zt)for(;ln=an.firstChild;)this.append(ln)}},Sl=Be=>{Be.insertAdjacentText=function(at,zt){this.insertAdjacentHTML(at,zt)}},Ac=Be=>{const at=Be.insertAdjacentElement;Be.insertAdjacentElement=function(zt,At){return"afterbegin"!==zt&&"beforeend"!==zt?at.call(this,zt,At):"afterbegin"===zt?(this.prepend(At),At):("beforeend"===zt&&this.append(At),At)}},qa=Be=>{const at=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(Be,"__textContent",at),Object.defineProperty(Be,"textContent",{get(){return" "+_l(this.childNodes).map(an=>{var ln,or;const _n=[];let Jn=an.nextSibling;for(;Jn&&Jn["s-sn"]===an["s-sn"];)(3===Jn.nodeType||1===Jn.nodeType)&&_n.push(null!=(or=null==(ln=Jn.textContent)?void 0:ln.trim())?or:""),Jn=Jn.nextSibling;return _n.filter(nr=>""!==nr).join(" ")}).filter(an=>""!==an).join(" ")+" "},set(zt){_l(this.childNodes).forEach(an=>{let ln=an.nextSibling;for(;ln&&ln["s-sn"]===an["s-sn"];){const or=ln;ln=ln.nextSibling,or.remove()}if(""===an["s-sn"]){const or=this.ownerDocument.createTextNode(zt);or["s-sn"]="",Qr(an.parentElement,or,an.nextSibling)}else an.remove()})}})},us=(Be,at)=>{class zt extends Array{item(an){return this[an]}}if(8&at.$flags$){const At=Be.__lookupGetter__("childNodes");Object.defineProperty(Be,"children",{get(){return this.childNodes.map(an=>1===an.nodeType)}}),Object.defineProperty(Be,"childElementCount",{get:()=>Be.children.length}),Object.defineProperty(Be,"childNodes",{get(){const an=At.call(this);if(!(1&tt.$flags$)&&2&G(this).$flags$){const ln=new zt;for(let or=0;or<an.length;or++){const _n=an[or]["s-nr"];_n&&ln.push(_n)}return ln}return zt.from(an)}})}},_l=Be=>{const at=[];for(const zt of Array.from(Be))zt["s-sr"]&&at.push(zt),at.push(..._l(zt.childNodes));return at},Aa=Be=>Be["s-sn"]||1===Be.nodeType&&Be.getAttribute("slot")||"",ju=(Be,at,zt)=>{let an,At=0;for(;At<Be.length;At++)if(an=Be[At],an["s-sr"]&&an["s-sn"]===at&&an["s-hn"]===zt||(an=ju(an.childNodes,at,zt),an))return an;return null},dl=(Be,at)=>{const zt=[Be];for(;(Be=Be.nextSibling)&&Be["s-sn"]===at;)zt.push(Be);return zt},Ao=(Be,at={})=>{var zt;const an=[],ln=at.exclude||[],or=rt.customElements,_n=Te.head,Jn=_n.querySelector("meta[charset]"),nr=Te.createElement("style"),br=[],Rr=Te.querySelectorAll(`[${ae}]`);let ri,ii=!0,Vs=0;for(Object.assign(tt,at),tt.$resourcesUrl$=new URL(at.resourcesUrl||"./",Te.baseURI).href,tt.$flags$|=2;Vs<Rr.length;Vs++)ce(Rr[Vs].getAttribute(ae),gt(Rr[Vs].innerHTML),!0);let Eo=!1;if(Be.map(To=>{To[1].map(xs=>{var Ur;const Gi={$flags$:xs[0],$tagName$:xs[1],$members$:xs[2],$listeners$:xs[3]};4&Gi.$flags$&&(Eo=!0),Gi.$members$=xs[2],Gi.$listeners$=xs[3],Gi.$attrsToReflect$=[],Gi.$watchers$=null!=(Ur=xs[4])?Ur:{};const ya=Gi.$tagName$,No=class extends HTMLElement{constructor(gs){if(super(gs),this.hasRegisteredEventListeners=!1,((Be,at)=>{const zt={$flags$:0,$hostElement$:Be,$cmpMeta$:at,$instanceValues$:new Map};zt.$onInstancePromise$=new Promise(At=>zt.$onInstanceResolve$=At),zt.$onReadyPromise$=new Promise(At=>zt.$onReadyResolve$=At),Be["s-p"]=[],Be["s-rc"]=[],H.set(Be,zt)})(gs=this,Gi),1&Gi.$flags$)if(gs.shadowRoot){if("open"!==gs.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Gi.$tagName$}! Mode is set to ${gs.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else gs.attachShadow({mode:"open",delegatesFocus:!!(16&Gi.$flags$)})}connectedCallback(){const gs=G(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ja(this,gs,Gi.$listeners$)),ri&&(clearTimeout(ri),ri=null),ii?br.push(this):tt.jmp(()=>(Be=>{if(!(1&tt.$flags$)){const at=G(Be),zt=at.$cmpMeta$,At=()=>{};if(1&at.$flags$)ja(Be,at,zt.$listeners$),at?.$lazyInstance$?Ps(at.$lazyInstance$):at?.$onReadyPromise$&&at.$onReadyPromise$.then(()=>Ps(at.$lazyInstance$));else{let an;if(at.$flags$|=1,an=Be.getAttribute(ee),an){if(1&zt.$flags$){const ln=Se(Be.shadowRoot,zt,Be.getAttribute("s-mode"));Be.classList.remove(ln+"-h",ln+"-s")}((Be,at,zt,At)=>{const ln=Be.shadowRoot,or=[],Jn=ln?[]:null,nr=At.$vnode$=Zn(at,null);tt.$orgLocNodes$||xe(Te.body,tt.$orgLocNodes$=new Map),Be[ee]=zt,Be.removeAttribute(ee),Ge(nr,or,[],Jn,Be,Be,zt),or.map(br=>{const Rr=br.$hostId$+"."+br.$nodeId$,ri=tt.$orgLocNodes$.get(Rr),ii=br.$elm$;ri&&""===ri["s-en"]&&ri.parentNode.insertBefore(ii,ri.nextSibling),ln||(ii["s-hn"]=at,ri&&(ii["s-ol"]=ri,ii["s-ol"]["s-nr"]=ii)),tt.$orgLocNodes$.delete(Rr)}),ln&&Jn.map(br=>{br&&ln.appendChild(br)})})(Be,zt.$tagName$,an,at)}an||12&zt.$flags$&&ut(Be);{let ln=Be;for(;ln=ln.parentNode||ln.host;)if(1===ln.nodeType&&ln.hasAttribute("s-id")&&ln["s-p"]||ln["s-p"]){Ds(at,at.$ancestorComponent$=ln);break}}zt.$members$&&Object.entries(zt.$members$).map(([ln,[or]])=>{if(31&or&&Be.hasOwnProperty(ln)){const _n=Be[ln];delete Be[ln],Be[ln]=_n}}),ss(Be,at,zt)}At()}})(this))}disconnectedCallback(){tt.jmp(()=>An(this))}componentOnReady(){return G(this).$onReadyPromise$}};2&Gi.$flags$&&((Be,at)=>{Hr(Be),gn(Be),ns(Be),jr(Be),Ac(Be),Ml(Be),Sl(Be),qa(Be),us(Be,at),zi(Be)})(No.prototype,Gi),Gi.$lazyBundleId$=To[0],!ln.includes(ya)&&!or.get(ya)&&(an.push(ya),or.define(ya,ei(No,Gi,1)))})}),an.length>0&&(Eo&&(nr.textContent+=st),nr.textContent+=an.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",nr.innerHTML.length)){nr.setAttribute("data-styles","");const To=null!=(zt=tt.$nonce$)?zt:xr(Te);null!=To&&nr.setAttribute("nonce",To),_n.insertBefore(nr,Jn?Jn.nextSibling:_n.firstChild)}ii=!1,br.length?br.map(To=>To.connectedCallback()):tt.jmp(()=>ri=setTimeout(Cn,30))},ja=(Be,at,zt,At)=>{zt&&zt.map(([an,ln,or])=>{const _n=os(Be,an),Jn=gu(at,or),nr=Qs(an);tt.ael(_n,ln,Jn,nr),(at.$rmListeners$=at.$rmListeners$||[]).push(()=>tt.rel(_n,ln,Jn,nr))})},gu=(Be,at)=>zt=>{var At;try{256&Be.$flags$?null==(At=Be.$lazyInstance$)||At[at](zt):(Be.$queuedListeners$=Be.$queuedListeners$||[]).push([at,zt])}catch(an){Pe(an)}},os=(Be,at)=>4&at?Te:8&at?rt:16&at?Te.body:Be,Qs=Be=>et?{passive:0!=(1&Be),capture:0!=(2&Be)}:0!=(2&Be)},8444:(pt,Ze,X)=>{"use strict";X.d(Ze,{b:()=>G,c:()=>ie,d:()=>Ee,e:()=>_t,g:()=>De,l:()=>tt,s:()=>et,t:()=>J,w:()=>He});var B=X(5861),E=X(5303),z=X(4063),p=X(2400),O=X(4298);const G="ionViewWillLeave",ie="ionViewDidLeave",Ee="ionViewWillUnload",he=le=>{le.tabIndex=-1,le.focus()},Pe=le=>null!==le.offsetParent,it="ion-last-focus",de_saveViewFocus=Ve=>{if(E.c.get("focusManagerPriority",!1)){const Ct=document.activeElement;null!==Ct&&Ve?.contains(Ct)&&Ct.setAttribute(it,"true")}},de_setViewFocus=Ve=>{const Yt=E.c.get("focusManagerPriority",!1);if(Array.isArray(Yt)&&!Ve.contains(document.activeElement)){const Ct=Ve.querySelector(`[${it}]`);if(Ct&&Pe(Ct))return void he(Ct);for(const bn of Yt)switch(bn){case"content":const fn=Ve.querySelector('main, [role="main"]');if(fn&&Pe(fn))return void he(fn);break;case"heading":const kn=Ve.querySelector('h1, [role="heading"][aria-level="1"]');if(kn&&Pe(kn))return void he(kn);break;case"banner":const un=Ve.querySelector('header, [role="banner"]');if(un&&Pe(un))return void he(un);break;default:(0,p.p)(`Unrecognized focus manager priority value ${bn}`)}he(Ve)}},J=le=>new Promise((ze,Ve)=>{(0,z.w)(()=>{te(le),be(le).then(Yt=>{Yt.animation&&Yt.animation.destroy(),ee(le),ze(Yt)},Yt=>{ee(le),Ve(Yt)})})}),te=le=>{const ze=le.enteringEl,Ve=le.leavingEl;de_saveViewFocus(Ve),Xe(ze,Ve,le.direction),le.showGoBack?ze.classList.add("can-go-back"):ze.classList.remove("can-go-back"),et(ze,!1),ze.style.setProperty("pointer-events","none"),Ve&&(et(Ve,!1),Ve.style.setProperty("pointer-events","none"))},be=function(){var le=(0,B.Z)(function*(ze){const Ve=yield ae(ze);return Ve&&z.B.isBrowser?ne(Ve,ze):se(ze)});return function(Ve){return le.apply(this,arguments)}}(),ee=le=>{const ze=le.enteringEl,Ve=le.leavingEl;ze.classList.remove("ion-page-invisible"),ze.style.removeProperty("pointer-events"),void 0!==Ve&&(Ve.classList.remove("ion-page-invisible"),Ve.style.removeProperty("pointer-events")),de_setViewFocus(ze)},ae=function(){var le=(0,B.Z)(function*(ze){return ze.leavingEl&&ze.animated&&0!==ze.duration?ze.animationBuilder?ze.animationBuilder:"ios"===ze.mode?(yield Promise.resolve().then(X.bind(X,8448))).iosTransitionAnimation:(yield Promise.resolve().then(X.bind(X,427))).mdTransitionAnimation:void 0});return function(Ve){return le.apply(this,arguments)}}(),ne=function(){var le=(0,B.Z)(function*(ze,Ve){yield st(Ve,!0);const Yt=ze(Ve.baseEl,Ve);Te(Ve.enteringEl,Ve.leavingEl);const Ct=yield rt(Yt,Ve);return Ve.progressCallback&&Ve.progressCallback(void 0),Ct&&ht(Ve.enteringEl,Ve.leavingEl),{hasCompleted:Ct,animation:Yt}});return function(Ve,Yt){return le.apply(this,arguments)}}(),se=function(){var le=(0,B.Z)(function*(ze){const Ve=ze.enteringEl,Yt=ze.leavingEl,Ct=E.c.get("focusManagerPriority",!1);return yield st(ze,Ct),Te(Ve,Yt),ht(Ve,Yt),{hasCompleted:!0}});return function(Ve){return le.apply(this,arguments)}}(),st=function(){var le=(0,B.Z)(function*(ze,Ve){(void 0!==ze.deepWait?ze.deepWait:Ve)&&(yield Promise.all([_t(ze.enteringEl),_t(ze.leavingEl)])),yield $e(ze.viewIsReady,ze.enteringEl)});return function(Ve,Yt){return le.apply(this,arguments)}}(),$e=function(){var le=(0,B.Z)(function*(ze,Ve){ze&&(yield ze(Ve))});return function(Ve,Yt){return le.apply(this,arguments)}}(),rt=(le,ze)=>{const Ve=ze.progressCallback,Yt=new Promise(Ct=>{le.onFinish(bn=>Ct(1===bn))});return Ve?(le.progressStart(!0),Ve(le)):le.play(),Yt},Te=(le,ze)=>{tt(ze,G),tt(le,"ionViewWillEnter")},ht=(le,ze)=>{tt(le,"ionViewDidEnter"),tt(ze,ie)},tt=(le,ze)=>{if(le){const Ve=new CustomEvent(ze,{bubbles:!1,cancelable:!1});le.dispatchEvent(Ve)}},He=()=>new Promise(le=>(0,O.r)(()=>(0,O.r)(()=>le()))),_t=function(){var le=(0,B.Z)(function*(ze){const Ve=ze;if(Ve){if(null!=Ve.componentOnReady){if(null!=(yield Ve.componentOnReady()))return}else if(null!=Ve.__registerHost)return void(yield new Promise(Ct=>(0,O.r)(Ct)));yield Promise.all(Array.from(Ve.children).map(_t))}});return function(Ve){return le.apply(this,arguments)}}(),et=(le,ze)=>{ze?(le.setAttribute("aria-hidden","true"),le.classList.add("ion-page-hidden")):(le.hidden=!1,le.removeAttribute("aria-hidden"),le.classList.remove("ion-page-hidden"))},Xe=(le,ze,Ve)=>{void 0!==le&&(le.style.zIndex="back"===Ve?"99":"101"),void 0!==ze&&(ze.style.zIndex="100")},De=le=>le.classList.contains("ion-page")?le:le.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||le},2400:(pt,Ze,X)=>{"use strict";X.d(Ze,{a:()=>E,b:()=>z,p:()=>B});const B=(p,...O)=>console.warn(`[Ionic Warning]: ${p}`,...O),E=(p,...O)=>console.error(`[Ionic Error]: ${p}`,...O),z=(p,...O)=>console.error(`<${p.tagName.toLowerCase()}> must be used inside ${O.join(" or ")}.`)},1848:(pt,Ze,X)=>{"use strict";X.d(Ze,{d:()=>E,w:()=>B});const B=typeof window<"u"?window:void 0,E=typeof document<"u"?document:void 0},5303:(pt,Ze,X)=>{"use strict";X.d(Ze,{a:()=>he,b:()=>et,c:()=>z,i:()=>Xe});var B=X(4063);class E{constructor(){this.m=new Map}reset(le){this.m=new Map(Object.entries(le))}get(le,ze){const Ve=this.m.get(le);return void 0!==Ve?Ve:ze}getBoolean(le,ze=!1){const Ve=this.m.get(le);return void 0===Ve?ze:"string"==typeof Ve?"true"===Ve:!!Ve}getNumber(le,ze){const Ve=parseFloat(this.m.get(le));return isNaN(Ve)?void 0!==ze?ze:NaN:Ve}set(le,ze){this.m.set(le,ze)}}const z=new E,G="ionic:",ie="ionic-persist-config",he=(De,le)=>("string"==typeof De&&(le=De,De=void 0),(De=>Pe(De))(De).includes(le)),Pe=(De=window)=>{if(typeof De>"u")return[];De.Ionic=De.Ionic||{};let le=De.Ionic.platforms;return null==le&&(le=De.Ionic.platforms=Ie(De),le.forEach(ze=>De.document.documentElement.classList.add(`plt-${ze}`))),le},Ie=De=>{const le=z.get("platform");return Object.keys(He).filter(ze=>{const Ve=le?.[ze];return"function"==typeof Ve?Ve(De):He[ze](De)})},pe=De=>!!(ht(De,/iPad/i)||ht(De,/Macintosh/i)&&ae(De)),J=De=>ht(De,/android|sink/i),ae=De=>tt(De,"(any-pointer:coarse)"),se=De=>st(De)||$e(De),st=De=>!!(De.cordova||De.phonegap||De.PhoneGap),$e=De=>{const le=De.Capacitor;return!!le?.isNative},ht=(De,le)=>le.test(De.navigator.userAgent),tt=(De,le)=>{var ze;return null===(ze=De.matchMedia)||void 0===ze?void 0:ze.call(De,le).matches},He={ipad:pe,iphone:De=>ht(De,/iPhone/i),ios:De=>ht(De,/iPhone|iPod/i)||pe(De),android:J,phablet:De=>{const le=De.innerWidth,ze=De.innerHeight,Ve=Math.min(le,ze),Yt=Math.max(le,ze);return Ve>390&&Ve<520&&Yt>620&&Yt<800},tablet:De=>{const le=De.innerWidth,ze=De.innerHeight,Ve=Math.min(le,ze),Yt=Math.max(le,ze);return pe(De)||(De=>J(De)&&!ht(De,/mobile/i))(De)||Ve>460&&Ve<820&&Yt>780&&Yt<1400},cordova:st,capacitor:$e,electron:De=>ht(De,/electron/i),pwa:De=>{var le;return!!(null!==(le=De.matchMedia)&&void 0!==le&&le.call(De,"(display-mode: standalone)").matches||De.navigator.standalone)},mobile:ae,mobileweb:De=>ae(De)&&!se(De),desktop:De=>!ae(De),hybrid:se};let _t;const et=De=>De&&(0,B.g)(De)||_t,Xe=(De={})=>{if(typeof window>"u")return;const le=window.document,ze=window,Ve=ze.Ionic=ze.Ionic||{},Yt={};De._ael&&(Yt.ael=De._ael),De._rel&&(Yt.rel=De._rel),De._ce&&(Yt.ce=De._ce),(0,B.a)(Yt);const Ct=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(De=>{try{const le=De.sessionStorage.getItem(ie);return null!==le?JSON.parse(le):{}}catch{return{}}})(ze)),{persistConfig:!1}),Ve.config),(De=>{const le={};return De.location.search.slice(1).split("&").map(ze=>ze.split("=")).map(([ze,Ve])=>{try{return[decodeURIComponent(ze),decodeURIComponent(Ve)]}catch{return["",""]}}).filter(([ze])=>((De,le)=>De.substr(0,le.length)===le)(ze,G)).map(([ze,Ve])=>[ze.slice(6),Ve]).forEach(([ze,Ve])=>{le[ze]=Ve}),le})(ze)),De);z.reset(Ct),z.getBoolean("persistConfig")&&((De,le)=>{try{De.sessionStorage.setItem(ie,JSON.stringify(le))}catch{return}})(ze,Ct),Pe(ze),Ve.config=z,Ve.mode=_t=z.get("mode",le.documentElement.getAttribute("mode")||(he(ze,"ios")?"ios":"md")),z.set("mode",_t),le.documentElement.setAttribute("mode",_t),le.documentElement.classList.add(_t),z.getBoolean("_testing")&&z.set("animated",!1);const bn=kn=>{var un;return null===(un=kn.tagName)||void 0===un?void 0:un.startsWith("ION-")},fn=kn=>["ios","md"].includes(kn);(0,B.c)(kn=>{for(;kn;){const un=kn.mode||kn.getAttribute("mode");if(un){if(fn(un))return un;bn(kn)&&console.warn('Invalid ionic mode: "'+un+'", expected: "ios" or "md"')}kn=kn.parentElement}return _t})}},8448:(pt,Ze,X)=>{"use strict";X.r(Ze),X.d(Ze,{iosTransitionAnimation:()=>it,shadow:()=>G});var B=X(2282),E=X(8444);X(1848),X(5303),X(4063);const H=ve=>document.querySelector(`${ve}.ion-cloned-element`),G=ve=>ve.shadowRoot||ve,ie=ve=>{const de="ION-TABS"===ve.tagName?ve:ve.querySelector("ion-tabs"),J="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=de){const te=de.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=te?te.querySelector(J):null}return ve.querySelector(J)},Ee=(ve,de)=>{const J="ION-TABS"===ve.tagName?ve:ve.querySelector("ion-tabs");let te=[];if(null!=J){const be=J.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=be&&(te=be.querySelectorAll("ion-buttons"))}else te=ve.querySelectorAll("ion-buttons");for(const be of te){const ee=be.closest("ion-header"),ae=ee&&!ee.classList.contains("header-collapse-condense-inactive"),ne=be.querySelector("ion-back-button"),se=be.classList.contains("buttons-collapse");if(null!==ne&&("start"===be.slot||""===be.slot)&&(se&&ae&&de||!se))return ne}return null},Pe=(ve,de,J,te,be,ee,ae,ne,se)=>{var st,$e;const rt=de?`calc(100% - ${be.right+4}px)`:be.left-4+"px",Te=de?"right":"left",ht=de?"left":"right",tt=de?"right":"left";let He=1,_t=1,et=`scale(${_t})`;const Xe="scale(1)";if(ee&&ae){const rn=(null===(st=ee.textContent)||void 0===st?void 0:st.trim())===(null===($e=ne.textContent)||void 0===$e?void 0:$e.trim());He=se.width/ae.width,_t=(se.height-pe)/ae.height,et=rn?`scale(${He}, ${_t})`:`scale(${_t})`}const le=G(te).querySelector("ion-icon").getBoundingClientRect(),ze=de?le.width/2-(le.right-be.right)+"px":be.left-le.width/2+"px",Ve=de?`-${window.innerWidth-be.right}px`:`${be.left}px`,Yt=`${se.top}px`,Ct=`${be.top}px`,kn=J?[{offset:0,transform:`translate3d(${Ve}, ${Ct}, 0)`},{offset:1,transform:`translate3d(${ze}, ${Yt}, 0)`}]:[{offset:0,transform:`translate3d(${ze}, ${Yt}, 0)`},{offset:1,transform:`translate3d(${Ve}, ${Ct}, 0)`}],Rn=J?[{offset:0,opacity:1,transform:Xe},{offset:1,opacity:0,transform:et}]:[{offset:0,opacity:0,transform:et},{offset:1,opacity:1,transform:Xe}],Ln=J?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ir=(0,B.c)(),xr=(0,B.c)(),$r=(0,B.c)(),en=H("ion-back-button"),Wn=G(en).querySelector(".button-text"),qt=G(en).querySelector("ion-icon");en.text=te.text,en.mode=te.mode,en.icon=te.icon,en.color=te.color,en.disabled=te.disabled,en.style.setProperty("display","block"),en.style.setProperty("position","fixed"),xr.addElement(qt),ir.addElement(Wn),$r.addElement(en),$r.beforeStyles({position:"absolute",top:"0px",[tt]:"0px"}).beforeAddWrite(()=>{te.style.setProperty("display","none"),en.style.setProperty(Te,rt)}).afterAddWrite(()=>{te.style.setProperty("display",""),en.style.setProperty("display","none"),en.style.removeProperty(Te)}).keyframes(kn),ir.beforeStyles({"transform-origin":`${Te} top`}).keyframes(Rn),xr.beforeStyles({"transform-origin":`${ht} center`}).keyframes(Ln),ve.addAnimation([ir,xr,$r])},Ie=(ve,de,J,te,be,ee,ae,ne,se)=>{var st,$e;const rt=de?"right":"left",Te=de?`calc(100% - ${be.right}px)`:`${be.left}px`,tt=`${be.top}px`;let _t=de?`-${window.innerWidth-ae.right-8}px`:`${ae.x+8}px`,et=.5;const Xe="scale(1)";let De=`scale(${et})`;if(ne&&se){_t=de?`-${window.innerWidth-se.right-8}px`:se.x-8+"px";const un=(null===(st=ne.textContent)||void 0===st?void 0:st.trim())===(null===($e=te.textContent)||void 0===$e?void 0:$e.trim());et=se.height/(ee.height-pe),De=un?`scale(${se.width/ee.width}, ${et})`:`scale(${et})`}const Ve=ae.top+ae.height/2-be.height*et/2+"px",bn=J?[{offset:0,opacity:0,transform:`translate3d(${_t}, ${Ve}, 0) ${De}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${tt}, 0) ${Xe}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${tt}, 0) ${Xe}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${_t}, ${Ve}, 0) ${De}`}],fn=H("ion-title"),kn=(0,B.c)();fn.innerText=te.innerText,fn.size=te.size,fn.color=te.color,kn.addElement(fn),kn.beforeStyles({"transform-origin":`${rt} top`,height:`${be.height}px`,display:"",position:"relative",[rt]:Te}).beforeAddWrite(()=>{te.style.setProperty("opacity","0")}).afterAddWrite(()=>{te.style.setProperty("opacity",""),fn.style.setProperty("display","none")}).keyframes(bn),ve.addAnimation(kn)},it=(ve,de)=>{var J;try{const te="cubic-bezier(0.32,0.72,0,1)",be="opacity",ee="transform",ae="0%",se="rtl"===ve.ownerDocument.dir,st=se?"-99.5%":"99.5%",$e=se?"33%":"-33%",rt=de.enteringEl,Te=de.leavingEl,ht="back"===de.direction,tt=rt.querySelector(":scope > ion-content"),He=rt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),_t=rt.querySelectorAll(":scope > ion-header > ion-toolbar"),et=(0,B.c)(),Xe=(0,B.c)();if(et.addElement(rt).duration((null!==(J=de.duration)&&void 0!==J?J:0)||540).easing(de.easing||te).fill("both").beforeRemoveClass("ion-page-invisible"),Te&&null!=ve){const Ve=(0,B.c)();Ve.addElement(ve),et.addAnimation(Ve)}if(tt||0!==_t.length||0!==He.length?(Xe.addElement(tt),Xe.addElement(He)):Xe.addElement(rt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),et.addAnimation(Xe),ht?Xe.beforeClearStyles([be]).fromTo("transform",`translateX(${$e})`,`translateX(${ae})`).fromTo(be,.8,1):Xe.beforeClearStyles([be]).fromTo("transform",`translateX(${st})`,`translateX(${ae})`),tt){const Ve=G(tt).querySelector(".transition-effect");if(Ve){const Yt=Ve.querySelector(".transition-cover"),Ct=Ve.querySelector(".transition-shadow"),bn=(0,B.c)(),fn=(0,B.c)(),kn=(0,B.c)();bn.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),fn.addElement(Yt).beforeClearStyles([be]).fromTo(be,0,.1),kn.addElement(Ct).beforeClearStyles([be]).fromTo(be,.03,.7),bn.addAnimation([fn,kn]),Xe.addAnimation([bn])}}const De=rt.querySelector("ion-header.header-collapse-condense"),{forward:le,backward:ze}=((ve,de,J,te,be)=>{const ee=Ee(te,J),ae=ie(be),ne=ie(te),se=Ee(be,J),st=null!==ee&&null!==ae&&!J,$e=null!==ne&&null!==se&&J;if(st){const rt=ae.getBoundingClientRect(),Te=ee.getBoundingClientRect(),ht=G(ee).querySelector(".button-text"),tt=ht?.getBoundingClientRect(),_t=G(ae).querySelector(".toolbar-title").getBoundingClientRect();Ie(ve,de,J,ae,rt,_t,Te,ht,tt),Pe(ve,de,J,ee,Te,ht,tt,ae,_t)}else if($e){const rt=ne.getBoundingClientRect(),Te=se.getBoundingClientRect(),ht=G(se).querySelector(".button-text"),tt=ht?.getBoundingClientRect(),_t=G(ne).querySelector(".toolbar-title").getBoundingClientRect();Ie(ve,de,J,ne,rt,_t,Te,ht,tt),Pe(ve,de,J,se,Te,ht,tt,ne,_t)}return{forward:st,backward:$e}})(et,se,ht,rt,Te);if(_t.forEach(Ve=>{const Yt=(0,B.c)();Yt.addElement(Ve),et.addAnimation(Yt);const Ct=(0,B.c)();Ct.addElement(Ve.querySelector("ion-title"));const bn=(0,B.c)(),fn=Array.from(Ve.querySelectorAll("ion-buttons,[menuToggle]")),kn=Ve.closest("ion-header"),un=kn?.classList.contains("header-collapse-condense-inactive");let Xn;Xn=fn.filter(ht?ir=>{const xr=ir.classList.contains("buttons-collapse");return xr&&!un||!xr}:ir=>!ir.classList.contains("buttons-collapse")),bn.addElement(Xn);const Rn=(0,B.c)();Rn.addElement(Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const dr=(0,B.c)();dr.addElement(G(Ve).querySelector(".toolbar-background"));const Xr=(0,B.c)(),Ln=Ve.querySelector("ion-back-button");if(Ln&&Xr.addElement(Ln),Yt.addAnimation([Ct,bn,Rn,dr,Xr]),bn.fromTo(be,.01,1),Rn.fromTo(be,.01,1),ht)un||Ct.fromTo("transform",`translateX(${$e})`,`translateX(${ae})`).fromTo(be,.01,1),Rn.fromTo("transform",`translateX(${$e})`,`translateX(${ae})`),Xr.fromTo(be,.01,1);else if(De||Ct.fromTo("transform",`translateX(${st})`,`translateX(${ae})`).fromTo(be,.01,1),Rn.fromTo("transform",`translateX(${st})`,`translateX(${ae})`),dr.beforeClearStyles([be,"transform"]),kn?.translucent?dr.fromTo("transform",se?"translateX(-100%)":"translateX(100%)","translateX(0px)"):dr.fromTo(be,.01,"var(--opacity)"),le||Xr.fromTo(be,.01,1),Ln&&!le){const xr=(0,B.c)();xr.addElement(G(Ln).querySelector(".button-text")).fromTo("transform",se?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Yt.addAnimation(xr)}}),Te){const Ve=(0,B.c)(),Yt=Te.querySelector(":scope > ion-content"),Ct=Te.querySelectorAll(":scope > ion-header > ion-toolbar"),bn=Te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Yt||0!==Ct.length||0!==bn.length?(Ve.addElement(Yt),Ve.addElement(bn)):Ve.addElement(Te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),et.addAnimation(Ve),ht){Ve.beforeClearStyles([be]).fromTo("transform",`translateX(${ae})`,se?"translateX(-100%)":"translateX(100%)");const fn=(0,E.g)(Te);et.afterAddWrite(()=>{"normal"===et.getDirection()&&fn.style.setProperty("display","none")})}else Ve.fromTo("transform",`translateX(${ae})`,`translateX(${$e})`).fromTo(be,1,.8);if(Yt){const fn=G(Yt).querySelector(".transition-effect");if(fn){const kn=fn.querySelector(".transition-cover"),un=fn.querySelector(".transition-shadow"),Xn=(0,B.c)(),Rn=(0,B.c)(),dr=(0,B.c)();Xn.addElement(fn).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Rn.addElement(kn).beforeClearStyles([be]).fromTo(be,.1,0),dr.addElement(un).beforeClearStyles([be]).fromTo(be,.7,.03),Xn.addAnimation([Rn,dr]),Ve.addAnimation([Xn])}}Ct.forEach(fn=>{const kn=(0,B.c)();kn.addElement(fn);const un=(0,B.c)();un.addElement(fn.querySelector("ion-title"));const Xn=(0,B.c)(),Rn=fn.querySelectorAll("ion-buttons,[menuToggle]"),dr=fn.closest("ion-header"),Xr=dr?.classList.contains("header-collapse-condense-inactive"),Ln=Array.from(Rn).filter(qt=>{const rn=qt.classList.contains("buttons-collapse");return rn&&!Xr||!rn});Xn.addElement(Ln);const ir=(0,B.c)(),xr=fn.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");xr.length>0&&ir.addElement(xr);const $r=(0,B.c)();$r.addElement(G(fn).querySelector(".toolbar-background"));const en=(0,B.c)(),Wn=fn.querySelector("ion-back-button");if(Wn&&en.addElement(Wn),kn.addAnimation([un,Xn,ir,en,$r]),et.addAnimation(kn),en.fromTo(be,.99,0),Xn.fromTo(be,.99,0),ir.fromTo(be,.99,0),ht){if(Xr||un.fromTo("transform",`translateX(${ae})`,se?"translateX(-100%)":"translateX(100%)").fromTo(be,.99,0),ir.fromTo("transform",`translateX(${ae})`,se?"translateX(-100%)":"translateX(100%)"),$r.beforeClearStyles([be,"transform"]),dr?.translucent?$r.fromTo("transform","translateX(0px)",se?"translateX(-100%)":"translateX(100%)"):$r.fromTo(be,"var(--opacity)",0),Wn&&!ze){const rn=(0,B.c)();rn.addElement(G(Wn).querySelector(".button-text")).fromTo("transform",`translateX(${ae})`,`translateX(${(se?-124:124)+"px"})`),kn.addAnimation(rn)}}else Xr||un.fromTo("transform",`translateX(${ae})`,`translateX(${$e})`).fromTo(be,.99,0).afterClearStyles([ee,be]),ir.fromTo("transform",`translateX(${ae})`,`translateX(${$e})`).afterClearStyles([ee,be]),en.afterClearStyles([be]),un.afterClearStyles([be]),Xn.afterClearStyles([be])})}return et}catch(te){throw te}},pe=10},427:(pt,Ze,X)=>{"use strict";X.r(Ze),X.d(Ze,{mdTransitionAnimation:()=>R});var B=X(2282),E=X(8444);X(1848),X(5303),X(4063);const R=(H,G)=>{var ie,Ee,he;const it="back"===G.direction,ve=G.leavingEl,de=(0,E.g)(G.enteringEl),J=de.querySelector("ion-toolbar"),te=(0,B.c)();if(te.addElement(de).fill("both").beforeRemoveClass("ion-page-invisible"),it?te.duration((null!==(ie=G.duration)&&void 0!==ie?ie:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):te.duration((null!==(Ee=G.duration)&&void 0!==Ee?Ee:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),J){const be=(0,B.c)();be.addElement(J),te.addAnimation(be)}if(ve&&it){te.duration((null!==(he=G.duration)&&void 0!==he?he:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const be=(0,B.c)();be.addElement((0,E.g)(ve)).onFinish(ee=>{1===ee&&be.elements.length>0&&be.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),te.addAnimation(be)}return te}},4926:(pt,Ze,X)=>{"use strict";X.d(Ze,{B:()=>Rn,F:()=>en,G:()=>dr,O:()=>Xr,a:()=>de,b:()=>J,c:()=>ae,d:()=>Ln,e:()=>ir,f:()=>le,g:()=>Ve,h:()=>bn,i:()=>kn,j:()=>se,k:()=>st,l:()=>te,m:()=>be,n:()=>Ee,o:()=>Xe,q:()=>he,s:()=>Xn,t:()=>ne});var B=X(5861),E=X(1848),z=X(4298),p=X(4309),O=X(5303),R=X(4813),H=X(4089),G=X(2400);const ie='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ee=(Wn,qt)=>{const rn=Wn.querySelector(ie);Pe(rn,qt??Wn)},he=(Wn,qt)=>{const rn=Array.from(Wn.querySelectorAll(ie));Pe(rn.length>0?rn[rn.length-1]:null,qt??Wn)},Pe=(Wn,qt)=>{let rn=Wn;const Fn=Wn?.shadowRoot;Fn&&(rn=Fn.querySelector(ie)||Wn),rn?(0,z.f)(rn):qt.focus()};let Ie=0,it=0;const pe=new WeakMap,ve=Wn=>({create:qt=>$e(Wn,qt),dismiss:(qt,rn,Fn)=>He(document,qt,rn,Wn,Fn),getTop:()=>(0,B.Z)(function*(){return Xe(document,Wn)})()}),de=ve("ion-alert"),J=ve("ion-action-sheet"),te=ve("ion-loading"),be=ve("ion-modal"),ae=ve("ion-popover"),ne=ve("ion-toast"),se=Wn=>{typeof document<"u"&&tt(document);const qt=Ie++;Wn.overlayIndex=qt},st=Wn=>(Wn.hasAttribute("id")||(Wn.id="ion-overlay-"+ ++it),Wn.id),$e=(Wn,qt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Wn).then(()=>{const rn=document.createElement(Wn);return rn.classList.add("overlay-hidden"),Object.assign(rn,Object.assign(Object.assign({},qt),{hasController:!0})),Yt(document).appendChild(rn),new Promise(Fn=>(0,z.c)(rn,Fn))}):Promise.resolve(),Te=(Wn,qt)=>{let rn=Wn;const Fn=Wn?.shadowRoot;Fn&&(rn=Fn.querySelector(ie)||Wn),rn?(0,z.f)(rn):qt.focus()},tt=Wn=>{0===Ie&&(Ie=1,Wn.addEventListener("focus",qt=>{((Wn,qt)=>{const rn=Xe(qt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Fn=Wn.target;rn&&Fn&&!rn.classList.contains(en)&&(rn.shadowRoot?(()=>{if(rn.contains(Fn))rn.lastFocus=Fn;else if("ION-TOAST"===Fn.tagName)Te(rn.lastFocus,rn);else{const ai=rn.lastFocus;Ee(rn),ai===qt.activeElement&&he(rn),rn.lastFocus=qt.activeElement}})():(()=>{if(rn===Fn)rn.lastFocus=void 0;else if("ION-TOAST"===Fn.tagName)Te(rn.lastFocus,rn);else{const ai=(0,z.g)(rn);if(!ai.contains(Fn))return;const Zn=ai.querySelector(".ion-overlay-wrapper");if(!Zn)return;if(Zn.contains(Fn)||Fn===ai.querySelector("ion-backdrop"))rn.lastFocus=Fn;else{const is=rn.lastFocus;Ee(Zn,rn),is===qt.activeElement&&he(Zn,rn),rn.lastFocus=qt.activeElement}}})())})(qt,Wn)},!0),Wn.addEventListener("ionBackButton",qt=>{const rn=Xe(Wn);rn?.backdropDismiss&&qt.detail.register(p.OVERLAY_BACK_BUTTON_PRIORITY,()=>{rn.dismiss(void 0,Rn)})}),(0,p.shouldUseCloseWatcher)()||Wn.addEventListener("keydown",qt=>{if("Escape"===qt.key){const rn=Xe(Wn);rn?.backdropDismiss&&rn.dismiss(void 0,Rn)}}))},He=(Wn,qt,rn,Fn,zr)=>{const Li=Xe(Wn,Fn,zr);return Li?Li.dismiss(qt,rn):Promise.reject("overlay does not exist")},et=(Wn,qt)=>((Wn,qt)=>(void 0===qt&&(qt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Wn.querySelectorAll(qt)).filter(rn=>rn.overlayIndex>0)))(Wn,qt).filter(rn=>!(Wn=>Wn.classList.contains("overlay-hidden"))(rn)),Xe=(Wn,qt,rn)=>{const Fn=et(Wn,qt);return void 0===rn?Fn[Fn.length-1]:Fn.find(zr=>zr.id===rn)},De=(Wn=!1)=>{const rn=Yt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");rn&&(Wn?rn.setAttribute("aria-hidden","true"):rn.removeAttribute("aria-hidden"))},le=function(){var Wn=(0,B.Z)(function*(qt,rn,Fn,zr,Li){var ai,Zn;if(qt.presented)return;De(!0),document.body.classList.add(H.B),xr(qt.el),qt.presented=!0,qt.willPresent.emit(),null===(ai=qt.willPresentShorthand)||void 0===ai||ai.emit();const is=(0,O.b)(qt),Qi=qt.enterAnimation?qt.enterAnimation:O.c.get(rn,"ios"===is?Fn:zr);(yield Ct(qt,Qi,qt.el,Li))&&(qt.didPresent.emit(),null===(Zn=qt.didPresentShorthand)||void 0===Zn||Zn.emit()),"ION-TOAST"!==qt.el.tagName&&ze(qt.el),qt.keyboardClose&&(null===document.activeElement||!qt.el.contains(document.activeElement))&&qt.el.focus(),qt.el.removeAttribute("aria-hidden")});return function(rn,Fn,zr,Li,ai){return Wn.apply(this,arguments)}}(),ze=function(){var Wn=(0,B.Z)(function*(qt){let rn=document.activeElement;if(!rn)return;const Fn=rn?.shadowRoot;Fn&&(rn=Fn.querySelector(ie)||rn),yield qt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&rn.focus()});return function(rn){return Wn.apply(this,arguments)}}(),Ve=function(){var Wn=(0,B.Z)(function*(qt,rn,Fn,zr,Li,ai,Zn){var is,Qi;if(!qt.presented)return!1;void 0!==E.d&&1===et(E.d).length&&(De(!1),document.body.classList.remove(H.B)),qt.presented=!1;try{qt.el.style.setProperty("pointer-events","none"),qt.willDismiss.emit({data:rn,role:Fn}),null===(is=qt.willDismissShorthand)||void 0===is||is.emit({data:rn,role:Fn});const Dn=(0,O.b)(qt),nn=qt.leaveAnimation?qt.leaveAnimation:O.c.get(zr,"ios"===Dn?Li:ai);Fn!==dr&&(yield Ct(qt,nn,qt.el,Zn)),qt.didDismiss.emit({data:rn,role:Fn}),null===(Qi=qt.didDismissShorthand)||void 0===Qi||Qi.emit({data:rn,role:Fn}),(pe.get(qt)||[]).forEach(Ge=>Ge.destroy()),pe.delete(qt),qt.el.classList.add("overlay-hidden"),qt.el.style.removeProperty("pointer-events"),void 0!==qt.el.lastFocus&&(qt.el.lastFocus=void 0)}catch(Dn){console.error(Dn)}return qt.el.remove(),$r(),!0});return function(rn,Fn,zr,Li,ai,Zn,is){return Wn.apply(this,arguments)}}(),Yt=Wn=>Wn.querySelector("ion-app")||Wn.body,Ct=function(){var Wn=(0,B.Z)(function*(qt,rn,Fn,zr){Fn.classList.remove("overlay-hidden");const ai=rn(qt.el,zr);(!qt.animated||!O.c.getBoolean("animated",!0))&&ai.duration(0),qt.keyboardClose&&ai.beforeAddWrite(()=>{const is=Fn.ownerDocument.activeElement;is?.matches("input,ion-input, ion-textarea")&&is.blur()});const Zn=pe.get(qt)||[];return pe.set(qt,[...Zn,ai]),yield ai.play(),!0});return function(rn,Fn,zr,Li){return Wn.apply(this,arguments)}}(),bn=(Wn,qt)=>{let rn;const Fn=new Promise(zr=>rn=zr);return fn(Wn,qt,zr=>{rn(zr.detail)}),Fn},fn=(Wn,qt,rn)=>{const Fn=zr=>{(0,z.b)(Wn,qt,Fn),rn(zr)};(0,z.a)(Wn,qt,Fn)},kn=Wn=>"cancel"===Wn||Wn===Rn,un=Wn=>Wn(),Xn=(Wn,qt)=>{if("function"==typeof Wn)return O.c.get("_zoneGate",un)(()=>{try{return Wn(qt)}catch(Fn){throw Fn}})},Rn="backdrop",dr="gesture",Xr=39,Ln=Wn=>{let rn,qt=!1;const Fn=(0,R.C)(),zr=(Zn=!1)=>{if(rn&&!Zn)return{delegate:rn,inline:qt};const{el:is,hasController:Qi,delegate:Nr}=Wn;return qt=null!==is.parentNode&&!Qi,rn=qt?Nr||Fn:Nr,{inline:qt,delegate:rn}};return{attachViewToDom:function(){var Zn=(0,B.Z)(function*(is){const{delegate:Qi}=zr(!0);if(Qi)return yield Qi.attachViewToDom(Wn.el,is);const{hasController:Nr}=Wn;if(Nr&&void 0!==is)throw new Error("framework delegate is missing");return null});return function(Qi){return Zn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Zn}=zr();Zn&&void 0!==Wn.el&&Zn.removeViewFromDom(Wn.el.parentElement,Wn.el)}}},ir=()=>{let Wn;const qt=()=>{Wn&&(Wn(),Wn=void 0)};return{addClickListener:(Fn,zr)=>{qt();const Li=void 0!==zr?document.getElementById(zr):null;Li?Wn=((Zn,is)=>{const Qi=()=>{is.present()};return Zn.addEventListener("click",Qi),()=>{Zn.removeEventListener("click",Qi)}})(Li,Fn):(0,G.p)(`A trigger element with the ID "${zr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Fn)},removeClickListener:qt}},xr=Wn=>{var qt;if(void 0===E.d)return;const rn=et(E.d);for(let Fn=rn.length-1;Fn>=0;Fn--){const zr=rn[Fn],Li=null!==(qt=rn[Fn+1])&&void 0!==qt?qt:Wn;(Li.hasAttribute("aria-hidden")||"ION-TOAST"!==Li.tagName)&&zr.setAttribute("aria-hidden","true")}},$r=()=>{if(void 0===E.d)return;const Wn=et(E.d);for(let qt=Wn.length-1;qt>=0;qt--){const rn=Wn[qt];if(rn.removeAttribute("aria-hidden"),"ION-TOAST"!==rn.tagName)break}},en="ion-disable-focus-trap"},6895:(pt,Ze,X)=>{"use strict";function B(e){return"function"==typeof e}function E(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const z=E(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function p(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class O{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(B(r))try{r()}catch(s){n=s instanceof z?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{G(s)}catch(a){n=n??[],a instanceof z?n=[...n,...a.errors]:n.push(a)}}if(n)throw new z(n)}}add(n){var t;if(n&&n!==this)if(this.closed)G(n);else{if(n instanceof O){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&p(t,n)}remove(n){const{_finalizers:t}=this;t&&p(t,n),n instanceof O&&n._removeParent(this)}}O.EMPTY=(()=>{const e=new O;return e.closed=!0,e})();const R=O.EMPTY;function H(e){return e instanceof O||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function G(e){B(e)?e():e.unsubscribe()}const ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ee={setTimeout(e,n,...t){const{delegate:r}=Ee;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Ee;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function he(e){Ee.setTimeout(()=>{const{onUnhandledError:n}=ie;if(!n)throw e;n(e)})}function Pe(){}const Ie=ve("C",void 0,void 0);function ve(e,n,t){return{kind:e,value:n,error:t}}let de=null;function J(e){if(ie.useDeprecatedSynchronousErrorHandling){const n=!de;if(n&&(de={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=de;if(de=null,t)throw r}}else e()}class be extends O{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,H(n)&&n.add(this)):this.destination=Te}static create(n,t,r){return new se(n,t,r)}next(n){this.isStopped?rt(function pe(e){return ve("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?rt(function it(e){return ve("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?rt(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ee=Function.prototype.bind;function ae(e,n){return ee.call(e,n)}class ne{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){st(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){st(r)}else st(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){st(t)}}}class se extends be{constructor(n,t,r){let i;if(super(),B(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ie.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&ae(n.next,s),error:n.error&&ae(n.error,s),complete:n.complete&&ae(n.complete,s)}):i=n}this.destination=new ne(i)}}function st(e){ie.useDeprecatedSynchronousErrorHandling?function te(e){ie.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=e)}(e):he(e)}function rt(e,n){const{onStoppedNotification:t}=ie;t&&Ee.setTimeout(()=>t(e,n))}const Te={closed:!0,next:Pe,error:function $e(e){throw e},complete:Pe},ht="function"==typeof Symbol&&Symbol.observable||"@@observable";function tt(e){return e}function _t(e){return 0===e.length?tt:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let et=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function le(e){return e&&e instanceof be||function De(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}(e)&&H(e)}(t)?t:new se(t,r,i);return J(()=>{const{operator:a,source:h}=this;s.add(a?a.call(s,h):h?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Xe(r))((i,s)=>{const a=new se({next:h=>{try{t(h)}catch(m){s(m),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[ht](){return this}pipe(...t){return _t(t)(this)}toPromise(t){return new(t=Xe(t))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return e.create=n=>new e(n),e})();function Xe(e){var n;return null!==(n=e??ie.Promise)&&void 0!==n?n:Promise}const ze=E(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ve=(()=>{class e extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Yt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ze}next(t){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?R:(this.currentObservers=null,s.push(t),new O(()=>{this.currentObservers=null,p(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new et;return t.source=this,t}}return e.create=(n,t)=>new Yt(n,t),e})();class Yt extends Ve{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:R}}function Ct(e){return B(e?.lift)}function bn(e){return n=>{if(Ct(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fn(e,n,t,r,i){return new kn(e,n,t,r,i)}class kn extends be{constructor(n,t,r,i,s,a){super(n),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(h){try{t(h)}catch(m){n.error(m)}}:super._next,this._error=i?function(h){try{i(h)}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function un(e,n){return bn((t,r)=>{let i=0;t.subscribe(fn(r,s=>{r.next(e.call(n,s,i++))}))})}function Ln(e,n,t,r){var a,i=arguments.length,s=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,r);else for(var h=e.length-1;h>=0;h--)(a=e[h])&&(s=(i<3?a(s):i>3?a(n,t,s):a(n,t))||s);return i>3&&s&&Object.defineProperty(n,t,s),s}function Dn(e){return this instanceof Dn?(this.v=e,this):new Dn(e)}function Ge(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function ai(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(a){return new Promise(function(h,m){!function i(s,a,h,m){Promise.resolve(m).then(function(y){s({value:y,done:h})},a)}(h,m,(a=e[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Me=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Je(e){return B(e?.then)}function gt(e){return B(e[ht])}function Ft(e){return Symbol.asyncIterator&&B(e?.[Symbol.asyncIterator])}function Tt(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Bt=function xt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hn(e){return B(e?.[Bt])}function En(e){return function nn(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i={},h("next"),h("throw"),h("return",function a(j){return function(fe){return Promise.resolve(fe).then(j,L)}}),i[Symbol.asyncIterator]=function(){return this},i;function h(j,fe){r[j]&&(i[j]=function(we){return new Promise(function(qe,Ue){s.push([j,we,qe,Ue])>1||m(j,we)})},fe&&(i[j]=fe(i[j])))}function m(j,fe){try{!function y(j){j.value instanceof Dn?Promise.resolve(j.value.v).then(C,L):F(s[0][2],j)}(r[j](fe))}catch(we){F(s[0][3],we)}}function C(j){m("next",j)}function L(j){m("throw",j)}function F(j,fe){j(fe),s.shift(),s.length&&m(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Dn(t.read());if(i)return yield Dn(void 0);yield yield Dn(r)}}finally{t.releaseLock()}})}function In(e){return B(e?.getReader)}function sr(e){if(e instanceof et)return e;if(null!=e){if(gt(e))return function fr(e){return new et(n=>{const t=e[ht]();if(B(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Me(e))return function Gn(e){return new et(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Je(e))return function lr(e){return new et(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,he)})}(e);if(Ft(e))return Wr(e);if(hn(e))return function hr(e){return new et(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(In(e))return function Ir(e){return Wr(En(e))}(e)}throw Tt(e)}function Wr(e){return new et(n=>{(function wi(e,n){var t,r,i,s;return function rn(e,n,t,r){return new(t||(t=Promise))(function(s,a){function h(C){try{y(r.next(C))}catch(L){a(L)}}function m(C){try{y(r.throw(C))}catch(L){a(L)}}function y(C){C.done?s(C.value):function i(s){return s instanceof t?s:new t(function(a){a(s)})}(C.value).then(h,m)}y((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Ge(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function li(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function mi(e,n,t=1/0){return B(n)?mi((r,i)=>un((s,a)=>n(r,s,i,a))(sr(e(r,i))),t):("number"==typeof n&&(t=n),bn((r,i)=>function Js(e,n,t,r,i,s,a,h){const m=[];let y=0,C=0,L=!1;const F=()=>{L&&!m.length&&!y&&n.complete()},j=we=>y<r?fe(we):m.push(we),fe=we=>{s&&n.next(we),y++;let qe=!1;sr(t(we,C++)).subscribe(fn(n,Ue=>{i?.(Ue),s?j(Ue):n.next(Ue)},()=>{qe=!0},void 0,()=>{if(qe)try{for(y--;m.length&&y<r;){const Ue=m.shift();a?li(n,a,()=>fe(Ue)):fe(Ue)}F()}catch(Ue){n.error(Ue)}}))};return e.subscribe(fn(n,j,()=>{L=!0,F()})),()=>{h?.()}}(r,i,e,t)))}function Cs(e=1/0){return mi(tt,e)}const Yi=new et(e=>e.complete());function no(e){return e&&B(e.schedule)}function Oo(e){return e[e.length-1]}function Ns(e){return B(Oo(e))?e.pop():void 0}function Wi(e){return no(Oo(e))?e.pop():void 0}function jn(e,n=0){return bn((t,r)=>{t.subscribe(fn(r,i=>li(r,e,()=>r.next(i),n),()=>li(r,e,()=>r.complete(),n),i=>li(r,e,()=>r.error(i),n)))})}function vr(e,n=0){return bn((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Ds(e,n){if(!e)throw new Error("Iterable cannot be null");return new et(t=>{li(t,n,()=>{const r=e[Symbol.asyncIterator]();li(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function It(e,n){return n?function mt(e,n){if(null!=e){if(gt(e))return function Qr(e,n){return sr(e).pipe(vr(n),jn(n))}(e,n);if(Me(e))return function hs(e,n){return new et(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Je(e))return function Xs(e,n){return sr(e).pipe(vr(n),jn(n))}(e,n);if(Ft(e))return Ds(e,n);if(hn(e))return function ps(e,n){return new et(t=>{let r;return li(t,n,()=>{r=e[Bt](),li(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void t.error(a)}s?t.complete():t.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}(e,n);if(In(e))return function kl(e,n){return Ds(En(e),n)}(e,n)}throw Tt(e)}(e,n):sr(e)}function Ot(...e){const n=Wi(e),t=function Xi(e,n){return"number"==typeof Oo(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?sr(r[0]):Cs(t)(It(r,n)):Yi}class $t extends Ve{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Xt(...e){return It(e,Wi(e))}function on(e={}){const{connector:n=(()=>new Ve),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let a,h,m,y=0,C=!1,L=!1;const F=()=>{h?.unsubscribe(),h=void 0},j=()=>{F(),a=m=void 0,C=L=!1},fe=()=>{const we=a;j(),we?.unsubscribe()};return bn((we,qe)=>{y++,!L&&!C&&F();const Ue=m=m??n();qe.add(()=>{y--,0===y&&!L&&!C&&(h=rr(fe,i))}),Ue.subscribe(qe),!a&&y>0&&(a=new se({next:Ae=>Ue.next(Ae),error:Ae=>{L=!0,F(),h=rr(j,t,Ae),Ue.error(Ae)},complete:()=>{C=!0,F(),h=rr(j,r),Ue.complete()}}),sr(we).subscribe(a))})(s)}}function rr(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new se({next:()=>{r.unsubscribe(),e()}});return sr(n(...t)).subscribe(r)}function Cn(e,n){return bn((t,r)=>{let i=null,s=0,a=!1;const h=()=>a&&!i&&r.complete();t.subscribe(fn(r,m=>{i?.unsubscribe();let y=0;const C=s++;sr(e(m,C)).subscribe(i=fn(r,L=>r.next(n?n(m,L,C,y++):L),()=>{i=null,h()}))},()=>{a=!0,h()}))})}function wr(e,n=tt){return e=e??Lr,bn((t,r)=>{let i,s=!0;t.subscribe(fn(r,a=>{const h=n(a);(s||!e(i,h))&&(s=!1,i=h,r.next(a))}))})}function Lr(e,n){return e===n}function ar(e){for(let n in e)if(e[n]===ar)return n;throw Error("Could not find renamed property on target object.")}function qr(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function ei(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ei).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function ss(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Ps=ar({__forward_ref__:ar});function Re(e){return e.__forward_ref__=Re,e.toString=function(){return ei(this())},e}function ut(e){return Wt(e)?e():e}function Wt(e){return"function"==typeof e&&e.hasOwnProperty(Ps)&&e.__forward_ref__===Re}function An(e){return e&&!!e.\u0275providers}const Hr="https://g.co/ng/security#xss";class gn extends Error{constructor(n,t){super(function zi(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function jr(e){return"string"==typeof e?e:null==e?"":String(e)}function qa(e,n){throw new gn(-201,!1)}function zt(e,n){null==e&&function At(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function _n(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function nr(e){return{providers:e.providers||[],imports:e.imports||[]}}function br(e){return ri(e,Eo)||ri(e,xs)}function ri(e,n){return e.hasOwnProperty(n)?e[n]:null}function Vs(e){return e&&(e.hasOwnProperty(To)||e.hasOwnProperty(Ur))?e[To]:null}const Eo=ar({\u0275prov:ar}),To=ar({\u0275inj:ar}),xs=ar({ngInjectableDef:ar}),Ur=ar({ngInjectorDef:ar});var Gi=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Gi||{});let ya;function gs(e){const n=ya;return ya=e,n}function $l(e,n,t){const r=br(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Gi.Optional?null:void 0!==n?n:void qa(ei(e))}const lo=globalThis;class mr{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=_n({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xa={},Gs="__NG_DI_FLAG__",Ha="ngTempTokenPath",Nl=/\n/gm,Oa="__source";let vc;function Za(e){const n=vc;return vc=e,n}function Fo(e,n=Gi.Default){if(void 0===vc)throw new gn(-203,!1);return null===vc?$l(e,void 0,n):vc.get(e,n&Gi.Optional?null:void 0,n)}function tr(e,n=Gi.Default){return(function No(){return ya}()||Fo)(ut(e),n)}function Pr(e,n=Gi.Default){return tr(e,Ul(n))}function Ul(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function _u(e){const n=[];for(let t=0;t<e.length;t++){const r=ut(e[t]);if(Array.isArray(r)){if(0===r.length)throw new gn(900,!1);let i,s=Gi.Default;for(let a=0;a<r.length;a++){const h=r[a],m=ol(h);"number"==typeof m?-1===m?i=h.token:s|=m:i=h}n.push(tr(i,s))}else n.push(tr(r))}return n}function Vl(e,n){return e[Gs]=n,e.prototype[Gs]=n,e}function ol(e){return e[Gs]}function mo(e){return{toString:e}.toString()}var eu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(eu||{}),Ba=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ba||{});const ro={},qi=[],va=ar({\u0275cmp:ar}),tu=ar({\u0275dir:ar}),Cu=ar({\u0275pipe:ar}),vd=ar({\u0275mod:ar}),El=ar({\u0275fac:ar}),Ka=ar({__NG_ELEMENT_ID__:ar}),Bo=ar({__NG_ENV_ID__:ar});function $a(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}function kc(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],a=t[r++],h=t[r++];e.setAttribute(n,a,h,s)}else{const s=i,a=t[++r];Du(s)?e.setProperty(n,s,a):e.setAttribute(n,s,a),r++}}return r}function hl(e){return 3===e||4===e||6===e}function Du(e){return 64===e.charCodeAt(0)}function Iu(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Lu(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Lu(e,n,t,r,i){let s=0,a=e.length;if(-1===n)a=-1;else for(;s<e.length;){const h=e[s++];if("number"==typeof h){if(h===n){a=-1;break}if(h>n){a=s-1;break}}}for(;s<e.length;){const h=e[s];if("number"==typeof h)break;if(h===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(e.splice(a,0,n),s=a+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const nu="ng-template";function yn(e,n,t){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const a=e[r++];if(t&&"class"===s&&-1!==$a(a.toLowerCase(),n,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function er(e){return 4===e.type&&e.value!==nu}function zn(e,n,t){return n===(4!==e.type||t?e.value:nu)}function ui(e,n,t){let r=4;const i=e.attrs||[],s=function Po(e){for(let n=0;n<e.length;n++)if(hl(e[n]))return n;return e.length}(i);let a=!1;for(let h=0;h<n.length;h++){const m=n[h];if("number"!=typeof m){if(!a)if(4&r){if(r=2|1&r,""!==m&&!zn(e,m,t)||""===m&&1===n.length){if(Ci(r))return!1;a=!0}}else{const y=8&r?m:n[++h];if(8&r&&null!==e.attrs){if(!yn(e.attrs,y,t)){if(Ci(r))return!1;a=!0}continue}const L=Zs(8&r?"class":m,i,er(e),t);if(-1===L){if(Ci(r))return!1;a=!0;continue}if(""!==y){let F;F=L>s?"":i[L+1].toLowerCase();const j=8&r?F:null;if(j&&-1!==$a(j,y,0)||2&r&&y!==F){if(Ci(r))return!1;a=!0}}}}else{if(!a&&!Ci(r)&&!Ci(m))return!1;if(a&&Ci(m))continue;a=!1,r=m|1&r}}return Ci(r)||a}function Ci(e){return 0==(1&e)}function Zs(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const a=n[i];if(a===e)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let h=n[++i];for(;"string"==typeof h;)h=n[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function Ja(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function eo(e,n,t=!1){for(let r=0;r<n.length;r++)if(ui(e,n[r],t))return!0;return!1}function Do(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function wa(e,n){return e?":not("+n.trim()+")":n}function bh(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let a=e[t];if("string"==typeof a)if(2&r){const h=e[++t];i+="["+a+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Ci(a)&&(n+=wa(s,i),i=""),r=a,s=s||!Ci(r);t++}return""!==i&&(n+=wa(s,i)),n}function Qn(e){return mo(()=>{const n=Vc(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===eu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ba.Emulated,styles:e.styles||qi,_:null,schemas:e.schemas||null,tView:null,id:""};id(t);const r=e.dependencies;return t.directiveDefs=Qa(r,!1),t.pipeDefs=Qa(r,!0),t.id=function ec(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function ha(e){return es(e)||pa(e)}function hi(e){return null!==e}function go(e){return mo(()=>({type:e.type,bootstrap:e.bootstrap||qi,declarations:e.declarations||qi,imports:e.imports||qi,exports:e.exports||qi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function yl(e,n){if(null==e)return ro;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,n&&(n[i]=s)}return t}function Ti(e){return mo(()=>{const n=Vc(e);return id(n),n})}function Kn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function es(e){return e[va]||null}function pa(e){return e[tu]||null}function Io(e){return e[Cu]||null}function to(e,n){const t=e[vd]||null;if(!t&&!0===n)throw new Error(`Type ${ei(e)} does not have '\u0275mod' property.`);return t}function Vc(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ro,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||qi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yl(e.inputs,n),outputs:yl(e.outputs)}}function id(e){e.features?.forEach(n=>n(e))}function Qa(e,n){if(!e)return null;const t=n?Io:ha;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(hi)}const wo=0,si=1,_i=2,ms=3,Ua=4,Ca=5,Na=6,wu=7,ys=8,Va=9,js=10,Di=11,ba=12,Jd=13,sd=14,bo=15,wc=16,xa=17,vl=18,yi=19,ki=20,fl=21,pl=22,Fl=23,ci=24,vs=25,tc=1,el=2,xo=7,io=9,yt=11;function c(e){return Array.isArray(e)&&"object"==typeof e[tc]}function _(e){return Array.isArray(e)&&!0===e[tc]}function w(e){return 0!=(4&e.flags)}function I(e){return e.componentOffset>-1}function W(e){return 1==(1&e.flags)}function re(e){return!!e.template}function x(e){return 0!=(512&e[_i])}function Hn(e,n){return e.hasOwnProperty(El)?e[El]:null}let ti=null,Hs=!1;function Br(e){const n=ti;return ti=e,n}const Ki={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ws(e){if(!ao(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Tl(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Ks(e){e.dirty=!0,function Rs(e){if(void 0===e.liveConsumerNode)return;const n=Hs;Hs=!0;try{for(const t of e.liveConsumerNode)t.dirty||Ks(t)}finally{Hs=n}}(e),e.consumerMarkedDirty?.(e)}function tl(e){return e&&(e.nextProducerIndex=0),Br(e)}function co(e,n){if(Br(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ao(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)bu(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Tl(e){iu(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Ws(t),r!==t.version))return!0}return!1}function Ra(e){if(iu(e),ao(e))for(let n=0;n<e.producerNode.length;n++)bu(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function bu(e,n){if(function Au(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),iu(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)bu(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];iu(i),i.producerIndexOfThis[r]=n}}function ao(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function iu(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let nl=null;function wd(e){const n=Br(null);try{return e()}finally{Br(n)}}const Wl=()=>{},Uu=(()=>({...Ki,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Wl}))();class ad{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function bc(){return Mh}function Mh(e){return e.type.prototype.ngOnChanges&&(e.setInput=Qd),gl}function gl(){const e=so(this),n=e?.current;if(n){const t=e.previous;if(t===ro)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Qd(e,n,t,r){const i=this.declaredInputs[t],s=so(e)||function k(e,n){return e[eh]=n}(e,{previous:ro,current:null}),a=s.current||(s.current={}),h=s.previous,m=h[i];a[i]=new ad(m&&m.currentValue,n,h===ro),e[r]=n}bc.ngInherit=!0;const eh="__ngSimpleChanges__";function so(e){return e[eh]||null}const Fe=function(e,n,t){};function Vn(e){for(;Array.isArray(e);)e=e[wo];return e}function Es(e,n){return Vn(n[e])}function ws(e,n){return Vn(n[e.index])}function ld(e,n){return e.data[n]}function lu(e,n){return e[n]}function qc(e,n){const t=n[e];return c(t)?t:t[wo]}function Id(e,n){return null==n?null:e[n]}function Ag(e){e[xa]=0}function Rm(e){1024&e[_i]||(e[_i]|=1024,Sh(e,1))}function rc(e){1024&e[_i]&&(e[_i]&=-1025,Sh(e,-1))}function Sh(e,n){let t=e[ms];if(null===t)return;t[Ca]+=n;let r=t;for(t=t[ms];null!==t&&(1===n&&1===r[Ca]||-1===n&&0===r[Ca]);)t[Ca]+=n,r=t,t=t[ms]}const Ts={lFrame:jm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fm(){return Ts.bindingsEnabled}function Eh(){return null!==Ts.skipHydrationRootTNode}function Cr(){return Ts.lFrame.lView}function Yo(){return Ts.lFrame.tView}function Ar(e){return Ts.lFrame.contextLView=e,e[ys]}function kr(e){return Ts.lFrame.contextLView=null,e}function ku(){let e=Ym();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ym(){return Ts.lFrame.currentTNode}function Xc(e,n){const t=Ts.lFrame;t.currentTNode=e,t.isParent=n}function cd(){return Ts.lFrame.isParent}function Og(){Ts.lFrame.isParent=!1}function sc(){const e=Ts.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Th(){return Ts.lFrame.bindingIndex}function Qf(){return Ts.lFrame.bindingIndex++}function th(e){const n=Ts.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function gy(e,n){const t=Ts.lFrame;t.bindingIndex=t.bindingRootIndex=e,xc(n)}function xc(e){Ts.lFrame.currentDirectiveIndex=e}function Hp(){return Ts.lFrame.currentQueryIndex}function Rg(e){Ts.lFrame.currentQueryIndex=e}function Mf(e){const n=e[si];return 2===n.type?n.declTNode:1===n.type?e[Na]:null}function nh(e,n,t){if(t&Gi.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&Gi.Host||(i=Mf(s),null===i||(s=s[sd],10&i.type))););if(null===i)return!1;n=i,e=s}const r=Ts.lFrame=Fg();return r.currentTNode=n,r.lView=e,!0}function Xh(e){const n=Fg(),t=e[si];Ts.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Fg(){const e=Ts.lFrame,n=null===e?null:e.child;return null===n?jm(e):n}function jm(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Sf(){const e=Ts.lFrame;return Ts.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ch=Sf;function Dh(){const e=Sf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function oc(){return Ts.lFrame.selectedIndex}function Kc(e){Ts.lFrame.selectedIndex=e}function Il(){const e=Ts.lFrame;return ld(e.tView,e.selectedIndex)}let np=!0;function rp(){return np}function rh(e){np=e}function Up(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:h,ngAfterViewInit:m,ngAfterViewChecked:y,ngOnDestroy:C}=s;a&&(e.contentHooks??=[]).push(-t,a),h&&((e.contentHooks??=[]).push(t,h),(e.contentCheckHooks??=[]).push(t,h)),m&&(e.viewHooks??=[]).push(-t,m),y&&((e.viewHooks??=[]).push(t,y),(e.viewCheckHooks??=[]).push(t,y)),null!=C&&(e.destroyHooks??=[]).push(t,C)}}function bd(e,n,t){yy(e,n,3,t)}function Vp(e,n,t,r){(3&e[_i])===t&&yy(e,n,t,r)}function Ld(e,n){let t=e[_i];(3&t)===n&&(t&=8191,t+=1,e[_i]=t)}function yy(e,n,t,r){const s=r??-1,a=n.length-1;let h=0;for(let m=void 0!==r?65535&e[xa]:0;m<a;m++)if("number"==typeof n[m+1]){if(h=n[m],null!=r&&h>=r)break}else n[m]<0&&(e[xa]+=65536),(h<s||-1==s)&&(ip(e,t,n,m),e[xa]=(4294901760&e[xa])+m+2),m++}function Bg(e,n){Fe(4,e,n);const t=Br(null);try{n.call(e)}finally{Br(t),Fe(5,e,n)}}function ip(e,n,t,r){const i=t[r]<0,s=t[r+1],h=e[i?-t[r]:t[r]];i?e[_i]>>13<e[xa]>>16&&(3&e[_i])===n&&(e[_i]+=8192,Bg(h,s)):Bg(h,s)}const sp=-1;class dd{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function hd(e){return e!==sp}function Ef(e){return 32767&e}function lp(e,n){let t=function qm(e){return e>>16}(e),r=n;for(;t>0;)r=r[sd],t--;return r}let Ou=!0;function zg(e){const n=Ou;return Ou=e,n}const Tf=255,Xm=5;let vy=0;const ih={};function jg(e,n){const t=Mc(e,n);if(-1!==t)return t;const r=n[si];r.firstCreatePass&&(e.injectorIndex=n.length,Ad(r.data,e),Ad(n,null),Ad(r.blueprint,null));const i=Cf(e,n),s=e.injectorIndex;if(hd(i)){const a=Ef(i),h=lp(i,n),m=h[si].data;for(let y=0;y<8;y++)n[s+y]=h[a+y]|m[a+y]}return n[s+8]=i,s}function Ad(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Mc(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Cf(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=Sa(i),null===r)return sp;if(t++,i=i[sd],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return sp}function Gp(e,n,t){!function a0(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ka)&&(r=t[Ka]),null==r&&(r=t[Ka]=vy++);const i=r&Tf;n.data[e+(i>>Xm)]|=1<<i}(e,n,t)}function Zm(e,n,t){if(t&Gi.Optional||void 0!==e)return e;qa()}function Km(e,n,t,r){if(t&Gi.Optional&&void 0===r&&(r=null),!(t&(Gi.Self|Gi.Host))){const i=e[Va],s=gs(void 0);try{return i?i.get(n,r,t&Gi.Optional):$l(n,r,t&Gi.Optional)}finally{gs(s)}}return Zm(r,0,t)}function up(e,n,t,r=Gi.Default,i){if(null!==e){if(2048&n[_i]&&!(r&Gi.Self)){const a=function Jm(e,n,t,r,i){let s=e,a=n;for(;null!==s&&null!==a&&2048&a[_i]&&!(512&a[_i]);){const h=cp(s,a,t,r|Gi.Self,ih);if(h!==ih)return h;let m=s.parent;if(!m){const y=a[ki];if(y){const C=y.get(t,ih,r);if(C!==ih)return C}m=Sa(a),a=a[sd]}s=m}return i}(e,n,t,r,ih);if(a!==ih)return a}const s=cp(e,n,t,r,ih);if(s!==ih)return s}return Km(n,t,r,i)}function cp(e,n,t,r,i){const s=function l0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ka)?e[Ka]:void 0;return"number"==typeof n?n>=0?n&Tf:ql:n}(t);if("function"==typeof s){if(!nh(n,e,r))return r&Gi.Host?Zm(i,0,r):Km(n,t,r,i);try{let a;if(a=s(r),null!=a||r&Gi.Optional)return a;qa()}finally{Ch()}}else if("number"==typeof s){let a=null,h=Mc(e,n),m=sp,y=r&Gi.Host?n[bo][Na]:null;for((-1===h||r&Gi.SkipSelf)&&(m=-1===h?Cf(e,n):n[h+8],m!==sp&&$g(r,!1)?(a=n[si],h=Ef(m),n=lp(m,n)):h=-1);-1!==h;){const C=n[si];if(by(s,h,C.data)){const L=wy(h,n,t,a,r,y);if(L!==ih)return L}m=n[h+8],m!==sp&&$g(r,n[si].data[h+8]===y)&&by(s,h,n)?(a=C,h=Ef(m),n=lp(m,n)):h=-1}}return i}function wy(e,n,t,r,i,s){const a=n[si],h=a.data[e+8],C=Wp(h,a,t,null==r?I(h)&&Ou:r!=a&&0!=(3&h.type),i&Gi.Host&&s===h);return null!==C?Df(n,a,C,h):ih}function Wp(e,n,t,r,i){const s=e.providerIndexes,a=n.data,h=1048575&s,m=e.directiveStart,C=s>>20,F=i?h+C:e.directiveEnd;for(let j=r?h:h+C;j<F;j++){const fe=a[j];if(j<m&&t===fe||j>=m&&fe.type===t)return j}if(i){const j=a[m];if(j&&re(j)&&j.type===t)return m}return null}function Df(e,n,t,r){let i=e[t];const s=n.data;if(function Um(e){return e instanceof dd}(i)){const a=i;a.resolving&&function Ml(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new gn(-200,`Circular dependency in DI detected for ${e}${t}`)}(function ns(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():jr(e)}(s[t]));const h=zg(a.canSeeViewProviders);a.resolving=!0;const y=a.injectImpl?gs(a.injectImpl):null;nh(e,r,Gi.Default);try{i=e[t]=a.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function o0(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const a=Mh(n);(t.preOrderHooks??=[]).push(e,a),(t.preOrderCheckHooks??=[]).push(e,a)}i&&(t.preOrderHooks??=[]).push(0-e,i),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],n)}finally{null!==y&&gs(y),zg(h),a.resolving=!1,Ch()}}return i}function by(e,n,t){return!!(t[n+(e>>Xm)]&1<<e)}function $g(e,n){return!(e&Gi.Self||e&Gi.Host&&n)}class uu{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return up(this._tNode,this._lView,n,Ul(r),t)}}function ql(){return new uu(ku(),Cr())}function Da(e){return mo(()=>{const n=e.prototype.constructor,t=n[El]||hp(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[El]||hp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hp(e){return Wt(e)?()=>{const n=hp(ut(e));return n&&n()}:Hn(e)}function Sa(e){const n=e[si],t=n.type;return 2===t?n.declTNode:1===t?e[Na]:null}function fd(e){return function Hg(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(hl(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===n)return t[i+1];i+=2}}}return null}(ku(),e)}const Sc="__parameters__";function fp(e,n,t){return mo(()=>{const r=function qp(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return h.annotation=a,h;function h(m,y,C){const L=m.hasOwnProperty(Sc)?m[Sc]:Object.defineProperty(m,Sc,{value:[]})[Sc];for(;L.length<=C;)L.push(null);return(L[C]=L[C]||[]).push(a),m}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Kh(e,n){e.forEach(t=>Array.isArray(t)?Kh(t,n):n(t))}function e_(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Vu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Lf(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function Gu(e,n,t){let r=Lh(e,n);return r>=0?e[1|r]=t:(r=~r,function Zp(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function gp(e,n){const t=Lh(e,n);if(t>=0)return e[1|t]}function Lh(e,n){return function t_(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const s=r+(i-r>>1),a=e[s<<t];if(n===a)return s<<t;a>n?i=s:r=s+1}return~(i<<t)}(e,n,1)}const Ah=Vl(fp("Optional"),8),Pd=Vl(fp("SkipSelf"),4);function em(e){return 128==(128&e.flags)}var Nc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Nc||{});const eg=/^>|^->|<!--|-->|--!>|<!-$/g,Ny=/(<|>)/g,Ry="\u200b$1\u200b";const m_=new Map;let x0=0;const nm="__ngContext__";function lc(e,n){c(n)?(e[nm]=n[yi],function _p(e){m_.set(e[yi],e)}(n)):e[nm]=n}let im;function ng(e,n){return im(e,n)}function Nf(e){const n=e[ms];return _(n)?n[ms]:n}function yp(e){return M_(e[ba])}function sm(e){return M_(e[Ua])}function M_(e){for(;null!==e&&!_(e);)e=e[Ua];return e}function nf(e,n,t,r,i){if(null!=r){let s,a=!1;_(r)?s=r:c(r)&&(a=!0,r=r[wo]);const h=Vn(r);0===e&&null!==t?null==i?ft(n,t,h):Qe(n,t,h,i||null,!0):1===e&&null!==t?Qe(n,t,h,i||null,!0):2===e?function xi(e,n,t){const r=Zt(e,n);r&&function Rt(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,h,a):3===e&&n.destroyNode(h),null!=s&&function _o(e,n,t,r,i){const s=t[xo];s!==Vn(t)&&nf(n,e,r,s,i);for(let h=yt;h<t.length;h++){const m=t[h];Vi(m[si],m,e,n,r,s)}}(n,e,s,t,i)}}function rg(e,n){return e.createComment(function g_(e){return e.replace(eg,n=>n.replace(Ny,Ry))}(n))}function wp(e,n,t){return e.createElement(n,t)}function T(e,n){const t=e[io],r=t.indexOf(n);rc(n),t.splice(r,1)}function P(e,n){if(e.length<=yt)return;const t=yt+n,r=e[t];if(r){const i=r[wc];null!==i&&i!==e&&T(i,r),n>0&&(e[t-1][Ua]=r[Ua]);const s=Vu(e,yt+n);!function S_(e,n){Vi(e,n,n[Di],2,null,null),n[wo]=null,n[Na]=null}(r[si],r);const a=s[vl];null!==a&&a.detachView(s[si]),r[ms]=null,r[Ua]=null,r[_i]&=-129}return r}function N(e,n){if(!(256&n[_i])){const t=n[Di];n[Fl]&&Ra(n[Fl]),n[ci]&&Ra(n[ci]),t.destroyNode&&Vi(e,n,t,3,null,null),function u(e){let n=e[ba];if(!n)return V(e[si],e);for(;n;){let t=null;if(c(n))t=n[ba];else{const r=n[yt];r&&(t=r)}if(!t){for(;n&&!n[Ua]&&n!==e;)c(n)&&V(n[si],n),n=n[ms];null===n&&(n=e),c(n)&&V(n[si],n),t=n&&n[Ua]}n=t}}(n)}}function V(e,n){if(!(256&n[_i])){n[_i]&=-129,n[_i]|=256,function ue(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof dd)){const s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const h=i[s[a]],m=s[a+1];Fe(4,h,m);try{m.call(h)}finally{Fe(5,h,m)}}else{Fe(4,i,s);try{s.call(i)}finally{Fe(5,i,s)}}}}}(e,n),function Z(e,n){const t=e.cleanup,r=n[wu];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(n[wu]=null);const i=n[fl];if(null!==i){n[fl]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,n),1===n[si].type&&n[Di].destroy();const t=n[wc];if(null!==t&&_(n[ms])){t!==n[ms]&&T(t,n);const r=n[vl];null!==r&&r.detachView(e)}!function tm(e){m_.delete(e[yi])}(n)}}function Le(e,n,t){return function Ye(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[wo];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Ba.None||s===Ba.Emulated)return null}return ws(r,t)}}(e,n.parent,t)}function Qe(e,n,t,r,i){e.insertBefore(n,t,r,i)}function ft(e,n,t){e.appendChild(n,t)}function vt(e,n,t,r,i){null!==r?Qe(e,n,t,r,i):ft(e,n,t)}function Zt(e,n){return e.parentNode(n)}function Jt(e,n,t){return Un(e,n,t)}let ur,Su,Un=function mn(e,n,t){return 40&e.type?ws(e,t):null};function Ri(e,n,t,r){const i=Le(e,r,n),s=n[Di],h=Jt(r.parent||n[Na],r,n);if(null!=i)if(Array.isArray(t))for(let m=0;m<t.length;m++)vt(s,i,t[m],h,!1);else vt(s,i,t,h,!1);void 0!==ur&&ur(s,r,n,t,i)}function oi(e,n){if(null!==n){const t=n.type;if(3&t)return ws(n,e);if(4&t)return Gr(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return oi(e,r);{const i=e[n.index];return _(i)?Gr(-1,i):Vn(i)}}if(32&t)return ng(n,e)()||Vn(e[n.index]);{const r=ni(e,n);return null!==r?Array.isArray(r)?r[0]:oi(Nf(e[bo]),r):oi(e,n.next)}}return null}function ni(e,n){return null!==n?e[bo][Na].projection[n.projection]:null}function Gr(e,n){const t=yt+e+1;if(t<n.length){const r=n[t],i=r[si].firstChild;if(null!==i)return oi(r,i)}return n[xo]}function Dr(e,n,t,r,i,s,a){for(;null!=t;){const h=r[t.index],m=t.type;if(a&&0===n&&(h&&lc(Vn(h),r),t.flags|=2),32!=(32&t.flags))if(8&m)Dr(e,n,t.child,r,i,s,!1),nf(n,e,i,h,s);else if(32&m){const y=ng(t,r);let C;for(;C=y();)nf(n,e,i,C,s);nf(n,e,i,h,s)}else 16&m?$s(e,n,r,t,i,s):nf(n,e,i,h,s);t=a?t.projectionNext:t.next}}function Vi(e,n,t,r,i,s){Dr(t,r,e.firstChild,n,i,s,!1)}function $s(e,n,t,r,i,s){const a=t[bo],m=a[Na].projection[r.projection];if(Array.isArray(m))for(let y=0;y<m.length;y++)nf(n,e,i,m[y],s);else{let y=m;const C=a[ms];em(r)&&(y.flags|=128),Dr(e,n,y,C,i,s,!0)}}function Rc(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function uc(e,n,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&kc(e,n,r),null!==i&&Rc(e,n,i),null!==s&&function cu(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}class Ru{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hr})`}}function Fu(e){return e instanceof Ru?e.changingThisBreaksApplicationSecurity:e}const Jc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var sg=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(sg||{});function qy(e){const n=function L_(){const e=Cr();return e&&e[js].sanitizer}();return n?n.sanitize(sg.URL,e)||"":function cc(e,n){const t=function Fc(e){return e instanceof Ru&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Hr})`)}return t===n}(e,"URL")?Fu(e):function T_(e){return(e=String(e)).match(Jc)?e:"unsafe:"+e}(jr(e))}const A_=new mr("ENVIRONMENT_INITIALIZER"),Fw=new mr("INJECTOR",-1),Bw=new mr("INJECTOR_DEF_TYPES");class T0{get(n,t=Xa){if(t===Xa){const r=new Error(`NullInjectorError: No provider for ${ei(n)}!`);throw r.name="NullInjectorError",r}return t}}function Xy(e){return{\u0275providers:e}}function WM(...e){return{\u0275providers:Yw(0,e),\u0275fromNgModule:!0}}function Yw(e,...n){const t=[],r=new Set;let i;const s=a=>{t.push(a)};return Kh(n,a=>{const h=a;Zy(h,s,[],r)&&(i||=[],i.push(h))}),void 0!==i&&zw(i,s),t}function zw(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];C0(i,s=>{n(s,r)})}}function Zy(e,n,t,r){if(!(e=ut(e)))return!1;let i=null,s=Vs(e);const a=!s&&es(e);if(s||a){if(a&&!a.standalone)return!1;i=e}else{const m=e.ngModule;if(s=Vs(m),!s)return!1;i=m}const h=r.has(i);if(a){if(h)return!1;if(r.add(i),a.dependencies){const m="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const y of m)Zy(y,n,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!h){let y;r.add(i);try{Kh(s.imports,C=>{Zy(C,n,t,r)&&(y||=[],y.push(C))})}finally{}void 0!==y&&zw(y,n)}if(!h){const y=Hn(i)||(()=>new i);n({provide:i,useFactory:y,deps:qi},i),n({provide:Bw,useValue:i,multi:!0},i),n({provide:A_,useValue:()=>tr(i),multi:!0},i)}const m=s.providers;if(null!=m&&!h){const y=e;C0(m,C=>{n(C,y)})}}}return i!==e&&void 0!==e.providers}function C0(e,n){for(let t of e)An(t)&&(t=t.\u0275providers),Array.isArray(t)?C0(t,n):n(t)}const qM=ar({provide:String,useValue:ar});function D0(e){return null!==e&&"object"==typeof e&&qM in e}function bp(e){return"function"==typeof e}const I0=new mr("Set Injector scope."),Jy={},XM={};let P_;function Qy(){return void 0===P_&&(P_=new T0),P_}class Cc{}class um extends Cc{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,k_(n,a=>this.processProvider(a)),this.records.set(Fw,cm(void 0,this)),i.has("environment")&&this.records.set(Cc,cm(void 0,this));const s=this.records.get(I0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Bw.multi,qi,Gi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Za(this),r=gs(void 0);try{return n()}finally{Za(t),gs(r)}}get(n,t=Xa,r=Gi.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Bo))return n[Bo](this);r=Ul(r);const s=Za(this),a=gs(void 0);try{if(!(r&Gi.SkipSelf)){let m=this.records.get(n);if(void 0===m){const y=function JM(e){return"function"==typeof e||"object"==typeof e&&e instanceof mr}(n)&&br(n);m=y&&this.injectableDefInScope(y)?cm(ed(n),Jy):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(r&Gi.Self?Qy():this.parent).get(n,t=r&Gi.Optional&&t===Xa?null:t)}catch(h){if("NullInjectorError"===h.name){if((h[Ha]=h[Ha]||[]).unshift(ei(n)),s)throw h;return function wh(e,n,t,r){const i=e[Ha];throw n[Oa]&&i.unshift(n[Oa]),e.message=function Hu(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ei(n);if(Array.isArray(n))i=n.map(ei).join(" -> ");else if("object"==typeof n){let s=[];for(let a in n)if(n.hasOwnProperty(a)){let h=n[a];s.push(a+":"+("string"==typeof h?JSON.stringify(h):ei(h)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(Nl,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Ha]=null,e}(h,n,"R3InjectorError",this.source)}throw h}finally{gs(a),Za(s)}}resolveInjectorInitializers(){const n=Za(this),t=gs(void 0);try{const i=this.get(A_.multi,qi,Gi.Self);for(const s of i)s()}finally{Za(n),gs(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(ei(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new gn(205,!1)}processProvider(n){let t=bp(n=ut(n))?n:ut(n&&n.provide);const r=function ZM(e){return D0(e)?cm(void 0,e.useValue):cm($w(e),Jy)}(n);if(bp(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=cm(void 0,Jy,!0),i.factory=()=>_u(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Jy&&(t.value=XM,t.value=t.factory()),"object"==typeof t.value&&t.value&&function A0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=ut(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function ed(e){const n=br(e),t=null!==n?n.factory:Hn(e);if(null!==t)return t;if(e instanceof mr)throw new gn(204,!1);if(e instanceof Function)return function L0(e){const n=e.length;if(n>0)throw Lf(n,"?"),new gn(204,!1);const t=function ii(e){return e&&(e[Eo]||e[xs])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new gn(204,!1)}function $w(e,n,t){let r;if(bp(e)){const i=ut(e);return Hn(i)||ed(i)}if(D0(e))r=()=>ut(e.useValue);else if(function Ky(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(..._u(e.deps||[]));else if(function jw(e){return!(!e||!e.useExisting)}(e))r=()=>tr(ut(e.useExisting));else{const i=ut(e&&(e.useClass||e.provide));if(!function KM(e){return!!e.deps}(e))return Hn(i)||ed(i);r=()=>new i(..._u(e.deps))}return r}function cm(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function k_(e,n){for(const t of e)Array.isArray(t)?k_(t,n):t&&An(t)?k_(t.\u0275providers,n):n(t)}const ev=new mr("AppId",{providedIn:"root",factory:()=>QM}),QM="ng",Uw=new mr("Platform Initializer"),sf=new mr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vw=new mr("AnimationModuleType"),Gw=new mr("CSP nonce",{providedIn:"root",factory:()=>function Ls(){if(void 0!==Su)return Su;if(typeof document<"u")return document;throw new gn(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Xw=(e,n,t)=>null;function Y0(e,n,t=!1){return Xw(e,n,t)}class Yr{}class Fi{}class Us{resolveComponentFactory(n){throw function rs(e){const n=Error(`No component factory found for ${ei(e)}.`);return n.ngComponent=e,n}(n)}}let Lo=(()=>{class e{static#e=this.NULL=new Us}return e})();function Ea(){return Dc(ku(),Cr())}function Dc(e,n){return new pr(ws(e,n))}let pr=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=Ea}return e})();function Bd(e){return e instanceof pr?e.nativeElement:e}class Yl{}let hc=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Yf(){const e=Cr(),t=qc(ku().index,e);return(c(t)?t:e)[Di]}()}return e})(),Zw=(()=>{class e{static#e=this.\u0275prov=_n({token:e,providedIn:"root",factory:()=>null})}return e})();class z0{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const H6=new z0("16.2.12"),oS={};function WL(e,n=null,t=null,r){const i=qL(e,n,t,r);return i.resolveInjectorInitializers(),i}function qL(e,n=null,t=null,r,i=new Set){const s=[t||qi,WM(e)];return r=r||("object"==typeof e?void 0:ei(e)),new um(s,n||Qy(),r||null,i)}let Eu=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Xa;static#t=this.NULL=new T0;static create(t,r){if(Array.isArray(t))return WL({name:""},r,t,"");{const i=t.name??"";return WL({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=_n({token:e,providedIn:"any",factory:()=>tr(Fw)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function lS(e){return e.ngOriginalError}class og{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&lS(n);for(;t&&lS(t);)t=lS(t);return t||null}}function cS(e){return n=>{setTimeout(e,void 0,n)}}const Hi=class X6 extends Ve{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,s=t||(()=>null),a=r;if(n&&"object"==typeof n){const m=n;i=m.next?.bind(m),s=m.error?.bind(m),a=m.complete?.bind(m)}this.__isAsync&&(s=cS(s),i&&(i=cS(i)),a&&(a=cS(a)));const h=super.subscribe({next:i,error:s,complete:a});return n instanceof O&&n.add(h),h}};function ZL(...e){}class gr{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hi(!1),this.onMicrotaskEmpty=new Hi(!1),this.onStable=new Hi(!1),this.onError=new Hi(!1),typeof Zone>"u")throw new gn(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Z6(){const e="function"==typeof lo.requestAnimationFrame;let n=lo[e?"requestAnimationFrame":"setTimeout"],t=lo[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Q6(e){const n=()=>{!function J6(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(lo,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,hS(e),e.isCheckStableRunning=!0,dS(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),hS(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,a,h)=>{if(function tY(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(h))return t.invokeTask(i,s,a,h);try{return KL(e),t.invokeTask(i,s,a,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),JL(e)}},onInvoke:(t,r,i,s,a,h,m)=>{try{return KL(e),t.invoke(i,s,a,h,m)}finally{e.shouldCoalesceRunChangeDetection&&n(),JL(e)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,hS(e),dS(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gr.isInAngularZone())throw new gn(909,!1)}static assertNotInAngularZone(){if(gr.isInAngularZone())throw new gn(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,n,K6,ZL,ZL);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const K6={};function dS(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function hS(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function KL(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function JL(e){e._nesting--,dS(e)}class eY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hi,this.onMicrotaskEmpty=new Hi,this.onStable=new Hi,this.onError=new Hi}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const QL=new mr("",{providedIn:"root",factory:e2});function e2(){const e=Pr(gr);let n=!0;return Ot(new et(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new et(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{gr.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const a=e.onUnstable.subscribe(()=>{gr.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe(on()))}function ag(e){return e instanceof Function?e():e}let fS=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=_n({token:e,providedIn:"root",factory:()=>new e})}return e})();function j0(e){for(;e;){e[_i]|=64;const n=Nf(e);if(x(e)&&!n)return e;e=n}return null}const s2=new mr("",{providedIn:"root",factory:()=>!1});let Jw=null;function u2(e,n){return e[n]??h2()}function c2(e,n){const t=h2();t.producerNode?.length&&(e[n]=Jw,t.lView=e,Jw=d2())}const dY={...Ki,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{j0(e.lView)},lView:null};function d2(){return Object.create(dY)}function h2(){return Jw??=d2(),Jw}const yo={};function Ke(e){f2(Yo(),Cr(),oc()+e,!1)}function f2(e,n,t,r){if(!r)if(3==(3&n[_i])){const s=e.preOrderCheckHooks;null!==s&&bd(n,s,t)}else{const s=e.preOrderHooks;null!==s&&Vp(n,s,0,t)}Kc(t)}function Oe(e,n=Gi.Default){const t=Cr();return null===t?tr(e,n):up(ku(),t,ut(e),n)}function Qw(e,n,t,r,i,s,a,h,m,y,C){const L=n.blueprint.slice();return L[wo]=i,L[_i]=140|r,(null!==y||e&&2048&e[_i])&&(L[_i]|=2048),Ag(L),L[ms]=L[sd]=e,L[ys]=t,L[js]=a||e&&e[js],L[Di]=h||e&&e[Di],L[Va]=m||e&&e[Va]||null,L[Na]=s,L[yi]=function Fy(){return x0++}(),L[pl]=C,L[ki]=y,L[bo]=2==n.type?e[bo]:L,L}function ov(e,n,t,r,i){let s=e.data[n];if(null===s)s=function pS(e,n,t,r,i){const s=Ym(),a=cd(),m=e.data[n]=function vY(e,n,t,r,i,s){let a=n?n.injectorIndex:-1,h=0;return Eh()&&(h|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=m),null!==s&&(a?null==s.child&&null!==m.parent&&(s.child=m):null===s.next&&(s.next=m,m.prev=s)),m}(e,n,t,r,i),function py(){return Ts.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const a=function bf(){const e=Ts.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Xc(s,!0),s}function H0(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function g2(e,n,t,r,i){const s=u2(n,Fl),a=oc(),h=2&r;try{Kc(-1),h&&n.length>vs&&f2(e,n,vs,!1),Fe(h?2:0,i);const y=h?s:null,C=tl(y);try{null!==y&&(y.dirty=!1),t(r,i)}finally{co(y,C)}}finally{h&&null===n[Fl]&&c2(n,Fl),Kc(a),Fe(h?3:1,i)}}function gS(e,n,t){if(w(n)){const r=Br(null);try{const s=n.directiveEnd;for(let a=n.directiveStart;a<s;a++){const h=e.data[a];h.contentQueries&&h.contentQueries(1,t[a],a)}}finally{Br(r)}}}function mS(e,n,t){Fm()&&(function TY(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;I(t)&&function kY(e,n,t){const r=ws(n,e),i=m2(t);let a=16;t.signals?a=4096:t.onPush&&(a=64);const h=eb(e,Qw(e,i,null,a,r,n,null,e[js].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=h}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||jg(t,n),lc(r,n);const a=t.initialInputs;for(let h=i;h<s;h++){const m=e.data[h],y=Df(n,e,h,t);lc(y,n),null!==a&&OY(0,h-i,y,m,0,a),re(m)&&(qc(t.index,n)[ys]=Df(n,e,h,t))}}(e,n,t,ws(t,n)),64==(64&t.flags)&&b2(e,n,t))}function _S(e,n,t=ws){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],h=-1===a?t(n,e):e[a];e[i++]=h}}}function m2(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=yS(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function yS(e,n,t,r,i,s,a,h,m,y,C){const L=vs+r,F=L+i,j=function fY(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:yo);return t}(L,F),fe="function"==typeof y?y():y;return j[si]={type:e,blueprint:j,template:t,queries:null,viewQuery:h,declTNode:n,data:j.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:m,consts:fe,incompleteFirstPass:!1,ssrId:C}}let _2=e=>null;function y2(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const s=e[i];null===r?v2(t,n,i,s):r.hasOwnProperty(i)&&v2(t,n,r[i],s)}return t}function v2(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function Nh(e,n,t,r,i,s,a,h){const m=ws(n,t);let C,y=n.inputs;!h&&null!=y&&(C=y[r])?(MS(e,t,C,r,i),I(n)&&function xY(e,n){const t=qc(n,e);16&t[_i]||(t[_i]|=64)}(t,n.index)):3&n.type&&(r=function bY(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=a?a(i,n.value||"",r):i,s.setProperty(m,r,i))}function vS(e,n,t,r){if(Fm()){const i=null===r?null:{"":-1},s=function DY(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(eo(n,a.selectors,!1))if(r||(r=[]),re(a))if(null!==a.findHostDirectiveDefs){const h=[];i=i||new Map,a.findHostDirectiveDefs(a,h,i),r.unshift(...h,a),wS(e,n,h.length)}else r.unshift(a),wS(e,n,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(e,t);let a,h;null===s?a=h=null:[a,h]=s,null!==a&&w2(e,n,t,a,i,h),i&&function IY(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new gn(-301,!1);r.push(n[i],s)}}}(t,r,i)}t.mergedAttrs=Iu(t.mergedAttrs,t.attrs)}function w2(e,n,t,r,i,s){for(let y=0;y<r.length;y++)Gp(jg(t,n),e,r[y].type);!function AY(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let y=0;y<r.length;y++){const C=r[y];C.providersResolver&&C.providersResolver(C)}let a=!1,h=!1,m=H0(e,n,r.length,null);for(let y=0;y<r.length;y++){const C=r[y];t.mergedAttrs=Iu(t.mergedAttrs,C.hostAttrs),PY(e,t,n,m,C),LY(m,C,i),null!==C.contentQueries&&(t.flags|=4),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(t.flags|=64);const L=C.type.prototype;!a&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),a=!0),!h&&(L.ngOnChanges||L.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),h=!0),m++}!function wY(e,n,t){const i=n.directiveEnd,s=e.data,a=n.attrs,h=[];let m=null,y=null;for(let C=n.directiveStart;C<i;C++){const L=s[C],F=t?t.get(L):null,fe=F?F.outputs:null;m=y2(L.inputs,C,m,F?F.inputs:null),y=y2(L.outputs,C,y,fe);const we=null===m||null===a||er(n)?null:NY(m,C,a);h.push(we)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=8),m.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=h,n.inputs=m,n.outputs=y}(e,t,s)}function b2(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=function xf(){return Ts.lFrame.currentDirectiveIndex}();try{Kc(s);for(let h=r;h<i;h++){const m=e.data[h],y=n[h];xc(h),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&CY(m,y)}}finally{Kc(-1),xc(a)}}function CY(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function wS(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function LY(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;re(n)&&(t[""]=e)}}function PY(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=Hn(i.type)),a=new dd(s,re(i),Oe);e.blueprint[r]=a,t[r]=a,function SY(e,n,t,r,i){const s=i.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const h=~n.index;(function EY(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(a)!=h&&a.push(h),a.push(t,r,s)}}(e,n,r,H0(e,t,i.hostVars,yo),i)}function xp(e,n,t,r,i,s){const a=ws(e,n);!function bS(e,n,t,r,i,s,a){if(null==s)e.removeAttribute(n,i,t);else{const h=null==a?jr(s):a(s,r||"",i);e.setAttribute(n,i,h,t)}}(n[Di],a,s,e.value,t,r,i)}function OY(e,n,t,r,i,s){const a=s[n];if(null!==a)for(let h=0;h<a.length;)x2(r,t,a[h++],a[h++],a[h++])}function x2(e,n,t,r,i){const s=Br(null);try{const a=e.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{Br(s)}}function NY(e,n,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const a=e[s];for(let h=0;h<a.length;h+=2)if(a[h]===n){r.push(s,a[h+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function M2(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function S2(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=e.data[s];Rg(t[r]),a.contentQueries(2,n[s],s)}}}function eb(e,n){return e[ba]?e[Jd][Ua]=n:e[ba]=n,e[Jd]=n,n}function xS(e,n,t){Rg(0);const r=Br(null);try{n(e,t)}finally{Br(r)}}function E2(e){return e[wu]||(e[wu]=[])}function T2(e){return e.cleanup||(e.cleanup=[])}function D2(e,n){const t=e[Va],r=t?t.get(og,null):null;r&&r.handleError(n)}function MS(e,n,t,r,i){for(let s=0;s<t.length;){const a=t[s++],h=t[s++];x2(e.data[a],n[a],r,h,i)}}function lg(e,n,t){const r=Es(n,e);!function vp(e,n,t){e.setValue(n,t)}(e[Di],r,t)}function RY(e,n){const t=qc(n,e),r=t[si];!function FY(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[wo];null!==i&&null===t[pl]&&(t[pl]=Y0(i,t[Va])),SS(r,t,t[ys])}function SS(e,n,t){Xh(n);try{const r=e.viewQuery;null!==r&&xS(1,r,t);const i=e.template;null!==i&&g2(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&S2(e,n),e.staticViewQueries&&xS(2,e.viewQuery,t);const s=e.components;null!==s&&function BY(e,n){for(let t=0;t<n.length;t++)RY(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[_i]&=-5,Dh()}}let I2=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,a=function Dl(e,n,t){const r=Object.create(Uu);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;const i=a=>{r.cleanupFn=a};return r.ref={notify:()=>Ks(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Tl(r))return;r.hasRun=!0;const a=tl(r);try{r.cleanupFn(),r.cleanupFn=Wl,r.fn(i)}finally{co(r,a)}},cleanup:()=>r.cleanupFn()},r.ref}(t,y=>{this.all.has(y)&&this.queue.set(y,s)},i);let h;this.all.add(a),a.notify();const m=()=>{a.cleanup(),h?.(),this.all.delete(a),this.queue.delete(a)};return h=r?.onDestroy(m),{destroy:m}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=_n({token:e,providedIn:"root",factory:()=>new e})}return e})();function tb(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let a=0;a<n.length;a++){const h=n[a];"number"==typeof h?s=h:1==s?i=ss(i,h):2==s&&(r=ss(r,h+": "+n[++a]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function $0(e,n,t,r,i=!1){for(;null!==t;){const s=n[t.index];null!==s&&r.push(Vn(s)),_(s)&&L2(s,r);const a=t.type;if(8&a)$0(e,n,t.child,r);else if(32&a){const h=ng(t,n);let m;for(;m=h();)r.push(m)}else if(16&a){const h=ni(n,t);if(Array.isArray(h))r.push(...h);else{const m=Nf(n[bo]);$0(m[si],m,h,r,!0)}}t=i?t.projectionNext:t.next}return r}function L2(e,n){for(let t=yt;t<e.length;t++){const r=e[t],i=r[si].firstChild;null!==i&&$0(r[si],r,i,n)}e[xo]!==e[wo]&&n.push(e[xo])}function nb(e,n,t,r=!0){const i=n[js],s=i.rendererFactory,a=i.afterRenderEventManager;s.begin?.(),a?.begin();try{A2(e,n,e.template,t)}catch(m){throw r&&D2(n,m),m}finally{s.end?.(),i.effectManager?.flush(),a?.end()}}function A2(e,n,t,r){const i=n[_i];if(256!=(256&i)){n[js].effectManager?.flush(),Xh(n);try{Ag(n),function fy(e){return Ts.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&g2(e,n,t,2,r);const a=3==(3&i);if(a){const y=e.preOrderCheckHooks;null!==y&&bd(n,y,null)}else{const y=e.preOrderHooks;null!==y&&Vp(n,y,0,null),Ld(n,0)}if(function jY(e){for(let n=yp(e);null!==n;n=sm(n)){if(!n[el])continue;const t=n[io];for(let r=0;r<t.length;r++){Rm(t[r])}}}(n),P2(n,2),null!==e.contentQueries&&S2(e,n),a){const y=e.contentCheckHooks;null!==y&&bd(n,y)}else{const y=e.contentHooks;null!==y&&Vp(n,y,1),Ld(n,1)}!function hY(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=u2(n,ci);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Kc(~s);else{const a=s,h=t[++i],m=t[++i];gy(h,a),r.dirty=!1;const y=tl(r);try{m(2,n[a])}finally{co(r,y)}}}}finally{null===n[ci]&&c2(n,ci),Kc(-1)}}(e,n);const h=e.components;null!==h&&O2(n,h,0);const m=e.viewQuery;if(null!==m&&xS(2,m,r),a){const y=e.viewCheckHooks;null!==y&&bd(n,y)}else{const y=e.viewHooks;null!==y&&Vp(n,y,2),Ld(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[_i]&=-73,rc(n)}finally{Dh()}}}function P2(e,n){for(let t=yp(e);null!==t;t=sm(t))for(let r=yt;r<t.length;r++)k2(t[r],n)}function HY(e,n,t){k2(qc(n,e),t)}function k2(e,n){if(!function Yp(e){return 128==(128&e[_i])}(e))return;const t=e[si],r=e[_i];if(80&r&&0===n||1024&r||2===n)A2(t,e,t.template,e[ys]);else if(e[Ca]>0){P2(e,1);const i=t.components;null!==i&&O2(e,i,1)}}function O2(e,n,t){for(let r=0;r<n.length;r++)HY(e,n[r],t)}class U0{get rootNodes(){const n=this._lView,t=n[si];return $0(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ys]}set context(n){this._lView[ys]=n}get destroyed(){return 256==(256&this._lView[_i])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ms];if(_(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(P(n,r),Vu(t,r))}this._attachedToViewContainer=!1}N(this._lView[si],this._lView)}onDestroy(n){!function ho(e,n){if(256==(256&e[_i]))throw new gn(911,!1);null===e[fl]&&(e[fl]=[]),e[fl].push(n)}(this._lView,n)}markForCheck(){j0(this._cdRefInjectingView||this._lView)}detach(){this._lView[_i]&=-129}reattach(){this._lView[_i]|=128}detectChanges(){nb(this._lView[si],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new gn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function d(e,n){Vi(e,n,n[Di],2,null,null)}(this._lView[si],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new gn(902,!1);this._appRef=n}}class $Y extends U0{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;nb(n[si],n,n[ys],!1)}checkNoChanges(){}get context(){return null}}class N2 extends Lo{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=es(n);return new V0(t,this.ngModule)}}function R2(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class VY{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Ul(r);const i=this.injector.get(n,oS,r);return i!==oS||t===oS?i:this.parentInjector.get(n,t,r)}}class V0 extends Fi{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=R2(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return R2(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function yu(e){return e.map(bh).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let s=(i=i||this.ngModule)instanceof Cc?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new VY(n,s):n,h=a.get(Yl,null);if(null===h)throw new gn(407,!1);const L={rendererFactory:h,sanitizer:a.get(Zw,null),effectManager:a.get(I2,null),afterRenderEventManager:a.get(fS,null)},F=h.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",fe=r?function pY(e,n,t,r){const s=r.get(s2,!1)||t===Ba.ShadowDom,a=e.selectRootElement(n,s);return function gY(e){_2(e)}(a),a}(F,r,this.componentDef.encapsulation,a):wp(F,j,function UY(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(j)),Ue=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ae=null;null!==fe&&(Ae=Y0(fe,a,!0));const je=yS(0,null,null,1,0,null,null,null,null,null,null),Dt=Qw(null,je,null,Ue,null,null,L,F,a,null,Ae);let Ht,Kt;Xh(Dt);try{const tn=this.componentDef;let Tn,Ut=null;tn.findHostDirectiveDefs?(Tn=[],Ut=new Map,tn.findHostDirectiveDefs(tn,Tn,Ut),Tn.push(tn)):Tn=[tn];const Ii=function WY(e,n){const t=e[si],r=vs;return e[r]=n,ov(t,r,2,"#host",null)}(Dt,fe),Si=function qY(e,n,t,r,i,s,a){const h=i[si];!function XY(e,n,t,r){for(const i of e)n.mergedAttrs=Iu(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(tb(n,n.mergedAttrs,!0),null!==t&&uc(r,t,n))}(r,e,n,a);let m=null;null!==n&&(m=Y0(n,i[Va]));const y=s.rendererFactory.createRenderer(n,t);let C=16;t.signals?C=4096:t.onPush&&(C=64);const L=Qw(i,m2(t),null,C,i[e.index],e,s,y,null,null,m);return h.firstCreatePass&&wS(h,e,r.length-1),eb(i,L),i[e.index]=L}(Ii,fe,tn,Tn,Dt,L,F);Kt=ld(je,vs),fe&&function KY(e,n,t,r){if(r)kc(e,t,["ng-version",H6.full]);else{const{attrs:i,classes:s}=function vu(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!Ci(i))break;i=s}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&kc(e,t,i),s&&s.length>0&&Rc(e,t,s.join(" "))}}(F,tn,fe,r),void 0!==t&&function JY(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(Kt,this.ngContentSelectors,t),Ht=function ZY(e,n,t,r,i,s){const a=ku(),h=i[si],m=ws(a,i);w2(h,i,a,t,null,r);for(let C=0;C<t.length;C++)lc(Df(i,h,a.directiveStart+C,a),i);b2(h,i,a),m&&lc(m,i);const y=Df(i,h,a.directiveStart+a.componentOffset,a);if(e[ys]=i[ys]=y,null!==s)for(const C of s)C(y,n);return gS(h,a,e),y}(Si,tn,Tn,Ut,Dt,[QY]),SS(je,Dt,null)}finally{Dh()}return new GY(this.componentType,Ht,Dc(Kt,Dt),Dt,Kt)}}class GY extends Yr{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new $Y(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const s=this._rootLView;MS(s[si],s,i,n,t),this.previousInputValues.set(n,t),j0(qc(this._tNode.index,s))}}get injector(){return new uu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function QY(){const e=ku();Up(Cr()[si],e)}function So(e){let n=function F2(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(re(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new gn(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const a=e;a.inputs=rb(e.inputs),a.inputTransforms=rb(e.inputTransforms),a.declaredInputs=rb(e.declaredInputs),a.outputs=rb(e.outputs);const h=i.hostBindings;h&&rz(e,h);const m=i.viewQuery,y=i.contentQueries;if(m&&tz(e,m),y&&nz(e,y),qr(e.inputs,i.inputs),qr(e.declaredInputs,i.declaredInputs),qr(e.outputs,i.outputs),null!==i.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),qr(a.inputTransforms,i.inputTransforms)),re(i)&&i.data.animation){const C=e.data;C.animation=(C.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const h=s[a];h&&h.ngInherit&&h(e),h===So&&(t=!1)}}n=Object.getPrototypeOf(n)}!function ez(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Iu(i.hostAttrs,t=Iu(t,i.hostAttrs))}}(r)}function rb(e){return e===ro?{}:e===qi?[]:e}function tz(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function nz(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,s)=>{n(r,i,s),t(r,i,s)}:n}function rz(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function ib(e){return!!ES(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ES(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Mp(e,n,t){return e[n]=t}function G0(e,n){return e[n]}function Sd(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function R_(e,n,t,r){const i=Sd(e,n,t);return Sd(e,n+1,r)||i}function sb(e,n,t,r,i){const s=R_(e,n,t,r);return Sd(e,n+2,i)||s}function lf(e,n,t,r){const i=Cr();return Sd(i,Qf(),n)&&(Yo(),xp(Il(),i,e,n,t,r)),lf}function lv(e,n,t,r){return Sd(e,Qf(),t)?n+jr(t)+r:yo}function Yn(e,n,t,r,i,s,a,h){const m=Cr(),y=Yo(),C=e+vs,L=y.firstCreatePass?function Dz(e,n,t,r,i,s,a,h,m){const y=n.consts,C=ov(n,e,4,a||null,Id(y,h));vS(n,t,C,Id(y,m)),Up(n,C);const L=C.tView=yS(2,C,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,y,null);return null!==n.queries&&(n.queries.template(n,C),L.queries=n.queries.embeddedTView(C)),C}(C,y,m,n,t,r,i,s,a):y.data[C];Xc(L,!1);const F=eA(y,m,L,e);rp()&&Ri(y,m,F,L),lc(F,m),eb(m,m[C]=M2(F,m,F,L)),W(L)&&mS(y,m,L),null!=a&&_S(m,L,h)}let eA=function tA(e,n,t,r){return rh(!0),n[Di].createComment("")};function zf(e){return lu(function Zc(){return Ts.lFrame.contextLView}(),vs+e)}function Gt(e,n,t){const r=Cr();return Sd(r,Qf(),n)&&Nh(Yo(),Il(),r,e,n,r[Di],t,!1),Gt}function AS(e,n,t,r,i){const a=i?"class":"style";MS(e,t,n.inputs[a],a,r)}function lt(e,n,t,r){const i=Cr(),s=Yo(),a=vs+e,h=i[Di],m=s.firstCreatePass?function Pz(e,n,t,r,i,s){const a=n.consts,m=ov(n,e,2,r,Id(a,i));return vS(n,t,m,Id(a,s)),null!==m.attrs&&tb(m,m.attrs,!1),null!==m.mergedAttrs&&tb(m,m.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,m),m}(a,s,i,n,t,r):s.data[a],y=nA(s,i,m,h,n,e);i[a]=y;const C=W(m);return Xc(m,!0),uc(h,y,m),32!=(32&m.flags)&&rp()&&Ri(s,i,y,m),0===function s0(){return Ts.lFrame.elementDepthCount}()&&lc(y,i),function hy(){Ts.lFrame.elementDepthCount++}(),C&&(mS(s,i,m),gS(s,m,i)),null!==r&&_S(i,m),lt}function ct(){let e=ku();cd()?Og():(e=e.parent,Xc(e,!1));const n=e;(function zp(e){return Ts.skipHydrationRootTNode===e})(n)&&function xu(){Ts.skipHydrationRootTNode=null}(),function ud(){Ts.lFrame.elementDepthCount--}();const t=Yo();return t.firstCreatePass&&(Up(t,e),w(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function ap(e){return 0!=(8&e.flags)}(n)&&AS(t,n,Cr(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Is(e){return 0!=(16&e.flags)}(n)&&AS(t,n,Cr(),n.stylesWithoutHost,!1),ct}function Tr(e,n,t,r){return lt(e,n,t,r),ct(),Tr}let nA=(e,n,t,r,i,s)=>(rh(!0),wp(r,i,function $p(){return Ts.lFrame.currentNamespace}()));function F_(e,n,t){const r=Cr(),i=Yo(),s=e+vs,a=i.firstCreatePass?function Nz(e,n,t,r,i){const s=n.consts,a=Id(s,r),h=ov(n,e,8,"ng-container",a);return null!==a&&tb(h,a,!0),vS(n,t,h,Id(s,i)),null!==n.queries&&n.queries.elementStart(n,h),h}(s,i,r,n,t):i.data[s];Xc(a,!0);const h=rA(i,r,a,e);return r[s]=h,rp()&&Ri(i,r,h,a),lc(h,r),W(a)&&(mS(i,r,a),gS(i,a,r)),null!=t&&_S(r,a),F_}function B_(){let e=ku();const n=Yo();return cd()?Og():(e=e.parent,Xc(e,!1)),n.firstCreatePass&&(Up(n,e),w(e)&&n.queries.elementEnd(e)),B_}function Z0(e,n,t){return F_(e,n,t),B_(),Z0}let rA=(e,n,t,r)=>(rh(!0),rg(n[Di],""));function Ji(){return Cr()}function K0(e){return!!e&&"function"==typeof e.then}function iA(e){return!!e&&"function"==typeof e.subscribe}function $n(e,n,t,r){const i=Cr(),s=Yo(),a=ku();return function oA(e,n,t,r,i,s,a){const h=W(r),y=e.firstCreatePass&&T2(e),C=n[ys],L=E2(n);let F=!0;if(3&r.type||a){const we=ws(r,n),qe=a?a(we):we,Ue=L.length,Ae=a?Dt=>a(Vn(Dt[r.index])):r.index;let je=null;if(!a&&h&&(je=function Bz(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===t&&i[s+1]===r){const h=n[wu],m=i[s+2];return h.length>m?h[m]:null}"string"==typeof a&&(s+=2)}return null}(e,n,i,r.index)),null!==je)(je.__ngLastListenerFn__||je).__ngNextListenerFn__=s,je.__ngLastListenerFn__=s,F=!1;else{s=lA(r,n,C,s,!1);const Dt=t.listen(qe,i,s);L.push(s,Dt),y&&y.push(i,Ae,Ue,Ue+1)}}else s=lA(r,n,C,s,!1);const j=r.outputs;let fe;if(F&&null!==j&&(fe=j[i])){const we=fe.length;if(we)for(let qe=0;qe<we;qe+=2){const Ht=n[fe[qe]][fe[qe+1]].subscribe(s),Kt=L.length;L.push(s,Ht),y&&y.push(i,r.index,Kt,-(Kt+1))}}}(s,i,i[Di],a,e,n,r),$n}function aA(e,n,t,r){try{return Fe(6,n,t),!1!==t(r)}catch(i){return D2(e,i),!1}finally{Fe(7,n,t)}}function lA(e,n,t,r,i){return function s(a){if(a===Function)return r;j0(e.componentOffset>-1?qc(e.index,n):n);let m=aA(n,t,r,a),y=s.__ngNextListenerFn__;for(;y;)m=aA(n,t,y,a)&&m,y=y.__ngNextListenerFn__;return i&&!1===m&&a.preventDefault(),m}}function sn(e=1){return function my(e){return(Ts.lFrame.contextLView=function _y(e,n){for(;e>0;)n=n[sd],e--;return n}(e,Ts.lFrame.contextLView))[ys]}(e)}function Yz(e,n){let t=null;const r=function cs(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?eo(e,s,!0):Do(r,s))return i}else t=i}return t}function vi(e){const n=Cr()[bo][Na];if(!n.projection){const r=n.projection=Lf(e?e.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const a=e?Yz(s,e):0;null!==a&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s),s=s.next}}}function gi(e,n=0,t){const r=Cr(),i=Yo(),s=ov(i,vs+e,16,null,t||null);null===s.projection&&(s.projection=n),Og(),(!r[pl]||Eh())&&32!=(32&s.flags)&&function ji(e,n,t){$s(n[Di],0,n,t,Le(e,t,n),Jt(t.parent||n[Na],t,n))}(i,r,s)}function ub(e,n,t){return PS(e,"",n,"",t),ub}function PS(e,n,t,r,i){const s=Cr(),a=lv(s,n,t,r);return a!==yo&&Nh(Yo(),Il(),s,e,a,s[Di],i,!1),PS}function cb(e,n){return e<<17|n<<2}function fm(e){return e>>17&32767}function kS(e){return 2|e}function Y_(e){return(131068&e)>>2}function OS(e,n){return-131069&e|n<<2}function NS(e){return 1|e}function _A(e,n,t,r,i){const s=e[t+1],a=null===n;let h=r?fm(s):Y_(s),m=!1;for(;0!==h&&(!1===m||a);){const C=e[h+1];Vz(e[h],n)&&(m=!0,e[h+1]=r?NS(C):kS(C)),h=r?fm(C):Y_(C)}m&&(e[t+1]=r?kS(s):NS(s))}function Vz(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Lh(e,n)>=0}function uf(e,n,t){return jf(e,n,t,!1),uf}function db(e,n){return jf(e,n,null,!0),db}function jf(e,n,t,r){const i=Cr(),s=Yo(),a=th(2);s.firstUpdatePass&&function EA(e,n,t,r){const i=e.data;if(null===i[t+1]){const s=i[oc()],a=function SA(e,n){return n>=e.expandoStartIndex}(e,t);(function IA(e,n){return 0!=(e.flags&(n?8:16))})(s,r)&&null===n&&!a&&(n=!1),n=function e5(e,n,t,r){const i=function ga(e){const n=Ts.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=J0(t=RS(null,e,n,t,r),n.attrs,r),s=null);else{const a=n.directiveStylingLast;if(-1===a||e[a]!==i)if(t=RS(i,e,n,t,r),null===s){let m=function t5(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Y_(r))return e[fm(r)]}(e,n,r);void 0!==m&&Array.isArray(m)&&(m=RS(null,e,n,m[1],r),m=J0(m,n.attrs,r),function n5(e,n,t,r){e[fm(t?n.classBindings:n.styleBindings)]=r}(e,n,r,m))}else s=function r5(e,n,t){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=J0(r,e[s].hostAttrs,t);return J0(r,n.attrs,t)}(e,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),t}(i,s,n,r),function $z(e,n,t,r,i,s){let a=s?n.classBindings:n.styleBindings,h=fm(a),m=Y_(a);e[r]=t;let C,y=!1;if(Array.isArray(t)?(C=t[1],(null===C||Lh(t,C)>0)&&(y=!0)):C=t,i)if(0!==m){const F=fm(e[h+1]);e[r+1]=cb(F,h),0!==F&&(e[F+1]=OS(e[F+1],r)),e[h+1]=function jz(e,n){return 131071&e|n<<17}(e[h+1],r)}else e[r+1]=cb(h,0),0!==h&&(e[h+1]=OS(e[h+1],r)),h=r;else e[r+1]=cb(m,0),0===h?h=r:e[m+1]=OS(e[m+1],r),m=r;y&&(e[r+1]=kS(e[r+1])),_A(e,C,r,!0),_A(e,C,r,!1),function Uz(e,n,t,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&Lh(s,n)>=0&&(t[r+1]=NS(t[r+1]))}(n,C,e,r,s),a=cb(h,m),s?n.classBindings=a:n.styleBindings=a}(i,s,n,t,a,r)}}(s,e,a,r),n!==yo&&Sd(i,a,n)&&function CA(e,n,t,r,i,s,a,h){if(!(3&n.type))return;const m=e.data,y=m[h+1],C=function Hz(e){return 1==(1&e)}(y)?DA(m,n,t,i,Y_(y),a):void 0;hb(C)||(hb(s)||function zz(e){return 2==(2&e)}(y)&&(s=DA(m,null,t,i,h,a)),function Ia(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Nc.DashCase;null==i?e.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Nc.Important),e.setStyle(t,r,i,s))}}(r,a,Es(oc(),t),i,s))}(s,s.data[oc()],i,i[Di],e,i[a+1]=function a5(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ei(Fu(e)))),e}(n,t),r,a)}function RS(e,n,t,r,i){let s=null;const a=t.directiveEnd;let h=t.directiveStylingLast;for(-1===h?h=t.directiveStart:h++;h<a&&(s=n[h],r=J0(r,s.hostAttrs,i),s!==e);)h++;return null!==e&&(t.directiveStylingLast=h),r}function J0(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Gu(e,a,!!t||n[++s]))}return void 0===e?null:e}function DA(e,n,t,r,i,s){const a=null===n;let h;for(;i>0;){const m=e[i],y=Array.isArray(m),C=y?m[1]:m,L=null===C;let F=t[i+1];F===yo&&(F=L?qi:void 0);let j=L?gp(F,r):C===r?F:void 0;if(y&&!hb(j)&&(j=gp(m,r)),hb(j)&&(h=j,a))return h;const fe=e[i+1];i=a?fm(fe):Y_(fe)}if(null!==n){let m=s?n.residualClasses:n.residualStyles;null!=m&&(h=gp(m,r))}return h}function hb(e){return void 0!==e}function cn(e,n=""){const t=Cr(),r=Yo(),i=e+vs,s=r.firstCreatePass?ov(r,i,1,n,null):r.data[i],a=LA(r,t,s,n,e);t[i]=a,rp()&&Ri(r,t,a,s),Xc(s,!1)}let LA=(e,n,t,r,i)=>(rh(!0),function Rf(e,n){return e.createText(n)}(n[Di],r));function Zr(e){return Or("",e,""),Zr}function Or(e,n,t){const r=Cr(),i=lv(r,e,n,t);return i!==yo&&lg(r,oc(),i),Or}function cf(e,n,t,r,i){const s=Cr(),a=function uv(e,n,t,r,i,s){const h=R_(e,Th(),t,i);return th(2),h?n+jr(t)+r+jr(i)+s:yo}(s,e,n,t,r,i);return a!==yo&&lg(s,oc(),a),cf}function FS(e,n,t,r,i,s,a){const h=Cr(),m=function cv(e,n,t,r,i,s,a,h){const y=sb(e,Th(),t,i,a);return th(3),y?n+jr(t)+r+jr(i)+s+jr(a)+h:yo}(h,e,n,t,r,i,s,a);return m!==yo&&lg(h,oc(),m),FS}const z_=void 0;var I5=["en",[["a","p"],["AM","PM"],z_],[["AM","PM"],z_,z_],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],z_,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],z_,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",z_,"{1} 'at' {0}",z_],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function D5(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let _v={};function Yd(e){const n=function L5(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=XA(n);if(t)return t;const r=n.split("-")[0];if(t=XA(r),t)return t;if("en"===r)return I5;throw new gn(701,!1)}function XA(e){return e in _v||(_v[e]=lo.ng&&lo.ng.common&&lo.ng.common.locales&&lo.ng.common.locales[e]),_v[e]}var Zl=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Zl||{});const yv="en-US";let ZA=yv;function zS(e,n,t,r,i){if(e=ut(e),Array.isArray(e))for(let s=0;s<e.length;s++)zS(e[s],n,t,r,i);else{const s=Yo(),a=Cr(),h=ku();let m=bp(e)?e:ut(e.provide);const y=$w(e),C=1048575&h.providerIndexes,L=h.directiveStart,F=h.providerIndexes>>20;if(bp(e)||!e.multi){const j=new dd(y,i,Oe),fe=HS(m,n,i?C:C+F,L);-1===fe?(Gp(jg(h,a),s,m),jS(s,e,n.length),n.push(m),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),t.push(j),a.push(j)):(t[fe]=j,a[fe]=j)}else{const j=HS(m,n,C+F,L),fe=HS(m,n,C,C+F),qe=fe>=0&&t[fe];if(i&&!qe||!i&&!(j>=0&&t[j])){Gp(jg(h,a),s,m);const Ue=function Dj(e,n,t,r,i){const s=new dd(e,t,Oe);return s.multi=[],s.index=n,s.componentProviders=0,bP(s,i,r&&!t),s}(i?Cj:Tj,t.length,i,r,y);!i&&qe&&(t[fe].providerFactory=Ue),jS(s,e,n.length,0),n.push(m),h.directiveStart++,h.directiveEnd++,i&&(h.providerIndexes+=1048576),t.push(Ue),a.push(Ue)}else jS(s,e,j>-1?j:fe,bP(t[i?fe:j],y,!i&&r));!i&&r&&qe&&t[fe].componentProviders++}}}function jS(e,n,t,r){const i=bp(n),s=function Hw(e){return!!e.useClass}(n);if(i||s){const m=(s?ut(n.useClass):n).prototype.ngOnDestroy;if(m){const y=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const C=y.indexOf(t);-1===C?y.push(t,[r,m]):y[C+1].push(r,m)}else y.push(t,m)}}}function bP(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function HS(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function Tj(e,n,t,r){return $S(this.multi,[])}function Cj(e,n,t,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,h=Df(t,t[si],this.providerFactory.index,r);s=h.slice(0,a),$S(i,s);for(let m=a;m<h.length;m++)s.push(h[m])}else s=[],$S(i,s);return s}function $S(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function ml(e,n=[]){return t=>{t.providersResolver=(r,i)=>function Ej(e,n,t){const r=Yo();if(r.firstCreatePass){const i=re(e);zS(t,r.data,r.blueprint,i,!0),zS(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class j_{}class xP{}class US extends j_{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new N2(this);const i=to(n);this._bootstrapComponents=ag(i.bootstrap),this._r3Injector=qL(n,t,[{provide:j_,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver},...r],ei(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class VS extends xP{constructor(n){super(),this.moduleType=n}create(n){return new US(this.moduleType,n,[])}}class MP extends j_{constructor(n){super(),this.componentFactoryResolver=new N2(this),this.instance=null;const t=new um([...n.providers,{provide:j_,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver}],n.parent||Qy(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function GS(e,n,t=null){return new MP({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let Aj=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Yw(0,t.type),i=r.length>0?GS([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_n({token:e,providedIn:"environment",factory:()=>new e(tr(Cc))})}return e})();function SP(e){e.getStandaloneInjector=n=>n.get(Aj).getOrCreateStandaloneInjector(e)}function ug(e,n,t){const r=sc()+e,i=Cr();return i[r]===yo?Mp(i,r,t?n.call(t):n()):G0(i,r)}function H_(e,n,t,r){return AP(Cr(),sc(),e,n,t,r)}function i1(e,n,t,r,i){return PP(Cr(),sc(),e,n,t,r,i)}function qS(e,n,t,r,i,s,a,h){const m=sc()+e,y=Cr(),C=function af(e,n,t,r,i,s){const a=R_(e,n,t,r);return R_(e,n+2,i,s)||a}(y,m,t,r,i,s);return Sd(y,m+4,a)||C?Mp(y,m+5,h?n.call(h,t,r,i,s,a):n(t,r,i,s,a)):G0(y,m+5)}function s1(e,n){const t=e[n];return t===yo?void 0:t}function AP(e,n,t,r,i,s){const a=n+t;return Sd(e,a,i)?Mp(e,a+1,s?r.call(s,i):r(i)):s1(e,a+1)}function PP(e,n,t,r,i,s,a){const h=n+t;return R_(e,h,i,s)?Mp(e,h+2,a?r.call(a,i,s):r(i,s)):s1(e,h+2)}function wn(e,n){const t=Yo();let r;const i=e+vs;t.firstCreatePass?(r=function Gj(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Hn(r.type)),h=gs(Oe);try{const m=zg(!1),y=s();return zg(m),function Az(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,Cr(),i,y),y}finally{gs(h)}}function Nn(e,n,t){const r=e+vs,i=Cr(),s=lu(i,r);return o1(i,r)?AP(i,sc(),n,s.transform,t,s):s.transform(t)}function Kl(e,n,t,r){const i=e+vs,s=Cr(),a=lu(s,i);return o1(s,i)?PP(s,sc(),n,a.transform,t,r,a):a.transform(t,r)}function cg(e,n,t,r,i){const s=e+vs,a=Cr(),h=lu(a,s);return o1(a,s)?function kP(e,n,t,r,i,s,a,h){const m=n+t;return sb(e,m,i,s,a)?Mp(e,m+3,h?r.call(h,i,s,a):r(i,s,a)):s1(e,m+3)}(a,sc(),n,h.transform,t,r,i,h):h.transform(t,r,i)}function XS(e,n,t){const r=e+vs,i=Cr(),s=lu(i,r);return o1(i,r)?function NP(e,n,t,r,i,s){let a=n+t,h=!1;for(let m=0;m<i.length;m++)Sd(e,a++,i[m])&&(h=!0);return h?Mp(e,a,r.apply(s,i)):s1(e,a)}(i,sc(),n,s.transform,t,s):s.transform.apply(s,t)}function o1(e,n){return e[si].data[n].pure}function qj(){return this._results[Symbol.iterator]()}class ZS{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Hi)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ZS.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=qj)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function xd(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function d0(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Zj(e,n,t,r=!0){const i=n[si];if(function f(e,n,t,r){const i=yt+r,s=t.length;r>0&&(t[i-1][Ua]=n),r<s-yt?(n[Ua]=t[i],e_(t,yt+r,n)):(t.push(n),n[Ua]=null),n[ms]=t;const a=n[wc];null!==a&&t!==a&&function v(e,n){const t=e[io];n[bo]!==n[ms][ms][bo]&&(e[el]=!0),null===t?e[io]=[n]:t.push(n)}(a,n);const h=n[vl];null!==h&&h.insertView(e),n[_i]|=128}(i,n,e,t),r){const s=Gr(t,e),a=n[Di],h=Zt(a,e[xo]);null!==h&&function Od(e,n,t,r,i,s){r[wo]=i,r[Na]=n,Vi(e,r,t,1,i,s)}(i,e[Na],a,n,h,s)}}let $f=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Qj}return e})();const Kj=$f,Jj=class extends Kj{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function Xj(e,n,t,r){const i=n.tView,h=Qw(e,i,t,4096&e[_i]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);h[wc]=e[n.index];const y=e[vl];return null!==y&&(h[vl]=y.createEmbeddedView(i)),SS(i,h,t),h}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:r});return new U0(i)}};function Qj(){return _b(ku(),Cr())}function _b(e,n){return 4&e.type?new Jj(n,e,Dc(e,n)):null}let Rh=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=sH}return e})();function sH(){return HP(ku(),Cr())}const oH=Rh,zP=class extends oH{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Dc(this._hostTNode,this._hostLView)}get injector(){return new uu(this._hostTNode,this._hostLView)}get parentInjector(){const n=Cf(this._hostTNode,this._hostLView);if(hd(n)){const t=lp(n,this._hostLView),r=Ef(n);return new uu(t[si].data[r+8],t)}return new uu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=jP(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(n,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const h=n.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(h,i,false),h}createComponent(n,t,r,i,s){const a=n&&!function Xp(e){return"function"==typeof e}(n);let h;if(a)h=t;else{const we=t||{};h=we.index,r=we.injector,i=we.projectableNodes,s=we.environmentInjector||we.ngModuleRef}const m=a?n:new V0(es(n)),y=r||this.parentInjector;if(!s&&null==m.ngModule){const qe=(a?y:this.parentInjector).get(Cc,null);qe&&(s=qe)}es(m.componentType??{});const j=m.create(y,i,null,s);return this.insertImpl(j.hostView,h,false),j}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView;if(function Lg(e){return _(e[ms])}(i)){const m=this.indexOf(n);if(-1!==m)this.detach(m);else{const y=i[ms],C=new zP(y,y[Na],y[ms]);C.detach(C.indexOf(n))}}const a=this._adjustIndex(t),h=this._lContainer;return Zj(h,i,a,!r),n.attachToViewContainerRef(),e_(KS(h),a,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=jP(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=P(this._lContainer,t);r&&(Vu(KS(this._lContainer),t),N(r[si],r))}detach(n){const t=this._adjustIndex(n,-1),r=P(this._lContainer,t);return r&&null!=Vu(KS(this._lContainer),t)?new U0(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function jP(e){return e[8]}function KS(e){return e[8]||(e[8]=[])}function HP(e,n){let t;const r=n[e.index];return _(r)?t=r:(t=M2(r,n,null,e),n[e.index]=t,eb(n,t)),$P(t,n,e,r),new zP(t,e,n)}let $P=function UP(e,n,t,r){if(e[xo])return;let i;i=8&t.type?Vn(r):function aH(e,n){const t=e[Di],r=t.createComment(""),i=ws(n,e);return Qe(t,Zt(t,i),r,function Sn(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[xo]=i};class JS{constructor(n){this.queryList=n,this.matches=null}clone(){return new JS(this.queryList)}setDirty(){this.queryList.setDirty()}}class QS{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const a=t.getByIndex(s);i.push(this.queries[a.indexInDeclarationView].clone())}return new QS(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==XP(n,t).matches&&this.queries[t].setDirty()}}class VP{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class eE{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new eE(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class tE{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new tE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,t,cH(t,s)),this.matchTNodeWithReadOption(n,t,Wp(t,n,s,!1,!1))}else r===$f?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Wp(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===pr||i===Rh||i===$f&&4&t.type)this.addMatch(t.index,-2);else{const s=Wp(t,n,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function cH(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function hH(e,n,t,r){return-1===t?function dH(e,n){return 11&e.type?Dc(e,n):4&e.type?_b(e,n):null}(n,e):-2===t?function fH(e,n,t){return t===pr?Dc(n,e):t===$f?_b(n,e):t===Rh?HP(n,e):void 0}(e,n,r):Df(e,e[si],t,n)}function GP(e,n,t,r){const i=n[vl].queries[r];if(null===i.matches){const s=e.data,a=t.matches,h=[];for(let m=0;m<a.length;m+=2){const y=a[m];h.push(y<0?null:hH(n,s[y],a[m+1],t.metadata.read))}i.matches=h}return i.matches}function nE(e,n,t,r){const i=e.queries.getByIndex(t),s=i.matches;if(null!==s){const a=GP(e,n,i,t);for(let h=0;h<s.length;h+=2){const m=s[h];if(m>0)r.push(a[h/2]);else{const y=s[h+1],C=n[-m];for(let L=yt;L<C.length;L++){const F=C[L];F[wc]===F[ms]&&nE(F[si],F,y,r)}if(null!==C[io]){const L=C[io];for(let F=0;F<L.length;F++){const j=L[F];nE(j[si],j,y,r)}}}}}return r}function Tp(e){const n=Cr(),t=Yo(),r=Hp();Rg(r+1);const i=XP(t,r);if(e.dirty&&function Bp(e){return 4==(4&e[_i])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?nE(t,n,r,[]):GP(t,n,i,r);e.reset(s,Bd),e.notifyOnChanges()}return!0}return!1}function a1(e,n,t){const r=Yo();r.firstCreatePass&&(function qP(e,n,t){null===e.queries&&(e.queries=new eE),e.queries.track(new tE(n,t))}(r,new VP(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function WP(e,n,t){const r=new ZS(4==(4&t));(function yY(e,n,t,r){const i=E2(n);i.push(t),e.firstCreatePass&&T2(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[vl]&&(n[vl]=new QS),n[vl].queries.push(new JS(r))}(r,Cr(),n)}function Cp(){return function pH(e,n){return e[vl].queries[n].queryList}(Cr(),Hp())}function XP(e,n){return e.queries.getByIndex(n)}function Uf(e,n){return _b(e,n)}const u1=new mr("Application Initializer");let lE=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Pr(u1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(K0(s))t.push(s);else if(iA(s)){const a=new Promise((h,m)=>{s.subscribe({complete:h,error:m})});t.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wb=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const dg=new mr("LocaleId",{providedIn:"root",factory:()=>Pr(dg,Gi.Optional|Gi.SkipSelf)||function RH(){return typeof $localize<"u"&&$localize.locale||yv}()});let bb=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $t(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class YH{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let hk=(()=>{class e{compileModuleSync(t){return new VS(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ag(to(t).declarations).reduce((a,h)=>{const m=es(h);return m&&a.push(new V0(m)),a},[]);return new YH(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mk=new mr(""),Mb=new mr("");let fE,dE=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fE||(function a$(e){fE=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(tr(gr),tr(hE),tr(Mb))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})(),hE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return fE?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),pm=null;const _k=new mr("AllowMultipleToken"),pE=new mr("PlatformDestroyListeners"),gE=new mr("appBootstrapListener");class vk{constructor(n,t){this.name=n,this.token=t}}function bk(e,n,t=[]){const r=`Platform: ${n}`,i=new mr(r);return(s=[])=>{let a=mE();if(!a||a.injector.get(_k,!1)){const h=[...t,...s,{provide:i,useValue:!0}];e?e(h):function c$(e){if(pm&&!pm.get(_k,!1))throw new gn(400,!1);(function yk(){!function Cl(e){nl=e}(()=>{throw new gn(600,!1)})})(),pm=e;const n=e.get(Mk);(function wk(e){e.get(Uw,null)?.forEach(t=>t())})(e)}(function xk(e=[],n){return Eu.create({name:n,providers:[{provide:I0,useValue:"platform"},{provide:pE,useValue:new Set([()=>pm=null])},...e]})}(h,r))}return function h$(e){const n=mE();if(!n)throw new gn(401,!1);return n}()}}function mE(){return pm?.get(Mk)??null}let Mk=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function f$(e="zone.js",n){return"noop"===e?new eY:"zone.js"===e?new gr(n):e}(r?.ngZone,function Sk(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Lj(e,n,t){return new US(e,n,t)}(t.moduleType,this.injector,function Ik(e){return[{provide:gr,useFactory:e},{provide:A_,multi:!0,useFactory:()=>{const n=Pr(g$,{optional:!0});return()=>n.initialize()}},{provide:Dk,useFactory:p$},{provide:QL,useFactory:e2}]}(()=>i)),a=s.injector.get(og,null);return i.runOutsideAngular(()=>{const h=i.onError.subscribe({next:m=>{a.handleError(m)}});s.onDestroy(()=>{Sb(this._modules,s),h.unsubscribe()})}),function Ek(e,n,t){try{const r=t();return K0(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(a,i,()=>{const h=s.injector.get(lE);return h.runInitializers(),h.donePromise.then(()=>(function KA(e){zt(e,"Expected localeId to be defined"),"string"==typeof e&&(ZA=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(dg,yv)||yv),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=Tk({},r);return function l$(e,n,t){const r=new VS(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(hg);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new gn(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new gn(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(pE,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Eu))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Tk(e,n){return Array.isArray(n)?n.reduce(Tk,e):{...e,...n}}let hg=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Pr(Dk),this.zoneIsStable=Pr(QL),this.componentTypes=[],this.components=[],this.isStable=Pr(bb).hasPendingTasks.pipe(Cn(t=>t?Xt(!1):this.zoneIsStable),wr(),on()),this._injector=Pr(Cc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Fi;if(!this._injector.get(lE).done)throw!i&&function al(e){const n=es(e)||pa(e)||Io(e);return null!==n&&n.standalone}(t),new gn(405,!1);let a;a=i?t:this._injector.get(Lo).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const h=function u$(e){return e.isBoundToModule}(a)?void 0:this._injector.get(j_),y=a.create(Eu.NULL,[],r||a.selector,h),C=y.location.nativeElement,L=y.injector.get(mk,null);return L?.registerApplication(C),y.onDestroy(()=>{this.detachView(y.hostView),Sb(this.components,y),L?.unregisterApplication(C)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new gn(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Sb(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(gE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new gn(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Sb(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const Dk=new mr("",{providedIn:"root",factory:()=>Pr(og).handleError.bind(void 0)});function p$(){const e=Pr(gr),n=Pr(og);return t=>e.runOutsideAngular(()=>n.handleError(t))}let g$=(()=>{class e{constructor(){this.zone=Pr(gr),this.applicationRef=Pr(hg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Kr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=_$}return e})();function _$(e){return function y$(e,n,t){if(I(e)&&!t){const r=qc(e.index,n);return new U0(r,r)}return 47&e.type?new U0(n[bo],n):null}(ku(),Cr(),16==(16&e))}class kk{constructor(){}supports(n){return ib(n)}create(n){return new S$(n)}}const M$=(e,n)=>n;class S${constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||M$}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const a=!r||t&&t.currentIndex<Nk(r,i,s)?t:r,h=Nk(a,i,s),m=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{s||(s=[]);const y=h-i,C=m-i;if(y!=C){for(let F=0;F<y;F++){const j=F<s.length?s[F]:s[F]=0,fe=j+F;C<=fe&&fe<y&&(s[F]=j+1)}s[a.previousIndex]=C-y}}h!==m&&n(a,h,m)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!ib(n))throw new gn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,a,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let h=0;h<this.length;h++)s=n[h],a=this._trackByFn(h,s),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,s,a,h)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,h),r=!0),t=t._next}else i=0,function cz(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,h=>{a=this._trackByFn(i,h),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,h,a,i)),Object.is(t.item,h)||this._addIdentityChange(t,h)):(t=this._mismatch(t,h,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new E$(t,r),s,i),n}_verifyReinsertion(n,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ok),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ok),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class E${constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class T${constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Ok{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new T$,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Nk(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class Rk{constructor(){}supports(n){return n instanceof Map||ES(n)}create(){return new C$}}class C${constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||ES(n)))throw new gn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new D$(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class D${constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fk(){return new Cb([new kk])}let Cb=(()=>{class e{static#e=this.\u0275prov=_n({token:e,providedIn:"root",factory:Fk});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Fk()),deps:[[e,new Pd,new Ah]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new gn(901,!1)}}return e})();function Bk(){return new d1([new Rk])}let d1=(()=>{class e{static#e=this.\u0275prov=_n({token:e,providedIn:"root",factory:Bk});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Bk()),deps:[[e,new Pd,new Ah]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new gn(901,!1)}}return e})();const A$=bk(null,"core",[]);let P$=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||e)(tr(hg))};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({})}return e})();function Wk(e){const n=es(e);if(!n)return null;const t=new V0(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}let xE=null;function gm(){return xE}class G${}const Ic=new mr("DocumentToken");let ME=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:function(){return Pr(q$)},providedIn:"platform"})}return e})();const W$=new mr("Location Initialized");let q$=(()=>{class e extends ME{constructor(){super(),this._doc=Pr(Ic),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gm().getBaseHref(this._doc)}onPopState(t){const r=gm().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=gm().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function SE(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function qk(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function fg(e){return e&&"?"!==e[0]?"?"+e:e}let pg=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:function(){return Pr(Zk)},providedIn:"root"})}return e})();const Xk=new mr("appBaseHref");let Zk=(()=>{class e extends pg{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Pr(Ic).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return SE(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fg(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const a=this.prepareExternalUrl(i+fg(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){const a=this.prepareExternalUrl(i+fg(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(tr(ME),tr(Xk,8))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),X$=(()=>{class e extends pg{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=SE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+fg(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+fg(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(tr(ME),tr(Xk,8))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})(),Mv=(()=>{class e{constructor(t){this._subject=new Hi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function J$(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(qk(Kk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fg(r))}normalize(t){return e.stripTrailingSlash(function K$(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,Kk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fg(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fg(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=fg;static#t=this.joinWithSlash=SE;static#n=this.stripTrailingSlash=qk;static#r=this.\u0275fac=function(r){return new(r||e)(tr(pg))};static#i=this.\u0275prov=_n({token:e,factory:function(){return function Z$(){return new Mv(tr(pg))}()},providedIn:"root"})}return e})();function Kk(e){return e.replace(/\/index.html$/,"")}var jd=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(jd||{}),zl=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(zl||{}),Fh=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Fh||{}),fc=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(fc||{});function Lb(e,n){return hf(Yd(e)[Zl.DateFormat],n)}function Ab(e,n){return hf(Yd(e)[Zl.TimeFormat],n)}function Pb(e,n){return hf(Yd(e)[Zl.DateTimeFormat],n)}function df(e,n){const t=Yd(e),r=t[Zl.NumberSymbols][n];if(typeof r>"u"){if(n===fc.CurrencyDecimal)return t[Zl.NumberSymbols][fc.Decimal];if(n===fc.CurrencyGroup)return t[Zl.NumberSymbols][fc.Group]}return r}function Qk(e){if(!e[Zl.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Zl.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hf(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function TE(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const h8=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,h1={},f8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gg=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(gg||{}),ll=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ll||{}),ul=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(ul||{});function p8(e,n,t,r){let i=function M8(e){if(nO(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,s=1,a=1]=e.split("-").map(h=>+h);return kb(i,s-1,a)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(h8))return function S8(e){const n=new Date(0);let t=0,r=0;const i=e[8]?n.setUTCFullYear:n.setFullYear,s=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const a=Number(e[4]||0)-t,h=Number(e[5]||0)-r,m=Number(e[6]||0),y=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(n,a,h,m,y),n}(r)}const n=new Date(e);if(!nO(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=mg(t,n)||n;let h,a=[];for(;n;){if(h=f8.exec(n),!h){a.push(n);break}{a=a.concat(h.slice(1));const C=a.pop();if(!C)break;n=C}}let m=i.getTimezoneOffset();r&&(m=tO(r,m),i=function x8(e,n,t){const r=t?-1:1,i=e.getTimezoneOffset();return function b8(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,r*(tO(n,i)-i))}(i,r,!0));let y="";return a.forEach(C=>{const L=function w8(e){if(DE[e])return DE[e];let n;switch(e){case"G":case"GG":case"GGG":n=Jl(ul.Eras,zl.Abbreviated);break;case"GGGG":n=Jl(ul.Eras,zl.Wide);break;case"GGGGG":n=Jl(ul.Eras,zl.Narrow);break;case"y":n=Lc(ll.FullYear,1,0,!1,!0);break;case"yy":n=Lc(ll.FullYear,2,0,!0,!0);break;case"yyy":n=Lc(ll.FullYear,3,0,!1,!0);break;case"yyyy":n=Lc(ll.FullYear,4,0,!1,!0);break;case"Y":n=Fb(1);break;case"YY":n=Fb(2,!0);break;case"YYY":n=Fb(3);break;case"YYYY":n=Fb(4);break;case"M":case"L":n=Lc(ll.Month,1,1);break;case"MM":case"LL":n=Lc(ll.Month,2,1);break;case"MMM":n=Jl(ul.Months,zl.Abbreviated);break;case"MMMM":n=Jl(ul.Months,zl.Wide);break;case"MMMMM":n=Jl(ul.Months,zl.Narrow);break;case"LLL":n=Jl(ul.Months,zl.Abbreviated,jd.Standalone);break;case"LLLL":n=Jl(ul.Months,zl.Wide,jd.Standalone);break;case"LLLLL":n=Jl(ul.Months,zl.Narrow,jd.Standalone);break;case"w":n=CE(1);break;case"ww":n=CE(2);break;case"W":n=CE(1,!0);break;case"d":n=Lc(ll.Date,1);break;case"dd":n=Lc(ll.Date,2);break;case"c":case"cc":n=Lc(ll.Day,1);break;case"ccc":n=Jl(ul.Days,zl.Abbreviated,jd.Standalone);break;case"cccc":n=Jl(ul.Days,zl.Wide,jd.Standalone);break;case"ccccc":n=Jl(ul.Days,zl.Narrow,jd.Standalone);break;case"cccccc":n=Jl(ul.Days,zl.Short,jd.Standalone);break;case"E":case"EE":case"EEE":n=Jl(ul.Days,zl.Abbreviated);break;case"EEEE":n=Jl(ul.Days,zl.Wide);break;case"EEEEE":n=Jl(ul.Days,zl.Narrow);break;case"EEEEEE":n=Jl(ul.Days,zl.Short);break;case"a":case"aa":case"aaa":n=Jl(ul.DayPeriods,zl.Abbreviated);break;case"aaaa":n=Jl(ul.DayPeriods,zl.Wide);break;case"aaaaa":n=Jl(ul.DayPeriods,zl.Narrow);break;case"b":case"bb":case"bbb":n=Jl(ul.DayPeriods,zl.Abbreviated,jd.Standalone,!0);break;case"bbbb":n=Jl(ul.DayPeriods,zl.Wide,jd.Standalone,!0);break;case"bbbbb":n=Jl(ul.DayPeriods,zl.Narrow,jd.Standalone,!0);break;case"B":case"BB":case"BBB":n=Jl(ul.DayPeriods,zl.Abbreviated,jd.Format,!0);break;case"BBBB":n=Jl(ul.DayPeriods,zl.Wide,jd.Format,!0);break;case"BBBBB":n=Jl(ul.DayPeriods,zl.Narrow,jd.Format,!0);break;case"h":n=Lc(ll.Hours,1,-12);break;case"hh":n=Lc(ll.Hours,2,-12);break;case"H":n=Lc(ll.Hours,1);break;case"HH":n=Lc(ll.Hours,2);break;case"m":n=Lc(ll.Minutes,1);break;case"mm":n=Lc(ll.Minutes,2);break;case"s":n=Lc(ll.Seconds,1);break;case"ss":n=Lc(ll.Seconds,2);break;case"S":n=Lc(ll.FractionalSeconds,1);break;case"SS":n=Lc(ll.FractionalSeconds,2);break;case"SSS":n=Lc(ll.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Nb(gg.Short);break;case"ZZZZZ":n=Nb(gg.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Nb(gg.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Nb(gg.Long);break;default:return null}return DE[e]=n,n}(C);y+=L?L(i,t,m):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function kb(e,n,t){const r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function mg(e,n){const t=function e8(e){return Yd(e)[Zl.LocaleId]}(e);if(h1[t]=h1[t]||{},h1[t][n])return h1[t][n];let r="";switch(n){case"shortDate":r=Lb(e,Fh.Short);break;case"mediumDate":r=Lb(e,Fh.Medium);break;case"longDate":r=Lb(e,Fh.Long);break;case"fullDate":r=Lb(e,Fh.Full);break;case"shortTime":r=Ab(e,Fh.Short);break;case"mediumTime":r=Ab(e,Fh.Medium);break;case"longTime":r=Ab(e,Fh.Long);break;case"fullTime":r=Ab(e,Fh.Full);break;case"short":const i=mg(e,"shortTime"),s=mg(e,"shortDate");r=Ob(Pb(e,Fh.Short),[i,s]);break;case"medium":const a=mg(e,"mediumTime"),h=mg(e,"mediumDate");r=Ob(Pb(e,Fh.Medium),[a,h]);break;case"long":const m=mg(e,"longTime"),y=mg(e,"longDate");r=Ob(Pb(e,Fh.Long),[m,y]);break;case"full":const C=mg(e,"fullTime"),L=mg(e,"fullDate");r=Ob(Pb(e,Fh.Full),[C,L])}return r&&(h1[t][n]=r),r}function Ob(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return null!=n&&r in n?n[r]:t})),e}function Vf(e,n,t="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=t));let a=String(e);for(;a.length<n;)a="0"+a;return r&&(a=a.slice(a.length-n)),s+a}function Lc(e,n,t=0,r=!1,i=!1){return function(s,a){let h=function m8(e,n){switch(e){case ll.FullYear:return n.getFullYear();case ll.Month:return n.getMonth();case ll.Date:return n.getDate();case ll.Hours:return n.getHours();case ll.Minutes:return n.getMinutes();case ll.Seconds:return n.getSeconds();case ll.FractionalSeconds:return n.getMilliseconds();case ll.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((t>0||h>-t)&&(h+=t),e===ll.Hours)0===h&&-12===t&&(h=12);else if(e===ll.FractionalSeconds)return function g8(e,n){return Vf(e,3).substring(0,n)}(h,n);const m=df(a,fc.MinusSign);return Vf(h,n,m,r,i)}}function Jl(e,n,t=jd.Format,r=!1){return function(i,s){return function _8(e,n,t,r,i,s){switch(t){case ul.Months:return function r8(e,n,t){const r=Yd(e),s=hf([r[Zl.MonthsFormat],r[Zl.MonthsStandalone]],n);return hf(s,t)}(n,i,r)[e.getMonth()];case ul.Days:return function n8(e,n,t){const r=Yd(e),s=hf([r[Zl.DaysFormat],r[Zl.DaysStandalone]],n);return hf(s,t)}(n,i,r)[e.getDay()];case ul.DayPeriods:const a=e.getHours(),h=e.getMinutes();if(s){const y=function a8(e){const n=Yd(e);return Qk(n),(n[Zl.ExtraData][2]||[]).map(r=>"string"==typeof r?TE(r):[TE(r[0]),TE(r[1])])}(n),C=function l8(e,n,t){const r=Yd(e);Qk(r);const s=hf([r[Zl.ExtraData][0],r[Zl.ExtraData][1]],n)||[];return hf(s,t)||[]}(n,i,r),L=y.findIndex(F=>{if(Array.isArray(F)){const[j,fe]=F,we=a>=j.hours&&h>=j.minutes,qe=a<fe.hours||a===fe.hours&&h<fe.minutes;if(j.hours<fe.hours){if(we&&qe)return!0}else if(we||qe)return!0}else if(F.hours===a&&F.minutes===h)return!0;return!1});if(-1!==L)return C[L]}return function t8(e,n,t){const r=Yd(e),s=hf([r[Zl.DayPeriodsFormat],r[Zl.DayPeriodsStandalone]],n);return hf(s,t)}(n,i,r)[a<12?0:1];case ul.Eras:return function i8(e,n){return hf(Yd(e)[Zl.Eras],n)}(n,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,e,n,t,r)}}function Nb(e){return function(n,t,r){const i=-1*r,s=df(t,fc.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case gg.Short:return(i>=0?"+":"")+Vf(a,2,s)+Vf(Math.abs(i%60),2,s);case gg.ShortGMT:return"GMT"+(i>=0?"+":"")+Vf(a,1,s);case gg.Long:return"GMT"+(i>=0?"+":"")+Vf(a,2,s)+":"+Vf(Math.abs(i%60),2,s);case gg.Extended:return 0===r?"Z":(i>=0?"+":"")+Vf(a,2,s)+":"+Vf(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const y8=0,Rb=4;function eO(e){return kb(e.getFullYear(),e.getMonth(),e.getDate()+(Rb-e.getDay()))}function CE(e,n=!1){return function(t,r){let i;if(n){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();i=1+Math.floor((a+s)/7)}else{const s=eO(t),a=function v8(e){const n=kb(e,y8,1).getDay();return kb(e,0,1+(n<=Rb?Rb:Rb+7)-n)}(s.getFullYear()),h=s.getTime()-a.getTime();i=1+Math.round(h/6048e5)}return Vf(i,e,df(r,fc.MinusSign))}}function Fb(e,n=!1){return function(t,r){return Vf(eO(t).getFullYear(),e,df(r,fc.MinusSign),n)}}const DE={};function tO(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function nO(e){return e instanceof Date&&!isNaN(e.valueOf())}function oO(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}const OE=/\s+/,aO=[];let lO=(()=>{class e{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=aO,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(OE):aO}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(OE):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(OE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(Cb),Oe(d1),Oe(pr),Oe(hc))};static#t=this.\u0275dir=Ti({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class F8{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hd=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new F8(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,a),cO(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{cO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(Rh),Oe($f),Oe(Cb))};static#t=this.\u0275dir=Ti({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function cO(e,n){e.context.$implicit=n.item}let Bu=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new B8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(Rh),Oe($f))};static#t=this.\u0275dir=Ti({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class B8{constructor(){this.$implicit=null,this.ngIf=null}}function dO(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ei(n)}'.`)}class NE{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Yb=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ti({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return e})(),hO=(()=>{class e{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new NE(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(Rh),Oe($f),Oe(Yb,9))};static#t=this.\u0275dir=Ti({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return e})();function Gf(e,n){return new gn(2100,!1)}class H8{createSubscription(n,t){return wd(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){wd(()=>n.unsubscribe())}}class $8{createSubscription(n,t){return n.then(t,r=>{throw r})}dispose(n){}}const U8=new $8,V8=new H8;let FE=(()=>{class e{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(K0(t))return U8;if(iA(t))return V8;throw Gf()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(Kr,16))};static#t=this.\u0275pipe=Kn({name:"async",type:e,pure:!1,standalone:!0})}return e})(),pO=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw Gf();return t.toLowerCase()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"lowercase",type:e,pure:!0,standalone:!0})}return e})();const Z8=new mr("DATE_PIPE_DEFAULT_TIMEZONE"),K8=new mr("DATE_PIPE_DEFAULT_OPTIONS");let gO=(()=>{class e{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(null==t||""===t||t!=t)return null;try{return p8(t,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw Gf()}}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(dg,16),Oe(Z8,24),Oe(K8,24))};static#t=this.\u0275pipe=Kn({name:"date",type:e,pure:!0,standalone:!0})}return e})(),mO=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=_O}transform(t,r=_O){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(a=>{this.keyValues.push(function nU(e,n){return{key:e,value:n}}(a.key,a.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(d1,16))};static#t=this.\u0275pipe=Kn({name:"keyvalue",type:e,pure:!1,standalone:!0})}return e})();function _O(e,n){const t=e.key,r=n.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let yO=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({})}return e})();const vO="browser",oU="server";function wO(e){return e===vO}function zE(e){return e===oU}let uU=(()=>{class e{static#e=this.\u0275prov=_n({token:e,providedIn:"root",factory:()=>new cU(tr(Ic),window)})}return e})();class cU{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function dU(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const a=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class bO{}class OU extends G${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $E extends OU{static makeCurrent(){!function V$(e){xE||(xE=e)}(new $E)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function NU(){return g1=g1||document.querySelector("base"),g1?g1.getAttribute("href"):null}();return null==t?null:function RU(e){Hb=Hb||document.createElement("a"),Hb.setAttribute("href",e);const n=Hb.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){g1=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return oO(document.cookie,n)}}let Hb,g1=null,BU=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();const $b=new mr("EventManagerPlugins");let TO=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new gn(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(tr($b),tr(gr))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();class UE{constructor(n){this._doc=n}}const VE="ng-app-id";let CO=(()=>{class e{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zE(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${VE}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(VE),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(VE,this.appId),a}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,a=s.get(r)?.elements;a?a.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Ic),tr(ev),tr(Gw,8),tr(sf))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();const GE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},WE=/%COMP%/g,HU=new mr("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function IO(e,n){return n.map(t=>t.replace(WE,e))}let qE=(()=>{class e{constructor(t,r,i,s,a,h,m,y=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=h,this.ngZone=m,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=zE(h),this.defaultRenderer=new XE(t,a,m,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ba.ShadowDom&&(r={...r,encapsulation:Ba.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof AO?i.applyToHost(t):i instanceof ZE&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const a=this.doc,h=this.ngZone,m=this.eventManager,y=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(r.encapsulation){case Ba.Emulated:s=new AO(m,y,r,this.appId,C,a,h,L);break;case Ba.ShadowDom:return new GU(m,y,t,r,a,h,this.nonce,L);default:s=new ZE(m,y,r,C,a,h,L)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(tr(TO),tr(CO),tr(ev),tr(HU),tr(Ic),tr(sf),tr(gr),tr(Gw))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();class XE{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(GE[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(LO(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(LO(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new gn(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=GE[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=GE[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Nc.DashCase|Nc.Important)?n.style.setProperty(t,r,i&Nc.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Nc.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=gm().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function LO(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class GU extends XE{constructor(n,t,r,i,s,a,h,m){super(n,s,a,m),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=IO(i.id,i.styles);for(const C of y){const L=document.createElement("style");h&&L.setAttribute("nonce",h),L.textContent=C,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ZE extends XE{constructor(n,t,r,i,s,a,h,m){super(n,s,a,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=m?IO(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class AO extends ZE{constructor(n,t,r,i,s,a,h,m){const y=i+"-"+r.id;super(n,t,r,s,a,h,m,y),this.contentAttr=function $U(e){return"_ngcontent-%COMP%".replace(WE,e)}(y),this.hostAttr=function UU(e){return"_nghost-%COMP%".replace(WE,e)}(y)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let WU=(()=>{class e extends UE{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Ic))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();const PO=["alt","control","meta","shift"],qU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XU={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ZU=(()=>{class e extends UE{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gm().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let a="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),a="code."),PO.forEach(y=>{const C=r.indexOf(y);C>-1&&(r.splice(C,1),a+=y+".")}),a+=s,0!=r.length||0===s.length)return null;const m={};return m.domEventName=i,m.fullKey=a,m}static matchEventFullKeyCode(t,r){let i=qU[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),PO.forEach(a=>{a!==i&&(0,XU[a])(t)&&(s+=a+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Ic))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();const eV=bk(A$,"browser",[{provide:sf,useValue:vO},{provide:Uw,useValue:function KU(){$E.makeCurrent()},multi:!0},{provide:Ic,useFactory:function QU(){return function Tc(e){Su=e}(document),document},deps:[]}]),tV=new mr(""),NO=[{provide:Mb,useClass:class FU{addToWindow(n){lo.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new gn(5103,!1);return s},lo.getAllAngularTestabilities=()=>n.getAllTestabilities(),lo.getAllAngularRootElements=()=>n.getAllRootElements(),lo.frameworkStabilizers||(lo.frameworkStabilizers=[]),lo.frameworkStabilizers.push(r=>{const i=lo.getAllAngularTestabilities();let s=i.length,a=!1;const h=function(m){a=a||m,s--,0==s&&r(a)};i.forEach(m=>{m.whenStable(h)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?gm().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:mk,useClass:dE,deps:[gr,hE,Mb]},{provide:dE,useClass:dE,deps:[gr,hE,Mb]}],RO=[{provide:I0,useValue:"root"},{provide:og,useFactory:function JU(){return new og},deps:[]},{provide:$b,useClass:WU,multi:!0,deps:[Ic,gr,sf]},{provide:$b,useClass:ZU,multi:!0,deps:[Ic]},qE,CO,TO,{provide:Yl,useExisting:qE},{provide:bO,useClass:BU,deps:[]},[]];let FO=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:ev,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(tr(tV,12))};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({providers:[...RO,...NO],imports:[yO,P$]})}return e})(),BO=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Ic))};static#t=this.\u0275prov=_n({token:e,factory:function(r){let i=null;return i=r?new r:function rV(){return new BO(tr(Ic))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const aV={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},JE=new mr("HammerGestureConfig"),jO=new mr("HammerLoader");let lV=(()=>{class e{constructor(){this.events=[],this.overrides={}}buildHammer(t){const r=new Hammer(t,this.options);r.get("pinch").set({enable:!0}),r.get("rotate").set({enable:!0});for(const i in this.overrides)r.get(i).set(this.overrides[i]);return r}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})(),uV=(()=>{class e extends UE{constructor(t,r,i,s){super(t),this._config=r,this.console=i,this.loader=s,this._loaderPromise=null}supports(t){return!(!aV.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader)}addEventListener(t,r,i){const s=this.manager.getZone();if(r=r.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||s.runOutsideAngular(()=>this.loader());let a=!1,h=()=>{a=!0};return s.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?a||(h=this.addEventListener(t,r,i)):h=()=>{}}).catch(()=>{h=()=>{}})),()=>{h()}}return s.runOutsideAngular(()=>{const a=this._config.buildHammer(t),h=function(m){s.runGuarded(function(){i(m)})};return a.on(r,h),()=>{a.off(r,h),"function"==typeof a.destroy&&a.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Ic),tr(JE),tr(wb),tr(jO,8))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})(),cV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({providers:[{provide:$b,useClass:uV,multi:!0,deps:[Ic,JE,wb,[new Ah,jO]]},{provide:JE,useClass:lV,deps:[]}]})}return e})();class $O{}class hV{}const _g="*";function Ub(e,n=null){return{type:4,styles:n,timings:e}}function UO(e,n=null){return{type:2,steps:e,options:n}}function Ev(e){return{type:6,styles:e,offset:null}}function VO(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}function Vb(e,n,t=null){return{type:11,selector:e,animation:n,options:t}}class m1{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class GO{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,h)=>Math.max(a,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function WO(e){return new gn(3e3,!1)}function _m(e){switch(e.length){case 0:return new m1;case 1:return e[0];default:return new GO(e)}}function qO(e,n,t=new Map,r=new Map){const i=[],s=[];let a=-1,h=null;if(n.forEach(m=>{const y=m.get("offset"),C=y==a,L=C&&h||new Map;m.forEach((F,j)=>{let fe=j,we=F;if("offset"!==j)switch(fe=e.normalizePropertyName(fe,i),we){case"!":we=t.get(j);break;case _g:we=r.get(j);break;default:we=e.normalizeStyleValue(j,fe,we,i)}L.set(fe,we)}),C||s.push(L),h=L,a=y}),i.length)throw function RV(e){return new gn(3502,!1)}();return s}function eT(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&tT(t,"start",e)));break;case"done":e.onDone(()=>r(t&&tT(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&tT(t,"destroy",e)))}}function tT(e,n,t){const s=nT(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),a=e._data;return null!=a&&(s._data=a),s}function nT(e,n,t,r,i="",s=0,a){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!a}}function Bh(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function XO(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const qV=(()=>typeof document>"u"?null:document.documentElement)();function rT(e){const n=e.parentNode||e.host||null;return n===qV?null:n}let U_=null,ZO=!1;function KO(e,n){for(;n;){if(n===e)return!0;n=rT(n)}return!1}function JO(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]}let QO=(()=>{class e{validateStyleProperty(t){return function ZV(e){U_||(U_=function KV(){return typeof document<"u"?document.body:null}()||{},ZO=!!U_.style&&"WebkitAppearance"in U_.style);let n=!0;return U_.style&&!function XV(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in U_.style,!n&&ZO&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in U_.style)),n}(t)}matchesElement(t,r){return!1}containsElement(t,r){return KO(t,r)}getParentElement(t){return rT(t)}query(t,r,i){return JO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,a,h=[],m){return new m1(i,s)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})(),iT=(()=>{class e{static#e=this.NOOP=new QO}return e})();const JV=1e3,sT="ng-enter",Gb="ng-leave",Wb="ng-trigger",qb=".ng-trigger",tN="ng-animating",oT=".ng-animating";function yg(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:aT(parseFloat(n[1]),n[2])}function aT(e,n){return"s"===n?e*JV:e}function Xb(e,n,t){return e.hasOwnProperty("duration")?e:function eG(e,n,t){let i,s=0,a="";if("string"==typeof e){const h=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return n.push(WO()),{duration:0,delay:0,easing:""};i=aT(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(s=aT(parseFloat(m),h[4]));const y=h[5];y&&(a=y)}else i=e;if(!t){let h=!1,m=n.length;i<0&&(n.push(function pV(){return new gn(3100,!1)}()),h=!0),s<0&&(n.push(function gV(){return new gn(3101,!1)}()),h=!0),h&&n.splice(m,0,WO())}return{duration:i,delay:s,easing:a}}(e,n,t)}function _1(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function nN(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function ym(e,n=new Map,t){if(t)for(let[r,i]of t)n.set(r,i);for(let[r,i]of e)n.set(r,i);return n}function Dp(e,n,t){n.forEach((r,i)=>{const s=uT(i);t&&!t.has(i)&&t.set(i,e.style[s]),e.style[s]=r})}function V_(e,n){n.forEach((t,r)=>{const i=uT(r);e.style[i]=""})}function y1(e){return Array.isArray(e)?1==e.length?e[0]:UO(e):e}const lT=new RegExp("{{\\s*(.+?)\\s*}}","g");function iN(e){let n=[];if("string"==typeof e){let t;for(;t=lT.exec(e);)n.push(t[1]);lT.lastIndex=0}return n}function v1(e,n,t){const r=e.toString(),i=r.replace(lT,(s,a)=>{let h=n[a];return null==h&&(t.push(function _V(e){return new gn(3003,!1)}()),h=""),h.toString()});return i==r?e:i}function Zb(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const rG=/-+([a-z0-9])/g;function uT(e){return e.replace(rG,(...n)=>n[1].toUpperCase())}function Yh(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function yV(e){return new gn(3004,!1)}()}}function sN(e,n){return window.getComputedStyle(e)[n]}const Kb="*";function oG(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function aG(e,n,t){if(":"==e[0]){const m=function lG(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(function PV(e){return new gn(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof m)return void n.push(m);e=m}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function AV(e){return new gn(3015,!1)}()),n;const i=r[1],s=r[2],a=r[3];n.push(oN(i,a));"<"==s[0]&&!(i==Kb&&a==Kb)&&n.push(oN(a,i))}(r,t,n)):t.push(e),t}const Jb=new Set(["true","1"]),Qb=new Set(["false","0"]);function oN(e,n){const t=Jb.has(e)||Qb.has(e),r=Jb.has(n)||Qb.has(n);return(i,s)=>{let a=e==Kb||e==i,h=n==Kb||n==s;return!a&&t&&"boolean"==typeof i&&(a=i?Jb.has(e):Qb.has(e)),!h&&r&&"boolean"==typeof s&&(h=s?Jb.has(n):Qb.has(n)),a&&h}}const uG=new RegExp("s*:selfs*,?","g");function cT(e,n,t,r){return new cG(e).build(n,t,r)}class cG{constructor(n){this._driver=n}build(n,t,r){const i=new fG(t);return this._resetContextStyleTimingState(i),Yh(this,y1(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],a=[];return"@"==n.name.charAt(0)&&t.errors.push(function wV(){return new gn(3006,!1)}()),n.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,y=m.name;y.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,s.push(this.visitState(m,t))}),m.name=y}else if(1==h.type){const m=this.visitTransition(h,t);r+=m.queryCount,i+=m.depCount,a.push(m)}else t.errors.push(function bV(){return new gn(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const s=new Set,a=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{iN(m).forEach(y=>{a.hasOwnProperty(y)||s.add(y)})})}),s.size&&(Zb(s.values()),t.errors.push(function xV(e,n){return new gn(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=Yh(this,y1(n.animation),t);return{type:1,matchers:oG(n.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:G_(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(r=>Yh(this,r,t)),options:G_(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const s=n.steps.map(a=>{t.currentTime=r;const h=Yh(this,a,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:s,options:G_(n.options)}}visitAnimate(n,t){const r=function gG(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return dT(Xb(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=dT(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Xb(t,n);return dT(i.duration,i.delay,i.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,s=n.styles?n.styles:Ev({});if(5==s.type)i=this.visitKeyframes(s,t);else{let a=n.styles,h=!1;if(!a){h=!0;const y={};r.easing&&(y.easing=r.easing),a=Ev(y)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(a,t);m.isEmptyStep=h,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let h of i)"string"==typeof h?h===_g?r.push(h):t.errors.push(new gn(3002,!1)):r.push(nN(h));let s=!1,a=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(a=h.get("easing"),h.delete("easing")),!s))for(let m of h.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:a,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(a=>{"string"!=typeof a&&a.forEach((h,m)=>{const y=t.collectedStyles.get(t.currentQuerySelector),C=y.get(m);let L=!0;C&&(s!=i&&s>=C.startTime&&i<=C.endTime&&(t.errors.push(function SV(e,n,t,r,i){return new gn(3010,!1)}()),L=!1),s=C.startTime),L&&y.set(m,{startTime:s,endTime:i}),t.options&&function nG(e,n,t){const r=n.params||{},i=iN(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function mV(e){return new gn(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(n,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function EV(){return new gn(3011,!1)}()),r;let s=0;const a=[];let h=!1,m=!1,y=0;const C=n.steps.map(Ue=>{const Ae=this._makeStyleAst(Ue,t);let je=null!=Ae.offset?Ae.offset:function pG(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(Ae.styles),Dt=0;return null!=je&&(s++,Dt=Ae.offset=je),m=m||Dt<0||Dt>1,h=h||Dt<y,y=Dt,a.push(Dt),Ae});m&&t.errors.push(function TV(){return new gn(3012,!1)}()),h&&t.errors.push(function CV(){return new gn(3200,!1)}());const L=n.steps.length;let F=0;s>0&&s<L?t.errors.push(function DV(){return new gn(3202,!1)}()):0==s&&(F=1/(L-1));const j=L-1,fe=t.currentTime,we=t.currentAnimateTimings,qe=we.duration;return C.forEach((Ue,Ae)=>{const je=F>0?Ae==j?1:F*Ae:a[Ae],Dt=je*qe;t.currentTime=fe+we.delay+Dt,we.duration=Dt,this._validateStyleAst(Ue,t),Ue.offset=je,r.styles.push(Ue)}),r}visitReference(n,t){return{type:8,animation:Yh(this,y1(n.animation),t),options:G_(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:G_(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:G_(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[s,a]=function dG(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(uG,"")),e=e.replace(/@\*/g,qb).replace(/@\w+/g,t=>qb+"-"+t.slice(1)).replace(/:animating/g,oT),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+s:s,Bh(t.collectedStyles,t.currentQuerySelector,new Map);const h=Yh(this,y1(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:h,originalSelector:n.selector,options:G_(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function IV(){return new gn(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:Xb(n.timings,t.errors,!0);return{type:12,animation:Yh(this,y1(n.animation),t),timings:r,options:null}}}class fG{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function G_(e){return e?(e=_1(e)).params&&(e.params=function hG(e){return e?_1(e):null}(e.params)):e={},e}function dT(e,n,t){return{duration:e,delay:n,easing:t}}function hT(e,n,t,r,i,s,a=null,h=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:h}}class ex{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const yG=new RegExp(":enter","g"),wG=new RegExp(":leave","g");function fT(e,n,t,r,i,s=new Map,a=new Map,h,m,y=[]){return(new bG).buildKeyframes(e,n,t,r,i,s,a,h,m,y)}class bG{buildKeyframes(n,t,r,i,s,a,h,m,y,C=[]){y=y||new ex;const L=new pT(n,t,y,i,s,C,[]);L.options=m;const F=m.delay?yg(m.delay):0;L.currentTimeline.delayNextStep(F),L.currentTimeline.setStyles([a],null,L.errors,m),Yh(this,r,L);const j=L.timelines.filter(fe=>fe.containsAnimation());if(j.length&&h.size){let fe;for(let we=j.length-1;we>=0;we--){const qe=j[we];if(qe.element===t){fe=qe;break}}fe&&!fe.allowOnlyTimelineStyles()&&fe.setStyles([h],null,L.errors,m)}return j.length?j.map(fe=>fe.buildKeyframes()):[hT(t,[],[],[],0,F,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(const i of n){const s=i?.delay;if(s){const a="number"==typeof s?s:yg(v1(s,i?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(n,t,r){let s=t.currentTimeline.currentTime;const a=null!=r.duration?yg(r.duration):null,h=null!=r.delay?yg(r.delay):null;return 0!==a&&n.forEach(m=>{const y=t.appendInstructionToTimeline(m,a,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(n,t){t.updateOptions(n.options,!0),Yh(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const s=n.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tx);const a=yg(s.delay);i.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>Yh(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const s=n.options&&n.options.delay?yg(n.options.delay):0;n.steps.forEach(a=>{const h=t.createSubContext(n.options);s&&h.delayNextStep(s),Yh(this,a,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return Xb(t.params?v1(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,n.styles.forEach(m=>{h.forwardTime((m.offset||0)*s),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+s),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},s=i.delay?yg(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tx);let a=r;const h=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((y,C)=>{t.currentQueryIndex=C;const L=t.createSubContext(n.options,y);s&&L.delayNextStep(s),y===t.element&&(m=L.currentTimeline),Yh(this,n.animation,L),L.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,s=n.timings,a=Math.abs(s.duration),h=a*(t.currentQueryTotal-1);let m=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=h-m;break;case"full":m=r.currentStaggerTime}const C=t.currentTimeline;m&&C.delayNextStep(m);const L=C.currentTime;Yh(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-L+(i.startTime-r.currentTimeline.startTime)}}const tx={};class pT{constructor(n,t,r,i,s,a,h,m){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new nx(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=yg(r.duration)),null!=r.delay&&(i.delay=yg(r.delay));const s=r.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!a.hasOwnProperty(h))&&(a[h]=v1(s[h],a,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,s=new pT(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=tx,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new xG(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,s,a){let h=[];if(i&&h.push(this.element),n.length>0){n=(n=n.replace(yG,"."+this._enterClassName)).replace(wG,"."+this._leaveClassName);let y=this._driver.query(this.element,n,1!=r);0!==r&&(y=r<0?y.slice(y.length+r,y.length):y.slice(0,r)),h.push(...y)}return!s&&0==h.length&&a.push(function LV(e){return new gn(3014,!1)}()),h}}class nx{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new nx(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||_g),this._currentKeyframe.set(t,_g);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},a=function MG(e,n){const t=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||n.keys();for(let s of r)t.set(s,_g)}else ym(i,t)}),t}(n,this._globalTimelineStyles);for(let[h,m]of a){const y=v1(m,s,r);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??_g),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,m)=>{const y=ym(h,new Map,this._backFill);y.forEach((C,L)=>{"!"===C?n.add(L):C===_g&&t.add(L)}),r||y.set("offset",m/this.duration),i.push(y)});const s=n.size?Zb(n.values()):[],a=t.size?Zb(t.values()):[];if(r){const h=i[0],m=new Map(h);h.set("offset",0),m.set("offset",1),i=[h,m]}return hT(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}}class xG extends nx{constructor(n,t,r,i,s,a,h=!1){super(n,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=r+t,h=t/a,m=ym(n[0]);m.set("offset",0),s.push(m);const y=ym(n[0]);y.set("offset",uN(h)),s.push(y);const C=n.length-1;for(let L=1;L<=C;L++){let F=ym(n[L]);const j=F.get("offset");F.set("offset",uN((t+j*r)/a)),s.push(F)}r=a,t=0,i="",n=s}return hT(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function uN(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class gT{}const SG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class EG extends gT{normalizePropertyName(n,t){return uT(n)}normalizeStyleValue(n,t,r,i){let s="";const a=r.toString().trim();if(SG.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function vV(e,n){return new gn(3005,!1)}())}return a+s}}function cN(e,n,t,r,i,s,a,h,m,y,C,L,F){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:a,timelines:h,queriedElements:m,preStyleProps:y,postStyleProps:C,totalTime:L,errors:F}}const mT={};class dN{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function TG(e,n,t,r,i){return e.some(s=>s(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,s,a,h,m,y,C){const L=[],F=this.ast.options&&this.ast.options.params||mT,fe=this.buildStyles(r,h&&h.params||mT,L),we=m&&m.params||mT,qe=this.buildStyles(i,we,L),Ue=new Set,Ae=new Map,je=new Map,Dt="void"===i,Ht={params:CG(we,F),delay:this.ast.options?.delay},Kt=C?[]:fT(n,t,this.ast.animation,s,a,fe,qe,Ht,y,L);let tn=0;if(Kt.forEach(Ut=>{tn=Math.max(Ut.duration+Ut.delay,tn)}),L.length)return cN(t,this._triggerName,r,i,Dt,fe,qe,[],[],Ae,je,tn,L);Kt.forEach(Ut=>{const Ii=Ut.element,Si=Bh(Ae,Ii,new Set);Ut.preStyleProps.forEach(As=>Si.add(As));const as=Bh(je,Ii,new Set);Ut.postStyleProps.forEach(As=>as.add(As)),Ii!==t&&Ue.add(Ii)});const Tn=Zb(Ue.values());return cN(t,this._triggerName,r,i,Dt,fe,qe,Kt,Tn,Ae,je,tn)}}function CG(e,n){const t=_1(n);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(t[r]=e[r]);return t}class DG{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r=new Map,i=_1(this.defaultParams);return Object.keys(n).forEach(s=>{const a=n[s];null!==a&&(i[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,h)=>{a&&(a=v1(a,i,t));const m=this.normalizer.normalizePropertyName(h,t);a=this.normalizer.normalizeStyleValue(h,m,a,t),r.set(h,a)})}),r}}class LG{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new DG(i.style,i.options&&i.options.params||{},r))}),hN(this.states,"true","1"),hN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new dN(n,i,this.states))}),this.fallbackTransition=function AG(e,n,t){return new dN(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,h)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(a=>a.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function hN(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const PG=new ex;class kG{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const r=[],s=cT(this._driver,t,r,[]);if(r.length)throw function FV(e){return new gn(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,t,r){const i=n.element,s=qO(this._normalizer,n.keyframes,t,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],s=this._animations.get(n);let a;const h=new Map;if(s?(a=fT(this._driver,t,s,sT,Gb,new Map,new Map,r,PG,i),a.forEach(C=>{const L=Bh(h,C.element,new Map);C.postStyleProps.forEach(F=>L.set(F,null))})):(i.push(function BV(){return new gn(3300,!1)}()),a=[]),i.length)throw function YV(e){return new gn(3504,!1)}();h.forEach((C,L)=>{C.forEach((F,j)=>{C.set(j,this._driver.computeStyle(L,j,_g))})});const y=_m(a.map(C=>{const L=h.get(C.element);return this._buildPlayer(C,new Map,L)}));return this._playersById.set(n,y),y.onDestroy(()=>this.destroy(n)),this.players.push(y),y}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function zV(e){return new gn(3301,!1)}();return t}listen(n,t,r,i){const s=nT(t,"","","");return eT(this._getPlayer(n),r,s,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const fN="ng-animate-queued",_T="ng-animate-disabled",BG=[],pN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wf="__ng_removed";class yT{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function $G(e){return e??null}(r?n.value:n),r){const s=_1(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const w1="void",vT=new yT(w1);class zG{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ff(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw function jV(e,n){return new gn(3302,!1)}();if(null==r||0==r.length)throw function HV(e){return new gn(3303,!1)}();if(!function UG(e){return"start"==e||"done"==e}(r))throw function $V(e,n){return new gn(3400,!1)}();const s=Bh(this._elementListeners,n,[]),a={name:t,phase:r,callback:i};s.push(a);const h=Bh(this._engine.statesByElement,n,new Map);return h.has(t)||(ff(n,Wb),ff(n,Wb+"-"+t),h.set(t,vT)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(a);m>=0&&s.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function UV(e){return new gn(3401,!1)}();return t}trigger(n,t,r,i=!0){const s=this._getTrigger(t),a=new wT(this.id,t,n);let h=this._engine.statesByElement.get(n);h||(ff(n,Wb),ff(n,Wb+"-"+t),this._engine.statesByElement.set(n,h=new Map));let m=h.get(t);const y=new yT(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&y.absorbOptions(m.options),h.set(t,y),m||(m=vT),y.value!==w1&&m.value===y.value){if(!function WG(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!n.hasOwnProperty(s)||e[s]!==n[s])return!1}return!0}(m.params,y.params)){const we=[],qe=s.matchStyles(m.value,m.params,we),Ue=s.matchStyles(y.value,y.params,we);we.length?this._engine.reportError(we):this._engine.afterFlush(()=>{V_(n,qe),Dp(n,Ue)})}return}const F=Bh(this._engine.playersByElement,n,[]);F.forEach(we=>{we.namespaceId==this.id&&we.triggerName==t&&we.queued&&we.destroy()});let j=s.matchTransition(m.value,y.value,n,y.params),fe=!1;if(!j){if(!i)return;j=s.fallbackTransition,fe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:j,fromState:m,toState:y,player:a,isFallbackTransition:fe}),fe||(ff(n,fN),a.onStart(()=>{Tv(n,fN)})),a.onDone(()=>{let we=this.players.indexOf(a);we>=0&&this.players.splice(we,1);const qe=this._engine.playersByElement.get(n);if(qe){let Ue=qe.indexOf(a);Ue>=0&&qe.splice(Ue,1)}}),this.players.push(a),F.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,qb,!0);r.forEach(i=>{if(i[Wf])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const s=this._engine.statesByElement.get(n),a=new Map;if(s){const h=[];if(s.forEach((m,y)=>{if(a.set(y,m.value),this._triggers.has(y)){const C=this.trigger(n,y,w1,i);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,a),r&&_m(h).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(s=>{const a=s.name;if(i.has(a))return;i.add(a);const m=this._triggers.get(a).fallbackTransition,y=r.get(a)||vT,C=new yT(w1),L=new wT(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:m,fromState:y,toState:C,player:L,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let a=n;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const s=n[Wf];(!s||s===pN)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){ff(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,a=this._elementListeners.get(s);a&&a.forEach(h=>{if(h.name==r.triggerName){const m=nT(s,r.triggerName,r.fromState.value,r.toState.value);m._data=n,eT(r.player,h.phase,m,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class jG{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new zG(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,h=this.driver.getParentElement(t);for(;h;){const m=i.get(h);if(m){const y=r.indexOf(m);r.splice(y+1,0,n),a=!0;break}h=this.driver.getParentElement(h)}a||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(n,t,r,i){if(rx(t)){const s=this._fetchNamespace(n);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!rx(t))return;const s=t[Wf];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){const a=this._fetchNamespace(n);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ff(n,_T)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Tv(n,_T))}removeNode(n,t,r){if(rx(t)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(t,r):this.markElementAsRemoved(n,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==n&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(n,t,r,i,s){this.collectedLeaveElements.push(t),t[Wf]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,t,r,i,s){return rx(t)?this._fetchNamespace(n).listen(t,r,i,s):()=>{}}_buildInstruction(n,t,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,s)}destroyInnerAnimations(n){let t=this.driver.query(n,qb,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,oT,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return _m(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[Wf];if(t&&t.setForRemoval){if(n[Wf]=pN,t.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(_T)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ff(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?_m(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function VV(e){return new gn(3402,!1)}()}_flushAnimations(n,t){const r=new ex,i=[],s=new Map,a=[],h=new Map,m=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(cr=>{C.add(cr);const fi=this.driver.query(cr,".ng-animate-queued",!0);for(let bi=0;bi<fi.length;bi++)C.add(fi[bi])});const L=this.bodyNode,F=Array.from(this.statesByElement.keys()),j=_N(F,this.collectedEnterElements),fe=new Map;let we=0;j.forEach((cr,fi)=>{const bi=sT+we++;fe.set(fi,bi),cr.forEach(Bi=>ff(Bi,bi))});const qe=[],Ue=new Set,Ae=new Set;for(let cr=0;cr<this.collectedLeaveElements.length;cr++){const fi=this.collectedLeaveElements[cr],bi=fi[Wf];bi&&bi.setForRemoval&&(qe.push(fi),Ue.add(fi),bi.hasAnimation?this.driver.query(fi,".ng-star-inserted",!0).forEach(Bi=>Ue.add(Bi)):Ae.add(fi))}const je=new Map,Dt=_N(F,Array.from(Ue));Dt.forEach((cr,fi)=>{const bi=Gb+we++;je.set(fi,bi),cr.forEach(Bi=>ff(Bi,bi))}),n.push(()=>{j.forEach((cr,fi)=>{const bi=fe.get(fi);cr.forEach(Bi=>Tv(Bi,bi))}),Dt.forEach((cr,fi)=>{const bi=je.get(fi);cr.forEach(Bi=>Tv(Bi,bi))}),qe.forEach(cr=>{this.processLeaveNode(cr)})});const Ht=[],Kt=[];for(let cr=this._namespaceList.length-1;cr>=0;cr--)this._namespaceList[cr].drainQueuedTransitions(t).forEach(bi=>{const Bi=bi.player,Fa=bi.element;if(Ht.push(Bi),this.collectedEnterElements.length){const Hl=Fa[Wf];if(Hl&&Hl.setForMove){if(Hl.previousTriggersValues&&Hl.previousTriggersValues.has(bi.triggerName)){const Kf=Hl.previousTriggersValues.get(bi.triggerName),rd=this.statesByElement.get(bi.element);if(rd&&rd.has(bi.triggerName)){const Ig=rd.get(bi.triggerName);Ig.value=Kf,rd.set(bi.triggerName,Ig)}}return void Bi.destroy()}}const cl=!L||!this.driver.containsElement(L,Fa),sl=je.get(Fa),Ro=fe.get(Fa),qs=this._buildInstruction(bi,r,Ro,sl,cl);if(qs.errors&&qs.errors.length)return void Kt.push(qs);if(cl)return Bi.onStart(()=>V_(Fa,qs.fromStyles)),Bi.onDestroy(()=>Dp(Fa,qs.toStyles)),void i.push(Bi);if(bi.isFallbackTransition)return Bi.onStart(()=>V_(Fa,qs.fromStyles)),Bi.onDestroy(()=>Dp(Fa,qs.toStyles)),void i.push(Bi);const jl=[];qs.timelines.forEach(Hl=>{Hl.stretchStartingKeyframe=!0,this.disabledNodes.has(Hl.element)||jl.push(Hl)}),qs.timelines=jl,r.append(Fa,qs.timelines),a.push({instruction:qs,player:Bi,element:Fa}),qs.queriedElements.forEach(Hl=>Bh(h,Hl,[]).push(Bi)),qs.preStyleProps.forEach((Hl,Kf)=>{if(Hl.size){let rd=m.get(Kf);rd||m.set(Kf,rd=new Set),Hl.forEach((Ig,Nm)=>rd.add(Nm))}}),qs.postStyleProps.forEach((Hl,Kf)=>{let rd=y.get(Kf);rd||y.set(Kf,rd=new Set),Hl.forEach((Ig,Nm)=>rd.add(Nm))})});if(Kt.length){const cr=[];Kt.forEach(fi=>{cr.push(function GV(e,n){return new gn(3505,!1)}())}),Ht.forEach(fi=>fi.destroy()),this.reportError(cr)}const tn=new Map,Tn=new Map;a.forEach(cr=>{const fi=cr.element;r.has(fi)&&(Tn.set(fi,fi),this._beforeAnimationBuild(cr.player.namespaceId,cr.instruction,tn))}),i.forEach(cr=>{const fi=cr.element;this._getPreviousPlayers(fi,!1,cr.namespaceId,cr.triggerName,null).forEach(Bi=>{Bh(tn,fi,[]).push(Bi),Bi.destroy()})});const Ut=qe.filter(cr=>vN(cr,m,y)),Ii=new Map;mN(Ii,this.driver,Ae,y,_g).forEach(cr=>{vN(cr,m,y)&&Ut.push(cr)});const as=new Map;j.forEach((cr,fi)=>{mN(as,this.driver,new Set(cr),m,"!")}),Ut.forEach(cr=>{const fi=Ii.get(cr),bi=as.get(cr);Ii.set(cr,new Map([...fi?.entries()??[],...bi?.entries()??[]]))});const As=[],Jr=[],ls={};a.forEach(cr=>{const{element:fi,player:bi,instruction:Bi}=cr;if(r.has(fi)){if(C.has(fi))return bi.onDestroy(()=>Dp(fi,Bi.toStyles)),bi.disabled=!0,bi.overrideTotalTime(Bi.totalTime),void i.push(bi);let Fa=ls;if(Tn.size>1){let sl=fi;const Ro=[];for(;sl=sl.parentNode;){const qs=Tn.get(sl);if(qs){Fa=qs;break}Ro.push(sl)}Ro.forEach(qs=>Tn.set(qs,Fa))}const cl=this._buildAnimation(bi.namespaceId,Bi,tn,s,as,Ii);if(bi.setRealPlayer(cl),Fa===ls)As.push(bi);else{const sl=this.playersByElement.get(Fa);sl&&sl.length&&(bi.parentPlayer=_m(sl)),i.push(bi)}}else V_(fi,Bi.fromStyles),bi.onDestroy(()=>Dp(fi,Bi.toStyles)),Jr.push(bi),C.has(fi)&&i.push(bi)}),Jr.forEach(cr=>{const fi=s.get(cr.element);if(fi&&fi.length){const bi=_m(fi);cr.setRealPlayer(bi)}}),i.forEach(cr=>{cr.parentPlayer?cr.syncPlayerEvents(cr.parentPlayer):cr.destroy()});for(let cr=0;cr<qe.length;cr++){const fi=qe[cr],bi=fi[Wf];if(Tv(fi,Gb),bi&&bi.hasAnimation)continue;let Bi=[];if(h.size){let cl=h.get(fi);cl&&cl.length&&Bi.push(...cl);let sl=this.driver.query(fi,oT,!0);for(let Ro=0;Ro<sl.length;Ro++){let qs=h.get(sl[Ro]);qs&&qs.length&&Bi.push(...qs)}}const Fa=Bi.filter(cl=>!cl.destroyed);Fa.length?VG(this,fi,Fa):this.processLeaveNode(fi)}return qe.length=0,As.forEach(cr=>{this.players.push(cr),cr.onDone(()=>{cr.destroy();const fi=this.players.indexOf(cr);this.players.splice(fi,1)}),cr.play()}),As}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,s){let a=[];if(t){const h=this.playersByQueriedElement.get(n);h&&(a=h)}else{const h=this.playersByElement.get(n);if(h){const m=!s||s==w1;h.forEach(y=>{y.queued||!m&&y.triggerName!=i||a.push(y)})}}return(r||i)&&(a=a.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),a}_beforeAnimationBuild(n,t,r){const s=t.element,a=t.isRemovalTransition?void 0:n,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const y=m.element,C=y!==s,L=Bh(r,y,[]);this._getPreviousPlayers(y,C,a,h,t.toState).forEach(j=>{const fe=j.getRealPlayer();fe.beforeDestroy&&fe.beforeDestroy(),j.destroy(),L.push(j)})}V_(s,t.fromStyles)}_buildAnimation(n,t,r,i,s,a){const h=t.triggerName,m=t.element,y=[],C=new Set,L=new Set,F=t.timelines.map(fe=>{const we=fe.element;C.add(we);const qe=we[Wf];if(qe&&qe.removedBeforeQueried)return new m1(fe.duration,fe.delay);const Ue=we!==m,Ae=function GG(e){const n=[];return yN(e,n),n}((r.get(we)||BG).map(tn=>tn.getRealPlayer())).filter(tn=>!!tn.element&&tn.element===we),je=s.get(we),Dt=a.get(we),Ht=qO(this._normalizer,fe.keyframes,je,Dt),Kt=this._buildPlayer(fe,Ht,Ae);if(fe.subTimeline&&i&&L.add(we),Ue){const tn=new wT(n,h,we);tn.setRealPlayer(Kt),y.push(tn)}return Kt});y.forEach(fe=>{Bh(this.playersByQueriedElement,fe.element,[]).push(fe),fe.onDone(()=>function HG(e,n,t){let r=e.get(n);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}return r}(this.playersByQueriedElement,fe.element,fe))}),C.forEach(fe=>ff(fe,tN));const j=_m(F);return j.onDestroy(()=>{C.forEach(fe=>Tv(fe,tN)),Dp(m,t.toStyles)}),L.forEach(fe=>{Bh(i,fe,[]).push(j)}),j}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new m1(n.duration,n.delay)}}class wT{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new m1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>eT(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Bh(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function rx(e){return e&&1===e.nodeType}function gN(e,n){const t=e.style.display;return e.style.display=n??"none",t}function mN(e,n,t,r,i){const s=[];t.forEach(m=>s.push(gN(m)));const a=[];r.forEach((m,y)=>{const C=new Map;m.forEach(L=>{const F=n.computeStyle(y,L,i);C.set(L,F),(!F||0==F.length)&&(y[Wf]=YG,a.push(y))}),e.set(y,C)});let h=0;return t.forEach(m=>gN(m,s[h++])),a}function _N(e,n){const t=new Map;if(e.forEach(h=>t.set(h,[])),0==n.length)return t;const i=new Set(n),s=new Map;function a(h){if(!h)return 1;let m=s.get(h);if(m)return m;const y=h.parentNode;return m=t.has(y)?y:i.has(y)?1:a(y),s.set(h,m),m}return n.forEach(h=>{const m=a(h);1!==m&&t.get(m).push(h)}),t}function ff(e,n){e.classList?.add(n)}function Tv(e,n){e.classList?.remove(n)}function VG(e,n,t){_m(t).onDone(()=>e.processLeaveNode(n))}function yN(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof GO?yN(r.players,n):n.push(r)}}function vN(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(s=>i.add(s)):n.set(e,r),t.delete(e),!0}class ix{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new jG(n,t,r),this._timelineEngine=new kG(n,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,t,r,i,s){const a=n+"-"+i;let h=this._triggerCache[a];if(!h){const m=[],C=cT(this._driver,s,m,[]);if(m.length)throw function NV(e,n){return new gn(3404,!1)}();h=function IG(e,n,t){return new LG(e,n,t)}(i,C,this._normalizer),this._triggerCache[a]=h}this._transitionEngine.registerTrigger(t,i,h)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r){this._transitionEngine.removeNode(n,t,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[s,a]=XO(r);this._timelineEngine.command(s,t,a,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,s){if("@"==r.charAt(0)){const[a,h]=XO(r);return this._timelineEngine.listen(a,t,h,s)}return this._transitionEngine.listen(n,t,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let XG=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Dp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dp(this._element,this._initialStyles),this._endStyles&&(Dp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(V_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(V_(this._element,this._endStyles),this._endStyles=null),Dp(this._element,this._initialStyles),this._state=3)}}return e})();function bT(e){let n=null;return e.forEach((t,r)=>{(function ZG(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,t))}),n}class wN{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){return n.animate(this._convertKeyframesToObject(t),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:sN(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class KG{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return KO(n,t)}getParentElement(n){return rT(n)}query(n,t,r){return JO(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}animate(n,t,r,i,s,a=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(m.easing=s);const y=new Map,C=a.filter(j=>j instanceof wN);(function iG(e,n){return 0===e||0===n})(r,i)&&C.forEach(j=>{j.currentSnapshot.forEach((fe,we)=>y.set(we,fe))});let L=function tG(e){return e.length?e[0]instanceof Map?e:e.map(n=>nN(n)):[]}(t).map(j=>ym(j));L=function sG(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((s,a)=>{r.has(a)||i.push(a),r.set(a,s)}),i.length)for(let s=1;s<n.length;s++){let a=n[s];i.forEach(h=>a.set(h,sN(e,h)))}}return n}(n,L,y);const F=function qG(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=bT(n[0]),n.length>1&&(r=bT(n[n.length-1]))):n instanceof Map&&(t=bT(n)),t||r?new XG(e,t,r):null}(n,L);return new wN(n,L,m,F)}}let JG=(()=>{class e extends $O{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Ba.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?UO(t):t;return bN(this._renderer,null,r,"register",[i]),new QG(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Yl),tr(Ic))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();class QG extends hV{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new e9(this._id,n,t||{},this._renderer)}}class e9{constructor(n,t,r,i){this.id=n,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return bN(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function bN(e,n,t,r,i){return e.setProperty(n,`@@${t}:${r}`,i)}const xN="@.disabled";let t9=(()=>{class e{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,a)=>{const h=a?.parentNode(s);h&&a.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(s);return C||(C=new MN("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,C)),C}const a=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=C=>{Array.isArray(C)?C.forEach(m):this.engine.registerTrigger(a,h,t,C.name,C)};return r.data.animation.forEach(m),new n9(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,h]=s;a(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Yl),tr(ix),tr(gr))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();class MN{constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==xN?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class n9 extends MN{constructor(n,t,r,i,s){super(t,r,i,s),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==xN?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function r9(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function i9(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,i,s,a,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(n,t,r)}}const SN=[{provide:$O,useClass:JG},{provide:gT,useFactory:function o9(){return new EG}},{provide:ix,useClass:(()=>{class e extends ix{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Ic),tr(iT),tr(gT),tr(hg))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})()},{provide:Yl,useFactory:function a9(e,n,t){return new t9(e,n,t)},deps:[qE,ix,gr]}],xT=[{provide:iT,useFactory:()=>new KG},{provide:Vw,useValue:"BrowserAnimations"},...SN],EN=[{provide:iT,useClass:QO},{provide:Vw,useValue:"NoopAnimations"},...SN];let l9=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?EN:xT}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({providers:xT,imports:[FO]})}return e})();function vg(e){return!!e&&(e instanceof et||B(e.lift)&&B(e.subscribe))}const{isArray:u9}=Array,{getPrototypeOf:c9,prototype:d9,keys:h9}=Object;function TN(e){if(1===e.length){const n=e[0];if(u9(n))return{args:n,keys:null};if(function f9(e){return e&&"object"==typeof e&&c9(e)===d9}(n)){const t=h9(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:p9}=Array;function MT(e){return un(n=>function g9(e,n){return p9(n)?e(...n):e(n)}(e,n))}function CN(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function ox(...e){const n=Wi(e),t=Ns(e),{args:r,keys:i}=TN(e);if(0===r.length)return It([],n);const s=new et(function m9(e,n,t=tt){return r=>{DN(n,()=>{const{length:i}=e,s=new Array(i);let a=i,h=i;for(let m=0;m<i;m++)DN(n,()=>{const y=It(e[m],n);let C=!1;y.subscribe(fn(r,L=>{s[m]=L,C||(C=!0,h--),h||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,n,i?a=>CN(i,a):tt));return t?s.pipe(MT(t)):s}function DN(e,n,t){e?li(t,e,n):n()}const ax=E(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function W_(...e){return function _9(){return Cs(1)}()(It(e,Wi(e)))}function Cv(e){return new et(n=>{sr(e()).subscribe(n)})}function pd(e,n){const t=B(e)?e:()=>e,r=i=>i.error(t());return new et(n?i=>n.schedule(r,0,i):r)}function ST(){return bn((e,n)=>{let t=null;e._refCount++;const r=fn(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class ET extends et{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ct(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new O;const t=this.getSubject();n.add(this.source.subscribe(fn(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=O.EMPTY)}return n}refCount(){return ST()(this)}}function Pl(e){return e<=0?()=>Yi:bn((n,t)=>{let r=0;n.subscribe(fn(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function zc(e,n){return bn((t,r)=>{let i=0;t.subscribe(fn(r,s=>e.call(n,s,i++)&&r.next(s)))})}function lx(e){return bn((n,t)=>{let r=!1;n.subscribe(fn(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function IN(e=v9){return bn((n,t)=>{let r=!1;n.subscribe(fn(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function v9(){return new ax}function q_(e,n){const t=arguments.length>=2;return r=>r.pipe(e?zc((i,s)=>e(i,s,r)):tt,Pl(1),t?lx(n):IN(()=>new ax))}function X_(e,n){return B(n)?mi(e,n,1):mi(e,1)}function jc(e,n,t){const r=B(e)||n||t?{next:e,error:n,complete:t}:e;return r?bn((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let h=!0;i.subscribe(fn(s,m=>{var y;null===(y=r.next)||void 0===y||y.call(r,m),s.next(m)},()=>{var m;h=!1,null===(m=r.complete)||void 0===m||m.call(r),s.complete()},m=>{var y;h=!1,null===(y=r.error)||void 0===y||y.call(r,m),s.error(m)},()=>{var m,y;h&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(y=r.finalize)||void 0===y||y.call(r)}))}):tt}function qf(e){return bn((n,t)=>{let s,r=null,i=!1;r=n.subscribe(fn(t,void 0,void 0,a=>{s=sr(e(a,qf(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function TT(e){return e<=0?()=>Yi:bn((n,t)=>{let r=[];n.subscribe(fn(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function LN(e){return un(()=>e)}function b1(e){return bn((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const vo="primary",x1=Symbol("RouteTitle");class S9{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Dv(e){return new S9(e)}function E9(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const a=r[s],h=e[s];if(a.startsWith(":"))i[a.substring(1)]=h;else if(a!==h.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ip(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!AN(e[i],n[i]))return!1;return!0}function AN(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function PN(e){return e.length>0?e[e.length-1]:null}function vm(e){return vg(e)?e:K0(e)?It(Promise.resolve(e)):Xt(e)}const C9={exact:function NN(e,n,t){if(!Z_(e.segments,n.segments)||!ux(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!NN(e.children[r],n.children[r],t))return!1;return!0},subset:RN},kN={exact:function D9(e,n){return Ip(e,n)},subset:function I9(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>AN(e[t],n[t]))},ignored:()=>!0};function ON(e,n,t){return C9[t.paths](e.root,n.root,t.matrixParams)&&kN[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function RN(e,n,t){return FN(e,n,n.segments,t)}function FN(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Z_(i,t)||n.hasChildren()||!ux(i,t,r))}if(e.segments.length===t.length){if(!Z_(e.segments,t)||!ux(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!RN(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(Z_(e.segments,i)&&ux(e.segments,i,r)&&e.children[vo])&&FN(e.children[vo],n,s,r)}}function ux(e,n,t){return n.every((r,i)=>kN[t](e[i].parameters,r.parameters))}class Iv{constructor(n=new xl([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dv(this.queryParams)),this._queryParamMap}toString(){return P9.serialize(this)}}class xl{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cx(this)}}class M1{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Dv(this.parameters)),this._parameterMap}toString(){return zN(this)}}function Z_(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Lv=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:function(){return new CT},providedIn:"root"})}return e})();class CT{parse(n){const t=new $9(n);return new Iv(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${S1(n.root,!0)}`,r=function N9(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${dx(t)}=${dx(i)}`).join("&"):`${dx(t)}=${dx(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function k9(e){return encodeURI(e)}(n.fragment)}`:""}`}}const P9=new CT;function cx(e){return e.segments.map(n=>zN(n)).join("/")}function S1(e,n){if(!e.hasChildren())return cx(e);if(n){const t=e.children[vo]?S1(e.children[vo],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==vo&&r.push(`${i}:${S1(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function A9(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===vo&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==vo&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===vo?[S1(e.children[vo],!1)]:[`${i}:${S1(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[vo]?`${cx(e)}/${t[0]}`:`${cx(e)}/(${t.join("//")})`}}function BN(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dx(e){return BN(e).replace(/%3B/gi,";")}function DT(e){return BN(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hx(e){return decodeURIComponent(e)}function YN(e){return hx(e.replace(/\+/g,"%20"))}function zN(e){return`${DT(e.path)}${function O9(e){return Object.keys(e).map(n=>`;${DT(n)}=${DT(e[n])}`).join("")}(e.parameters)}`}const R9=/^[^\/()?;#]+/;function IT(e){const n=e.match(R9);return n?n[0]:""}const F9=/^[^\/()?;=#]+/,Y9=/^[^=?&#]+/,j9=/^[^&#]+/;class $9{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xl([],{}):new xl([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[vo]=new xl(n,t)),r}parseSegment(){const n=IT(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new gn(4009,!1);return this.capture(n),new M1(hx(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function B9(e){const n=e.match(F9);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=IT(this.remaining);i&&(r=i,this.capture(r))}n[hx(t)]=hx(r)}parseQueryParam(n){const t=function z9(e){const n=e.match(Y9);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function H9(e){const n=e.match(j9);return n?n[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=YN(t),s=YN(r);if(n.hasOwnProperty(i)){let a=n[i];Array.isArray(a)||(a=[a],n[i]=a),a.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=IT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new gn(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=vo);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[vo]:new xl([],a),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new gn(4011,!1)}}function jN(e){return e.segments.length>0?new xl([],{[vo]:e}):e}function HN(e){const n={};for(const r of Object.keys(e.children)){const s=HN(e.children[r]);if(r===vo&&0===s.segments.length&&s.hasChildren())for(const[a,h]of Object.entries(s.children))n[a]=h;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function U9(e){if(1===e.numberOfChildren&&e.children[vo]){const n=e.children[vo];return new xl(e.segments.concat(n.segments),n.children)}return e}(new xl(e.segments,n))}function K_(e){return e instanceof Iv}function $N(e){let n;const i=jN(function t(s){const a={};for(const m of s.children){const y=t(m);a[m.outlet]=y}const h=new xl(s.url,a);return s===e&&(n=h),h}(e.root));return n??i}function UN(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return LT(i,i,i,t,r);const s=function G9(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new GN(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([m,y])=>{h[m]="string"==typeof y?y.split("/"):y}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?n++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new GN(t,n,r)}(n);if(s.toRoot())return LT(i,i,new xl([],{}),t,r);const a=function W9(e,n,t){if(e.isAbsolute)return new px(n,!0,0);if(!t)return new px(n,!1,NaN);if(null===t.parent)return new px(t,!0,0);const r=fx(e.commands[0])?0:1;return function q9(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new gn(4005,!1);i=r.segments.length}return new px(r,!1,i-s)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),h=a.processChildren?T1(a.segmentGroup,a.index,s.commands):WN(a.segmentGroup,a.index,s.commands);return LT(i,a.segmentGroup,h,t,r)}function fx(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function E1(e){return"object"==typeof e&&null!=e&&e.outlets}function LT(e,n,t,r,i){let a,s={};r&&Object.entries(r).forEach(([m,y])=>{s[m]=Array.isArray(y)?y.map(C=>`${C}`):`${y}`}),a=e===n?t:VN(e,n,t);const h=jN(HN(a));return new Iv(h,s,i)}function VN(e,n,t){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===n?t:VN(s,n,t)}),new xl(e.segments,r)}class GN{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&fx(r[0]))throw new gn(4003,!1);const i=r.find(E1);if(i&&i!==PN(r))throw new gn(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class px{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function WN(e,n,t){if(e||(e=new xl([],{})),0===e.segments.length&&e.hasChildren())return T1(e,n,t);const r=function Z9(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const a=e.segments[i],h=t[r];if(E1(h))break;const m=`${h}`,y=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&y&&"object"==typeof y&&void 0===y.outlets){if(!XN(m,y,a))return s;r+=2}else{if(!XN(m,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new xl(e.segments.slice(0,r.pathIndex),{});return s.children[vo]=new xl(e.segments.slice(r.pathIndex),e.children),T1(s,0,i)}return r.match&&0===i.length?new xl(e.segments,{}):r.match&&!e.hasChildren()?AT(e,n,t):r.match?T1(e,0,i):AT(e,n,t)}function T1(e,n,t){if(0===t.length)return new xl(e.segments,{});{const r=function X9(e){return E1(e[0])?e[0].outlets:{[vo]:e}}(t),i={};if(Object.keys(r).some(s=>s!==vo)&&e.children[vo]&&1===e.numberOfChildren&&0===e.children[vo].segments.length){const s=T1(e.children[vo],n,t);return new xl(e.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[s]=WN(e.children[s],n,a))}),Object.entries(e.children).forEach(([s,a])=>{void 0===r[s]&&(i[s]=a)}),new xl(e.segments,i)}}function AT(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(E1(s)){const m=K9(s.outlets);return new xl(r,m)}if(0===i&&fx(t[0])){r.push(new M1(e.segments[n].path,qN(t[0]))),i++;continue}const a=E1(s)?s.outlets[vo]:`${s}`,h=i<t.length-1?t[i+1]:null;a&&h&&fx(h)?(r.push(new M1(a,qN(h))),i+=2):(r.push(new M1(a,{})),i++)}return new xl(r,{})}function K9(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=AT(new xl([],{}),0,r))}),n}function qN(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function XN(e,n,t){return e==t.path&&Ip(n,t.parameters)}const C1="imperative";class Lp{constructor(n,t){this.id=n,this.url=t}}class D1 extends Lp{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wg extends Lp{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class I1 extends Lp{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Av extends Lp{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class gx extends Lp{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZN extends Lp{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J9 extends Lp{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q9 extends Lp{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e7 extends Lp{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t7 extends Lp{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n7{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class r7{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class i7{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s7{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o7{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a7{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KN{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class PT{}class kT{constructor(n){this.url=n}}class l7{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new J_,this.attachRef=null}}let J_=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new l7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class JN{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=OT(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=OT(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=NT(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return NT(n,this._root).map(t=>t.value)}}function OT(e,n){if(e===n.value)return n;for(const t of n.children){const r=OT(e,t);if(r)return r}return null}function NT(e,n){if(e===n.value)return[n];for(const t of n.children){const r=NT(e,t);if(r.length)return r.unshift(n),r}return[]}class bg{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pv(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class QN extends JN{constructor(n,t){super(n),this.snapshot=t,RT(this,n)}toString(){return this.snapshot.toString()}}function eR(e,n){const t=function u7(e,n){const a=new mx([],{},{},"",{},vo,n,null,{});return new nR("",new bg(a,[]))}(0,n),r=new $t([new M1("",{})]),i=new $t({}),s=new $t({}),a=new $t({}),h=new $t(""),m=new zh(r,i,a,h,s,vo,n,t.root);return m.snapshot=t.root,new QN(new bg(m,[]),t)}class zh{constructor(n,t,r,i,s,a,h,m){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(un(y=>y[x1]))??Xt(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(un(n=>Dv(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(un(n=>Dv(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tR(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function c7(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mx{get title(){return this.data?.[x1]}constructor(n,t,r,i,s,a,h,m,y){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=h,this.routeConfig=m,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nR extends JN{constructor(n,t){super(t),this.url=n,RT(this,t)}toString(){return rR(this._root)}}function RT(e,n){n.value._routerState=e,n.children.forEach(t=>RT(e,t))}function rR(e){const n=e.children.length>0?` { ${e.children.map(rR).join(", ")} } `:"";return`${e.value}${n}`}function FT(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ip(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ip(n.params,t.params)||e.paramsSubject.next(t.params),function T9(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ip(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Ip(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function BT(e,n){const t=Ip(e.params,n.params)&&function L9(e,n){return Z_(e,n)&&e.every((t,r)=>Ip(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||BT(e.parent,n.parent))}let iR=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=vo,this.activateEvents=new Hi,this.deactivateEvents=new Hi,this.attachEvents=new Hi,this.detachEvents=new Hi,this.parentContexts=Pr(J_),this.location=Pr(Rh),this.changeDetector=Pr(Kr),this.environmentInjector=Pr(Cc),this.inputBinder=Pr(_x,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new gn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new gn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new gn(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new gn(4013,!1);this._activatedRoute=t;const i=this.location,a=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new d7(t,h,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ti({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bc]})}return e})();class d7{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===zh?this.route:n===J_?this.childContexts:this.parent.get(n,t)}}const _x=new mr("");let sR=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=ox([r.queryParams,r.params,r.data]).pipe(Cn(([s,a,h],m)=>(h={...s,...a,...h},0===m?Xt(h):Promise.resolve(h)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const a=Wk(r.component);if(a)for(const{templateName:h}of a.inputs)t.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();function L1(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function f7(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return L1(e,r,i);return L1(e,r)})}(e,n,t);return new bg(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(h=>L1(e,h)),a}}const r=function p7(e){return new zh(new $t(e.url),new $t(e.params),new $t(e.queryParams),new $t(e.fragment),new $t(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>L1(e,s));return new bg(r,i)}}const YT="ngNavigationCancelingError";function oR(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=K_(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=aR(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function aR(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[YT]=!0,r.cancellationCode=n,t&&(r.url=t),r}function lR(e){return e&&e[YT]}let uR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["ng-component"]],standalone:!0,features:[SP],decls:1,vars:0,template:function(r,i){1&r&&Tr(0,"router-outlet")},dependencies:[iR],encapsulation:2})}return e})();function zT(e){const n=e.children&&e.children.map(zT),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==vo&&(t.component=uR),t}function Xf(e){return e.outlet||vo}function A1(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class x7{constructor(n,t,r,i,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),FT(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Pv(t);n.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(n,t,a.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Pv(n);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);if(r&&r.outlet){const a=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:h})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Pv(n);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=Pv(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new a7(s.value.snapshot))}),n.children.length&&this.forwardEvent(new s7(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(FT(i),i===s)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,a.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(h.contexts),a.attachRef=h.componentRef,a.route=h.route.value,a.outlet&&a.outlet.attach(h.componentRef,h.route.value),FT(h.route.value),this.activateChildRoutes(n,null,a.children)}else{const h=A1(i.snapshot);a.attachRef=null,a.route=i,a.injector=h,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}class cR{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class yx{constructor(n,t){this.component=n,this.route=t}}function M7(e,n,t){const r=e._root;return P1(r,n?n._root:null,t,[r.value])}function kv(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function Rr(e){return null!==br(e)}(e)?n.get(e):e:r}function P1(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Pv(n);return e.children.forEach(a=>{(function E7(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,h=t?t.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const m=function T7(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Z_(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Z_(e.url,n.url)||!Ip(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!BT(e,n)||!Ip(e.queryParams,n.queryParams);default:return!BT(e,n)}}(a,s,s.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new cR(r)):(s.data=a.data,s._resolvedData=a._resolvedData),P1(e,n,s.component?h?h.children:null:t,r,i),m&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new yx(h.outlet.component,a))}else a&&k1(n,h,i),i.canActivateChecks.push(new cR(r)),P1(e,null,s.component?h?h.children:null:t,r,i)})(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,h])=>k1(h,t.getContext(a),i)),i}function k1(e,n,t){const r=Pv(e),i=e.value;Object.entries(r).forEach(([s,a])=>{k1(a,i.component?n?n.children.getContext(s):null:n,t)}),t.canDeactivateChecks.push(new yx(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function O1(e){return"function"==typeof e}function dR(e){return e instanceof ax||"EmptyError"===e?.name}const vx=Symbol("INITIAL_VALUE");function Ov(){return Cn(e=>ox(e.map(n=>n.pipe(Pl(1),function y9(...e){const n=Wi(e);return bn((t,r)=>{(n?W_(e,t,n):W_(e,t)).subscribe(r)})}(vx)))).pipe(un(n=>{for(const t of n)if(!0!==t){if(t===vx)return vx;if(!1===t||t instanceof Iv)return t}return!0}),zc(n=>n!==vx),Pl(1)))}function hR(e){return function He(...e){return _t(e)}(jc(n=>{if(K_(n))throw oR(0,n)}),un(n=>!0===n))}class wx{constructor(n){this.segmentGroup=n||null}}class fR{constructor(n){this.urlTree=n}}function Nv(e){return pd(new wx(e))}function pR(e){return pd(new fR(e))}class G7{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new gn(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Xt(r);if(i.numberOfChildren>1||!i.children[vo])return pd(new gn(4e3,!1));i=i.children[vo]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new Iv(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);r[i]=t[h]}else r[i]=s}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let a={};return Object.entries(t.children).forEach(([h,m])=>{a[h]=this.createSegmentGroup(n,m,r,i)}),new xl(s,a)}createSegments(n,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new gn(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const jT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W7(e,n,t,r,i){const s=HT(e,n,t);return s.matched?(r=function m7(e,n){return e.providers&&!e._injector&&(e._injector=GS(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function $7(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?Xt(i.map(a=>{const h=kv(a,e);return vm(function P7(e){return e&&O1(e.canMatch)}(h)?h.canMatch(n,t):e.runInContext(()=>h(n,t)))})).pipe(Ov(),hR()):Xt(!0)}(r,n,t).pipe(un(a=>!0===a?s:{...jT}))):Xt(s)}function HT(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...jT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||E9)(t,e,n);if(!i)return{...jT};const s={};Object.entries(i.posParams??{}).forEach(([h,m])=>{s[h]=m.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function gR(e,n,t,r){return t.length>0&&function Z7(e,n,t){return t.some(r=>bx(e,n,r)&&Xf(r)!==vo)}(e,t,r)?{segmentGroup:new xl(n,X7(r,new xl(t,e.children))),slicedSegments:[]}:0===t.length&&function K7(e,n,t){return t.some(r=>bx(e,n,r))}(e,t,r)?{segmentGroup:new xl(e.segments,q7(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new xl(e.segments,e.children),slicedSegments:t}}function q7(e,n,t,r,i){const s={};for(const a of r)if(bx(e,t,a)&&!i[Xf(a)]){const h=new xl([],{});s[Xf(a)]=h}return{...i,...s}}function X7(e,n){const t={};t[vo]=n;for(const r of e)if(""===r.path&&Xf(r)!==vo){const i=new xl([],{});t[Xf(r)]=i}return t}function bx(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class tW{constructor(n,t,r,i,s,a,h){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new G7(this.urlSerializer,this.urlTree)}noMatchError(n){return new gn(4002,!1)}recognize(){const n=gR(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,vo).pipe(qf(t=>{if(t instanceof fR)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof wx?this.noMatchError(t):t}),un(t=>{const r=new mx([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vo,this.rootComponentType,null,{}),i=new bg(r,t),s=new nR("",i),a=function V9(e,n,t=null,r=null){return UN($N(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root),{state:s,tree:a}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,vo).pipe(qf(r=>{throw r instanceof wx?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=tR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return It(i).pipe(X_(s=>{const a=r.children[s],h=function w7(e,n){const t=e.filter(r=>Xf(r)===n);return t.push(...e.filter(r=>Xf(r)!==n)),t}(t,s);return this.processSegmentGroup(n,h,a,s)}),function b9(e,n){return bn(function w9(e,n,t,r,i){return(s,a)=>{let h=t,m=n,y=0;s.subscribe(fn(a,C=>{const L=y++;m=h?e(m,C,L):(h=!0,C),r&&a.next(m)},i&&(()=>{h&&a.next(m),a.complete()})))}}(e,n,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),lx(null),function x9(e,n){const t=arguments.length>=2;return r=>r.pipe(e?zc((i,s)=>e(i,s,r)):tt,TT(1),t?lx(n):IN(()=>new ax))}(),mi(s=>{if(null===s)return Nv(r);const a=mR(s);return function nW(e){e.sort((n,t)=>n.value.outlet===vo?-1:t.value.outlet===vo?1:n.value.outlet.localeCompare(t.value.outlet))}(a),Xt(a)}))}processSegment(n,t,r,i,s,a){return It(t).pipe(X_(h=>this.processSegmentAgainstRoute(h._injector??n,t,h,r,i,s,a).pipe(qf(m=>{if(m instanceof wx)return Xt(null);throw m}))),q_(h=>!!h),qf(h=>{if(dR(h))return function Q7(e,n,t){return 0===n.length&&!e.children[t]}(r,i,s)?Xt([]):Nv(r);throw h}))}processSegmentAgainstRoute(n,t,r,i,s,a,h){return function J7(e,n,t,r){return!!(Xf(e)===r||r!==vo&&bx(n,t,e))&&("**"===e.path||HT(n,e,t).matched)}(r,i,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,a,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,s,a):Nv(i):Nv(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?pR(s):this.applyRedirects.lineralizeSegments(r,s).pipe(mi(a=>{const h=new xl(a,{});return this.processSegment(n,t,h,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,a){const{matched:h,consumedSegments:m,remainingSegments:y,positionalParamSegments:C}=HT(t,i,s);if(!h)return Nv(t);const L=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,C);return i.redirectTo.startsWith("/")?pR(L):this.applyRedirects.lineralizeSegments(i,L).pipe(mi(F=>this.processSegment(n,r,t,F.concat(y),a,!1)))}matchSegmentAgainstRoute(n,t,r,i,s,a){let h;if("**"===r.path){const m=i.length>0?PN(i).parameters:{};h=Xt({snapshot:new mx(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_R(r),Xf(r),r.component??r._loadedComponent??null,r,yR(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else h=W7(t,r,i,n).pipe(un(({matched:m,consumedSegments:y,remainingSegments:C,parameters:L})=>m?{snapshot:new mx(y,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_R(r),Xf(r),r.component??r._loadedComponent??null,r,yR(r)),consumedSegments:y,remainingSegments:C}:null));return h.pipe(Cn(m=>null===m?Nv(t):this.getChildConfig(n=r._injector??n,r,i).pipe(Cn(({routes:y})=>{const C=r._loadedInjector??n,{snapshot:L,consumedSegments:F,remainingSegments:j}=m,{segmentGroup:fe,slicedSegments:we}=gR(t,F,j,y);if(0===we.length&&fe.hasChildren())return this.processChildren(C,y,fe).pipe(un(Ue=>null===Ue?null:[new bg(L,Ue)]));if(0===y.length&&0===we.length)return Xt([new bg(L,[])]);const qe=Xf(r)===s;return this.processSegment(C,y,fe,we,qe?vo:s,!0).pipe(un(Ue=>[new bg(L,Ue)]))}))))}getChildConfig(n,t,r){return t.children?Xt({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Xt({routes:t._loadedRoutes,injector:t._loadedInjector}):function H7(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?Xt(!0):Xt(i.map(a=>{const h=kv(a,e);return vm(function D7(e){return e&&O1(e.canLoad)}(h)?h.canLoad(n,t):e.runInContext(()=>h(n,t)))})).pipe(Ov(),hR())}(n,t,r).pipe(mi(i=>i?this.configLoader.loadChildren(n,t).pipe(jc(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function V7(e){return pd(aR(!1,3))}())):Xt({routes:[],injector:n})}}function rW(e){const n=e.value.routeConfig;return n&&""===n.path}function mR(e){const n=[],t=new Set;for(const r of e){if(!rW(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=mR(r.children);n.push(new bg(r.value,i))}return n.filter(r=>!t.has(r))}function _R(e){return e.data||{}}function yR(e){return e.resolve||{}}function vR(e){return"string"==typeof e.title||null===e.title}function $T(e){return Cn(n=>{const t=e(n);return t?It(t).pipe(un(()=>n)):Xt(n)})}const Rv=new mr("ROUTES");let UT=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Pr(hk)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Xt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=vm(t.loadComponent()).pipe(un(wR),jc(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),b1(()=>{this.componentLoaders.delete(t)})),i=new ET(r,()=>new Ve).pipe(ST());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Xt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function cW(e,n,t,r){return vm(e.loadChildren()).pipe(un(wR),mi(i=>i instanceof xP||Array.isArray(i)?Xt(i):It(n.compileModuleAsync(i))),un(i=>{r&&r(e);let s,a,h=!1;return Array.isArray(i)?(a=i,!0):(s=i.create(t).injector,a=s.get(Rv,[],{optional:!0,self:!0}).flat()),{routes:a.map(zT),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(b1(()=>{this.childrenLoaders.delete(r)})),a=new ET(s,()=>new Ve).pipe(ST());return this.childrenLoaders.set(r,a),a}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wR(e){return function dW(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let xx=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ve,this.transitionAbortSubject=new Ve,this.configLoader=Pr(UT),this.environmentInjector=Pr(Cc),this.urlSerializer=Pr(Lv),this.rootContexts=Pr(J_),this.inputBindingEnabled=null!==Pr(_x,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Xt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new r7(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new n7(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new $t({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:C1,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zc(s=>0!==s.id),un(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Cn(s=>{this.currentTransition=s;let a=!1,h=!1;return Xt(s).pipe(jc(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Cn(m=>{const y=m.currentBrowserUrl.toString(),C=!t.navigated||m.extractedUrl.toString()!==y||y!==m.currentUrlTree.toString();if(!C&&"reload"!==(m.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const F="";return this.events.next(new Av(m.id,this.urlSerializer.serialize(m.rawUrl),F,0)),m.resolve(null),Yi}if(t.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Xt(m).pipe(Cn(F=>{const j=this.transitions?.getValue();return this.events.next(new D1(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),j!==this.transitions?.getValue()?Yi:Promise.resolve(F)}),function iW(e,n,t,r,i,s){return mi(a=>function eW(e,n,t,r,i,s,a="emptyOnly"){return new tW(e,n,t,r,i,a,s).recognize()}(e,n,t,r,a.extractedUrl,i,s).pipe(un(({state:h,tree:m})=>({...a,targetSnapshot:h,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),jc(F=>{s.targetSnapshot=F.targetSnapshot,s.urlAfterRedirects=F.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects};const j=new ZN(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(j)}));if(C&&t.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:F,extractedUrl:j,source:fe,restoredState:we,extras:qe}=m,Ue=new D1(F,this.urlSerializer.serialize(j),fe,we);this.events.next(Ue);const Ae=eR(0,this.rootComponentType).snapshot;return this.currentTransition=s={...m,targetSnapshot:Ae,urlAfterRedirects:j,extras:{...qe,skipLocationChange:!1,replaceUrl:!1}},Xt(s)}{const F="";return this.events.next(new Av(m.id,this.urlSerializer.serialize(m.extractedUrl),F,1)),m.resolve(null),Yi}}),jc(m=>{const y=new J9(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}),un(m=>(this.currentTransition=s={...m,guards:M7(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},s)),function O7(e,n){return mi(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?Xt({...t,guardsResult:!0}):function N7(e,n,t,r){return It(e).pipe(mi(i=>function j7(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Xt(s.map(h=>{const m=A1(n)??i,y=kv(h,m);return vm(function A7(e){return e&&O1(e.canDeactivate)}(y)?y.canDeactivate(e,n,t,r):m.runInContext(()=>y(e,n,t,r))).pipe(q_())})).pipe(Ov()):Xt(!0)}(i.component,i.route,t,n,r)),q_(i=>!0!==i,!0))}(a,r,i,e).pipe(mi(h=>h&&function C7(e){return"boolean"==typeof e}(h)?function R7(e,n,t,r){return It(n).pipe(X_(i=>W_(function B7(e,n){return null!==e&&n&&n(new i7(e)),Xt(!0)}(i.route.parent,r),function F7(e,n){return null!==e&&n&&n(new o7(e)),Xt(!0)}(i.route,r),function z7(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(a=>function S7(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(a)).filter(a=>null!==a).map(a=>Cv(()=>Xt(a.guards.map(m=>{const y=A1(a.node)??t,C=kv(m,y);return vm(function L7(e){return e&&O1(e.canActivateChild)}(C)?C.canActivateChild(r,e):y.runInContext(()=>C(r,e))).pipe(q_())})).pipe(Ov())));return Xt(s).pipe(Ov())}(e,i.path,t),function Y7(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Xt(!0);const i=r.map(s=>Cv(()=>{const a=A1(n)??t,h=kv(s,a);return vm(function I7(e){return e&&O1(e.canActivate)}(h)?h.canActivate(n,e):a.runInContext(()=>h(n,e))).pipe(q_())}));return Xt(i).pipe(Ov())}(e,i.route,t))),q_(i=>!0!==i,!0))}(r,s,e,n):Xt(h)),un(h=>({...t,guardsResult:h})))})}(this.environmentInjector,m=>this.events.next(m)),jc(m=>{if(s.guardsResult=m.guardsResult,K_(m.guardsResult))throw oR(0,m.guardsResult);const y=new Q9(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(y)}),zc(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),$T(m=>{if(m.guards.canActivateChecks.length)return Xt(m).pipe(jc(y=>{const C=new e7(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}),Cn(y=>{let C=!1;return Xt(y).pipe(function sW(e,n){return mi(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Xt(t);let s=0;return It(i).pipe(X_(a=>function oW(e,n,t,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!vR(i)&&(s[x1]=i.title),function aW(e,n,t,r){const i=function lW(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Xt({});const s={};return It(i).pipe(mi(a=>function uW(e,n,t,r){const i=A1(n)??r,s=kv(e,i);return vm(s.resolve?s.resolve(n,t):i.runInContext(()=>s(n,t)))}(e[a],n,t,r).pipe(q_(),jc(h=>{s[a]=h}))),TT(1),LN(s),qf(a=>dR(a)?Yi:pd(a)))}(s,e,n,r).pipe(un(a=>(e._resolvedData=a,e.data=tR(e,t).resolve,i&&vR(i)&&(e.data[x1]=i.title),null)))}(a.route,r,e,n)),jc(()=>s++),TT(1),mi(a=>s===i.length?Xt(t):Yi))})}(t.paramsInheritanceStrategy,this.environmentInjector),jc({next:()=>C=!0,complete:()=>{C||this.cancelNavigationTransition(y,"",2)}}))}),jc(y=>{const C=new t7(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}))}),$T(m=>{const y=C=>{const L=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(C.routeConfig).pipe(jc(F=>{C.component=F}),un(()=>{})));for(const F of C.children)L.push(...y(F));return L};return ox(y(m.targetSnapshot.root)).pipe(lx(),Pl(1))}),$T(()=>this.afterPreactivation()),un(m=>{const y=function h7(e,n,t){const r=L1(e,n._root,t?t._root:void 0);return new QN(r,n)}(t.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=s={...m,targetRouterState:y},s}),jc(()=>{this.events.next(new PT)}),((e,n,t,r)=>un(i=>(new x7(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Pl(1),jc({next:m=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),t.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{a=!0}}),function M9(e){return bn((n,t)=>{sr(e).subscribe(fn(t,()=>t.complete(),Pe)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(jc(m=>{throw m}))),b1(()=>{a||h||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),qf(m=>{if(h=!0,lR(m))this.events.next(new I1(s.id,this.urlSerializer.serialize(s.extractedUrl),m.message,m.cancellationCode)),function g7(e){return lR(e)&&K_(e.url)}(m)?this.events.next(new kT(m.url)):s.resolve(!1);else{this.events.next(new gx(s.id,this.urlSerializer.serialize(s.extractedUrl),m,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(m))}catch(y){s.reject(y)}}return Yi}))}))}cancelNavigationTransition(t,r,i){const s=new I1(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bR(e){return e!==C1}let xR=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===vo);return r}getResolvedTitleForRoute(t){return t.data[x1]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:function(){return Pr(hW)},providedIn:"root"})}return e})(),hW=(()=>{class e extends xR{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(tr(BO))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),MR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:function(){return Pr(pW)},providedIn:"root"})}return e})();class fW{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let pW=(()=>{class e extends fW{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Da(e)))(i||e)}}();static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Mx=new mr("",{providedIn:"root",factory:()=>({})});let gW=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:function(){return Pr(mW)},providedIn:"root"})}return e})(),mW=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var N1=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(N1||{});function SR(e,n){e.events.pipe(zc(t=>t instanceof wg||t instanceof I1||t instanceof gx||t instanceof Av),un(t=>t instanceof wg||t instanceof Av?N1.COMPLETE:t instanceof I1&&(0===t.code||1===t.code)?N1.REDIRECTING:N1.FAILED),zc(t=>t!==N1.REDIRECTING),Pl(1)).subscribe(()=>{n()})}function _W(e){throw e}function yW(e,n,t){return n.parse("/")}const vW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pc=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Pr(wb),this.isNgZoneEnabled=!1,this._events=new Ve,this.options=Pr(Mx,{optional:!0})||{},this.pendingTasks=Pr(bb),this.errorHandler=this.options.errorHandler||_W,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||yW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Pr(gW),this.routeReuseStrategy=Pr(MR),this.titleStrategy=Pr(xR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Pr(Rv,{optional:!0})?.flat()??[],this.navigationTransitions=Pr(xx),this.urlSerializer=Pr(Lv),this.location=Pr(Mv),this.componentInputBindingEnabled=!!Pr(_x,{optional:!0}),this.eventsSubscription=new O,this.isNgZoneEnabled=Pr(gr)instanceof gr&&gr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Iv,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eR(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(ER(r)&&this._events.next(r));if(r instanceof D1)bR(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Av)this.rawUrlTree=i.rawUrl;else if(r instanceof ZN){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof PT)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof I1)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof kT){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bR(i.source)};this.scheduleNavigation(s,C1,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof gx&&this.restoreHistory(i,!0),r instanceof wg&&(this.navigated=!0),ER(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),C1,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:h,preserveFragment:m}=r,y=m?this.currentUrlTree.fragment:a;let L,C=null;switch(h){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}null!==C&&(C=this.removeEmptyProps(C));try{L=$N(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),L=this.currentUrlTree.root}return UN(L,t,C,y??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=K_(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,C1,null,r)}navigate(t,r={skipLocationChange:!1}){return function bW(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new gn(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...vW}:!1===r?{...wW}:r,K_(t))return ON(this.currentUrlTree,t,i);const s=this.parseUrl(t);return ON(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let h,m,y;a?(h=a.resolve,m=a.reject,y=a.promise):y=new Promise((L,F)=>{h=L,m=F});const C=this.pendingTasks.add();return SR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:h,reject:m,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(L=>Promise.reject(L))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ER(e){return!(e instanceof PT||e instanceof kT)}class TR{}let SW=(()=>{class e{constructor(t,r,i,s,a){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(zc(t=>t instanceof wg),X_(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=GS(s.providers,t,`Route: ${s.path}`));const a=s._injector??t,h=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return It(i).pipe(Cs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Xt(null);const s=i.pipe(mi(a=>null===a?Xt(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return r.loadComponent&&!r._loadedComponent?It([s,this.loader.loadComponent(r)]).pipe(Cs()):s})}static#e=this.\u0275fac=function(r){return new(r||e)(tr(pc),tr(hk),tr(Cc),tr(TR),tr(UT))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const VT=new mr("");let CR=(()=>{class e{constructor(t,r,i,s,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof D1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wg?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Av&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof KN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new KN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function p2(){throw new Error("invalid")}()};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();function xg(e,n){return{\u0275kind:e,\u0275providers:n}}function IR(){const e=Pr(Eu);return n=>{const t=e.get(hg);if(n!==t.components[0])return;const r=e.get(pc),i=e.get(LR);1===e.get(GT)&&r.initialNavigation(),e.get(AR,null,Gi.Optional)?.setUpPreloading(),e.get(VT,null,Gi.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const LR=new mr("",{factory:()=>new Ve}),GT=new mr("",{providedIn:"root",factory:()=>1}),AR=new mr("");function DW(e){return xg(0,[{provide:AR,useExisting:SW},{provide:TR,useExisting:e}])}const PR=new mr("ROUTER_FORROOT_GUARD"),LW=[Mv,{provide:Lv,useClass:CT},pc,J_,{provide:zh,useFactory:function DR(e){return e.routerState.root},deps:[pc]},UT,[]];function AW(){return new vk("Router",pc)}let kR=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[LW,[],{provide:Rv,multi:!0,useValue:t},{provide:PR,useFactory:NW,deps:[[pc,new Ah,new Pd]]},{provide:Mx,useValue:r||{}},r?.useHash?{provide:pg,useClass:X$}:{provide:pg,useClass:Zk},{provide:VT,useFactory:()=>{const e=Pr(uU),n=Pr(gr),t=Pr(Mx),r=Pr(xx),i=Pr(Lv);return t.scrollOffset&&e.setOffset(t.scrollOffset),new CR(i,r,e,n,t)}},r?.preloadingStrategy?DW(r.preloadingStrategy).\u0275providers:[],{provide:vk,multi:!0,useFactory:AW},r?.initialNavigation?RW(r):[],r?.bindToComponentInputs?xg(8,[sR,{provide:_x,useExisting:sR}]).\u0275providers:[],[{provide:OR,useFactory:IR},{provide:gE,multi:!0,useExisting:OR}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Rv,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||e)(tr(PR,8))};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({})}return e})();function NW(e){return"guarded"}function RW(e){return["disabled"===e.initialNavigation?xg(3,[{provide:u1,multi:!0,useFactory:()=>{const n=Pr(pc);return()=>{n.setUpLocationChangeListener()}}},{provide:GT,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?xg(2,[{provide:GT,useValue:0},{provide:u1,multi:!0,deps:[Eu],useFactory:n=>{const t=n.get(W$,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(pc),s=n.get(LR);SR(i,()=>{r(!0)}),n.get(xx).afterPreactivation=()=>(r(!0),s.closed?Xt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const OR=new mr("");function Sx(...e){const n=Ns(e),{args:t,keys:r}=TN(e),i=new et(s=>{const{length:a}=t;if(!a)return void s.complete();const h=new Array(a);let m=a,y=a;for(let C=0;C<a;C++){let L=!1;sr(t[C]).subscribe(fn(s,F=>{L||(L=!0,y--),h[C]=F},()=>m--,void 0,()=>{(!m||!L)&&(y||s.next(r?CN(r,h):h),s.complete())}))}});return n?i.pipe(MT(n)):i}let NR=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(hc),Oe(pr))};static#t=this.\u0275dir=Ti({type:e})}return e})(),Q_=(()=>{class e extends NR{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Da(e)))(i||e)}}();static#t=this.\u0275dir=Ti({type:e,features:[So]})}return e})();const dh=new mr("NgValueAccessor"),YW={provide:dh,useExisting:Re(()=>WT),multi:!0},jW=new mr("CompositionEventMode");let WT=(()=>{class e extends NR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zW(){const e=gm()?gm().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(hc),Oe(pr),Oe(jW,8))};static#t=this.\u0275dir=Ti({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&$n("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[ml([YW]),So]})}return e})();function wm(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}const td=new mr("NgValidators"),bm=new mr("NgAsyncValidators");function Ex(e){return null}function GR(e){return null!=e}function WR(e){return K0(e)?It(e):e}function qR(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function XR(e,n){return n.map(t=>t(e))}function ZR(e){return e.map(n=>function $W(e){return!e.validate}(n)?n:t=>n.validate(t))}function qT(e){return null!=e?function KR(e){if(!e)return null;const n=e.filter(GR);return 0==n.length?null:function(t){return qR(XR(t,n))}}(ZR(e)):null}function XT(e){return null!=e?function JR(e){if(!e)return null;const n=e.filter(GR);return 0==n.length?null:function(t){return Sx(XR(t,n).map(WR)).pipe(un(qR))}}(ZR(e)):null}function QR(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function ZT(e){return e?Array.isArray(e)?e:[e]:[]}function Tx(e,n){return Array.isArray(e)?e.includes(n):e===n}function nF(e,n){const t=ZT(n);return ZT(e).forEach(i=>{Tx(t,i)||t.push(i)}),t}function rF(e,n){return ZT(n).filter(t=>!Tx(e,t))}class iF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=qT(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=XT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class $d extends iF{get formDirective(){return null}get path(){return null}}class Mg extends iF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sF{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hh=(()=>{class e extends sF{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(Mg,2))};static#t=this.\u0275dir=Ti({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&db("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[So]})}return e})();const F1="VALID",Dx="INVALID",Fv="PENDING",B1="DISABLED";function Ix(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class uF{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===F1}get invalid(){return this.status===Dx}get pending(){return this.status==Fv}get disabled(){return this.status===B1}get enabled(){return this.status!==B1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(nF(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(nF(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(rF(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(rF(n,this._rawAsyncValidators))}hasValidator(n){return Tx(this._rawValidators,n)}hasAsyncValidator(n){return Tx(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Fv,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=B1,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=F1,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===F1||this.status===Fv)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?B1:F1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Fv,this._hasOwnPendingAsyncValidator=!0;const t=WR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Hi,this.statusChanges=new Hi}_calculateStatus(){return this._allControlsDisabled()?B1:this.errors?Dx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fv)?Fv:this._anyControlsHaveStatus(Dx)?Dx:F1}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Ix(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function qW(e){return Array.isArray(e)?qT(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function XW(e){return Array.isArray(e)?XT(e):e||null}(this._rawAsyncValidators)}}const Bv=new mr("CallSetDisabledState",{providedIn:"root",factory:()=>Lx}),Lx="always";function Y1(e,n,t=Lx){(function nC(e,n){const t=function eF(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(QR(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function tF(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(QR(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();kx(n._rawValidators,i),kx(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function JW(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&cF(e,n)})}(e,n),function eq(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function QW(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&cF(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function KW(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function kx(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function cF(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function fF(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function pF(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const gF=class extends uF{constructor(n=null,t,r){super(function QT(e){return(Ix(e)?e.validators:e)||null}(t),function eC(e,n){return(Ix(n)?n.asyncValidators:e)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ix(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=pF(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){fF(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){fF(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){pF(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},lq={provide:Mg,useExisting:Re(()=>Ud)},yF=(()=>Promise.resolve())();let Ud=(()=>{class e extends Mg{constructor(t,r,i,s,a,h){super(),this._changeDetectorRef=a,this.callSetDisabledState=h,this.control=new gF,this._registered=!1,this.name="",this.update=new Hi,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sC(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(s=>{s.constructor===WT?t=s:function rq(e){return Object.getPrototypeOf(e.constructor)===Q_}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function iC(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Y1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){yF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function xv(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);yF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Ax(e,n){return[...n.path,e]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||e)(Oe($d,9),Oe(td,10),Oe(bm,10),Oe(dh,10),Oe(Kr,8),Oe(Bv,8))};static#t=this.\u0275dir=Ti({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ml([lq]),So,bc]})}return e})(),wF=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({})}return e})();function LF(e){return"number"==typeof e?e:parseFloat(e)}let ey=(()=>{class e{constructor(){this._validator=Ex}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ex,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ti({type:e,features:[bc]})}return e})();const Eq={provide:td,useExisting:Re(()=>hC),multi:!0};let hC=(()=>{class e extends ey{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>LF(t),this.createValidator=t=>function YR(e){return n=>{if(wm(n.value)||wm(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Da(e)))(i||e)}}();static#t=this.\u0275dir=Ti({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&lf("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[ml([Eq]),So]})}return e})();const Tq={provide:td,useExisting:Re(()=>fC),multi:!0};let fC=(()=>{class e extends ey{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>LF(t),this.createValidator=t=>function BR(e){return n=>{if(wm(n.value)||wm(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Da(e)))(i||e)}}();static#t=this.\u0275dir=Ti({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&lf("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[ml([Tq]),So]})}return e})(),kq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({imports:[wF]})}return e})(),Nq=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Bv,useValue:t.callSetDisabledState??Lx}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({imports:[kq]})}return e})();var oo=X(5861),RF=X(3162),j1=X(2762);const $q=["addListener","removeListener"],Uq=["addEventListener","removeEventListener"],Vq=["on","off"];function Yv(e,n,t,r){if(B(t)&&(r=t,t=void 0),r)return Yv(e,n,t).pipe(MT(r));const[i,s]=function qq(e){return B(e.addEventListener)&&B(e.removeEventListener)}(e)?Uq.map(a=>h=>e[a](n,h,t)):function Gq(e){return B(e.addListener)&&B(e.removeListener)}(e)?$q.map(FF(e,n)):function Wq(e){return B(e.on)&&B(e.off)}(e)?Vq.map(FF(e,n)):[];if(!i&&Me(e))return mi(a=>Yv(a,n,t))(sr(e));if(!i)throw new TypeError("Invalid event target");return new et(a=>{const h=(...m)=>a.next(1<m.length?m:m[0]);return i(h),()=>s(h)})}function FF(e,n){return t=>r=>e[t](n,r)}class Zq{menuController;constructor(n){this.menuController=n}open(n){return this.menuController.open(n)}close(n){return this.menuController.close(n)}toggle(n){return this.menuController.toggle(n)}enable(n,t){return this.menuController.enable(n,t)}swipeGesture(n,t){return this.menuController.swipeGesture(n,t)}isOpen(n){return this.menuController.isOpen(n)}isEnabled(n){return this.menuController.isEnabled(n)}get(n){return this.menuController.get(n)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(n,t){return this.menuController.registerAnimation(n,t)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(n,t){return this.menuController._createAnimation(n,t)}_register(n){return this.menuController._register(n)}_unregister(n){return this.menuController._unregister(n)}_setOpen(n,t,r){return this.menuController._setOpen(n,t,r)}}let Ap=(()=>{class e{doc;_readyPromise;win;backButton=new Ve;keyboardDidShow=new Ve;keyboardDidHide=new Ve;pause=new Ve;resume=new Ve;resize=new Ve;constructor(t,r){this.doc=t,r.run(()=>{let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(h=>h.register(s,m=>r.run(()=>a(m))))},zv(this.pause,t,"pause",r),zv(this.resume,t,"resume",r),zv(this.backButton,t,"ionBackButton",r),zv(this.resize,this.win,"resize",r),zv(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),zv(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(s=>{i=s}),this.win?.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,RF.a)(this.win,t)}platforms(){return(0,RF.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return Kq(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(r){return new(r||e)(tr(Ic),tr(gr))};static \u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Kq=(e,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(e);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},zv=(e,n,t,r)=>{n&&n.addEventListener(t,i=>{r.run(()=>{const s=i?.detail;e.next(s)})})};let jh=(()=>{class e{location;serializer;router;topOutlet;direction=BF;animated=YF;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(t,r,i,s){this.location=r,this.serializer=i,this.router=s,s&&s.events.subscribe(a=>{if(a instanceof D1){const h=a.restoredState?a.restoredState.navigationId:a.id;this.guessDirection=this.guessAnimation=h<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?a.id:h}}),t.backButton.subscribeWithPriority(0,a=>{this.pop(),a()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){var t=this;return(0,oo.Z)(function*(){let r=t.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(t,r,i,s){this.direction=t,this.animated=Jq(t,r,i),this.animationBuilder=s}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const i=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=BF,this.animated=YF,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:i}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const i=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}static \u0275fac=function(r){return new(r||e)(tr(Ap),tr(Mv),tr(Lv),tr(pc,8))};static \u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Jq=(e,n,t)=>{if(!1!==n){if(void 0!==t)return t;if("forward"===e||"back"===e)return e;if("root"===e&&!0===n)return"forward"}},BF="auto",YF=void 0;let gC=(()=>{class e{get(t,r){const i=_C();return i?i.get(t,r):null}getBoolean(t,r){const i=_C();return!!i&&i.getBoolean(t,r)}getNumber(t,r){const i=_C();return i?i.getNumber(t,r):0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mC=new mr("USERCONFIG"),_C=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class xm{data;constructor(n={}){this.data=n,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(n){return this.data[n]}}let H1=(()=>{class e{zone=Pr(gr);applicationRef=Pr(hg);config=Pr(mC);create(t,r,i){return new Qq(t,r,this.applicationRef,this.zone,i,this.config.useSetInputAPI??!1)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();class Qq{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(n,t,r,i,s,a){this.environmentInjector=n,this.injector=t,this.applicationRef=r,this.zone=i,this.elementReferenceKey=s,this.enableSignalsSupport=a}attachViewToDom(n,t,r,i){return this.zone.run(()=>new Promise(s=>{const a={...r};void 0!==this.elementReferenceKey&&(a[this.elementReferenceKey]=n),s(eX(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,n,t,a,i,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(n,t){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(t);if(i){i.destroy(),this.elRefMap.delete(t);const s=this.elEventsMap.get(t);s&&(s(),this.elEventsMap.delete(t))}r()}))}}const eX=(e,n,t,r,i,s,a,h,m,y,C,L)=>{const j=function U$(e,n){const t=es(e),r=n.elementInjector||Qy();return new V0(t).create(r,n.projectableNodes,n.hostElement,n.environmentInjector)}(h,{environmentInjector:n,elementInjector:Eu.create({providers:nX(m),parent:t})}),fe=j.instance,we=j.location.nativeElement;if(m)if(C&&void 0!==fe[C]&&console.error(`[Ionic Error]: ${C} is a reserved property when using ${a.tagName.toLowerCase()}. Rename or remove the "${C}" property from ${h.name}.`),!0===L&&void 0!==j.setInput){const{modal:Ue,popover:Ae,...je}=m;for(const Dt in je)j.setInput(Dt,je[Dt]);void 0!==Ue&&Object.assign(fe,{modal:Ue}),void 0!==Ae&&Object.assign(fe,{popover:Ae})}else Object.assign(fe,m);if(y)for(const Ue of y)we.classList.add(Ue);const qe=zF(e,fe,we);return a.appendChild(we),r.attachView(j.hostView),i.set(we,j),s.set(we,qe),we},tX=[j1.L,j1.a,j1.b,j1.c,j1.d],zF=(e,n,t)=>e.run(()=>{const r=tX.filter(i=>"function"==typeof n[i]).map(i=>{const s=a=>n[i](a.detail);return t.addEventListener(i,s),()=>t.removeEventListener(i,s)});return()=>r.forEach(i=>i())}),jF=new mr("NavParamsToken"),nX=e=>[{provide:jF,useValue:e},{provide:xm,useFactory:rX,deps:[jF]}],rX=e=>new xm(e),HF=(e,n)=>((e=e.filter(t=>t.stackId!==n.stackId)).push(n),e),vC=(e,n)=>{const t=e.createUrlTree(["."],{relativeTo:n});return e.serializeUrl(t)},$F=(e,n)=>!n||e.stackId!==n.stackId,gX=(e,n)=>{if(!e)return;const t=UF(n);for(let r=0;r<t.length;r++){if(r>=e.length)return t[r];if(t[r]!==e[r])return}},UF=e=>e.split("/").map(n=>n.trim()).filter(n=>""!==n),VF=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class mX{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(n,t,r,i,s,a){this.containerEl=t,this.router=r,this.navCtrl=i,this.zone=s,this.location=a,this.tabsPrefix=void 0!==n?UF(n):void 0}createView(n,t){const r=vC(this.router,t),i=n?.location?.nativeElement,s=zF(this.zone,n.instance,i);return{id:this.nextId++,stackId:gX(this.tabsPrefix,r),unlistenEvents:s,element:i,ref:n,url:r}}getExistingView(n){const t=vC(this.router,n),r=this.views.find(i=>i.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){const t=this.navCtrl.consumeTransition();let{direction:r,animation:i,animationBuilder:s}=t;const a=this.activeView,h=$F(n,a);h&&(r="back",i=void 0);const m=this.views.slice();let y;const C=this.router;C.getCurrentNavigation?y=C.getCurrentNavigation():C.navigations?.value&&(y=C.navigations.value),y?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const L=this.views.includes(n),F=this.insertView(n,r);L||n.ref.changeDetectorRef.detectChanges();const j=n.animationBuilder;return void 0===s&&"back"===r&&!h&&void 0!==j&&(s=j),a&&(a.animationBuilder=s),this.zone.runOutsideAngular(()=>this.wait(()=>(a&&a.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,a,i,this.canGoBack(1),!1,s).then(()=>_X(n,F,m,this.location,this.zone)).then(()=>({enteringView:n,direction:r,animation:i,tabSwitch:h})))))}canGoBack(n,t=this.getActiveStackId()){return this.getStack(t).length>n}pop(n,t=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(t);if(r.length<=n)return Promise.resolve(!1);const i=r[r.length-n-1];let s=i.url;const a=i.savedData;if(a){const m=a.get("primary");m?.route?._routerState?.snapshot.url&&(s=m.route._routerState.snapshot.url)}const{animationBuilder:h}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(s,{...i.savedExtras,animation:h}).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const t=this.getStack(n.stackId),r=t[t.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&GF(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const t=this.getStack(n);return t.length>0?t[t.length-1]:void 0}getRootUrl(n){const t=this.getStack(n);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(VF),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(t=>t.stackId===n)}insertView(n,t){return this.activeView=n,this.views=((e,n,t)=>"root"===t?HF(e,n):"forward"===t?((e,n)=>(e.indexOf(n)>=0?e=e.filter(r=>r.stackId!==n.stackId||r.id<=n.id):e.push(n),e))(e,n):((e,n)=>e.indexOf(n)>=0?e.filter(r=>r.stackId!==n.stackId||r.id<=n.id):HF(e,n))(e,n))(this.views,n,t),this.views.slice()}transition(n,t,r,i,s,a){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===n)return Promise.resolve(!1);const h=n?n.element:void 0,m=t?t.element:void 0,y=this.containerEl;return h&&h!==m&&(h.classList.add("ion-page"),h.classList.add("ion-page-invisible"),y.commit)?y.commit(h,m,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:s,animationBuilder:a}):Promise.resolve(!1)}wait(n){var t=this;return(0,oo.Z)(function*(){void 0!==t.runningTask&&(yield t.runningTask,t.runningTask=void 0);const r=t.runningTask=n();return r.finally(()=>t.runningTask=void 0),r})()}}const _X=(e,n,t,r,i)=>"function"==typeof requestAnimationFrame?new Promise(s=>{requestAnimationFrame(()=>{GF(e,n,t,r,i),s()})}):Promise.resolve(),GF=(e,n,t,r,i)=>{i.run(()=>t.filter(s=>!n.includes(s)).forEach(VF)),n.forEach(s=>{const h=r.path().split("?")[0].split("#")[0];if(s!==e&&s.url!==h){const m=s.element;m.setAttribute("aria-hidden","true"),m.classList.add("ion-page-hidden"),s.ref.changeDetectorRef.detach()}})};let WF=(()=>{class e{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new $t(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=vo;stackWillChange=new Hi;stackDidChange=new Hi;activateEvents=new Hi;deactivateEvents=new Hi;parentContexts=Pr(J_);location=Pr(Rh);environmentInjector=Pr(Cc);inputBinder=Pr(qF,{optional:!0});supportsBindingToComponentInputs=!0;config=Pr(gC);navCtrl=Pr(jh);set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}constructor(t,r,i,s,a,h,m,y){this.parentOutlet=y,this.nativeEl=s.nativeElement,this.name=t||vo,this.tabsPrefix="true"===r?vC(a,m):void 0,this.stackCtrl=new mX(this.tabsPrefix,this.nativeEl,a,this.navCtrl,h,i),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.injector)}new Promise(t=>((e,n)=>{e.componentOnReady?e.componentOnReady().then(t=>n(t)):(e=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)})(()=>n(e))})(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const s=r.route.snapshot;this.activatedView.savedExtras.queryParams=s.queryParams,this.activatedView.savedExtras.fragment=s.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const h=s.savedData;h&&(this.getContext().children.contexts=h),this.updateActivatedRouteProxy(i.instance,t)}else{const h=t._futureSnapshot,m=this.parentContexts.getOrCreateContext(this.name).children,y=new $t(null),C=this.createActivatedRouteProxy(y,t),L=new yX(C,m,this.location.injector);i=this.activated=this.outletContent.createComponent(h.routeConfig.component??h.component,{index:this.outletContent.length,injector:L,environmentInjector:r??this.environmentInjector}),y.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,C),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=s,this.navCtrl.setTopOutlet(this);const a=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:s,tabSwitch:$F(s,a)}),this.stackCtrl.setActive(s).then(h=>{this.activateEvents.emit(i.instance),this.stackDidChange.emit(h)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const i=new zh;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(t,"paramMap"),i._queryParamMap=this.proxyObservable(t,"queryParamMap"),i.url=this.proxyObservable(t,"url"),i.params=this.proxyObservable(t,"params"),i.queryParams=this.proxyObservable(t,"queryParams"),i.fragment=this.proxyObservable(t,"fragment"),i.data=this.proxyObservable(t,"data"),i}proxyObservable(t,r){return t.pipe(zc(i=>!!i),Cn(i=>this.currentActivatedRoute$.pipe(zc(s=>null!==s&&s.component===i),Cn(s=>s&&s.activatedRoute[r]),wr())))}updateActivatedRouteProxy(t,r){const i=this.proxyMap.get(t);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}static \u0275fac=function(r){return new(r||e)(fd("name"),fd("tabs"),Oe(Mv),Oe(pr),Oe(pc),Oe(gr),Oe(zh),Oe(e,12))};static \u0275dir=Ti({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})}return e})();class yX{route;childContexts;parent;constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===zh?this.route:n===J_?this.childContexts:this.parent.get(n,t)}}const qF=new mr("");let vX=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=ox([r.queryParams,r.params,r.data]).pipe(Cn(([s,a,h],m)=>(h={...s,...a,...h},0===m?Xt(h):Promise.resolve(h)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const a=Wk(r.component);if(a)for(const{templateName:h}of a.inputs)t.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();function bX(e){return e?.componentInputBindingEnabled?new vX:null}const XF=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let Rx=(()=>{class e{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(t,r){this.injector=t,this.elementRef=r}writeValue(t){this.elementRef.nativeElement.value=this.lastValue=t,jv(this.elementRef)}handleValueChange(t,r){t===this.elementRef.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),jv(this.elementRef))}_handleBlurEvent(t){t===this.elementRef.nativeElement&&(this.onTouched(),jv(this.elementRef))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.elementRef.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(Mg)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>jv(this.elementRef)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(s=>{if(typeof r[s]<"u"){const a=r[s].bind(r);r[s]=(...h)=>{a(...h),jv(this.elementRef)}}})}static \u0275fac=function(r){return new(r||e)(Oe(Eu),Oe(pr))};static \u0275dir=Ti({type:e,hostBindings:function(r,i){1&r&&$n("ionBlur",function(a){return i._handleBlurEvent(a.target)})}})}return e})();const jv=e=>{XF(()=>{const n=e.nativeElement,t=null!=n.value&&n.value.toString().length>0,r=LX(n);wC(n,r);const i=n.closest("ion-item");i&&wC(i,t?[...r,"item-has-value"]:r)})},LX=e=>{const n=e.classList,t=[];for(let r=0;r<n.length;r++){const i=n.item(r);null!==i&&AX(i,"ng-")&&t.push(`ion-${i.substring(3)}`)}return t},wC=(e,n)=>{const t=e.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...n)},AX=(e,n)=>e.substring(0,n.length)===n;class PX{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,t){}retrieve(n){return null}shouldReuseRoute(n,t){if(n.routeConfig!==t.routeConfig)return!1;const r=n.params,i=t.params,s=Object.keys(r),a=Object.keys(i);if(s.length!==a.length)return!1;for(const h of s)if(i[h]!==r[h])return!1;return!0}}class $1{ctrl;constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,t,r){return this.ctrl.dismiss(n,t,r)}getTop(){return this.ctrl.getTop()}}X(2282),X(8444),X(8448),X(427),X(1981);var kX=X(5303),OX=X(8958),NX=X(8138),U1=X(4926),RX=(X(1848),X(4063));X(4089),X(4309);const BX=kX.i,YX=function(){var e=(0,oo.Z)(function*(n,t){if(!(typeof window>"u"))return yield BX(),(0,RX.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),t)});return function(t,r){return e.apply(this,arguments)}}(),Mi=["*"],zX=["outletContent"];let ZF=(()=>{class e extends Rx{constructor(t,r){super(t,r)}writeValue(t){this.elementRef.nativeElement.checked=this.lastValue=t,jv(this.elementRef)}_handleIonChange(t){this.handleValueChange(t,t.checked)}static \u0275fac=function(r){return new(r||e)(Oe(Eu),Oe(pr))};static \u0275dir=Ti({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,i){1&r&&$n("ionChange",function(a){return i._handleIonChange(a.target)})},features:[ml([{provide:dh,useExisting:e,multi:!0}]),So]})}return e})(),bC=(()=>{class e extends Rx{el;constructor(t,r){super(t,r),this.el=r}handleInputEvent(t){this.handleValueChange(t,t.value)}registerOnChange(t){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?r=>{t(""===r?null:parseFloat(r))}:t)}static \u0275fac=function(r){return new(r||e)(Oe(Eu),Oe(pr))};static \u0275dir=Ti({type:e,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(r,i){1&r&&$n("ionInput",function(a){return i.handleInputEvent(a.target)})},features:[ml([{provide:dh,useExisting:e,multi:!0}]),So]})}return e})(),V1=(()=>{class e extends Rx{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleValueChange(t,t.value)}static \u0275fac=function(r){return new(r||e)(Oe(Eu),Oe(pr))};static \u0275dir=Ti({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,i){1&r&&$n("ionChange",function(a){return i._handleChangeEvent(a.target)})},features:[ml([{provide:dh,useExisting:e,multi:!0}]),So]})}return e})(),Hh=(()=>{class e extends Rx{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleValueChange(t,t.value)}static \u0275fac=function(r){return new(r||e)(Oe(Eu),Oe(pr))};static \u0275dir=Ti({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,i){1&r&&$n("ionInput",function(a){return i._handleInputEvent(a.target)})},features:[ml([{provide:dh,useExisting:e,multi:!0}]),So]})}return e})();const GX=(e,n)=>{const t=e.prototype;n.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},WX=(e,n)=>{const t=e.prototype;n.forEach(r=>{t[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},rl=(e,n,t)=>{t.forEach(r=>e[r]=Yv(n,r))};function Ai(e){return function(t){const{defineCustomElementFn:r,inputs:i,methods:s}=e;return void 0!==r&&r(),i&&GX(t,i),s&&WX(t,s),t}}let KF=(()=>{let e=class _I{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||_I)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:_I,selectors:[["ion-app"]],ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({})],e),e})(),xC=(()=>{let e=class wI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||wI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:wI,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","mode"]})],e),e})(),Hc=(()=>{let e=class MI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||MI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:MI,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Pp=(()=>{let e=class SI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||SI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:SI,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["collapse"]})],e),e})(),fh=(()=>{let e=class EI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||EI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:EI,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),pf=(()=>{let e=class TI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||TI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:TI,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["mode"]})],e),e})(),Mm=(()=>{let e=class CI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||CI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:CI,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","mode","translucent"]})],e),e})(),JF=(()=>{let e=class DI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||DI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:DI,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","mode"]})],e),e})(),QF=(()=>{let e=class II{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||II)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:II,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","mode"]})],e),e})(),e3=(()=>{let e=class AI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||AI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:AI,selectors:[["ion-chip"]],inputs:{color:"color",disabled:"disabled",mode:"mode",outline:"outline"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","disabled","mode","outline"]})],e),e})(),t3=(()=>{let e=class PI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||PI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:PI,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],e),e})(),Vd=(()=>{let e=class kI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(r){return new(r||kI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:kI,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),n3=(()=>{let e=class OI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||OI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:OI,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],e),e})(),MC=(()=>{let e=class RI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||RI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:RI,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],e),e})(),SC=(()=>{let e=class FI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||FI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:FI,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],e),e})(),kp=(()=>{let e=class YI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||YI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:YI,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["collapse","mode","translucent"]})],e),e})(),ph=(()=>{let e=class jI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||jI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:jI,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["collapse","mode","translucent"]})],e),e})(),Ql=(()=>{let e=class HI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||HI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:HI,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Sm=(()=>{let e=class GI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(r){return new(r||GI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:GI,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Gd=(()=>{let e=class qI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||qI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:qI,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),r3=(()=>{let e=class XI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||XI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:XI,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","mode","sticky"]})],e),e})(),Fx=(()=>{let e=class ZI{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||ZI)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:ZI,selectors:[["ion-item-group"]],ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({})],e),e})(),ty=(()=>{let e=class eL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||eL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:eL,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","mode","position"]})],e),e})(),ny=(()=>{let e=class tL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||tL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:tL,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),i3=(()=>{let e=class pL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||pL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:pL,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],e),e})(),s3=(()=>{let e=class gL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionChange"])}static \u0275fac=function(r){return new(r||gL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:gL,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["allowEmptySelection","compareWith","name","value"]})],e),e})(),o3=(()=>{let e=class mL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}static \u0275fac=function(r){return new(r||mL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:mL,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),Hv=(()=>{let e=class ML{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}static \u0275fac=function(r){return new(r||ML)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:ML,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),EC=(()=>{let e=class TL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||TL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:TL,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),TC=(()=>{let e=class CL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||CL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:CL,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["disabled","value"]})],e),e})(),a3=(()=>{let e=class IL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||IL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:IL,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","duration","name","paused"]})],e),e})(),l3=(()=>{let e=class NL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||NL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:NL,selectors:[["ion-thumbnail"]],ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({})],e),e})(),Wd=(()=>{let e=class RL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||RL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:RL,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","size"]})],e),e})(),u3=(()=>{let e=class BL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement,rl(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||BL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:BL,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","mode","name","value"]})],e),e})(),gh=(()=>{let e=class YL{z;el;constructor(t,r,i){this.z=i,t.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||YL)(Oe(Kr),Oe(pr),Oe(gr))};static \u0275cmp=Qn({type:YL,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Mi,decls:1,vars:0,template:function(r,i){1&r&&(vi(),gi(0))},encapsulation:2,changeDetection:0})};return e=Ln([Ai({inputs:["color","mode"]})],e),e})(),G1=(()=>{class e extends WF{parentOutlet;outletContent;constructor(t,r,i,s,a,h,m,y){super(t,r,i,s,a,h,m,y),this.parentOutlet=y}static \u0275fac=function(r){return new(r||e)(fd("name"),fd("tabs"),Oe(Mv),Oe(pr),Oe(pc),Oe(gr),Oe(zh),Oe(e,12))};static \u0275cmp=Qn({type:e,selectors:[["ion-router-outlet"]],viewQuery:function(r,i){if(1&r&&a1(zX,7,Rh),2&r){let s;Tp(s=Cp())&&(i.outletContent=s.first)}},features:[So],ngContentSelectors:Mi,decls:3,vars:0,consts:[["outletContent",""]],template:function(r,i){1&r&&(vi(),F_(0,null,0),gi(2),B_())},encapsulation:2})}return e})();const GZ={provide:td,useExisting:Re(()=>c3),multi:!0};let c3=(()=>{class e extends hC{static \u0275fac=function(){let t;return function(i){return(t||(t=Da(e)))(i||e)}}();static \u0275dir=Ti({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&lf("max",i._enabled?i.max:null)},features:[ml([GZ]),So]})}return e})();const WZ={provide:td,useExisting:Re(()=>d3),multi:!0};let d3=(()=>{class e extends fC{static \u0275fac=function(){let t;return function(i){return(t||(t=Da(e)))(i||e)}}();static \u0275dir=Ti({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&lf("min",i._enabled?i.min:null)},features:[ml([WZ]),So]})}return e})(),W1=(()=>{class e extends $1{constructor(){super(U1.a)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DC=(()=>{class e extends $1{constructor(){super(U1.l)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qZ=(()=>{class e extends Zq{constructor(){super(NX.m)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mh=(()=>{class e extends $1{angularDelegate=Pr(H1);injector=Pr(Eu);environmentInjector=Pr(Cc);constructor(){super(U1.m)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();class XZ extends $1{angularDelegate=Pr(H1);injector=Pr(Eu);environmentInjector=Pr(Cc);constructor(){super(U1.c)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let IC=(()=>{class e extends $1{constructor(){super(U1.t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZZ=(e,n,t)=>()=>{const r=n.defaultView;if(r&&typeof window<"u"){(0,OX.s)({...e,_zoneGate:s=>t.run(s)});const i="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function FX(){var e=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&e.push(X.e(6748).then(X.t.bind(X,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(X.e(2214).then(X.t.bind(X,2668,23)))}return Promise.all(e)}().then(()=>YX(r,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:XF,jmp:s=>t.runOutsideAngular(s),ael(s,a,h,m){s[i](a,h,m)},rel(s,a,h,m){s.removeEventListener(a,h,m)}}))}};let KZ=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:mC,useValue:t},{provide:u1,useFactory:ZZ,multi:!0,deps:[mC,Ic,gr]},H1,{provide:qF,useFactory:bX,deps:[pc]}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=go({type:e});static \u0275inj=nr({providers:[mh,XZ],imports:[yO]})}return e})();var JZ=X(9422),Bx=X.n(JZ);const Yx={SecureStorage:"ionicSecureStorage",IndexedDB:Bx().INDEXEDDB,LocalStorage:Bx().LOCALSTORAGE},h3={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[Yx.SecureStorage,Yx.IndexedDB,Yx.LocalStorage]};class Sg{constructor(n=h3){this._db=null,this._secureStorageDriver=null;const t=Object.assign({},h3,n||{});this._config=t}create(){var n=this;return(0,oo.Z)(function*(){const t=Bx().createInstance(n._config);return n._db=t,yield t.setDriver(n._config.driverOrder||[]),n})()}defineDriver(n){var t=this;return(0,oo.Z)(function*(){return n._driver===Yx.SecureStorage&&(t._secureStorageDriver=n),Bx().defineDriver(n)})()}get driver(){var n;return(null===(n=this._db)||void 0===n?void 0:n.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(n){return this.assertDb().getItem(n)}set(n,t){return this.assertDb().setItem(n,t)}remove(n){return this.assertDb().removeItem(n)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(n){return this.assertDb().iterate(n)}setEncryptionKey(n){var t;if(!this._secureStorageDriver)throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available");null===(t=this._secureStorageDriver)||void 0===t||t.setEncryptionKey(n)}}const f3=new mr("STORAGE_CONFIG_TOKEN");class QZ extends Sg{constructor(){super()}create(){var n=this;return(0,oo.Z)(function*(){return n})()}defineDriver(){return(0,oo.Z)(function*(){})()}get driver(){return"noop"}get(n){return(0,oo.Z)(function*(){return null})()}set(n,t){return(0,oo.Z)(function*(){})()}remove(n){return(0,oo.Z)(function*(){})()}clear(){return(0,oo.Z)(function*(){})()}length(){return(0,oo.Z)(function*(){return 0})()}keys(){return(0,oo.Z)(function*(){return[]})()}forEach(n){return(0,oo.Z)(function*(){})()}setEncryptionKey(n){}}function eK(e,n){return zE(e)?new QZ:new Sg(n)}let tK=(()=>{class e{static forRoot(t=null){return{ngModule:e,providers:[{provide:f3,useValue:t},{provide:Sg,useFactory:eK,deps:[sf,f3]}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=go({type:e}),e.\u0275inj=nr({}),e})();var ry=X(2726);const nK=(0,ry.fo)("Device",{web:()=>X.e(7116).then(X.bind(X,7116)).then(e=>new e.DeviceWeb)}),rK=(0,ry.fo)("App",{web:()=>X.e(2912).then(X.bind(X,2912)).then(e=>new e.AppWeb)}),iK=(0,ry.fo)("SplashScreen",{web:()=>X.e(4485).then(X.bind(X,4485)).then(e=>new e.SplashScreenWeb)});class zx{}class jx{}class Ed{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ed?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Ed;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ed?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=n.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(h=>-1===s.indexOf(h)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class sK{encodeKey(n){return p3(n)}encodeValue(n){return p3(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const aK=/%(\d[a-f0-9])/gi,lK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function p3(e){return encodeURIComponent(e).replace(aK,(n,t)=>lK[t]??n)}function Hx(e){return`${e}`}class Em{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new sK,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oK(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[a,h]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],m=t.get(a)||[];m.push(h),t.set(a,m)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(Hx):[Hx(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Em({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Hx(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(Hx(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class uK{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function g3(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function m3(e){return typeof Blob<"u"&&e instanceof Blob}function _3(e){return typeof FormData<"u"&&e instanceof FormData}class X1{constructor(n,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function cK(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ed),this.context||(this.context=new uK),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+a}}else this.params=new Em,this.urlWithParams=t}serializeBody(){return null===this.body?null:g3(this.body)||m3(this.body)||_3(this.body)||function dK(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Em?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_3(this.body)?null:m3(this.body)?this.body.type||null:g3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Em?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,h=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let m=n.headers||this.headers,y=n.params||this.params;const C=n.context??this.context;return void 0!==n.setHeaders&&(m=Object.keys(n.setHeaders).reduce((L,F)=>L.set(F,n.setHeaders[F]),m)),n.setParams&&(y=Object.keys(n.setParams).reduce((L,F)=>L.set(F,n.setParams[F]),y)),new X1(t,r,s,{params:y,headers:m,context:C,reportProgress:h,responseType:i,withCredentials:a})}}var $v=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}($v||{});class LC{constructor(n,t=200,r="OK"){this.headers=n.headers||new Ed,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class AC extends LC{constructor(n={}){super(n),this.type=$v.ResponseHeader}clone(n={}){return new AC({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Uv extends LC{constructor(n={}){super(n),this.type=$v.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Uv({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class y3 extends LC{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function PC(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Tm=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof X1)s=t;else{let m,y;m=i.headers instanceof Ed?i.headers:new Ed(i.headers),i.params&&(y=i.params instanceof Em?i.params:new Em({fromObject:i.params})),s=new X1(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:y,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=Xt(s).pipe(X_(m=>this.handler.handle(m)));if(t instanceof X1||"events"===i.observe)return a;const h=a.pipe(zc(m=>m instanceof Uv));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe(un(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe(un(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe(un(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe(un(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Em).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,PC(i,r))}post(t,r,i={}){return this.request("POST",t,PC(i,r))}put(t,r,i={}){return this.request("PUT",t,PC(i,r))}static#e=this.\u0275fac=function(r){return new(r||e)(tr(zx))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();function b3(e,n){return n(e)}function fK(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const gK=new mr(""),Z1=new mr(""),x3=new mr("");function mK(){let e=null;return(n,t)=>{null===e&&(e=(Pr(gK,{optional:!0})??[]).reduceRight(fK,b3));const r=Pr(bb),i=r.add();return e(n,t).pipe(b1(()=>r.remove(i)))}}let M3=(()=>{class e extends zx{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Pr(bb)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Z1),...this.injector.get(x3,[])]));this.chain=i.reduceRight((s,a)=>function pK(e,n,t){return(r,i)=>t.runInContext(()=>n(r,s=>e(s,i)))}(s,a,this.injector),b3)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(b1(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(tr(jx),tr(Cc))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();const wK=/^\)\]\}',?\n/;let E3=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new gn(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?It(r.\u0275loadImpl()):Xt(null)).pipe(Cn(()=>new et(s=>{const a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((we,qe)=>a.setRequestHeader(we,qe.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const we=t.detectContentTypeHeader();null!==we&&a.setRequestHeader("Content-Type",we)}if(t.responseType){const we=t.responseType.toLowerCase();a.responseType="json"!==we?we:"text"}const h=t.serializeBody();let m=null;const y=()=>{if(null!==m)return m;const we=a.statusText||"OK",qe=new Ed(a.getAllResponseHeaders()),Ue=function bK(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||t.url;return m=new AC({headers:qe,status:a.status,statusText:we,url:Ue}),m},C=()=>{let{headers:we,status:qe,statusText:Ue,url:Ae}=y(),je=null;204!==qe&&(je=typeof a.response>"u"?a.responseText:a.response),0===qe&&(qe=je?200:0);let Dt=qe>=200&&qe<300;if("json"===t.responseType&&"string"==typeof je){const Ht=je;je=je.replace(wK,"");try{je=""!==je?JSON.parse(je):null}catch(Kt){je=Ht,Dt&&(Dt=!1,je={error:Kt,text:je})}}Dt?(s.next(new Uv({body:je,headers:we,status:qe,statusText:Ue,url:Ae||void 0})),s.complete()):s.error(new y3({error:je,headers:we,status:qe,statusText:Ue,url:Ae||void 0}))},L=we=>{const{url:qe}=y(),Ue=new y3({error:we,status:a.status||0,statusText:a.statusText||"Unknown Error",url:qe||void 0});s.error(Ue)};let F=!1;const j=we=>{F||(s.next(y()),F=!0);let qe={type:$v.DownloadProgress,loaded:we.loaded};we.lengthComputable&&(qe.total=we.total),"text"===t.responseType&&a.responseText&&(qe.partialText=a.responseText),s.next(qe)},fe=we=>{let qe={type:$v.UploadProgress,loaded:we.loaded};we.lengthComputable&&(qe.total=we.total),s.next(qe)};return a.addEventListener("load",C),a.addEventListener("error",L),a.addEventListener("timeout",L),a.addEventListener("abort",L),t.reportProgress&&(a.addEventListener("progress",j),null!==h&&a.upload&&a.upload.addEventListener("progress",fe)),a.send(h),s.next({type:$v.Sent}),()=>{a.removeEventListener("error",L),a.removeEventListener("abort",L),a.removeEventListener("load",C),a.removeEventListener("timeout",L),t.reportProgress&&(a.removeEventListener("progress",j),null!==h&&a.upload&&a.upload.removeEventListener("progress",fe)),a.readyState!==a.DONE&&a.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(tr(bO))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();const kC=new mr("XSRF_ENABLED"),T3=new mr("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),C3=new mr("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class D3{}let SK=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=oO(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Ic),tr(sf),tr(T3))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();function EK(e,n){const t=e.url.toLowerCase();if(!Pr(kC)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=Pr(D3).getToken(),i=Pr(C3);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Cm=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Cm||{});function TK(...e){const n=[Tm,E3,M3,{provide:zx,useExisting:M3},{provide:jx,useExisting:E3},{provide:Z1,useValue:EK,multi:!0},{provide:kC,useValue:!0},{provide:D3,useClass:SK}];for(const t of e)n.push(...t.\u0275providers);return Xy(n)}const I3=new mr("LEGACY_INTERCEPTOR_FN");function CK(){return function iy(e,n){return{\u0275kind:e,\u0275providers:n}}(Cm.LegacyInterceptors,[{provide:I3,useFactory:mK},{provide:Z1,useExisting:I3,multi:!0}])}let DK=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({providers:[TK(CK())]})}return e})();const OC={now:()=>(OC.delegate||Date).now(),delegate:void 0};class OK extends Ve{constructor(n=1/0,t=1/0,r=OC){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:a}=this;t||(r.push(n),!i&&r.push(s.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let a=0;a<s.length&&!n.closed;a+=r?1:2)n.next(s[a]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*n;if(n<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const a=t.now();let h=0;for(let m=1;m<r.length&&r[m]<=a;m+=2)h=m;h&&r.splice(0,h+1)}}}function L3(e,n,t){let r,i=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:t}=e):r=e??1/0,on({connector:()=>new OK(r,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}class K1{}let A3=(()=>{class e extends K1{getTranslation(t){return Xt({})}static \u0275fac=function(){let t;return function(i){return(t||(t=Da(e)))(i||e)}}();static \u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();class NC{}let P3=(()=>{class e{handle(t){return t.key}static \u0275fac=function(r){return new(r||e)};static \u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();function J1(e,n){if(e===n)return!0;if(null===e||null===n)return!1;if(e!=e&&n!=n)return!0;let i,s,a,t=typeof e;if(t==typeof n&&"object"==t){if(!Array.isArray(e)){if(Array.isArray(n))return!1;for(s in a=Object.create(null),e){if(!J1(e[s],n[s]))return!1;a[s]=!0}for(s in n)if(!(s in a)&&typeof n[s]<"u")return!1;return!0}if(!Array.isArray(n))return!1;if((i=e.length)==n.length){for(s=0;s<i;s++)if(!J1(e[s],n[s]))return!1;return!0}}return!1}function $h(e){return typeof e<"u"&&null!==e}function RC(e){return e&&"object"==typeof e&&!Array.isArray(e)}function k3(e,n){let t=Object.assign({},e);return RC(e)&&RC(n)&&Object.keys(n).forEach(r=>{RC(n[r])?r in e?t[r]=k3(e[r],n[r]):Object.assign(t,{[r]:n[r]}):Object.assign(t,{[r]:n[r]})}),t}class Ux{}let O3=(()=>{class e extends Ux{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,r){let i;return i="string"==typeof t?this.interpolateString(t,r):"function"==typeof t?this.interpolateFunction(t,r):t,i}getValue(t,r){let i="string"==typeof r?r.split("."):[r];r="";do{r+=i.shift(),!$h(t)||!$h(t[r])||"object"!=typeof t[r]&&i.length?i.length?r+=".":t=void 0:(t=t[r],r="")}while(i.length);return t}interpolateFunction(t,r){return t(r)}interpolateString(t,r){return r?t.replace(this.templateMatcher,(i,s)=>{let a=this.getValue(r,s);return $h(a)?a:i}):t}static \u0275fac=function(){let t;return function(i){return(t||(t=Da(e)))(i||e)}}();static \u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();class Vx{}let N3=(()=>{class e extends Vx{compile(t,r){return t}compileTranslations(t,r){return t}static \u0275fac=function(){let t;return function(i){return(t||(t=Da(e)))(i||e)}}();static \u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();class R3{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Hi;onLangChange=new Hi;onDefaultLangChange=new Hi}const FC=new mr("USE_STORE"),BC=new mr("USE_DEFAULT_LANG"),YC=new mr("DEFAULT_LANGUAGE"),zC=new mr("USE_EXTEND");let Td=(()=>{class e{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Hi;_onLangChange=new Hi;_onDefaultLangChange=new Hi;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}constructor(t,r,i,s,a,h=!0,m=!1,y=!1,C){this.store=t,this.currentLoader=r,this.compiler=i,this.parser=s,this.missingTranslationHandler=a,this.useDefaultLang=h,this.isolate=m,this.extend=y,C&&this.setDefaultLang(C)}setDefaultLang(t){if(t===this.defaultLang)return;let r=this.retrieveTranslations(t);typeof r<"u"?(null==this.defaultLang&&(this.defaultLang=t),r.pipe(Pl(1)).subscribe(i=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return Xt(this.translations[t]);let r=this.retrieveTranslations(t);return typeof r<"u"?(this.currentLang||(this.currentLang=t),r.pipe(Pl(1)).subscribe(i=>{this.changeLang(t)}),r):(this.changeLang(t),Xt(this.translations[t]))}retrieveTranslations(t){let r;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),r=this._translationRequests[t]),r}getTranslation(t){this.pending=!0;const r=this.currentLoader.getTranslation(t).pipe(L3(1),Pl(1));return this.loadingTranslations=r.pipe(un(i=>this.compiler.compileTranslations(i,t)),L3(1),Pl(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[t]=this.extend&&this.translations[t]?{...i,...this.translations[t]}:i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(t,r,i=!1){r=this.compiler.compileTranslations(r,t),this.translations[t]=(i||this.extend)&&this.translations[t]?k3(this.translations[t],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,r,i){let s;if(r instanceof Array){let a={},h=!1;for(let m of r)a[m]=this.getParsedResult(t,m,i),vg(a[m])&&(h=!0);return h?Sx(r.map(y=>vg(a[y])?a[y]:Xt(a[y]))).pipe(un(y=>{let C={};return y.forEach((L,F)=>{C[r[F]]=L}),C})):a}if(t&&(s=this.parser.interpolate(this.parser.getValue(t,r),i)),typeof s>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),i)),typeof s>"u"){let a={key:r,translateService:this};typeof i<"u"&&(a.interpolateParams=i),s=this.missingTranslationHandler.handle(a)}return typeof s<"u"?s:r}get(t,r){if(!$h(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(X_(i=>vg(i=this.getParsedResult(i,t,r))?i:Xt(i)));{let i=this.getParsedResult(this.translations[this.currentLang],t,r);return vg(i)?i:Xt(i)}}getStreamOnTranslationChange(t,r){if(!$h(t)||!t.length)throw new Error('Parameter "key" required');return W_(Cv(()=>this.get(t,r)),this.onTranslationChange.pipe(Cn(i=>{const s=this.getParsedResult(i.translations,t,r);return"function"==typeof s.subscribe?s:Xt(s)})))}stream(t,r){if(!$h(t)||!t.length)throw new Error('Parameter "key" required');return W_(Cv(()=>this.get(t,r)),this.onLangChange.pipe(Cn(i=>{const s=this.getParsedResult(i.translations,t,r);return vg(s)?s:Xt(s)})))}instant(t,r){if(!$h(t)||!t.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],t,r);if(vg(i)){if(t instanceof Array){let s={};return t.forEach((a,h)=>{s[t[h]]=t[h]}),s}return t}return i}set(t,r,i=this.currentLang){this.translations[i][t]=this.compiler.compile(r,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof t>"u"?void 0:(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}static \u0275fac=function(r){return new(r||e)(tr(R3),tr(K1),tr(Vx),tr(Ux),tr(NC),tr(BC),tr(FC),tr(zC),tr(YC))};static \u0275prov=_n({token:e,factory:e.\u0275fac})}return e})(),NK=(()=>{class e{translateService;element;_ref;key;lastParams;currentParams;onLangChangeSub;onDefaultLangChangeSub;onTranslationChangeSub;set translate(t){t&&(this.key=t,this.checkNodes())}set translateParams(t){J1(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))}constructor(t,r,i){this.translateService=t,this.element=r,this._ref=i,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(s=>{s.lang===this.translateService.currentLang&&this.checkNodes(!0,s.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(s=>{this.checkNodes(!0,s.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(s=>{this.checkNodes(!0)}))}ngAfterViewChecked(){this.checkNodes()}checkNodes(t=!1,r){let i=this.element.nativeElement.childNodes;i.length||(this.setContent(this.element.nativeElement,this.key),i=this.element.nativeElement.childNodes);for(let s=0;s<i.length;++s){let a=i[s];if(3===a.nodeType){let h;if(t&&(a.lastKey=null),$h(a.lookupKey))h=a.lookupKey;else if(this.key)h=this.key;else{let m=this.getContent(a),y=m.trim();y.length&&(a.lookupKey=y,m!==a.currentValue?(h=y,a.originalContent=m||a.originalContent):a.originalContent?h=a.originalContent.trim():m!==a.currentValue&&(h=y,a.originalContent=m||a.originalContent))}this.updateValue(h,a,r)}}}updateValue(t,r,i){if(t){if(r.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let s=a=>{a!==t&&(r.lastKey=t),r.originalContent||(r.originalContent=this.getContent(r)),r.currentValue=$h(a)?a:r.originalContent||t,this.setContent(r,this.key?r.currentValue:r.originalContent.replace(t,r.currentValue)),this._ref.markForCheck()};if($h(i)){let a=this.translateService.getParsedResult(i,t,this.currentParams);vg(a)?a.subscribe({next:s}):s(a)}else this.translateService.get(t,this.currentParams).subscribe(s)}}getContent(t){return $h(t.textContent)?t.textContent:t.data}setContent(t,r){$h(t.textContent)?t.textContent=r:t.data=r}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}static \u0275fac=function(r){return new(r||e)(Oe(Td),Oe(pr),Oe(Kr))};static \u0275dir=Ti({type:e,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}})}return e})(),gc=(()=>{class e{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,r){this.translate=t,this._ref=r}updateValue(t,r,i){let s=a=>{this.value=void 0!==a?a:t,this.lastKey=t,this._ref.markForCheck()};if(i){let a=this.translate.getParsedResult(i,t,r);vg(a.subscribe)?a.subscribe(s):s(a)}this.translate.get(t,r).subscribe(s)}transform(t,...r){if(!t||!t.length)return t;if(J1(t,this.lastKey)&&J1(r,this.lastParams))return this.value;let i;if($h(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let s=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(i=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(r){return new(r||e)(Oe(Td,16),Oe(Kr,16))};static \u0275pipe=Kn({name:"translate",type:e,pure:!1});static \u0275prov=_n({token:e,factory:e.\u0275fac})}return e})(),RK=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[t.loader||{provide:K1,useClass:A3},t.compiler||{provide:Vx,useClass:N3},t.parser||{provide:Ux,useClass:O3},t.missingTranslationHandler||{provide:NC,useClass:P3},R3,{provide:FC,useValue:t.isolate},{provide:BC,useValue:t.useDefaultLang},{provide:zC,useValue:t.extend},{provide:YC,useValue:t.defaultLanguage},Td]}}static forChild(t={}){return{ngModule:e,providers:[t.loader||{provide:K1,useClass:A3},t.compiler||{provide:Vx,useClass:N3},t.parser||{provide:Ux,useClass:O3},t.missingTranslationHandler||{provide:NC,useClass:P3},{provide:FC,useValue:t.isolate},{provide:BC,useValue:t.useDefaultLang},{provide:zC,useValue:t.extend},{provide:YC,useValue:t.defaultLanguage},Td]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=go({type:e});static \u0275inj=nr({})}return e})(),mc=(()=>{class e{constructor(t,r,i,s){this.localStorage=t,this.platform=r,this.http=i,this.translate=s,this.user_info={uid:"",display_name:"",connected:!1},this.changeset={id:"",last_changeset_activity:0,created_at:0,comment:""},this.eventConfigIsLoaded=new Hi,this.freezeMapRenderer=!1,this.platforms=[],this.baseMapSources=null,this.currentZoom=void 0,this.selecableLayers=["marker","marker_changed","icon-change"],this.defautBaseMap={default:!0,description:"Satellite and aerial imagery.",i18n:!0,icon:"https://osmlab.github.io/editor-layer-index/sources/world/Bing.png",id:"Bing",license_url:"https://wiki.openstreetmap.org/wiki/Bing_Maps",max_zoom:22,min_zoom:1,name:"Bing Maps Aerial",no_tile_header:{"X-VE-Tile-Info":["no-tile"]},permission_osm:"explicit",privacy_policy_url:"https://privacy.microsoft.com/privacystatement",type:"bing",url:"https://www.bing.com/maps",tiles:["https://ecn.t0.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=587&mkt=en-gb&n=z","https://ecn.t1.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=587&mkt=en-gb&n=z","https://ecn.t2.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=587&mkt=en-gb&n=z","https://ecn.t3.tiles.virtualearth.net/tiles/a{quadkey}.jpeg?g=587&mkt=en-gb&n=z"]},this.config={mapMarginBuffer:50,lockMapHeading:!0,followPosition:!0,defaultPrimarykeyWindows:"lastTags",basemap:this.defautBaseMap,filterWayByArea:!0,filterWayByLength:!0,changeSetComment:"",languageUi:window.navigator.language.split("-")[0]||null,languageTags:window.navigator.language.split("-")[0]||null,countryTags:window.navigator.language&&window.navigator.language.split("-")[1]?window.navigator.language.split("-")[1].toUpperCase():null,oldTagsIcon:{display:!0,year:4},displayFixmeIcon:!0,addSurveyDate:!0,isDevServer:!1,checkedKey:"survey:date",surveyCard:{display:"always",year:4},isSelectableLine:!0,isSelectablePolygon:!1,passwordSaved:!0,lastView:{lng:-.127758,lat:51.507351,zoom:18,bearing:0},centerWhenGpsIsReady:!0,limitFeatures:1e4},this.currentTagsCountryChoice=[],this.geojsonIsLoadedFromCache=!1,this.appVersion={appName:"Osm Go!",appVersionCode:"12",appVersionNumber:"1.7.0",platform:"undefined",branch:"HEAD",shortHash:"b6a651a"}}getUserInfo(){return this.user_info}setUserInfo(t){this.user_info=t,this.localStorage.set("user_info",this.user_info)}resetUserInfo(){this.user_info={uid:"",display_name:"",connected:!1},this.localStorage.set("user_info",this.user_info)}getChangeset(){return this.changeset}setChangeset(t,r,i,s){this.changeset={id:t,last_changeset_activity:i,created_at:r,comment:s},this.localStorage.set("changeset",this.changeset)}updateChangesetLastActivity(){const t=Date.now();this.changeset.last_changeset_activity=t,this.localStorage.set("last_changeset_activity",t.toString())}getI18nConfig$(){return this.http.get("./assets/i18n/i18n.json").pipe(un(t=>(this.i18nConfig=t,t)))}getCountryConfig$(){return this.http.get("./assets/countryCode.json").pipe(un(t=>(this.countryConfig=t,t)))}loadConfig$(t){return It(this.localStorage.get("config")).pipe(un(r=>{if(r)for(const i in r)this.config[i]=r[i];else this.localStorage.set("config",this.config);return this.config.languageTags=this.config.languageTags||"en",this.config.countryTags=this.config.countryTags||"GB",this.setIsSelectableLine(this.config.isSelectableLine),this.setIsSelectablePolygon(this.config.isSelectablePolygon),this.config}))}loadUserInfo$(){return It(this.localStorage.get("user_info")).pipe(un(t=>(this.user_info=t&&t.connected?t:{uid:"",display_name:"",connected:!1},this.user_info)))}loadChangeSet$(){return It(this.localStorage.get("changeset")).pipe(un(t=>(this.changeset=t||{id:"",last_changeset_activity:0,created_at:0,comment:this.getChangeSetComment()},this.changeset)))}loadConfig2$(t){var r=this;return It(this.localStorage.get("config")).pipe(un(function(){var i=(0,oo.Z)(function*(s){if(s)for(const m in s)r.config[m]=s[m];else r.localStorage.set("config",r.config);r.config.languageTags=r.config.languageTags||"en",r.config.countryTags=r.config.countryTags||"GB",r.setIsSelectableLine(r.config.isSelectableLine),r.setIsSelectablePolygon(r.config.isSelectablePolygon);let a=yield r.localStorage.get("user_info");r.user_info=a&&a.connected?a:{uid:"",display_name:"",connected:!1};let h=yield r.localStorage.get("changeset");return r.changeset=h||{id:"",last_changeset_activity:0,created_at:0,comment:r.getChangeSetComment()},console.log({config:r.config,user_info:r.user_info,changeset:r.changeset}),{config:r.config,user_info:r.user_info,changeset:r.changeset}});return function(s){return i.apply(this,arguments)}}()))}loadAppVersion(){var t=this;return(0,oo.Z)(function*(){t.appVersion.appVersionNumber="1.7.0",console.log(t.appVersion)})()}getAppVersion(){return this.appVersion}getAppFullVersion(){return`${this.appVersion.appName} ${this.appVersion.appVersionNumber}${"develop"===this.appVersion.branch?"-dev":""} ${this.appVersion.platform||""}`}setMapMarginBuffer(t){this.config.mapMarginBuffer=t,this.localStorage.set("config",this.config)}getMapMarginBuffer(){return this.config.mapMarginBuffer}setLimitFeatures(t){this.config.limitFeatures=t,this.localStorage.set("config",this.config)}getLimitFeatures(){return this.config.limitFeatures}setChangeSetComment(t){this.config.changeSetComment=t,this.localStorage.set("config",this.config)}getChangeSetComment(){return this.config.changeSetComment}setLockMapHeading(t){this.config.lockMapHeading=t,this.localStorage.set("config",this.config)}getLockMapHeading(){return this.config.lockMapHeading}setFollowPosition(t){this.config.followPosition=t,this.localStorage.set("config",this.config)}getFollowPosition(){return this.config.followPosition}setDefaultPrimarykeyWindows(t){this.config.defaultPrimarykeyWindows=t,this.localStorage.set("config",this.config)}getDefaultPrimarykeyWindows(){return this.config.defaultPrimarykeyWindows}setBasemap(t){this.config.basemap=t,this.localStorage.set("config",this.config)}getBasemap(){return this.config.basemap}setFilterWayByArea(t){this.config.filterWayByArea=t,this.localStorage.set("config",this.config)}getFilterWayByArea(){return this.config.filterWayByArea}setFilterWayByLength(t){this.config.filterWayByLength=t,this.localStorage.set("config",this.config)}getFilterWayByLength(){return this.config.filterWayByLength}setUiLanguage(t){this.config.languageUi=t,this.translate.use(t),this.localStorage.set("config",this.config)}getUiLanguage(){return this.config.languageUi}setLanguageTags(t){this.config.languageTags=t,this.localStorage.set("config",this.config)}setCountryTags(t){this.config.countryTags=t,this.localStorage.set("config",this.config)}getOldTagsIcon(){return this.config.oldTagsIcon}setOldTagsIcon(t,r){this.config.oldTagsIcon={display:t,year:r},this.localStorage.set("config",this.config)}getDisplayFixmeIcon(){return this.config.displayFixmeIcon}setDisplayFixmeIcon(t){this.config.displayFixmeIcon=t,this.localStorage.set("config",this.config)}getAddSurveyDate(){return this.config.addSurveyDate}setAddSurveyDate(t){this.config.addSurveyDate=t,this.localStorage.set("config",this.config)}getCheckedKey(){return this.config.checkedKey}setCheckedKey(t){this.config.checkedKey=t,this.localStorage.set("config",this.config)}getDisplaySurveyCard(){return this.config.surveyCard.display}setDisplaySurveyCard(t){this.config.surveyCard.display=t,this.localStorage.set("config",this.config)}getSurveyCardYear(){return this.config.surveyCard.year}setSurveyCardYear(t){this.config.surveyCard.year=t,this.localStorage.set("config",this.config)}getIsDevServer(){return this.config.isDevServer}setIsSelectableLine(t){const r=["way_line","way_line_changed"];this.config.isSelectableLine=t,this.localStorage.set("config",this.config);let i=this.selecableLayers.filter(s=>!r.includes(s));t&&(i=[...i,...r]),this.selecableLayers=[...i]}setIsSelectablePolygon(t){const r=["way_fill","way_fill_changed"];this.config.isSelectablePolygon=t,this.localStorage.set("config",this.config);let i=this.selecableLayers.filter(s=>!r.includes(s));t&&(i=[...i,...r]),this.selecableLayers=[...i]}setIsDevServer(t){var r=this;return(0,oo.Z)(function*(){return r.config.isDevServer=t,yield r.localStorage.set("config",r.config),yield r.localStorage.remove("geojson"),yield r.localStorage.remove("geojsonBbox"),yield r.localStorage.remove("user_info"),yield r.localStorage.remove("geojsonChanged"),t})()}setPasswordSaved(t){this.config.passwordSaved=t,this.localStorage.set("config",this.config)}setCenterWhenGpsIsReady(t){this.config.centerWhenGpsIsReady=t,this.localStorage.set("config",this.config)}setLastView(t){this.config.lastView=t,this.localStorage.set("config",this.config)}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Sg),tr(Ap),tr(Tm),tr(Td))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_h=(()=>{class e{constructor(t,r,i){this.http=t,this.localStorage=r,this.configService=i,this.bookmarksIds=[],this.savedFields={},this.primaryKeys=[],this.presets={},this.defaultHiddenTagsIds=["highway/pedestrian_area","highway/footway","highway/motorway","highway/trunk","highway/trunk_link","highway/primary","highway/primary_link","highway/secondary","highway/secondary_link","highway/tertiary","highway/tertiary_link","highway/unclassified","highway/residential","highway/service","highway/service/alley","highway/motorway_link","highway/living_street","highway/track","highway/bus_guideway","highway/road","highway/bridleway","highway/path","highway/cycleway","highway/construction","highway/steps","highway/motorway_junction","highway/corridor","highway/pedestrian_line","highway/cycleway/bicycle_foot","highway/footway/crossing","highway/service/parking_aisle","highway/service/driveway","highway/path/informal","highway/stop","highway/turning_circle","railway/platform","railway/abandoned","railway/construction","railway/disused","railway/funicular","railway/light_rail","railway/miniature","railway/monorail","railway/narrow_gauge","railway/rail","railway/rail/highspeed","railway/subway","railway/tram","railway/tram_level_crossing","railway/tram_crossing","railway/railway_crossing","barrier/kerb","barrier/kerb/flush","barrier/kerb/lowered","barrier/kerb/raised","barrier/kerb/rolled","natural/grassland","natural/wood","natural/bare_rock","natural/cliff","natural/shingle","natural/coastline","waterway/riverbank","waterway/canal","waterway/canal/lock","waterway/ditch","waterway/drain","waterway/fish_pass","waterway/river","waterway/stream_intermittent","waterway/stream","waterway/tidal_channel","man_made/bridge","building/yes","building/train_station","building/apartments","building/barn","building/boathouse","building/bungalow","building/cabin","building/carport","building/cathedral","building/chapel","building/church","building/civic","building/college","building/commercial","building/construction","building/detached","building/dormitory","building/farm_auxiliary","building/farm","building/garage","building/garages","building/grandstand","building/greenhouse","building/hangar","building/hospital","building/hotel","building/house","building/houseboat","building/hut","building/industrial","building/kindergarten","building/mosque","building/pavilion","building/public","building/residential","building/retail","building/roof","building/ruins","building/school","building/semidetached_house","building/service","building/shed","building/stable","building/stadium","building/static_caravan","building/temple","building/terrace","building/transportation","building/university","building/warehouse","building/office"]}getTagConfigFromTagsID(t){return this.tags.filter(r=>t.includes(r.id))}setBookMarksIds(t){this.localStorage.set("bookmarksIds",t),this.bookmarksIds=t}setLastTagsUsedIds(t){this.localStorage.set("lastTagsUsedIds",t),this.lastTagsUsedIds=t}removeBookMark(t){this.bookmarksIds=this.bookmarksIds.filter(r=>r!==t.id),this.setBookMarksIds(this.bookmarksIds)}addBookMark(t){if(this.bookmarksIds.includes(t.id))return;let r=this.tags.find(i=>i.id===t.id);return r||this.addUserTags(t),this.bookmarksIds=[t.id,...this.bookmarksIds],this.setBookMarksIds(this.bookmarksIds),r}loadBookMarksIds$(){return It(this.localStorage.get("bookmarksIds")).pipe(un(t=>(this.bookmarksIds=t=t||[],t)))}loadHiddenTagsIds$(){return It(this.localStorage.get("hiddenTagsIds")).pipe(un(t=>(t=t||[...this.defaultHiddenTagsIds],this.hiddenTagsIds=t,t)))}setHiddenTagsIds(t){this.localStorage.set("hiddenTagsIds",t),this.hiddenTagsIds=t}removeHiddenTag(t){if(!t.id)return;const r=this.hiddenTagsIds.filter(i=>i!==t.id);this.setHiddenTagsIds(r)}addHiddenTag(t){if(t.id&&!this.hiddenTagsIds.includes(t.id)){const r=[t.id,...this.hiddenTagsIds];this.setHiddenTagsIds(r),this.removeBookMark(t)}}resetHiddenTags(){const t=[...this.defaultHiddenTagsIds];this.setHiddenTagsIds(t)}removeAllHiddenTags(){this.setHiddenTagsIds([])}loadLastTagsUsedIds$(){return It(this.localStorage.get("lastTagsUsedIds")).pipe(un(t=>(this.lastTagsUsedIds=t=t||[],t)))}addTagTolastTagsUsed(t){if(!t)return;this.lastTagsUsedIds.includes(t)&&(this.lastTagsUsedIds=this.lastTagsUsedIds.filter(i=>i!==t));let r=this.tags.find(i=>i.id===t);return r?(this.lastTagsUsedIds=[t,...this.lastTagsUsedIds].slice(0,20),this.setLastTagsUsedIds(this.lastTagsUsedIds),r):void 0}loadUserTags$(){return It(this.localStorage.get("userTags")).pipe(un(t=>(this.userTags=t=t||[],t)))}setUserTags(t){this.localStorage.set("userTags",t),this.userTags=t}addUserTags(t){const r=t.id;this.userTags.find(i=>i.id===r)||(t.geometry=["point","vertex","line","area"],t.icon="maki-circle-custom",t.markerColor="#000000",this.userTags=[...this.userTags,t],this.tags=[...this.tags,t],this.setUserTags(this.userTags))}loadSavedFields$(){return It(this.localStorage.get("savedFields")).pipe(un(t=>{const r=t||{};return this.savedFields=r,r}))}addSavedField(t,r){this.savedFields[t]||(this.savedFields[t]={}),this.savedFields[t].tags=r,this.localStorage.set("savedFields",this.savedFields)}findPkey(t){const r=this.primaryKeys;if(!Array.isArray(t)&&t.properties&&t.properties.tags)for(let i in t.properties.tags)return r.includes(i)?{key:i,value:t.properties.tags[i]}:void 0;else if(Array.isArray(t)){for(let i of t)if(r.includes(i.key))return{key:i.key,value:i.value};return}}getTagsConfig$(){return this.http.get("assets/tagsAndPresets/tags.json").pipe(un(t=>(this.primaryKeys=t.primaryKeys,t)))}loadPresets$(){return this.http.get("assets/tagsAndPresets/presets.json").pipe(un(t=>{const r=t;for(const i in r)r[i]._id=i;return this.presets=r,r}))}loadJsonSprites$(){const r=1==(window.devicePixelRatio>1?2:1)?"assets/mapStyle/sprites/sprites.json":"assets/mapStyle/sprites/sprites@2x.json";return this.http.get(r).pipe(un(i=>(this.jsonSprites=i,i)))}loadTags$(){return Sx(this.getTagsConfig$(),this.loadUserTags$()).pipe(un(([t,r])=>{let i=[...t.tags,...r];return this.tags=i,i}))}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Tm),tr(Sg),tr(mc))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),FK=(()=>{class e{constructor(t,r,i,s,a,h){this.platform=t,this.configService=r,this.translate=i,this.tagService=s,this.storage=a,this.router=h,this.initializeApp()}ngAfterViewInit(){iK.hide()}initializeApp(){var t=this;return(0,oo.Z)(function*(){yield t.storage.create(),t.platform.ready().then(()=>{ry.dV.isPluginAvailable("App")&&rK.addListener("appUrlOpen",r=>{if(console.log("appUrlOpen"),r.url.includes("osmgo://auth")){const i=r.url.split("?");i.length>1&&t.router.navigateByUrl("/callback?"+i[1])}})}),t.translate.setDefaultLang("en"),t.configService.platforms=t.platform.platforms(),t.configService.deviceInfo=yield nK.getInfo(),yield t.configService.loadAppVersion()})()}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(Ap),Oe(mc),Oe(Td),Oe(_h),Oe(Sg),Oe(pc))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&(lt(0,"ion-app"),Tr(1,"ion-router-outlet"),ct())},dependencies:[KF,G1],encapsulation:2})}return e})();class BK extends O{constructor(n,t){super()}schedule(n,t=0){return this}}const Gx={setInterval(e,n,...t){const{delegate:r}=Gx;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=Gx;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class Q1{constructor(n,t=Q1.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Q1.now=OC.now;const Wx=new class zK extends Q1{constructor(n,t=Q1.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class YK extends BK{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return Gx.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Gx.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,p(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}),jK=Wx;function sy(e=0,n,t=jK){let r=-1;return null!=n&&(no(n)?t=n:r=n),new et(i=>{let s=function HK(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},s)})}var _c=X(6990),qd=6371008.8,F3={centimeters:100*qd,centimetres:100*qd,degrees:qd/111325,feet:3.28084*qd,inches:39.37*qd,kilometers:qd/1e3,kilometres:qd/1e3,meters:qd,metres:qd,miles:qd/1609.344,millimeters:1e3*qd,millimetres:1e3*qd,nauticalmiles:qd/1852,radians:1,yards:1.0936*qd};function Eg(e,n,t){void 0===t&&(t={});var r={type:"Feature"};return(0===t.id||t.id)&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.properties=n||{},r.geometry=e,r}function oy(e,n,t){if(void 0===t&&(t={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!VC(e[0])||!VC(e[1]))throw new Error("coordinates must contain numbers");return Eg({type:"Point",coordinates:e},n,t)}function qx(e,n,t){void 0===t&&(t={});for(var r=0,i=e;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return Eg({type:"Polygon",coordinates:e},n,t)}function Uh(e,n){void 0===n&&(n={});var t={type:"FeatureCollection"};return n.id&&(t.id=n.id),n.bbox&&(t.bbox=n.bbox),t.features=e,t}function $C(e){return e%(2*Math.PI)*180/Math.PI}function UC(e){return e%360*Math.PI/180}function VC(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function ew(e,n,t){if(null!==e)for(var r,i,s,a,h,m,y,F,C=0,L=0,j=e.type,fe="FeatureCollection"===j,we="Feature"===j,qe=fe?e.features.length:1,Ue=0;Ue<qe;Ue++){h=(F=!!(y=fe?e.features[Ue].geometry:we?e.geometry:e)&&"GeometryCollection"===y.type)?y.geometries.length:1;for(var Ae=0;Ae<h;Ae++){var je=0,Dt=0;if(null!==(a=F?y.geometries[Ae]:y)){m=a.coordinates;var Ht=a.type;switch(C=!t||"Polygon"!==Ht&&"MultiPolygon"!==Ht?0:1,Ht){case null:break;case"Point":if(!1===n(m,L,Ue,je,Dt))return!1;L++,je++;break;case"LineString":case"MultiPoint":for(r=0;r<m.length;r++){if(!1===n(m[r],L,Ue,je,Dt))return!1;L++,"MultiPoint"===Ht&&je++}"LineString"===Ht&&je++;break;case"Polygon":case"MultiLineString":for(r=0;r<m.length;r++){for(i=0;i<m[r].length-C;i++){if(!1===n(m[r][i],L,Ue,je,Dt))return!1;L++}"MultiLineString"===Ht&&je++,"Polygon"===Ht&&Dt++}"Polygon"===Ht&&je++;break;case"MultiPolygon":for(r=0;r<m.length;r++){for(Dt=0,i=0;i<m[r].length;i++){for(s=0;s<m[r][i].length-C;s++){if(!1===n(m[r][i][s],L,Ue,je,Dt))return!1;L++}Dt++}je++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===ew(a.geometries[r],n,t))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Xx(e,n){!function z3(e,n){var t,r,i,s,a,h,m,y,C,L,F=0,j="FeatureCollection"===e.type,fe="Feature"===e.type,we=j?e.features.length:1;for(t=0;t<we;t++){for(y=j?e.features[t].properties:fe?e.properties:{},C=j?e.features[t].bbox:fe?e.bbox:void 0,L=j?e.features[t].id:fe?e.id:void 0,a=(m=!!(h=j?e.features[t].geometry:fe?e.geometry:e)&&"GeometryCollection"===h.type)?h.geometries.length:1,i=0;i<a;i++)if(null!==(s=m?h.geometries[i]:h))switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(s,F,y,C,L))return!1;break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===n(s.geometries[r],F,y,C,L))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,F,y,C,L))return!1;F++}}(e,function(t,r,i,s,a){var m,h=null===t?null:t.type;switch(h){case null:case"Point":case"LineString":case"Polygon":return!1!==n(Eg(t,i,{bbox:s,id:a}),r,0)&&void 0}switch(h){case"MultiPoint":m="Point";break;case"MultiLineString":m="LineString";break;case"MultiPolygon":m="Polygon"}for(var y=0;y<t.coordinates.length;y++)if(!1===n(Eg({type:m,coordinates:t.coordinates[y]},i),r,y))return!1})}function GC(e){var n=[1/0,1/0,-1/0,-1/0];return ew(e,function(t){n[0]>t[0]&&(n[0]=t[0]),n[1]>t[1]&&(n[1]=t[1]),n[2]<t[0]&&(n[2]=t[0]),n[3]<t[1]&&(n[3]=t[1])}),n}GC.default=GC;const KK=GC;function j3(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function WC(e,n,t){if(void 0===t&&(t={}),!e)throw new Error("point is required");if(!n)throw new Error("polygon is required");var r=j3(e),i=function eJ(e){return"Feature"===e.type?e.geometry:e}(n),s=i.type,a=n.bbox,h=i.coordinates;if(a&&!1===function tJ(e,n){return n[0]<=e[0]&&n[1]<=e[1]&&n[2]>=e[0]&&n[3]>=e[1]}(r,a))return!1;"Polygon"===s&&(h=[h]);for(var m=!1,y=0;y<h.length&&!m;y++)if(H3(r,h[y][0],t.ignoreBoundary)){for(var C=!1,L=1;L<h[y].length&&!C;)H3(r,h[y][L],!t.ignoreBoundary)&&(C=!0),L++;C||(m=!0)}return m}function H3(e,n,t){var r=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var i=0,s=n.length-1;i<n.length;s=i++){var a=n[i][0],h=n[i][1],m=n[s][0],y=n[s][1];if(e[1]*(a-m)+h*(m-e[0])+y*(e[0]-a)==0&&(a-e[0])*(m-e[0])<=0&&(h-e[1])*(y-e[1])<=0)return!t;h>e[1]!=y>e[1]&&e[0]<(m-a)*(e[1]-h)/(y-h)+a&&(r=!r)}return r}function W3(e,n){void 0===n&&(n={});var t=Number(e[0]),r=Number(e[1]),i=Number(e[2]),s=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[t,r];return qx([[a,[i,r],[i,s],[t,s],a]],n.properties,{bbox:e,id:n.id})}function Z3(e,n){const t=e.properties.configId,r=`${e.properties.primaryTag.key}/${e.properties.primaryTag.value}`,i=e.properties.tags;let s=0,a={exact:void 0,presets:[],moreFields:[]};for(let h of n){const m=h.id;if(t)t.includes(m)&&(h.presets&&(a.presets=[...a.presets,...h.presets]),h.moreFields&&(a.moreFields=[...a.moreFields,...h.moreFields])),t==m&&(a.exact=h);else{if(!m.includes(r))continue;let y=0;for(let C in h.tags)!i[C]||i[C]!==h.tags[C]||y++;y==Object.keys(h.tags).length&&(h.presets&&(a.presets=[...a.presets,...h.presets]),h.moreFields&&(a.moreFields=[...a.moreFields,...h.moreFields]),y>s&&(a.exact=h,s=y))}}if(a.exact){let h=JSON.parse(JSON.stringify(a.exact));return h.presets=a.presets,h.moreFields=a.moreFields,h}{const h=e.properties.primaryTag.k?"k":"key",m=e.properties.primaryTag.k?"v":"value",C={key:e.properties.primaryTag[h],icon:"wiki-question",markerColor:"#000000",lbl:{en:`${e.properties.primaryTag[h]} = ${e.properties.primaryTag[m]}`},presets:[],geometry:[],tags:{},id:`${e.properties.primaryTag[h]}/${e.properties.primaryTag[m]}`,unknowTags:!0};return C.tags[e.properties.primaryTag[h]]=e.properties.primaryTag[m],C}}function Dm(e){e.properties.tags.name?e.properties._name=e.properties.tags.name:e.properties.tags.ref&&(e.properties._name=e.properties.tags.ref),e.properties.meta.timestamp&&(e.properties.time=new Date(e.properties.meta.timestamp).getTime()),e.properties.tags.fixme&&(e.properties.fixme=!0)}X(8510),X(4772),X(3664);var r4=new ArrayBuffer(16);new Float64Array(r4),new Uint32Array(r4),X(7861),function(){function e(n){this.points=n.points||[],this.duration=n.duration||1e4,this.sharpness=n.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=n.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var r=this.points[t],i=this.points[t+1];this.centers.push({x:(r.x+i.x)/2,y:(r.y+i.y)/2,z:(r.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var s=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,a=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,h=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+s),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+h)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+s),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+a),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+h)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}e.prototype.cacheSteps=function(n){var t=[],r=this.pos(0);t.push(0);for(var i=0;i<this.duration;i+=10){var s=this.pos(i);Math.sqrt((s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y)+(s.z-r.z)*(s.z-r.z))>n&&(t.push(i),r=s)}return t},e.prototype.vector=function(n){var t=this.pos(n+10),r=this.pos(n-10);return{angle:180*Math.atan2(t.y-r.y,t.x-r.x)/3.14,speed:Math.sqrt((r.x-t.x)*(r.x-t.x)+(r.y-t.y)*(r.y-t.y)+(r.z-t.z)*(r.z-t.z))}},e.prototype.pos=function(n){var t=n-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var r=t/this.duration;if(r>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*r);return function AJ(e,n,t,r,i){var s=function PJ(e){var n=e*e;return[n*e,3*n*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:i.x*s[0]+r.x*s[1]+t.x*s[2]+n.x*s[3],y:i.y*s[0]+r.y*s[1]+t.y*s[2]+n.y*s[3],z:i.z*s[0]+r.z*s[1]+t.z*s[2]+n.z*s[3]}}((this.length-1)*r-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])}}();function u4(e,n,t,r){void 0===r&&(r={});var i=j3(e),s=UC(i[0]),a=UC(i[1]),h=UC(t),m=function HC(e,n){void 0===n&&(n="kilometers");var t=F3[n];if(!t)throw new Error(n+" units is invalid");return e/t}(n,r.units),y=Math.asin(Math.sin(a)*Math.cos(m)+Math.cos(a)*Math.sin(m)*Math.cos(h));return oy([$C(s+Math.atan2(Math.sin(h)*Math.sin(m)*Math.cos(a),Math.cos(m)-Math.sin(a)*Math.sin(y))),$C(y)],r.properties)}X(9145),X(5665);var _4=Math.PI/180,y4=180/Math.PI,rw=function(e,n){this.lon=e,this.lat=n,this.x=_4*e,this.y=_4*n};rw.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},rw.prototype.antipode=function(){return new rw(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var v4=function(){this.coords=[],this.length=0};v4.prototype.move_to=function(e){this.length++,this.coords.push(e)};var nD=function(e){this.properties=e||{},this.geometries=[]};nD.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],n=0;n<this.geometries.length;n++)e.push(this.geometries[n].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},nD.prototype.wkt=function(){for(var e="",n="LINESTRING(",t=function(s){n+=s[0]+" "+s[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(t),e+=n.substring(0,n.length-1)+")"}return e};var rD=function(e,n,t){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new rw(e.x,e.y),this.end=new rw(n.x,n.y),this.properties=t||{};var r=this.start.x-this.end.x,s=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(s)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+n.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+n)};rD.prototype.interpolate=function(e){var n=Math.sin((1-e)*this.g)/Math.sin(this.g),t=Math.sin(e*this.g)/Math.sin(this.g),r=n*Math.cos(this.start.y)*Math.cos(this.start.x)+t*Math.cos(this.end.y)*Math.cos(this.end.x),i=n*Math.cos(this.start.y)*Math.sin(this.start.x)+t*Math.cos(this.end.y)*Math.sin(this.end.x),s=n*Math.sin(this.start.y)+t*Math.sin(this.end.y),a=y4*Math.atan2(s,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[y4*Math.atan2(i,r),a]},rD.prototype.Arc=function(e,n){var t=[];if(!e||e<=2)t.push([this.start.lon,this.start.lat]),t.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),i=0;i<e;++i){var a=this.interpolate(r*i);t.push(a)}for(var h=!1,m=0,y=n&&n.offset?n.offset:10,C=180-y,L=-180+y,F=360-y,j=1;j<t.length;++j){var fe=t[j-1][0],we=t[j][0],qe=Math.abs(we-fe);qe>F&&(we>C&&fe<L||fe>C&&we<L)?h=!0:qe>m&&(m=qe)}var Ue=[];if(h&&m<y){var Ae=[];Ue.push(Ae);for(var je=0;je<t.length;++je){var Dt=parseFloat(t[je][0]);if(je>0&&Math.abs(Dt-t[je-1][0])>F){var Ht=parseFloat(t[je-1][0]),Kt=parseFloat(t[je-1][1]),tn=parseFloat(t[je][0]),Tn=parseFloat(t[je][1]);if(Ht>-180&&Ht<L&&180===tn&&je+1<t.length&&t[je-1][0]>-180&&t[je-1][0]<L){Ae.push([-180,t[je][1]]),je++,Ae.push([t[je][0],t[je][1]]);continue}if(Ht>C&&Ht<180&&-180===tn&&je+1<t.length&&t[je-1][0]>C&&t[je-1][0]<180){Ae.push([180,t[je][1]]),je++,Ae.push([t[je][0],t[je][1]]);continue}if(Ht<L&&tn>C){var Ut=Ht;Ht=tn,tn=Ut;var Ii=Kt;Kt=Tn,Tn=Ii}if(Ht>C&&tn<L&&(tn+=360),Ht<=180&&tn>=180&&Ht<tn){var Si=(180-Ht)/(tn-Ht),as=Si*Tn+(1-Si)*Kt;Ae.push([t[je-1][0]>C?180:-180,as]),(Ae=[]).push([t[je-1][0]>C?-180:180,as]),Ue.push(Ae)}else Ue.push(Ae=[]);Ae.push([Dt,t[je][1]])}else Ae.push([t[je][0],t[je][1]])}}else{var As=[];Ue.push(As);for(var Jr=0;Jr<t.length;++Jr)As.push([t[Jr][0],t[Jr][1]])}for(var ls=new nD(this.properties),cr=0;cr<Ue.length;++cr){var fi=new v4;ls.geometries.push(fi);for(var bi=Ue[cr],Bi=0;Bi<bi.length;++Bi)fi.move_to(bi[Bi])}return ls},X(3970);var zo=[],jo=[],Ho=[],$o=[],Uo=[],Vo=[],Go=[],Wo=[],qo=[],Xo=[],Zo=[],Ko=[],Jo=[],Qo=[],ea=[],ta=[],na=[],ra=[],ia=[],sa=[],oa=[],aa=[],la=[],ua=[];Go[85]=Xo[85]=-1,Wo[85]=Zo[85]=0,qo[85]=Ko[85]=1,ia[85]=aa[85]=1,sa[85]=la[85]=0,oa[85]=ua[85]=1,zo[85]=$o[85]=0,jo[85]=Uo[85]=-1,Ho[85]=ea[85]=0,ta[85]=Jo[85]=0,na[85]=Qo[85]=1,Vo[85]=ra[85]=1,aa[1]=aa[169]=0,la[1]=la[169]=-1,ua[1]=ua[169]=0,Jo[1]=Jo[169]=-1,Qo[1]=Qo[169]=0,ea[1]=ea[169]=0,Xo[4]=Xo[166]=0,Zo[4]=Zo[166]=-1,Ko[4]=Ko[166]=1,ta[4]=ta[166]=1,na[4]=na[166]=0,ra[4]=ra[166]=0,Go[16]=Go[154]=0,Wo[16]=Wo[154]=1,qo[16]=qo[154]=1,$o[16]=$o[154]=1,Uo[16]=Uo[154]=0,Vo[16]=Vo[154]=1,ia[64]=ia[106]=0,sa[64]=sa[106]=1,oa[64]=oa[106]=0,zo[64]=zo[106]=-1,jo[64]=jo[106]=0,Ho[64]=Ho[106]=1,ia[2]=ia[168]=0,sa[2]=sa[168]=-1,oa[2]=oa[168]=1,aa[2]=aa[168]=0,la[2]=la[168]=-1,ua[2]=ua[168]=0,Jo[2]=Jo[168]=-1,Qo[2]=Qo[168]=0,ea[2]=ea[168]=0,ta[2]=ta[168]=-1,na[2]=na[168]=0,ra[2]=ra[168]=1,Go[8]=Go[162]=0,Wo[8]=Wo[162]=-1,qo[8]=qo[162]=0,Xo[8]=Xo[162]=0,Zo[8]=Zo[162]=-1,Ko[8]=Ko[162]=1,Jo[8]=Jo[162]=1,Qo[8]=Qo[162]=0,ea[8]=ea[162]=1,ta[8]=ta[162]=1,na[8]=na[162]=0,ra[8]=ra[162]=0,Go[32]=Go[138]=0,Wo[32]=Wo[138]=1,qo[32]=qo[138]=1,Xo[32]=Xo[138]=0,Zo[32]=Zo[138]=1,Ko[32]=Ko[138]=0,zo[32]=zo[138]=1,jo[32]=jo[138]=0,Ho[32]=Ho[138]=0,$o[32]=$o[138]=1,Uo[32]=Uo[138]=0,Vo[32]=Vo[138]=1,aa[128]=aa[42]=0,la[128]=la[42]=1,ua[128]=ua[42]=1,ia[128]=ia[42]=0,sa[128]=sa[42]=1,oa[128]=oa[42]=0,zo[128]=zo[42]=-1,jo[128]=jo[42]=0,Ho[128]=Ho[42]=1,$o[128]=$o[42]=-1,Uo[128]=Uo[42]=0,Vo[128]=Vo[42]=0,Xo[5]=Xo[165]=-1,Zo[5]=Zo[165]=0,Ko[5]=Ko[165]=0,aa[5]=aa[165]=1,la[5]=la[165]=0,ua[5]=ua[165]=0,ta[20]=ta[150]=0,na[20]=na[150]=1,ra[20]=ra[150]=1,$o[20]=$o[150]=0,Uo[20]=Uo[150]=-1,Vo[20]=Vo[150]=1,Go[80]=Go[90]=-1,Wo[80]=Wo[90]=0,qo[80]=qo[90]=1,ia[80]=ia[90]=1,sa[80]=sa[90]=0,oa[80]=oa[90]=1,Jo[65]=Jo[105]=0,Qo[65]=Qo[105]=1,ea[65]=ea[105]=0,zo[65]=zo[105]=0,jo[65]=jo[105]=-1,Ho[65]=Ho[105]=0,Go[160]=Go[10]=-1,Wo[160]=Wo[10]=0,qo[160]=qo[10]=1,Xo[160]=Xo[10]=-1,Zo[160]=Zo[10]=0,Ko[160]=Ko[10]=0,aa[160]=aa[10]=1,la[160]=la[10]=0,ua[160]=ua[10]=0,ia[160]=ia[10]=1,sa[160]=sa[10]=0,oa[160]=oa[10]=1,ta[130]=ta[40]=0,na[130]=na[40]=1,ra[130]=ra[40]=1,Jo[130]=Jo[40]=0,Qo[130]=Qo[40]=1,ea[130]=ea[40]=0,zo[130]=zo[40]=0,jo[130]=jo[40]=-1,Ho[130]=Ho[40]=0,$o[130]=$o[40]=0,Uo[130]=Uo[40]=-1,Vo[130]=Vo[40]=1,Xo[37]=Xo[133]=0,Zo[37]=Zo[133]=1,Ko[37]=Ko[133]=1,aa[37]=aa[133]=0,la[37]=la[133]=1,ua[37]=ua[133]=0,zo[37]=zo[133]=-1,jo[37]=jo[133]=0,Ho[37]=Ho[133]=0,$o[37]=$o[133]=1,Uo[37]=Uo[133]=0,Vo[37]=Vo[133]=0,ta[148]=ta[22]=-1,na[148]=na[22]=0,ra[148]=ra[22]=0,aa[148]=aa[22]=0,la[148]=la[22]=-1,ua[148]=ua[22]=1,ia[148]=ia[22]=0,sa[148]=sa[22]=1,oa[148]=oa[22]=1,$o[148]=$o[22]=-1,Uo[148]=Uo[22]=0,Vo[148]=Vo[22]=1,Go[82]=Go[88]=0,Wo[82]=Wo[88]=-1,qo[82]=qo[88]=1,ta[82]=ta[88]=1,na[82]=na[88]=0,ra[82]=ra[88]=1,Jo[82]=Jo[88]=-1,Qo[82]=Qo[88]=0,ea[82]=ea[88]=1,ia[82]=ia[88]=0,sa[82]=sa[88]=-1,oa[82]=oa[88]=0,Go[73]=Go[97]=0,Wo[73]=Wo[97]=1,qo[73]=qo[97]=0,Xo[73]=Xo[97]=0,Zo[73]=Zo[97]=-1,Ko[73]=Ko[97]=0,Jo[73]=Jo[97]=1,Qo[73]=Qo[97]=0,ea[73]=ea[97]=0,zo[73]=zo[97]=1,jo[73]=jo[97]=0,Ho[73]=Ho[97]=1,Go[145]=Go[25]=0,Wo[145]=Wo[25]=-1,qo[145]=qo[25]=0,Jo[145]=Jo[25]=1,Qo[145]=Qo[25]=0,ea[145]=ea[25]=1,aa[145]=aa[25]=0,la[145]=la[25]=1,ua[145]=ua[25]=1,$o[145]=$o[25]=-1,Uo[145]=Uo[25]=0,Vo[145]=Vo[25]=0,Xo[70]=Xo[100]=0,Zo[70]=Zo[100]=1,Ko[70]=Ko[100]=0,ta[70]=ta[100]=-1,na[70]=na[100]=0,ra[70]=ra[100]=1,ia[70]=ia[100]=0,sa[70]=sa[100]=-1,oa[70]=oa[100]=1,zo[70]=zo[100]=1,jo[70]=jo[100]=0,Ho[70]=Ho[100]=0,Xo[101]=Xo[69]=0,Zo[101]=Zo[69]=1,Ko[101]=Ko[69]=0,zo[101]=zo[69]=1,jo[101]=jo[69]=0,Ho[101]=Ho[69]=0,aa[149]=aa[21]=0,la[149]=la[21]=1,ua[149]=ua[21]=1,$o[149]=$o[21]=-1,Uo[149]=Uo[21]=0,Vo[149]=Vo[21]=0,ta[86]=ta[84]=-1,na[86]=na[84]=0,ra[86]=ra[84]=1,ia[86]=ia[84]=0,sa[86]=sa[84]=-1,oa[86]=oa[84]=1,Go[89]=Go[81]=0,Wo[89]=Wo[81]=-1,qo[89]=qo[81]=0,Jo[89]=Jo[81]=1,Qo[89]=Qo[81]=0,ea[89]=ea[81]=1,Go[96]=Go[74]=0,Wo[96]=Wo[74]=1,qo[96]=qo[74]=0,Xo[96]=Xo[74]=-1,Zo[96]=Zo[74]=0,Ko[96]=Ko[74]=1,ia[96]=ia[74]=1,sa[96]=sa[74]=0,oa[96]=oa[74]=0,zo[96]=zo[74]=1,jo[96]=jo[74]=0,Ho[96]=Ho[74]=1,Go[24]=Go[146]=0,Wo[24]=Wo[146]=-1,qo[24]=qo[146]=1,ta[24]=ta[146]=1,na[24]=na[146]=0,ra[24]=ra[146]=1,Jo[24]=Jo[146]=0,Qo[24]=Qo[146]=1,ea[24]=ea[146]=1,$o[24]=$o[146]=0,Uo[24]=Uo[146]=-1,Vo[24]=Vo[146]=0,Xo[6]=Xo[164]=-1,Zo[6]=Zo[164]=0,Ko[6]=Ko[164]=1,ta[6]=ta[164]=-1,na[6]=na[164]=0,ra[6]=ra[164]=0,aa[6]=aa[164]=0,la[6]=la[164]=-1,ua[6]=ua[164]=1,ia[6]=ia[164]=1,sa[6]=sa[164]=0,oa[6]=oa[164]=0,Jo[129]=Jo[41]=0,Qo[129]=Qo[41]=1,ea[129]=ea[41]=1,aa[129]=aa[41]=0,la[129]=la[41]=1,ua[129]=ua[41]=0,zo[129]=zo[41]=-1,jo[129]=jo[41]=0,Ho[129]=Ho[41]=0,$o[129]=$o[41]=0,Uo[129]=Uo[41]=-1,Vo[129]=Vo[41]=0,ta[66]=ta[104]=0,na[66]=na[104]=1,ra[66]=ra[104]=0,Jo[66]=Jo[104]=-1,Qo[66]=Qo[104]=0,ea[66]=ea[104]=1,ia[66]=ia[104]=0,sa[66]=sa[104]=-1,oa[66]=oa[104]=0,zo[66]=zo[104]=0,jo[66]=jo[104]=-1,Ho[66]=Ho[104]=1,Go[144]=Go[26]=-1,Wo[144]=Wo[26]=0,qo[144]=qo[26]=0,aa[144]=aa[26]=1,la[144]=la[26]=0,ua[144]=ua[26]=1,ia[144]=ia[26]=0,sa[144]=sa[26]=1,oa[144]=oa[26]=1,$o[144]=$o[26]=-1,Uo[144]=Uo[26]=0,Vo[144]=Vo[26]=1,Xo[36]=Xo[134]=0,Zo[36]=Zo[134]=1,Ko[36]=Ko[134]=1,ta[36]=ta[134]=0,na[36]=na[134]=1,ra[36]=ra[134]=0,zo[36]=zo[134]=0,jo[36]=jo[134]=-1,Ho[36]=Ho[134]=1,$o[36]=$o[134]=1,Uo[36]=Uo[134]=0,Vo[36]=Vo[134]=0,Go[9]=Go[161]=-1,Wo[9]=Wo[161]=0,qo[9]=qo[161]=0,Xo[9]=Xo[161]=0,Zo[9]=Zo[161]=-1,Ko[9]=Ko[161]=0,Jo[9]=Jo[161]=1,Qo[9]=Qo[161]=0,ea[9]=ea[161]=0,aa[9]=aa[161]=1,la[9]=la[161]=0,ua[9]=ua[161]=1,Go[136]=0,Wo[136]=1,qo[136]=1,Xo[136]=0,Zo[136]=1,Ko[136]=0,ta[136]=-1,na[136]=0,ra[136]=1,Jo[136]=-1,Qo[136]=0,ea[136]=0,aa[136]=0,la[136]=-1,ua[136]=0,ia[136]=0,sa[136]=-1,oa[136]=1,zo[136]=1,jo[136]=0,Ho[136]=0,$o[136]=1,Uo[136]=0,Vo[136]=1,Go[34]=0,Wo[34]=-1,qo[34]=0,Xo[34]=0,Zo[34]=-1,Ko[34]=1,ta[34]=1,na[34]=0,ra[34]=0,Jo[34]=1,Qo[34]=0,ea[34]=1,aa[34]=0,la[34]=1,ua[34]=1,ia[34]=0,sa[34]=1,oa[34]=0,zo[34]=-1,jo[34]=0,Ho[34]=1,$o[34]=-1,Uo[34]=0,Vo[34]=0,Go[35]=0,Wo[35]=1,qo[35]=1,Xo[35]=0,Zo[35]=-1,Ko[35]=1,ta[35]=1,na[35]=0,ra[35]=0,Jo[35]=-1,Qo[35]=0,ea[35]=0,aa[35]=0,la[35]=-1,ua[35]=0,ia[35]=0,sa[35]=1,oa[35]=0,zo[35]=-1,jo[35]=0,Ho[35]=1,$o[35]=1,Uo[35]=0,Vo[35]=1,Go[153]=0,Wo[153]=1,qo[153]=1,Jo[153]=-1,Qo[153]=0,ea[153]=0,aa[153]=0,la[153]=-1,ua[153]=0,$o[153]=1,Uo[153]=0,Vo[153]=1,Xo[102]=0,Zo[102]=-1,Ko[102]=1,ta[102]=1,na[102]=0,ra[102]=0,ia[102]=0,sa[102]=1,oa[102]=0,zo[102]=-1,jo[102]=0,Ho[102]=1,Go[155]=0,Wo[155]=-1,qo[155]=0,Jo[155]=1,Qo[155]=0,ea[155]=1,aa[155]=0,la[155]=1,ua[155]=1,$o[155]=-1,Uo[155]=0,Vo[155]=0,Xo[103]=0,Zo[103]=1,Ko[103]=0,ta[103]=-1,na[103]=0,ra[103]=1,ia[103]=0,sa[103]=-1,oa[103]=1,zo[103]=1,jo[103]=0,Ho[103]=0,Go[152]=0,Wo[152]=1,qo[152]=1,ta[152]=-1,na[152]=0,ra[152]=1,Jo[152]=-1,Qo[152]=0,ea[152]=0,aa[152]=0,la[152]=-1,ua[152]=0,ia[152]=0,sa[152]=-1,oa[152]=1,$o[152]=1,Uo[152]=0,Vo[152]=1,Go[156]=0,Wo[156]=-1,qo[156]=1,ta[156]=1,na[156]=0,ra[156]=1,Jo[156]=-1,Qo[156]=0,ea[156]=0,aa[156]=0,la[156]=-1,ua[156]=0,ia[156]=0,sa[156]=1,oa[156]=1,$o[156]=-1,Uo[156]=0,Vo[156]=1,Go[137]=0,Wo[137]=1,qo[137]=1,Xo[137]=0,Zo[137]=1,Ko[137]=0,Jo[137]=-1,Qo[137]=0,ea[137]=0,aa[137]=0,la[137]=-1,ua[137]=0,zo[137]=1,jo[137]=0,Ho[137]=0,$o[137]=1,Uo[137]=0,Vo[137]=1,Go[139]=0,Wo[139]=1,qo[139]=1,Xo[139]=0,Zo[139]=-1,Ko[139]=0,Jo[139]=1,Qo[139]=0,ea[139]=0,aa[139]=0,la[139]=1,ua[139]=0,zo[139]=-1,jo[139]=0,Ho[139]=0,$o[139]=1,Uo[139]=0,Vo[139]=1,Go[98]=0,Wo[98]=-1,qo[98]=0,Xo[98]=0,Zo[98]=-1,Ko[98]=1,ta[98]=1,na[98]=0,ra[98]=0,Jo[98]=1,Qo[98]=0,ea[98]=1,ia[98]=0,sa[98]=1,oa[98]=0,zo[98]=-1,jo[98]=0,Ho[98]=1,Go[99]=0,Wo[99]=1,qo[99]=0,Xo[99]=0,Zo[99]=-1,Ko[99]=1,ta[99]=1,na[99]=0,ra[99]=0,Jo[99]=-1,Qo[99]=0,ea[99]=1,ia[99]=0,sa[99]=-1,oa[99]=0,zo[99]=1,jo[99]=0,Ho[99]=1,Xo[38]=0,Zo[38]=-1,Ko[38]=1,ta[38]=1,na[38]=0,ra[38]=0,aa[38]=0,la[38]=1,ua[38]=1,ia[38]=0,sa[38]=1,oa[38]=0,zo[38]=-1,jo[38]=0,Ho[38]=1,$o[38]=-1,Uo[38]=0,Vo[38]=0,Xo[39]=0,Zo[39]=1,Ko[39]=1,ta[39]=-1,na[39]=0,ra[39]=0,aa[39]=0,la[39]=-1,ua[39]=1,ia[39]=0,sa[39]=1,oa[39]=0,zo[39]=-1,jo[39]=0,Ho[39]=1,$o[39]=1,Uo[39]=0,Vo[39]=0;var aD=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},lD=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},uD=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},cD=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},dD=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},hD=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},fD=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},pD=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Ui=[],$i=[],fs=[],ts=[],Bs=[],Os=[],ca=[],ma=[];ts[1]=Bs[1]=18,ts[169]=Bs[169]=18,fs[4]=$i[4]=12,fs[166]=$i[166]=12,Ui[16]=ma[16]=4,Ui[154]=ma[154]=4,Os[64]=ca[64]=22,Os[106]=ca[106]=22,fs[2]=Os[2]=17,ts[2]=Bs[2]=18,fs[168]=Os[168]=17,ts[168]=Bs[168]=18,Ui[8]=ts[8]=9,$i[8]=fs[8]=12,Ui[162]=ts[162]=9,$i[162]=fs[162]=12,Ui[32]=ma[32]=4,$i[32]=ca[32]=1,Ui[138]=ma[138]=4,$i[138]=ca[138]=1,Bs[128]=ma[128]=21,Os[128]=ca[128]=22,Bs[42]=ma[42]=21,Os[42]=ca[42]=22,$i[5]=Bs[5]=14,$i[165]=Bs[165]=14,fs[20]=ma[20]=6,fs[150]=ma[150]=6,Ui[80]=Os[80]=11,Ui[90]=Os[90]=11,ts[65]=ca[65]=3,ts[105]=ca[105]=3,Ui[160]=Os[160]=11,$i[160]=Bs[160]=14,Ui[10]=Os[10]=11,$i[10]=Bs[10]=14,fs[130]=ma[130]=6,ts[130]=ca[130]=3,fs[40]=ma[40]=6,ts[40]=ca[40]=3,$i[101]=ca[101]=1,$i[69]=ca[69]=1,Bs[149]=ma[149]=21,Bs[21]=ma[21]=21,fs[86]=Os[86]=17,fs[84]=Os[84]=17,Ui[89]=ts[89]=9,Ui[81]=ts[81]=9,Ui[96]=ca[96]=0,$i[96]=Os[96]=15,Ui[74]=ca[74]=0,$i[74]=Os[74]=15,Ui[24]=fs[24]=8,ts[24]=ma[24]=7,Ui[146]=fs[146]=8,ts[146]=ma[146]=7,$i[6]=Os[6]=15,fs[6]=Bs[6]=16,$i[164]=Os[164]=15,fs[164]=Bs[164]=16,ts[129]=ma[129]=7,Bs[129]=ca[129]=20,ts[41]=ma[41]=7,Bs[41]=ca[41]=20,fs[66]=ca[66]=2,ts[66]=Os[66]=19,fs[104]=ca[104]=2,ts[104]=Os[104]=19,Ui[144]=Bs[144]=10,Os[144]=ma[144]=23,Ui[26]=Bs[26]=10,Os[26]=ma[26]=23,$i[36]=ma[36]=5,fs[36]=ca[36]=2,$i[134]=ma[134]=5,fs[134]=ca[134]=2,Ui[9]=Bs[9]=10,$i[9]=ts[9]=13,Ui[161]=Bs[161]=10,$i[161]=ts[161]=13,$i[37]=ma[37]=5,Bs[37]=ca[37]=20,$i[133]=ma[133]=5,Bs[133]=ca[133]=20,fs[148]=Bs[148]=16,Os[148]=ma[148]=23,fs[22]=Bs[22]=16,Os[22]=ma[22]=23,Ui[82]=fs[82]=8,ts[82]=Os[82]=19,Ui[88]=fs[88]=8,ts[88]=Os[88]=19,Ui[73]=ca[73]=0,$i[73]=ts[73]=13,Ui[97]=ca[97]=0,$i[97]=ts[97]=13,Ui[145]=ts[145]=9,Bs[145]=ma[145]=21,Ui[25]=ts[25]=9,Bs[25]=ma[25]=21,$i[70]=ca[70]=1,fs[70]=Os[70]=17,$i[100]=ca[100]=1,fs[100]=Os[100]=17,Ui[34]=ts[34]=9,$i[34]=fs[34]=12,Bs[34]=ma[34]=21,Os[34]=ca[34]=22,Ui[136]=ma[136]=4,$i[136]=ca[136]=1,fs[136]=Os[136]=17,ts[136]=Bs[136]=18,Ui[35]=ma[35]=4,$i[35]=fs[35]=12,ts[35]=Bs[35]=18,Os[35]=ca[35]=22,Ui[153]=ma[153]=4,ts[153]=Bs[153]=18,$i[102]=fs[102]=12,Os[102]=ca[102]=22,Ui[155]=ts[155]=9,Bs[155]=ma[155]=23,$i[103]=ca[103]=1,fs[103]=Os[103]=17,Ui[152]=ma[152]=4,fs[152]=Os[152]=17,ts[152]=Bs[152]=18,Ui[156]=fs[156]=8,ts[156]=Bs[156]=18,Os[156]=ma[156]=23,Ui[137]=ma[137]=4,$i[137]=ca[137]=1,ts[137]=Bs[137]=18,Ui[139]=ma[139]=4,$i[139]=ts[139]=13,Bs[139]=ca[139]=20,Ui[98]=ts[98]=9,$i[98]=fs[98]=12,Os[98]=ca[98]=22,Ui[99]=ca[99]=0,$i[99]=fs[99]=12,ts[99]=Os[99]=19,$i[38]=fs[38]=12,Bs[38]=ma[38]=21,Os[38]=ca[38]=22,$i[39]=ma[39]=5,fs[39]=Bs[39]=16,Os[39]=ca[39]=22;var Pi=[];function _D(e,n,t){return function _ee(e){return(e>0)-(e<0)||+e}((n[0]-e[0])*(t[1]-n[1])-(t[0]-n[0])*(n[1]-e[1]))}function N4(e,n){return n.geometry.coordinates[0].every(function(t){return WC(oy(t),e)})}Pi[1]=Pi[169]=aD,Pi[4]=Pi[166]=lD,Pi[16]=Pi[154]=uD,Pi[64]=Pi[106]=cD,Pi[168]=Pi[2]=dD,Pi[162]=Pi[8]=hD,Pi[138]=Pi[32]=fD,Pi[42]=Pi[128]=pD,Pi[5]=Pi[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},Pi[20]=Pi[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},Pi[80]=Pi[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},Pi[65]=Pi[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Pi[160]=Pi[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},Pi[130]=Pi[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},Pi[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Pi[101]=Pi[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},Pi[149]=Pi[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},Pi[86]=Pi[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},Pi[89]=Pi[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},Pi[96]=Pi[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},Pi[24]=Pi[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},Pi[6]=Pi[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},Pi[129]=Pi[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},Pi[66]=Pi[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Pi[144]=Pi[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Pi[36]=Pi[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},Pi[9]=Pi[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},Pi[37]=Pi[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Pi[148]=Pi[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Pi[82]=Pi[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},Pi[73]=Pi[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Pi[145]=Pi[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Pi[70]=Pi[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Pi[34]=function(e){return[pD(e),hD(e)]},Pi[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Pi[136]=function(e){return[fD(e),dD(e)]},Pi[153]=function(e){return[uD(e),aD(e)]},Pi[102]=function(e){return[lD(e),cD(e)]},Pi[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Pi[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Pi[152]=function(e){return[uD(e),dD(e)]},Pi[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Pi[137]=function(e){return[fD(e),aD(e)]},Pi[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Pi[98]=function(e){return[hD(e),cD(e)]},Pi[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Pi[38]=function(e){return[lD(e),pD(e)]},Pi[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};const R4=function(){function e(n){this.id=e.buildId(n),this.coordinates=n,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(n){return n.join(",")},e.prototype.removeInnerEdge=function(n){this.innerEdges=this.innerEdges.filter(function(t){return t.from.id!==n.from.id})},e.prototype.removeOuterEdge=function(n){this.outerEdges=this.outerEdges.filter(function(t){return t.to.id!==n.to.id})},e.prototype.addOuterEdge=function(n){this.outerEdges.push(n),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var n=this;this.outerEdgesSorted||(this.outerEdges.sort(function(t,r){var i=t.to,s=r.to;if(i.coordinates[0]-n.coordinates[0]>=0&&s.coordinates[0]-n.coordinates[0]<0)return 1;if(i.coordinates[0]-n.coordinates[0]<0&&s.coordinates[0]-n.coordinates[0]>=0)return-1;if(i.coordinates[0]-n.coordinates[0]==0&&s.coordinates[0]-n.coordinates[0]==0)return i.coordinates[1]-n.coordinates[1]>=0||s.coordinates[1]-n.coordinates[1]>=0?i.coordinates[1]-s.coordinates[1]:s.coordinates[1]-i.coordinates[1];var a=_D(n.coordinates,i.coordinates,s.coordinates);return a<0?1:a>0?-1:Math.pow(i.coordinates[0]-n.coordinates[0],2)+Math.pow(i.coordinates[1]-n.coordinates[1],2)-(Math.pow(s.coordinates[0]-n.coordinates[0],2)+Math.pow(s.coordinates[1]-n.coordinates[1],2))}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(n){return this.sortOuterEdges(),this.outerEdges[n]},e.prototype.addInnerEdge=function(n){this.innerEdges.push(n)},e}(),xee=function(){function e(n,t){this.from=n,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(n){return this.from.id===n.from.id&&this.to.id===n.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return function jC(e,n,t){if(void 0===t&&(t={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return Eg({type:"LineString",coordinates:e},n,t)}([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(n){return _D(n.from.coordinates,n.to.coordinates,this.to.coordinates)},e}(),See=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(n){this.edges.push(n),this.polygon=this.envelope=void 0},e.prototype.get=function(n){return this.edges[n]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(n){this.edges.forEach(n)},e.prototype.map=function(n){return this.edges.map(n)},e.prototype.some=function(n){return this.edges.some(n)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var n=this,t=this.edges.reduce(function(a,h,m){return h.from.coordinates[1]>n.edges[a].from.coordinates[1]&&(a=m),a},0),r=(0===t?this.length:t)-1,i=(t+1)%this.length,s=_D(this.edges[r].from.coordinates,this.edges[t].from.coordinates,this.edges[i].from.coordinates);return 0===s?this.edges[r].from.coordinates[0]>this.edges[i].from.coordinates[0]:s>0},e.prototype.toMultiPoint=function(){return function Y3(e,n,t){return void 0===t&&(t={}),Eg({type:"MultiPoint",coordinates:e},n,t)}(this.edges.map(function(n){return n.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var n=this.edges.map(function(t){return t.from.coordinates});return n.push(this.edges[0].from.coordinates),this.polygon=qx([n])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function OJ(e){return W3(KK(e))}(this.toPolygon())},e.findEdgeRingContaining=function(n,t){var i,s,r=n.getEnvelope();return t.forEach(function(a){var h=a.getEnvelope();if(s&&(i=s.getEnvelope()),!function yee(e,n){var t=e.geometry.coordinates[0].map(function(a){return a[0]}),r=e.geometry.coordinates[0].map(function(a){return a[1]}),i=n.geometry.coordinates[0].map(function(a){return a[0]}),s=n.geometry.coordinates[0].map(function(a){return a[1]});return Math.max.apply(null,t)===Math.max.apply(null,i)&&Math.max.apply(null,r)===Math.max.apply(null,s)&&Math.min.apply(null,t)===Math.min.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,s)}(h,r)&&N4(h,r)){for(var m=n.map(function(fe){return fe.from.coordinates}),y=void 0,C=function(fe){a.some(function(we){return function vee(e,n){return e[0]===n[0]&&e[1]===n[1]}(fe,we.from.coordinates)})||(y=fe)},L=0,F=m;L<F.length;L++)C(F[L]);y&&a.inside(oy(y))&&(!s||N4(i,h))&&(s=a)}}),s},e.prototype.inside=function(n){return WC(n,this.toPolygon())},e}();function V4(e){for(var n=e,t=[];n.parent;)t.unshift(n),n=n.parent;return t}!function(){function e(){this.edges=[],this.nodes={}}e.fromGeoJson=function(n){!function Eee(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(n);var t=new e;return Xx(n,function(r){(function QK(e,n,t){if(!e)throw new Error("No feature passed");if(!t)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!e.geometry||e.geometry.type!==n)throw new Error("Invalid input to "+t+": must be a "+n+", given "+e.geometry.type)})(r,"LineString","Graph::fromGeoJson"),function GK(e,n,t,r){var i=t;ew(e,function(s,a,h,m,y){i=0===a&&void 0===t?s:n(i,s,a,h,m,y)},r)}(r,function(i,s){if(i){var a=t.getNode(i),h=t.getNode(s);t.addEdge(a,h)}return s})}),t},e.prototype.getNode=function(n){var t=R4.buildId(n),r=this.nodes[t];return r||(r=this.nodes[t]=new R4(n)),r},e.prototype.addEdge=function(n,t){var r=new xee(n,t),i=r.getSymetric();this.edges.push(r),this.edges.push(i)},e.prototype.deleteDangles=function(){var n=this;Object.keys(this.nodes).map(function(t){return n.nodes[t]}).forEach(function(t){return n._removeIfDangle(t)})},e.prototype._removeIfDangle=function(n){var t=this;if(n.innerEdges.length<=1){var r=n.getOuterEdges().map(function(i){return i.to});this.removeNode(n),r.forEach(function(i){return t._removeIfDangle(i)})}},e.prototype.deleteCutEdges=function(){var n=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(t){t.label===t.symetric.label&&(n.removeEdge(t.symetric),n.removeEdge(t))})},e.prototype._computeNextCWEdges=function(n){var t=this;typeof n>"u"?Object.keys(this.nodes).forEach(function(r){return t._computeNextCWEdges(t.nodes[r])}):n.getOuterEdges().forEach(function(r,i){n.getOuterEdge((0===i?n.getOuterEdges().length:i)-1).symetric.next=r})},e.prototype._computeNextCCWEdges=function(n,t){for(var i,s,r=n.getOuterEdges(),a=r.length-1;a>=0;--a){var h=r[a],m=h.symetric,y=void 0,C=void 0;h.label===t&&(y=h),m.label===t&&(C=m),y&&C&&(C&&(s=C),y&&(s&&(s.next=y,s=void 0),i||(i=y)))}s&&(s.next=i)},e.prototype._findLabeledEdgeRings=function(){var n=[],t=0;return this.edges.forEach(function(r){if(!(r.label>=0)){n.push(r);var i=r;do{i.label=t,i=i.next}while(!r.isEqual(i));t++}}),n},e.prototype.getEdgeRings=function(){var n=this;this._computeNextCWEdges(),this.edges.forEach(function(r){r.label=void 0}),this._findLabeledEdgeRings().forEach(function(r){n._findIntersectionNodes(r).forEach(function(i){n._computeNextCCWEdges(i,r.label)})});var t=[];return this.edges.forEach(function(r){r.ring||t.push(n._findEdgeRing(r))}),t},e.prototype._findIntersectionNodes=function(n){var t=[],r=n,i=function(){var s=0;r.from.getOuterEdges().forEach(function(a){a.label===n.label&&++s}),s>1&&t.push(r.from),r=r.next};do{i()}while(!n.isEqual(r));return t},e.prototype._findEdgeRing=function(n){var t=n,r=new See;do{r.push(t),t.ring=r,t=t.next}while(!n.isEqual(t));return r},e.prototype.removeNode=function(n){var t=this;n.getOuterEdges().forEach(function(r){return t.removeEdge(r)}),n.innerEdges.forEach(function(r){return t.removeEdge(r)}),delete this.nodes[n.id]},e.prototype.removeEdge=function(n){this.edges=this.edges.filter(function(t){return!t.isEqual(n)}),n.deleteEdge()}}(),X(3198),X(3367),X(3282);var rM={search:function(e,n,t,r){e.cleanDirty();var i=(r=r||{}).heuristic||rM.heuristics.manhattan,s=r.closest||!1,a=function jee(){return new G4(function(e){return e.f})}(),h=n;for(n.h=i(n,t),a.push(n);a.size()>0;){var m=a.pop();if(m===t)return V4(m);m.closed=!0;for(var y=e.neighbors(m),C=0,L=y.length;C<L;++C){var F=y[C];if(!F.closed&&!F.isWall()){var j=m.g+F.getCost(m),fe=F.visited;(!fe||j<F.g)&&(F.visited=!0,F.parent=m,F.h=F.h||i(F,t),F.g=j,F.f=F.g+F.h,e.markDirty(F),s&&(F.h<h.h||F.h===h.h&&F.g<h.g)&&(h=F),fe?a.rescoreElement(F):a.push(F))}}}return s?V4(h):[]},heuristics:{manhattan:function(e,n){return Math.abs(n.x-e.x)+Math.abs(n.y-e.y)},diagonal:function(e,n){var r=Math.sqrt(2),i=Math.abs(n.x-e.x),s=Math.abs(n.y-e.y);return 1*(i+s)+(r-2)*Math.min(i,s)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function Gv(e,n){n=n||{},this.nodes=[],this.diagonal=!!n.diagonal,this.grid=[];for(var t=0;t<e.length;t++){this.grid[t]=[];for(var r=0,i=e[t];r<i.length;r++){var s=new iM(t,r,i[r]);this.grid[t][r]=s,this.nodes.push(s)}}this.init()}function iM(e,n,t){this.x=e,this.y=n,this.weight=t}function G4(e){this.content=[],this.scoreFunction=e}function vD(){this._=null}function sM(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function sw(e,n){var t=n,r=n.R,i=t.U;i?i.L===t?i.L=r:i.R=r:e._=r,r.U=i,t.U=r,t.R=r.L,t.R&&(t.R.U=t),r.L=t}function ow(e,n){var t=n,r=n.L,i=t.U;i?i.L===t?i.L=r:i.R=r:e._=r,r.U=i,t.U=r,t.L=r.R,t.L&&(t.L.U=t),r.R=t}function W4(e){for(;e.L;)e=e.L;return e}Gv.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)rM.cleanNode(this.nodes[e])},Gv.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)rM.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},Gv.prototype.markDirty=function(e){this.dirtyNodes.push(e)},Gv.prototype.neighbors=function(e){var n=[],t=e.x,r=e.y,i=this.grid;return i[t-1]&&i[t-1][r]&&n.push(i[t-1][r]),i[t+1]&&i[t+1][r]&&n.push(i[t+1][r]),i[t]&&i[t][r-1]&&n.push(i[t][r-1]),i[t]&&i[t][r+1]&&n.push(i[t][r+1]),this.diagonal&&(i[t-1]&&i[t-1][r-1]&&n.push(i[t-1][r-1]),i[t+1]&&i[t+1][r-1]&&n.push(i[t+1][r-1]),i[t-1]&&i[t-1][r+1]&&n.push(i[t-1][r+1]),i[t+1]&&i[t+1][r+1]&&n.push(i[t+1][r+1])),n},Gv.prototype.toString=function(){for(var t,r,i,s,e=[],n=this.grid,a=0,h=n.length;a<h;a++){for(t=[],i=0,s=(r=n[a]).length;i<s;i++)t.push(r[i].weight);e.push(t.join(" "))}return e.join("\n")},iM.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},iM.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},iM.prototype.isWall=function(){return 0===this.weight},G4.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),e},remove:function(e){var n=this.content.indexOf(e),t=this.content.pop();n!==this.content.length-1&&(this.content[n]=t,this.scoreFunction(t)<this.scoreFunction(e)?this.sinkDown(n):this.bubbleUp(n))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var n=this.content[e];e>0;){var t=(e+1>>1)-1,r=this.content[t];if(!(this.scoreFunction(n)<this.scoreFunction(r)))break;this.content[t]=n,this.content[e]=r,e=t}},bubbleUp:function(e){for(var n=this.content.length,t=this.content[e],r=this.scoreFunction(t);;){var h,i=e+1<<1,s=i-1,a=null;if(s<n&&(h=this.scoreFunction(this.content[s]))<r&&(a=s),i<n&&this.scoreFunction(this.content[i])<(null===a?r:h)&&(a=i),null===a)break;this.content[e]=this.content[a],this.content[a]=t,e=a}}},vD.prototype={constructor:vD,insert:function(e,n){var t,r,i;if(e){if(n.P=e,n.N=e.N,e.N&&(e.N.P=n),e.N=n,e.R){for(e=e.R;e.L;)e=e.L;e.L=n}else e.R=n;t=e}else this._?(e=W4(this._),n.P=null,n.N=e,e.P=e.L=n,t=e):(n.P=n.N=null,this._=n,t=null);for(n.L=n.R=null,n.U=t,n.C=!0,e=n;t&&t.C;)t===(r=t.U).L?(i=r.R)&&i.C?(t.C=i.C=!1,r.C=!0,e=r):(e===t.R&&(sw(this,t),t=(e=t).U),t.C=!1,r.C=!0,ow(this,r)):(i=r.L)&&i.C?(t.C=i.C=!1,r.C=!0,e=r):(e===t.L&&(ow(this,t),t=(e=t).U),t.C=!1,r.C=!0,sw(this,r)),t=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,s,a,n=e.U,r=e.L,i=e.R;if(s=r?i?W4(i):r:i,n?n.L===e?n.L=s:n.R=s:this._=s,r&&i?(a=s.C,s.C=e.C,s.L=r,r.U=s,s!==i?(n=s.U,s.U=e.U,n.L=e=s.R,s.R=i,i.U=s):(s.U=n,n=s,e=s.R)):(a=e.C,e=s),e&&(e.U=n),!a){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===n.L){if((t=n.R).C&&(t.C=!1,n.C=!0,sw(this,n),t=n.R),t.L&&t.L.C||t.R&&t.R.C){(!t.R||!t.R.C)&&(t.L.C=!1,t.C=!0,ow(this,t),t=n.R),t.C=n.C,n.C=t.R.C=!1,sw(this,n),e=this._;break}}else if((t=n.L).C&&(t.C=!1,n.C=!0,ow(this,n),t=n.L),t.L&&t.L.C||t.R&&t.R.C){(!t.L||!t.L.C)&&(t.R.C=!1,t.C=!0,sw(this,t),t=n.L),t.C=n.C,n.C=t.L.C=!1,ow(this,n),e=this._;break}t.C=!0,e=n,n=n.U}while(!e.C);e&&(e.C=!1)}}};const q4=vD;function aw(e,n,t,r){var i=[null,null],s=Cd.push(i)-1;return i.left=e,i.right=n,t&&oM(i,e,n,t),r&&oM(i,n,e,r),Vh[e.index].halfedges.push(s),Vh[n.index].halfedges.push(s),i}function lw(e,n,t){var r=[n,t];return r.left=e,r}function oM(e,n,t,r){e[0]||e[1]?e.left===t?e[1]=r:e[0]=r:(e[0]=r,e.left=n,e.right=t)}function $ee(e,n,t,r,i){var we,s=e[0],a=e[1],h=s[0],m=s[1],L=0,F=1,j=a[0]-h,fe=a[1]-m;if(we=n-h,j||!(we>0)){if(we/=j,j<0){if(we<L)return;we<F&&(F=we)}else if(j>0){if(we>F)return;we>L&&(L=we)}if(we=r-h,j||!(we<0)){if(we/=j,j<0){if(we>F)return;we>L&&(L=we)}else if(j>0){if(we<L)return;we<F&&(F=we)}if(we=t-m,fe||!(we>0)){if(we/=fe,fe<0){if(we<L)return;we<F&&(F=we)}else if(fe>0){if(we>F)return;we>L&&(L=we)}if(we=i-m,fe||!(we<0)){if(we/=fe,fe<0){if(we>F)return;we>L&&(L=we)}else if(fe>0){if(we<L)return;we<F&&(F=we)}return!(L>0)&&!(F<1)||(L>0&&(e[0]=[h+L*j,m+L*fe]),F<1&&(e[1]=[h+F*j,m+F*fe])),!0}}}}}function Uee(e,n,t,r,i){var s=e[1];if(s)return!0;var we,qe,a=e[0],h=e.left,m=e.right,y=h[0],C=h[1],L=m[0],F=m[1],j=(y+L)/2;if(F===C){if(j<n||j>=r)return;if(y>L){if(a){if(a[1]>=i)return}else a=[j,t];s=[j,i]}else{if(a){if(a[1]<t)return}else a=[j,i];s=[j,t]}}else if(qe=(C+F)/2-(we=(y-L)/(F-C))*j,we<-1||we>1)if(y>L){if(a){if(a[1]>=i)return}else a=[(t-qe)/we,t];s=[(i-qe)/we,i]}else{if(a){if(a[1]<t)return}else a=[(i-qe)/we,i];s=[(t-qe)/we,t]}else if(C<F){if(a){if(a[0]>=r)return}else a=[n,we*n+qe];s=[r,we*r+qe]}else{if(a){if(a[0]<n)return}else a=[r,we*r+qe];s=[n,we*n+qe]}return e[0]=a,e[1]=s,!0}function Wee(e,n){var t=e.site,r=n.left,i=n.right;return t===i&&(i=r,r=t),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(t===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function X4(e,n){return n[+(n.left!==e.site)]}function qee(e,n){return n[+(n.left===e.site)]}var wD,Z4=[];function Kee(){sM(this),this.x=this.y=this.arc=this.site=this.cy=null}function Wv(e){var n=e.P,t=e.N;if(n&&t){var r=n.site,i=e.site,s=t.site;if(r!==s){var a=i[0],h=i[1],m=r[0]-a,y=r[1]-h,C=s[0]-a,L=s[1]-h,F=2*(m*L-y*C);if(!(F>=-nte)){var j=m*m+y*y,fe=C*C+L*L,we=(L*j-y*fe)/F,qe=(m*fe-C*j)/F,Ue=Z4.pop()||new Kee;Ue.arc=e,Ue.site=i,Ue.x=we+a,Ue.y=(Ue.cy=qe+h)+Math.sqrt(we*we+qe*qe),e.circle=Ue;for(var Ae=null,je=uw._;je;)if(Ue.y<je.y||Ue.y===je.y&&Ue.x<=je.x){if(!je.L){Ae=je.P;break}je=je.L}else{if(!je.R){Ae=je;break}je=je.R}uw.insert(Ae,Ue),Ae||(wD=Ue)}}}}function qv(e){var n=e.circle;n&&(n.P||(wD=n.N),uw.remove(n),Z4.push(n),sM(n),e.circle=null)}var K4=[];function Jee(){sM(this),this.edge=this.site=this.circle=null}function J4(e){var n=K4.pop()||new Jee;return n.site=e,n}function bD(e){qv(e),Xv.remove(e),K4.push(e),sM(e)}function Qee(e){var n=e.circle,t=n.x,r=n.cy,i=[t,r],s=e.P,a=e.N,h=[e];bD(e);for(var m=s;m.circle&&Math.abs(t-m.circle.x)<Tu&&Math.abs(r-m.circle.cy)<Tu;)s=m.P,h.unshift(m),bD(m),m=s;h.unshift(m),qv(m);for(var y=a;y.circle&&Math.abs(t-y.circle.x)<Tu&&Math.abs(r-y.circle.cy)<Tu;)a=y.N,h.push(y),bD(y),y=a;h.push(y),qv(y);var L,C=h.length;for(L=1;L<C;++L)oM((y=h[L]).edge,(m=h[L-1]).site,y.site,i);(y=h[C-1]).edge=aw((m=h[0]).site,y.site,null,i),Wv(m),Wv(y)}function ete(e){for(var r,i,s,a,n=e[0],t=e[1],h=Xv._;h;)if((s=Q4(h,t)-n)>Tu)h=h.L;else{if(!((a=n-tte(h,t))>Tu)){s>-Tu?(r=h.P,i=h):a>-Tu?(r=h,i=h.N):r=i=h;break}if(!h.R){r=h;break}h=h.R}!function Gee(e){Vh[e.index]={site:e,halfedges:[]}}(e);var m=J4(e);if(Xv.insert(r,m),r||i){if(r===i)return qv(r),i=J4(r.site),Xv.insert(m,i),m.edge=i.edge=aw(r.site,m.site),Wv(r),void Wv(i);if(!i)return void(m.edge=aw(r.site,m.site));qv(r),qv(i);var y=r.site,C=y[0],L=y[1],F=e[0]-C,j=e[1]-L,fe=i.site,we=fe[0]-C,qe=fe[1]-L,Ue=2*(F*qe-j*we),Ae=F*F+j*j,je=we*we+qe*qe,Dt=[(qe*Ae-j*je)/Ue+C,(F*je-we*Ae)/Ue+L];oM(i.edge,y,fe,Dt),m.edge=aw(y,e,null,Dt),i.edge=aw(e,fe,null,Dt),Wv(r),Wv(i)}}function Q4(e,n){var t=e.site,r=t[0],i=t[1],s=i-n;if(!s)return r;var a=e.P;if(!a)return-1/0;var h=(t=a.site)[0],m=t[1],y=m-n;if(!y)return h;var C=h-r,L=1/s-1/y,F=C/y;return L?(-F+Math.sqrt(F*F-2*L*(C*C/(-2*y)-m+y/2+i-s/2)))/L+r:(r+h)/2}function tte(e,n){var t=e.N;if(t)return Q4(t,n);var r=e.site;return r[1]===n?r[0]:1/0}var Xv,Vh,uw,Cd,Tu=1e-6,nte=1e-12;function rte(e,n,t){return(e[0]-t[0])*(n[1]-e[1])-(e[0]-n[0])*(t[1]-e[1])}function ite(e,n){return n[1]-e[1]||n[0]-e[0]}function eB(e,n){var r,i,s,t=e.sort(ite).pop();for(Cd=[],Vh=new Array(e.length),Xv=new q4,uw=new q4;;)if(s=wD,t&&(!s||t[1]<s.y||t[1]===s.y&&t[0]<s.x))(t[0]!==r||t[1]!==i)&&(ete(t),r=t[0],i=t[1]),t=e.pop();else{if(!s)break;Qee(s.arc)}if(function Xee(){for(var t,r,i,s,e=0,n=Vh.length;e<n;++e)if((t=Vh[e])&&(s=(r=t.halfedges).length)){var a=new Array(s),h=new Array(s);for(i=0;i<s;++i)a[i]=i,h[i]=Wee(t,Cd[r[i]]);for(a.sort(function(m,y){return h[y]-h[m]}),i=0;i<s;++i)h[i]=r[a[i]];for(i=0;i<s;++i)r[i]=h[i]}}(),n){var a=+n[0][0],h=+n[0][1],m=+n[1][0],y=+n[1][1];(function Vee(e,n,t,r){for(var s,i=Cd.length;i--;)Uee(s=Cd[i],e,n,t,r)&&$ee(s,e,n,t,r)&&(Math.abs(s[0][0]-s[1][0])>Tu||Math.abs(s[0][1]-s[1][1])>Tu)||delete Cd[i]})(a,h,m,y),function Zee(e,n,t,r){var s,a,h,m,y,C,L,F,j,fe,we,qe,i=Vh.length,Ue=!0;for(s=0;s<i;++s)if(a=Vh[s]){for(h=a.site,m=(y=a.halfedges).length;m--;)Cd[y[m]]||y.splice(m,1);for(m=0,C=y.length;m<C;)we=(fe=qee(a,Cd[y[m]]))[0],qe=fe[1],F=(L=X4(a,Cd[y[++m%C]]))[0],j=L[1],(Math.abs(we-F)>Tu||Math.abs(qe-j)>Tu)&&(y.splice(m,0,Cd.push(lw(h,fe,Math.abs(we-e)<Tu&&r-qe>Tu?[e,Math.abs(F-e)<Tu?j:r]:Math.abs(qe-r)<Tu&&t-we>Tu?[Math.abs(j-r)<Tu?F:t,r]:Math.abs(we-t)<Tu&&qe-n>Tu?[t,Math.abs(F-t)<Tu?j:n]:Math.abs(qe-n)<Tu&&we-e>Tu?[Math.abs(j-n)<Tu?F:e,n]:null))-1),++C);C&&(Ue=!1)}if(Ue){var Ae,je,Dt,Ht=1/0;for(s=0,Ue=null;s<i;++s)(a=Vh[s])&&(Dt=(Ae=(h=a.site)[0]-e)*Ae+(je=h[1]-n)*je)<Ht&&(Ht=Dt,Ue=a);if(Ue){var Kt=[e,n],tn=[e,r],Tn=[t,r],Ut=[t,n];Ue.halfedges.push(Cd.push(lw(h=Ue.site,Kt,tn))-1,Cd.push(lw(h,tn,Tn))-1,Cd.push(lw(h,Tn,Ut))-1,Cd.push(lw(h,Ut,Kt))-1)}}for(s=0;s<i;++s)(a=Vh[s])&&(a.halfedges.length||delete Vh[s])}(a,h,m,y)}this.edges=Cd,this.cells=Vh,Xv=uw=Cd=Vh=null}function Im(){return new aM}function aM(){this.reset()}eB.prototype={constructor:eB,polygons:function(){var e=this.edges;return this.cells.map(function(n){var t=n.halfedges.map(function(r){return X4(n,e[r])});return t.data=n.site.data,t})},triangles:function(){var e=[],n=this.edges;return this.cells.forEach(function(t,r){if(h=(s=t.halfedges).length)for(var s,h,m,i=t.site,a=-1,y=n[s[h-1]],C=y.left===i?y.right:y.left;++a<h;)m=C,C=(y=n[s[a]]).left===i?y.right:y.left,m&&C&&r<m.index&&r<C.index&&rte(i,m,C)<0&&e.push([i.data,m.data,C.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,n,t){for(var i,h,r=this,s=r._found||0,a=r.cells.length;!(h=r.cells[s]);)if(++s>=a)return null;var m=e-h.site[0],y=n-h.site[1],C=m*m+y*y;do{h=r.cells[i=s],s=null,h.halfedges.forEach(function(L){var F=r.edges[L],j=F.left;if(j!==h.site&&j||(j=F.right)){var fe=e-j[0],we=n-j[1],qe=fe*fe+we*we;qe<C&&(C=qe,s=j.index)}})}while(null!==s);return r._found=i,null==t||C<=t*t?h.site:null}},X(8464),X(4855),aM.prototype={constructor:aM,reset:function(){this.s=this.t=0},add:function(e){dB(lM,e,this.t),dB(this,lM.s,this.s),this.s?this.t+=lM.t:this.s=lM.t},valueOf:function(){return this.s}};var lM=new aM;function dB(e,n,t){var r=e.s=n+t,i=r-n;e.t=n-(r-i)+(t-i)}var Yu=Math.PI,yh=Yu/2,Zv=2*Yu,pu=Yu/180,cw=(Math,Math.atan),Kv=Math.atan2,Wa=Math.cos,_a=(Math,Math,Math,Math,Math,Math.sin),Tg=(Math,Math.sqrt);Math;function Jv(e){return e>1?yh:e<-1?-yh:Math.asin(e)}function ND(e,n){return[e>Yu?e-Zv:e<-Yu?e+Zv:e,n]}function BB(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}Im(),Im(),Im(),ND.invert=ND,function Rte(e){1===e.length&&(e=function Fte(e){return function(n,t){return BB(e(n),t)}}(e))}(BB),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Im();function eI(){}function c6(e){return function(n,t){var r=Wa(n),i=Wa(t),s=e(r*i);return[s*i*_a(n),s*_a(t)]}}function ww(e){return function(n,t){var r=Tg(n*n+t*t),i=e(r),s=_a(i),a=Wa(i);return[Kv(n*s,r*a),Jv(r&&t*s/r)]}}function nI(e,n){return[e,n]}Im(),Im(),Im(),Im(),function a6(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}(4.5),eI.prototype={constructor:eI,point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Wa(30*pu),function l6(e){return function(n){var t=new eI;for(var r in e)t[r]=e[r];return t.stream=n,t}}({point:function(e,n){this.stream.point(e*pu,n*pu)}}),c6(function(e){return Tg(2/(1+e))}).invert=ww(function(e){return 2*Jv(e/2)}),c6(function(e){return(e=function yte(e){return e>1?0:e<-1?Yu:Math.acos(e)}(e))&&e/_a(e)}).invert=ww(function(e){return e}),nI.invert=nI,ww(cw),ww(Jv),ww(function(e){return 2*cw(e)});let Am=(()=>{class e{constructor(t){this.localStorage=t,this.eventNewPage=new Hi,this._geojson={},this._geojsonChanged={},this.geojsonWay=Uh([]),this.geojsonBbox=Uh([]),this._nextFeatureId=0}get geojson(){const t=Uh([]);return t.features=Object.values(this._geojson),t}get geojsonChanged(){const t=Uh([]);return t.features=Object.values(this._geojsonChanged),t}addIconCache(t,r){this.localStorage.set(t,r)}getIconCache(t){return this.localStorage.get(t)}loadGeojson$(){return It(this.localStorage.get("geojson")).pipe(un(t=>{t=t||Uh([]);for(const r of t.features)this._geojson[r.id]=r;return t}))}loadGeojsonChanged$(){return It(this.localStorage.get("geojsonChanged")).pipe(un(t=>{t=t||Uh([]);for(const r of t.features)this._geojsonChanged[r.id]=r;return this.forceNextFeatureIdSync(),t}))}loadGeojsonBbox$(){return It(this.localStorage.get("geojsonBbox")).pipe(un(t=>(t=t||Uh([]),this.geojsonBbox=t,t)))}getKeysCacheIcon(){var t=this;return(0,oo.Z)(function*(){return(yield t.localStorage.keys()).filter(i=>/^circle/.test(i)||/^square/.test(i)||/^penta/.test(i))})()}clearIconCache(){var t=this;return(0,oo.Z)(function*(){let r=yield t.getKeysCacheIcon(),i=0;for(let s of r)yield t.localStorage.remove(s),i++;return i})()}clearCache(){var t=this;return(0,oo.Z)(function*(){try{yield t.localStorage.clear()}catch(r){console.error(r)}try{window.indexedDB.deleteDatabase("_ionickv")}catch(r){console.log(r)}localStorage.clear()})()}setGeojsonBbox(t){this.geojsonBbox=t,this.localStorage.set("geojsonBbox",this.geojsonBbox)}getGeojsonBbox(){return this.geojsonBbox}resetGeojsonBbox(){const t=Uh([]);return this.setGeojsonBbox(t),t}setGeojsonWay(t){this.geojsonWay=(0,_c.cloneDeep)(t)}addFeatureToGeojsonWay(t){this.geojsonWay.features.push(t)}getGeojson(){return this.geojson?this.geojson:Uh([])}setGeojson(t){this._geojson={};for(const r of t.features)this._geojson[r.id]=(0,_c.cloneDeep)(r);this.localStorage.set("geojson",this.geojson)}addFeatureToGeojson(t){this._geojson[t.id]=t,this.setGeojson(this.geojson)}updateFeatureToGeojson(t){this._geojson[t.id]=t,this.setGeojson(this.geojson)}deleteFeatureFromGeojson(t){delete this._geojson[t.id],this.setGeojson(this.geojson)}getFeatureById(t,r){const s=("data_changed"===r?this.getGeojsonChanged().features:this.getGeojson().features).find(a=>a.id===t);if(s)return(0,_c.cloneDeep)(s)}getGeojsonChanged(){return(0,_c.cloneDeep)(this.geojsonChanged)}get nextFeatureId(){return this._nextFeatureId--}forceNextFeatureIdSync(){const t=Object.values(this._geojsonChanged).map(r=>r.properties.id).filter(r=>r<=0);this._nextFeatureId=t.length>0?Math.min(...t)-1:0}setGeojsonChanged(t){var r=this;return(0,oo.Z)(function*(){r._geojsonChanged={};for(const i of t.features)r._geojsonChanged[i.id]=(0,_c.cloneDeep)(i);yield r.localStorage.set("geojsonChanged",r.geojsonChanged)})()}replaceIdGenerateByOldVersion(){var t=this;return(0,oo.Z)(function*(){for(const[r,i]of Object.entries(t._geojsonChanged))if("Create"==i.properties.changeType&&(!Number.isInteger(i.properties.id)||i.properties.id>=0)){const s=t.nextFeatureId;i.properties.id=s,i.id=`${i.properties.type}/${s}`,console.info("FIXE :",i.id,i.properties.id),t._geojsonChanged[i.id]=i,delete t._geojsonChanged[r]}yield t.setGeojsonChanged(t.getGeojsonChanged())})()}getCountGeojsonChanged(){return this.getGeojsonChanged().features?this.getGeojsonChanged().features.length:0}addFeatureToGeojsonChanged(t){return this._geojsonChanged[t.id]=t,this.localStorage.set("geojsonChanged",this.geojsonChanged)}updateFeatureToGeojsonChanged(t){return this._geojsonChanged[t.id]=t,this.localStorage.set("geojsonChanged",this.geojsonChanged)}deleteFeatureFromGeojsonChanged(t){return delete this._geojsonChanged[t.id],this.localStorage.set("geojsonChanged",this.geojsonChanged)}getMergedGeojsonGeojsonChanged(){const t=Object.keys(this._geojsonChanged);for(const r of t)delete this._geojson[r];for(const r of Object.values(this._geojsonChanged))this._geojson[r.id]=r;return(0,_c.cloneDeep)(this.geojson)}cancelFeatureChange(t){const r=(0,_c.cloneDeep)(t.properties.originalData);this.deleteFeatureFromGeojsonChanged(t),"Create"!==t.properties.changeType&&this.addFeatureToGeojson(r)}resetGeojsonChanged(){var t=this;return(0,oo.Z)(function*(){t._geojsonChanged={},yield t.localStorage.set("geojsonChanged",t.geojsonChanged),t._nextFeatureId=0})()}resetGeojsonData(){this._geojson={};const t=Uh([]);return this.setGeojson(t),t}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Sg))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Lne=X(8660);var Pm=X(5624),One=X(3549);const Nne=(0,ry.fo)("Haptics",{web:()=>X.e(8756).then(X.bind(X,8756)).then(e=>new e.HapticsWeb)});let bw=(()=>{class e{constructor(){this.eventNewAlert=new Hi,this.eventDisplayToolTipRefreshData=new Hi,this.displayToolTipRefreshData=!1}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),x6=(()=>{class e{constructor(t){this.configService=t,this.eventNewLocation=new Hi,this.eventNewCompassHeading=new Hi,this.eventLocationIsReady=new Hi,this.compassHeading={magneticHeading:null,trueHeading:null,headingAccuracy:null,timestamp:null},this.gpsIsReady=!1}watchPosition(){this.subscriptionWatchLocation&&navigator.geolocation.clearWatch(this.subscriptionWatchLocation),this.subscriptionWatchLocation=navigator.geolocation.watchPosition(t=>{t?.coords&&(this.location=t,this.eventNewLocation.emit(this.getGeojsonPos()))},t=>{console.error(t)},{enableHighAccuracy:!0})}getCurrentPosition(){return new Promise((t,r)=>{navigator.geolocation.getCurrentPosition(i=>{t(i)},i=>{r(i)},{enableHighAccuracy:!0})})}enableGeolocation(){this.heading(),this.getCurrentPosition().then(t=>{this.location=t,this.eventNewLocation.emit(this.getGeojsonPos()),this.eventLocationIsReady.emit(t),this.gpsIsReady=!0,this.watchPosition()})}disableGeolocation(){navigator.geolocation.clearWatch(this.subscriptionWatchLocation)}heading(){const t=r=>{if(!(r.absolute&&r.alpha&&r.beta&&r.gamma))return;const i=r.alpha*(Math.PI/180),s=r.beta*(Math.PI/180),a=r.gamma*(Math.PI/180),h=Math.cos(i),m=Math.sin(i),C=(Math.cos(s),Math.sin(s)),L=Math.cos(a),F=Math.sin(a),j=-h*F-m*C*L,fe=-m*F+h*C*L;let qe=Math.atan(j/fe);fe<0?qe+=Math.PI:j<0&&(qe+=2*Math.PI),qe*=180/Math.PI;let Ue={magneticHeading:qe,trueHeading:qe,headingAccuracy:null,timestamp:(new Date).getTime()};this.eventNewCompassHeading.emit(Ue)};"object"==typeof window.ondeviceorientationabsolute?window.addEventListener("deviceorientationabsolute",t,!0):"object"==typeof window.ondeviceorientation?window.addEventListener("deviceorientation",t,!0):console.log("utiliser le heading du gps ?")}getLocation(){return this.location}getCoordsPosition(){if(this.location&&this.location.coords)return[this.location.coords.longitude,this.location.coords.latitude];throw new Error("no location")}getGeojsonPos(){if(this.location?.coords)return this.pointGeojson={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[this.location.coords.longitude,this.location.coords.latitude]},properties:{accuracy:this.location&&this.location.coords?this.location.coords.accuracy:0,trueHeading:this.compassHeading.magneticHeading}}]},this.pointGeojson}getGeoJSONCirclePosition(t=64){t||(t=64);const i_latitude=this.location.coords.latitude,i_longitude=this.location.coords.longitude,s=this.location.coords.accuracy/1e3,a=[],h=s/(111.32*Math.cos(i_latitude*Math.PI/180)),m=s/110.574;let y,C,L;for(let F=0;F<t;F++)y=F/t*(2*Math.PI),C=h*Math.cos(y),L=m*Math.sin(y),a.push([i_longitude+C,i_latitude+L]);return a.push(a[0]),{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[a]},properties:{}}]}}static#e=this.\u0275fac=function(r){return new(r||e)(tr(mc))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),km=(()=>{class e{constructor(t,r,i,s,a,h,m,y,C,L,F,j,fe){this._ngZone=t,this.dataService=r,this.tagsService=i,this.alertService=s,this.locationService=a,this.configService=h,this.zone=m,this.alertCtrl=y,this.http=C,this.translate=L,this.router=F,this.activatedRoute=j,this.document=fe,this.isFirstPosition=!0,this.loadingData=!1,this.isProcessing=new $t(!1),this.markerMoveMoving=!1,this.mode="Update",this.headingIsLocked=!0,this.positionIsFollow=!0,this.isDisplaySatelliteBaseMap=!1,this.layersAreLoaded=!1,this.markersLoaded=[],this.eventDomMainReady=new Hi,this.eventCreateNewMap=new Hi,this.eventNewBboxPolygon=new Hi,this.eventMoveElement=new Hi,this.eventShowModal=new Hi,this.eventOsmElementUpdated=new Hi,this.eventOsmElementDeleted=new Hi,this.eventOsmElementCreated=new Hi,this.eventMarkerReDraw=new Hi,this.eventMapIsLoaded=new Hi,this.eventMarkerChangedReDraw=new Hi,this.eventShowDialogMultiFeatures=new Hi,this.markersLayer=[],this.eventMarkerMove=new Hi,this.eventMapMove=new Hi,this.markerMoving=!1,this.markerMaplibreUnknown={},this.filters={fixme:null};const we=1==window.devicePixelRatio?"assets/mapStyle/sprites/sprites.png":"assets/mapStyle/sprites/sprites@2x.png",qe=new Image;qe.onload=()=>{this.spritesCache=qe},qe.onerror=Ue=>{console.error(Ue)},qe.src=we,this.locationService.eventLocationIsReady.subscribe(Ue=>{this.map&&this.configService.config.centerWhenGpsIsReady&&this.map.setZoom(19)}),this.eventMarkerReDraw.subscribe(Ue=>{const Ae=[];for(const Dt of Ue.features){const Ht=Dt.properties.marker;!this.map.hasImage(Ht)&&!Ae.includes(Ht)&&Ae.push(Ht)}const je=(new Date).getTime();this.addMissingIconsToMap(Ae).then(()=>{console.log("addMissingIconsToMap TIME",(new Date).getTime()-je,"count :",Ae.length),Ue&&(this.map.getSource("data").setData(Ue),this.drawWaysPoly(Ue,"ways"))}).catch(Dt=>{console.error(Dt)})}),this.eventMarkerChangedReDraw.subscribe(Ue=>{const Ae=[];for(const Dt of Ue.features){const Ht=Dt.properties.marker;!this.map.hasImage(Ht)&&!Ae.includes(Ht)&&Ae.push(Ht)}const je=(new Date).getTime();this.addMissingIconsToMap(Ae).then(()=>{console.log("addMissingIconsToMapChange TIME",(new Date).getTime()-je),Ue&&(this.map.getSource("data_changed").setData(Ue),this.drawWaysPoly(Ue,"ways_changed"))}).catch(Dt=>{console.error(Dt)})}),this.eventMapMove.pipe(function Ane(e,n=Wx){return bn((t,r)=>{let i=null,s=null,a=null;const h=()=>{if(i){i.unsubscribe(),i=null;const y=s;s=null,r.next(y)}};function m(){const y=a+e,C=n.now();if(C<y)return i=this.schedule(void 0,y-C),void r.add(i);h()}t.subscribe(fn(r,y=>{s=y,a=n.now(),i||(i=n.schedule(m,e),r.add(i))},()=>{h(),r.complete()},void 0,()=>{s=i=null}))})}(700)).subscribe(()=>{let Ue=this.map.getCenter(),Ae=this.map.getBearing(),je=this.map.getZoom();this.configService.setLastView({lng:Ue.lng,lat:Ue.lat,zoom:je,bearing:Ae})})}setIsProcessing(t){this.isProcessing.next(t)}loadUnknownMarker(t){const r=t>1?2:1;this.map.loadImage(`./assets/mapStyle/unknown-marker/circle-unknown@${r}X.png`,(i,s)=>{this.markerMaplibreUnknown.circle=s}),this.map.loadImage(`./assets/mapStyle/unknown-marker/penta-unknown@${r}X.png`,(i,s)=>{this.markerMaplibreUnknown.penta=s}),this.map.loadImage(`./assets/mapStyle/unknown-marker/square-unknown@${r}X.png`,(i,s)=>{this.markerMaplibreUnknown.square=s})}filterMakerByIds(t){const r=["way_fill","way_line","label","icon-old","icon-fixme","marker"];0===t.length&&(t=[""]);for(let i of r){const s=this.map.getFilter(i),a=["match",["get","configId"],[...t],!1,!0];let h=[],m=!1;for(let y=1;y<s.length;y++)"match"===s[y][0]&&"configId"===s[y][1][1]&&(s[y]=a,h=s,m=!0);m||(h=[...s,a]),this.map.setFilter(i,h)}}drawWaysPoly(t,r){const i=t.features,s=[];for(let h=0;h<i.length;h++){const m=i[h];"node"!==m.properties.type&&s.push({type:"Feature",properties:m.properties,geometry:m.properties.way_geometry})}this.map.getSource(r).setData({type:"FeatureCollection",features:s})}getPixelDistFromMeter(t,r){const i=t.getContainer().clientHeight/2,s=t.getContainer().clientWidth,h=function a(y,C){const F=Math.PI/180,j=y.lat*F,fe=C.lat*F,we=Math.sin(j)*Math.sin(fe)+Math.cos(j)*Math.cos(fe)*Math.cos((C.lng-y.lng)*F);return 6371e3*Math.acos(Math.min(we,1))}(t.unproject([0,i]),t.unproject([s,i]));return Math.round(r*(s/h))}getBbox(){const t=this.configService.getMapMarginBuffer()||50,r=document.getElementById("map").offsetWidth,i=document.getElementById("map").offsetHeight,s=this.map.unproject([0,0]).toArray(),y=[s,this.map.unproject([r,0]).toArray(),this.map.unproject([r,i]).toArray(),this.map.unproject([0,i]).toArray(),s];let C=null,L=null,F=null,j=null;for(let je=1;je<y.length;je++)(!C||y[je][0]<C)&&(C=y[je][0]),(!L||y[je][0]>L)&&(L=y[je][0]),(!F||y[je][1]<F)&&(F=y[je][1]),(!j||y[je][1]>j)&&(j=y[je][1]);const we={type:"Point",coordinates:[L,j]},qe=u4({type:"Point",coordinates:[C,F]},t/1e3,-135).geometry.coordinates,Ue=u4(we,t/1e3,45).geometry.coordinates;return[qe[0],qe[1],Ue[0],Ue[1]]}resetNorth(){this.map.resetNorth()}displaySatelliteBaseMap(t,r){const i={type:"raster",tiles:t.tiles,tileSize:256,maxzoom:t.max_zoom};this.map.hasControl(this.attributionControl)&&this.map.removeControl(this.attributionControl),this.configService.config.basemap!==t.id&&(this.map.getLayer("basemap")&&this.map.removeLayer("basemap"),this.map.getSource("basemap")&&this.map.removeSource("basemap"),this.map.addSource("basemap",i)),this.map.getSource("basemap")||this.map.addSource("basemap",i),r?(this.map.addLayer({id:"basemap",type:"raster",source:"basemap",minzoom:0},"bboxLayer"),this.attributionControl=new Pm.AttributionControl({customAttribution:t?.attribution?.text?t?.attribution?.text:""}),this.map.addControl(this.attributionControl),this.isDisplaySatelliteBaseMap=!0):(this.attributionControl=new Pm.AttributionControl({customAttribution:""}),this.map.addControl(this.attributionControl),this.map.getLayer("basemap")&&this.map.removeLayer("basemap"),this.isDisplaySatelliteBaseMap=!1)}centerOnMyPosition(){const t=this.map.getZoom();this.configService.config.lockMapHeading&&(this.headingIsLocked=!0);let r=0;this.configService.config.followPosition&&(this.positionIsFollow=!0,this.configService.config.lockMapHeading&&(r=this.locationService.compassHeading.trueHeading,this.map.setLayoutProperty("location_user","icon-rotate",0)));let i=t;t<17&&(i=18),this.map.flyTo({center:this.locationService.getCoordsPosition(),zoom:i,bearing:r,speed:2})}changeLocationRadius(t,r=!1){const i=this.getPixelDistFromMeter(this.map,t);this.map.setPaintProperty("location_circle","circle-radius-transition",{duration:r?300:0}),this.map.setPaintProperty("location_circle","circle-radius",i)}positionateMarker(){this.markerPositionate=this.createDomMoveMarker([this.map.getCenter().lng,this.map.getCenter().lat],""),this.markerMoving=!0,this.markerPositionate.addTo(this.map),this.eventMarkerMove.subscribe(t=>{this.markerPositionate.setLngLat(t)})}openModalOsm(t,r){this.markerMoving=!1,this.markerPositionate&&this.markerPositionate?.remove();const i=t||this.markerPositionate.getLngLat();let s;if(r)s={...r};else if(this.tagsService.lastTagsUsedIds&&this.tagsService.lastTagsUsedIds[0]){const h=this.tagsService.tags.find(m=>m.id===this.tagsService.lastTagsUsedIds[0]);s=h?{...h.tags}:{...this.tagsService.tags[0].tags}}else s={...this.tagsService.tags[0].tags};const a=oy([i.lng,i.lat],{type:"node",tags:s});this.mode="Create",this.eventShowModal.emit({type:"Create",geojson:a,origineData:null,openPrimaryTagModalOnStart:!r})}cancelNewMarker(){this.markerMoving=!1,this.markerPositionate.remove()}openModalWithNewPosition(){this.markerMoveMoving=!1,this.markerMove.remove();const t=this.markerMove.data,r=this.markerMove.getLngLat();t.geometry.coordinates=[r.lng,r.lat],this.eventShowModal.emit({type:this.mode,geojson:t,newPosition:!0,origineData:t.properties.changeType?"data_changed":"data"})}cancelNewPosition(){this.markerMoveMoving=!1;const t=this.markerMove.data;this.eventShowModal.emit({type:this.mode,geojson:t,origineData:t.properties.changeType?"data_changed":"data"}),this.markerMove.remove()}getBboxPolygon(){return(0,_c.cloneDeep)(this.bboxPolygon)}createDomMoveMarker(t,r){const i=document.createElement("div");i.className="moveMarkerIcon";const s=new Pm.Marker({element:i,offset:[0,-15]}).setLngLat(t);return s.data=r,s}resetDataMap(){this.eventNewBboxPolygon.emit(this.dataService.resetGeojsonBbox()),this.eventMarkerReDraw.emit(this.dataService.resetGeojsonData())}getMapStyle(){return this.http.get("assets/mapStyle/brigthCustom.json").pipe(un(t=>(t.sprite=`${this.document.location.origin}/assets/mapStyle/sprites/sprites`,t)))}getIconStyle(t){return function Zx(e,n){let r,t=Z3(e,n);return r="node"===e.properties.type?"circle":"LineString"===e.properties.way_geometry.type||"MultiLineString"===e.properties.way_geometry.type?"penta":"Polygon"===e.properties.way_geometry.type||"MultiPolygon"===e.properties.way_geometry.type?"square":"star",e.properties.icon=t.icon?t.icon:"maki-circle",e.properties.marker=`${r}-${t.markerColor}-${e.properties.icon}`,e.properties.hexColor=t.markerColor,e.properties.configId=t.id,t.unknowTags&&(e.properties.unknowTags=!0),t.deprecated?e.properties.deprecated=t.deprecated:e.properties.deprecated&&delete e.properties.deprecated,Dm(e),e}(t,this.tagsService.tags)}initMap(t){var r=this;this.getMapStyle().subscribe(i=>{this.positionIsFollow=t.centerWhenGpsIsReady,this.headingIsLocked=t.centerWhenGpsIsReady,this.zone.runOutsideAngular(()=>{this.map=new Pm.Map({container:"map",style:i,center:[t.lastView.lng,t.lastView.lat],zoom:t.lastView.zoom,bearing:t.lastView.bearing,pitch:0,maxZoom:22,doubleClickZoom:!1,attributionControl:!1,dragRotate:!0,trackResize:!1,pitchWithRotate:!1,collectResourceTiming:!1}),this.map.addControl(new Pm.NavigationControl(null)),this.attributionControl=new Pm.AttributionControl({customAttribution:""}),this.map.addControl(this.attributionControl);const s=new Pm.ScaleControl({maxWidth:160,unit:"metric"});this.map.addControl(s),this.map.on("load",(0,oo.Z)(function*(){return r.mapIsLoaded(),Xt(r.map)})),this.map.on("move",C=>{this.eventMapMove.emit(),(this.markerMoving||this.markerMoveMoving)&&this.eventMarkerMove.emit(this.map.getCenter())}),this.map.on("movestart",C=>{}),this.map.on("moveend",C=>{this.setCenterInUrl()}),this.map.on("zoom",C=>{this.layersAreLoaded&&this.locationService.location&&this.locationService.location?.coords?.accuracy&&this.changeLocationRadius(this.locationService.location.coords.accuracy,!1)});const a=this.dataService.geojson,h=this.dataService.geojsonChanged,m=[];for(const C of a.features){const L=C.properties.marker;!this.map.hasImage(L)&&!m.includes(L)&&m.push(L)}for(const C of h.features){const L=C.properties.marker;!this.map.hasImage(L)&&!m.includes(L)&&m.push(L)}const y=(new Date).getTime();this.addMissingIconsToMap(m).then(C=>{console.log("addMissingIconsToMap INIT TIME",(new Date).getTime()-y,"count :",m.length)}).catch(C=>{console.error(C)}).finally(()=>{this.eventNewBboxPolygon.subscribe(C=>{this.map.getSource("bbox").setData(C)})})})}),this.subscriptionMoveElement=this.eventMoveElement.subscribe(i=>{this.mode=i.mode;const s=i.geojson;let a=null;for(let m=0;m<this.markersLayer.length;m++){const y=this.markersLayer[m];if(y.id===s.id){a=y;break}}const h=s.geometry.coordinates;this.map.setCenter(h),this.markerMove=this.createDomMoveMarker(h,s),this.markerMoveMoving=!0,this.markerMove.addTo(this.map),this.subscriptionMarkerMove=this.eventMarkerMove.subscribe(m=>{this.markerMove.setLngLat(m)})})}setCenterInUrl(){const t=this.map.getCenter(),a={center:`${Math.round(1e7*t.lng)/1e7},${Math.round(1e7*t.lat)/1e7}`,zoom:""+Math.round(100*this.map.getZoom())/100,id:null,add:null};this._ngZone.run(()=>{this.router.navigate([],{replaceUrl:!0,relativeTo:this.activatedRoute,queryParams:a,queryParamsHandling:"merge"})})}getIconRotate(t,r){let i=(t=t>354?0:t+5)-(r=r<0?360+r:r);return i>=360?i-=360:i<=0&&(i+=360),i}toogleMesureFilter(t,r,i,s){let a=s.getFilter(r),h=null;for(let m=1;m<a.length;m++)"mesure"==a[m][1][1]&&(h=m);return h&&!t?(a.splice(h,1),s.setFilter(r,a),a):t?(a.push(["<",["get","mesure"],i]),s.setFilter(r,a),a):void 0}addDomMarkerPosition(){}selectFeature(t){let i="data";["label_changed","marker_changed","icon-change","way_line_changed","way_fill_changed"].includes(t.layer.id)&&(i="data_changed");const s=`${t.properties.type}/${t.properties.id}`,a=this.dataService.getFeatureById(s,i);"data_changed"!==i&&this.router.navigate([],{replaceUrl:!0,relativeTo:this.activatedRoute,queryParams:{id:`${s}`,zoom:null,center:null},queryParamsHandling:"merge"}),this.eventShowModal.emit({type:"Read",geojson:a,origineData:i})}showOldTagIcon(t){const i=(new Date).getTime();let a,h,s=this.map.getFilter("icon-old")||[];for(let m=1;m<s.length;m++){const y=s[m];3==y.length&&y[2]&&">"==y[0]&&"time"===y[2][1]&&(a=m)}a?(s[a]=[">",""+(i-31536e6*t),["get","time"]],h=s):(h=[...s],h.push([">",i-31536e6*t,["get","time"]])),this.map.setFilter("icon-old",h),this.map.setLayoutProperty("icon-old","visibility","visible")}hideOldTagIcon(){this.map.setLayoutProperty("icon-old","visibility","none")}showFixmeIcon(){this.map.setLayoutProperty("icon-fixme","visibility","visible")}hideFixmeIcon(){this.map.setLayoutProperty("icon-fixme","visibility","none")}mapIsLoaded(){var t=this;const r=14;this.map.addSource("bbox",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("data",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("data_changed",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("ways",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("ways_changed",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.addSource("location_circle",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.eventNewBboxPolygon.emit(this.dataService.geojsonBbox),this.eventMarkerChangedReDraw.emit(this.dataService.geojsonChanged),this.eventMarkerReDraw.emit(this.dataService.geojson),this.map.addLayer({id:"bboxLayer",type:"line",source:"bbox",paint:{"line-color":"#ea1212","line-width":5,"line-dasharray":[2,2]}}),this.map.addLayer({id:"way_fill",type:"fill",minzoom:r,source:"ways",paint:{"fill-color":{property:"hexColor",type:"identity"},"fill-opacity":.3},filter:["all",["match",["geometry-type"],["Polygon","MultiPolygon"],!0,!1]]}),this.map.addLayer({id:"way_line",type:"line",source:"ways",minzoom:r,paint:{"line-color":{property:"hexColor",type:"identity"},"line-width":4,"line-opacity":.7},layout:{"line-join":"round","line-cap":"round"},filter:["all",["match",["geometry-type"],["LineString","MultiLineString"],!0,!1]]}),this.map.addLayer({id:"way_fill_changed",type:"fill",source:"ways_changed",paint:{"fill-color":{property:"hexColor",type:"identity"},"fill-opacity":.3},filter:["all",["match",["geometry-type"],["Polygon","MultiPolygon"],!0,!1]]}),this.map.addLayer({id:"way_line_changed",type:"line",source:"ways_changed",paint:{"line-color":{property:"hexColor",type:"identity"},"line-width":4,"line-opacity":.7},layout:{"line-join":"round","line-cap":"round"},filter:["all",["match",["geometry-type"],["LineString","MultiLineString"],!0,!1]]}),this.map.addLayer({id:"label",type:"symbol",minzoom:16.5,source:"data",layout:{"icon-image":"none","icon-anchor":"bottom","text-field":"{_name}","text-font":["Roboto-Regular"],"text-allow-overlap":!1,"text-size":11,"text-offset":[0,1]},paint:{"text-color":"#0a0a0a","text-halo-color":"rgba(255,255,255,1)","text-halo-width":2},filter:["all"]}),this.map.addLayer({id:"label_changed",type:"symbol",minzoom:16.5,source:"data_changed",layout:{"icon-image":"none","icon-anchor":"bottom","text-field":"{_name}","text-font":["Roboto-Regular"],"text-allow-overlap":!1,"text-size":11,"text-offset":[0,1]},paint:{"text-color":"#0a0a0a","text-halo-color":"rgba(255,255,255,1)","text-halo-width":2},filter:["all"]}),this.map.addLayer({id:"location_circle",type:"circle",source:"location_circle",layout:{},paint:{"circle-color":"#9bbcf2","circle-opacity":.2,"circle-radius":0,"circle-stroke-width":1,"circle-stroke-color":"#9bbcf2","circle-stroke-opacity":.5,"circle-pitch-alignment":"map","circle-radius-transition":{duration:0}}}),this.map.addLayer({id:"location_user",type:"symbol",source:"location_circle",layout:{"icon-size":.5,"icon-image":"location-without-orientation","icon-ignore-placement":!0,"icon-allow-overlap":!0,"icon-pitch-alignment":"map"}}),this.map.addLayer({id:"icon-old",type:"symbol",source:"data",minzoom:r,layout:{"icon-image":"Old","icon-ignore-placement":!0,"icon-offset":[-13,-12],visibility:"none"},filter:["all"]}),this.map.addLayer({id:"icon-fixme",type:"symbol",source:"data",minzoom:r,layout:{"icon-image":"Fixme","icon-ignore-placement":!0,"icon-offset":[13,-12],visibility:"none"},filter:["all",["any",["has","fixme"],["has","deprecated"]]]}),this.map.addLayer({id:"marker",type:"symbol",minzoom:r,source:"data",layout:{"icon-image":"{marker}","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-offset":[0,-14]},filter:["all"]}),this.map.addLayer({id:"marker_changed",type:"symbol",source:"data_changed",minzoom:r,layout:{"icon-image":"{marker}","icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-offset":[0,-14]},filter:["all"]}),this.map.addLayer({id:"icon-change",type:"symbol",source:"data_changed",minzoom:r,layout:{"icon-image":"{changeType}","icon-ignore-placement":!0,"icon-offset":[0,-35]},filter:["all"]}),this.layersAreLoaded=!0,this.filterMakerByIds(this.tagsService.hiddenTagsIds);let i=this.configService.getOldTagsIcon();i.display&&this.showOldTagIcon(i.year),this.configService.getDisplayFixmeIcon()&&this.showFixmeIcon(),this.toogleMesureFilter(this.configService.getFilterWayByArea(),"way_fill",5e3,this.map),this.toogleMesureFilter(this.configService.getFilterWayByLength(),"way_line",.2,this.map),this.map.on("click",function(){var s=(0,oo.Z)(function*(a){const h=t.map.queryRenderedFeatures(a.point,{layers:t.configService.selecableLayers});if(!h.length)return;if(!t.configService.platforms.includes("hybrid")&&window.navigator.vibrate)window.navigator.vibrate(50);else try{yield Nne.impact({style:One.y$.Heavy})}catch{}const m=(0,_c.uniqBy)(h,y=>y.properties.id);m.length>1?t.eventShowDialogMultiFeatures.emit(m):t.selectFeature(m[0])});return function(a){return s.apply(this,arguments)}}()),this.map.on("touchmove",s=>{this.headingIsLocked=!1,this.positionIsFollow=!1}),this.map.on("rotate",function(){var s=(0,oo.Z)(function*(a){if(t.locationService.compassHeading.trueHeading&&(!t.configService.config.lockMapHeading||!t.headingIsLocked)){const h=t.getIconRotate(t.locationService.compassHeading.trueHeading,t.map.getBearing());t.map.setLayoutProperty("location_user","icon-rotate",h)}});return function(a){return s.apply(this,arguments)}}()),this.map.on("zoom",s=>{this._ngZone.run(()=>{this.configService.currentZoom=this.map.getZoom()})}),this.map.on("styleimagemissing",function(){var s=(0,oo.Z)(function*(a){});return function(a){return s.apply(this,arguments)}}()),this.locationService.eventNewCompassHeading.pipe(zc(s=>!this.locationService.compassHeading.trueHeading||Math.abs(s.trueHeading-this.locationService.compassHeading.trueHeading)>1),function kne(e,n=Wx,t){const r=sy(e,n);return function Pne(e,n){return bn((t,r)=>{const{leading:i=!0,trailing:s=!1}=n??{};let a=!1,h=null,m=null,y=!1;const C=()=>{m?.unsubscribe(),m=null,s&&(j(),y&&r.complete())},L=()=>{m=null,y&&r.complete()},F=fe=>m=sr(e(fe)).subscribe(fn(r,C,L)),j=()=>{if(a){a=!1;const fe=h;h=null,r.next(fe),!y&&F(fe)}};t.subscribe(fn(r,fe=>{a=!0,h=fe,(!m||m.closed)&&(i?j():F(fe))},()=>{y=!0,(!(s&&a&&m)||m.closed)&&r.complete()}))})}(()=>r,t)}(100)).subscribe(s=>{if(this.locationService.compassHeading.trueHeading||this.map.setLayoutProperty("location_user","icon-image","location-with-orientation"),this.locationService.compassHeading={...s},this.configService.config.lockMapHeading&&this.headingIsLocked)this.map.rotateTo(s.trueHeading),this.map.setLayoutProperty("location_user","icon-rotate",0);else{const a=this.getIconRotate(s.trueHeading,this.map.getBearing());this.map.setLayoutProperty("location_user","icon-rotate",a)}}),this.locationService.eventNewLocation.subscribe(s=>{if(s.features&&s.features[0].properties){const a=s.features[0].geometry.coordinates;this.map.getSource("location_circle").setData(s),s.features[0].properties?.accuracy&&this.changeLocationRadius(s.features[0].properties?.accuracy,!0),this.configService.config.followPosition&&this.positionIsFollow&&(this.map.setCenter(a),this.isFirstPosition&&(this.map.setZoom(18),this.isFirstPosition=!1))}}),this.locationService.gpsIsReady&&this.locationService.eventNewLocation.emit(this.locationService.getGeojsonPos()),this.eventMapIsLoaded.emit()}addMissingIconsToMap(t){var r=this;return(0,oo.Z)(function*(){const i=window.devicePixelRatio>1?2:1,s=[];for(const a of t){let h;const m=a.match(/^(circle|square|penta)-(#\w{6})-([\w-]+)$/),y=a.match(/^(circle|square|penta)-(#\w{6})-$/),C=a.match(/^(circle|square|penta)-$/);if(m){const[,L,F,j]=m;h={shape:L,color:F,id:j}}else if(y){let[,L,F]=y;h={shape:L,color:F,id:"maki-circle"}}else if(C){let[,L]=C;h={shape:L,color:"#000000",id:"maki-circle"}}else h={shape:"circle",color:"#000000",id:"maki-circle"},console.log("no match",a);!h||!h.shape||!h.color||!h.id||s.push(r.generateIconFromSprite(h))}return Promise.all(s).then(a=>{for(const h of a)h.blob&&!r.map.hasImage(h.id)&&r.map.addImage(h.id,h.blob,{pixelRatio:i})}),!0})()}getCanvasFromSpriteId(t){return new Promise((r,i)=>{(new Date).getTime();const a=this.tagsService.jsonSprites[t];a||i(t+" no spriteParams");const m=1==(a.pixelRatio||1)?"assets/mapStyle/sprites/sprites.png":"assets/mapStyle/sprites/sprites@2x.png";if(this.spritesCache){const C=this.createCanvasFromSprite(this.spritesCache,a);r(C)}else{const y=new Image;y.onload=()=>{this.spritesCache=y;const C=this.createCanvasFromSprite(y,a);r(C)},y.onerror=C=>{i(C)},y.src=m}})}createCanvasFromSprite(t,r){const i=document.createElement("canvas"),s=i.getContext("2d"),{x:a,y:h,width:m,height:y}=r;return i.width=1*m,i.height=1*y,s.drawImage(t,a,h,m,y,0,0,i.width,i.height),i}combineCanvasMarkerAndIcon(t,r){const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const s=i.getContext("2d");return s.drawImage(t,0,0),s.drawImage(r,0,0),i}generateIconFromSprite(t){var r=this;return(0,oo.Z)(function*(){const i=`${t.shape}-${t.color}-${t.id}`,s=`${t.shape}-${t.color}`,a=yield r.getCanvasFromSpriteId(t.id),h=yield r.getCanvasFromSpriteId(s),m=r.combineCanvasMarkerAndIcon(h,a);return new Promise((y,C)=>{m.toBlob(L=>{createImageBitmap(L).then(F=>{y({id:i,blob:F})})})})})()}static#e=this.\u0275fac=function(r){return new(r||e)(tr(gr),tr(Am),tr(_h),tr(bw),tr(x6),tr(mc),tr(gr),tr(W1),tr(Tm),tr(Td),tr(pc),tr(zh),tr(Ic))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Rne=(0,ry.fo)("Browser",{web:()=>X.e(3671).then(X.bind(X,3671)).then(e=>new e.BrowserWeb)});let rI=(()=>{class e{constructor(t,r,i){this.http=t,this.configService=r,this.localStorage=i,this.oauthParam={prod:{url:"https://www.openstreetmap.org",clientId:"-1NG8U9VYF2bMfdgWNHVRbO9LE1gWx_ABmst9egWdBQ",secretClient:"Kxte_brfB0XlrnjFjE8gqR6UMJkdZb_8hzMNQRBicG8"},dev:{url:"https://master.apis.dev.openstreetmap.org",clientId:"aqB_PKIY18QNLJODai_i4dQzoBlTAEwSxY_258JML0Y",secretClient:"j8HJ2UNWZkg1Pqazitbvys5TiHgkq7DxtyLc1NeRXco"}},this.tokenSubject=new $t(null),this.token$=this.tokenSubject.asObservable()}loadToken(){this.localStorage.get("osmToken").then(t=>{t&&this.tokenSubject.next(t)}).catch(t=>{console.error(t)})}get redirectUri(){return ry.dV.isNativePlatform()?"osmgo://auth":window.location.origin+"/"}get clientId(){return this.configService.config.isDevServer?this.oauthParam.dev.clientId:this.oauthParam.prod.clientId}get oauthUrl(){return this.configService.config.isDevServer?"https://api06.dev.openstreetmap.org/oauth2":"https://www.openstreetmap.org/oauth2"}get clientSecret(){return this.configService.config.isDevServer?this.oauthParam.dev.secretClient:this.oauthParam.prod.secretClient}getLoginUrl(){return`${this.oauthUrl}/authorize?client_id=${this.clientId}&redirect_uri=${this.redirectUri}&response_type=code&scope=read_prefs write_diary write_api write_notes`}login(){return It(Rne.open({url:this.getLoginUrl()}))}handleCallback(t){const i=new URLSearchParams(t.split("?")[1]).get("code");if(i)return this.exchangeCodeForToken(i);throw new Error("No code found in callback URL")}exchangeCodeForToken(t){const r=new URLSearchParams;return r.set("grant_type","authorization_code"),r.set("code",t),r.set("redirect_uri",this.redirectUri),r.set("client_id",this.clientId),r.set("client_secret",this.clientSecret),this.http.post(`${this.oauthUrl}/token`,r.toString(),{headers:(new Ed).set("Content-Type","application/x-www-form-urlencoded")}).pipe(jc(i=>{i.access_token&&this.setToken(i.access_token)}))}setToken(t){this.localStorage.set("osmToken",t),this.tokenSubject.next(t)}getToken(){return this.tokenSubject.value}logout(){this.localStorage.remove("osmToken"),this.tokenSubject.next(null),this.localStorage.remove("changeset"),this.configService.resetUserInfo()}isAuthenticated(){return!!this.getToken()}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Tm),tr(mc),tr(Sg))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),r0=(()=>{class e{constructor(t,r,i,s,a,h,m,y,C){this.platform=t,this.http=r,this.mapService=i,this.tagsService=s,this.dataService=a,this.alertService=h,this.configService=m,this.localStorage=y,this.osmAuthService=C,this.eventNewPoint=new Hi}isAuthenticated(){return this.osmAuthService.isAuthenticated()}getUrlApi(){return this.configService.getIsDevServer()?this.osmAuthService.oauthParam.dev.url:this.osmAuthService.oauthParam.prod.url}getUserDetail$(t=!1){let i;const s=this.osmAuthService.getToken();if(!s)return pd(()=>new Error("You are not connected"));const a=this.getUrlApi()+"/api/0.6/user/details.json";let h=new Ed;return h=h.set("Authorization",`Bearer ${s}`).set("Content-Type","application/json"),i=this.http.get(a,{headers:h}),i.pipe(un(m=>{const y=m.user,F={uid:y.id,display_name:y.display_name,connected:!0};return t||this.configService.setUserInfo(F),F}),qf(m=>(console.error(m),pd(m))))}createOSMChangeSet(t){const s=`\n        <osm>\n            <changeset>\n                <tag k="created_by" v="${this.configService.getAppFullVersion()}"/>\n                <tag k="locale" v="${navigator?.language||"*"}"/>\n                <tag k="comment" v="${t}"/>\n                <tag k="source" v="survey"/>\n            </changeset>\n        </osm>`;let h;const m=this.getUrlApi()+"/api/0.6/changeset/create",y=this.osmAuthService.getToken();if(!y)return pd(()=>new Error("You are not connected"));let C=new Ed;return C=C.set("Authorization",`Bearer ${y}`).set("Content-Type","text/xml"),h=this.http.put(m,s,{headers:C,responseType:"text"}),h.pipe(un(L=>(this.configService.setChangeset(L.toString(),Date.now(),Date.now(),t),L)))}getValidChangset(t){return null==this.configService.getChangeset().id||""===this.configService.getChangeset().id||t!==this.configService.getChangeset().comment||(Date.now()-this.configService.getChangeset().last_changeset_activity)/1e3>3540||(Date.now()-this.configService.getChangeset().last_changeset_activity)/1e3>86360?this.createOSMChangeSet(t):Xt(this.configService.getChangeset().id).pipe(un(r=>r))}escapeXmlValue(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}osmGoFeaturesToOsmDiffFile(t,r){const i=[],s=[],a=[];for(const m of t)if("Create"==m.properties.changeType){const y=this.geojson2OsmCreate(m,r);i.push(y)}else if("Update"==m.properties.changeType){const y=this.geojson2OsmUpdate(m,r);s.push(y)}else if("Delete"==m.properties.changeType)if(m.properties.usedByWays&&m.properties.usedByWays.length>0){m.properties.tags={};const y=this.geojson2OsmUpdate(m,r);s.push(y)}else{const y=this.geojson2OsmUpdate(m,r);a.push(y)}return`<osmChange version="0.6" generator="Osm Go !">\n                            <create> \n                                ${i.join("\n")}\n                            </create>\n\n                            <modify> \n                                ${s.join("\n")}\n                            </modify>\n\n                            <delete> \n                                ${a.join("\n")}\n                            </delete>\n\n                        </osmChange>\n                `}convertDiffFileResultPorperties(t,r){let i;r.new_version?1===parseInt(r.new_version)?i="Create":parseInt(r.new_version)>1&&(i="Update"):i="Delete";let s={type:t,typeChange:i,...r};return r.old_id&&(s={...s,old_id:r.old_id,osmgoOldId:`${t}/${r.old_id}`}),r.new_id&&(s={...s,new_id:r.new_id,osmgoNewId:`${t}/${r.new_id}`}),r.new_version&&(s={...s,new_version:parseInt(r.new_version)}),s}convertDiffFileResult(t){let s=new Lne.XMLParser({ignoreAttributes:!1,attributeNamePrefix:"",allowBooleanAttributes:!0}).parse(t).diffResult;const a=[];if(s.node){Array.isArray(s.node)||(s.node=[s.node]);for(const h of s.node){const m=this.convertDiffFileResultPorperties("node",h);a.push(m)}}if(s.way){Array.isArray(s.way)||(s.way=[s.way]);for(const h of s.way){const m=this.convertDiffFileResultPorperties("way",h);a.push(m)}}if(s.relation){Array.isArray(s.relation)||(s.relation=[s.relation]);for(const h of s.relation){const m=this.convertDiffFileResultPorperties("relation",h);a.push(m)}}return a}apiOsmSendOsmDiffFile(t,r){let s;const a=this.getUrlApi()+`/api/0.6/changeset/${r}/upload`,h=this.osmAuthService.getToken();if(!h)return pd(()=>new Error("You are not connected"));let m=new Ed;return m=m.set("Authorization",`Bearer ${h}`).set("accept","application/xml").set("Content-Type","text/plain; charset=utf-8"),s=this.http.post(a,t,{headers:m,responseType:"text"}),s.pipe(un(y=>this.convertDiffFileResult(y)))}geojson2OsmCreate(t,r){const i=t.properties.tags,m=`<node changeset="${r}" id="${t.properties.id}" lat="${t.geometry.coordinates[1]}" lon="${t.geometry.coordinates[0]}">`;let y="";for(const L in i)""!==L&&""!==i[L]&&(y+=`\n                                    <tag k="${this.escapeXmlValue(L.trim())}" v="${this.escapeXmlValue(String(i[L]).trim())}"/>`);return`${m}  ${y} </node>`}geojson2OsmUpdate(t,r){const i=t.properties.tags,s=t.properties.type,a=t.properties.meta.version,h=t.properties.id;if("node"===s){const C=`<node id="${h}"\n                    changeset="${r}"\n                    version="${a}"\n                    lat="${t.geometry.coordinates[1]}" lon="${t.geometry.coordinates[0]}">`;let L="";for(const j in i)""!==j&&""!==i[j]&&(L+=`<tag\n                                    k="${this.escapeXmlValue(j.trim())}"\n                                    v="${this.escapeXmlValue(String(i[j]).trim())}"/>`);return`${C} ${L}  </node>`}if("way"===s){const m=`<way id="${h}" changeset="${r}" version="${a}">`;let y="";for(const F in i)""!==F&&""!==i[F]&&(y+=`<tag\n                    k="${this.escapeXmlValue(F.trim())}"\n                    v="${this.escapeXmlValue(String(i[F]).trim())}"/>`);let C="";for(let F=0;F<t.ndRefs.length;F++)C+=`<nd ref="${t.ndRefs[F]}"/>`;return`${m}${C}${y}</way>`}if("relation"===s){const m=`<relation id="${h}" changeset="${r}" version="${a}">`;let y="";for(const F in i)""!==F&&""!==i[F]&&(y+=`<tag\n                        k="${this.escapeXmlValue(F.trim())}"\n                        v="${this.escapeXmlValue(String(i[F]).trim())}"/>`);let C="";for(let F=0;F<t.members.length;F++)C+=`<member\n                    type="${t.members[F].type}"\n                    role="${t.members[F].role}"\n                    ref="${t.members[F].ref}"/>`;return`\n                    ${m}\n                    ${y}\n                    ${C}\n                </relation>`}}createOsmNode(t){const r=(0,_c.cloneDeep)(t),i=this.dataService.nextFeatureId;return r.id="node/"+i,r.properties.id=i,r.properties.meta={timestamp:0,version:0,user:""},r.properties.changeType="Create",r.properties.originalData=null,Dm(r),It(this.dataService.addFeatureToGeojsonChanged(this.mapService.getIconStyle(r)))}updateOsmElement(t,r){const i=(0,_c.cloneDeep)(t);return Dm(i),"data_changed"===r?It(this.dataService.updateFeatureToGeojsonChanged(this.mapService.getIconStyle(i))):(i.properties.changeType="Update",i.properties.originalData=this.dataService.getFeatureById(i.id,"data"),this.dataService.deleteFeatureFromGeojson(i),It(this.dataService.addFeatureToGeojsonChanged(this.mapService.getIconStyle(i))))}deleteOsmElement(t){const r=(0,_c.cloneDeep)(t);if(Dm(r),!r.properties.changeType)return r.properties.changeType="Delete",r.properties.originalData=this.dataService.getFeatureById(r.id,"data"),this.dataService.deleteFeatureFromGeojson(r),It(this.dataService.addFeatureToGeojsonChanged(this.mapService.getIconStyle(r)));if("Create"===r.properties.changeType)this.dataService.deleteFeatureFromGeojsonChanged(r);else if("Update"===r.properties.changeType)return this.dataService.updateFeatureToGeojson(r.properties.originalData),r.properties.changeType="Delete",It(this.dataService.updateFeatureToGeojsonChanged(this.mapService.getIconStyle(r)))}formatOsmJsonData$(t,r,i,s=1e4){const a=this,h=this.dataService.getGeojsonBbox(),m=(0,_c.cloneDeep)(h.features[0]);return It(new Promise((y,C)=>{const L=new Worker("assets/workers/worker-formatOsmData.js");L.postMessage({tagsConfig:a.tagsService.tags,primaryKeys:a.tagsService.primaryKeys,osmData:t,oldGeojson:r,oldBboxFeature:m,geojsonChanged:i,limitFeatures:s}),L.onmessage=F=>{L.terminate(),F.data?y(F.data):C(Error("It broke"))}}))}getOsmObjectById$(t){const r=(new Ed).set("Content-Type","application/json").set("Accept","application/json"),i=this.getUrlApi()+`/api/0.6/${t}.json`;return this.http.get(i,{headers:r,responseType:"json"}).pipe(un(s=>{const a=s.elements[0];if(a)return a;pd(()=>new Error("No coordinates found"))}))}fetchNodeCoordinates(t){return this.getOsmObjectById$(`node/${t}`).pipe(un(r=>({lon:parseFloat(r.lon),lat:parseFloat(r.lat)})))}getFirstCoordFromIdObject$(t){const r=t.split("/")[0];return["node","way","relation"].includes(r)?this.getOsmObjectById$(t).pipe(Cn(i=>{if("node"===i.type)return Xt({lon:i.lon,lat:i.lat});if("way"===i.type)return this.fetchNodeCoordinates(i.nodes[0]);if("relation"===i.type){const s=i.members.find(a=>"node"===a.type||"way"===a.type);return s?this.getOsmObjectById$(`${s.type}/${s.ref}`).pipe(Cn(a=>"way"===a.type?this.fetchNodeCoordinates(a.nodes[0]):"node"===a.type?Xt({lon:a.lon,lat:a.lat}):pd(()=>new Error("No coordinates found")))):pd(()=>new Error("No coordinates found"))}return pd(()=>new Error("No coordinates found"))}),qf(()=>pd(()=>new Error("No coordinates found")))):pd(()=>new Error("Type not supported"))}getDataFromBbox(t,r=1e4){const i=W3(t);for(let h=0;h<i.geometry.coordinates[0].length;h++)i.geometry.coordinates[0][h][0]=i.geometry.coordinates[0][h][0],i.geometry.coordinates[0][h][1]=i.geometry.coordinates[0][h][1];const s=(new Ed).set("Content-Type","application/json").set("Accept","application/json"),a=this.getUrlApi()+`/api/0.6/map?bbox=${t.join(",")}`;return this.http.get(a,{headers:s,responseType:"text"}).pipe(Cn(h=>this.formatOsmJsonData$(h,this.dataService.getGeojson(),this.dataService.getGeojsonChanged(),r)),Pl(1),qf(h=>pd(h.error||"Impossible de t\xe9l\xe9charger les donn\xe9es (api)")))}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Ap),tr(Tm),tr(km),tr(_h),tr(Am),tr(bw),tr(mc),tr(Sg),tr(rI))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xw=(()=>{class e{constructor(t,r,i,s,a){this.configService=t,this.tagsService=r,this.dataService=i,this.translate=s,this.osmApi=a,this.isLoaded=!1}initLoadData$(t,r,i){return Sx({config:this.configService.getI18nConfig$().pipe(Cn(s=>this.configService.loadConfig$(s))),country:this.configService.getCountryConfig$(),userInfo:this.configService.loadUserInfo$(),changeSet:this.configService.loadChangeSet$(),savedFields:this.tagsService.loadSavedFields$(),jsonSprites:this.tagsService.loadJsonSprites$(),presets:this.tagsService.loadPresets$(),tags:this.tagsService.loadTags$(),bookMarksIds:this.tagsService.loadBookMarksIds$(),lastTagsUsedIds:this.tagsService.loadLastTagsUsedIds$(),hiddenTagsIds:this.tagsService.loadHiddenTagsIds$(),geojson:this.dataService.loadGeojson$(),geojsonChanged:this.dataService.loadGeojsonChanged$(),geojsonBbox:this.dataService.loadGeojsonBbox$(),objectOnStartCoords:i?this.osmApi.getFirstCoordFromIdObject$(i):Xt(void 0)}).pipe(un(s=>(s.objectOnStartCoords&&(t=[s.objectOnStartCoords.lon,s.objectOnStartCoords.lat],s.config.lastView.zoom=20,s.config.centerWhenGpsIsReady=!1),t&&(s.config.lastView.lng=t[0],s.config.lastView.lat=t[1],s.config.lastView.zoom=20,s.config.centerWhenGpsIsReady=!1),r&&(s.config.lastView.zoom=r),s)),jc(()=>{this.isLoaded=!0,this.translate.use(this.configService.config.languageUi)}))}static#e=this.\u0275fac=function(r){return new(r||e)(tr(mc),tr(_h),tr(Am),tr(Td),tr(r0))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Fne(e,n){if(1&e&&Tr(0,"div",2),2&e){const t=n.$implicit,r=sn();uf("width",t.width+"px")("height",t.height+"px")("background-position","-"+t.x+"px -"+t.y+"px"),Gt("className","spritesX"+r.devicePixelRatio)}}function Bne(e,n){if(1&e&&Tr(0,"div",2),2&e){const t=sn();uf("width",t.jsonSprites["wiki-question"].width+"px")("height",t.jsonSprites["wiki-question"].height+"px")("background-position","-"+t.jsonSprites["wiki-question"].x+"px -"+t.jsonSprites["wiki-question"].y+"px"),Gt("className","spritesX"+t.devicePixelRatio)}}let OM=(()=>{class e{constructor(){}ngOnInit(){this.devicePixelRatio=window.devicePixelRatio>1?2:1}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-icon"]],inputs:{jsonSprites:"jsonSprites",icon:"icon"},decls:3,vars:2,consts:[[1,"iconWrapper"],["style","margin-left: auto; margin-right: auto",3,"width","height","background-position","className",4,"ngIf"],[2,"margin-left","auto","margin-right","auto",3,"className"]],template:function(r,i){1&r&&(lt(0,"div",0),Yn(1,Fne,1,7,"div",1),Yn(2,Bne,1,7,"div",1),ct()),2&r&&(Ke(1),Gt("ngIf",i.icon&&i.jsonSprites[i.icon]),Ke(1),Gt("ngIf",!i.icon||!i.jsonSprites[i.icon]))},dependencies:[Bu],styles:[".spritesX1[_ngcontent-%COMP%]{background:url(sprites.efb7021745781b2d.png) 0 0 no-repeat}.spritesX2[_ngcontent-%COMP%]{background:url(sprites@2x.a2d5e97782c262a1.png) 0 0 no-repeat}.iconWrapper[_ngcontent-%COMP%]{position:relative;display:block}"]})}return e})();function Yne(e,n){1&e&&(F_(0),lt(1,"div",17)(2,"h2"),cn(3),wn(4,"translate"),ct()(),lt(5,"div",18),Tr(6,"ion-icon",19),ct(),lt(7,"div",17)(8,"h2"),cn(9),wn(10,"translate"),ct()(),B_()),2&e&&(Ke(3),Zr(Nn(4,2,"SEND_DATA.UPLOADING_DATA_TO_OSM")),Ke(6),Zr(Nn(10,4,"SEND_DATA.DONT_CLOSE")))}function zne(e,n){1&e&&(F_(0),lt(1,"div",18),Tr(2,"ion-icon",20),ct(),B_())}function jne(e,n){if(1&e&&(lt(0,"div",16),Yn(1,Yne,11,6,"ng-container",6),Yn(2,zne,3,0,"ng-container",6),ct()),2&e){const t=sn();Ke(1),Gt("ngIf",!t.uploadedOk),Ke(1),Gt("ngIf",t.uploadedOk)}}function Hne(e,n){1&e&&(lt(0,"h1"),cn(1,"DEV SERVER"),ct())}function $ne(e,n){if(1&e&&(lt(0,"ion-card",21)(1,"ion-card-content"),cn(2),ct()()),2&e){const t=sn();Ke(2),Or(" ",t.connectionError," ")}}function Une(e,n){1&e&&(lt(0,"ion-card",21)(1,"ion-card-content"),cn(2),wn(3,"translate"),ct()()),2&e&&(Ke(2),Or(" ",Nn(3,1,"SEND_DATA.YOU_MUST_BE_LOGGED_IN")," "))}function Vne(e,n){if(1&e&&(lt(0,"tr")(1,"td"),cn(2),ct(),lt(3,"td"),cn(4),ct()()),2&e){const t=sn().$implicit;Ke(2),Zr(t.key),Ke(2),Zr(t.value)}}function Gne(e,n){if(1&e&&(F_(0),Yn(1,Vne,5,2,"tr",6),B_()),2&e){const t=n.$implicit;Ke(1),Gt("ngIf",""!==t.value)}}function Wne(e,n){if(1&e&&(lt(0,"div")(1,"table",26),Yn(2,Gne,2,1,"ng-container",13),wn(3,"keyvalue"),ct()()),2&e){const t=sn(2);Ke(2),Gt("ngForOf",Nn(3,1,null==t.error.feature||null==t.error.feature.properties?null:t.error.feature.properties.tags))}}function qne(e,n){if(1&e){const t=Ji();lt(0,"ion-button",27),$n("click",function(){Ar(t);const i=sn(2);return kr(i.cancelErrorFeature(i.error.feature))}),cn(1),wn(2,"translate"),ct()}2&e&&(Ke(1),Zr(Nn(2,1,"SEND_DATA.CANCEL_THIS_CHANGE")))}function Xne(e,n){if(1&e&&(lt(0,"ion-card",22)(1,"ion-card-header")(2,"h4",23),cn(3,"Error"),ct()(),lt(4,"ion-card-content")(5,"span",24),cn(6),ct(),Yn(7,Wne,4,3,"div",6),Yn(8,qne,3,3,"ion-button",25),ct()()),2&e){const t=sn();Ke(6),cf("",t.error.status," ",t.error.message,""),Ke(1),Gt("ngIf",null==t.error.feature||null==t.error.feature.properties?null:t.error.feature.properties.tags),Ke(1),Gt("ngIf",t.error.feature)}}function Zne(e,n){1&e&&Tr(0,"ion-icon",33)}function Kne(e,n){1&e&&Tr(0,"ion-icon",34)}function Jne(e,n){1&e&&Tr(0,"ion-icon",35)}function Qne(e,n){if(1&e){const t=Ji();lt(0,"div",27),$n("click",function(){Ar(t);const i=sn().$implicit;return kr(sn().displayError(i.error))}),Tr(1,"ion-icon",36),ct()}}function ere(e,n){if(1&e){const t=Ji();lt(0,"tr")(1,"td"),Yn(2,Zne,1,0,"ion-icon",28),Yn(3,Kne,1,0,"ion-icon",29),Yn(4,Jne,1,0,"ion-icon",30),ct(),lt(5,"td"),Tr(6,"app-icon",31),ct(),lt(7,"td"),cn(8),ct(),lt(9,"td"),cn(10),ct(),lt(11,"td",27),$n("click",function(){const s=Ar(t).$implicit;return kr(sn().centerToElement(s.geometry.coordinates))}),Tr(12,"ion-icon",32),ct(),lt(13,"td"),Yn(14,Qne,2,0,"div",25),ct()()}if(2&e){const t=n.$implicit,r=sn();Ke(2),Gt("ngIf","Create"==t.properties.changeType),Ke(1),Gt("ngIf","Update"==t.properties.changeType),Ke(1),Gt("ngIf","Delete"==t.properties.changeType),Ke(1),uf("background-color",t.properties&&t.properties.hexColor?t.properties.hexColor:"black"),Ke(1),Gt("icon",t.properties.icon)("jsonSprites",r.tagsService.jsonSprites),Ke(2),Zr(null==t.properties?null:t.properties._name),Ke(2),cf(" ",null==t.properties?null:t.properties.primaryTag.key,": ",null==t.properties?null:t.properties.primaryTag.value," "),Ke(4),Gt("ngIf",t.error)}}let M6=(()=>{class e{constructor(t,r,i,s,a,h,m,y,C,L){this.dataService=t,this.osmApi=r,this.tagsService=i,this.mapService=s,this.navCtrl=a,this.alertCtrl=h,this.configService=m,this.platform=y,this.translate=C,this.initService=L,this.summary={Total:0,Create:0,Update:0,Delete:0},this.changesetId="",this.commentChangeset="",this.isPushing=!1,this.uploadedOk=!1,this.featuresChanges=[],this.basicPassword=null,this.commentChangeset=this.configService.getChangeSetComment(),this.featuresChanges=this.dataService.getGeojsonChanged().features}ngOnInit(){this.initService.isLoaded||this.navCtrl.back()}ngOnDestroy(){}presentConfirm(){this.alertCtrl.create({header:this.translate.instant("SEND_DATA.DELETE_CONFIRM_HEADER"),message:this.translate.instant("SEND_DATA.DELETE_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.CANCEL"),role:"cancel",handler:()=>{}},{text:this.translate.instant("SHARED.CONFIRM"),handler:()=>{this.cancelAllFeatures()}}]}).then(t=>{t.present()})}displayError(t){this.alertCtrl.create({message:t,buttons:[{text:this.translate.instant("SHARED.CLOSE"),role:"cancel",handler:()=>{}}]}).then(r=>{r.present()})}getSummary(){const t={Total:0,Create:0,Update:0,Delete:0};this.featuresChanges=this.dataService.getGeojsonChanged().features;const r=this.dataService.getGeojsonChanged().features;for(let i=0;i<r.length;i++)t[r[i].properties.changeType]++,t.Total++;return t}updateLocalDataFromDiffResult(t,r){for(const i of t){const s=r.find(h=>h.id==i.osmgoOldId);let a=(0,_c.cloneDeep)(s);a.id=`${i.osmgoNewId?i.osmgoNewId:null}`,a.properties.id=i.new_id?parseInt(i.new_id):null,a.properties.meta.version=i.new_version?i.new_version:null,a.properties.meta.user=this.configService.getUserInfo().display_name,a.properties.meta.uid=this.configService.getUserInfo().uid,a.properties.meta.timestamp=(new Date).toISOString(),a.properties.time=(new Date).getTime(),a.properties.tags.fixme?a.properties.fixme=!0:a.properties.fixme&&delete a.properties.fixme,a.properties.deprecated&&delete a.properties.deprecated,delete a.properties.changeType,delete a.properties.originalData,a=this.mapService.getIconStyle(a),Dm(a),"Create"==i.typeChange?(a=this.mapService.getIconStyle(a),this.dataService.deleteFeatureFromGeojsonChanged(s),this.dataService.addFeatureToGeojson(a)):"Update"==i.typeChange?(a=this.mapService.getIconStyle(a),this.dataService.deleteFeatureFromGeojsonChanged(s),Object.keys(a.properties.tags).length>0&&this.dataService.addFeatureToGeojson(a)):"Delete"==i.typeChange&&this.dataService.deleteFeatureFromGeojsonChanged(s)}}userIsConnected(){return new Promise((t,r)=>{this.osmApi.getUserDetail$(!0).pipe(Pl(1)).subscribe(i=>{t(!0)},i=>{console.error(i),r(i.error),this.isPushing=!1})})}getFeatureFromErrorResult(t,r){let i;if(409==t){const a=r.match(/(Node|Way|Relation)\s\d+$/);if(a){const h=a[0].split(" ")[0].toLowerCase(),m=a[0].split(" ")[1];i=h&&m?`${h}/${m}`:null}}else{if(410!=t)return null;{const h=r.match(/(node|way|relation)\swith\sthe\sid\s\d+/)[0].split(" with the id "),m=h[0],y=h[1];i=m&&y?`${m}/${y}`:null}}return i?this.dataService.getGeojsonChanged().features.find(a=>a.id==i):null}pushDataToOsm(t){var r=this;return(0,oo.Z)(function*(){if(r.isPushing)console.log("Already pushing");else{yield r.dataService.replaceIdGenerateByOldVersion(),r.configService.setChangeSetComment(t),r.mapService.isProcessing.next(!0),r.isPushing=!0,r.uploadedOk=!1;try{yield r.userIsConnected()}catch(i){return r.connectionError=i,r.isPushing=!1,void r.mapService.isProcessing.next(!1)}r.connectionError=void 0,r.osmApi.getValidChangset(t).pipe(Pl(1)).subscribe(i=>{const s=r.dataService.getGeojsonChanged().features;r.changesetId=i;const a=r.osmApi.osmGoFeaturesToOsmDiffFile(s,r.changesetId);r.osmApi.apiOsmSendOsmDiffFile(a,r.changesetId).pipe(Pl(1)).subscribe({next:h=>{r.updateLocalDataFromDiffResult(h,s),r.mapService.eventMarkerReDraw.emit(r.dataService.getGeojson()),r.mapService.eventMarkerChangedReDraw.emit(r.dataService.getGeojsonChanged()),r.featuresChanges=r.dataService.getGeojsonChanged().features,r.error=void 0,r.summary=r.getSummary(),r.uploadedOk=!0,r.mapService.isProcessing.next(!1),sy(1e3).pipe(Pl(1)).subscribe(()=>{r.navCtrl.back()})},error:h=>{const m=r.getFeatureFromErrorResult(h.status,h.error);r.error={status:h.status,message:h.error,feature:m};const y={...r.featuresChanges.find(C=>C.id==m?.id),error:h.error};r.featuresChanges=[y,...r.featuresChanges.filter(C=>C.id!==m?.id)],r.isPushing=!1,r.mapService.isProcessing.next(!1)}})})}})()}cancelErrorFeature(t){this.dataService.cancelFeatureChange(t),this.featuresChanges=this.dataService.getGeojsonChanged().features,this.mapService.eventMarkerReDraw.emit(this.dataService.getGeojson()),this.mapService.eventMarkerChangedReDraw.emit(this.dataService.getGeojsonChanged()),this.error=void 0}cancelAllFeatures(){var t=this;return(0,oo.Z)(function*(){const r=t.dataService.getGeojsonChanged().features;for(let i of r)t.dataService.cancelFeatureChange(i);yield t.dataService.resetGeojsonChanged(),t.summary=t.getSummary(),t.featuresChanges=t.dataService.getGeojsonChanged().features,sy(100).pipe(Pl(1)).subscribe(i=>{t.mapService.eventMarkerReDraw.emit(t.dataService.getGeojson()),t.mapService.eventMarkerChangedReDraw.emit(t.dataService.getGeojsonChanged()),t.mapService.isProcessing.next(!1),t.navCtrl.pop()})})()}centerToElement(t){this.mapService.map.getZoom()<18.5&&this.mapService.map.setZoom(18.5),this.mapService.map.setCenter(t),this.navCtrl.pop()}ngAfterViewInit(){this.summary=this.getSummary()}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(Am),Oe(r0),Oe(_h),Oe(km),Oe(jh),Oe(W1),Oe(mc),Oe(Ap),Oe(Td),Oe(xw))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["page-push-data-to-osm"]],decls:72,vars:53,consts:[["class","pushDataOverlay",4,"ngIf"],["color","primary"],["slot","primary",2,"min-width","32px"],[3,"disabled","click"],["name","chevron-back-outline","slot","icon-only"],[1,"ion-padding"],[4,"ngIf"],["color","danger",4,"ngIf"],[2,"width","100%"],["class","cardError",4,"ngIf"],["type","text",3,"ngModel","placeholder","ngModelChange"],[2,"width","45px"],["name","locate"],[4,"ngFor","ngForOf"],["color","danger",1,"footerButton",3,"disabled","click"],[1,"footerButton",3,"disabled","click"],[1,"pushDataOverlay"],[2,"text-align","center"],[2,"margin","1em"],["name","globe",1,"uploadingIcon"],["name","checkmark-circle-outline",1,"uploadedOkIcon"],["color","danger"],[1,"cardError"],[2,"color","white"],[1,"errorPush"],[3,"click",4,"ngIf"],["id","errorTable"],[3,"click"],["name","add","class","iconType","style","color: green",4,"ngIf"],["name","create","class","iconType","style","color: blue",4,"ngIf"],["name","trash","class","iconType","style","color: red",4,"ngIf"],[1,"imgCenter","iconImg",3,"icon","jsonSprites"],["name","locate",2,"font-size","2em"],["name","add",1,"iconType",2,"color","green"],["name","create",1,"iconType",2,"color","blue"],["name","trash",1,"iconType",2,"color","red"],["name","bug"]],template:function(r,i){1&r&&(Yn(0,jne,3,2,"div",0),lt(1,"ion-header",1)(2,"ion-toolbar",1)(3,"ion-buttons",2)(4,"ion-button",3),$n("click",function(){return i.navCtrl.back()}),Tr(5,"ion-icon",4),ct()(),lt(6,"ion-title"),cn(7),wn(8,"translate"),ct()()(),lt(9,"ion-content",5),Yn(10,Hne,2,0,"h1",6),Yn(11,$ne,3,1,"ion-card",7),Yn(12,Une,4,3,"ion-card",7),lt(13,"ion-card")(14,"ion-card-content")(15,"table",8)(16,"tr")(17,"th"),cn(18),wn(19,"translate"),ct(),lt(20,"th"),cn(21),wn(22,"translate"),ct(),lt(23,"th"),cn(24),wn(25,"translate"),ct(),lt(26,"th"),cn(27),wn(28,"translate"),ct()(),lt(29,"tr")(30,"td"),cn(31),ct(),lt(32,"td"),cn(33),ct(),lt(34,"td"),cn(35),ct(),lt(36,"td"),cn(37),ct()()()()(),Yn(38,Xne,9,4,"ion-card",9),lt(39,"ion-card")(40,"ion-card-header"),cn(41),wn(42,"translate"),ct(),lt(43,"ion-card-content")(44,"ion-item")(45,"ion-input",10),$n("ngModelChange",function(a){return i.commentChangeset=a}),wn(46,"translate"),ct()()()(),lt(47,"table",8)(48,"tr")(49,"th",11),cn(50),wn(51,"translate"),ct(),Tr(52,"th",11),lt(53,"th"),cn(54),wn(55,"translate"),ct(),lt(56,"th"),cn(57),wn(58,"translate"),ct(),lt(59,"th",11),Tr(60,"ion-icon",12),ct(),lt(61,"th",11),cn(62),wn(63,"translate"),ct()(),Yn(64,ere,15,11,"tr",13),ct()(),lt(65,"ion-footer")(66,"ion-button",14),$n("click",function(){return i.presentConfirm()}),cn(67),wn(68,"translate"),ct(),lt(69,"ion-button",15),$n("click",function(){return i.pushDataToOsm(i.commentChangeset)}),cn(70),wn(71,"translate"),ct()()),2&r&&(Gt("ngIf",i.isPushing),Ke(4),Gt("disabled",i.isPushing),Ke(3),Or(" ",Nn(8,27,"SEND_DATA.SEND_DATA")," "),Ke(3),Gt("ngIf",i.configService.config.isDevServer),Ke(1),Gt("ngIf",i.connectionError),Ke(1),Gt("ngIf",!i.configService.user_info.connected),Ke(6),Zr(Nn(19,29,"SEND_DATA.TOTAL_ITEMS")),Ke(3),Zr(Nn(22,31,"SEND_DATA.ADDED_ITEMS")),Ke(3),Zr(Nn(25,33,"SEND_DATA.UPDATED_ITEMS")),Ke(3),Zr(Nn(28,35,"SEND_DATA.DELETED_ITEMS")),Ke(4),Zr(i.summary.Total),Ke(2),Zr(i.summary.Create),Ke(2),Zr(i.summary.Update),Ke(2),Zr(i.summary.Delete),Ke(1),Gt("ngIf",i.error),Ke(3),Or(" ",Nn(42,37,"SEND_DATA.CHANGESET_COMMENT")," "),Ke(4),Gt("ngModel",i.commentChangeset)("placeholder",Nn(46,39,"SEND_DATA.CHANGESET_COMMENT")),Ke(5),Zr(Nn(51,41,"SEND_DATA.TYPE")),Ke(4),Zr(Nn(55,43,"SEND_DATA.NAME")),Ke(3),Zr(Nn(58,45,"SEND_DATA.PRIMARY_KEY")),Ke(5),Zr(Nn(63,47,"SEND_DATA.ERROR")),Ke(2),Gt("ngForOf",i.featuresChanges),Ke(2),Gt("disabled",i.isPushing),Ke(1),Zr(Nn(68,49,"SEND_DATA.DELETE")),Ke(2),Gt("disabled",!i.configService.user_info.connected||!i.featuresChanges||0===i.featuresChanges.length||i.isPushing),Ke(1),Zr(Nn(71,51,"SEND_DATA.SEND")))},dependencies:[Hd,Bu,hh,Ud,Hc,Pp,fh,pf,Mm,Vd,kp,ph,Ql,Sm,Gd,Wd,gh,Hh,OM,mO,gc],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;padding:4px}.footerButton[_ngcontent-%COMP%]{width:45%}.iconType[_ngcontent-%COMP%]{color:#fff;height:25px;width:25px}.cardError[_ngcontent-%COMP%]{background-color:#8b0000;color:#f5f5f5}.pushDataOverlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:11;background-color:#f5f5f5;display:flex;align-content:center;flex-direction:column;justify-content:center;align-items:center}.uploadingIcon[_ngcontent-%COMP%]{font-size:4em;animation-name:_ngcontent-%COMP%_spin;animation-duration:3s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.uploadedOkIcon[_ngcontent-%COMP%]{font-size:9em;color:green}ion-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;justify-content:space-around}#errorTable[_ngcontent-%COMP%]{border-collapse:collapse;color:#000;font-weight:600;font-size:.8em;background-color:#d3d3d3}#errorTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #errorTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:3px;text-align:left}#errorTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}"]})}return e})(),S6=(()=>{class e{constructor(t,r,i,s,a){this.configService=t,this.platform=r,this.viewCtrl=i,this.navCtrl=s,this.toastController=a}presentToast(){var t=this;return(0,oo.Z)(function*(){(yield t.toastController.create({message:"You have activated the developer mode!",duration:2e3})).present()})()}dismiss(t=null){this.viewCtrl.dismiss(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(mc),Oe(Ap),Oe(mh),Oe(jh),Oe(IC))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["page-about"]],decls:34,vars:13,consts:[["color","primary"],["slot","primary",2,"min-width","32px"],[3,"click"],["name","chevron-back-outline","slot","icon-only"],[1,"ion-padding-vertical"],["lines","none"],["slot","start"],["alt","","src","/assets/logo.png"],["href","https://github.com/OsmTravel/OsmGo","target","_blank"],["name","logo-github","slot","start"]],template:function(r,i){1&r&&(lt(0,"ion-header",0)(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),$n("click",function(){return i.navCtrl.back()}),Tr(4,"ion-icon",3),ct()(),lt(5,"ion-title"),cn(6),wn(7,"translate"),ct()()(),lt(8,"ion-content",4)(9,"ion-item-group")(10,"ion-item",5)(11,"ion-thumbnail",6),Tr(12,"img",7),ct(),lt(13,"ion-label"),cn(14,"OSM Go!"),ct()(),lt(15,"ion-item")(16,"ion-label")(17,"h3"),cn(18),wn(19,"translate"),ct(),lt(20,"p"),cn(21),ct()()(),lt(22,"ion-item")(23,"ion-label")(24,"h3"),cn(25),wn(26,"translate"),ct(),lt(27,"p"),cn(28),wn(29,"translate"),ct()()(),lt(30,"ion-item",8),Tr(31,"ion-icon",9),lt(32,"ion-label"),cn(33,"GitHub"),ct()()()()),2&r&&(Ke(6),Or(" ",Nn(7,5,"ABOUT.ABOUT")," "),Ke(12),Zr(Nn(19,7,"ABOUT.VERSION")),Ke(3),Zr(i.configService.getAppFullVersion()),Ke(4),Zr(Nn(26,9,"ABOUT.DATA")),Ke(3),Zr(Nn(29,11,"ABOUT.OSM_CONTRIBUTORS")))},dependencies:[Hc,Pp,Vd,ph,Ql,Gd,Fx,ty,l3,Wd,gh,gc],encapsulation:2})}return e})(),E6=(()=>{class e{transform(t,...r){if(!t)return;let i=[];for(let s in t)i=[...i,`${s}=${t[s]}`];return i.join(" & ")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"displayTags",type:e,pure:!0})}return e})(),T6=(()=>{class e{transform(t,r){return!(!t.id||!r)&&r.includes(t.id)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"isBookmarked",type:e,pure:!0})}return e})();function tre(e,n){if(1&e){const t=Ji();lt(0,"div",10),$n("click",function(){Ar(t);const i=sn();return kr(i.addOrRemoveBookmark(i.tag))}),Tr(1,"ion-icon",11),wn(2,"isBookmarked"),ct()}if(2&e){const t=sn();Ke(1),uf("color",Kl(2,2,t.tag,t.bookmarksIds)?"#f71000":"#d8d8d8")}}function nre(e,n){if(1&e&&(lt(0,"div",12),Tr(1,"ion-icon",13),ct()),2&e){const t=sn();Ke(1),uf("color",(null==t.oldTagConfig?null:t.oldTagConfig.id)===t.tag.id?"green":"black")}}function rre(e,n){if(1&e){const t=Ji();lt(0,"div")(1,"ion-button",14),$n("click",function(){Ar(t);const i=sn();return kr(i.removeHiddenTag.emit(i.tag))}),Tr(2,"ion-icon",15),ct()()}}function ire(e,n){if(1&e){const t=Ji();lt(0,"div")(1,"ion-button",16),$n("click",function(){Ar(t);const i=sn();return kr(i.addHiddenTag.emit(i.tag))}),Tr(2,"ion-icon",17),ct()()}}let NM=(()=>{class e{constructor(){this.removeBookmark=new Hi,this.addBookmark=new Hi,this.removeHiddenTag=new Hi,this.addHiddenTag=new Hi,this.selected=new Hi}ngOnInit(){}isBookMarked(t){return this.bookmarksIds.includes(t.id)}addOrRemoveBookmark(t){this.isBookMarked(t)?this.removeBookmark.emit(t):this.addBookmark.emit(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-tag-list-element"]],inputs:{tag:"tag",countryTags:"countryTags",languageTags:"languageTags",jsonSprites:"jsonSprites",geometriesFilter:"geometriesFilter",bookmarksIds:"bookmarksIds",oldTagConfig:"oldTagConfig",isHiddenTag:"isHiddenTag",showHideTagButton:"showHideTagButton"},outputs:{removeBookmark:"removeBookmark",addBookmark:"addBookmark",removeHiddenTag:"removeHiddenTag",addHiddenTag:"addHiddenTag",selected:"selected"},decls:18,vars:15,consts:[[1,"content"],[1,"tag-icon",2,"width","50px"],[1,"icon-wrapper"],[2,"display","block",3,"icon","jsonSprites"],["style","width: 36px","class","bookmark",3,"click",4,"ngIf"],[1,"tag-text","spacer",3,"click"],[2,"font-size","0.8em"],[2,"font-size","11px","font-style","italic"],["class","action",4,"ngIf"],[4,"ngIf"],[1,"bookmark",2,"width","36px",3,"click"],["name","heart","item-left","",2,"font-size","26px","height","100%","width","100%"],[1,"action"],["name","checkmark","item-left","",2,"font-size","26px","height","100%"],["color","success",1,"ion-no-margin","buttonUnhideTag",3,"click"],["name","add-circle"],["color","danger",1,"ion-no-margin","buttonUnhideTag",3,"click"],["name","remove-circle"]],template:function(r,i){1&r&&(lt(0,"div",0)(1,"div",1)(2,"div",2),Tr(3,"app-icon",3),ct()(),Yn(4,tre,3,5,"div",4),lt(5,"div",5),$n("click",function(){return i.selected.emit(i.tag)}),lt(6,"b"),cn(7),ct(),Tr(8,"br"),lt(9,"span",6),cn(10),wn(11,"displayTags"),ct(),Tr(12,"br"),lt(13,"span",7),cn(14),ct()(),Yn(15,nre,2,2,"div",8),Yn(16,rre,3,0,"div",9),Yn(17,ire,3,0,"div",9),ct()),2&r&&(Ke(1),uf("background-color",i.tag.markerColor?i.tag.markerColor:"black"),Ke(2),Gt("icon",i.tag.icon)("jsonSprites",i.jsonSprites),Ke(1),Gt("ngIf",!i.isHiddenTag),Ke(2),uf("color",(null==i.oldTagConfig?null:i.oldTagConfig.id)===i.tag.id?"#3b22dd":"black"),Ke(1),Zr(null!=i.tag&&i.tag.lbl?(null==i.tag?null:i.tag.lbl[i.languageTags])||(null==i.tag?null:i.tag.lbl.en):null),Ke(3),Zr(Nn(11,13,null==i.tag?null:i.tag.tags)),Ke(4),Or(" ",null!=i.tag&&i.tag.description?(null==i.tag?null:i.tag.description[i.languageTags])||(null==i.tag?null:i.tag.description.en):""," "),Ke(1),Gt("ngIf",(null==i.oldTagConfig?null:i.oldTagConfig.id)===i.tag.id),Ke(1),Gt("ngIf",i.isHiddenTag),Ke(1),Gt("ngIf",i.showHideTagButton))},dependencies:[Bu,Hc,Ql,OM,E6,T6],styles:[".box[_ngcontent-%COMP%]{display:flex}.content[_ngcontent-%COMP%]{position:relative;width:100%;display:flex}.tag-icon[_ngcontent-%COMP%]{position:relative;width:50px;min-width:50px;padding:.2em}.icon-wrapper[_ngcontent-%COMP%]{width:45px;height:45px;margin:0;position:absolute;top:50%;transform:translateY(-50%)}.buttonUnhideTag[_ngcontent-%COMP%]{height:100%;padding-top:5px;padding-bottom:5px}.bookmark[_ngcontent-%COMP%]{width:36px;min-width:36px;vertical-align:middle;padding:.2em}.action[_ngcontent-%COMP%]{width:45px;min-width:45px}.tag-text[_ngcontent-%COMP%]{padding:.5em}.spacer[_ngcontent-%COMP%]{flex-grow:1}"]})}return e})(),RM=(()=>{class e{replaceCharSpe(t){if(t)return t.replace(/[\xfb]/gi,"u").replace(/[\xe1\xe0\xe2]/gi,"a").replace(/[\xe9\xe8\xea\xeb]/gi,"e").replace(/[\xed\xee\xef]/gi,"i").replace(/[\xf3\xf4]/gi,"o").replace(/\xe7/g,"c")}transform(t,r,i){const s=new RegExp(i,"i"),[a,h]=r;return i?t.filter(m=>{const y=JSON.stringify(m.tags);if(s.test(y))return!0;if(s.test(this.replaceCharSpe(y)))return!0;if(m.lbl){let C=m.lbl[a]?m.lbl[a]:m.lbl.en;if(s.test(C))return!0;if(s.test(this.replaceCharSpe(C)))return!0}if(m.terms){let C=m.terms[a]?m.terms[a]:m.terms.en;if(s.test(C))return!0;if(s.test(this.replaceCharSpe(C)))return!0}}):t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterByTagsContent",type:e,pure:!1})}return e})(),sre=(()=>{class e{transform(t,r){return t.filter(i=>!i.excludeCountryCodes||!i.excludeCountryCodes.includes(r))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterExcludeTagByCountryCode",type:e,pure:!1})}return e})(),C6=(()=>{class e{transform(t){return t?t.filter(r=>{if(!r.deprecated)return!0}):[]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterDeprecatedTag",type:e,pure:!1})}return e})(),ore=(()=>{class e{transform(t,r){return r&&0!=r.length?t.filter(s=>{if(!s.geometry)return!0;for(let a of r)if(s.geometry.includes(a))return!0;return!1}):t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterByByGeometryType",type:e,pure:!0})}return e})(),are=(()=>{class e{transform(t){return t.filter(r=>{if(void 0===r.searchable||!1!==r.searchable)return!0})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterBySearchable",type:e,pure:!0})}return e})(),FM=(()=>{class e{transform(t,r,i=!1){if(!r)return t;let s;s=i?new Array:new Array(r.length);for(let a=0;a<t.length;a++){const h=t[a],y=r.indexOf(h.id);-1===y||i?-1===y&&i&&s.push(h):s[y]=h}return i?s:s.filter(a=>void 0!==a)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filtersTagsByIds",type:e,pure:!0})}return e})(),lre=(()=>{class e{transform(t){return t.sort()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"sortArray",type:e,pure:!0})}return e})(),ure=(()=>{class e{transform(t,r){return r?t.slice(0,r):t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"limitDisplayTags",type:e,pure:!0})}return e})();function cre(e,n){if(1&e){const t=Ji();lt(0,"ion-item",15)(1,"app-tag-list-element",16),$n("removeBookmark",function(){const s=Ar(t).$implicit;return kr(sn(3).tagsService.removeBookMark(s))})("addBookmark",function(){const s=Ar(t).$implicit;return kr(sn(3).tagsService.addBookMark(s))})("selected",function(i){return Ar(t),kr(sn(3).selected(i))}),ct()()}if(2&e){const t=n.$implicit,r=sn(3);Ke(1),Gt("tag",t)("countryTags",r.configService.config.countryTags)("languageTags",r.configService.config.languageTags)("jsonSprites",r.tagsService.jsonSprites)("geometriesFilter",r.geometriesPossible)("bookmarksIds",r.tagsService.bookmarksIds)("oldTagConfig",r.oldTagConfig)}}function dre(e,n){if(1&e){const t=Ji();lt(0,"ion-chip")(1,"ion-label",17),$n("click",function(){const s=Ar(t).$implicit,a=sn(3);return kr(a.addCustomValue(s,a.searchText.toLowerCase()))}),cn(2),wn(3,"lowercase"),ct()()}if(2&e){const t=n.$implicit,r=sn(3);Ke(2),cf("",t,"=",Nn(3,2,r.searchText),"")}}const iI=function(e){return[e]},hre=function(e,n){return[e,n]};function fre(e,n){if(1&e&&(lt(0,"div",11)(1,"ion-list",12),Yn(2,cre,2,7,"ion-item",13),wn(3,"limitDisplayTags"),wn(4,"filterByTagsContent"),wn(5,"filterByByGeometryType"),wn(6,"filterExcludeTagByCountryCode"),wn(7,"filterBySearchable"),wn(8,"filterDeprecatedTag"),wn(9,"filtersTagsByIds"),ct(),lt(10,"div")(11,"h4"),cn(12),wn(13,"translate"),ct(),Yn(14,dre,4,4,"ion-chip",14),wn(15,"sortArray"),ct()()),2&e){const t=sn(2);Ke(2),Gt("ngForOf",Kl(3,3,cg(4,6,Kl(5,10,Kl(6,13,Nn(7,16,Nn(8,18,cg(9,20,t.currentListOfTags,t.tagsService.hiddenTagsIds,!0))),t.countryTags),H_(28,iI,t.geometryType)),i1(30,hre,t.configService.config.languageTags,t.configService.config.countryTags),t.searchText),50)),Ke(10),Zr(Nn(13,24,"MODAL_SELECTED_ITEM.CUSTOM_KEY_VALUE")),Ke(2),Gt("ngForOf",Nn(15,26,t.tagsService.primaryKeys))}}function pre(e,n){if(1&e){const t=Ji();lt(0,"ion-item",15)(1,"app-tag-list-element",16),$n("removeBookmark",function(i){return Ar(t),kr(sn(4).removeBookmark(i))})("addBookmark",function(i){return Ar(t),kr(sn(4).addBookmark(i))})("selected",function(i){return Ar(t),kr(sn(4).selected(i))}),ct()()}if(2&e){const t=n.$implicit,r=sn(4);Ke(1),Gt("tag",t)("countryTags",r.configService.config.countryTags)("languageTags",r.configService.config.languageTags)("jsonSprites",r.tagsService.jsonSprites)("geometriesFilter",r.geometriesPossible)("bookmarksIds",r.tagsService.bookmarksIds)("oldTagConfig",r.oldTagConfig)}}function gre(e,n){if(1&e&&(lt(0,"div",27)(1,"h4",28),cn(2),wn(3,"translate"),ct(),lt(4,"ion-list",12),Yn(5,pre,2,7,"ion-item",13),wn(6,"filterByByGeometryType"),wn(7,"filterExcludeTagByCountryCode"),wn(8,"filterBySearchable"),wn(9,"filterDeprecatedTag"),wn(10,"filtersTagsByIds"),ct()()),2&e){const t=sn(3);Ke(2),Or(" ",Nn(3,2,"MODAL_SELECTED_ITEM.LAST_TAG_USED")," "),Ke(3),Gt("ngForOf",Kl(6,4,Kl(7,7,Nn(8,10,Nn(9,12,Kl(10,14,t.tagsService.tags,t.tagsService.lastTagsUsedIds))),t.countryTags),H_(17,iI,t.geometryType)))}}function mre(e,n){if(1&e){const t=Ji();lt(0,"ion-item",15)(1,"app-tag-list-element",16),$n("removeBookmark",function(i){return Ar(t),kr(sn(4).removeBookmark(i))})("addBookmark",function(i){return Ar(t),kr(sn(4).addBookmark(i))})("selected",function(i){return Ar(t),kr(sn(4).selected(i))}),ct()()}if(2&e){const t=n.$implicit,r=sn(4);Ke(1),Gt("tag",t)("countryTags",r.configService.config.countryTags)("languageTags",r.configService.config.languageTags)("jsonSprites",r.tagsService.jsonSprites)("geometriesFilter",r.geometriesPossible)("bookmarksIds",r.tagsService.bookmarksIds)("oldTagConfig",r.oldTagConfig)}}function _re(e,n){if(1&e&&(lt(0,"div",29)(1,"h4",28),cn(2),wn(3,"translate"),ct(),lt(4,"ion-list",12),Yn(5,mre,2,7,"ion-item",13),wn(6,"filterByByGeometryType"),wn(7,"filterExcludeTagByCountryCode"),wn(8,"filtersTagsByIds"),ct()()),2&e){const t=sn(3);Ke(2),Or(" ",Nn(3,2,"MODAL_SELECTED_ITEM.BOOKMARKS")," "),Ke(3),Gt("ngForOf",Kl(6,4,Kl(7,7,Kl(8,10,t.tagsService.tags,t.tagsService.bookmarksIds),t.countryTags),H_(13,iI,t.geometryType)))}}function yre(e,n){if(1&e){const t=Ji();lt(0,"div",18),$n("swipeleft",function(){return Ar(t),kr(sn(2).swipeLeft())})("swiperight",function(){return Ar(t),kr(sn(2).swipeRight())}),lt(1,"p",19),cn(2),wn(3,"translate"),ct(),lt(4,"div",20)(5,"ion-button",21),$n("click",function(){return Ar(t),kr(sn(2).changePageLastTagsBookmarks("lastTags"))}),Tr(6,"ion-icon",22),cn(7),wn(8,"translate"),ct(),lt(9,"ion-button",21),$n("click",function(){return Ar(t),kr(sn(2).changePageLastTagsBookmarks("bookmarks"))}),Tr(10,"ion-icon",23),cn(11),wn(12,"translate"),ct()(),Tr(13,"div",24),Yn(14,gre,11,19,"div",25),Yn(15,_re,9,15,"div",26),ct()}if(2&e){const t=sn(2);Ke(2),Or(" ",Nn(3,7,"MODAL_SELECTED_ITEM.SEARCH_TAG_AT_LEAST_3_LETTERS")," "),Ke(3),Gt("disabled","lastTags"===t.displayType),Ke(2),Or(" ",Nn(8,9,"MODAL_SELECTED_ITEM.LAST_TAG_USED")," "),Ke(2),Gt("disabled","bookmarks"===t.displayType),Ke(2),Or(" ",Nn(12,11,"MODAL_SELECTED_ITEM.BOOKMARKS")," "),Ke(3),Gt("ngIf","lastTags"==t.displayType),Ke(1),Gt("ngIf","bookmarks"==t.displayType)}}function vre(e,n){if(1&e){const t=Ji();lt(0,"div",2)(1,"div",3)(2,"div",4)(3,"ion-searchbar",5),$n("ngModelChange",function(i){return Ar(t),kr(sn().searchText=i)}),ct()()(),lt(4,"ion-content"),Yn(5,fre,16,33,"div",6),Yn(6,yre,16,13,"div",7),ct(),lt(7,"ion-footer")(8,"div",8)(9,"ion-button",9),$n("click",function(){return Ar(t),kr(sn().dismiss())}),Tr(10,"ion-icon",10),cn(11),wn(12,"translate"),ct()()()()}if(2&e){const t=sn();Ke(3),Gt("ngModel",t.searchText)("debounce",300),Ke(2),Gt("ngIf",t.searchText.length>2),Ke(1),Gt("ngIf",t.searchText.length<3),Ke(5),Or(" ",Nn(12,5,"SHARED.CANCEL")," ")}}function wre(e,n){1&e&&(lt(0,"div",30)(1,"ion-title"),cn(2),wn(3,"translate"),ct()()),2&e&&(Ke(2),Or(" ",Nn(3,1,"MODAL_SELECTED_ITEM.LOADING")," "))}let bre=(()=>{class e{constructor(t,r,i,s){this.params=t,this.modalCtrl=r,this.tagsService=i,this.configService=s,this.loading=!0,this.searchText="",this.currentListOfTags=[],this.typeFiche="list",this.customValue="",this.geometriesPossible=[],this.displayType="lastTags",this.oldTagConfig=this.params.data.tagConfig}ngOnInit(){this.displayType="bookmarks"==this.configService.config.defaultPrimarykeyWindows?"bookmarks":"lastTags",this.geometryType=this.params.data.geometryType,this.currentListOfTags=this.tagsService.tags,this.loading=!1}dismiss(t=null){this.modalCtrl.dismiss(t)}summit(t){this.dismiss(t)}cancel(){this.dismiss()}selected(t){this.summit(t)}addBookmark(t){this.tagsService.addBookMark(t)}removeBookmark(t){this.tagsService.removeBookMark(t)}addCustomValue(t,r){const i={icon:"maki-circle-custom",markerColor:"#000000",geometry:["point","vertex","line","area"],lbl:{en:`${t} = ${r}`},presets:[],id:`${t}/${r}`,key:r,tags:{},isUserTag:!0};i.tags[t]=r,this.tagsService.addUserTags(i),this.summit(i)}swipeLeft(){this.displayType="bookmarks"}swipeRight(){this.displayType="lastTags"}changePageLastTagsBookmarks(t){this.displayType=t,this.configService.setDefaultPrimarykeyWindows(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(xm),Oe(mh),Oe(_h),Oe(mc))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["modal-primary-tag"]],decls:2,vars:2,consts:[["id","container",4,"ngIf"],["style","height: 100%",4,"ngIf"],["id","container"],["id","searchSelect"],["id","searchDiv"],["autocomplete","off","autocorrect","off","autocapitalize","none","inputmode","text",3,"ngModel","debounce","ngModelChange"],["class","listTag",4,"ngIf"],["class","listTag",3,"swipeleft","swiperight",4,"ngIf"],[1,"actions"],["tappable","","fill","clear",3,"click"],["name","close","slot","start"],[1,"listTag"],[2,"overflow-y","auto"],["class","ion-no-padding",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"ion-no-padding"],[2,"width","100%",3,"tag","countryTags","languageTags","jsonSprites","geometriesFilter","bookmarksIds","oldTagConfig","removeBookmark","addBookmark","selected"],["color","primary",3,"click"],[1,"listTag",3,"swipeleft","swiperight"],[2,"text-align","center","margin","0px 0px 24px"],[1,"buttonsSwitchType"],["ion-button","",1,"buttonSwitchType",3,"disabled","click"],["name","time","slot","start"],["name","heart","slot","start"],[1,"shadows"],["class","lastTags tagList",4,"ngIf"],["class","bookmarks tagList",4,"ngIf"],[1,"lastTags","tagList"],[2,"text-align","center"],[1,"bookmarks","tagList"],[2,"height","100%"]],template:function(r,i){1&r&&(Yn(0,vre,13,7,"div",0),Yn(1,wre,4,3,"div",1)),2&r&&(Gt("ngIf",!i.loading),Ke(1),Gt("ngIf",i.loading))},dependencies:[Hd,Bu,hh,Ud,Hc,e3,Vd,kp,Ql,Gd,ty,ny,Hv,Wd,Hh,NM,pO,gc,RM,sre,C6,ore,are,FM,lre,ure],styles:["#container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;display:flex;flex-direction:column}#searchSelect[_ngcontent-%COMP%]{height:65px;width:100%}#searchDiv[_ngcontent-%COMP%]{width:80%;margin:auto}ion-content[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden scroll}ion-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:center}.buttonsSwitchType[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);margin:0 8px}ion-button.buttonSwitchType[_ngcontent-%COMP%]{position:relative;margin-bottom:0;--border-radius: 4px 4px 0px 0px;--background: rgb(255, 255, 255);--color: rgba(24, 24, 24, .65);--box-shadow: rgba(0, 0, 0, .2) 0px 3px 1px -2px, rgba(0, 0, 0, .14) 0px 2px 2px 0px, rgba(0, 0, 0, .12) 0px 1px 5px 0px}ion-button.buttonSwitchType[disabled][_ngcontent-%COMP%]{opacity:1;z-index:1;--color: rgb(24, 24, 24);--box-shadow: rgba(0, 0, 0, .2) 0px 3px 1px -2px, rgba(0, 0, 0, .14) 0px 2px 2px 0px, rgba(0, 0, 0, .12) 0px 1px 5px 0px}.shadows[_ngcontent-%COMP%]{position:relative;z-index:0;width:100%;box-shadow:#0003 0 0 2px 1px}.tagList[_ngcontent-%COMP%]{z-index:1;position:relative;overflow:auto;background-color:#fff}"]})}return e})(),xre=(()=>{class e{transform(t,r){return t&&t.filter(i=>!i.countryCodes||i.countryCodes.map(s=>s.toUpperCase()).includes(r))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterByCountryCode",type:e,pure:!1})}return e})(),Mre=(()=>{class e{replaceCharSpe(t){return t.replace(/[\xfb]/gi,"u").replace(/[\xe1\xe0\xe2]/gi,"a").replace(/[\xe9\xe8\xea\xeb]/gi,"e").replace(/[\xed\xee\xef]/gi,"i").replace(/[\xf3\xf4]/gi,"o").replace(/\xe7/g,"c")}transform(t,r,i){const s=new RegExp(i,"i"),[a,h]=r;return t.filter(m=>{if(s.test(m.v))return!0;if(s.test(this.replaceCharSpe(m.v)))return!0;if(m.lbl){let y=m.lbl[a]?m.lbl[a]:m.lbl.en;if(s.test(y))return!0;if(s.test(this.replaceCharSpe(y)))return!0}if(m.terms){let y=m.terms[a]?m.terms[a]:m.terms.en;if(s.test(y))return!0;if(s.test(this.replaceCharSpe(y)))return!0}})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterByPresetsContent",type:e,pure:!1})}return e})();function Sre(e,n){if(1&e&&(lt(0,"ion-item")(1,"ion-label")(2,"b"),cn(3),ct(),Tr(4,"br"),cn(5),ct(),Tr(6,"ion-radio",8),ct()),2&e){const t=n.$implicit,r=sn();Ke(3),Zr(t.lbl[r.language]||t.lbl.en),Ke(2),Or(" ",t.v," "),Ke(1),Gt("value",t)}}const Ere=function(e){return[e]};let Tre=(()=>{class e{constructor(t,r,i,s){this.params=t,this.modalCtrl=r,this.platform=i,this.configService=s,this.searchText="",this.initvalue=t.data.value,this.data=t.data,this.language=this.configService.config.languageTags,this.countryCode=this.configService.config.countryTags}dismiss(t=null){this.modalCtrl.dismiss(t)}selected(t){t&&t.detail&&this.initvalue!==t.detail&&this.dismiss({key:this.data.key,value:t.detail.value.v,tags:t.detail.value.tags})}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(xm),Oe(mh),Oe(Ap),Oe(mc))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["modal-select-list"]],decls:16,vars:16,consts:[["id","divContentSB"],["id","searchDiv"],[3,"ngModel","debounce","ngModelChange"],[1,"listTag"],[3,"ionChange"],[4,"ngFor","ngForOf"],["id","footer"],["ion-button","","color","danger",3,"click"],[3,"value"]],template:function(r,i){1&r&&(lt(0,"ion-toolbar")(1,"ion-title"),cn(2),ct()(),lt(3,"div",0)(4,"div",1)(5,"ion-searchbar",2),$n("ngModelChange",function(a){return i.searchText=a}),ct()()(),lt(6,"div",3)(7,"ion-list")(8,"ion-radio-group",4),$n("ionChange",function(a){return i.selected(a)}),Yn(9,Sre,7,3,"ion-item",5),wn(10,"filterByPresetsContent"),wn(11,"filterByCountryCode"),ct()()(),lt(12,"ion-footer",6)(13,"ion-button",7),$n("click",function(){return i.dismiss()}),cn(14),wn(15,"translate"),ct()()),2&r&&(Ke(2),Or(" ",i.data.preset.lbl[i.language]||i.data.preset.lbl.en," "),Ke(3),Gt("ngModel",i.searchText)("debounce",300),Ke(4),Gt("ngForOf",cg(10,5,Kl(11,9,i.data.preset.options,i.countryCode),H_(14,Ere,i.language),i.searchText)),Ke(5),Zr(Nn(15,12,"SHARED.CANCEL")))},dependencies:[Hd,hh,Ud,Hc,kp,Gd,ty,ny,i3,s3,Hv,Wd,gh,V1,Hh,gc,xre,Mre],styles:["ion-toolbar[_ngcontent-%COMP%]{box-shadow:1px 2px 4px #0000004d}#divContentSB[_ngcontent-%COMP%]{position:absolute;top:56px;height:65px;width:100%;background-color:#fff}#searchDiv[_ngcontent-%COMP%]{width:100%}.listTag[_ngcontent-%COMP%]{position:absolute;top:114px;bottom:50px;width:100%;overflow-y:scroll;background-color:#fff}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;width:100%;background-color:#fff;box-shadow:-1px -2px 4px #0000004d}td[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid grey}"]})}return e})();function BM(e){return e.toLowerCase().replace(" ","_").replace("/",":").replace(/[^a-z\-_:]/gi,"")}let Cre=(()=>{class e{transform(t,r){return t.filter(i=>!r.includes(i))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterByList",type:e,pure:!1})}return e})(),Dre=(()=>{class e{transform(t,r){return t.filter(i=>!r.includes(i._id))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterPresetsByList",type:e,pure:!1})}return e})(),Ire=(()=>{class e{transform(t){return t.filter(r=>!r._id.endsWith("#brand"))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"removeBrands",type:e,pure:!1})}return e})(),Lre=(()=>{class e{transform(t,r,i){const s=BM(r);return t.filter(a=>s!=a._id&&!(!a._id.includes(s)&&!(a.lbl[i]||"").toLowerCase().includes(r.toLowerCase())))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"searchFor",type:e,pure:!1})}return e})(),Are=(()=>{class e{transform(t){return BM(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"toOsmTag",type:e,pure:!1})}return e})();function Pre(e,n){if(1&e){const t=Ji();lt(0,"ion-item")(1,"ion-label",7),$n("click",function(){const s=Ar(t).$implicit;return kr(sn(2).select(s))}),lt(2,"h3"),cn(3),ct(),lt(4,"p"),cn(5),wn(6,"toOsmTag"),ct()()()}if(2&e){const t=n.$implicit,r=sn(2);Ke(3),Zr(r.tagsService.presets[t].lbl[r.language]),Ke(2),Zr(Nn(6,2,t))}}function kre(e,n){if(1&e&&(lt(0,"ion-item-group"),Yn(1,Pre,7,4,"ion-item",6),wn(2,"filterByList"),ct()),2&e){const t=sn();Ke(1),Gt("ngForOf",Kl(2,1,t.moreFields,t.usedList))}}function Ore(e,n){if(1&e&&(lt(0,"h3"),cn(1),ct()),2&e){const t=sn(3);Ke(1),Or(" ",t.tagsService.presets[t.nameToOsmKey(t.searchFilter)].lbl[t.language]," ")}}function Nre(e,n){if(1&e){const t=Ji();lt(0,"ion-item")(1,"ion-label",7),$n("click",function(){Ar(t);const i=sn(2);return kr(i.select(i.searchFilter))}),Yn(2,Ore,2,1,"h3",2),lt(3,"p"),cn(4),wn(5,"toOsmTag"),ct()()()}if(2&e){const t=sn(2);Ke(2),Gt("ngIf",t.tagsService.presets[t.nameToOsmKey(t.searchFilter)]),Ke(2),Zr(Nn(5,2,t.searchFilter))}}function Rre(e,n){if(1&e){const t=Ji();lt(0,"ion-item")(1,"ion-label",7),$n("click",function(){const s=Ar(t).$implicit;return kr(sn(2).select(s._id))}),lt(2,"h3"),cn(3),ct(),lt(4,"p"),cn(5),wn(6,"toOsmTag"),ct()()()}if(2&e){const t=n.$implicit,r=sn(2);Ke(3),Zr(t.lbl[r.language]),Ke(2),Zr(Nn(6,2,t._id))}}function Fre(e,n){if(1&e&&(lt(0,"ion-item-group"),Yn(1,Nre,6,4,"ion-item",2),Yn(2,Rre,7,4,"ion-item",6),wn(3,"searchFor"),wn(4,"removeBrands"),wn(5,"filterPresetsByList"),ct()),2&e){const t=sn();Ke(1),Gt("ngIf",!t.usedList.includes(t.nameToOsmKey(t.searchFilter))&&0!=t.nameToOsmKey(t.searchFilter).length),Ke(1),Gt("ngForOf",cg(3,2,Nn(4,6,Kl(5,8,t.presets,t.usedList)),t.searchFilter,t.language))}}let Bre=(()=>{class e{constructor(t,r,i,s,a){this.params=t,this.modalCtrl=r,this.tagsService=i,this.configService=s,this.translate=a,this.moreFields=t.data.moreFields,this.usedList=t.data.usedList,this.language=this.configService.config.languageTags,this.countryCode=this.configService.config.countryTags,this.presets=Object.values(i.presets),this.searchFilter=""}dismiss(t=null){this.modalCtrl.dismiss(t)}select(t){this.dismiss(BM(t))}nameToOsmKey(t){return BM(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(xm),Oe(mh),Oe(_h),Oe(mc),Oe(Td))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["modal-add-tag"]],decls:12,vars:7,consts:[[1,"searchContainer"],[3,"placeholder","ngModel","ngModelChange"],[4,"ngIf"],[1,"actions"],["tappable","","fill","clear",3,"click"],["name","close","slot","start"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(r,i){1&r&&(lt(0,"ion-header")(1,"div",0)(2,"ion-input",1),$n("ngModelChange",function(a){return i.searchFilter=a}),ct()()(),lt(3,"ion-content"),Yn(4,kre,3,4,"ion-item-group",2),Yn(5,Fre,6,11,"ion-item-group",2),ct(),lt(6,"ion-footer")(7,"div",3)(8,"ion-button",4),$n("click",function(){return i.dismiss()}),Tr(9,"ion-icon",5),cn(10),wn(11,"translate"),ct()()()),2&r&&(Ke(2),Gt("placeholder",i.translate.instant("MODAL_SELECTED_ITEM.ADD_TAG_PLACEHOLDER"))("ngModel",i.searchFilter),Ke(2),Gt("ngIf",0==i.searchFilter.length),Ke(1),Gt("ngIf",i.searchFilter.length>0),Ke(5),Or(" ",Nn(11,5,"SHARED.CANCEL")," "))},dependencies:[Hd,Bu,hh,Ud,Hc,Vd,kp,ph,Ql,Sm,Gd,Fx,ty,Hh,gc,Cre,Dre,Ire,Lre,Are],styles:[".searchContainer[_ngcontent-%COMP%]{padding:4px 8px}ion-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return e})(),Yre=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["read-other-tag"]],inputs:{tag:"tag"},decls:8,vars:2,consts:[["name","code"]],template:function(r,i){1&r&&(lt(0,"ion-card")(1,"ion-card-header")(2,"b"),cn(3),ct()(),lt(4,"ion-card-content")(5,"p"),Tr(6,"ion-icon",0),cn(7),ct()()()),2&r&&(Ke(3),Zr(i.tag.key),Ke(4),Or(" ",i.tag.value,""))},dependencies:[fh,pf,Mm,Ql],encapsulation:2})}return e})();var zre=X(6797),jre=X(133),Hre=X(9819),$re=X(2273),Ure=X(9620);let Vre=(()=>{class e{transform(t,r){return t.substring(0,r)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"charLimit",type:e,pure:!1})}return e})();function Gre(e,n){if(1&e){const t=Ji();lt(0,"ion-badge",11),$n("click",function(){const s=Ar(t).$implicit;return kr(sn().toggleDay(s.index))}),cn(1),wn(2,"charLimit"),wn(3,"translate"),ct()}if(2&e){const t=n.$implicit;Gt("color",t.selected?"primary":"light"),Ke(1),Or(" ",Kl(2,2,Nn(3,5,t.label),3)," ")}}function Wre(e,n){1&e&&(lt(0,"div",12),cn(1),wn(2,"translate"),ct()),2&e&&(Ke(1),Or(" ",Nn(2,1,"OPENINGHOURS.SELECT_AT_LEAST_ONE_DAY")," "))}function qre(e,n){if(1&e){const t=Ji();lt(0,"ion-card")(1,"div",13)(2,"div",14)(3,"h3"),cn(4),wn(5,"translate"),ct(),lt(6,"ion-datetime",15),$n("ngModelChange",function(i){return kr(Ar(t).$implicit.start=i)}),ct()(),lt(7,"div",14)(8,"h3"),cn(9),wn(10,"translate"),ct(),lt(11,"ion-datetime",15),$n("ngModelChange",function(i){return kr(Ar(t).$implicit.end=i)}),ct()()(),lt(12,"ion-button",16),$n("click",function(){const s=Ar(t).index;return kr(sn().removeInteval(s))}),cn(13),wn(14,"translate"),ct()()}if(2&e){const t=n.$implicit;Ke(4),Zr(Nn(5,5,"OPENINGHOURS.START_TIME")),Ke(2),Gt("ngModel",t.start),Ke(3),Zr(Nn(10,7,"OPENINGHOURS.END_TIME")),Ke(2),Gt("ngModel",t.end),Ke(2),Or(" ",Nn(14,9,"OPENINGHOURS.DELETE_INTERVAL")," ")}}let Xre=(()=>{class e{constructor(t,r,i){this.params=t,this.modalCtrl=r,this.translate=i,this.times=[{start:"09:00",end:"12:00"}],this.days=[{index:0,selected:!1,label:"DAYS.MONDAY"},{index:1,selected:!1,label:"DAYS.TUESDAY"},{index:2,selected:!1,label:"DAYS.WEDNESDAY"},{index:3,selected:!1,label:"DAYS.THURSDAY"},{index:4,selected:!1,label:"DAYS.FRIDAY"},{index:5,selected:!1,label:"DAYS.SATURDAY"},{index:6,selected:!1,label:"DAYS.SUNDAY"}],this.dayIsSelected=!1}ngOnInit(){}timeChange(t){}addNewInteval(){this.times=[...this.times,{start:"09:00",end:"12:00"}]}removeInteval(t){this.times.splice(t,1)}toggleDay(t){this.days[t].selected=!this.days[t].selected,this.dayIsSelected=this.days.map(r=>r.selected).includes(!0)}cancel(){this.modalCtrl.dismiss(null)}submit(t,r){this.modalCtrl.dismiss({times:t,days:r})}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(xm),Oe(mh),Oe(Td))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-modal-add-opening-hours-interval"]],decls:21,vars:13,consts:[[1,"ion-padding-vertical"],[1,"daysHeader"],["class","dayBadge",3,"color","click",4,"ngFor","ngForOf"],["class","alertSelectADay",4,"ngIf"],[4,"ngFor","ngForOf"],["color","success","expand","block",1,"addInterval",3,"click"],["id","footer"],["fill","clear",3,"click"],["name","close","slot","start"],[1,"spacer"],[3,"disabled","click"],[1,"dayBadge",3,"color","click"],[1,"alertSelectADay"],[1,"timeGrid"],[1,"timeBlock"],["display-format","HH:mm","picker-format","HH:mm","presentation","time","minuteValues","0,5,10,15,20,25,30,35,40,45,50,55",3,"ngModel","ngModelChange"],["color","danger","fill","clear","expand","full",3,"click"]],template:function(r,i){1&r&&(lt(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),cn(3),wn(4,"translate"),ct()()(),lt(5,"ion-content",0)(6,"div",1),Yn(7,Gre,4,7,"ion-badge",2),ct(),Yn(8,Wre,3,3,"div",3),Yn(9,qre,15,11,"ion-card",4),lt(10,"ion-button",5),$n("click",function(){return i.addNewInteval()}),cn(11),wn(12,"translate"),ct()(),lt(13,"ion-footer",6)(14,"ion-button",7),$n("click",function(){return i.cancel()}),Tr(15,"ion-icon",8),cn(16),wn(17,"translate"),ct(),Tr(18,"div",9),lt(19,"ion-button",10),$n("click",function(){return i.submit(i.times,i.days)}),cn(20,"Submit"),ct()()),2&r&&(Ke(3),Zr(Nn(4,7,"OPENINGHOURS.ADD_OPENING_HOURS")),Ke(4),Gt("ngForOf",i.days),Ke(1),Gt("ngIf",!i.dayIsSelected),Ke(1),Gt("ngForOf",i.times),Ke(2),Or(" ",Nn(12,9,"OPENINGHOURS.ADD_INTERVAL")," "),Ke(5),Or(" ",Nn(17,11,"SHARED.CANCEL")," "),Ke(3),Gt("disabled",!i.dayIsSelected||0==i.times.length))},dependencies:[Hd,Bu,hh,Ud,xC,Hc,fh,Vd,n3,kp,ph,Ql,Wd,gh,V1,gc,Vre],styles:[".daysHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly}.daysHeader[_ngcontent-%COMP%]   .dayBadge[_ngcontent-%COMP%]{padding:.5em;margin:.2em;font-size:1em;-webkit-user-select:none;user-select:none;cursor:pointer}.timeGrid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr)}.timeGrid[_ngcontent-%COMP%]   .timeBlock[_ngcontent-%COMP%]{display:flex;flex-direction:column}.timeGrid[_ngcontent-%COMP%]   .timeBlock[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.alertSelectADay[_ngcontent-%COMP%]{text-align:center;color:red;padding:12px 0}.addInterval[_ngcontent-%COMP%]{margin:0 10px}#footer[_ngcontent-%COMP%]{display:flex;padding:0 10px;align-items:center}#footer[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex-grow:1}"]})}return e})(),Zre=(()=>{class e{transform(t){let r=Math.floor(t/60),s=(t%60).toString();1==s.length&&(s=`0${s}`);let a=r.toString();return 1==a.length&&(a=`0${a}`),a+":"+s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"minutesToHoursMinutes",type:e,pure:!0})}return e})();function Kre(e,n){if(1&e){const t=Ji();lt(0,"ion-button",4),$n("click",function(){return Ar(t),kr(sn(2).openModalAddOpeningHours(null))}),Tr(1,"ion-icon",5),cn(2),wn(3,"translate"),ct()}2&e&&(Ke(2),Or(" ",Nn(3,1,"OPENINGHOURS.ADD_OPENING_HOURS")," "))}function Jre(e,n){if(1&e){const t=Ji();lt(0,"ion-icon",10),$n("click",function(){Ar(t);const i=sn().$implicit,s=sn(3).$implicit;return kr(sn(3).deleteCurrentInterval(s,i))}),ct()}}function Qre(e,n){if(1&e&&(lt(0,"div",8),cn(1),wn(2,"minutesToHoursMinutes"),wn(3,"minutesToHoursMinutes"),Yn(4,Jre,1,0,"ion-icon",9),ct()),2&e){const t=n.$implicit,r=sn(6);Ke(1),cf(" ",Nn(2,3,t._start)," - ",Nn(3,5,t._end)," "),Ke(3),Gt("ngIf",r.editMode)}}function eie(e,n){1&e&&(lt(0,"div"),cn(1),wn(2,"translate"),ct()),2&e&&(Ke(1),Or(" ",Nn(2,1,"OPENINGHOURS.CLOSED")," "))}function tie(e,n){if(1&e&&(lt(0,"div"),Yn(1,Qre,5,7,"div",7),Yn(2,eie,3,3,"div",3),ct()),2&e){const t=n.$implicit;Ke(1),Gt("ngForOf",t),Ke(1),Gt("ngIf",0==t.length)}}function nie(e,n){if(1&e&&(lt(0,"tr")(1,"td"),cn(2),ct(),lt(3,"td"),Yn(4,tie,3,2,"div",3),ct()()),2&e){const t=n.$implicit,r=sn().$implicit,i=sn(3);Ke(2),Zr(t.text),Ke(2),Gt("ngIf",i.findIntervalsByDay(r._typical._intervals,t.index))}}function rie(e,n){if(1&e&&(lt(0,"div")(1,"table"),Yn(2,nie,5,2,"tr",6),ct()()),2&e){const t=sn(3);Ke(2),Gt("ngForOf",t.days)}}function iie(e,n){if(1&e&&(lt(0,"div"),Yn(1,rie,3,1,"div",6),ct()),2&e){const t=sn(2);Ke(1),Gt("ngForOf",t.intervals)}}function sie(e,n){1&e&&(lt(0,"div"),cn(1),wn(2,"translate"),ct()),2&e&&(Ke(1),Or(" ",Nn(2,1,"OPENINGHOURS.UNKNOW")," "))}function oie(e,n){if(1&e&&(lt(0,"div"),Yn(1,Kre,4,3,"ion-button",2),Yn(2,iie,2,1,"div",3),Yn(3,sie,3,3,"div",3),ct()),2&e){const t=sn();Ke(1),Gt("ngIf",t.editMode),Ke(1),Gt("ngIf",t.openingHours),Ke(1),Gt("ngIf",!t.openingHours)}}function aie(e,n){if(1&e){const t=Ji();lt(0,"div",12)(1,"div",13)(2,"ion-item",14)(3,"ion-input",15),$n("ngModelChange",function(i){return Ar(t),kr(sn(2).openingHours=i)})("ionChange",function(i){return Ar(t),kr(sn(2).valueChange(i))}),ct()()(),lt(4,"div",16)(5,"ion-icon",17),$n("click",function(){return Ar(t),kr(sn(2).openingHours="")}),ct()()()}if(2&e){const t=sn(2);Ke(3),Gt("ngModel",t.openingHours)("placeholder","opening_hours")}}function lie(e,n){1&e&&(lt(0,"div",19),cn(1),wn(2,"translate"),ct()),2&e&&(Ke(1),Or(" ",Nn(2,1,"OPENINGHOURS.TOO_COMPLEX_FOR_OSMGO")," "))}function uie(e,n){if(1&e&&(lt(0,"div"),cn(1),Yn(2,lie,3,3,"div",18),ct()),2&e){const t=sn(2);Ke(1),Or(" ",t.openingHours," "),Ke(1),Gt("ngIf",t.isTooComplex)}}function cie(e,n){if(1&e&&(Yn(0,aie,6,2,"div",11),Yn(1,uie,3,2,"div",3)),2&e){const t=sn();Gt("ngIf",t.editMode),Ke(1),Gt("ngIf",!t.editMode)}}const die=new jre,D6=new Hre;let I6=(()=>{class e{constructor(t,r){this.modalCtrl=t,this.translate=r,this.editMode=!1,this.valueChangeEvent=new Hi,this.isError=!1,this.isTooComplex=!1,this.days=[{index:0,text:this.translate.instant("DAYS.MONDAY")},{index:1,text:this.translate.instant("DAYS.TUESDAY")},{index:2,text:this.translate.instant("DAYS.WEDNESDAY")},{index:3,text:this.translate.instant("DAYS.THURSDAY")},{index:4,text:this.translate.instant("DAYS.FRIDAY")},{index:5,text:this.translate.instant("DAYS.SATURDAY")},{index:6,text:this.translate.instant("DAYS.SUNDAY")}]}valueChange(t){this.valueChangeEvent.emit(t.target.value),this.parseOpeningHours()}parseOpeningHours(){try{if(this.intervals=die.parse(this.openingHours),this.isError=!1,this.isTooComplex=!1,""==this.openingHours)return void(this.isError=!1);this.intervals.length>1?this.isTooComplex=!0:1==this.intervals.length&&(this.isTooComplex=!this.intervals[0].definesTypicalWeek()||"always"!==this.intervals[0].getInterval()._type)}catch{this.isError=!0}}ngOnInit(){this.parseOpeningHours()}findIntervalsByDay(t,r){return t.filter(s=>s&&s._dayStart==r)}deleteCurrentInterval(t,r){const i=t._wideInterval._type,s=this.intervals.find(m=>m._wideInterval._type=i),h=s.getTypical().getIntervals().findIndex(m=>m&&m._dayStart==r._dayStart&&m._dayEnd==r._dayEnd&&m._start==r._start&&m._end==r._end);s.getTypical().removeInterval(h),this.openingHours=D6.build(this.intervals),this.valueChangeEvent.emit(this.openingHours)}addIntervals(t,r){if(!this.intervals||0==this.intervals.length){const h=new Ure;this.intervals=[new $re(h.always())]}const s=this.intervals.find(h=>h._wideInterval._type="always"),a=r.filter(h=>h.selected).map(h=>h.index);for(const h of a)for(const m of t){const y=this.timeToMinutes(m.start),C=this.timeToMinutes(m.end);let L=y>C?h+1:h;7==L&&(L=0),s.getTypical().addInterval(new zre(h,L,y,C))}this.openingHours=D6.build(this.intervals),this.valueChangeEvent.emit(this.openingHours),this.parseOpeningHours()}timeToMinutes(t){const[r,i]=t.split(":").map(s=>parseInt(s));return i+60*r}openModalAddOpeningHours(t){var r=this;return(0,oo.Z)(function*(){const i=yield r.modalCtrl.create({component:Xre,componentProps:t});yield i.present(),i.onDidDismiss().then(s=>{const a=s.data;a&&r.addIntervals(a.times,a.days)})})()}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(mh),Oe(Td))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-opening-hours"]],inputs:{openingHours:"openingHours",displayCode:"displayCode",editMode:"editMode"},outputs:{valueChangeEvent:"valueChangeEvent"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["code",""],["size","small","expand","block",3,"click",4,"ngIf"],[4,"ngIf"],["size","small","expand","block",3,"click"],["name","add","slot","start"],[4,"ngFor","ngForOf"],["style","margin-bottom: 0.5em",4,"ngFor","ngForOf"],[2,"margin-bottom","0.5em"],["name","close-outline","style","\n                                        font-size: 1.5em;\n                                        vertical-align: bottom;\n                                        color: red;\n                                        cursor: pointer;\n                                    ",3,"click",4,"ngIf"],["name","close-outline",2,"font-size","1.5em","vertical-align","bottom","color","red","cursor","pointer",3,"click"],["class","wrapperEdit2cols",4,"ngIf"],[1,"wrapperEdit2cols"],[1,"contentEdit2cols"],[2,"padding-left","0px"],["type","text","debounce","200",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"buttonEdit2cols"],["name","close",2,"width","2em","height","2em",3,"click"],["class","tooComplex",4,"ngIf"],[1,"tooComplex"]],template:function(r,i){if(1&r&&(Yn(0,oie,4,3,"div",0),Yn(1,cie,2,2,"ng-template",null,1,Uf)),2&r){const s=zf(2);Gt("ngIf",i.intervals&&!i.displayCode&&!i.isError&&!i.isTooComplex)("ngIfElse",s)}},dependencies:[Hd,Bu,hh,Ud,Hc,Ql,Sm,Gd,Hh,gc,Zre],styles:["table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding:.5em}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.tooComplex[_ngcontent-%COMP%]{font-size:small;font-style:italic}",".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:#00000080}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]})}return e})(),sI=(()=>{class e{transform(t,r){return r&&r.options&&r.options.find(s=>s.v===t.value)||void 0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"displayPresetLabel",type:e,pure:!1})}return e})();function hie(e,n){if(1&e&&(lt(0,"b"),cn(1),ct()),2&e){const t=sn();Ke(1),Zr((null==t.preset?null:t.preset.lbl[t.language])||(null==t.preset?null:t.preset.lbl.en))}}function fie(e,n){if(1&e&&(lt(0,"b"),cn(1),ct()),2&e){const t=sn();Ke(1),Zr(null==t.preset?null:t.preset.key)}}function pie(e,n){1&e&&(lt(0,"a",2),Tr(1,"ion-icon",3),ct()),2&e&&ub("href",sn().tag.value,qy)}function gie(e,n){if(1&e&&(lt(0,"p"),cn(1),ct()),2&e){const t=n.$implicit,r=sn(2);Ke(1),Or(" ",t.lbl[r.language]||t.lbl.en," ")}}function mie(e,n){1&e&&Tr(0,"ion-icon",7)}const _ie=function(){return["number","text","tel","url","email"]};function yie(e,n){if(1&e&&(Yn(0,mie,1,0,"ion-icon",6),cn(1)),2&e){const t=sn(2);Gt("ngIf",!ug(2,_ie).includes(null==t.preset?null:t.preset.type)),Ke(1),Or(" ",t.tag.value," ")}}function vie(e,n){if(1&e&&(lt(0,"ion-card-content"),Yn(1,gie,2,1,"p",4),wn(2,"displayPresetLabel"),Yn(3,yie,2,3,"ng-template",null,5,Uf),ct()),2&e){const t=zf(4),r=sn();Ke(1),Gt("ngIf",!r.displayCode&&Kl(2,2,r.tag,r.preset))("ngIfElse",t)}}function wie(e,n){if(1&e&&Tr(0,"app-opening-hours",9),2&e){const t=sn(2);Gt("openingHours",t.tag.value)("displayCode",t.displayCode)}}function bie(e,n){if(1&e&&(Tr(0,"ion-icon",7),cn(1)),2&e){const t=sn(2);Ke(1),Or(" ",t.tag.value," ")}}function xie(e,n){if(1&e&&(lt(0,"ion-card-content"),Yn(1,wie,1,2,"app-opening-hours",8),Yn(2,bie,2,1,"ng-template",null,5,Uf),ct()),2&e){const t=zf(3),r=sn();Ke(1),Gt("ngIf",!r.displayCode)("ngIfElse",t)}}let Mie=(()=>{class e{ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["read-presets"]],inputs:{displayCode:"displayCode",tag:"tag",preset:"preset",language:"language",countryCode:"countryCode"},decls:7,vars:5,consts:[[4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],["name","link"],[4,"ngIf","ngIfElse"],["noPreset",""],["name","code",4,"ngIf"],["name","code"],[3,"openingHours","displayCode",4,"ngIf","ngIfElse"],[3,"openingHours","displayCode"]],template:function(r,i){1&r&&(lt(0,"ion-card")(1,"ion-card-header"),Yn(2,hie,2,1,"b",0),Yn(3,fie,2,1,"b",0),Yn(4,pie,2,1,"a",1),ct(),Yn(5,vie,5,5,"ion-card-content",0),Yn(6,xie,4,2,"ion-card-content",0),ct()),2&r&&(Ke(2),Gt("ngIf",!i.displayCode),Ke(1),Gt("ngIf",i.displayCode),Ke(1),Gt("ngIf","url"==(null==i.preset?null:i.preset.type)&&i.tag.value),Ke(1),Gt("ngIf","opening_hours"!=(null==i.preset?null:i.preset.key)),Ke(1),Gt("ngIf","opening_hours"==(null==i.preset?null:i.preset.key)))},dependencies:[Bu,fh,pf,Mm,Ql,I6,sI],encapsulation:2})}return e})(),Sie=(()=>{class e{constructor(){this.deleteTag=new Hi}eventDeleteTag(){this.deleteTag.emit(this.tag)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["edit-other-tag"]],inputs:{tag:"tag"},outputs:{deleteTag:"deleteTag"},decls:12,vars:3,consts:[["name","code"],[1,"wrapperEdit2cols"],[1,"contentEdit2cols"],["type","text",3,"ngModel","placeholder","ngModelChange"],[1,"buttonEdit2cols"],["name","close",2,"width","2em","height","2em",3,"click"]],template:function(r,i){1&r&&(lt(0,"ion-card")(1,"ion-card-header"),Tr(2,"ion-icon",0),lt(3,"b"),cn(4),ct()(),lt(5,"ion-card-content")(6,"div",1)(7,"div",2)(8,"ion-item")(9,"ion-input",3),$n("ngModelChange",function(a){return i.tag.value=a}),ct()()(),lt(10,"div",4)(11,"ion-icon",5),$n("click",function(){return i.eventDeleteTag()}),ct()()()()()),2&r&&(Ke(4),Zr(i.tag.key),Ke(5),Gt("ngModel",i.tag.value)("placeholder",i.tag.key))},dependencies:[hh,Ud,fh,pf,Mm,Ql,Sm,Gd,Hh],styles:[".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:#00000080}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]})}return e})();function Eie(e,n){if(1&e&&(lt(0,"b"),cn(1),ct()),2&e){const t=sn(2);Ke(1),Zr((null==t.preset?null:t.preset.lbl[t.language])||(null==t.preset?null:t.preset.lbl.en))}}function Tie(e,n){if(1&e&&(Tr(0,"ion-icon",8),cn(1)),2&e){const t=sn(2);Ke(1),Or(" ",null==t.preset?null:t.preset.key," ")}}function Cie(e,n){if(1&e&&(lt(0,"ion-select-option",10)(1,"p",14),cn(2),ct()()),2&e){const t=n.$implicit,r=sn(3);Gt("value",t.v),Ke(2),Or(" ",t.lbl[r.language]||t.lbl.en," ")}}function Die(e,n){if(1&e&&(lt(0,"ion-select-option",10),cn(1),lt(2,"p",14),cn(3),wn(4,"displayPresetLabel"),ct()()),2&e){const t=sn(3);Gt("value",t.tag.value),Ke(1),Or(" ","<> "," "),Ke(2),cf(" ",t.tag.value," ",Kl(4,4,t.tag,t.preset)," ")}}function Iie(e,n){if(1&e){const t=Ji();lt(0,"div")(1,"ion-select",9),$n("ionChange",function(i){return Ar(t),kr(sn(2).selectChange(i))}),lt(2,"ion-select-option",10)(3,"p",11),cn(4),wn(5,"translate"),ct()(),Yn(6,Cie,3,2,"ion-select-option",12),Yn(7,Die,5,7,"ion-select-option",13),wn(8,"displayPresetLabel"),ct()()}if(2&e){const t=sn(2);Ke(1),Gt("interface","action-sheet")("value",t.tag.value),Ke(1),Gt("value",""),Ke(2),Or(" ",Nn(5,6,"MODAL_SELECTED_ITEM.UNDEFINED_VALUE")," "),Ke(2),Gt("ngForOf",t.preset.options),Ke(1),Gt("ngIf",void 0===Kl(8,8,t.tag,t.preset)&&""!=t.tag.value)}}function Lie(e,n){if(1&e){const t=Ji();lt(0,"ion-item")(1,"ion-input",15),$n("ngModelChange",function(i){return Ar(t),kr(sn(2).tag.value=i)}),ct()()}if(2&e){const t=sn(2);Ke(1),Gt("ngModel",t.tag.value)("placeholder",t.tag.key)}}function Aie(e,n){if(1&e){const t=Ji();lt(0,"ion-card")(1,"ion-card-header"),Yn(2,Eie,2,1,"b",1),Yn(3,Tie,2,1,"ng-template",null,2,Uf),ct(),lt(5,"ion-card-content")(6,"div",3)(7,"div",4),Yn(8,Iie,9,11,"div",0),Yn(9,Lie,2,2,"ion-item",0),ct(),lt(10,"div",5)(11,"ion-col",6)(12,"ion-icon",7),$n("click",function(){return Ar(t),kr(sn().tag.value="")}),ct()()()()()()}if(2&e){const t=zf(4),r=sn();Ke(2),Gt("ngIf",!r.displayCode&&((null==r.preset?null:r.preset.lbl[r.language])||(null==r.preset?null:r.preset.lbl.en)))("ngIfElse",t),Ke(6),Gt("ngIf",!r.displayCode),Ke(1),Gt("ngIf",r.displayCode)}}let Pie=(()=>{class e{constructor(){this.addTags=new Hi}ngOnInit(){}selectChange(t){const r=t.detail.value;this.tag.value=r;const i=this.preset.options.find(s=>s.v==r);i&&i.tags&&this.addTags.emit(i.tags)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-select"]],inputs:{displayCode:"displayCode",tag:"tag",preset:"preset",language:"language"},outputs:{addTags:"addTags"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["diplayCodeSelect",""],[1,"wrapperEdit2cols"],[1,"contentEdit2cols"],[1,"buttonEdit2cols"],["width-10","",1,"ion-col10"],["name","close",2,"width","2em","height","2em",3,"click"],["name","code"],[2,"width","100%","min-width","100%","padding-left","0",3,"interface","value","ionChange"],[3,"value"],[1,"undefindedListValue"],[3,"value",4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[1,"displayLabelListValue"],["type","text",3,"ngModel","placeholder","ngModelChange"]],template:function(r,i){1&r&&Yn(0,Aie,13,4,"ion-card",0),2&r&&Gt("ngIf","select"===(null==i.preset?null:i.preset.type))},dependencies:[Hd,Bu,hh,Ud,fh,pf,Mm,t3,Ql,Sm,Gd,EC,TC,V1,Hh,gc,sI],styles:[".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:#00000080}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]})}return e})();function kie(e,n){if(1&e){const t=Ji();lt(0,"app-select",2),$n("addTags",function(i){return Ar(t),kr(sn().addTags.emit(i))}),ct()}if(2&e){const t=sn();Gt("tag",t.tag)("preset",t.preset)("language",t.language)("displayCode",t.displayCode)}}function Oie(e,n){if(1&e&&(lt(0,"b"),cn(1),Tr(2,"ion-icon",10),ct()),2&e){const t=sn(2);Ke(1),Or("",(null==t.preset?null:t.preset.lbl[t.language])||(null==t.preset?null:t.preset.lbl.en)," ")}}function Nie(e,n){if(1&e&&(lt(0,"b"),Tr(1,"ion-icon",11),cn(2),ct()),2&e){const t=sn(2);Ke(2),Or(" ",null==t.preset?null:t.preset.key,"")}}function Rie(e,n){if(1&e&&(lt(0,"p",14),cn(1),ct()),2&e){const t=sn().$implicit,r=sn(2);Ke(1),Or(" ",(null==t?null:t.lbl[r.language])||(null==t?null:t.lbl.en)," ")}}function Fie(e,n){1&e&&(lt(0,"p",15),cn(1),wn(2,"translate"),ct()),2&e&&(Ke(1),Or(" ",Nn(2,1,"MODAL_SELECTED_ITEM.UNDEFINED_VALUE")," "))}function Bie(e,n){if(1&e){const t=Ji();lt(0,"ion-item",3),$n("click",function(){Ar(t);const i=sn(2);return kr(i.emitOpenModal(i.tag))}),Yn(1,Rie,2,1,"p",12),Yn(2,Fie,3,3,"p",13),ct()}if(2&e){const t=sn(2);Ke(1),Gt("ngIf",""!=t.tag.value),Ke(1),Gt("ngIf",""==t.tag.value)}}function Yie(e,n){if(1&e){const t=Ji();lt(0,"ion-label",16),Tr(1,"ion-icon",11),ct(),lt(2,"ion-input",17),$n("ngModelChange",function(i){return Ar(t),kr(sn(2).tag.value=i)}),ct()}if(2&e){const t=sn(2);Ke(2),Gt("ngModel",t.tag.value)("placeholder",t.tag.key)}}function zie(e,n){if(1&e){const t=Ji();lt(0,"ion-card")(1,"ion-card-header",3),$n("click",function(){Ar(t);const i=sn();return kr(i.emitOpenModal(i.tag))}),Yn(2,Oie,3,1,"b",1),Yn(3,Nie,3,1,"b",1),ct(),lt(4,"ion-card-content")(5,"div",4)(6,"div",5),Yn(7,Bie,3,2,"ion-item",6),wn(8,"displayPresetLabel"),Yn(9,Yie,3,2,"ng-template",null,7,Uf),ct(),lt(11,"div",8)(12,"ion-icon",9),$n("click",function(){return Ar(t),kr(sn().tag.value="")}),ct()()()()()}if(2&e){const t=zf(10),r=sn();Ke(2),Gt("ngIf",!r.displayCode),Ke(1),Gt("ngIf",r.displayCode),Ke(4),Gt("ngIf",!r.displayCode&&(Kl(8,4,r.tag,r.preset)||""==r.tag.value))("ngIfElse",t)}}function jie(e,n){if(1&e&&(lt(0,"b"),cn(1),ct()),2&e){const t=sn(2);Ke(1),Zr((null==t.preset?null:t.preset.lbl[t.language])||(null==t.preset?null:t.preset.lbl.en))}}function Hie(e,n){if(1&e&&(lt(0,"b"),Tr(1,"ion-icon",11),cn(2),ct()),2&e){const t=sn(2);Ke(2),Or(" ",null==t.preset?null:t.preset.key,"")}}function $ie(e,n){if(1&e){const t=Ji();lt(0,"ion-card")(1,"ion-card-header"),Yn(2,jie,2,1,"b",1),Yn(3,Hie,3,1,"b",1),ct(),lt(4,"ion-card-content")(5,"div",4)(6,"div",5)(7,"ion-item",18)(8,"ion-input",19),$n("ngModelChange",function(i){return Ar(t),kr(sn().tag.value=i)}),ct()()(),lt(9,"div",8)(10,"ion-icon",9),$n("click",function(){return Ar(t),kr(sn().tag.value="")}),ct()()()()()}if(2&e){const t=sn();Ke(2),Gt("ngIf",!t.displayCode),Ke(1),Gt("ngIf",t.displayCode),Ke(5),Gt("ngModel",t.tag.value)("placeholder",t.tag.key)}}function Uie(e,n){if(1&e&&(lt(0,"b"),cn(1),ct()),2&e){const t=sn(2);Ke(1),Zr((null==t.preset?null:t.preset.lbl[t.language])||(null==t.preset?null:t.preset.lbl.en))}}function Vie(e,n){if(1&e&&(lt(0,"b"),Tr(1,"ion-icon",11),cn(2),ct()),2&e){const t=sn(2);Ke(2),Or(" ",null==t.preset?null:t.preset.key,"")}}function Gie(e,n){1&e&&(lt(0,"a",22),Tr(1,"ion-icon",23),ct()),2&e&&ub("href",sn(2).tag.value,qy)}function Wie(e,n){if(1&e){const t=Ji();lt(0,"ion-card")(1,"ion-card-header"),Yn(2,Uie,2,1,"b",1),Yn(3,Vie,3,1,"b",1),Yn(4,Gie,2,1,"a",20),ct(),lt(5,"ion-card-content")(6,"div",4)(7,"div",5)(8,"ion-item",18)(9,"ion-input",21),$n("ngModelChange",function(i){return Ar(t),kr(sn().tag.value=i)}),ct()()(),lt(10,"div",8)(11,"ion-icon",9),$n("click",function(){return Ar(t),kr(sn().tag.value="")}),ct()()()()()}if(2&e){const t=sn();Ke(2),Gt("ngIf",!t.displayCode),Ke(1),Gt("ngIf",t.displayCode),Ke(1),Gt("ngIf","url"==(null==t.preset?null:t.preset.type)&&t.tag.value),Ke(5),Gt("type",t.preset.type)("ngModel",t.tag.value)("placeholder",t.tag.key)}}function qie(e,n){if(1&e&&(lt(0,"b"),cn(1),ct()),2&e){const t=sn(2);Ke(1),Zr((null==t.preset?null:t.preset.lbl[t.language])||(null==t.preset?null:t.preset.lbl.en))}}function Xie(e,n){if(1&e&&(lt(0,"b"),Tr(1,"ion-icon",11),cn(2),ct()),2&e){const t=sn(2);Ke(2),Or(" ",null==t.preset?null:t.preset.key,"")}}function Zie(e,n){if(1&e){const t=Ji();lt(0,"app-opening-hours",26),$n("valueChangeEvent",function(i){return Ar(t),kr(sn(2).tag.value=i)}),ct()}if(2&e){const t=sn(2);Gt("openingHours",t.tag.value)("displayCode",t.displayCode)("editMode",!0)}}function Kie(e,n){if(1&e){const t=Ji();lt(0,"div",5)(1,"ion-item",18)(2,"ion-input",17),$n("ngModelChange",function(i){return Ar(t),kr(sn(2).tag.value=i)}),ct()()(),lt(3,"div",8)(4,"ion-icon",9),$n("click",function(){return Ar(t),kr(sn(2).tag.value="")}),ct()()}if(2&e){const t=sn(2);Ke(2),Gt("ngModel",t.tag.value)("placeholder",t.tag.key)}}function Jie(e,n){if(1&e&&(lt(0,"ion-card")(1,"ion-card-header"),Yn(2,qie,2,1,"b",1),Yn(3,Xie,3,1,"b",1),ct(),lt(4,"ion-card-content")(5,"div",4),Yn(6,Zie,1,3,"app-opening-hours",24),Yn(7,Kie,5,2,"ng-template",null,25,Uf),ct()()()),2&e){const t=zf(8),r=sn();Ke(2),Gt("ngIf",!r.displayCode),Ke(1),Gt("ngIf",r.displayCode),Ke(3),Gt("ngIf","opening_hours"===(null==r.preset?null:r.preset.key))("ngIfElse",t)}}const Qie=function(){return["tel","email","url"]};let ese=(()=>{class e{constructor(){this.openPrimaryListModal=new Hi,this.addTags=new Hi}emitOpenModal(t){!this.displayCode&&"list"===this.preset.type&&this.openPrimaryListModal.emit(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["edit-presets"]],inputs:{displayCode:"displayCode",tag:"tag",language:"language",preset:"preset"},outputs:{openPrimaryListModal:"openPrimaryListModal",addTags:"addTags"},decls:5,vars:6,consts:[[3,"tag","preset","language","displayCode","addTags",4,"ngIf"],[4,"ngIf"],[3,"tag","preset","language","displayCode","addTags"],[3,"click"],[1,"wrapperEdit2cols"],[1,"contentEdit2cols"],[3,"click",4,"ngIf","ngIfElse"],["noPreset",""],[1,"buttonEdit2cols"],["name","close",2,"width","2em","height","2em",3,"click"],["name","settings"],["name","code"],["class","displayLabelListValue",4,"ngIf"],["class","undefindedListValue",4,"ngIf"],[1,"displayLabelListValue"],[1,"undefindedListValue"],["color","primary"],["type","text",3,"ngModel","placeholder","ngModelChange"],[2,"padding-left","0px"],["type","number",3,"ngModel","placeholder","ngModelChange"],["target","_blank",3,"href",4,"ngIf"],[3,"type","ngModel","placeholder","ngModelChange"],["target","_blank",3,"href"],["name","link"],[3,"openingHours","displayCode","editMode","valueChangeEvent",4,"ngIf","ngIfElse"],["normalText",""],[3,"openingHours","displayCode","editMode","valueChangeEvent"]],template:function(r,i){1&r&&(Yn(0,kie,1,4,"app-select",0),Yn(1,zie,13,7,"ion-card",1),Yn(2,$ie,11,4,"ion-card",1),Yn(3,Wie,12,6,"ion-card",1),Yn(4,Jie,9,4,"ion-card",1)),2&r&&(Gt("ngIf","select"===(null==i.preset?null:i.preset.type)),Ke(1),Gt("ngIf","list"===(null==i.preset?null:i.preset.type)),Ke(1),Gt("ngIf","number"===(null==i.preset?null:i.preset.type)),Ke(1),Gt("ngIf",ug(5,Qie).includes(null==i.preset?null:i.preset.type)),Ke(1),Gt("ngIf","text"===(null==i.preset?null:i.preset.type)))},dependencies:[Bu,hh,Ud,fh,pf,Mm,Ql,Sm,Gd,ty,bC,Hh,Pie,I6,gc,sI],styles:[".wrapperEdit2cols[_ngcontent-%COMP%]{width:100%;min-height:32px}.contentEdit2cols[_ngcontent-%COMP%]{position:relative;float:left;min-height:32px;margin-bottom:auto;margin-top:auto;height:100%;width:calc(100% - 32px)}.buttonEdit2cols[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;height:100%}ion-card[_ngcontent-%COMP%]{padding-bottom:1em}.primaryKeyLabel[_ngcontent-%COMP%]{font-size:1.2em;font-weight:bolder}.undefindedListValue[_ngcontent-%COMP%]{color:#00000080}.displayLabelListValue[_ngcontent-%COMP%]{font-weight:bolder}.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.iconImgPNG[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.imgCenter[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.iconImg[_ngcontent-%COMP%]{max-width:26px;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.primaryCardContent[_ngcontent-%COMP%]{margin-left:40px}"]})}return e})();function tse(e,n){if(1&e){const t=Ji();lt(0,"ion-button",4),$n("click",function(){Ar(t);const i=sn(2);return kr(i.fixDeprecated.emit({old:i.tagConfig.tags,replace:i.tagConfig.replace}))}),Tr(1,"ion-icon",5),ct()}}function nse(e,n){if(1&e&&(lt(0,"ion-card",2)(1,"ion-card-content"),cn(2),wn(3,"translate"),Yn(4,tse,2,0,"ion-button",3),ct()()),2&e){const t=sn();Ke(2),Or(" ",Nn(3,2,"ALERT.TAG_IS_DEPRECATED")," "),Ke(2),Gt("ngIf",t.tagConfig.replace)}}function rse(e,n){if(1&e&&(lt(0,"ion-card",2)(1,"ion-card-content"),cn(2),ct()()),2&e){const t=sn();Ke(2),Or(" ",(null==t.tagConfig?null:t.tagConfig.alert[t.language])||(null==t.tagConfig?null:t.tagConfig.alert.en)," ")}}function ise(e,n){if(1&e&&(lt(0,"ion-card",6)(1,"ion-card-content"),cn(2),ct()()),2&e){const t=sn();Ke(2),Or(" ",(null==t.tagConfig?null:t.tagConfig.warning[t.language])||(null==t.tagConfig?null:t.tagConfig.warning.en)," ")}}let sse=(()=>{class e{constructor(){this.fixDeprecated=new Hi}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-alert"]],inputs:{tagConfig:"tagConfig",language:"language",countryCode:"countryCode"},outputs:{fixDeprecated:"fixDeprecated"},decls:3,vars:3,consts:[["class","alertCard",4,"ngIf"],["class","warningtCard",4,"ngIf"],[1,"alertCard"],[3,"click",4,"ngIf"],[3,"click"],["name","hammer"],[1,"warningtCard"]],template:function(r,i){1&r&&(Yn(0,nse,5,4,"ion-card",0),Yn(1,rse,3,1,"ion-card",0),Yn(2,ise,3,1,"ion-card",1)),2&r&&(Gt("ngIf",i.tagConfig&&(null==i.tagConfig?null:i.tagConfig.deprecated)),Ke(1),Gt("ngIf",i.tagConfig&&(null==i.tagConfig?null:i.tagConfig.alert)&&((null==i.tagConfig?null:i.tagConfig.alert[i.language])||(null==i.tagConfig?null:i.tagConfig.alert.en))),Ke(1),Gt("ngIf",i.tagConfig&&(null==i.tagConfig?null:i.tagConfig.warning)&&((null==i.tagConfig?null:i.tagConfig.warning[i.language])||(null==i.tagConfig?null:i.tagConfig.warning.en))&&(!i.tagConfig.warningCountryCodes||i.tagConfig.warningCountryCodes.includes(i.countryCode))))},dependencies:[Bu,Hc,fh,pf,Ql,gc],styles:[".alertCard[_ngcontent-%COMP%]{background-color:#da281c;color:#fff}.warningtCard[_ngcontent-%COMP%]{background-color:#ff6b3e;color:#fff}"]})}return e})();var Ta=X(6676);const L6=new mr("NGX_MOMENT_OPTIONS");let A6=(()=>{class e{constructor(t,r){this.cdRef=t,this.ngZone=r}format(t){return t.from(Ta(),this.lastOmitSuffix)}transform(t,r,i){return this.hasChanged(t,r)?(this.lastTime=this.getTime(t),this.lastValue=t,this.lastOmitSuffix=r,this.lastLocale=this.getLocale(t),this.formatFn=i||this.format.bind(this),this.removeTimer(),this.createTimer(),this.lastText=this.formatFn(Ta(t))):this.createTimer(),this.lastText}ngOnDestroy(){this.removeTimer()}createTimer(){if(this.currentTimer)return;const t=Ta(this.lastValue),r=1e3*this.getSecondsUntilUpdate(t);this.currentTimer=this.ngZone.runOutsideAngular(()=>typeof window<"u"?window.setTimeout(()=>{this.lastText=this.formatFn(Ta(this.lastValue)),this.currentTimer=null,this.ngZone.run(()=>this.cdRef.markForCheck())},r):null)}removeTimer(){this.currentTimer&&(window.clearTimeout(this.currentTimer),this.currentTimer=null)}getSecondsUntilUpdate(t){const r=Math.abs(Ta().diff(t,"minute"));return r<1?1:r<60?30:r<180?300:3600}hasChanged(t,r){return this.getTime(t)!==this.lastTime||this.getLocale(t)!==this.lastLocale||r!==this.lastOmitSuffix}getTime(t){return Ta.isDate(t)?t.getTime():Ta.isMoment(t)?t.valueOf():Ta(t).valueOf()}getLocale(t){return Ta.isMoment(t)?t.locale():Ta.locale()}}return e.\u0275fac=function(t){return new(t||e)(Oe(Kr,16),Oe(gr,16))},e.\u0275pipe=Kn({name:"amTimeAgo",type:e,pure:!1}),e})(),wse=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:L6,useValue:{...t}}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=go({type:e}),e.\u0275inj=nr({}),e})();function bse(e,n){1&e&&(lt(0,"p"),cn(1),wn(2,"translate"),ct()),2&e&&(Ke(1),Or(" ",Nn(2,1,"MODAL_SELECTED_ITEM.META_BEING_CREATED")," "))}function xse(e,n){if(1&e&&(lt(0,"span"),cn(1),wn(2,"date"),ct()),2&e){const t=sn(2);Ke(1),Or(" ",Kl(2,1,t.feature.properties.meta.timestamp,"short")," ")}}function Mse(e,n){if(1&e&&(lt(0,"span"),cn(1),wn(2,"amTimeAgo"),ct()),2&e){const t=sn(2);Ke(1),Or(" ",Nn(2,1,t.feature.properties.meta.timestamp)," ")}}function Sse(e,n){if(1&e&&(lt(0,"p"),cn(1),wn(2,"translate"),wn(3,"translate"),Yn(4,xse,3,4,"span",1),Yn(5,Mse,3,3,"span",1),ct()),2&e){const t=sn();Ke(1),Or(" ",(null==t.feature.properties.meta?null:t.feature.properties.meta.version)>1?Nn(2,3,"MODAL_SELECTED_ITEM.META_UPDATED_AT_DATE"):Nn(3,5,"MODAL_SELECTED_ITEM.META_CREATED_AT_DATE")," "),Ke(3),Gt("ngIf",t.displayCode),Ke(1),Gt("ngIf",!t.displayCode)}}function Ese(e,n){if(1&e&&(lt(0,"span"),cn(1),wn(2,"amTimeAgo"),ct()),2&e){const t=sn(2);Ke(1),Or(" ",Nn(2,1,t.lastSurvey)," ")}}function Tse(e,n){if(1&e&&(lt(0,"span"),cn(1),wn(2,"date"),ct()),2&e){const t=sn(2);Ke(1),Or(" ",Kl(2,1,t.lastSurvey,"short")," ")}}function Cse(e,n){if(1&e&&(lt(0,"p"),cn(1),wn(2,"translate"),Yn(3,Ese,3,3,"span",1),Yn(4,Tse,3,4,"span",1),ct()),2&e){const t=sn();Ke(1),Or(" ",Nn(2,3,"MODAL_SELECTED_ITEM.LAST_SURVEY")," "),Ke(2),Gt("ngIf",!t.displayCode),Ke(1),Gt("ngIf",t.displayCode)}}function Dse(e,n){if(1&e&&(lt(0,"p",3),cn(1),wn(2,"translate"),ct()),2&e){const t=sn();Ke(1),Or(" ",Nn(2,1,"MODAL_SELECTED_ITEM.THIS_NODE_IS_USED_BY_A_WAY").replace("{x}",t.usedByWays.length)," ")}}let Ise=(()=>{class e{constructor(){}ngOnInit(){this.usedByWays=this.feature.properties.usedByWays||null,Ta.locale(this.languageUi)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["meta-card"]],inputs:{feature:"feature",lastSurvey:"lastSurvey",displayCode:"displayCode",languageUi:"languageUi"},decls:13,vars:14,consts:[["color","primary"],[4,"ngIf"],["class","warning",4,"ngIf"],[1,"warning"]],template:function(r,i){1&r&&(lt(0,"ion-card",0)(1,"ion-card-content")(2,"p"),cn(3),wn(4,"translate"),ct(),Yn(5,bse,3,3,"p",1),Yn(6,Sse,6,7,"p",1),lt(7,"p"),cn(8),wn(9,"translate"),wn(10,"translate"),ct(),Yn(11,Cse,5,5,"p",1),Yn(12,Dse,3,3,"p",2),ct()()),2&r&&(Ke(3),cf(" ",Nn(4,8,"MODAL_SELECTED_ITEM.META_VERSION")," ",null==i.feature.properties?null:i.feature.properties.meta.version," "),Ke(2),Gt("ngIf",0===i.feature.properties.meta.timestamp),Ke(1),Gt("ngIf",0!==i.feature.properties.meta.timestamp),Ke(2),cf(" ",Nn(9,10,"MODAL_SELECTED_ITEM.META_BY")," ",null!=i.feature.properties.meta&&i.feature.properties.meta.user?null==i.feature.properties.meta?null:i.feature.properties.meta.user:Nn(10,12,"MODAL_SELECTED_ITEM.META_MYSELF")," "),Ke(3),Gt("ngIf",i.lastSurvey),Ke(1),Gt("ngIf",i.usedByWays))},dependencies:[Bu,fh,pf,gO,A6,gc],styles:["ion-card-content[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:orange;font-weight:700}"]})}return e})(),Lse=(()=>{class e{constructor(){this.yes=new Hi,this.no=new Hi}ngOnInit(){}handleYes(){this.yes.emit()}handleNo(){this.no.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["survey-card"]],inputs:{feature:"feature"},outputs:{yes:"yes",no:"no"},decls:14,vars:10,consts:[[1,"actions"],["fill","clear","color","success",3,"click"],["name","checkmark","slot","start"],["fill","clear","color","danger",3,"disabled","click"],["name","close","slot","start"]],template:function(r,i){1&r&&(lt(0,"ion-card")(1,"ion-card-content")(2,"p"),cn(3),wn(4,"translate"),ct()(),lt(5,"div",0)(6,"ion-button",1),$n("click",function(){return i.handleYes()}),Tr(7,"ion-icon",2),cn(8),wn(9,"translate"),ct(),lt(10,"ion-button",3),$n("click",function(){return i.handleNo()}),Tr(11,"ion-icon",4),cn(12),wn(13,"translate"),ct()()()),2&r&&(Ke(3),Zr(Nn(4,4,"MODAL_SELECTED_ITEM.SURVEY_QUESTION")),Ke(5),Or(" ",Nn(9,6,"SHARED.YES")," "),Ke(2),Gt("disabled","node"!==i.feature.properties.type),Ke(2),Or(" ",Nn(13,8,"SHARED.NO")," "))},dependencies:[Hc,fh,pf,Ql,gc],styles:["ion-card-content[_ngcontent-%COMP%]{padding-bottom:0}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}div.actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);column-gap:8px;padding:0 8px}"]})}return e})();function Ase(e,n){1&e&&Z0(0)}function Pse(e,n){if(1&e&&(lt(0,"h3"),cn(1),ct()),2&e){const t=sn(2);Ke(1),Or(" ",t.tagConfig.lbl[t.language]?t.tagConfig.lbl[t.language]:t.tagConfig.lbl.en," ")}}function kse(e,n){if(1&e&&(lt(0,"p",10),cn(1),ct()),2&e){const t=sn(2);Ke(1),Or(" ",void 0!==t.tagConfig.description[t.language]?t.tagConfig.description[t.language]:t.tagConfig.description.en," ")}}function Ose(e,n){if(1&e&&(Yn(0,Pse,2,1,"h3",8),Yn(1,kse,2,1,"p",9)),2&e){const t=sn();Gt("ngIf",null==t.tagConfig?null:t.tagConfig.lbl),Ke(1),Gt("ngIf",t.tagConfig&&t.tagConfig.description)}}function Nse(e,n){if(1&e&&(lt(0,"p",12),Tr(1,"ion-icon",13),cn(2),wn(3,"displayTags"),ct()),2&e){const t=sn(2);Ke(2),Or(" ",Nn(3,1,t.tagConfig.tags)," ")}}function Rse(e,n){1&e&&Yn(0,Nse,4,3,"p",11),2&e&&Gt("ngIf",sn().tagConfig)}function Fse(e,n){if(1&e){const t=Ji();lt(0,"div",14)(1,"ion-icon",15),$n("click",function(){return Ar(t),kr(sn().emitToggleBookmark())}),ct()()}if(2&e){const t=sn();Ke(1),uf("color",t.isBookmarked?"#f71000":"#d8d8d8")}}let Bse=(()=>{class e{constructor(){this.openPrimaryTagModal=new Hi,this.toggleBookmark=new Hi}ngOnInit(){}emitOpenModal(){this.openPrimaryTagModal.emit()}emitToggleBookmark(){this.toggleBookmark.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Qn({type:e,selectors:[["primary-key"]],inputs:{tagConfig:"tagConfig",language:"language",jsonSprites:"jsonSprites",isBookmarked:"isBookmarked",displayCode:"displayCode",isEditMode:"isEditMode"},outputs:{openPrimaryTagModal:"openPrimaryTagModal",toggleBookmark:"toggleBookmark"},decls:11,vars:8,consts:[[1,"primary-key"],[1,"icon",3,"click"],[3,"icon","jsonSprites"],[3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["data",""],["code",""],["class","actions",4,"ngIf"],[4,"ngIf"],["class","description",4,"ngIf"],[1,"description"],["class","code",4,"ngIf"],[1,"code"],["name","code"],[1,"actions"],["name","heart",3,"click"]],template:function(r,i){if(1&r&&(lt(0,"ion-card")(1,"div",0)(2,"div",1),$n("click",function(){return i.emitOpenModal()}),Tr(3,"app-icon",2),ct(),lt(4,"ion-card-content",3),$n("click",function(){return i.emitOpenModal()}),Yn(5,Ase,1,0,"ng-container",4),Yn(6,Ose,2,2,"ng-template",null,5,Uf),Yn(8,Rse,1,1,"ng-template",null,6,Uf),ct(),Yn(10,Fse,2,2,"div",7),ct()()),2&r){const s=zf(7),a=zf(9);Ke(2),uf("background-color",i.tagConfig&&i.tagConfig.markerColor?i.tagConfig.markerColor:"black"),Ke(1),Gt("icon",i.tagConfig&&i.tagConfig.icon?i.tagConfig.icon:null)("jsonSprites",i.jsonSprites),Ke(2),Gt("ngIf",i.displayCode)("ngIfThen",a)("ngIfElse",s),Ke(5),Gt("ngIf",i.isEditMode)}},dependencies:[Bu,fh,pf,Ql,OM,E6],styles:["div.primary-key[_ngcontent-%COMP%]{display:flex;min-height:65px}div.primary-key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:50px;min-width:50px;position:relative}div.primary-key[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}div.primary-key[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;padding-left:8px;padding-right:0}div.primary-key[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}div.primary-key[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   p.description[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}div.primary-key[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   p.code[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}div.primary-key[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:12px;display:flex;justify-content:center;align-items:center}div.primary-key[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:2em;height:2em}"]})}return e})(),Yse=(()=>{class e{transform(t,r,i,s,a,h=!1){let m=["name"];if(!r)return t.filter(y=>!m.includes(y.key));if(m=[...m,...Object.keys(r.tags)],a&&h){let y=[];for(let C of r.presets)y.push(a[C].key);m=[...m,...y]}if(i&&a){let y=[];for(let C of r.presets){const L=a[C];L.countryCode&&!L.countryCode.includes(i)&&y.push(a[C])}m=[...m,...y]}return t.filter(y=>!m.includes(y.key))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"filterExcludeKeys",type:e,pure:!1})}return e})(),zse=(()=>{class e{transform(t,r){let i=[],s=[],a=[],h=[];return t.forEach(m=>{m.isJustAdded?h.push(m):r.presets.includes(m.key)?i.push(m):(r.moreFields||[]).includes(m.key)?s.push(m):a.push(m)}),[...i,...s,...a,...h]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"orderByPreset",type:e,pure:!1})}return e})();function jse(e,n){1&e&&Tr(0,"ion-icon",6)}function Hse(e,n){1&e&&Tr(0,"ion-icon",7)}function $se(e,n){if(1&e&&Tr(0,"meta-card",23),2&e){const t=sn(2);Gt("feature",t.feature)("displayCode",t.displayCode)("languageUi",t.configService.getUiLanguage())("lastSurvey",t.lastSurvey)}}function Use(e,n){if(1&e){const t=Ji();lt(0,"survey-card",24),$n("yes",function(){return Ar(t),kr(sn(2).handleSurveyYes())})("no",function(){return Ar(t),kr(sn(2).handleSurveyNo())}),ct()}2&e&&Gt("feature",sn(2).feature)}function Vse(e,n){if(1&e&&Tr(0,"read-presets",27),2&e){const t=sn().$implicit,r=sn(2);Gt("displayCode",r.displayCode)("tag",t)("preset",t.preset)("language",r.configService.config.languageTags)("countryCode",r.configService.config.countryTags)}}function Gse(e,n){1&e&&Tr(0,"read-other-tag",29),2&e&&Gt("tag",sn(2).$implicit)}function Wse(e,n){1&e&&Yn(0,Gse,1,1,"read-other-tag",28),2&e&&Gt("ngIf",!sn().$implicit.preset)}function qse(e,n){if(1&e&&(lt(0,"div"),Yn(1,Vse,1,5,"read-presets",25),Yn(2,Wse,1,1,"ng-template",null,26,Uf),ct()),2&e){const t=n.$implicit,r=zf(3);Ke(1),Gt("ngIf",t.preset&&""!==t.value)("ngIfElse",r)}}function Xse(e,n){if(1&e){const t=Ji();lt(0,"div",30),Tr(1,"ion-icon",31),lt(2,"span"),cn(3),wn(4,"translate"),ct(),Tr(5,"div",32),lt(6,"ion-button",33),$n("click",function(){return Ar(t),kr(sn(2).cancelChange())}),wn(7,"async"),Tr(8,"ion-icon",34),cn(9),wn(10,"translate"),ct()()}if(2&e){const t=sn(2);Ke(3),Zr(Nn(4,3,"MODAL_SELECTED_ITEM.WARN_NODE_EDITED")),Ke(3),Gt("disabled",Nn(7,5,t.mapService.isProcessing)),Ke(3),Or(" ",Nn(10,7,"SHARED.CLEAR")," ")}}const oI=function(){return{key:"name"}},P6=function(e,n,t,r,i){return[e,n,t,r,i]};function Zse(e,n){if(1&e){const t=Ji();lt(0,"div",8)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),cn(4),wn(5,"translate"),ct()()(),lt(6,"div",9),Yn(7,$se,1,4,"meta-card",10),lt(8,"app-alert",11),$n("fixDeprecated",function(i){return Ar(t),kr(sn().fixDeprecated(i))}),ct(),Tr(9,"primary-key",12),Yn(10,Use,1,1,"survey-card",13),Yn(11,qse,4,2,"div",14),wn(12,"orderByPreset"),wn(13,"filterExcludeKeys"),ct(),lt(14,"ion-footer"),Yn(15,Xse,11,9,"div",15),lt(16,"div",16)(17,"div",17)(18,"ion-button",18),$n("click",function(){return Ar(t),kr(sn().dismiss())}),Tr(19,"ion-icon",19),cn(20),wn(21,"translate"),ct()(),lt(22,"div",20)(23,"ion-button",21),$n("click",function(){return Ar(t),kr(sn().updateMode())}),wn(24,"async"),Tr(25,"ion-icon",22),cn(26),wn(27,"translate"),ct()()()()()}if(2&e){const t=sn();Ke(4),Or(" ",""!=t.findElement(t.tags,ug(32,oI)).value?t.findElement(t.tags,ug(33,oI)).value:Nn(5,15,"MODAL_SELECTED_ITEM.NO_NAME")," "),Ke(3),Gt("ngIf",t.feature.properties.meta),Ke(1),Gt("tagConfig",t.tagConfig)("language",t.configService.config.languageTags)("countryCode",t.configService.config.countryTags),Ke(1),Gt("displayCode",t.displayCode)("language",t.configService.config.languageTags)("tagConfig",t.tagConfig)("jsonSprites",t.tagsService.jsonSprites),Ke(1),Gt("ngIf",t.shouldShowSurveyCard()),Ke(1),Gt("ngForOf",Kl(12,17,XS(13,20,qS(34,P6,t.tags,t.tagConfig,t.configService.config.countryTags,t.tagsService.primaryKeys,t.tagsService.presets)),t.tagConfig)),Ke(4),Gt("ngIf",t.feature.properties.changeType),Ke(5),Or(" ",Nn(21,26,"SHARED.CLOSE")," "),Ke(3),Gt("disabled",Nn(24,28,t.mapService.isProcessing)),Ke(3),Or(" ",Nn(27,30,"SHARED.EDIT")," ")}}function Kse(e,n){if(1&e){const t=Ji();lt(0,"ion-fab",47)(1,"ion-fab-button",2),$n("click",function(){Ar(t);const i=sn(2);return kr(i.restoreFields(i.tagId,i.tags))}),Tr(2,"ion-icon",48),ct()()}}function Jse(e,n){if(1&e){const t=Ji();lt(0,"edit-presets",51),$n("openPrimaryListModal",function(){Ar(t);const i=sn().$implicit,s=sn(2);return kr(s.openModalList(i,i.preset?i.preset:s.tagsService.presets[i.key.replace(":","/")]))})("addTags",function(i){return Ar(t),kr(sn(3).addPresetsTags(i))}),ct()}if(2&e){const t=sn().$implicit,r=sn(2);Gt("preset",t.preset?t.preset:r.tagsService.presets[t.key.replace(":","/")])("displayCode",r.displayCode)("tag",t)("language",r.configService.config.languageTags)}}function Qse(e,n){if(1&e){const t=Ji();lt(0,"edit-other-tag",52),$n("deleteTag",function(i){return Ar(t),kr(sn(3).deleteTag(i))}),ct()}2&e&&Gt("tag",sn().$implicit)}function eoe(e,n){if(1&e&&(lt(0,"div"),Yn(1,Jse,1,4,"edit-presets",49),Yn(2,Qse,1,1,"ng-template",null,50,Uf),ct()),2&e){const t=n.$implicit,r=zf(3),i=sn(2);Ke(1),Gt("ngIf",t.preset||i.tagsService.presets[t.key.replace(":","/")])("ngIfElse",r)}}function toe(e,n){if(1&e){const t=Ji();lt(0,"div",30),Tr(1,"ion-icon",31),lt(2,"span"),cn(3),wn(4,"translate"),ct(),Tr(5,"div",32),lt(6,"ion-button",33),$n("click",function(){return Ar(t),kr(sn(2).cancelChange())}),wn(7,"async"),Tr(8,"ion-icon",34),cn(9),wn(10,"translate"),ct()()}if(2&e){const t=sn(2);Ke(3),Zr(Nn(4,3,"MODAL_SELECTED_ITEM.WARN_NODE_EDITED")),Ke(3),Gt("disabled",Nn(7,5,t.mapService.isProcessing)),Ke(3),Or(" ",Nn(10,7,"SHARED.CLEAR")," ")}}function noe(e,n){if(1&e){const t=Ji();lt(0,"ion-button",53),$n("click",function(){return Ar(t),kr(sn(2).moveOsmElement())}),wn(1,"async"),Tr(2,"ion-icon",54),ct()}if(2&e){const t=sn(2);Gt("disabled",t.feature.properties.usedByWays||Nn(1,1,t.mapService.isProcessing))}}function roe(e,n){if(1&e){const t=Ji();lt(0,"ion-button",55),$n("click",function(){Ar(t);const i=sn(2);return kr(i.presentConfirm(i.feature))}),wn(1,"async"),Tr(2,"ion-icon",56),ct()}2&e&&Gt("disabled",Nn(1,1,sn(2).mapService.isProcessing))}function ioe(e,n){if(1&e){const t=Ji();lt(0,"ion-button",57),$n("click",function(){Ar(t);const i=sn(2);return kr(i.updateOsmElement(i.tagConfig))}),wn(1,"async"),Tr(2,"ion-icon",58),cn(3),wn(4,"translate"),ct()}2&e&&(Gt("disabled",Nn(1,2,sn(2).mapService.isProcessing)),Ke(3),Or(" ",Nn(4,4,"SHARED.SAVE")," "))}function soe(e,n){if(1&e){const t=Ji();lt(0,"ion-button",57),$n("click",function(){Ar(t);const i=sn(2);return kr(i.createOsmElement(i.tagConfig))}),wn(1,"async"),Tr(2,"ion-icon",58),cn(3),wn(4,"translate"),ct()}2&e&&(Gt("disabled",Nn(1,2,sn(2).mapService.isProcessing)),Ke(3),Or(" ",Nn(4,4,"SHARED.CREATE")," "))}function ooe(e,n){if(1&e){const t=Ji();lt(0,"div",8)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title")(4,"ion-input",35),$n("ngModelChange",function(i){Ar(t);const s=sn();return kr(s.findElement(s.tags,{key:"name"}).value=i)}),wn(5,"translate"),ct()()()(),lt(6,"div",9)(7,"div",36)(8,"ion-fab")(9,"ion-fab-button",2),$n("click",function(){Ar(t);const i=sn();return kr(i.saveFields(i.tagId,i.tags))}),Tr(10,"ion-icon",37),ct()(),Yn(11,Kse,3,0,"ion-fab",38),ct(),lt(12,"app-alert",11),$n("fixDeprecated",function(i){return Ar(t),kr(sn().fixDeprecated(i))}),ct(),lt(13,"primary-key",39),$n("openPrimaryTagModal",function(){return Ar(t),kr(sn().openPrimaryTagModal())})("toggleBookmark",function(){Ar(t);const i=sn();return kr(i.addOrRemoveBookmark(i.tagConfig))}),wn(14,"isBookmarked"),ct(),Yn(15,eoe,4,2,"div",14),wn(16,"orderByPreset"),wn(17,"filterExcludeKeys"),lt(18,"ion-button",40),$n("click",function(){return Ar(t),kr(sn().openModalAddTag())}),Tr(19,"ion-icon",41),ct()(),lt(20,"ion-footer"),Yn(21,toe,11,9,"div",15),lt(22,"div",16)(23,"div",17)(24,"ion-button",42),$n("click",function(){return Ar(t),kr(sn().dismiss())}),Tr(25,"ion-icon",19),cn(26),wn(27,"translate"),ct()(),lt(28,"div",43),Yn(29,noe,3,3,"ion-button",44),Yn(30,roe,3,3,"ion-button",45),ct(),lt(31,"div",20),Yn(32,ioe,5,6,"ion-button",46),Yn(33,soe,5,6,"ion-button",46),ct()()()()}if(2&e){const t=sn();Ke(4),Gt("placeholder",Nn(5,19,"MODAL_SELECTED_ITEM.PLACEHOLDER_NAME"))("ngModel",t.findElement(t.tags,ug(35,oI)).value),Ke(7),Gt("ngIf",t.savedFields),Ke(1),Gt("tagConfig",t.tagConfig)("language",t.configService.config.languageTags)("countryCode",t.configService.config.countryTags),Ke(1),Gt("displayCode",t.displayCode)("language",t.configService.config.languageTags)("tagConfig",t.tagConfig)("jsonSprites",t.tagsService.jsonSprites)("isEditMode",!0)("isBookmarked",Kl(14,21,t.tagConfig,t.tagsService.bookmarksIds)),Ke(2),Gt("ngForOf",Kl(16,24,XS(17,27,qS(36,P6,t.tags,t.tagConfig,t.configService.config.countryTags,t.tagsService.primaryKeys,t.tagsService.presets)),t.tagConfig)),Ke(6),Gt("ngIf",t.feature.properties.changeType),Ke(5),Or(" ",Nn(27,33,"SHARED.CLOSE")," "),Ke(3),Gt("ngIf","node"===t.feature.properties.type),Ke(1),Gt("ngIf","node"==t.feature.properties.type&&"Update"==t.mode),Ke(2),Gt("ngIf","Update"==t.mode),Ke(1),Gt("ngIf","Create"==t.mode)}}function aoe(e,n){1&e&&(lt(0,"div",8)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),cn(4," Loading... "),ct()()(),lt(5,"ion-content")(6,"h1"),cn(7,"Loading ..."),ct()(),Tr(8,"ion-footer"),ct())}let loe=(()=>{class e{constructor(t,r,i,s,a,h,m,y,C,L,F,j,fe,we,qe){this.platform=t,this.params=r,this.loadingCtrl=i,this.osmApi=s,this.tagsService=a,this.modalCtrl=h,this.mapService=m,this.dataService=y,this.configService=C,this.alertService=L,this.toastCtrl=F,this.alertCtrl=j,this.zone=fe,this.translate=we,this.cdr=qe,this.tags=[],this.originalTags=[],this.displayCode=!1,this.openPrimaryTagModalOnStart=!1,this.customValue="",this.presetsIds=[],this.newPosition=r.data.newPosition,this.feature=(0,_c.cloneDeep)(r.data.data);const Ae=(this.feature.properties.way_geometry?this.feature.properties.way_geometry:this.feature.geometry).type,je=!!this.feature.properties.usedByWays;"Point"!==Ae||je?"Point"===Ae&&je?this.geometryType="vertex":"LineString"===Ae||"MultiLineString"===Ae?this.geometryType="line":("Polygon"===Ae||"MultiPolygon"===Ae)&&(this.geometryType="area"):this.geometryType="point",this.mode=r.data.type,this.openPrimaryTagModalOnStart=r.data.openPrimaryTagModalOnStart,this.origineData=this.params.data.origineData,this.typeFiche="Loading";const Dt=[];for(const Ht in this.feature.properties.tags){const Kt=a.presets[Ht.replace(":","/")],tn={key:Ht,value:this.feature.properties.tags[Ht]};if(Kt&&(tn.preset=Kt),this.tags.push(tn),["survey:date","check_date"].includes(Ht)){const Tn=new Date(this.feature.properties.tags[Ht]);Tn.setHours(0,0,0,0),Dt.push(Tn)}}this.lastSurvey=Dt.length>0?Dt.reduce((Ht,Kt)=>Kt>Ht?Kt:Ht):null,this.originalTags=(0,_c.cloneDeep)(this.tags)}ngOnInit(){this.initComponent(),this.cdr.detectChanges(),"Create"===this.mode&&this.openPrimaryTagModalOnStart&&this.openPrimaryTagModal()}presentConfirm(t){this.alertCtrl.create({header:this.translate.instant("MODAL_SELECTED_ITEM.DELETE_CONFIRM_HEADER"),message:this.translate.instant("MODAL_SELECTED_ITEM.DELETE_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.CANCEL"),role:"cancel",handler:()=>{}},{text:this.translate.instant("SHARED.CONFIRM"),handler:()=>{this.deleteOsmElement()}}]}).then(r=>{r.present()})}initComponent(t=null){let s,a,h,m,y,r=[...this.tags],i=(0,_c.cloneDeep)(this.feature);if(y=this.tagsService.findPkey(r),i.properties.primaryTag=y,this.typeFiche="Update"===this.mode||"Create"===this.mode?"Edit":"Read",r=r.filter(C=>C.value&&""!==C.value&&!C.isDefaultValue),r.find(C=>"name"===C.key)||r.push({key:"name",value:""}),s=t||Z3(i,this.tagsService.tags),a=s&&s.id?s.id:`${y.key}/${y.value}`,m=this.tagsService.savedFields[a],this.savedFields=m,h=s&&s.presets?s.presets:void 0,h&&h.length>0)for(let C=0;C<h.length;C++){const L=this.tagsService.presets[h[C]],F=r.find(j=>j.key===L.key)||void 0;F?F.preset=L:r.push({key:L.key,value:"",preset:L})}return this.tagId=a,this.feature=i,this.tags=r,this.presetsIds=h,this.tagConfig=s,this.primaryKey=y,{tagConfig:s,tags:r,feature:i}}dataIsChanged(){const t=[];for(let i=0;i<this.tags.length;i++)this.tags[i].value&&t.push({key:this.tags[i].key,value:this.tags[i].value});const r=[];for(let i=0;i<this.originalTags.length;i++)this.originalTags[i].value&&""!==this.originalTags[i].value&&r.push({key:this.originalTags[i].key,value:this.originalTags[i].value});return!(0,_c.isEqual)(t,r)}updateMode(){this.zone.run(()=>{this.mode="Update",this.typeFiche="Edit"})}toogleCode(){this.zone.run(()=>{this.displayCode=!this.displayCode})}addNewKey(t){if(this.tags.find(i=>i.key==t))return;const r=this.tagsService.presets[t];this.tags=r?[...this.tags,{key:t,value:"",preset:r,isJustAdded:!0}]:[...this.tags,{key:t,value:"",isJustAdded:!0}]}deleteTag(t){const r=(0,_c.findIndex)(this.tags,{key:t.key});-1!==r&&this.tags.splice(r,1)}toLowerCase(t){return t.toLowerCase()}findElement(t,r){const i=(0,_c.findIndex)(t,r);return-1!==i?t[i]:null}dismiss(t=null){this.modalCtrl.dismiss(t)}createOsmElement(t){this.mapService.setIsProcessing(!0),this.typeFiche="Loading",this.tagsService.addTagTolastTagsUsed(t.id),this.configService.getAddSurveyDate()&&this.addSurveyDate(),this.pushTagsToFeature(),this.osmApi.createOsmNode(this.feature).subscribe({next:r=>{this.dismiss({redraw:!0})},complete:()=>{this.mapService.setIsProcessing(!1)}})}updateOsmElement(t){if(this.mapService.setIsProcessing(!0),this.typeFiche="Loading",this.tagsService.addTagTolastTagsUsed(t?t.id:null),!this.dataIsChanged()&&!this.newPosition)return this.mapService.setIsProcessing(!1),void this.dismiss();this.configService.getAddSurveyDate()&&this.addSurveyDate(),this.pushTagsToFeature(),this.osmApi.updateOsmElement(this.feature,this.origineData).subscribe({next:r=>{this.dismiss({redraw:!0})},complete:()=>{this.mapService.setIsProcessing(!1)}})}deleteOsmElement(){this.mapService.setIsProcessing(!0),this.typeFiche="Loading",this.osmApi.deleteOsmElement(this.feature).subscribe({next:t=>{this.dismiss({redraw:!0})},complete:()=>{this.mapService.setIsProcessing(!1)}})}pushTagsToFeature(){const t={};for(let r=0;r<this.tags.length;r++)t[this.tags[r].key]=this.tags[r].value;this.feature.properties.tags=t}moveOsmElement(){this.pushTagsToFeature(),this.dismiss({type:"Move",geojson:this.feature,mode:this.mode})}openPrimaryTagModal(){var t=this;return(0,oo.Z)(function*(){const r=yield t.modalCtrl.create({component:bre,componentProps:{geojson:t.feature,tagConfig:t.tagConfig,tags:t.tags,geometryType:t.geometryType}});yield r.present(),r.onDidDismiss().then(i=>{const s=i.data,h=Object.keys(t.tagConfig.tags);let m=(0,_c.cloneDeep)(t.tags);m=m.filter(L=>!h.includes(L.key));for(let L of m)L.preset&&delete L.preset;if(!s)return void t.cdr.detectChanges();const y=Object.keys(s.tags);let C=[];for(let L in s.tags)C=[{key:L,value:s.tags[L]},...C];m=m.filter(L=>!y.includes(L.key)),m=[...C,...m],s.addTags&&(m=t.addTags(s.addTags,m)),t.tags=[...m],t.initComponent(s),t.cdr.detectChanges()})})()}openModalList(t,r){var i=this;return(0,oo.Z)(function*(){r&&(t.preset=r);const s=yield i.modalCtrl.create({component:Tre,componentProps:t});yield s.present(),s.onDidDismiss().then(a=>{const h=a.data;h&&(i.tags.filter(m=>m.key===h.key)[0].value=h.value,h.tags&&(i.tags=i.addTags(h.tags,i.tags),i.initComponent(i.tagConfig))),i.cdr.detectChanges()})})()}openModalAddTag(){var t=this;return(0,oo.Z)(function*(){const r=yield t.modalCtrl.create({component:Bre,componentProps:{moreFields:t.tagConfig.moreFields||[],usedList:[...t.tagConfig.presets,...t.tags.map(i=>i.key)]}});yield r.present(),r.onDidDismiss().then(i=>{const s=i.data;s&&(t.addNewKey(s),t.cdr.detectChanges())})})()}addTags(t,r){let i=[...r];for(let s in t){const a=i.findIndex(h=>h.key==s);-1!==a?i[a]={key:s,value:t[s]}:i=[...i,{key:s,value:t[s]}]}return i}addPresetsTags(t){t&&(this.tags=this.addTags(t,this.tags),this.initComponent(this.tagConfig)),this.cdr.detectChanges()}cancelChange(){this.dataService.cancelFeatureChange(this.feature),this.dismiss({redraw:!0})}presentToast(t){var r=this;return(0,oo.Z)(function*(){(yield r.toastCtrl.create({message:t,duration:4e3,position:"bottom",buttons:[{text:"X",role:"cancel",handler:()=>{}}]})).present()})()}confirmAddSurveyDate(){this.alertCtrl.create({header:this.translate.instant("MODAL_SELECTED_ITEM.ADD_SURVEY_DATE_CONFIRM_HEADER"),subHeader:this.translate.instant("MODAL_SELECTED_ITEM.ADD_SURVEY_DATE_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.NO"),role:"cancel",handler:t=>{}},{text:this.translate.instant("SHARED.YES"),handler:t=>{this.addSurveyDate(),this.updateOsmElement(null)}}]}).then(t=>{t.present()})}generateISODate(t){return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):""+(t.getMonth()+1))+"-"+(t.getDate()<10?"0"+t.getDate():""+t.getDate())}shouldShowSurveyCard(){const t=this.configService.getDisplaySurveyCard(),r=new Date;if("never"==t||"0"==this.feature.properties.meta.timestamp)return!1;if(!this.lastSurvey)return!0;if(this.generateISODate(this.lastSurvey)==this.generateISODate(r))return!1;if("always"==t)return!0;const s=this.configService.getSurveyCardYear();return this.lastSurvey.getTime()<r.getTime()-31536e6*s}handleSurveyYes(){this.addSurveyDate(),this.updateOsmElement(null)}handleSurveyNo(){var t=this;return(0,oo.Z)(function*(){"node"==t.feature.properties.type&&t.presentConfirm(t.feature)})()}addSurveyDate(){const t=this.generateISODate(new Date);let r=-1;for(let s=0;s<this.tags.length;s++)if(this.tags[s].key===this.configService.config.checkedKey){r=s;break}-1!==r?this.tags[r].value=t:this.tags.push({key:this.configService.config.checkedKey,value:t});const i=["survey:date","check_date"];for(let s=0;s<this.tags.length;s++){const a=this.tags[s].key;a!==this.configService.config.checkedKey&&i.includes(a)&&(this.tags.splice(s,1),s--)}}saveFields(t,r){const i=r.map(s=>({key:s.key,value:s.value})).filter(s=>"name"!==s.key).filter(s=>"survey:date"!==s.key).filter(s=>"check_date"!==s.key);this.tagsService.addSavedField(t,i),this.savedFields||(this.savedFields={}),this.savedFields.tags=[...i]}restoreFields(t,r){const i=this.tagsService.savedFields[t],s=[...r];if(i)for(let a of i.tags){let h=s.find(m=>m.key===a.key);h?h.value=a.value:s.push(a)}this.tags=[...s],this.initComponent(this.tagConfig),this.cdr.detectChanges()}fixDeprecated(t){const r=Object.keys(t.old);this.tags=this.tags.filter(i=>!r.includes(i.key));for(let i of r)this.feature.properties[i]&&delete this.feature.properties[i];this.feature.properties.tags={...this.feature.properties.tags,...t.replace};for(let i in t.replace)this.tags=[{key:i,value:t.replace[i]},...this.tags];"Update"!==this.mode&&(this.mode="Update",this.typeFiche="Edit"),this.initComponent(),this.cdr.detectChanges()}addOrRemoveBookmark(t){this.tagsService.bookmarksIds.includes(t.id)?this.tagsService.removeBookMark(t):this.tagsService.addBookMark(t),this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(Ap),Oe(xm),Oe(DC),Oe(r0),Oe(_h),Oe(mh),Oe(km),Oe(Am),Oe(mc),Oe(bw),Oe(IC),Oe(W1),Oe(gr),Oe(Td),Oe(Kr))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["modal"]],decls:8,vars:6,consts:[[1,"wrapper",3,"ngSwitch"],[1,"toogleCodeButton"],["size","small",3,"click"],["name","code-working",4,"ngIf"],["name","code",4,"ngIf"],["class","modal-content",4,"ngSwitchCase"],["name","code-working"],["name","code"],[1,"modal-content"],[1,"content"],[3,"feature","displayCode","languageUi","lastSurvey",4,"ngIf"],[3,"tagConfig","language","countryCode","fixDeprecated"],[3,"displayCode","language","tagConfig","jsonSprites"],[3,"feature","yes","no",4,"ngIf"],[4,"ngFor","ngForOf"],["class","modifiedWarning",4,"ngIf"],[1,"actions"],[1,"left","section"],["fill","clear",3,"click"],["name","close","slot","start"],[1,"right","section"],[3,"disabled","click"],["name","pencil","slot","start"],[3,"feature","displayCode","languageUi","lastSurvey"],[3,"feature","yes","no"],[3,"displayCode","tag","preset","language","countryCode",4,"ngIf","ngIfElse"],["readOtherTag",""],[3,"displayCode","tag","preset","language","countryCode"],[3,"tag",4,"ngIf"],[3,"tag"],[1,"modifiedWarning"],["name","warning"],[1,"spacer"],["color","danger",3,"disabled","click"],["name","reload","slot","start"],["type","text","clearInput","true","autocorrect","off","autocapitalize","off",3,"placeholder","ngModel","ngModelChange"],[1,"top-actions"],["src","./assets/fa/copy-solid.svg"],["style","margin-left: 45px",4,"ngIf"],[3,"displayCode","language","tagConfig","jsonSprites","isEditMode","isBookmarked","openPrimaryTagModal","toggleBookmark"],["tappable","","color","secondary","expand","block",2,"margin","5px 10px 10px",3,"click"],["name","add"],["tappable","","fill","clear",3,"click"],[1,"middle","section"],["tappable","",3,"disabled","click",4,"ngIf"],["tappable","","color","danger",3,"disabled","click",4,"ngIf"],["tappable","","color","secondary",3,"disabled","click",4,"ngIf"],[2,"margin-left","45px"],["src","./assets/fa/paste-solid.svg"],[3,"preset","displayCode","tag","language","openPrimaryListModal","addTags",4,"ngIf","ngIfElse"],["editOtherTag",""],[3,"preset","displayCode","tag","language","openPrimaryListModal","addTags"],[3,"tag","deleteTag"],["tappable","",3,"disabled","click"],["name","move"],["tappable","","color","danger",3,"disabled","click"],["name","trash"],["tappable","","color","secondary",3,"disabled","click"],["name","checkmark","slot","start"]],template:function(r,i){1&r&&(lt(0,"div",0)(1,"ion-fab",1)(2,"ion-fab-button",2),$n("click",function(){return i.toogleCode()}),Yn(3,jse,1,0,"ion-icon",3),Yn(4,Hse,1,0,"ion-icon",4),ct()(),Yn(5,Zse,28,40,"div",5),Yn(6,ooe,34,42,"div",5),Yn(7,aoe,9,0,"div",5),ct()),2&r&&(Gt("ngSwitch",i.typeFiche),Ke(3),Gt("ngIf",i.displayCode),Ke(1),Gt("ngIf",!i.displayCode),Ke(1),Gt("ngSwitchCase","Read"),Ke(1),Gt("ngSwitchCase","Edit"),Ke(1),Gt("ngSwitchCase","Loading"))},dependencies:[Hd,Bu,Yb,hO,hh,Ud,Hc,Vd,MC,SC,kp,ph,Ql,Sm,Wd,gh,Hh,Yre,Mie,Sie,ese,sse,Ise,Lse,Bse,FE,gc,Yse,zse,T6],styles:['.modal-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.toogleCodeButton[_ngcontent-%COMP%]{position:absolute;right:0;top:28px}.wrapper[_ngcontent-%COMP%]{position:absolute;inset:0}ion-header[_ngcontent-%COMP%]{background-color:#fff}ion-footer[_ngcontent-%COMP%]{background-color:#fff}ion-footer[_ngcontent-%COMP%]   .modifiedWarning[_ngcontent-%COMP%]{background-color:#ffad32;padding:4px 10px;display:flex;align-items:center;gap:8px}ion-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 10px;display:grid;grid-template-columns:repeat(3,1fr);grid-template-areas:"left middle right"}ion-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{grid-area:left;justify-self:start}ion-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{grid-area:middle;justify-self:center}ion-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{grid-area:right;justify-self:end}ion-footer[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}ion-footer[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex-grow:1}.content[_ngcontent-%COMP%]{overflow:auto scroll;background-color:#fff;flex-grow:1}.top-actions[_ngcontent-%COMP%]{position:relative;min-height:40px;width:100%}'],changeDetection:0})}return e})();function uoe(e,n){1&e&&Tr(0,"ion-icon",12)}function coe(e,n){1&e&&Tr(0,"ion-icon",13)}function doe(e,n){1&e&&Tr(0,"ion-icon",14)}function hoe(e,n){if(1&e&&(lt(0,"span"),cn(1),ct()),2&e){const t=sn().$implicit;Ke(1),Or(" ",t.properties._name," ")}}function foe(e,n){1&e&&(lt(0,"span",15),cn(1),wn(2,"translate"),ct()),2&e&&(Ke(1),Or(" ",Nn(2,1,"SHARED.UNDEFINED")," "))}function poe(e,n){if(1&e&&(lt(0,"span",16),cn(1),ct()),2&e){const t=sn().$implicit;Ke(1),Or(" ",t.properties.id," ")}}function goe(e,n){if(1&e){const t=Ji();lt(0,"tbody")(1,"tr",4),$n("click",function(){const s=Ar(t).$implicit;return kr(sn().selectFeature(s))}),lt(2,"td",2),Tr(3,"app-icon",5),ct(),lt(4,"td"),Yn(5,uoe,1,0,"ion-icon",6),Yn(6,coe,1,0,"ion-icon",7),Yn(7,doe,1,0,"ion-icon",8),ct(),lt(8,"td"),Yn(9,hoe,2,1,"span",9),Yn(10,foe,3,3,"span",10),ct(),lt(11,"td"),Yn(12,poe,2,1,"span",11),ct()()()}if(2&e){const t=n.$implicit,r=sn();Ke(2),uf("background-color",t.properties.hexColor),Ke(1),Gt("icon",t.properties.icon)("jsonSprites",r.jsonSprites),Ke(2),Gt("ngIf","Create"==t.properties.changeType),Ke(1),Gt("ngIf","Update"==t.properties.changeType),Ke(1),Gt("ngIf","Delete"==t.properties.changeType),Ke(2),Gt("ngIf",t.properties._name),Ke(1),Gt("ngIf",!t.properties._name),Ke(2),Gt("ngIf","Create"!==t.properties.changeType)}}let moe=(()=>{class e{constructor(t,r){this.modalCtrl=r,this.features=t.get("features"),this.jsonSprites=t.get("jsonSprites")}ngOnInit(){}selectFeature(t){this.modalCtrl.dismiss(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(xm),Oe(mh))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-dialog-multi-features"]],decls:20,vars:10,consts:[[2,"height","100%"],[1,"content"],[2,"width","20px"],[4,"ngFor","ngForOf"],[3,"click"],[3,"icon","jsonSprites"],["name","add","class","iconType",4,"ngIf"],["name","create","class","iconType",4,"ngIf"],["name","trash","class","iconType",4,"ngIf"],[4,"ngIf"],["class","noname",4,"ngIf"],["class","spanId",4,"ngIf"],["name","add",1,"iconType"],["name","create",1,"iconType"],["name","trash",1,"iconType"],[1,"noname"],[1,"spanId"]],template:function(r,i){1&r&&(lt(0,"div",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),cn(4),wn(5,"translate"),ct()()(),lt(6,"div",1)(7,"table")(8,"table")(9,"thead")(10,"tr"),Tr(11,"th",2)(12,"th",2),lt(13,"th"),cn(14),wn(15,"translate"),ct(),lt(16,"th"),cn(17),wn(18,"translate"),ct()()(),Yn(19,goe,13,10,"tbody",3),ct()()()()),2&r&&(Ke(4),Or(" ",Nn(5,4,"MAIN.WHAT_ITEM")," "),Ke(10),Zr(Nn(15,6,"SHARED.NAME")),Ke(3),Zr(Nn(18,8,"SHARED.ID")),Ke(2),Gt("ngForOf",i.features))},dependencies:[Hd,Bu,ph,Ql,Wd,gh,OM,gc],styles:[".iconType[_ngcontent-%COMP%]{color:#000;height:25px;width:25px}.iconGeometryType[_ngcontent-%COMP%]{color:#000;height:35px;width:35px}table[_ngcontent-%COMP%]{width:100%}.noname[_ngcontent-%COMP%]{color:#acacac}td[_ngcontent-%COMP%]{padding:4px}th[_ngcontent-%COMP%]{text-align:left}.spanId[_ngcontent-%COMP%]{color:#acacac;font-size:.8em}.content[_ngcontent-%COMP%]{position:absolute;inset:64px 0 0;overflow-x:auto}"]})}return e})();const Om=new et(Pe),yoe={connector:()=>new Ve};function k6(e,n=yoe){const{connector:t}=n;return bn((r,i)=>{const s=t();sr(e(function _oe(e){return new et(n=>e.subscribe(n))}(s))).subscribe(i),i.add(r.subscribe(s))})}function O6(e,n){return n?t=>W_(n.pipe(Pl(1),function boe(){return bn((e,n)=>{e.subscribe(fn(n,Pe))})}()),t.pipe(O6(e))):mi((t,r)=>sr(e(t,r)).pipe(Pl(1),LN(t)))}const Mw="Service workers are disabled or not supported by this browser";class YM{constructor(n){if(this.serviceWorker=n,n){const r=Yv(n,"controllerchange").pipe(un(()=>n.controller)),s=W_(Cv(()=>Xt(n.controller)),r);this.worker=s.pipe(zc(C=>!!C)),this.registration=this.worker.pipe(Cn(()=>n.getRegistration()));const y=Yv(n,"message").pipe(un(C=>C.data)).pipe(zc(C=>C&&C.type)).pipe(function woe(e){return e?n=>k6(e)(n):n=>function voe(e,n){const t=B(e)?e:()=>e;return B(n)?k6(n,{connector:t}):r=>new ET(r,t)}(new Ve)(n)}());y.connect(),this.events=y}else this.worker=this.events=this.registration=function Moe(e){return Cv(()=>pd(new Error(e)))}(Mw)}postMessage(n,t){return this.worker.pipe(Pl(1),jc(r=>{r.postMessage({action:n,...t})})).toPromise().then(()=>{})}postMessageWithOperation(n,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(n,t);return Promise.all([s,i]).then(([,a])=>a)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let t;return t="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(zc(t))}nextEventOfType(n){return this.eventsOfType(n).pipe(Pl(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(zc(t=>t.nonce===n),Pl(1),un(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let N6=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Ve,!t.isEnabled)return this.messages=Om,this.notificationClicks=Om,void(this.subscription=Om);this.messages=this.sw.eventsOfType("PUSH").pipe(un(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(un(i=>i.data)),this.pushManager=this.sw.registration.pipe(un(i=>i.pushManager));const r=this.pushManager.pipe(Cn(i=>i.getSubscription()));this.subscription=Ot(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Mw));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return r.applicationServerKey=s,this.pushManager.pipe(Cn(a=>a.subscribe(r)),Pl(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Pl(1),Cn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Mw))}decodeBase64(t){return atob(t)}static#e=this.\u0275fac=function(r){return new(r||e)(tr(YM))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})(),aI=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Om,this.available=Om,this.activated=Om,void(this.unrecoverable=Om);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(zc(r=>"VERSION_READY"===r.type),un(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mw));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mw));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static#e=this.\u0275fac=function(r){return new(r||e)(tr(YM))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac})}return e})();const R6=new mr("NGSW_REGISTER_SCRIPT");function Soe(e,n,t,r){return()=>{if(!wO(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[a,...h]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=Xt(null);break;case"registerWithDelay":i=F6(+h[0]||0);break;case"registerWhenStable":i=h[0]?Ot(B6(e),F6(+h[0])):B6(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}e.get(gr).runOutsideAngular(()=>i.pipe(Pl(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function F6(e){return Xt(null).pipe(function xoe(e,n=Wx){const t=sy(e,n);return O6(()=>t)}(e))}function B6(e){return e.get(hg).isStable.pipe(zc(t=>t))}function Eoe(e,n){return new YM(wO(n)&&!1!==e.enabled?navigator.serviceWorker:void 0)}class lI{}function Toe(e,n={}){return Xy([N6,aI,{provide:R6,useValue:e},{provide:lI,useValue:n},{provide:YM,useFactory:Eoe,deps:[lI,sf]},{provide:u1,useFactory:Soe,deps:[Eu,R6,lI,sf],multi:!0}])}let Coe=(()=>{class e{static register(t,r={}){return{ngModule:e,providers:[Toe(t,r)]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({providers:[N6,aI]})}return e})();const Doe=[function fV(e,n){return{type:7,name:e,definitions:n,options:{}}}("menuAnimation",[VO(":enter",[Vb(".menuContent",[Ev({transform:"translateX(-100%)"}),Ub("100ms ease-in")]),Vb(".backdrop",[Ev({opacity:"0.34"}),Ub("100ms")])]),VO(":leave",[Vb(".menuContent",[Ub("0.1s ease-out",Ev({transform:"translateX(-100%)"}))]),Vb(".backdrop",[Ub("0.1s ease-out",Ev({opacity:"0"}))])])])];function Ioe(e,n){if(1&e){const t=Ji();lt(0,"ion-item",18),$n("click",function(){return Ar(t),kr(sn(3).reloadApp())}),Tr(1,"ion-icon",19),cn(2),wn(3,"translate"),ct()}2&e&&(Ke(2),Or(" ",Nn(3,1,"MENU.NEW_VERSION")," "))}function Loe(e,n){if(1&e){const t=Ji();lt(0,"ion-item",8),$n("click",function(){return Ar(t),kr(sn(3).login())}),Tr(1,"ion-icon",20),cn(2),wn(3,"translate"),ct()}2&e&&(Ke(2),Or(" ",Nn(3,1,"MENU.CONNECTION")," "))}function Aoe(e,n){if(1&e){const t=Ji();lt(0,"ion-item",8),$n("click",function(){return Ar(t),kr(sn(3).logout())}),Tr(1,"ion-icon",21),cn(2),wn(3,"translate"),ct()}2&e&&(Ke(2),Or(" ",Nn(3,1,"MENU.SIGN_OUT")," "))}function Poe(e,n){if(1&e){const t=Ji();lt(0,"div",4)(1,"ion-header")(2,"ion-toolbar",5)(3,"ion-title"),cn(4,"Osm Go! "),lt(5,"span",6),cn(6),ct()(),lt(7,"ion-buttons",7)(8,"ion-button",8),$n("click",function(){return Ar(t),kr(sn(2).closeMenu())}),Tr(9,"ion-icon",9),ct()()()(),lt(10,"ion-content")(11,"ion-list",10),Yn(12,Ioe,4,3,"ion-item",11),Yn(13,Loe,4,3,"ion-item",12),lt(14,"ion-item",8),$n("click",function(){return Ar(t),kr(sn(2).openBaseMapsPage())}),Tr(15,"ion-icon",13),cn(16),wn(17,"translate"),ct(),lt(18,"ion-item",8),$n("click",function(){return Ar(t),kr(sn(2).pushPage("/tags"))}),Tr(19,"ion-icon",14),cn(20),wn(21,"translate"),ct(),lt(22,"ion-item",8),$n("click",function(){return Ar(t),kr(sn(2).pushPage("/settings"))}),Tr(23,"ion-icon",15),cn(24),wn(25,"translate"),ct(),lt(26,"ion-item",8),$n("click",function(){return Ar(t),kr(sn(2).pushPage("/about"))}),Tr(27,"ion-icon",16),cn(28),wn(29,"translate"),ct(),Yn(30,Aoe,4,3,"ion-item",12),lt(31,"ion-item",8),$n("click",function(){return Ar(t),kr(sn(2).deleteDatapresentConfirm())}),Tr(32,"ion-icon",17),cn(33),wn(34,"translate"),ct()()()()}if(2&e){const t=sn(2);Ke(6),Or(" ",t.configService.appVersion.appVersionNumber,""),Ke(6),Gt("ngIf",t.newVersion),Ke(1),Gt("ngIf",!t.configService.user_info.connected),Ke(3),Or(" ",Nn(17,9,"SETTINGS.AERIAL_IMAGERY")," "),Ke(4),Or(" ",Nn(21,11,"MENU.TAG_MANAGEMENT")," "),Ke(4),Or(" ",Nn(25,13,"MENU.SETTINGS")," "),Ke(4),Or(" ",Nn(29,15,"MENU.ABOUT")," "),Ke(2),Gt("ngIf",t.configService.user_info.connected),Ke(3),Or(" ",Nn(34,17,"MENU.DELETE_DATA")," ")}}function koe(e,n){if(1&e){const t=Ji();lt(0,"div",1),$n("swipeleft",function(i){return Ar(t),kr(sn().swipe(i))}),Yn(1,Poe,35,19,"div",2),lt(2,"div",3),$n("click",function(){return Ar(t),kr(sn().closeMenu())}),ct()()}if(2&e){const t=sn();Gt("@menuAnimation",void 0),Ke(1),Gt("ngIf",t.menuIsOpen)}}let Ooe=(()=>{class e{constructor(t,r,i,s,a,h,m,y,C,L){this.mapService=t,this.osmApi=r,this.dataService=i,this.configService=s,this.alertService=a,this.alertCtrl=h,this.platform=m,this.translate=y,this.navCtrl=C,this.osmAuthService=L,this.closeEvent=new Hi,this.exitApp=new Hi,this.aboutPage=S6,this.pushDataToOsmPage=M6}deleteDatapresentConfirm(){this.alertCtrl.create({header:this.translate.instant("MENU.DELETE_DATA_CONFIRM_HEADER"),message:this.translate.instant("MENU.DELETE_DATA_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.CANCEL"),role:"cancel",handler:()=>{}},{text:this.translate.instant("SHARED.CONFIRM"),handler:()=>{this.mapService.resetDataMap(),this.closeMenu()}}]}).then(t=>{t.present()})}pushPage(t){this.navCtrl.navigateForward(t)}openBaseMapsPage(){const t=this.mapService.map.getCenter();this.pushPage(`/basemaps/${t.lng}/${t.lat}`)}closeMenu(){this.closeEvent.emit()}logout(){this.osmAuthService.logout()}login(){this.osmAuthService.login()}swipe(t){this.closeMenu()}reloadApp(){window.location.reload()}exit(){this.exitApp.emit()}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(km),Oe(r0),Oe(Am),Oe(mc),Oe(bw),Oe(W1),Oe(Ap),Oe(Td),Oe(jh),Oe(rI))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["menu-component"]],inputs:{menuIsOpen:"menuIsOpen",newVersion:"newVersion"},outputs:{closeEvent:"closeEvent",exitApp:"exitApp"},decls:1,vars:1,consts:[["id","menu",3,"swipeleft",4,"ngIf"],["id","menu",3,"swipeleft"],["class","menuContent",4,"ngIf"],[1,"backdrop",3,"click"],[1,"menuContent"],["color","primary"],[1,"numVersion"],["slot","start"],[3,"click"],["slot","icon-only","name","chevron-back-outline"],[2,"padding-top","0"],["color","black",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["name","map"],["name","pricetags"],["name","settings"],["name","help-circle"],["name","trash"],["color","black",3,"click"],["name","refresh"],["name","log-in"],["name","log-out"]],template:function(r,i){1&r&&Yn(0,koe,3,2,"div",0),2&r&&Gt("ngIf",i.menuIsOpen)},dependencies:[Bu,Hc,Pp,Vd,ph,Ql,Gd,ny,Wd,gh,gc],styles:["#menu[_ngcontent-%COMP%]{z-index:100;position:absolute;inset:0}.backdrop[_ngcontent-%COMP%]{z-index:101;height:100%;width:100%;opacity:.32;background-color:#000}.menuContent[_ngcontent-%COMP%]{z-index:102;position:absolute;width:304px;top:0;left:0;bottom:0;box-shadow:0 -1px 9px #0000001a;background-color:#fff}ion-icon[_ngcontent-%COMP%]{margin-right:.5em}ion-item[_ngcontent-%COMP%]{cursor:pointer}ion-title[_ngcontent-%COMP%]{font-weight:700}.numVersion[_ngcontent-%COMP%]{font-size:11px;color:#fff;font-weight:200;font-style:italic;opacity:.8}"],data:{animation:Doe}})}return e})();const Noe=["map"];function Roe(e,n){1&e&&(lt(0,"ion-badge",19),cn(1,"!"),ct())}function Foe(e,n){if(1&e){const t=Ji();lt(0,"ion-fab",20)(1,"ion-fab-button",21),$n("click",function(){return Ar(t),kr(sn().navCtrl.navigateForward("/pushData"))}),Tr(2,"ion-icon",22),ct()()}2&e&&Gt("title",sn().translate.instant("MAIN.BUTTONS.UPLOAD"))}function Boe(e,n){1&e&&Tr(0,"ion-icon",27)}function Yoe(e,n){1&e&&Tr(0,"ion-spinner")}function zoe(e,n){if(1&e){const t=Ji();lt(0,"ion-fab",23)(1,"ion-fab-button",24),$n("click",function(){return Ar(t),kr(sn().loadData())}),Yn(2,Boe,1,0,"ion-icon",25),wn(3,"async"),Yn(4,Yoe,1,0,"ion-spinner",26),wn(5,"async"),ct()()}if(2&e){const t=sn();Gt("title",t.translate.instant("MAIN.BUTTONS.LOAD_DATA")),Ke(1),Gt("disabled",t.configService.currentZoom<14),Ke(1),Gt("ngIf",!Nn(3,4,t.mapService.isProcessing)),Ke(2),Gt("ngIf",Nn(5,6,t.mapService.isProcessing))}}function joe(e,n){1&e&&(lt(0,"ion-fab",23)(1,"ion-fab-button",28),Tr(2,"ion-spinner"),ct()()),2&e&&Gt("title",sn().translate.instant("MAIN.BUTTONS.LOADING_DATA"))}function Hoe(e,n){if(1&e){const t=Ji();lt(0,"ion-fab",29)(1,"ion-fab-button",30),$n("click",function(){return Ar(t),kr(sn().mapService.positionateMarker())}),Tr(2,"ion-icon",31),ct()()}if(2&e){const t=sn();Gt("title",t.translate.instant("MAIN.BUTTONS.ADD_NEW")),Ke(1),Gt("disabled",t.mapService.loadingData)}}function $oe(e,n){if(1&e){const t=Ji();lt(0,"ion-fab",32)(1,"ion-fab-button",33),$n("click",function(){return Ar(t),kr(sn().mapService.centerOnMyPosition())}),Tr(2,"ion-icon",34),ct()()}if(2&e){const t=sn();Gt("title",t.translate.instant("MAIN.BUTTONS.CENTER_GPS")),Ke(1),Gt("disabled",!t.locationService.gpsIsReady)}}function Uoe(e,n){if(1&e){const t=Ji();lt(0,"ion-fab",35)(1,"ion-fab-button",36),$n("click",function(){return Ar(t),kr(sn().mapService.openModalOsm())}),Tr(2,"ion-icon",37),ct()()}2&e&&Gt("title",sn().translate.instant("MAIN.BUTTONS.CONFIRM_ADD"))}function Voe(e,n){if(1&e){const t=Ji();lt(0,"ion-fab",38)(1,"ion-fab-button",39),$n("click",function(){return Ar(t),kr(sn().mapService.cancelNewMarker())}),Tr(2,"ion-icon",40),ct()()}2&e&&Gt("title",sn().translate.instant("SHARED.CANCEL"))}function Goe(e,n){if(1&e){const t=Ji();lt(0,"ion-fab",38)(1,"ion-fab-button",41),$n("click",function(){return Ar(t),kr(sn().mapService.openModalWithNewPosition())}),Tr(2,"ion-icon",37),ct()()}2&e&&Gt("title",sn().translate.instant("MAIN.BUTTONS.CONFIRM_MOVE"))}function Woe(e,n){if(1&e){const t=Ji();lt(0,"ion-fab",42)(1,"ion-fab-button",43),$n("click",function(){return Ar(t),kr(sn().mapService.cancelNewPosition())}),Tr(2,"ion-icon",40),ct()()}2&e&&Gt("title",sn().translate.instant("SHARED.CANCEL"))}let Y6=(()=>{class e{constructor(t,r,i,s,a,h,m,y,C,L,F,j,fe,we,qe,Ue,Ae,je,Dt,Ht){var Kt=this;this.navCtrl=t,this.modalCtrl=r,this.toastCtrl=i,this.menuCtrl=s,this.osmApi=a,this.tagsService=h,this.mapService=m,this.dataService=y,this.locationService=C,this.alertService=L,this.configService=F,this.alertCtrl=j,this._ngZone=fe,this.router=we,this.translate=qe,this.loadingController=Ue,this.swUpdate=Ae,this.initService=je,this.osmAuthService=Dt,this.route=Ht,this.modalIsOpen=!1,this.menuIsOpen=!1,this.newVersion=!1,this.loading=!0,this.loadOsmDataOnStart=!1,this.router.events.subscribe(tn=>{tn instanceof wg&&("/main"===tn.urlAfterRedirects?(this.configService.freezeMapRenderer=!1,this.mapService.map&&sy(300).subscribe(Tn=>{this.mapService.map.resize()})):this.configService.freezeMapRenderer=!0)}),m.eventShowDialogMultiFeatures.subscribe(function(){var tn=(0,oo.Z)(function*(Tn){const Ut=yield Kt.modalCtrl.create({component:moe,cssClass:"dialog-multi-features",componentProps:{features:Tn,jsonSprites:Kt.tagsService.jsonSprites}});yield Ut.present(),Ut.onDidDismiss().then(Ii=>{Ii&&Ii.data&&Kt.mapService.selectFeature(Ii.data)})});return function(Tn){return tn.apply(this,arguments)}}()),m.eventShowModal.subscribe(function(){var tn=(0,oo.Z)(function*(Tn){Kt.configService.freezeMapRenderer=!0;const Ut=!!Tn.newPosition&&Tn.newPosition,Ii=yield Kt.modalCtrl.create({component:loe,componentProps:{type:Tn.type,data:Tn.geojson,newPosition:Ut,origineData:Tn.origineData,openPrimaryTagModalOnStart:Tn.openPrimaryTagModalOnStart}});yield Ii.present(),Kt.modalIsOpen=!0,Ii.onDidDismiss().then(Si=>{Kt.modalIsOpen=!1;const as=Si.data;Kt.configService.freezeMapRenderer=!1,as&&("Move"===as.type&&Kt.mapService.eventMoveElement.emit(as),as.redraw&&sy(50).subscribe(As=>{Kt.mapService.eventMarkerReDraw.emit(Kt.dataService.getGeojson()),Kt.mapService.eventMarkerChangedReDraw.emit(Kt.dataService.getGeojsonChanged())})),Kt.mapService.setCenterInUrl()})});return function(Tn){return tn.apply(this,arguments)}}()),this.alertService.eventNewAlert.subscribe(tn=>{this.presentToast(tn)})}ngOnInit(){this.route.queryParams.subscribe(h=>{h.code&&(this.handleAuthCallback(h.code),this.router.navigate([],{queryParams:{code:null},queryParamsHandling:"merge"}))}),this.osmAuthService.loadToken();const t=this.route.snapshot.queryParamMap.get("id");t&&t.split("/").length>=2&&["node","way","relation"].includes(t.split("/")[0])&&(this.idOsmObjectOnStart=t,this.loadOsmDataOnStart=!0);const r=this.route.snapshot.queryParamMap.get("zoom"),i=this.route.snapshot.queryParamMap.get("loadData");if(r&&parseFloat(r)>10){let h=parseFloat(r)||18;(h<=14||h>22)&&(h=18),this.zoomOnStart=h}const s=this.route.snapshot.queryParamMap.get("center");if(s&&2==s.split(",").length){const h=s.split(","),m=parseFloat(h[0]),y=parseFloat(h[1]);m&&y&&m>-180&&m<180&&y>-90&&y<90&&(this.centerOnStart=[m,y],this.loadOsmDataOnStart="true"===i)}const a=this.route.snapshot.queryParamMap.get("add");if(a&&!this.idOsmObjectOnStart){if(!this.centerOnStart)return console.error("addFeatureTag need center");this.zoomOnStart||(this.zoomOnStart=18);try{const h=JSON.parse(a);if("object"!=typeof h)throw new Error("addFeatureTag is not an object");const m=new Pm.LngLat(this.centerOnStart[0],this.centerOnStart[1]);this.addOsmObjectOnStart={coords:m,tags:h},this.loadOsmDataOnStart=!0}catch(h){console.error(h)}}this.swUpdate.versionUpdates.pipe(zc(h=>"VERSION_READY"===h.type),un(h=>({type:"UPDATE_AVAILABLE",current:h.currentVersion,available:h.latestVersion}))).subscribe(h=>{this.newVersion=!0})}handleAuthCallback(t){console.log("handleAuthCallback",t),this.osmAuthService.exchangeCodeForToken(t).subscribe(r=>{console.log("Authentification r\xe9ussie",r);const i=r.access_token;this.osmApi.getUserDetail$().subscribe({next:s=>{console.log(s),this.configService.setUserInfo(s),this.osmAuthService.setToken(i)},error:s=>{console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9tails de l'utilisateur:",s)}})},r=>{console.error("Erreur d'authentification",r)})}openMenu(){this.configService.freezeMapRenderer=!0,this.menuIsOpen=!0}closeMenu(){this.configService.freezeMapRenderer=!1,this.menuIsOpen=!1}presentConfirm(){this.alertCtrl.create({header:this.translate.instant("MAIN.EXIT_CONFIRM_HEADER"),message:this.translate.instant("MAIN.EXIT_CONFIRM_MESSAGE"),buttons:[{text:this.translate.instant("SHARED.NO"),role:"cancel",handler:()=>{}},{text:this.translate.instant("SHARED.YES"),handler:()=>{window.navigator.app.exitApp()}}]}).then(t=>{t.present()})}loadData(){this.loadData$().pipe(Pl(1)).subscribe()}loadData$(){this.mapService.setIsProcessing(!0),this._ngZone.run(()=>{this.alertService.displayToolTipRefreshData=!1});const t=this.mapService.getBbox();return this.osmApi.getDataFromBbox(t,this.configService.getLimitFeatures()).pipe(un(r=>{this.dataService.setGeojsonBbox(r.geojsonBbox),this.mapService.eventNewBboxPolygon.emit(r.geojsonBbox),this.dataService.setGeojson(r.geojson),this.mapService.eventMarkerReDraw.emit(r.geojson),this.mapService.setIsProcessing(!1)}),qf(r=>(this.mapService.setIsProcessing(!1),console.error(r),this.presentToast(r),Xt(r))))}presentToast(t){var r=this;return(0,oo.Z)(function*(){(yield r.toastCtrl.create({message:t,duration:4e3,position:"top",buttons:[{text:"X",role:"cancel",handler:()=>{}}]})).present()})()}ngAfterViewInit(){var t=this;this.mapElement&&this.mapElement.nativeElement&&new ResizeObserver(i=>{for(const s of i)s.target===this.mapElement.nativeElement&&this.mapService.map&&this.mapService.map.resize()}).observe(this.mapElement.nativeElement),this.initService.initLoadData$(this.centerOnStart,this.zoomOnStart,this.idOsmObjectOnStart).subscribe(({config:r})=>{this.locationService.enableGeolocation(),this.mapService.initMap(r)}),this.mapService.eventMapIsLoaded.subscribe(()=>{this.addOsmObjectOnStart&&this.mapService.openModalOsm(this.addOsmObjectOnStart.coords,this.addOsmObjectOnStart.tags),this.loading=!1,this.loadOsmDataOnStart&&this.loadData$().pipe(Pl(1)).subscribe({next:()=>{if(this.idOsmObjectOnStart){let r="data_changed",i=this.dataService.getFeatureById(this.idOsmObjectOnStart,"data_changed");if(i||(i=this.dataService.getFeatureById(this.idOsmObjectOnStart,"data"),r="data"),!i)return void this.presentToast("Objetct not found in data");this.mapService.eventShowModal.emit({type:"Read",geojson:i,origineData:r})}}}),sy(2e3).pipe(Pl(1)).subscribe(()=>{const r=this.dataService.getGeojson().features.length;r>0?this.alertService.eventNewAlert.emit(r+" "+this.translate.instant("MAIN.START_SNACK_ITEMS_IN_MEMORY")):this.alertService.eventDisplayToolTipRefreshData.emit()})}),this.alertService.eventDisplayToolTipRefreshData.subscribe((0,oo.Z)(function*(){(yield t.toastCtrl.create({message:t.translate.instant("MAIN.LOAD_BBOX"),duration:4e3,position:"bottom",buttons:[{text:"Ok",role:"cancel",handler:()=>{t.mapService.map&&t.mapService.map.getZoom()>16&&t.loadData$().pipe(Pl(1)).subscribe()}}]})).present()})),window.addEventListener("load",r=>{window.history.pushState({noBackExitsApp:!0},"")}),window.addEventListener("popstate",r=>{this.menuIsOpen?(window.history.pushState({noBackExitsApp:!0},""),this.closeMenu()):this.modalIsOpen?(window.history.pushState({noBackExitsApp:!0},""),this.modalCtrl.dismiss()):window.history.pushState({noBackExitsApp:!0},"")})}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(jh),Oe(mh),Oe(IC),Oe(qZ),Oe(r0),Oe(_h),Oe(km),Oe(Am),Oe(x6),Oe(bw),Oe(mc),Oe(W1),Oe(gr),Oe(pc),Oe(Td),Oe(DC),Oe(aI),Oe(xw),Oe(rI),Oe(zh))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["main"]],viewQuery:function(r,i){if(1&r&&a1(Noe,5),2&r){let s;Tp(s=Cp())&&(i.mapElement=s.first)}},decls:23,vars:19,consts:[[1,"ion-padding","home"],["mycontent",""],["id","map",2,"height","100%","width","100%"],["map",""],[2,"left","0px","top","0px","margin","6px",3,"title"],["color","danger","style","position: absolute; z-index: 1; left: 36px",4,"ngIf"],["tappable","","ion-fab","","fab-bottom","",3,"click"],["name","menu"],["style","right: 0; top: 0; margin: 6px; margin-right: 46px",3,"title",4,"ngIf"],["style","left: 0; bottom: 34px; margin: 6px",3,"title",4,"ngIf"],[2,"left","0","bottom","100px","margin","6px"],["tappable","","ion-fab","","fab-bottom","",3,"color","title","click"],["name","image"],["right","","bottom","","style","right: 0; bottom: 100px; margin: 6px",3,"title",4,"ngIf"],["right","","style","right: 0; bottom: 34px; margin: 6px",3,"title",4,"ngIf"],["right","","bottom","","style","right: 0; bottom: 34px; margin: 6px",3,"title",4,"ngIf"],["style","right: 60px; bottom: 34px; margin: 6px",3,"title",4,"ngIf"],["style","right: 0; bottom: 34px; margin: 6px",3,"title",4,"ngIf"],[3,"menuIsOpen","newVersion","closeEvent"],["color","danger",2,"position","absolute","z-index","1","left","36px"],[2,"right","0","top","0","margin","6px","margin-right","46px",3,"title"],[3,"click"],["name","cloud-upload"],[2,"left","0","bottom","34px","margin","6px",3,"title"],["tappable","","arrow","true","event","press",3,"disabled","click"],["name","refresh",4,"ngIf"],[4,"ngIf"],["name","refresh"],["disabled",""],["right","","bottom","",2,"right","0","bottom","100px","margin","6px",3,"title"],["tappable","","ion-fab","","fab-bottom","","color","danger",3,"disabled","click"],["name","add"],["right","",2,"right","0","bottom","34px","margin","6px",3,"title"],["tappable","","ion-fab","","fab-bottom","",3,"disabled","click"],["name","locate"],["right","","bottom","",2,"right","0","bottom","34px","margin","6px",3,"title"],["tappable","","fab-bottom","","color","secondary",3,"click"],["name","checkmark"],[2,"right","60px","bottom","34px","margin","6px",3,"title"],["tappable","","fab-bottom","","color","danger",3,"click"],["name","close"],["fab-bottom","","color","secondary",3,"click"],[2,"right","0","bottom","34px","margin","6px",3,"title"],["ion-fab","","fab-bottom","","color","danger",3,"click"]],template:function(r,i){1&r&&(lt(0,"ion-content",0,1)(2,"div",2,3)(4,"ion-fab",4),Yn(5,Roe,2,0,"ion-badge",5),lt(6,"ion-fab-button",6),$n("click",function(){return i.openMenu()}),Tr(7,"ion-icon",7),ct()(),Yn(8,Foe,3,1,"ion-fab",8),Yn(9,zoe,6,8,"ion-fab",9),wn(10,"async"),Yn(11,joe,3,1,"ion-fab",9),wn(12,"async"),lt(13,"ion-fab",10)(14,"ion-fab-button",11),$n("click",function(){return i.mapService.displaySatelliteBaseMap(i.configService.getBasemap(),!i.mapService.isDisplaySatelliteBaseMap)}),Tr(15,"ion-icon",12),ct()(),Yn(16,Hoe,3,2,"ion-fab",13),Yn(17,$oe,3,2,"ion-fab",14),Yn(18,Uoe,3,1,"ion-fab",15),Yn(19,Voe,3,1,"ion-fab",16),Yn(20,Goe,3,1,"ion-fab",16),Yn(21,Woe,3,1,"ion-fab",17),ct()(),lt(22,"menu-component",18),$n("closeEvent",function(){return i.closeMenu()}),ct()),2&r&&(Ke(4),Gt("title",i.translate.instant("MAIN.BUTTONS.MENU")),Ke(1),Gt("ngIf",i.newVersion),Ke(3),Gt("ngIf",i.dataService.geojsonChanged&&i.dataService.geojsonChanged.features.length>0&&!i.mapService.markerMoving),Ke(1),Gt("ngIf",!Nn(10,15,i.mapService.isProcessing)),Ke(2),Gt("ngIf",Nn(12,17,i.mapService.isProcessing)),Ke(3),Gt("color",i.mapService.isDisplaySatelliteBaseMap?"light":"secondary")("title",i.translate.instant(i.mapService.isDisplaySatelliteBaseMap?"MAIN.BUTTONS.VIEW_STYLED_MAP":"MAIN.BUTTONS.VIEW_AREAL_MAP")),Ke(2),Gt("ngIf",!i.mapService.markerMoving&&!i.mapService.markerMoveMoving),Ke(1),Gt("ngIf",!i.mapService.markerMoving&&!i.mapService.markerMoveMoving),Ke(1),Gt("ngIf",i.mapService.markerMoving),Ke(1),Gt("ngIf",i.mapService.markerMoving),Ke(1),Gt("ngIf",i.mapService.markerMoveMoving),Ke(1),Gt("ngIf",i.mapService.markerMoveMoving),Ke(1),Gt("menuIsOpen",i.menuIsOpen)("newVersion",i.newVersion))},dependencies:[Bu,xC,Vd,MC,SC,Ql,a3,Ooe,FE],styles:[".loadingFullScreen[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:9999;background-color:#f5f5f5}.main[_ngcontent-%COMP%]   scroll-content[_ngcontent-%COMP%]{margin-bottom:0}#map[_ngcontent-%COMP%]{position:absolute;inset:0}.maplibre-ctrl-logo[_ngcontent-%COMP%]{display:none}ion-footer[_ngcontent-%COMP%]{height:50px}.ion-fab[_ngcontent-%COMP%]{z-index:5000}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s 1 linear}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(359deg)}}menu-component[_ngcontent-%COMP%]{z-index:1002}"]})}return e})();function qoe(e,n){if(1&e&&(lt(0,"ion-select-option",31),cn(1),ct()),2&e){const t=n.$implicit;Gt("value",t.code),Ke(1),Or(" ",t.nativeName," ")}}function Xoe(e,n){if(1&e){const t=Ji();lt(0,"ion-item",6)(1,"ion-label"),cn(2),wn(3,"translate"),ct(),lt(4,"ion-select",12),$n("ionChange",function(i){return Ar(t),kr(sn().languageUiChange(i))}),Yn(5,qoe,2,2,"ion-select-option",26),ct()()}if(2&e){const t=sn();Ke(2),Zr(Nn(3,3,"SETTINGS.UI_LANGUAGE")),Ke(2),Gt("value",t.configService.config.languageUi),Ke(1),Gt("ngForOf",t.configService.i18nConfig.language)}}function Zoe(e,n){if(1&e&&(lt(0,"ion-select-option",31),cn(1),ct()),2&e){const t=n.$implicit;Gt("value",t.code),Ke(1),Or(" ",t.nativeName," ")}}function Koe(e,n){if(1&e){const t=Ji();lt(0,"ion-item",6)(1,"ion-label"),cn(2),wn(3,"translate"),ct(),lt(4,"ion-select",12),$n("ionChange",function(i){return Ar(t),kr(sn().languageTagsChange(i))}),Yn(5,Zoe,2,2,"ion-select-option",26),ct()()}if(2&e){const t=sn();Ke(2),Zr(Nn(3,3,"SETTINGS.TAG_LANGUAGE")),Ke(2),Gt("value",t.configService.config.languageTags),Ke(1),Gt("ngForOf",t.configService.i18nConfig.language)}}function Joe(e,n){if(1&e&&(lt(0,"ion-select-option",31),cn(1),ct()),2&e){const t=n.$implicit;Gt("value",t.code),Ke(1),Or(" ",t.name," ")}}const Qoe=function(e){return{year:e}};let eae=(()=>{class e{constructor(t,r,i,s,a,h,m,y,C,L){this.navCtrl=t,this.configService=r,this.mapService=i,this.platform=s,this.tagsService=a,this.dataService=h,this.osmApi=m,this.loadingController=y,this.initService=C,this.translate=L}ngOnInit(){this.initService.isLoaded||this.navCtrl.back()}back(){this.navCtrl.back()}mapMarginBufferChange(t){this.configService.setMapMarginBuffer(t.detail.value)}limitFeaturesChange(t){this.configService.setLimitFeatures(t.detail.value)}lockMapHeadingChange(t){this.configService.setLockMapHeading(t.detail.checked)}followPositionChange(t){this.configService.setFollowPosition(t.detail.checked)}centerWhenGpsIsReadyChange(t){this.configService.setCenterWhenGpsIsReady(t.detail.checked)}defaultPrimarykeyWindowsChange(t){this.configService.setDefaultPrimarykeyWindows(t.detail.value)}filterWayByArea(t){this.configService.setFilterWayByArea(t.detail.checked),this.mapService.toogleMesureFilter(this.configService.getFilterWayByArea(),"way_fill",5e3,this.mapService.map)}filterWayByLength(t){this.configService.setFilterWayByLength(t.detail.checked),this.mapService.toogleMesureFilter(this.configService.getFilterWayByLength(),"way_line",.2,this.mapService.map)}displayOldTagIconChange(t){this.configService.setOldTagsIcon(t.detail.checked,this.configService.config.oldTagsIcon.year),t.detail.checked?this.mapService.showOldTagIcon(this.configService.config.oldTagsIcon.year):this.mapService.hideOldTagIcon()}yearOldTagIconChange(t){this.configService.setOldTagsIcon(this.configService.config.oldTagsIcon.display,t.detail.value),this.configService.config.oldTagsIcon.display&&this.mapService.showOldTagIcon(t.detail.value)}displayFixmeIconChange(t){this.configService.setDisplayFixmeIcon(t.detail.checked),t.detail.checked?this.mapService.showFixmeIcon():this.mapService.hideFixmeIcon()}addSurveyDateChange(t){this.configService.setAddSurveyDate(t.detail.checked)}checkedKeyChange(t){this.configService.setCheckedKey(t.detail.value)}displaySurveyCardChange(t){this.configService.setDisplaySurveyCard(t.detail.value)}displaySurveyCardOptions(){return{header:this.translate.instant("SETTINGS.DISPLAY_SURVEY_CARD"),subHeader:this.translate.instant("SETTINGS.DISPLAY_SURVEY_CARD_HINT")}}yearOldSurveyCardChange(t){this.configService.setSurveyCardYear(t.detail.value)}languageUiChange(t){this.configService.setUiLanguage(t.detail.value)}languageTagsChange(t){this.configService.setLanguageTags(t.detail.value)}countryTagsChange(t){this.configService.setCountryTags(t.detail.value)}countryTagsOptions(){return{header:this.translate.instant("SETTINGS.TAG_COUNTRY"),subHeader:this.translate.instant("SETTINGS.TAG_COUNTRY_HINT")}}isSelectableLineChange(t){this.configService.setIsSelectableLine(t.detail.checked)}isSelectablePolygonChange(t){this.configService.setIsSelectablePolygon(t.detail.checked)}deleteCache(){var t=this;return(0,oo.Z)(function*(){yield t.dataService.clearCache();const r=yield caches.keys();for(let s of r)yield caches.delete(s);const i=`${window.location.origin}#/main`;window.location.replace(i),window.location.reload()})()}changeIsDevServer(t){var r=this;return(0,oo.Z)(function*(){yield r.configService.setIsDevServer(t);const i=`${window.location.origin}#/main`;window.location.replace(i),window.location.reload()})()}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(jh),Oe(mc),Oe(km),Oe(Ap),Oe(_h),Oe(Am),Oe(r0),Oe(DC),Oe(xw),Oe(Td))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["page-settings"]],decls:221,vars:157,consts:[["color","primary"],["slot","primary",2,"min-width","32px"],[3,"click"],["name","chevron-back-outline","slot","icon-only"],[1,"ion-padding-bottom"],["name","map","slot","start"],["lines","inset"],[3,"checked","ionChange"],["lines","none"],["position","stacked"],["debounce","300","snaps","","min","0","max","10","step","0.5","pin","",3,"disabled","value","ionChange"],["name","pricetags","slot","start"],[3,"value","ionChange"],["value","survey:date"],["value","check_date"],[3,"value","interfaceOptions","ionChange"],["value","never"],["value","when_older"],["value","always"],["position","stacked","translate","",3,"translateParams"],["name","library","slot","start"],[1,"hint"],["debounce","300","step","2000","snaps","","min","0","max","60000",3,"value","ionChange"],["debounce","300","snaps","","min","0","max","100",3,"value","ionChange"],["name","language","slot","start"],["lines","inset",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["name","file-tray","slot","start"],["color","danger","shape","round","size","big",3,"click"],["slot","icon-only","name","trash"],["name","bug","slot","start"],[3,"value"]],template:function(r,i){1&r&&(lt(0,"ion-header",0)(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),$n("click",function(){return i.navCtrl.back()}),Tr(4,"ion-icon",3),ct()(),lt(5,"ion-title"),cn(6),wn(7,"translate"),ct()()(),lt(8,"ion-content",4)(9,"ion-item-group")(10,"ion-item-divider"),Tr(11,"ion-icon",5),lt(12,"ion-label"),cn(13),wn(14,"translate"),ct()(),lt(15,"ion-item",6)(16,"ion-label")(17,"h3"),cn(18),wn(19,"translate"),ct(),lt(20,"p"),cn(21),wn(22,"translate"),ct()(),lt(23,"ion-toggle",7),$n("ionChange",function(a){return i.followPositionChange(a)}),ct()(),lt(24,"ion-item",6)(25,"ion-label")(26,"h3"),cn(27),wn(28,"translate"),ct(),lt(29,"p"),cn(30),wn(31,"translate"),ct()(),lt(32,"ion-toggle",7),$n("ionChange",function(a){return i.lockMapHeadingChange(a)}),ct()(),lt(33,"ion-item",6)(34,"ion-label")(35,"h3"),cn(36),wn(37,"translate"),ct(),lt(38,"p"),cn(39),wn(40,"translate"),ct()(),lt(41,"ion-toggle",7),$n("ionChange",function(a){return i.centerWhenGpsIsReadyChange(a)}),ct()(),lt(42,"ion-item",8)(43,"ion-label")(44,"h3"),cn(45),wn(46,"translate"),ct(),lt(47,"p"),cn(48),wn(49,"translate"),ct()(),lt(50,"ion-toggle",7),$n("ionChange",function(a){return i.displayOldTagIconChange(a)}),ct()(),lt(51,"ion-item",6)(52,"ion-label",9),cn(53),wn(54,"translate"),wn(55,"translate"),ct(),lt(56,"ion-range",10),$n("ionChange",function(a){return i.yearOldTagIconChange(a)}),ct()(),lt(57,"ion-item",6)(58,"ion-label")(59,"h3"),cn(60),wn(61,"translate"),ct(),lt(62,"p"),cn(63),wn(64,"translate"),ct()(),lt(65,"ion-toggle",7),$n("ionChange",function(a){return i.displayFixmeIconChange(a)}),ct()(),lt(66,"ion-item",6)(67,"ion-label")(68,"h3"),cn(69),wn(70,"translate"),ct(),lt(71,"p"),cn(72),wn(73,"translate"),ct()(),lt(74,"ion-toggle",7),$n("ionChange",function(a){return i.filterWayByArea(a)}),ct()(),lt(75,"ion-item",6)(76,"ion-label")(77,"h3"),cn(78),wn(79,"translate"),ct(),lt(80,"p"),cn(81),wn(82,"translate"),ct()(),lt(83,"ion-toggle",7),$n("ionChange",function(a){return i.filterWayByLength(a)}),ct()(),lt(84,"ion-item",6)(85,"ion-label")(86,"h3"),cn(87),wn(88,"translate"),ct(),lt(89,"p"),cn(90),wn(91,"translate"),ct()(),lt(92,"ion-toggle",7),$n("ionChange",function(a){return i.isSelectableLineChange(a)}),ct()(),lt(93,"ion-item",6)(94,"ion-label")(95,"h3"),cn(96),wn(97,"translate"),ct(),lt(98,"p"),cn(99),wn(100,"translate"),ct()(),lt(101,"ion-toggle",7),$n("ionChange",function(a){return i.isSelectablePolygonChange(a)}),ct()()(),lt(102,"ion-item-group")(103,"ion-item-divider"),Tr(104,"ion-icon",11),lt(105,"ion-label"),cn(106),wn(107,"translate"),ct()(),lt(108,"ion-item",6)(109,"ion-label")(110,"h3"),cn(111),wn(112,"translate"),ct()(),lt(113,"ion-select",12),$n("ionChange",function(a){return i.checkedKeyChange(a)}),lt(114,"ion-select-option",13),cn(115," survey:date "),ct(),lt(116,"ion-select-option",14),cn(117," check_date "),ct()()(),lt(118,"ion-item",6)(119,"ion-label")(120,"h3"),cn(121),wn(122,"translate"),ct(),lt(123,"p"),cn(124),wn(125,"translate"),ct()(),lt(126,"ion-toggle",7),$n("ionChange",function(a){return i.addSurveyDateChange(a)}),ct()(),lt(127,"ion-item",8)(128,"ion-label")(129,"h3"),cn(130),wn(131,"translate"),ct(),lt(132,"p"),cn(133),wn(134,"translate"),ct()(),lt(135,"ion-select",15),$n("ionChange",function(a){return i.displaySurveyCardChange(a)}),lt(136,"ion-select-option",16),cn(137),wn(138,"translate"),ct(),lt(139,"ion-select-option",17),cn(140),wn(141,"translate"),ct(),lt(142,"ion-select-option",18),cn(143),wn(144,"translate"),ct()()(),lt(145,"ion-item",6)(146,"ion-label",19),cn(147," SETTINGS.SURVEY_CARD_RANGE "),ct(),lt(148,"ion-range",10),$n("ionChange",function(a){return i.yearOldSurveyCardChange(a)}),ct()()(),lt(149,"ion-item-group")(150,"ion-item-divider"),Tr(151,"ion-icon",20),lt(152,"ion-label"),cn(153),wn(154,"translate"),ct()(),lt(155,"ion-item",6)(156,"div")(157,"ion-label")(158,"h3"),cn(159),wn(160,"translate"),ct(),lt(161,"p",21),cn(162),wn(163,"translate"),ct()(),lt(164,"ion-range",22),$n("ionChange",function(a){return i.limitFeaturesChange(a)}),ct()()(),lt(165,"ion-item",6)(166,"div")(167,"ion-label")(168,"h3"),cn(169),wn(170,"translate"),ct(),lt(171,"p",21),cn(172),wn(173,"translate"),ct()(),lt(174,"ion-range",23),$n("ionChange",function(a){return i.mapMarginBufferChange(a)}),ct()()()(),lt(175,"ion-item-group")(176,"ion-item-divider"),Tr(177,"ion-icon",24),lt(178,"ion-label"),cn(179),wn(180,"translate"),ct()(),Yn(181,Xoe,6,5,"ion-item",25),Yn(182,Koe,6,5,"ion-item",25),lt(183,"ion-item",6)(184,"ion-label")(185,"h3"),cn(186),wn(187,"translate"),ct(),lt(188,"p"),cn(189),wn(190,"translate"),ct()(),lt(191,"ion-select",15),$n("ionChange",function(a){return i.countryTagsChange(a)}),Yn(192,Joe,2,2,"ion-select-option",26),ct()()(),lt(193,"ion-item-group")(194,"ion-item-divider"),Tr(195,"ion-icon",27),lt(196,"ion-label"),cn(197),wn(198,"translate"),ct()(),lt(199,"ion-item",6)(200,"ion-label")(201,"h3"),cn(202),wn(203,"translate"),ct(),lt(204,"p"),cn(205),wn(206,"translate"),ct()(),lt(207,"ion-button",28),$n("click",function(){return i.deleteCache()}),Tr(208,"ion-icon",29),ct()()(),lt(209,"ion-item-group")(210,"ion-item-divider"),Tr(211,"ion-icon",30),lt(212,"ion-label"),cn(213,"Developer mode"),ct()(),lt(214,"ion-item",6)(215,"ion-label")(216,"h3"),cn(217,"Use the OSM development server"),ct(),lt(218,"p"),cn(219," After this change, the application will be restarted and the data will be cleared "),ct()(),lt(220,"ion-toggle",7),$n("ionChange",function(a){return i.changeIsDevServer(a.detail.checked)}),ct()()()()),2&r&&(Ke(6),Zr(Nn(7,71,"SETTINGS.SETTINGS")),Ke(7),Zr(Nn(14,73,"SETTINGS.MAP")),Ke(5),Zr(Nn(19,75,"SETTINGS.POSITION_TRACKING")),Ke(3),Zr(Nn(22,77,"SETTINGS.POSITION_TRACKING_HINT")),Ke(2),Gt("checked",i.configService.config.followPosition),Ke(4),Zr(Nn(28,79,"SETTINGS.ORIENTATION_TRACKING")),Ke(3),Zr(Nn(31,81,"SETTINGS.ORIENTATION_TRACKING_HINT")),Ke(2),Gt("checked",i.configService.config.lockMapHeading),Ke(4),Zr(Nn(37,83,"SETTINGS.CENTER_WHEN_GPS_IS_READY")),Ke(3),Zr(Nn(40,85,"SETTINGS.CENTER_WHEN_GPS_IS_READY_HINT")),Ke(2),Gt("checked",i.configService.config.centerWhenGpsIsReady),Ke(4),Zr(Nn(46,87,"SETTINGS.DISPLAY_OLD_TAGS_ICON")),Ke(3),Zr(Nn(49,89,"SETTINGS.OLD_TAGS_ICON_HINT")),Ke(2),Gt("checked",i.configService.config.oldTagsIcon.display),Ke(3),FS(" ",Nn(54,91,"SETTINGS.OLD_TAGS_ICON_RANGE_PART_1")," ",i.configService.config.oldTagsIcon.year," ",Nn(55,93,"SETTINGS.OLD_TAGS_ICON_RANGE_PART_2")," "),Ke(3),Gt("disabled",!i.configService.config.oldTagsIcon.display)("value",i.configService.config.oldTagsIcon.year),Ke(4),Zr(Nn(61,95,"SETTINGS.DISPLAY_FIXME_ICON")),Ke(3),Zr(Nn(64,97,"SETTINGS.DISPLAY_FIXME_ICON_HINT")),Ke(2),Gt("checked",i.configService.config.displayFixmeIcon),Ke(4),Zr(Nn(70,99,"SETTINGS.HIDE_LARGE_POLYGON")),Ke(3),Zr(Nn(73,101,"SETTINGS.HIDE_LARGE_POLYGON_HINT")),Ke(2),Gt("checked",i.configService.config.filterWayByArea),Ke(4),Zr(Nn(79,103,"SETTINGS.HIDE_LONG_LINE")),Ke(3),Zr(Nn(82,105,"SETTINGS.HIDE_LONG_LINE_HINT")),Ke(2),Gt("checked",i.configService.config.filterWayByLength),Ke(4),Zr(Nn(88,107,"SETTINGS.LINES_SELECTABLE")),Ke(3),Zr(Nn(91,109,"SETTINGS.LINES_SELECTABLE_HINT")),Ke(2),Gt("checked",i.configService.config.isSelectableLine),Ke(4),Zr(Nn(97,111,"SETTINGS.POLYGONS_SELECTABLE")),Ke(3),Zr(Nn(100,113,"SETTINGS.POLYGONS_SELECTABLE_HINT")),Ke(2),Gt("checked",i.configService.config.isSelectablePolygon),Ke(5),Zr(Nn(107,115,"SETTINGS.TAGS")),Ke(5),Zr(Nn(112,117,"SETTINGS.CHECKED_KEY")),Ke(2),Gt("value",i.configService.config.checkedKey),Ke(8),Zr(Nn(122,119,"SETTINGS.ADD_SURVEY_DATE")),Ke(3),Zr(Nn(125,121,"SETTINGS.ADD_SURVEY_DATE_HINT")),Ke(2),Gt("checked",i.configService.config.addSurveyDate),Ke(4),Zr(Nn(131,123,"SETTINGS.DISPLAY_SURVEY_CARD")),Ke(3),Zr(Nn(134,125,"SETTINGS.DISPLAY_SURVEY_CARD_HINT")),Ke(2),Gt("value",i.configService.config.surveyCard.display)("interfaceOptions",i.displaySurveyCardOptions()),Ke(2),Or(" ",Nn(138,127,"SETTINGS.DISPLAY_SURVEY_CARD_CHOICE.NEVER")," "),Ke(3),Or(" ",Nn(141,129,"SETTINGS.DISPLAY_SURVEY_CARD_CHOICE.OLDER")," "),Ke(3),Or(" ",Nn(144,131,"SETTINGS.DISPLAY_SURVEY_CARD_CHOICE.ALWAYS")," "),Ke(3),Gt("translateParams",H_(155,Qoe,i.configService.getSurveyCardYear())),Ke(2),Gt("disabled","when_older"!=i.configService.config.surveyCard.display)("value",i.configService.config.surveyCard.year),Ke(5),Zr(Nn(154,133,"SETTINGS.DATA")),Ke(6),cf(" ",Nn(160,135,"SETTINGS.LIMIT_FEATURES")," (",i.configService.config.limitFeatures,") "),Ke(3),Or(" ",Nn(163,137,"SETTINGS.LIMIT_FEATURES_HINT")," "),Ke(2),Gt("value",i.configService.config.limitFeatures),Ke(5),cf(" ",Nn(170,139,"SETTINGS.MARGIN")," (",i.configService.config.mapMarginBuffer," m) "),Ke(3),Zr(Nn(173,141,"SETTINGS.MARGIN_HINT")),Ke(2),Gt("value",i.configService.config.mapMarginBuffer),Ke(5),Zr(Nn(180,143,"SETTINGS.LANGUAGE_AND_REGION")),Ke(2),Gt("ngIf",i.configService.config.languageUi&&i.configService.i18nConfig),Ke(1),Gt("ngIf",i.configService.config.languageTags&&i.configService.i18nConfig),Ke(4),Zr(Nn(187,145,"SETTINGS.TAG_COUNTRY")),Ke(3),Zr(Nn(190,147,"SETTINGS.TAG_COUNTRY_HINT")),Ke(2),Gt("value",i.configService.config.countryTags)("interfaceOptions",i.countryTagsOptions()),Ke(1),Gt("ngForOf",i.configService.countryConfig),Ke(5),Zr(Nn(198,149,"SETTINGS.CACHE")),Ke(5),Zr(Nn(203,151,"SETTINGS.DELETE_CACHE")),Ke(3),Zr(Nn(206,153,"SETTINGS.DELETE_CACHE_HINT")),Ke(15),Gt("checked",i.configService.config.isDevServer))},dependencies:[Hd,Bu,Hc,Pp,Vd,ph,Ql,Gd,r3,Fx,ty,o3,EC,TC,Wd,u3,gh,ZF,bC,V1,NK,gc],styles:["page-settings[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-family:inherit;line-height:normal;font-size:12px;font-style:italic;color:#a9a9a9}page-settings[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding-left:16px}ion-label[_ngcontent-%COMP%]{white-space:normal!important}.hint[_ngcontent-%COMP%]{font-size:12px;margin:0 0 2px}ion-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}ion-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:11px 0 0}"]})}return e})();const tae=function(){return["point"]};function nae(e,n){if(1&e){const t=Ji();lt(0,"ion-item",13)(1,"app-tag-list-element",14),$n("removeHiddenTag",function(i){return Ar(t),kr(sn().removeHiddenTag(i))}),ct()()}if(2&e){const t=n.$implicit,r=sn();Ke(1),Gt("tag",t)("countryTags",r.configService.config.countryTags)("languageTags",r.configService.config.languageTags)("jsonSprites",r.tagsService.jsonSprites)("geometriesFilter",ug(7,tae))("bookmarksIds",r.tagsService.bookmarksIds)("isHiddenTag",!0)}}const rae=function(e,n){return[e,n]};let iae=(()=>{class e{constructor(t,r,i){this.configService=t,this.tagsService=r,this.modalCtrl=i,this.searchText="",this.refreshFilterMapAfterClose=!1}ngOnInit(){}removeHiddenTag(t){this.tagsService.removeHiddenTag(t),this.refreshFilterMapAfterClose=!0}addHiddenTag(t){this.tagsService.addHiddenTag(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(mc),Oe(_h),Oe(mh))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-hidden-tags"]],decls:27,vars:25,consts:[["color","primary"],["slot","primary",2,"min-width","32px"],[3,"click"],["name","chevron-back-outline","slot","icon-only"],["id","searchSelect"],["id","searchDiv"],["autocomplete","off","autocorrect","off","autocapitalize","none","inputmode","text",3,"ngModel","debounce","ngModelChange"],[1,"listTag"],[2,"overflow-y","auto"],["class","ion-no-padding",4,"ngFor","ngForOf"],["id","footer"],["ion-button","","color","primary",3,"click"],["ion-button","","color","danger",3,"click"],[1,"ion-no-padding"],[2,"width","100%",3,"tag","countryTags","languageTags","jsonSprites","geometriesFilter","bookmarksIds","isHiddenTag","removeHiddenTag"]],template:function(r,i){1&r&&(lt(0,"ion-header",0)(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),$n("click",function(){return i.modalCtrl.dismiss(i.refreshFilterMapAfterClose)}),Tr(4,"ion-icon",3),ct()(),lt(5,"ion-title"),cn(6),wn(7,"translate"),ct()()(),lt(8,"ion-content")(9,"div",4)(10,"div",5)(11,"ion-searchbar",6),$n("ngModelChange",function(a){return i.searchText=a}),ct()()(),lt(12,"div",7)(13,"ion-list",8),Yn(14,nae,2,8,"ion-item",9),wn(15,"filterByTagsContent"),wn(16,"filtersTagsByIds"),ct()()(),lt(17,"ion-footer",10)(18,"ion-button",11),$n("click",function(){return i.modalCtrl.dismiss(i.refreshFilterMapAfterClose)}),cn(19),wn(20,"translate"),ct(),lt(21,"ion-button",12),$n("click",function(){return i.tagsService.resetHiddenTags()}),cn(22),wn(23,"translate"),ct(),lt(24,"ion-button",12),$n("click",function(){return i.tagsService.removeAllHiddenTags()}),cn(25),wn(26,"translate"),ct()()),2&r&&(Ke(6),Or(" ",Nn(7,7,"MANAGE_TAGS.HIDDEN_TAGS")," "),Ke(5),Gt("ngModel",i.searchText)("debounce",300),Ke(3),Gt("ngForOf",cg(15,9,Kl(16,13,i.tagsService.tags,i.tagsService.hiddenTagsIds),i1(22,rae,i.configService.config.languageTags,i.configService.config.countryTags),i.searchText)),Ke(5),Or(" ",Nn(20,16,"SHARED.CLOSE")," "),Ke(3),Or(" ",Nn(23,18,"MANAGE_TAGS.RESET_HIDDEN_TAGS")," "),Ke(3),Or(" ",Nn(26,20,"MANAGE_TAGS.REMOVE_ALL_HIDDEN_TAGS")," "))},dependencies:[Hd,hh,Ud,Hc,Pp,Vd,kp,ph,Ql,Gd,ny,Hv,Wd,gh,Hh,NM,gc,RM,FM],styles:["#searchSelect[_ngcontent-%COMP%]{position:absolute;top:0;height:65px;width:100%;margin-left:auto;margin-right:auto}#searchDiv[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.listTag[_ngcontent-%COMP%]{position:absolute;top:65px;bottom:50px;width:100%;overflow-y:scroll}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;width:100%}"]})}return e})();const sae=function(){return["point"]};function oae(e,n){if(1&e){const t=Ji();lt(0,"ion-item",14)(1,"app-tag-list-element",15),$n("removeBookmark",function(){const s=Ar(t).$implicit;return kr(sn(2).tagsService.removeBookMark(s))})("addBookmark",function(){const s=Ar(t).$implicit;return kr(sn(2).tagsService.addBookMark(s))})("addHiddenTag",function(i){return Ar(t),kr(sn(2).addHiddenTag(i))}),ct()()}if(2&e){const t=n.$implicit,r=sn(2);Ke(1),Gt("tag",t)("countryTags",r.configService.config.countryTags)("languageTags",r.configService.config.languageTags)("jsonSprites",r.tagsService.jsonSprites)("geometriesFilter",ug(7,sae))("bookmarksIds",r.tagsService.bookmarksIds)("showHideTagButton",!0)}}const aae=function(e,n){return[e,n]};function lae(e,n){if(1&e&&(lt(0,"ion-list",12),Yn(1,oae,2,8,"ion-item",13),wn(2,"filterByTagsContent"),wn(3,"filterDeprecatedTag"),wn(4,"filtersTagsByIds"),ct()),2&e){const t=sn();Ke(1),Gt("ngForOf",cg(2,1,Nn(3,5,cg(4,7,t.tagsService.tags,t.tagsService.hiddenTagsIds,!0)),i1(11,aae,t.configService.config.languageTags,t.configService.config.countryTags),t.searchText))}}function uae(e,n){1&e&&(lt(0,"div")(1,"h4",16),cn(2),wn(3,"translate"),ct()()),2&e&&(Ke(2),Or(" ",Nn(3,1,"MODAL_SELECTED_ITEM.SEARCH_TAG_AT_LEAST_3_LETTERS")," "))}let cae=(()=>{class e{constructor(t,r,i){this.configService=t,this.tagsService=r,this.modalCtrl=i,this.searchText="",this.refreshFilterMapAfterClose=!1}ngOnInit(){}removeHiddenTag(t){this.tagsService.removeHiddenTag(t),this.refreshFilterMapAfterClose=!0}addHiddenTag(t){this.tagsService.addHiddenTag(t)}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(mc),Oe(_h),Oe(mh))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-active-tags"]],decls:19,vars:10,consts:[["color","primary"],["slot","primary",2,"min-width","32px"],[3,"click"],["name","chevron-back-outline","slot","icon-only"],["id","searchSelect"],["id","searchDiv"],["autocomplete","off","autocorrect","off","autocapitalize","none","inputmode","text",3,"ngModel","debounce","ngModelChange"],[1,"listTag"],["style","overflow-y: auto",4,"ngIf"],[4,"ngIf"],["id","footer"],["ion-button","","color","primary",3,"click"],[2,"overflow-y","auto"],["class","ion-no-padding",4,"ngFor","ngForOf"],[1,"ion-no-padding"],[2,"width","100%",3,"tag","countryTags","languageTags","jsonSprites","geometriesFilter","bookmarksIds","showHideTagButton","removeBookmark","addBookmark","addHiddenTag"],[2,"text-align","center"]],template:function(r,i){1&r&&(lt(0,"ion-header",0)(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),$n("click",function(){return i.modalCtrl.dismiss(!1)}),Tr(4,"ion-icon",3),ct()(),lt(5,"ion-title"),cn(6),wn(7,"translate"),ct()()(),lt(8,"ion-content")(9,"div",4)(10,"div",5)(11,"ion-searchbar",6),$n("ngModelChange",function(a){return i.searchText=a}),ct()()(),lt(12,"div",7),Yn(13,lae,5,14,"ion-list",8),Yn(14,uae,4,3,"div",9),ct()(),lt(15,"ion-footer",10)(16,"ion-button",11),$n("click",function(){return i.modalCtrl.dismiss(i.refreshFilterMapAfterClose)}),cn(17),wn(18,"translate"),ct()()),2&r&&(Ke(6),Or(" ",Nn(7,6,"MANAGE_TAGS.ACTIVE_TAGS")," "),Ke(5),Gt("ngModel",i.searchText)("debounce",300),Ke(2),Gt("ngIf",i.searchText.length>2),Ke(1),Gt("ngIf",i.searchText.length<=2),Ke(3),Or(" ",Nn(18,8,"SHARED.CLOSE")," "))},dependencies:[Hd,Bu,hh,Ud,Hc,Pp,Vd,kp,ph,Ql,Gd,ny,Hv,Wd,gh,Hh,NM,gc,RM,C6,FM],styles:["#searchSelect[_ngcontent-%COMP%]{position:absolute;top:0;height:65px;width:100%;margin-left:auto;margin-right:auto}#searchDiv[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.listTag[_ngcontent-%COMP%]{position:absolute;top:65px;bottom:50px;width:100%;overflow-y:scroll}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;width:100%}"]})}return e})();const dae=function(){return["point"]};function hae(e,n){if(1&e){const t=Ji();lt(0,"ion-item",12)(1,"app-tag-list-element",13),$n("removeBookmark",function(){const s=Ar(t).$implicit;return kr(sn().tagsService.removeBookMark(s))})("addBookmark",function(){const s=Ar(t).$implicit;return kr(sn().tagsService.addBookMark(s))}),ct()()}if(2&e){const t=n.$implicit,r=sn();Ke(1),Gt("tag",t)("countryTags",r.configService.config.countryTags)("languageTags",r.configService.config.languageTags)("jsonSprites",r.tagsService.jsonSprites)("geometriesFilter",ug(6,dae))("bookmarksIds",r.tagsService.bookmarksIds)}}const fae=function(e,n){return[e,n]};let pae=(()=>{class e{constructor(t,r,i){this.configService=t,this.tagsService=r,this.modalCtrl=i,this.searchText=""}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(mc),Oe(_h),Oe(mh))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-bookmarked-tags"]],decls:21,vars:19,consts:[["color","primary"],["slot","primary",2,"min-width","32px"],[3,"click"],["name","chevron-back-outline","slot","icon-only"],["id","searchSelect"],["id","searchDiv"],["autocomplete","off","autocorrect","off","autocapitalize","none","inputmode","text",3,"ngModel","debounce","ngModelChange"],[1,"listTag"],[2,"overflow-y","auto"],["class","ion-no-padding",4,"ngFor","ngForOf"],["id","footer"],["ion-button","","color","primary",3,"click"],[1,"ion-no-padding"],[2,"width","100%",3,"tag","countryTags","languageTags","jsonSprites","geometriesFilter","bookmarksIds","removeBookmark","addBookmark"]],template:function(r,i){1&r&&(lt(0,"ion-header",0)(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),$n("click",function(){return i.modalCtrl.dismiss(!1)}),Tr(4,"ion-icon",3),ct()(),lt(5,"ion-title"),cn(6),wn(7,"translate"),ct()()(),lt(8,"ion-content")(9,"div",4)(10,"div",5)(11,"ion-searchbar",6),$n("ngModelChange",function(a){return i.searchText=a}),ct()()(),lt(12,"div",7)(13,"ion-list",8),Yn(14,hae,2,7,"ion-item",9),wn(15,"filterByTagsContent"),wn(16,"filtersTagsByIds"),ct()()(),lt(17,"ion-footer",10)(18,"ion-button",11),$n("click",function(){return i.modalCtrl.dismiss(!1)}),cn(19),wn(20,"translate"),ct()()),2&r&&(Ke(6),Or(" ",Nn(7,5,"MANAGE_TAGS.BOOKMARKED_TAGS")," "),Ke(5),Gt("ngModel",i.searchText)("debounce",300),Ke(3),Gt("ngForOf",cg(15,7,Kl(16,11,i.tagsService.tags,i.tagsService.bookmarksIds),i1(16,fae,i.configService.config.languageTags,i.configService.config.countryTags),i.searchText)),Ke(5),Or(" ",Nn(20,14,"SHARED.CLOSE")," "))},dependencies:[Hd,hh,Ud,Hc,Pp,Vd,kp,ph,Ql,Gd,ny,Hv,Wd,gh,Hh,NM,gc,RM,FM],styles:["#searchSelect[_ngcontent-%COMP%]{position:absolute;top:0;height:65px;width:100%;margin-left:auto;margin-right:auto}#searchDiv[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto}.listTag[_ngcontent-%COMP%]{position:absolute;top:65px;bottom:50px;width:100%;overflow-y:scroll}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:50px;width:100%}"]})}return e})(),gae=(()=>{class e{constructor(t,r,i,s,a,h){this.modalCtrl=t,this.initService=r,this.configService=i,this.mapService=s,this.tagsService=a,this.navCtrl=h,this.refreshFilterMapAfterClose=!1}ngOnInit(){this.initService.isLoaded||this.initService.initLoadData$().subscribe()}openHiddenTagsModal(){var t=this;return(0,oo.Z)(function*(){const r=yield t.modalCtrl.create({component:iae});yield r.present(),r.onDidDismiss().then(i=>{(!0===i.data||void 0===i.data)&&(t.refreshFilterMapAfterClose=!0)})})()}openActiveTagsModal(){var t=this;return(0,oo.Z)(function*(){const r=yield t.modalCtrl.create({component:cae});yield r.present(),r.onDidDismiss().then(i=>{(!0===i.data||void 0===i.data)&&(t.refreshFilterMapAfterClose=!0)})})()}openBookmarkedTagsModal(){var t=this;return(0,oo.Z)(function*(){const r=yield t.modalCtrl.create({component:pae});yield r.present(),r.onDidDismiss().then(i=>{})})()}back(){this.mapService.map&&this.mapService.filterMakerByIds(this.tagsService.hiddenTagsIds),this.navCtrl.back()}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(mh),Oe(xw),Oe(mc),Oe(km),Oe(_h),Oe(jh))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-manage-tags"]],decls:45,vars:36,consts:[["color","primary"],["slot","primary",2,"min-width","32px"],[3,"click"],["name","chevron-back-outline","slot","icon-only"],[1,"ion-padding"],[2,"color","red"],["expand","full",2,"text-transform","none",3,"click"]],template:function(r,i){1&r&&(lt(0,"ion-header",0)(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),$n("click",function(){return i.back()}),Tr(4,"ion-icon",3),ct()(),lt(5,"ion-title"),cn(6),wn(7,"translate"),ct()()(),lt(8,"ion-content",4)(9,"ion-card",4)(10,"h4"),cn(11),wn(12,"translate"),ct(),lt(13,"p"),cn(14),wn(15,"translate"),ct(),lt(16,"p",5),cn(17),wn(18,"translate"),ct(),lt(19,"ion-button",6),$n("click",function(){return i.openActiveTagsModal()}),cn(20),wn(21,"translate"),ct()(),lt(22,"ion-card",4)(23,"h4"),cn(24),wn(25,"translate"),ct(),lt(26,"p"),cn(27),wn(28,"translate"),ct(),lt(29,"p",5),cn(30),wn(31,"translate"),ct(),lt(32,"ion-button",6),$n("click",function(){return i.openHiddenTagsModal()}),cn(33),wn(34,"translate"),ct()(),lt(35,"ion-card",4)(36,"h4"),cn(37),wn(38,"translate"),ct(),lt(39,"p"),cn(40),wn(41,"translate"),ct(),lt(42,"ion-button",6),$n("click",function(){return i.openBookmarkedTagsModal()}),cn(43),wn(44,"translate"),ct()()()),2&r&&(Ke(6),Or(" ",Nn(7,12,"MANAGE_TAGS.TAG_MANAGEMENT_TITLE")," "),Ke(5),Zr(Nn(12,14,"MANAGE_TAGS.ACTIVE_TAGS")),Ke(3),Or(" ",Nn(15,16,"MANAGE_TAGS.ACTIVE_TAGS_DESCRIPTION")," "),Ke(3),Or(" ",Nn(18,18,"MANAGE_TAGS.HIDDEN_TAGS_WARNING")," "),Ke(3),Or(" ",Nn(21,20,"MANAGE_TAGS.ACTIVE_TAGS"),""),Ke(4),Zr(Nn(25,22,"MANAGE_TAGS.HIDDEN_TAGS")),Ke(3),Or(" ",Nn(28,24,"MANAGE_TAGS.HIDDEN_TAGS_DESCRIPTION")," "),Ke(3),Or(" ",Nn(31,26,"MANAGE_TAGS.HIDDEN_TAGS_WARNING")," "),Ke(3),Or(" ",Nn(34,28,"MANAGE_TAGS.HIDDEN_TAGS"),""),Ke(4),Zr(Nn(38,30,"MANAGE_TAGS.BOOKMARKED_TAGS")),Ke(3),Or(" ",Nn(41,32,"MANAGE_TAGS.BOOKMARKED_TAGS_DESCRIPTION")," "),Ke(3),Or(" ",Nn(44,34,"MANAGE_TAGS.BOOKMARKED_TAGS"),""))},dependencies:[Hc,Pp,fh,Vd,ph,Ql,Wd,gh,gc]})}return e})(),mae=(()=>{class e{constructor(t){this.http=t}getBasemaps$(t,r){return this.http.get("assets/imagery.json").pipe(un(i=>{const s=[],a=oy([t,r]);for(const h of i)h.geometry?WC(a,h)&&s.push(h.properties):s.push(h.properties);return s}))}static#e=this.\u0275fac=function(r){return new(r||e)(tr(Tm))};static#t=this.\u0275prov=_n({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _ae(e,n){1&e&&Tr(0,"p",9),2&e&&Gt("innerText",sn().$implicit.description)}const yae=function(e){return{selectedCard:e}};function vae(e,n){if(1&e){const t=Ji();lt(0,"ion-card",7),$n("click",function(){const s=Ar(t).$implicit;return kr(sn(2).selectBaseMap(s))}),lt(1,"ion-card-header")(2,"ion-card-subtitle"),cn(3),ct(),lt(4,"ion-card-title"),cn(5),ct()(),lt(6,"ion-card-content"),Yn(7,_ae,1,1,"p",8),lt(8,"p"),cn(9),ct()()()}if(2&e){const t=n.$implicit,r=sn(2);Gt("ngClass",H_(6,yae,t.id==r.configService.config.basemap.id)),Ke(3),cf("",null==t?null:t.category," ",null==t?null:t.end_date,""),Ke(2),Zr(t.name),Ke(2),Gt("ngIf",t.description),Ke(2),Zr(null==t||null==t.attribution?null:t.attribution.text)}}function wae(e,n){if(1&e&&(lt(0,"ion-content",5)(1,"h4"),cn(2),wn(3,"translate"),ct(),Yn(4,vae,10,8,"ion-card",6),ct()),2&e){const t=sn();Ke(2),Zr(Nn(3,2,"SETTINGS.AERIAL_IMAGERY_HINT")),Ke(2),Gt("ngForOf",t.basemaps)}}const bae=[{path:"",component:Y6,children:[{path:"callback",component:Y6}]},{path:"about",component:S6},{path:"settings",component:eae},{path:"pushData",component:M6},{path:"tags",component:gae},{path:"basemaps/:lng/:lat",component:(()=>{class e{constructor(t,r,i,s,a,h){this.navCtrl=t,this.route=r,this.basemapsService=i,this.initService=s,this.configService=a,this.mapService=h}ngOnInit(){this.initService.isLoaded||this.navCtrl.back(),this.route.params&&this.route.params.subscribe({next:t=>{this.lng=parseFloat(t.lng),this.lat=parseFloat(t.lat),this.basemapsService.getBasemaps$(this.lng,this.lat).subscribe(r=>{this.basemaps=r})},error:t=>{console.error("Error: ",t)}})}selectBaseMap(t){this.configService.setBasemap(t),this.mapService.displaySatelliteBaseMap(t,!0),this.navCtrl.back()}static#e=this.\u0275fac=function(r){return new(r||e)(Oe(jh),Oe(zh),Oe(mae),Oe(xw),Oe(mc),Oe(km))};static#t=this.\u0275cmp=Qn({type:e,selectors:[["app-basemaps"]],decls:9,vars:4,consts:[["color","primary"],["slot","primary",2,"min-width","32px"],[3,"click"],["name","chevron-back-outline","slot","icon-only"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[3,"innerText",4,"ngIf"],[3,"innerText"]],template:function(r,i){1&r&&(lt(0,"ion-header",0)(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),$n("click",function(){return i.navCtrl.back()}),Tr(4,"ion-icon",3),ct()(),lt(5,"ion-title"),cn(6),wn(7,"translate"),ct()()(),Yn(8,wae,5,4,"ion-content",4)),2&r&&(Ke(6),Zr(Nn(7,2,"SETTINGS.AERIAL_IMAGERY")),Ke(2),Gt("ngIf",i.initService.isLoaded))},dependencies:[lO,Hd,Bu,Hc,Pp,fh,pf,Mm,JF,QF,Vd,ph,Ql,Wd,gh,gc],styles:[".selectedCard[_ngcontent-%COMP%]{background-color:#d3d3d3}"]})}return e})()},{path:"**",pathMatch:"full",redirectTo:""}];let xae=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e});static#n=this.\u0275inj=nr({imports:[kR.forRoot(bae,{useHash:!1}),kR]})}return e})();class Mae{http;prefix;suffix;constructor(n,t="/assets/i18n/",r=".json"){this.http=n,this.prefix=t,this.suffix=r}getTranslation(n){return this.http.get(`${this.prefix}${n}${this.suffix}`)}}X(7651),X(9361);function Sae(e){return new Mae(e,"./assets/i18n/",".json")}let Eae=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=go({type:e,bootstrap:[FK]});static#n=this.\u0275inj=nr({providers:[{provide:MR,useClass:PX}],imports:[FO,l9,Nq,KZ.forRoot({mode:"md"}),tK.forRoot(),xae,DK,wse,cV,RK.forRoot({loader:{provide:K1,useFactory:Sae,deps:[Tm]}}),Coe.register("ngsw-worker.js",{enabled:true})]})}return e})();X(7271),eV().bootstrapModule(Eae).catch(e=>console.log(e))},1568:(pt,Ze,X)=>{"use strict";var E=X(8570);function z(p){var O=[1/0,1/0,-1/0,-1/0];return E.coordEach(p,function(R){O[0]>R[0]&&(O[0]=R[0]),O[1]>R[1]&&(O[1]=R[1]),O[2]<R[0]&&(O[2]=R[0]),O[3]<R[1]&&(O[3]=R[1])}),O}z.default=z,Ze.Z=z},621:(pt,Ze)=>{"use strict";function X($e,rt,Te){void 0===Te&&(Te={});var ht={type:"Feature"};return(0===Te.id||Te.id)&&(ht.id=Te.id),Te.bbox&&(ht.bbox=Te.bbox),ht.properties=rt||{},ht.geometry=$e,ht}function E($e,rt,Te){if(void 0===Te&&(Te={}),!$e)throw new Error("coordinates is required");if(!Array.isArray($e))throw new Error("coordinates must be an Array");if($e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ae($e[0])||!ae($e[1]))throw new Error("coordinates must contain numbers");return X({type:"Point",coordinates:$e},rt,Te)}function p($e,rt,Te){void 0===Te&&(Te={});for(var ht=0,tt=$e;ht<tt.length;ht++){var He=tt[ht];if(He.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var _t=0;_t<He[He.length-1].length;_t++)if(He[He.length-1][_t]!==He[0][_t])throw new Error("First and last Position are not equivalent.")}return X({type:"Polygon",coordinates:$e},rt,Te)}function R($e,rt,Te){if(void 0===Te&&(Te={}),$e.length<2)throw new Error("coordinates must be an array of two or more positions");return X({type:"LineString",coordinates:$e},rt,Te)}function G($e,rt){void 0===rt&&(rt={});var Te={type:"FeatureCollection"};return rt.id&&(Te.id=rt.id),rt.bbox&&(Te.bbox=rt.bbox),Te.features=$e,Te}function ie($e,rt,Te){return void 0===Te&&(Te={}),X({type:"MultiLineString",coordinates:$e},rt,Te)}function Ee($e,rt,Te){return void 0===Te&&(Te={}),X({type:"MultiPoint",coordinates:$e},rt,Te)}function he($e,rt,Te){return void 0===Te&&(Te={}),X({type:"MultiPolygon",coordinates:$e},rt,Te)}function it($e,rt){void 0===rt&&(rt="kilometers");var Te=Ze.factors[rt];if(!Te)throw new Error(rt+" units is invalid");return $e*Te}function pe($e,rt){void 0===rt&&(rt="kilometers");var Te=Ze.factors[rt];if(!Te)throw new Error(rt+" units is invalid");return $e/Te}function J($e){return $e%(2*Math.PI)*180/Math.PI}function ae($e){return!isNaN($e)&&null!==$e&&!Array.isArray($e)}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.earthRadius=6371008.8,Ze.factors={centimeters:100*Ze.earthRadius,centimetres:100*Ze.earthRadius,degrees:Ze.earthRadius/111325,feet:3.28084*Ze.earthRadius,inches:39.37*Ze.earthRadius,kilometers:Ze.earthRadius/1e3,kilometres:Ze.earthRadius/1e3,meters:Ze.earthRadius,metres:Ze.earthRadius,miles:Ze.earthRadius/1609.344,millimeters:1e3*Ze.earthRadius,millimetres:1e3*Ze.earthRadius,nauticalmiles:Ze.earthRadius/1852,radians:1,yards:1.0936*Ze.earthRadius},Ze.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Ze.earthRadius,yards:1.0936133},Ze.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},Ze.feature=X,Ze.geometry=function B($e,rt,Te){switch(void 0===Te&&(Te={}),$e){case"Point":return E(rt).geometry;case"LineString":return R(rt).geometry;case"Polygon":return p(rt).geometry;case"MultiPoint":return Ee(rt).geometry;case"MultiLineString":return ie(rt).geometry;case"MultiPolygon":return he(rt).geometry;default:throw new Error($e+" is invalid")}},Ze.point=E,Ze.points=function z($e,rt,Te){return void 0===Te&&(Te={}),G($e.map(function(ht){return E(ht,rt)}),Te)},Ze.polygon=p,Ze.polygons=function O($e,rt,Te){return void 0===Te&&(Te={}),G($e.map(function(ht){return p(ht,rt)}),Te)},Ze.lineString=R,Ze.lineStrings=function H($e,rt,Te){return void 0===Te&&(Te={}),G($e.map(function(ht){return R(ht,rt)}),Te)},Ze.featureCollection=G,Ze.multiLineString=ie,Ze.multiPoint=Ee,Ze.multiPolygon=he,Ze.geometryCollection=function Pe($e,rt,Te){return void 0===Te&&(Te={}),X({type:"GeometryCollection",geometries:$e},rt,Te)},Ze.round=function Ie($e,rt){if(void 0===rt&&(rt=0),rt&&!(rt>=0))throw new Error("precision must be a positive number");var Te=Math.pow(10,rt||0);return Math.round($e*Te)/Te},Ze.radiansToLength=it,Ze.lengthToRadians=pe,Ze.lengthToDegrees=function ve($e,rt){return J(pe($e,rt))},Ze.bearingToAzimuth=function de($e){var rt=$e%360;return rt<0&&(rt+=360),rt},Ze.radiansToDegrees=J,Ze.degreesToRadians=function te($e){return $e%360*Math.PI/180},Ze.convertLength=function be($e,rt,Te){if(void 0===rt&&(rt="kilometers"),void 0===Te&&(Te="kilometers"),!($e>=0))throw new Error("length must be a positive number");return it(pe($e,rt),Te)},Ze.convertArea=function ee($e,rt,Te){if(void 0===rt&&(rt="meters"),void 0===Te&&(Te="kilometers"),!($e>=0))throw new Error("area must be a positive number");var ht=Ze.areaFactors[rt];if(!ht)throw new Error("invalid original units");var tt=Ze.areaFactors[Te];if(!tt)throw new Error("invalid final units");return $e/ht*tt},Ze.isNumber=ae,Ze.isObject=function ne($e){return!!$e&&$e.constructor===Object},Ze.validateBBox=function se($e){if(!$e)throw new Error("bbox is required");if(!Array.isArray($e))throw new Error("bbox must be an Array");if(4!==$e.length&&6!==$e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");$e.forEach(function(rt){if(!ae(rt))throw new Error("bbox must only contain numbers")})},Ze.validateId=function st($e){if(!$e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof $e))throw new Error("id must be a number or a string")}},8570:(pt,Ze,X)=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});var B=X(621);function E(te,be,ee){if(null!==te)for(var ae,ne,se,st,$e,rt,Te,He,ht=0,tt=0,_t=te.type,et="FeatureCollection"===_t,Xe="Feature"===_t,De=et?te.features.length:1,le=0;le<De;le++){$e=(He=!!(Te=et?te.features[le].geometry:Xe?te.geometry:te)&&"GeometryCollection"===Te.type)?Te.geometries.length:1;for(var ze=0;ze<$e;ze++){var Ve=0,Yt=0;if(null!==(st=He?Te.geometries[ze]:Te)){rt=st.coordinates;var Ct=st.type;switch(ht=!ee||"Polygon"!==Ct&&"MultiPolygon"!==Ct?0:1,Ct){case null:break;case"Point":if(!1===be(rt,tt,le,Ve,Yt))return!1;tt++,Ve++;break;case"LineString":case"MultiPoint":for(ae=0;ae<rt.length;ae++){if(!1===be(rt[ae],tt,le,Ve,Yt))return!1;tt++,"MultiPoint"===Ct&&Ve++}"LineString"===Ct&&Ve++;break;case"Polygon":case"MultiLineString":for(ae=0;ae<rt.length;ae++){for(ne=0;ne<rt[ae].length-ht;ne++){if(!1===be(rt[ae][ne],tt,le,Ve,Yt))return!1;tt++}"MultiLineString"===Ct&&Ve++,"Polygon"===Ct&&Yt++}"Polygon"===Ct&&Ve++;break;case"MultiPolygon":for(ae=0;ae<rt.length;ae++){for(Yt=0,ne=0;ne<rt[ae].length;ne++){for(se=0;se<rt[ae][ne].length-ht;se++){if(!1===be(rt[ae][ne][se],tt,le,Ve,Yt))return!1;tt++}Yt++}Ve++}break;case"GeometryCollection":for(ae=0;ae<st.geometries.length;ae++)if(!1===E(st.geometries[ae],be,ee))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function p(te,be){var ee;switch(te.type){case"FeatureCollection":for(ee=0;ee<te.features.length&&!1!==be(te.features[ee].properties,ee);ee++);break;case"Feature":be(te.properties,0)}}function R(te,be){if("Feature"===te.type)be(te,0);else if("FeatureCollection"===te.type)for(var ee=0;ee<te.features.length&&!1!==be(te.features[ee],ee);ee++);}function ie(te,be){var ee,ae,ne,se,st,$e,rt,Te,ht,tt,He=0,_t="FeatureCollection"===te.type,et="Feature"===te.type,Xe=_t?te.features.length:1;for(ee=0;ee<Xe;ee++){for(Te=_t?te.features[ee].properties:et?te.properties:{},ht=_t?te.features[ee].bbox:et?te.bbox:void 0,tt=_t?te.features[ee].id:et?te.id:void 0,st=(rt=!!($e=_t?te.features[ee].geometry:et?te.geometry:te)&&"GeometryCollection"===$e.type)?$e.geometries.length:1,ne=0;ne<st;ne++)if(null!==(se=rt?$e.geometries[ne]:$e))switch(se.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===be(se,He,Te,ht,tt))return!1;break;case"GeometryCollection":for(ae=0;ae<se.geometries.length;ae++)if(!1===be(se.geometries[ae],He,Te,ht,tt))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===be(null,He,Te,ht,tt))return!1;He++}}function he(te,be){ie(te,function(ee,ae,ne,se,st){var rt,$e=null===ee?null:ee.type;switch($e){case null:case"Point":case"LineString":case"Polygon":return!1!==be(B.feature(ee,ne,{bbox:se,id:st}),ae,0)&&void 0}switch($e){case"MultiPoint":rt="Point";break;case"MultiLineString":rt="LineString";break;case"MultiPolygon":rt="Polygon"}for(var Te=0;Te<ee.coordinates.length;Te++)if(!1===be(B.feature({type:rt,coordinates:ee.coordinates[Te]},ne),ae,Te))return!1})}function Ie(te,be){he(te,function(ee,ae,ne){var se=0;if(ee.geometry){var st=ee.geometry.type;if("Point"!==st&&"MultiPoint"!==st){var $e,rt=0,Te=0,ht=0;if(!1===E(ee,function(tt,He,_t,et,Xe){if(void 0===$e||ae>rt||et>Te||Xe>ht)return $e=tt,rt=ae,Te=et,ht=Xe,void(se=0);var De=B.lineString([$e,tt],ee.properties);if(!1===be(De,ae,ne,Xe,se))return!1;se++,$e=tt}))return!1}}})}function pe(te,be){if(!te)throw new Error("geojson is required");he(te,function(ee,ae,ne){if(null!==ee.geometry){var st=ee.geometry.coordinates;switch(ee.geometry.type){case"LineString":if(!1===be(ee,ae,ne,0,0))return!1;break;case"Polygon":for(var $e=0;$e<st.length;$e++)if(!1===be(B.lineString(st[$e],ee.properties),ae,ne,$e))return!1}}})}Ze.coordAll=function G(te){var be=[];return E(te,function(ee){be.push(ee)}),be},Ze.coordEach=E,Ze.coordReduce=function z(te,be,ee,ae){var ne=ee;return E(te,function(se,st,$e,rt,Te){ne=0===st&&void 0===ee?se:be(ne,se,st,$e,rt,Te)},ae),ne},Ze.featureEach=R,Ze.featureReduce=function H(te,be,ee){var ae=ee;return R(te,function(ne,se){ae=0===se&&void 0===ee?ne:be(ae,ne,se)}),ae},Ze.findPoint=function J(te,be){if(!B.isObject(be=be||{}))throw new Error("options is invalid");var $e,ee=be.featureIndex||0,ae=be.multiFeatureIndex||0,ne=be.geometryIndex||0,se=be.coordIndex||0,st=be.properties;switch(te.type){case"FeatureCollection":ee<0&&(ee=te.features.length+ee),st=st||te.features[ee].properties,$e=te.features[ee].geometry;break;case"Feature":st=st||te.properties,$e=te.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":$e=te;break;default:throw new Error("geojson is invalid")}if(null===$e)return null;var rt=$e.coordinates;switch($e.type){case"Point":return B.point(rt,st,be);case"MultiPoint":return ae<0&&(ae=rt.length+ae),B.point(rt[ae],st,be);case"LineString":return se<0&&(se=rt.length+se),B.point(rt[se],st,be);case"Polygon":return ne<0&&(ne=rt.length+ne),se<0&&(se=rt[ne].length+se),B.point(rt[ne][se],st,be);case"MultiLineString":return ae<0&&(ae=rt.length+ae),se<0&&(se=rt[ae].length+se),B.point(rt[ae][se],st,be);case"MultiPolygon":return ae<0&&(ae=rt.length+ae),ne<0&&(ne=rt[ae].length+ne),se<0&&(se=rt[ae][ne].length-se),B.point(rt[ae][ne][se],st,be)}throw new Error("geojson is invalid")},Ze.findSegment=function de(te,be){if(!B.isObject(be=be||{}))throw new Error("options is invalid");var $e,ee=be.featureIndex||0,ae=be.multiFeatureIndex||0,ne=be.geometryIndex||0,se=be.segmentIndex||0,st=be.properties;switch(te.type){case"FeatureCollection":ee<0&&(ee=te.features.length+ee),st=st||te.features[ee].properties,$e=te.features[ee].geometry;break;case"Feature":st=st||te.properties,$e=te.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":$e=te;break;default:throw new Error("geojson is invalid")}if(null===$e)return null;var rt=$e.coordinates;switch($e.type){case"Point":case"MultiPoint":return null;case"LineString":return se<0&&(se=rt.length+se-1),B.lineString([rt[se],rt[se+1]],st,be);case"Polygon":return ne<0&&(ne=rt.length+ne),se<0&&(se=rt[ne].length+se-1),B.lineString([rt[ne][se],rt[ne][se+1]],st,be);case"MultiLineString":return ae<0&&(ae=rt.length+ae),se<0&&(se=rt[ae].length+se-1),B.lineString([rt[ae][se],rt[ae][se+1]],st,be);case"MultiPolygon":return ae<0&&(ae=rt.length+ae),ne<0&&(ne=rt[ae].length+ne),se<0&&(se=rt[ae][ne].length-se-1),B.lineString([rt[ae][ne][se],rt[ae][ne][se+1]],st,be)}throw new Error("geojson is invalid")},Ze.flattenEach=he,Ze.flattenReduce=function Pe(te,be,ee){var ae=ee;return he(te,function(ne,se,st){ae=0===se&&0===st&&void 0===ee?ne:be(ae,ne,se,st)}),ae},Ze.geomEach=ie,Ze.geomReduce=function Ee(te,be,ee){var ae=ee;return ie(te,function(ne,se,st,$e,rt){ae=0===se&&void 0===ee?ne:be(ae,ne,se,st,$e,rt)}),ae},Ze.lineEach=pe,Ze.lineReduce=function ve(te,be,ee){var ae=ee;return pe(te,function(ne,se,st,$e){ae=0===se&&void 0===ee?ne:be(ae,ne,se,st,$e)}),ae},Ze.propEach=p,Ze.propReduce=function O(te,be,ee){var ae=ee;return p(te,function(ne,se){ae=0===se&&void 0===ee?ne:be(ae,ne,se)}),ae},Ze.segmentEach=Ie,Ze.segmentReduce=function it(te,be,ee){var ae=ee,ne=!1;return Ie(te,function(se,st,$e,rt,Te){ae=!1===ne&&void 0===ee?se:be(ae,se,st,$e,rt,Te),ne=!0}),ae}},1098:(pt,Ze,X)=>{"use strict";var B=X(491),E=X(5436),z=E(B("String.prototype.indexOf"));pt.exports=function(O,R){var H=B(O,!!R);return"function"==typeof H&&z(O,".prototype.")>-1?E(H):H}},5436:(pt,Ze,X)=>{"use strict";var B=X(5333),E=X(491),z=X(2245),p=X(5223),O=E("%Function.prototype.apply%"),R=E("%Function.prototype.call%"),H=E("%Reflect.apply%",!0)||B.call(R,O),G=X(474),ie=E("%Math.max%");pt.exports=function(Pe){if("function"!=typeof Pe)throw new p("a function is required");var Ie=H(B,R,arguments);return z(Ie,1+ie(0,Pe.length-(arguments.length-1)),!0)};var Ee=function(){return H(B,O,arguments)};G?G(pt.exports,"apply",{value:Ee}):pt.exports.apply=Ee},3664:(pt,Ze,X)=>{"use strict";var B=X(938),E=X(7935),z=X(4179),p=X(6138).orient2d;function O(ee,ae,ne){ae=Math.max(0,void 0===ae?2:ae),ne=ne||0;var se=function it(ee){for(var ae=ee[0],ne=ee[0],se=ee[0],st=ee[0],$e=0;$e<ee.length;$e++){var rt=ee[$e];rt[0]<ae[0]&&(ae=rt),rt[0]>se[0]&&(se=rt),rt[1]<ne[1]&&(ne=rt),rt[1]>st[1]&&(st=rt)}var Te=[ae,ne,se,st],ht=Te.slice();for($e=0;$e<ee.length;$e++)z(ee[$e],Te)||ht.push(ee[$e]);return function be(ee){ee.sort(te);for(var ae=[],ne=0;ne<ee.length;ne++){for(;ae.length>=2&&he(ae[ae.length-2],ae[ae.length-1],ee[ne])<=0;)ae.pop();ae.push(ee[ne])}for(var se=[],st=ee.length-1;st>=0;st--){for(;se.length>=2&&he(se[se.length-2],se[se.length-1],ee[st])<=0;)se.pop();se.push(ee[st])}return se.pop(),ae.pop(),ae.concat(se)}(ht)}(ee),st=new B(16);st.toBBox=function(Yt){return{minX:Yt[0],minY:Yt[1],maxX:Yt[0],maxY:Yt[1]}},st.compareMinX=function(Yt,Ct){return Yt[0]-Ct[0]},st.compareMinY=function(Yt,Ct){return Yt[1]-Ct[1]},st.load(ee);for(var Te,$e=[],rt=0;rt<se.length;rt++){var ht=se[rt];st.remove(ht),Te=pe(ht,Te),$e.push(Te)}var tt=new B(16);for(rt=0;rt<$e.length;rt++)tt.insert(Ie($e[rt]));for(var He=ae*ae,_t=ne*ne;$e.length;){var et=$e.shift(),Xe=et.p,De=et.next.p,le=ve(Xe,De);if(!(le<_t)){var ze=le/He;(ht=R(st,et.prev.p,Xe,De,et.next.next.p,ze,tt))&&Math.min(ve(ht,Xe),ve(ht,De))<=ze&&($e.push(et),$e.push(pe(ht,et)),st.remove(ht),tt.remove(et),tt.insert(Ie(et)),tt.insert(Ie(et.next)))}}et=Te;var Ve=[];do{Ve.push(et.p),et=et.next}while(et!==Te);return Ve.push(et.p),Ve}function R(ee,ae,ne,se,st,$e,rt){for(var Te=new E([],H),ht=ee.data;ht;){for(var tt=0;tt<ht.children.length;tt++){var He=ht.children[tt],_t=ht.leaf?de(He,ne,se):G(ne,se,He);_t>$e||Te.push({node:He,dist:_t})}for(;Te.length&&!Te.peek().node.children;){var et=Te.pop(),Xe=et.node,De=de(Xe,ae,ne),le=de(Xe,se,st);if(et.dist<De&&et.dist<le&&Ee(ne,Xe,rt)&&Ee(se,Xe,rt))return Xe}(ht=Te.pop())&&(ht=ht.node)}return null}function H(ee,ae){return ee.dist-ae.dist}function G(ee,ae,ne){if(ie(ee,ne)||ie(ae,ne))return 0;var se=J(ee[0],ee[1],ae[0],ae[1],ne.minX,ne.minY,ne.maxX,ne.minY);if(0===se)return 0;var st=J(ee[0],ee[1],ae[0],ae[1],ne.minX,ne.minY,ne.minX,ne.maxY);if(0===st)return 0;var $e=J(ee[0],ee[1],ae[0],ae[1],ne.maxX,ne.minY,ne.maxX,ne.maxY);if(0===$e)return 0;var rt=J(ee[0],ee[1],ae[0],ae[1],ne.minX,ne.maxY,ne.maxX,ne.maxY);return 0===rt?0:Math.min(se,st,$e,rt)}function ie(ee,ae){return ee[0]>=ae.minX&&ee[0]<=ae.maxX&&ee[1]>=ae.minY&&ee[1]<=ae.maxY}function Ee(ee,ae,ne){for(var se=Math.min(ee[0],ae[0]),st=Math.min(ee[1],ae[1]),$e=Math.max(ee[0],ae[0]),rt=Math.max(ee[1],ae[1]),Te=ne.search({minX:se,minY:st,maxX:$e,maxY:rt}),ht=0;ht<Te.length;ht++)if(Pe(Te[ht].p,Te[ht].next.p,ee,ae))return!1;return!0}function he(ee,ae,ne){return p(ee[0],ee[1],ae[0],ae[1],ne[0],ne[1])}function Pe(ee,ae,ne,se){return ee!==se&&ae!==ne&&he(ee,ae,ne)>0!=he(ee,ae,se)>0&&he(ne,se,ee)>0!=he(ne,se,ae)>0}function Ie(ee){var ae=ee.p,ne=ee.next.p;return ee.minX=Math.min(ae[0],ne[0]),ee.minY=Math.min(ae[1],ne[1]),ee.maxX=Math.max(ae[0],ne[0]),ee.maxY=Math.max(ae[1],ne[1]),ee}function pe(ee,ae){var ne={p:ee,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return ae?(ne.next=ae.next,ne.prev=ae,ae.next.prev=ne,ae.next=ne):(ne.prev=ne,ne.next=ne),ne}function ve(ee,ae){var ne=ee[0]-ae[0],se=ee[1]-ae[1];return ne*ne+se*se}function de(ee,ae,ne){var se=ae[0],st=ae[1],$e=ne[0]-se,rt=ne[1]-st;if(0!==$e||0!==rt){var Te=((ee[0]-se)*$e+(ee[1]-st)*rt)/($e*$e+rt*rt);Te>1?(se=ne[0],st=ne[1]):Te>0&&(se+=$e*Te,st+=rt*Te)}return($e=ee[0]-se)*$e+(rt=ee[1]-st)*rt}function J(ee,ae,ne,se,st,$e,rt,Te){var bn,fn,kn,un,ht=ne-ee,tt=se-ae,He=rt-st,_t=Te-$e,et=ee-st,Xe=ae-$e,De=ht*ht+tt*tt,le=ht*He+tt*_t,ze=He*He+_t*_t,Ve=ht*et+tt*Xe,Yt=He*et+_t*Xe,Ct=De*ze-le*le,Xn=Ct,Rn=Ct;0===Ct?(fn=0,Xn=1,un=Yt,Rn=ze):(un=De*Yt-le*Ve,(fn=le*Yt-ze*Ve)<0?(fn=0,un=Yt,Rn=ze):fn>Xn&&(fn=Xn,un=Yt+le,Rn=ze)),un<0?(un=0,-Ve<0?fn=0:-Ve>De?fn=Xn:(fn=-Ve,Xn=De)):un>Rn&&(un=Rn,-Ve+le<0?fn=0:-Ve+le>De?fn=Xn:(fn=-Ve+le,Xn=De));var xr=(1-(kn=0===un?0:un/Rn))*st+kn*rt-((1-(bn=0===fn?0:fn/Xn))*ee+bn*ne),$r=(1-kn)*$e+kn*Te-((1-bn)*ae+bn*se);return xr*xr+$r*$r}function te(ee,ae){return ee[0]===ae[0]?ee[1]-ae[1]:ee[0]-ae[0]}E.default&&(E=E.default),pt.exports=O,pt.exports.default=O},938:function(pt){pt.exports=function(){"use strict";function Ze(pe,ve,de,J,te){!function be(ee,ae,ne,se,st){for(;se>ne;){if(se-ne>600){var $e=se-ne+1,rt=ae-ne+1,Te=Math.log($e),ht=.5*Math.exp(2*Te/3),tt=.5*Math.sqrt(Te*ht*($e-ht)/$e)*(rt-$e/2<0?-1:1);be(ee,ae,Math.max(ne,Math.floor(ae-rt*ht/$e+tt)),Math.min(se,Math.floor(ae+($e-rt)*ht/$e+tt)),st)}var et=ee[ae],Xe=ne,De=se;for(X(ee,ne,ae),st(ee[se],et)>0&&X(ee,ne,se);Xe<De;){for(X(ee,Xe,De),Xe++,De--;st(ee[Xe],et)<0;)Xe++;for(;st(ee[De],et)>0;)De--}0===st(ee[ne],et)?X(ee,ne,De):X(ee,++De,se),De<=ae&&(ne=De+1),ae<=De&&(se=De-1)}}(pe,ve,de||0,J||pe.length-1,te||B)}function X(pe,ve,de){var J=pe[ve];pe[ve]=pe[de],pe[de]=J}function B(pe,ve){return pe<ve?-1:pe>ve?1:0}var E=function(pe){void 0===pe&&(pe=9),this._maxEntries=Math.max(4,pe),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function z(pe,ve,de){if(!de)return ve.indexOf(pe);for(var J=0;J<ve.length;J++)if(de(pe,ve[J]))return J;return-1}function p(pe,ve){O(pe,0,pe.children.length,ve,pe)}function O(pe,ve,de,J,te){te||(te=Ie(null)),te.minX=1/0,te.minY=1/0,te.maxX=-1/0,te.maxY=-1/0;for(var be=ve;be<de;be++){var ee=pe.children[be];R(te,pe.leaf?J(ee):ee)}return te}function R(pe,ve){return pe.minX=Math.min(pe.minX,ve.minX),pe.minY=Math.min(pe.minY,ve.minY),pe.maxX=Math.max(pe.maxX,ve.maxX),pe.maxY=Math.max(pe.maxY,ve.maxY),pe}function H(pe,ve){return pe.minX-ve.minX}function G(pe,ve){return pe.minY-ve.minY}function ie(pe){return(pe.maxX-pe.minX)*(pe.maxY-pe.minY)}function Ee(pe){return pe.maxX-pe.minX+(pe.maxY-pe.minY)}function he(pe,ve){return pe.minX<=ve.minX&&pe.minY<=ve.minY&&ve.maxX<=pe.maxX&&ve.maxY<=pe.maxY}function Pe(pe,ve){return ve.minX<=pe.maxX&&ve.minY<=pe.maxY&&ve.maxX>=pe.minX&&ve.maxY>=pe.minY}function Ie(pe){return{children:pe,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function it(pe,ve,de,J,te){for(var be=[ve,de];be.length;)if(!((de=be.pop())-(ve=be.pop())<=J)){var ee=ve+Math.ceil((de-ve)/J/2)*J;Ze(pe,ee,ve,de,te),be.push(ve,ee,ee,de)}}return E.prototype.all=function(){return this._all(this.data,[])},E.prototype.search=function(pe){var ve=this.data,de=[];if(!Pe(pe,ve))return de;for(var J=this.toBBox,te=[];ve;){for(var be=0;be<ve.children.length;be++){var ee=ve.children[be],ae=ve.leaf?J(ee):ee;Pe(pe,ae)&&(ve.leaf?de.push(ee):he(pe,ae)?this._all(ee,de):te.push(ee))}ve=te.pop()}return de},E.prototype.collides=function(pe){var ve=this.data;if(!Pe(pe,ve))return!1;for(var de=[];ve;){for(var J=0;J<ve.children.length;J++){var te=ve.children[J],be=ve.leaf?this.toBBox(te):te;if(Pe(pe,be)){if(ve.leaf||he(pe,be))return!0;de.push(te)}}ve=de.pop()}return!1},E.prototype.load=function(pe){if(!pe||!pe.length)return this;if(pe.length<this._minEntries){for(var ve=0;ve<pe.length;ve++)this.insert(pe[ve]);return this}var de=this._build(pe.slice(),0,pe.length-1,0);if(this.data.children.length)if(this.data.height===de.height)this._splitRoot(this.data,de);else{if(this.data.height<de.height){var J=this.data;this.data=de,de=J}this._insert(de,this.data.height-de.height-1,!0)}else this.data=de;return this},E.prototype.insert=function(pe){return pe&&this._insert(pe,this.data.height-1),this},E.prototype.clear=function(){return this.data=Ie([]),this},E.prototype.remove=function(pe,ve){if(!pe)return this;for(var de,J,te,be=this.data,ee=this.toBBox(pe),ae=[],ne=[];be||ae.length;){if(be||(be=ae.pop(),J=ae[ae.length-1],de=ne.pop(),te=!0),be.leaf){var se=z(pe,be.children,ve);if(-1!==se)return be.children.splice(se,1),ae.push(be),this._condense(ae),this}te||be.leaf||!he(be,ee)?J?(de++,be=J.children[de],te=!1):be=null:(ae.push(be),ne.push(de),de=0,J=be,be=be.children[0])}return this},E.prototype.toBBox=function(pe){return pe},E.prototype.compareMinX=function(pe,ve){return pe.minX-ve.minX},E.prototype.compareMinY=function(pe,ve){return pe.minY-ve.minY},E.prototype.toJSON=function(){return this.data},E.prototype.fromJSON=function(pe){return this.data=pe,this},E.prototype._all=function(pe,ve){for(var de=[];pe;)pe.leaf?ve.push.apply(ve,pe.children):de.push.apply(de,pe.children),pe=de.pop();return ve},E.prototype._build=function(pe,ve,de,J){var te,be=de-ve+1,ee=this._maxEntries;if(be<=ee)return p(te=Ie(pe.slice(ve,de+1)),this.toBBox),te;J||(J=Math.ceil(Math.log(be)/Math.log(ee)),ee=Math.ceil(be/Math.pow(ee,J-1))),(te=Ie([])).leaf=!1,te.height=J;var ae=Math.ceil(be/ee),ne=ae*Math.ceil(Math.sqrt(ee));it(pe,ve,de,ne,this.compareMinX);for(var se=ve;se<=de;se+=ne){var st=Math.min(se+ne-1,de);it(pe,se,st,ae,this.compareMinY);for(var $e=se;$e<=st;$e+=ae){var rt=Math.min($e+ae-1,st);te.children.push(this._build(pe,$e,rt,J-1))}}return p(te,this.toBBox),te},E.prototype._chooseSubtree=function(pe,ve,de,J){for(;J.push(ve),!ve.leaf&&J.length-1!==de;){for(var te=1/0,be=1/0,ee=void 0,ae=0;ae<ve.children.length;ae++){var ne=ve.children[ae],se=ie(ne),st=($e=pe,rt=ne,(Math.max(rt.maxX,$e.maxX)-Math.min(rt.minX,$e.minX))*(Math.max(rt.maxY,$e.maxY)-Math.min(rt.minY,$e.minY))-se);st<be?(be=st,te=se<te?se:te,ee=ne):st===be&&se<te&&(te=se,ee=ne)}ve=ee||ve.children[0]}var $e,rt;return ve},E.prototype._insert=function(pe,ve,de){var J=de?pe:this.toBBox(pe),te=[],be=this._chooseSubtree(J,this.data,ve,te);for(be.children.push(pe),R(be,J);ve>=0&&te[ve].children.length>this._maxEntries;)this._split(te,ve),ve--;this._adjustParentBBoxes(J,te,ve)},E.prototype._split=function(pe,ve){var de=pe[ve],J=de.children.length,te=this._minEntries;this._chooseSplitAxis(de,te,J);var be=this._chooseSplitIndex(de,te,J),ee=Ie(de.children.splice(be,de.children.length-be));ee.height=de.height,ee.leaf=de.leaf,p(de,this.toBBox),p(ee,this.toBBox),ve?pe[ve-1].children.push(ee):this._splitRoot(de,ee)},E.prototype._splitRoot=function(pe,ve){this.data=Ie([pe,ve]),this.data.height=pe.height+1,this.data.leaf=!1,p(this.data,this.toBBox)},E.prototype._chooseSplitIndex=function(pe,ve,de){for(var J,te,be,ee,ae,ne,se,st=1/0,$e=1/0,rt=ve;rt<=de-ve;rt++){var Te=O(pe,0,rt,this.toBBox),ht=O(pe,rt,de,this.toBBox),tt=(te=Te,be=ht,void 0,void 0,void 0,void 0,ee=Math.max(te.minX,be.minX),ae=Math.max(te.minY,be.minY),ne=Math.min(te.maxX,be.maxX),se=Math.min(te.maxY,be.maxY),Math.max(0,ne-ee)*Math.max(0,se-ae)),He=ie(Te)+ie(ht);tt<st?(st=tt,J=rt,$e=He<$e?He:$e):tt===st&&He<$e&&($e=He,J=rt)}return J||de-ve},E.prototype._chooseSplitAxis=function(pe,ve,de){var J=pe.leaf?this.compareMinX:H,te=pe.leaf?this.compareMinY:G;this._allDistMargin(pe,ve,de,J)<this._allDistMargin(pe,ve,de,te)&&pe.children.sort(J)},E.prototype._allDistMargin=function(pe,ve,de,J){pe.children.sort(J);for(var te=this.toBBox,be=O(pe,0,ve,te),ee=O(pe,de-ve,de,te),ae=Ee(be)+Ee(ee),ne=ve;ne<de-ve;ne++){var se=pe.children[ne];R(be,pe.leaf?te(se):se),ae+=Ee(be)}for(var st=de-ve-1;st>=ve;st--){var $e=pe.children[st];R(ee,pe.leaf?te($e):$e),ae+=Ee(ee)}return ae},E.prototype._adjustParentBBoxes=function(pe,ve,de){for(var J=de;J>=0;J--)R(ve[J],pe)},E.prototype._condense=function(pe){for(var ve=pe.length-1,de=void 0;ve>=0;ve--)0===pe[ve].children.length?ve>0?(de=pe[ve-1].children).splice(de.indexOf(pe[ve]),1):this.clear():p(pe[ve],this.toBBox)},E}()},3970:(pt,Ze,X)=>{var B=X(7809),E=X(8147),z=X(314),p=X(4720),O=X(1139),R=X(2365),H=Date.prototype.getTime;function ie(Pe){return null==Pe}function Ee(Pe){return!(!Pe||"object"!=typeof Pe||"number"!=typeof Pe.length||"function"!=typeof Pe.copy||"function"!=typeof Pe.slice||Pe.length>0&&"number"!=typeof Pe[0])}pt.exports=function G(Pe,Ie,it){var pe=it||{};return!!(pe.strict?z(Pe,Ie):Pe===Ie)||(!Pe||!Ie||"object"!=typeof Pe&&"object"!=typeof Ie?pe.strict?z(Pe,Ie):Pe==Ie:function he(Pe,Ie,it){var pe,ve;if(typeof Pe!=typeof Ie||ie(Pe)||ie(Ie)||Pe.prototype!==Ie.prototype||E(Pe)!==E(Ie))return!1;var de=p(Pe),J=p(Ie);if(de!==J)return!1;if(de||J)return Pe.source===Ie.source&&O(Pe)===O(Ie);if(R(Pe)&&R(Ie))return H.call(Pe)===H.call(Ie);var te=Ee(Pe),be=Ee(Ie);if(te!==be)return!1;if(te||be){if(Pe.length!==Ie.length)return!1;for(pe=0;pe<Pe.length;pe++)if(Pe[pe]!==Ie[pe])return!1;return!0}if(typeof Pe!=typeof Ie)return!1;try{var ee=B(Pe),ae=B(Ie)}catch{return!1}if(ee.length!==ae.length)return!1;for(ee.sort(),ae.sort(),pe=ee.length-1;pe>=0;pe--)if(ee[pe]!=ae[pe])return!1;for(pe=ee.length-1;pe>=0;pe--)if(!G(Pe[ve=ee[pe]],Ie[ve],it))return!1;return!0}(Pe,Ie,pe))}},9224:(pt,Ze,X)=>{"use strict";var B=X(474),E=X(4203),z=X(5223),p=X(9262);pt.exports=function(R,H,G){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new z("`obj` must be an object or a function`");if("string"!=typeof H&&"symbol"!=typeof H)throw new z("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new z("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new z("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new z("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new z("`loose`, if provided, must be a boolean");var ie=arguments.length>3?arguments[3]:null,Ee=arguments.length>4?arguments[4]:null,he=arguments.length>5?arguments[5]:null,Pe=arguments.length>6&&arguments[6],Ie=!!p&&p(R,H);if(B)B(R,H,{configurable:null===he&&Ie?Ie.configurable:!he,enumerable:null===ie&&Ie?Ie.enumerable:!ie,value:G,writable:null===Ee&&Ie?Ie.writable:!Ee});else{if(!Pe&&(ie||Ee||he))throw new E("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");R[H]=G}}},1648:(pt,Ze,X)=>{"use strict";var B=X(7809),E="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),z=Object.prototype.toString,p=Array.prototype.concat,O=X(9224),H=X(2486)(),G=function(Ee,he,Pe,Ie){if(he in Ee)if(!0===Ie){if(Ee[he]===Pe)return}else if(!function(Ee){return"function"==typeof Ee&&"[object Function]"===z.call(Ee)}(Ie)||!Ie())return;H?O(Ee,he,Pe,!0):O(Ee,he,Pe)},ie=function(Ee,he){var Pe=arguments.length>2?arguments[2]:{},Ie=B(he);E&&(Ie=p.call(Ie,Object.getOwnPropertySymbols(he)));for(var it=0;it<Ie.length;it+=1)G(Ee,Ie[it],he[Ie[it]],Pe[Ie[it]])};ie.supportsDescriptors=!!H,pt.exports=ie},7649:pt=>{function Ze(X,B,E,z){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(X,B,E,z)}Ze.prototype.run=function(X,B,E,z){this._init(X,B,E,z);for(var p=0;p<this._datasetLength;p++)if(1!==this._visited[p]){this._visited[p]=1;var O=this._regionQuery(p);if(O.length<this.minPts)this.noise.push(p);else{var R=this.clusters.length;this.clusters.push([]),this._addToCluster(p,R),this._expandCluster(R,O)}}return this.clusters},Ze.prototype._init=function(X,B,E,z){if(X){if(!(X instanceof Array))throw Error("Dataset must be of type array, "+typeof X+" given");this.dataset=X,this.clusters=[],this.noise=[],this._datasetLength=X.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}B&&(this.epsilon=B),E&&(this.minPts=E),z&&(this.distance=z)},Ze.prototype._expandCluster=function(X,B){for(var E=0;E<B.length;E++){var z=B[E];if(1!==this._visited[z]){this._visited[z]=1;var p=this._regionQuery(z);p.length>=this.minPts&&(B=this._mergeArrays(B,p))}1!==this._assigned[z]&&this._addToCluster(z,X)}},Ze.prototype._addToCluster=function(X,B){this.clusters[B].push(X),this._assigned[X]=1},Ze.prototype._regionQuery=function(X){for(var B=[],E=0;E<this._datasetLength;E++)this.distance(this.dataset[X],this.dataset[E])<this.epsilon&&B.push(E);return B},Ze.prototype._mergeArrays=function(X,B){for(var E=B.length,z=0;z<E;z++){var p=B[z];X.indexOf(p)<0&&X.push(p)}return X},Ze.prototype._euclideanDistance=function(X,B){for(var E=0,z=Math.min(X.length,B.length);z--;)E+=(X[z]-B[z])*(X[z]-B[z]);return Math.sqrt(E)},pt.exports&&(pt.exports=Ze)},442:pt=>{function Ze(X,B,E){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(X,B,E)}Ze.prototype.init=function(X,B,E){this.assignments=[],this.centroids=[],typeof X<"u"&&(this.dataset=X),typeof B<"u"&&(this.k=B),typeof E<"u"&&(this.distance=E)},Ze.prototype.run=function(X,B){this.init(X,B);for(var E=this.dataset.length,z=0;z<this.k;z++)this.centroids[z]=this.randomCentroid();for(var p=!0;p;){p=this.assign();for(var O=0;O<this.k;O++){for(var R=new Array(Ee),H=0,G=0;G<Ee;G++)R[G]=0;for(var ie=0;ie<E;ie++){var Ee=this.dataset[ie].length;if(O===this.assignments[ie]){for(G=0;G<Ee;G++)R[G]+=this.dataset[ie][G];H++}}if(H>0){for(G=0;G<Ee;G++)R[G]/=H;this.centroids[O]=R}else this.centroids[O]=this.randomCentroid(),p=!0}}return this.getClusters()},Ze.prototype.randomCentroid=function(){var B,E,X=this.dataset.length-1;do{E=Math.round(Math.random()*X),B=this.dataset[E]}while(this.centroids.indexOf(B)>=0);return B},Ze.prototype.assign=function(){for(var E,X=!1,B=this.dataset.length,z=0;z<B;z++)(E=this.argmin(this.dataset[z],this.centroids,this.distance))!=this.assignments[z]&&(this.assignments[z]=E,X=!0);return X},Ze.prototype.getClusters=function(){for(var B,X=new Array(this.k),E=0;E<this.assignments.length;E++)typeof X[B=this.assignments[E]]>"u"&&(X[B]=[]),X[B].push(E);return X},Ze.prototype.argmin=function(X,B,E){for(var R,z=Number.MAX_VALUE,p=0,O=B.length,H=0;H<O;H++)(R=E(X,B[H]))<z&&(z=R,p=H);return p},Ze.prototype.distance=function(X,B){for(var E=0,z=Math.min(X.length,B.length);z--;){var p=X[z]-B[z];E+=p*p}return Math.sqrt(E)},pt.exports&&(pt.exports=Ze)},2195:(pt,Ze,X)=>{if(pt.exports)var B=X(6216);function E(z,p,O,R){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(z,p,O,R)}E.prototype.run=function(z,p,O,R){this._init(z,p,O,R);for(var H=0,G=this.dataset.length;H<G;H++)if(1!==this._processed[H]){this._processed[H]=1,this.clusters.push([H]);var ie=this.clusters.length-1;this._orderedList.push(H);var Ee=new B(null,null,"asc"),he=this._regionQuery(H);void 0!==this._distanceToCore(H)&&(this._updateQueue(H,he,Ee),this._expandCluster(ie,Ee))}return this.clusters},E.prototype.getReachabilityPlot=function(){for(var z=[],p=0,O=this._orderedList.length;p<O;p++){var R=this._orderedList[p];z.push([R,this._reachability[R]])}return z},E.prototype._init=function(z,p,O,R){if(z){if(!(z instanceof Array))throw Error("Dataset must be of type array, "+typeof z+" given");this.dataset=z,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}p&&(this.epsilon=p),O&&(this.minPts=O),R&&(this.distance=R)},E.prototype._updateQueue=function(z,p,O){var R=this;this._coreDistance=this._distanceToCore(z),p.forEach(function(H){if(void 0===R._processed[H]){var G=R.distance(R.dataset[z],R.dataset[H]),ie=Math.max(R._coreDistance,G);void 0===R._reachability[H]?(R._reachability[H]=ie,O.insert(H,ie)):ie<R._reachability[H]&&(R._reachability[H]=ie,O.remove(H),O.insert(H,ie))}})},E.prototype._expandCluster=function(z,p){for(var O=p.getElements(),R=0,H=O.length;R<H;R++){var G=O[R];if(void 0===this._processed[G]){var ie=this._regionQuery(G);this._processed[G]=1,this.clusters[z].push(G),this._orderedList.push(G),void 0!==this._distanceToCore(G)&&(this._updateQueue(G,ie,p),this._expandCluster(z,p))}}},E.prototype._distanceToCore=function(z){for(var p=this.epsilon,O=0;O<p;O++)if(this._regionQuery(z,O).length>=this.minPts)return O},E.prototype._regionQuery=function(z,p){p=p||this.epsilon;for(var O=[],R=0,H=this.dataset.length;R<H;R++)this.distance(this.dataset[z],this.dataset[R])<p&&O.push(R);return O},E.prototype._euclideanDistance=function(z,p){for(var O=0,R=Math.min(z.length,p.length);R--;)O+=(z[R]-p[R])*(z[R]-p[R]);return Math.sqrt(O)},pt.exports&&(pt.exports=E)},6216:pt=>{function Ze(X,B,E){this._queue=[],this._priorities=[],this._sorting="desc",this._init(X,B,E)}Ze.prototype.insert=function(X,B){for(var E=this._queue.length,z=E;z--;){var p=this._priorities[z];"desc"===this._sorting?B>p&&(E=z):B<p&&(E=z)}this._insertAt(X,B,E)},Ze.prototype.remove=function(X){for(var B=this._queue.length;B--;)if(X===this._queue[B]){this._queue.splice(B,1),this._priorities.splice(B,1);break}},Ze.prototype.forEach=function(X){this._queue.forEach(X)},Ze.prototype.getElements=function(){return this._queue},Ze.prototype.getElementPriority=function(X){return this._priorities[X]},Ze.prototype.getPriorities=function(){return this._priorities},Ze.prototype.getElementsWithPriorities=function(){for(var X=[],B=0,E=this._queue.length;B<E;B++)X.push([this._queue[B],this._priorities[B]]);return X},Ze.prototype._init=function(X,B,E){if(X&&B){if(this._queue=[],this._priorities=[],X.length!==B.length)throw new Error("Arrays must have the same length");for(var z=0;z<X.length;z++)this.insert(X[z],B[z])}E&&(this._sorting=E)},Ze.prototype._insertAt=function(X,B,E){this._queue.length===E?(this._queue.push(X),this._priorities.push(B)):(this._queue.splice(E,0,X),this._priorities.splice(E,0,B))},pt.exports&&(pt.exports=Ze)},3367:(pt,Ze,X)=>{pt.exports&&(pt.exports={DBSCAN:X(7649),KMEANS:X(442),OPTICS:X(2195),PriorityQueue:X(6216)})},9145:pt=>{"use strict";function Ze(He,_t,et){et=et||2;var Ve,Yt,Ct,bn,fn,kn,un,Xe=_t&&_t.length,De=Xe?_t[0]*et:He.length,le=X(He,0,De,et,!0),ze=[];if(!le||le.next===le.prev)return ze;if(Xe&&(le=function H(He,_t,et,Xe){var le,ze,Ct,De=[];for(le=0,ze=_t.length;le<ze;le++)(Ct=X(He,_t[le]*Xe,le<ze-1?_t[le+1]*Xe:He.length,Xe,!1))===Ct.next&&(Ct.steiner=!0),De.push(pe(Ct));for(De.sort(G),le=0;le<De.length;le++)et=ie(De[le],et);return et}(He,_t,le,et)),He.length>80*et){Ve=Ct=He[0],Yt=bn=He[1];for(var Xn=et;Xn<De;Xn+=et)(fn=He[Xn])<Ve&&(Ve=fn),(kn=He[Xn+1])<Yt&&(Yt=kn),fn>Ct&&(Ct=fn),kn>bn&&(bn=kn);un=0!==(un=Math.max(Ct-Ve,bn-Yt))?32767/un:0}return E(le,ze,et,Ve,Yt,un,0),ze}function X(He,_t,et,Xe,De){var le,ze;if(De===tt(He,_t,et,Xe)>0)for(le=_t;le<et;le+=Xe)ze=rt(le,He[le],He[le+1],ze);else for(le=et-Xe;le>=_t;le-=Xe)ze=rt(le,He[le],He[le+1],ze);return ze&&te(ze,ze.next)&&(Te(ze),ze=ze.next),ze}function B(He,_t){if(!He)return He;_t||(_t=He);var Xe,et=He;do{if(Xe=!1,et.steiner||!te(et,et.next)&&0!==J(et.prev,et,et.next))et=et.next;else{if(Te(et),(et=_t=et.prev)===et.next)break;Xe=!0}}while(Xe||et!==_t);return _t}function E(He,_t,et,Xe,De,le,ze){if(He){!ze&&le&&function Pe(He,_t,et,Xe){var De=He;do{0===De.z&&(De.z=it(De.x,De.y,_t,et,Xe)),De.prevZ=De.prev,De.nextZ=De.next,De=De.next}while(De!==He);De.prevZ.nextZ=null,De.prevZ=null,function Ie(He){var _t,et,Xe,De,le,ze,Ve,Yt,Ct=1;do{for(et=He,He=null,le=null,ze=0;et;){for(ze++,Xe=et,Ve=0,_t=0;_t<Ct&&(Ve++,Xe=Xe.nextZ);_t++);for(Yt=Ct;Ve>0||Yt>0&&Xe;)0!==Ve&&(0===Yt||!Xe||et.z<=Xe.z)?(De=et,et=et.nextZ,Ve--):(De=Xe,Xe=Xe.nextZ,Yt--),le?le.nextZ=De:He=De,De.prevZ=le,le=De;et=Xe}le.nextZ=null,Ct*=2}while(ze>1)}(De)}(He,Xe,De,le);for(var Yt,Ct,Ve=He;He.prev!==He.next;)if(Yt=He.prev,Ct=He.next,le?p(He,Xe,De,le):z(He))_t.push(Yt.i/et|0),_t.push(He.i/et|0),_t.push(Ct.i/et|0),Te(He),He=Ct.next,Ve=Ct.next;else if((He=Ct)===Ve){ze?1===ze?E(He=O(B(He),_t,et),_t,et,Xe,De,le,2):2===ze&&R(He,_t,et,Xe,De,le):E(B(He),_t,et,Xe,De,le,1);break}}}function z(He){var _t=He.prev,et=He,Xe=He.next;if(J(_t,et,Xe)>=0)return!1;for(var De=_t.x,le=et.x,ze=Xe.x,Ve=_t.y,Yt=et.y,Ct=Xe.y,bn=De<le?De<ze?De:ze:le<ze?le:ze,fn=Ve<Yt?Ve<Ct?Ve:Ct:Yt<Ct?Yt:Ct,kn=De>le?De>ze?De:ze:le>ze?le:ze,un=Ve>Yt?Ve>Ct?Ve:Ct:Yt>Ct?Yt:Ct,Xn=Xe.next;Xn!==_t;){if(Xn.x>=bn&&Xn.x<=kn&&Xn.y>=fn&&Xn.y<=un&&ve(De,Ve,le,Yt,ze,Ct,Xn.x,Xn.y)&&J(Xn.prev,Xn,Xn.next)>=0)return!1;Xn=Xn.next}return!0}function p(He,_t,et,Xe){var De=He.prev,le=He,ze=He.next;if(J(De,le,ze)>=0)return!1;for(var Ve=De.x,Yt=le.x,Ct=ze.x,bn=De.y,fn=le.y,kn=ze.y,un=Ve<Yt?Ve<Ct?Ve:Ct:Yt<Ct?Yt:Ct,Xn=bn<fn?bn<kn?bn:kn:fn<kn?fn:kn,Rn=Ve>Yt?Ve>Ct?Ve:Ct:Yt>Ct?Yt:Ct,dr=bn>fn?bn>kn?bn:kn:fn>kn?fn:kn,Xr=it(un,Xn,_t,et,Xe),Ln=it(Rn,dr,_t,et,Xe),ir=He.prevZ,xr=He.nextZ;ir&&ir.z>=Xr&&xr&&xr.z<=Ln;){if(ir.x>=un&&ir.x<=Rn&&ir.y>=Xn&&ir.y<=dr&&ir!==De&&ir!==ze&&ve(Ve,bn,Yt,fn,Ct,kn,ir.x,ir.y)&&J(ir.prev,ir,ir.next)>=0||(ir=ir.prevZ,xr.x>=un&&xr.x<=Rn&&xr.y>=Xn&&xr.y<=dr&&xr!==De&&xr!==ze&&ve(Ve,bn,Yt,fn,Ct,kn,xr.x,xr.y)&&J(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;ir&&ir.z>=Xr;){if(ir.x>=un&&ir.x<=Rn&&ir.y>=Xn&&ir.y<=dr&&ir!==De&&ir!==ze&&ve(Ve,bn,Yt,fn,Ct,kn,ir.x,ir.y)&&J(ir.prev,ir,ir.next)>=0)return!1;ir=ir.prevZ}for(;xr&&xr.z<=Ln;){if(xr.x>=un&&xr.x<=Rn&&xr.y>=Xn&&xr.y<=dr&&xr!==De&&xr!==ze&&ve(Ve,bn,Yt,fn,Ct,kn,xr.x,xr.y)&&J(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function O(He,_t,et){var Xe=He;do{var De=Xe.prev,le=Xe.next.next;!te(De,le)&&be(De,Xe,Xe.next,le)&&se(De,le)&&se(le,De)&&(_t.push(De.i/et|0),_t.push(Xe.i/et|0),_t.push(le.i/et|0),Te(Xe),Te(Xe.next),Xe=He=le),Xe=Xe.next}while(Xe!==He);return B(Xe)}function R(He,_t,et,Xe,De,le){var ze=He;do{for(var Ve=ze.next.next;Ve!==ze.prev;){if(ze.i!==Ve.i&&de(ze,Ve)){var Yt=$e(ze,Ve);return ze=B(ze,ze.next),Yt=B(Yt,Yt.next),E(ze,_t,et,Xe,De,le,0),void E(Yt,_t,et,Xe,De,le,0)}Ve=Ve.next}ze=ze.next}while(ze!==He)}function G(He,_t){return He.x-_t.x}function ie(He,_t){var et=function Ee(He,_t){var ze,et=_t,Xe=He.x,De=He.y,le=-1/0;do{if(De<=et.y&&De>=et.next.y&&et.next.y!==et.y){var Ve=et.x+(De-et.y)*(et.next.x-et.x)/(et.next.y-et.y);if(Ve<=Xe&&Ve>le&&(le=Ve,ze=et.x<et.next.x?et:et.next,Ve===Xe))return ze}et=et.next}while(et!==_t);if(!ze)return null;var kn,Yt=ze,Ct=ze.x,bn=ze.y,fn=1/0;et=ze;do{Xe>=et.x&&et.x>=Ct&&Xe!==et.x&&ve(De<bn?Xe:le,De,Ct,bn,De<bn?le:Xe,De,et.x,et.y)&&(kn=Math.abs(De-et.y)/(Xe-et.x),se(et,He)&&(kn<fn||kn===fn&&(et.x>ze.x||et.x===ze.x&&he(ze,et)))&&(ze=et,fn=kn)),et=et.next}while(et!==Yt);return ze}(He,_t);if(!et)return _t;var Xe=$e(et,He);return B(Xe,Xe.next),B(et,et.next)}function he(He,_t){return J(He.prev,He,_t.prev)<0&&J(_t.next,He,He.next)<0}function it(He,_t,et,Xe,De){return(He=1431655765&((He=858993459&((He=252645135&((He=16711935&((He=(He-et)*De|0)|He<<8))|He<<4))|He<<2))|He<<1))|(_t=1431655765&((_t=858993459&((_t=252645135&((_t=16711935&((_t=(_t-Xe)*De|0)|_t<<8))|_t<<4))|_t<<2))|_t<<1))<<1}function pe(He){var _t=He,et=He;do{(_t.x<et.x||_t.x===et.x&&_t.y<et.y)&&(et=_t),_t=_t.next}while(_t!==He);return et}function ve(He,_t,et,Xe,De,le,ze,Ve){return(De-ze)*(_t-Ve)>=(He-ze)*(le-Ve)&&(He-ze)*(Xe-Ve)>=(et-ze)*(_t-Ve)&&(et-ze)*(le-Ve)>=(De-ze)*(Xe-Ve)}function de(He,_t){return He.next.i!==_t.i&&He.prev.i!==_t.i&&!function ne(He,_t){var et=He;do{if(et.i!==He.i&&et.next.i!==He.i&&et.i!==_t.i&&et.next.i!==_t.i&&be(et,et.next,He,_t))return!0;et=et.next}while(et!==He);return!1}(He,_t)&&(se(He,_t)&&se(_t,He)&&function st(He,_t){var et=He,Xe=!1,De=(He.x+_t.x)/2,le=(He.y+_t.y)/2;do{et.y>le!=et.next.y>le&&et.next.y!==et.y&&De<(et.next.x-et.x)*(le-et.y)/(et.next.y-et.y)+et.x&&(Xe=!Xe),et=et.next}while(et!==He);return Xe}(He,_t)&&(J(He.prev,He,_t.prev)||J(He,_t.prev,_t))||te(He,_t)&&J(He.prev,He,He.next)>0&&J(_t.prev,_t,_t.next)>0)}function J(He,_t,et){return(_t.y-He.y)*(et.x-_t.x)-(_t.x-He.x)*(et.y-_t.y)}function te(He,_t){return He.x===_t.x&&He.y===_t.y}function be(He,_t,et,Xe){var De=ae(J(He,_t,et)),le=ae(J(He,_t,Xe)),ze=ae(J(et,Xe,He)),Ve=ae(J(et,Xe,_t));return!!(De!==le&&ze!==Ve||0===De&&ee(He,et,_t)||0===le&&ee(He,Xe,_t)||0===ze&&ee(et,He,Xe)||0===Ve&&ee(et,_t,Xe))}function ee(He,_t,et){return _t.x<=Math.max(He.x,et.x)&&_t.x>=Math.min(He.x,et.x)&&_t.y<=Math.max(He.y,et.y)&&_t.y>=Math.min(He.y,et.y)}function ae(He){return He>0?1:He<0?-1:0}function se(He,_t){return J(He.prev,He,He.next)<0?J(He,_t,He.next)>=0&&J(He,He.prev,_t)>=0:J(He,_t,He.prev)<0||J(He,He.next,_t)<0}function $e(He,_t){var et=new ht(He.i,He.x,He.y),Xe=new ht(_t.i,_t.x,_t.y),De=He.next,le=_t.prev;return He.next=_t,_t.prev=He,et.next=De,De.prev=et,Xe.next=et,et.prev=Xe,le.next=Xe,Xe.prev=le,Xe}function rt(He,_t,et,Xe){var De=new ht(He,_t,et);return Xe?(De.next=Xe.next,De.prev=Xe,Xe.next.prev=De,Xe.next=De):(De.prev=De,De.next=De),De}function Te(He){He.next.prev=He.prev,He.prev.next=He.next,He.prevZ&&(He.prevZ.nextZ=He.nextZ),He.nextZ&&(He.nextZ.prevZ=He.prevZ)}function ht(He,_t,et){this.i=He,this.x=_t,this.y=et,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tt(He,_t,et,Xe){for(var De=0,le=_t,ze=et-Xe;le<et;le+=Xe)De+=(He[ze]-He[le])*(He[le+1]+He[ze+1]),ze=le;return De}pt.exports=Ze,pt.exports.default=Ze,Ze.deviation=function(He,_t,et,Xe){var De=_t&&_t.length,ze=Math.abs(tt(He,0,De?_t[0]*et:He.length,et));if(De)for(var Ve=0,Yt=_t.length;Ve<Yt;Ve++)ze-=Math.abs(tt(He,_t[Ve]*et,Ve<Yt-1?_t[Ve+1]*et:He.length,et));var fn=0;for(Ve=0;Ve<Xe.length;Ve+=3){var kn=Xe[Ve]*et,un=Xe[Ve+1]*et,Xn=Xe[Ve+2]*et;fn+=Math.abs((He[kn]-He[Xn])*(He[un+1]-He[kn+1])-(He[kn]-He[un])*(He[Xn+1]-He[kn+1]))}return 0===ze&&0===fn?0:Math.abs((fn-ze)/ze)},Ze.flatten=function(He){for(var _t=He[0][0].length,et={vertices:[],holes:[],dimensions:_t},Xe=0,De=0;De<He.length;De++){for(var le=0;le<He[De].length;le++)for(var ze=0;ze<_t;ze++)et.vertices.push(He[De][le][ze]);De>0&&et.holes.push(Xe+=He[De-1].length)}return et}},474:(pt,Ze,X)=>{"use strict";var E=X(491)("%Object.defineProperty%",!0)||!1;if(E)try{E({},"a",{value:1})}catch{E=!1}pt.exports=E},4500:pt=>{"use strict";pt.exports=EvalError},2050:pt=>{"use strict";pt.exports=Error},2992:pt=>{"use strict";pt.exports=RangeError},3944:pt=>{"use strict";pt.exports=ReferenceError},4203:pt=>{"use strict";pt.exports=SyntaxError},5223:pt=>{"use strict";pt.exports=TypeError},6130:pt=>{"use strict";pt.exports=URIError},8660:(pt,Ze,X)=>{"use strict";const B=X(8313),E=X(6786),z=X(3612);pt.exports={XMLParser:E,XMLValidator:B,XMLBuilder:z}},5206:(pt,Ze)=>{"use strict";const X=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",E="["+X+"]["+X+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",z=new RegExp("^"+E+"$");Ze.isExist=function(R){return typeof R<"u"},Ze.isEmptyObject=function(R){return 0===Object.keys(R).length},Ze.merge=function(R,H,G){if(H){const ie=Object.keys(H),Ee=ie.length;for(let he=0;he<Ee;he++)R[ie[he]]="strict"===G?[H[ie[he]]]:H[ie[he]]}},Ze.getValue=function(R){return Ze.isExist(R)?R:""},Ze.isName=function(R){const H=z.exec(R);return!(null===H||typeof H>"u")},Ze.getAllMatches=function(R,H){const G=[];let ie=H.exec(R);for(;ie;){const Ee=[];Ee.startIndex=H.lastIndex-ie[0].length;const he=ie.length;for(let Pe=0;Pe<he;Pe++)Ee.push(ie[Pe]);G.push(Ee),ie=H.exec(R)}return G},Ze.nameRegexp=E},8313:(pt,Ze,X)=>{"use strict";const B=X(5206),E={allowBooleanAttributes:!1,unpairedTags:[]};function z(J){return" "===J||"\t"===J||"\n"===J||"\r"===J}function p(J,te){const be=te;for(;te<J.length;te++)if("?"==J[te]||" "==J[te]){const ee=J.substr(be,te-be);if(te>5&&"xml"===ee)return Ie("InvalidXml","XML declaration allowed only at the start of the document.",ve(J,te));if("?"==J[te]&&">"==J[te+1]){te++;break}continue}return te}function O(J,te){if(J.length>te+5&&"-"===J[te+1]&&"-"===J[te+2]){for(te+=3;te<J.length;te++)if("-"===J[te]&&"-"===J[te+1]&&">"===J[te+2]){te+=2;break}}else if(J.length>te+8&&"D"===J[te+1]&&"O"===J[te+2]&&"C"===J[te+3]&&"T"===J[te+4]&&"Y"===J[te+5]&&"P"===J[te+6]&&"E"===J[te+7]){let be=1;for(te+=8;te<J.length;te++)if("<"===J[te])be++;else if(">"===J[te]&&(be--,0===be))break}else if(J.length>te+9&&"["===J[te+1]&&"C"===J[te+2]&&"D"===J[te+3]&&"A"===J[te+4]&&"T"===J[te+5]&&"A"===J[te+6]&&"["===J[te+7])for(te+=8;te<J.length;te++)if("]"===J[te]&&"]"===J[te+1]&&">"===J[te+2]){te+=2;break}return te}Ze.validate=function(J,te){te=Object.assign({},E,te);const be=[];let ee=!1,ae=!1;"\ufeff"===J[0]&&(J=J.substr(1));for(let ne=0;ne<J.length;ne++)if("<"===J[ne]&&"?"===J[ne+1]){if(ne+=2,ne=p(J,ne),ne.err)return ne}else{if("<"!==J[ne]){if(z(J[ne]))continue;return Ie("InvalidChar","char '"+J[ne]+"' is not expected.",ve(J,ne))}{let se=ne;if(ne++,"!"===J[ne]){ne=O(J,ne);continue}{let st=!1;"/"===J[ne]&&(st=!0,ne++);let $e="";for(;ne<J.length&&">"!==J[ne]&&" "!==J[ne]&&"\t"!==J[ne]&&"\n"!==J[ne]&&"\r"!==J[ne];ne++)$e+=J[ne];if($e=$e.trim(),"/"===$e[$e.length-1]&&($e=$e.substring(0,$e.length-1),ne--),!pe($e)){let ht;return ht=0===$e.trim().length?"Invalid space after '<'.":"Tag '"+$e+"' is an invalid name.",Ie("InvalidTag",ht,ve(J,ne))}const rt=G(J,ne);if(!1===rt)return Ie("InvalidAttr","Attributes for '"+$e+"' have open quote.",ve(J,ne));let Te=rt.value;if(ne=rt.index,"/"===Te[Te.length-1]){const ht=ne-Te.length;Te=Te.substring(0,Te.length-1);const tt=Ee(Te,te);if(!0!==tt)return Ie(tt.err.code,tt.err.msg,ve(J,ht+tt.err.line));ee=!0}else if(st){if(!rt.tagClosed)return Ie("InvalidTag","Closing tag '"+$e+"' doesn't have proper closing.",ve(J,ne));if(Te.trim().length>0)return Ie("InvalidTag","Closing tag '"+$e+"' can't have attributes or invalid starting.",ve(J,se));if(0===be.length)return Ie("InvalidTag","Closing tag '"+$e+"' has not been opened.",ve(J,se));{const ht=be.pop();if($e!==ht.tagName){let tt=ve(J,ht.tagStartPos);return Ie("InvalidTag","Expected closing tag '"+ht.tagName+"' (opened in line "+tt.line+", col "+tt.col+") instead of closing tag '"+$e+"'.",ve(J,se))}0==be.length&&(ae=!0)}}else{const ht=Ee(Te,te);if(!0!==ht)return Ie(ht.err.code,ht.err.msg,ve(J,ne-Te.length+ht.err.line));if(!0===ae)return Ie("InvalidXml","Multiple possible root nodes found.",ve(J,ne));-1!==te.unpairedTags.indexOf($e)||be.push({tagName:$e,tagStartPos:se}),ee=!0}for(ne++;ne<J.length;ne++)if("<"===J[ne]){if("!"===J[ne+1]){ne++,ne=O(J,ne);continue}if("?"!==J[ne+1])break;if(ne=p(J,++ne),ne.err)return ne}else if("&"===J[ne]){const ht=Pe(J,ne);if(-1==ht)return Ie("InvalidChar","char '&' is not expected.",ve(J,ne));ne=ht}else if(!0===ae&&!z(J[ne]))return Ie("InvalidXml","Extra text at the end",ve(J,ne));"<"===J[ne]&&ne--}}}return ee?1==be.length?Ie("InvalidTag","Unclosed tag '"+be[0].tagName+"'.",ve(J,be[0].tagStartPos)):!(be.length>0)||Ie("InvalidXml","Invalid '"+JSON.stringify(be.map(ne=>ne.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):Ie("InvalidXml","Start tag expected.",1)};const R='"',H="'";function G(J,te){let be="",ee="",ae=!1;for(;te<J.length;te++){if(J[te]===R||J[te]===H)""===ee?ee=J[te]:ee!==J[te]||(ee="");else if(">"===J[te]&&""===ee){ae=!0;break}be+=J[te]}return""===ee&&{value:be,index:te,tagClosed:ae}}const ie=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function Ee(J,te){const be=B.getAllMatches(J,ie),ee={};for(let ae=0;ae<be.length;ae++){if(0===be[ae][1].length)return Ie("InvalidAttr","Attribute '"+be[ae][2]+"' has no space in starting.",de(be[ae]));if(void 0!==be[ae][3]&&void 0===be[ae][4])return Ie("InvalidAttr","Attribute '"+be[ae][2]+"' is without value.",de(be[ae]));if(void 0===be[ae][3]&&!te.allowBooleanAttributes)return Ie("InvalidAttr","boolean attribute '"+be[ae][2]+"' is not allowed.",de(be[ae]));const ne=be[ae][2];if(!it(ne))return Ie("InvalidAttr","Attribute '"+ne+"' is an invalid name.",de(be[ae]));if(ee.hasOwnProperty(ne))return Ie("InvalidAttr","Attribute '"+ne+"' is repeated.",de(be[ae]));ee[ne]=1}return!0}function Pe(J,te){if(";"===J[++te])return-1;if("#"===J[te])return function he(J,te){let be=/\d/;for("x"===J[te]&&(te++,be=/[\da-fA-F]/);te<J.length;te++){if(";"===J[te])return te;if(!J[te].match(be))break}return-1}(J,++te);let be=0;for(;te<J.length;te++,be++)if(!(J[te].match(/\w/)&&be<20)){if(";"===J[te])break;return-1}return te}function Ie(J,te,be){return{err:{code:J,msg:te,line:be.line||be,col:be.col}}}function it(J){return B.isName(J)}function pe(J){return B.isName(J)}function ve(J,te){const be=J.substring(0,te).split(/\r?\n/);return{line:be.length,col:be[be.length-1].length+1}}function de(J){return J.startIndex+J[1].length}},3612:(pt,Ze,X)=>{"use strict";const B=X(4289),E={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(G,ie){return ie},attributeValueProcessor:function(G,ie){return ie},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function z(G){this.options=Object.assign({},E,G),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=H),this.processTextOrObjNode=p,this.options.format?(this.indentate=R,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function p(G,ie,Ee){const he=this.j2x(G,Ee+1);return void 0!==G[this.options.textNodeName]&&1===Object.keys(G).length?this.buildTextValNode(G[this.options.textNodeName],ie,he.attrStr,Ee):this.buildObjectNode(he.val,ie,he.attrStr,Ee)}function R(G){return this.options.indentBy.repeat(G)}function H(G){return!(!G.startsWith(this.options.attributeNamePrefix)||G===this.options.textNodeName)&&G.substr(this.attrPrefixLen)}z.prototype.build=function(G){return this.options.preserveOrder?B(G,this.options):(Array.isArray(G)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(G={[this.options.arrayNodeName]:G}),this.j2x(G,0).val)},z.prototype.j2x=function(G,ie){let Ee="",he="";for(let Pe in G)if(Object.prototype.hasOwnProperty.call(G,Pe))if(typeof G[Pe]>"u")this.isAttribute(Pe)&&(he+="");else if(null===G[Pe])this.isAttribute(Pe)?he+="":he+="?"===Pe[0]?this.indentate(ie)+"<"+Pe+"?"+this.tagEndChar:this.indentate(ie)+"<"+Pe+"/"+this.tagEndChar;else if(G[Pe]instanceof Date)he+=this.buildTextValNode(G[Pe],Pe,"",ie);else if("object"!=typeof G[Pe]){const Ie=this.isAttribute(Pe);if(Ie)Ee+=this.buildAttrPairStr(Ie,""+G[Pe]);else if(Pe===this.options.textNodeName){let it=this.options.tagValueProcessor(Pe,""+G[Pe]);he+=this.replaceEntitiesValue(it)}else he+=this.buildTextValNode(G[Pe],Pe,"",ie)}else if(Array.isArray(G[Pe])){const Ie=G[Pe].length;let it="";for(let pe=0;pe<Ie;pe++){const ve=G[Pe][pe];typeof ve>"u"||(null===ve?he+="?"===Pe[0]?this.indentate(ie)+"<"+Pe+"?"+this.tagEndChar:this.indentate(ie)+"<"+Pe+"/"+this.tagEndChar:it+="object"==typeof ve?this.options.oneListGroup?this.j2x(ve,ie+1).val:this.processTextOrObjNode(ve,Pe,ie):this.buildTextValNode(ve,Pe,"",ie))}this.options.oneListGroup&&(it=this.buildObjectNode(it,Pe,"",ie)),he+=it}else if(this.options.attributesGroupName&&Pe===this.options.attributesGroupName){const Ie=Object.keys(G[Pe]),it=Ie.length;for(let pe=0;pe<it;pe++)Ee+=this.buildAttrPairStr(Ie[pe],""+G[Pe][Ie[pe]])}else he+=this.processTextOrObjNode(G[Pe],Pe,ie);return{attrStr:Ee,val:he}},z.prototype.buildAttrPairStr=function(G,ie){return ie=this.options.attributeValueProcessor(G,""+ie),ie=this.replaceEntitiesValue(ie),this.options.suppressBooleanAttributes&&"true"===ie?" "+G:" "+G+'="'+ie+'"'},z.prototype.buildObjectNode=function(G,ie,Ee,he){if(""===G)return"?"===ie[0]?this.indentate(he)+"<"+ie+Ee+"?"+this.tagEndChar:this.indentate(he)+"<"+ie+Ee+this.closeTag(ie)+this.tagEndChar;{let Pe="</"+ie+this.tagEndChar,Ie="";return"?"===ie[0]&&(Ie="?",Pe=""),!Ee&&""!==Ee||-1!==G.indexOf("<")?!1!==this.options.commentPropName&&ie===this.options.commentPropName&&0===Ie.length?this.indentate(he)+`\x3c!--${G}--\x3e`+this.newLine:this.indentate(he)+"<"+ie+Ee+Ie+this.tagEndChar+G+this.indentate(he)+Pe:this.indentate(he)+"<"+ie+Ee+Ie+">"+G+Pe}},z.prototype.closeTag=function(G){let ie="";return-1!==this.options.unpairedTags.indexOf(G)?this.options.suppressUnpairedNode||(ie="/"):ie=this.options.suppressEmptyNode?"/":`></${G}`,ie},z.prototype.buildTextValNode=function(G,ie,Ee,he){if(!1!==this.options.cdataPropName&&ie===this.options.cdataPropName)return this.indentate(he)+`<![CDATA[${G}]]>`+this.newLine;if(!1!==this.options.commentPropName&&ie===this.options.commentPropName)return this.indentate(he)+`\x3c!--${G}--\x3e`+this.newLine;if("?"===ie[0])return this.indentate(he)+"<"+ie+Ee+"?"+this.tagEndChar;{let Pe=this.options.tagValueProcessor(ie,G);return Pe=this.replaceEntitiesValue(Pe),""===Pe?this.indentate(he)+"<"+ie+Ee+this.closeTag(ie)+this.tagEndChar:this.indentate(he)+"<"+ie+Ee+">"+Pe+"</"+ie+this.tagEndChar}},z.prototype.replaceEntitiesValue=function(G){if(G&&G.length>0&&this.options.processEntities)for(let ie=0;ie<this.options.entities.length;ie++){const Ee=this.options.entities[ie];G=G.replace(Ee.regex,Ee.val)}return G},pt.exports=z},4289:pt=>{function B(R,H,G,ie){let Ee="",he=!1;for(let Pe=0;Pe<R.length;Pe++){const Ie=R[Pe],it=E(Ie);if(void 0===it)continue;let pe="";if(pe=0===G.length?it:`${G}.${it}`,it===H.textNodeName){let be=Ie[it];p(pe,H)||(be=H.tagValueProcessor(it,be),be=O(be,H)),he&&(Ee+=ie),Ee+=be,he=!1;continue}if(it===H.cdataPropName){he&&(Ee+=ie),Ee+=`<![CDATA[${Ie[it][0][H.textNodeName]}]]>`,he=!1;continue}if(it===H.commentPropName){Ee+=ie+`\x3c!--${Ie[it][0][H.textNodeName]}--\x3e`,he=!0;continue}if("?"===it[0]){const be=z(Ie[":@"],H);let ae=Ie[it][0][H.textNodeName];ae=0!==ae.length?" "+ae:"",Ee+=("?xml"===it?"":ie)+`<${it}${ae}${be}?>`,he=!0;continue}let ve=ie;""!==ve&&(ve+=H.indentBy);const J=ie+`<${it}${z(Ie[":@"],H)}`,te=B(Ie[it],H,pe,ve);-1!==H.unpairedTags.indexOf(it)?Ee+=H.suppressUnpairedNode?J+">":J+"/>":te&&0!==te.length||!H.suppressEmptyNode?te&&te.endsWith(">")?Ee+=J+`>${te}${ie}</${it}>`:(Ee+=J+">",te&&""!==ie&&(te.includes("/>")||te.includes("</"))?Ee+=ie+H.indentBy+te+ie:Ee+=te,Ee+=`</${it}>`):Ee+=J+"/>",he=!0}return Ee}function E(R){const H=Object.keys(R);for(let G=0;G<H.length;G++){const ie=H[G];if(R.hasOwnProperty(ie)&&":@"!==ie)return ie}}function z(R,H){let G="";if(R&&!H.ignoreAttributes)for(let ie in R){if(!R.hasOwnProperty(ie))continue;let Ee=H.attributeValueProcessor(ie,R[ie]);Ee=O(Ee,H),G+=!0===Ee&&H.suppressBooleanAttributes?` ${ie.substr(H.attributeNamePrefix.length)}`:` ${ie.substr(H.attributeNamePrefix.length)}="${Ee}"`}return G}function p(R,H){let G=(R=R.substr(0,R.length-H.textNodeName.length-1)).substr(R.lastIndexOf(".")+1);for(let ie in H.stopNodes)if(H.stopNodes[ie]===R||H.stopNodes[ie]==="*."+G)return!0;return!1}function O(R,H){if(R&&R.length>0&&H.processEntities)for(let G=0;G<H.entities.length;G++){const ie=H.entities[G];R=R.replace(ie.regex,ie.val)}return R}pt.exports=function X(R,H){let G="";return H.format&&H.indentBy.length>0&&(G="\n"),B(R,H,"",G)}},3271:(pt,Ze,X)=>{const B=X(5206);function z(Ee,he){let Pe="";for(;he<Ee.length&&"'"!==Ee[he]&&'"'!==Ee[he];he++)Pe+=Ee[he];if(Pe=Pe.trim(),-1!==Pe.indexOf(" "))throw new Error("External entites are not supported");const Ie=Ee[he++];let it="";for(;he<Ee.length&&Ee[he]!==Ie;he++)it+=Ee[he];return[Pe,it,he]}function p(Ee,he){return"!"===Ee[he+1]&&"-"===Ee[he+2]&&"-"===Ee[he+3]}function O(Ee,he){return"!"===Ee[he+1]&&"E"===Ee[he+2]&&"N"===Ee[he+3]&&"T"===Ee[he+4]&&"I"===Ee[he+5]&&"T"===Ee[he+6]&&"Y"===Ee[he+7]}function R(Ee,he){return"!"===Ee[he+1]&&"E"===Ee[he+2]&&"L"===Ee[he+3]&&"E"===Ee[he+4]&&"M"===Ee[he+5]&&"E"===Ee[he+6]&&"N"===Ee[he+7]&&"T"===Ee[he+8]}function H(Ee,he){return"!"===Ee[he+1]&&"A"===Ee[he+2]&&"T"===Ee[he+3]&&"T"===Ee[he+4]&&"L"===Ee[he+5]&&"I"===Ee[he+6]&&"S"===Ee[he+7]&&"T"===Ee[he+8]}function G(Ee,he){return"!"===Ee[he+1]&&"N"===Ee[he+2]&&"O"===Ee[he+3]&&"T"===Ee[he+4]&&"A"===Ee[he+5]&&"T"===Ee[he+6]&&"I"===Ee[he+7]&&"O"===Ee[he+8]&&"N"===Ee[he+9]}function ie(Ee){if(B.isName(Ee))return Ee;throw new Error(`Invalid entity name ${Ee}`)}pt.exports=function E(Ee,he){const Pe={};if("O"!==Ee[he+3]||"C"!==Ee[he+4]||"T"!==Ee[he+5]||"Y"!==Ee[he+6]||"P"!==Ee[he+7]||"E"!==Ee[he+8])throw new Error("Invalid Tag instead of DOCTYPE");{he+=9;let Ie=1,it=!1,pe=!1,ve="";for(;he<Ee.length;he++)if("<"!==Ee[he]||pe)if(">"===Ee[he]){if(pe?"-"===Ee[he-1]&&"-"===Ee[he-2]&&(pe=!1,Ie--):Ie--,0===Ie)break}else"["===Ee[he]?it=!0:ve+=Ee[he];else{if(it&&O(Ee,he))he+=7,[entityName,val,he]=z(Ee,he+1),-1===val.indexOf("&")&&(Pe[ie(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(it&&R(Ee,he))he+=8;else if(it&&H(Ee,he))he+=8;else if(it&&G(Ee,he))he+=9;else{if(!p)throw new Error("Invalid DOCTYPE");pe=!0}Ie++,ve=""}if(0!==Ie)throw new Error("Unclosed DOCTYPE")}return{entities:Pe,i:he}}},7635:(pt,Ze)=>{const X={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(E,z){return z},attributeValueProcessor:function(E,z){return z},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(E,z,p){return E}};Ze.buildOptions=function(E){return Object.assign({},X,E)},Ze.defaultOptions=X},208:(pt,Ze,X)=>{"use strict";const B=X(5206),E=X(5338),z=X(3271),p=X(6626);function R(ee){const ae=Object.keys(ee);for(let ne=0;ne<ae.length;ne++){const se=ae[ne];this.lastEntities[se]={regex:new RegExp("&"+se+";","g"),val:ee[se]}}}function H(ee,ae,ne,se,st,$e,rt){if(void 0!==ee&&(this.options.trimValues&&!se&&(ee=ee.trim()),ee.length>0)){rt||(ee=this.replaceEntitiesValue(ee));const Te=this.options.tagValueProcessor(ae,ee,ne,st,$e);return null==Te?ee:typeof Te!=typeof ee||Te!==ee?Te:this.options.trimValues||ee.trim()===ee?be(ee,this.options.parseTagValue,this.options.numberParseOptions):ee}}function G(ee){if(this.options.removeNSPrefix){const ae=ee.split(":"),ne="/"===ee.charAt(0)?"/":"";if("xmlns"===ae[0])return"";2===ae.length&&(ee=ne+ae[1])}return ee}const ie=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function Ee(ee,ae,ne){if(!this.options.ignoreAttributes&&"string"==typeof ee){const se=B.getAllMatches(ee,ie),st=se.length,$e={};for(let rt=0;rt<st;rt++){const Te=this.resolveNameSpace(se[rt][1]);let ht=se[rt][4],tt=this.options.attributeNamePrefix+Te;if(Te.length)if(this.options.transformAttributeName&&(tt=this.options.transformAttributeName(tt)),"__proto__"===tt&&(tt="#__proto__"),void 0!==ht){this.options.trimValues&&(ht=ht.trim()),ht=this.replaceEntitiesValue(ht);const He=this.options.attributeValueProcessor(Te,ht,ae);$e[tt]=null==He?ht:typeof He!=typeof ht||He!==ht?He:be(ht,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&($e[tt]=!0)}if(!Object.keys($e).length)return;if(this.options.attributesGroupName){const rt={};return rt[this.options.attributesGroupName]=$e,rt}return $e}}const he=function(ee){ee=ee.replace(/\r\n?/g,"\n");const ae=new E("!xml");let ne=ae,se="",st="";for(let $e=0;$e<ee.length;$e++)if("<"===ee[$e])if("/"===ee[$e+1]){const Te=de(ee,">",$e,"Closing Tag is not closed.");let ht=ee.substring($e+2,Te).trim();if(this.options.removeNSPrefix){const _t=ht.indexOf(":");-1!==_t&&(ht=ht.substr(_t+1))}this.options.transformTagName&&(ht=this.options.transformTagName(ht)),ne&&(se=this.saveTextToParentTag(se,ne,st));const tt=st.substring(st.lastIndexOf(".")+1);if(ht&&-1!==this.options.unpairedTags.indexOf(ht))throw new Error(`Unpaired tag can not be used as closing tag: </${ht}>`);let He=0;tt&&-1!==this.options.unpairedTags.indexOf(tt)?(He=st.lastIndexOf(".",st.lastIndexOf(".")-1),this.tagsNodeStack.pop()):He=st.lastIndexOf("."),st=st.substring(0,He),ne=this.tagsNodeStack.pop(),se="",$e=Te}else if("?"===ee[$e+1]){let Te=J(ee,$e,!1,"?>");if(!Te)throw new Error("Pi Tag is not closed.");if(se=this.saveTextToParentTag(se,ne,st),!(this.options.ignoreDeclaration&&"?xml"===Te.tagName||this.options.ignorePiTags)){const ht=new E(Te.tagName);ht.add(this.options.textNodeName,""),Te.tagName!==Te.tagExp&&Te.attrExpPresent&&(ht[":@"]=this.buildAttributesMap(Te.tagExp,st,Te.tagName)),this.addChild(ne,ht,st)}$e=Te.closeIndex+1}else if("!--"===ee.substr($e+1,3)){const Te=de(ee,"--\x3e",$e+4,"Comment is not closed.");if(this.options.commentPropName){const ht=ee.substring($e+4,Te-2);se=this.saveTextToParentTag(se,ne,st),ne.add(this.options.commentPropName,[{[this.options.textNodeName]:ht}])}$e=Te}else if("!D"===ee.substr($e+1,2)){const Te=z(ee,$e);this.docTypeEntities=Te.entities,$e=Te.i}else if("!["===ee.substr($e+1,2)){const Te=de(ee,"]]>",$e,"CDATA is not closed.")-2,ht=ee.substring($e+9,Te);se=this.saveTextToParentTag(se,ne,st);let tt=this.parseTextData(ht,ne.tagname,st,!0,!1,!0,!0);null==tt&&(tt=""),this.options.cdataPropName?ne.add(this.options.cdataPropName,[{[this.options.textNodeName]:ht}]):ne.add(this.options.textNodeName,tt),$e=Te+2}else{let Te=J(ee,$e,this.options.removeNSPrefix),ht=Te.tagName;const tt=Te.rawTagName;let He=Te.tagExp,_t=Te.attrExpPresent,et=Te.closeIndex;if(this.options.transformTagName&&(ht=this.options.transformTagName(ht)),ne&&se&&"!xml"!==ne.tagname&&(se=this.saveTextToParentTag(se,ne,st,!1)),ne&&-1!==this.options.unpairedTags.indexOf(ne.tagname)&&(ne=this.tagsNodeStack.pop(),st=st.substring(0,st.lastIndexOf("."))),ht!==ae.tagname&&(st+=st?"."+ht:ht),this.isItStopNode(this.options.stopNodes,st,ht)){let De="";if(He.length>0&&He.lastIndexOf("/")===He.length-1)"/"===ht[ht.length-1]?(ht=ht.substr(0,ht.length-1),st=st.substr(0,st.length-1),He=ht):He=He.substr(0,He.length-1),$e=Te.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(ht))$e=Te.closeIndex;else{const ze=this.readStopNodeData(ee,tt,et+1);if(!ze)throw new Error(`Unexpected end of ${tt}`);$e=ze.i,De=ze.tagContent}const le=new E(ht);ht!==He&&_t&&(le[":@"]=this.buildAttributesMap(He,st,ht)),De&&(De=this.parseTextData(De,ht,st,!0,_t,!0,!0)),st=st.substr(0,st.lastIndexOf(".")),le.add(this.options.textNodeName,De),this.addChild(ne,le,st)}else{if(He.length>0&&He.lastIndexOf("/")===He.length-1){"/"===ht[ht.length-1]?(ht=ht.substr(0,ht.length-1),st=st.substr(0,st.length-1),He=ht):He=He.substr(0,He.length-1),this.options.transformTagName&&(ht=this.options.transformTagName(ht));const De=new E(ht);ht!==He&&_t&&(De[":@"]=this.buildAttributesMap(He,st,ht)),this.addChild(ne,De,st),st=st.substr(0,st.lastIndexOf("."))}else{const De=new E(ht);this.tagsNodeStack.push(ne),ht!==He&&_t&&(De[":@"]=this.buildAttributesMap(He,st,ht)),this.addChild(ne,De,st),ne=De}se="",$e=et}}else se+=ee[$e];return ae.child};function Pe(ee,ae,ne){const se=this.options.updateTag(ae.tagname,ne,ae[":@"]);!1===se||("string"==typeof se&&(ae.tagname=se),ee.addChild(ae))}const Ie=function(ee){if(this.options.processEntities){for(let ae in this.docTypeEntities){const ne=this.docTypeEntities[ae];ee=ee.replace(ne.regx,ne.val)}for(let ae in this.lastEntities){const ne=this.lastEntities[ae];ee=ee.replace(ne.regex,ne.val)}if(this.options.htmlEntities)for(let ae in this.htmlEntities){const ne=this.htmlEntities[ae];ee=ee.replace(ne.regex,ne.val)}ee=ee.replace(this.ampEntity.regex,this.ampEntity.val)}return ee};function it(ee,ae,ne,se){return ee&&(void 0===se&&(se=0===Object.keys(ae.child).length),void 0!==(ee=this.parseTextData(ee,ae.tagname,ne,!1,!!ae[":@"]&&0!==Object.keys(ae[":@"]).length,se))&&""!==ee&&ae.add(this.options.textNodeName,ee),ee=""),ee}function pe(ee,ae,ne){const se="*."+ne;for(const st in ee){const $e=ee[st];if(se===$e||ae===$e)return!0}return!1}function de(ee,ae,ne,se){const st=ee.indexOf(ae,ne);if(-1===st)throw new Error(se);return st+ae.length-1}function J(ee,ae,ne,se=">"){const st=function ve(ee,ae,ne=">"){let se,st="";for(let $e=ae;$e<ee.length;$e++){let rt=ee[$e];if(se)rt===se&&(se="");else if('"'===rt||"'"===rt)se=rt;else if(rt===ne[0]){if(!ne[1])return{data:st,index:$e};if(ee[$e+1]===ne[1])return{data:st,index:$e}}else"\t"===rt&&(rt=" ");st+=rt}}(ee,ae+1,se);if(!st)return;let $e=st.data;const rt=st.index,Te=$e.search(/\s/);let ht=$e,tt=!0;-1!==Te&&(ht=$e.substring(0,Te),$e=$e.substring(Te+1).trimStart());const He=ht;if(ne){const _t=ht.indexOf(":");-1!==_t&&(ht=ht.substr(_t+1),tt=ht!==st.data.substr(_t+1))}return{tagName:ht,tagExp:$e,closeIndex:rt,attrExpPresent:tt,rawTagName:He}}function te(ee,ae,ne){const se=ne;let st=1;for(;ne<ee.length;ne++)if("<"===ee[ne])if("/"===ee[ne+1]){const $e=de(ee,">",ne,`${ae} is not closed`);if(ee.substring(ne+2,$e).trim()===ae&&(st--,0===st))return{tagContent:ee.substring(se,ne),i:$e};ne=$e}else if("?"===ee[ne+1])ne=de(ee,"?>",ne+1,"StopNode is not closed.");else if("!--"===ee.substr(ne+1,3))ne=de(ee,"--\x3e",ne+3,"StopNode is not closed.");else if("!["===ee.substr(ne+1,2))ne=de(ee,"]]>",ne,"StopNode is not closed.")-2;else{const $e=J(ee,ne,">");$e&&(($e&&$e.tagName)===ae&&"/"!==$e.tagExp[$e.tagExp.length-1]&&st++,ne=$e.closeIndex)}}function be(ee,ae,ne){if(ae&&"string"==typeof ee){const se=ee.trim();return"true"===se||"false"!==se&&p(ee,ne)}return B.isExist(ee)?ee:""}pt.exports=class O{constructor(ae){this.options=ae,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"\u20ac"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"\u20b9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(ne,se)=>String.fromCharCode(Number.parseInt(se,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(ne,se)=>String.fromCharCode(Number.parseInt(se,16))}},this.addExternalEntities=R,this.parseXml=he,this.parseTextData=H,this.resolveNameSpace=G,this.buildAttributesMap=Ee,this.isItStopNode=pe,this.replaceEntitiesValue=Ie,this.readStopNodeData=te,this.saveTextToParentTag=it,this.addChild=Pe}}},6786:(pt,Ze,X)=>{const{buildOptions:B}=X(7635),E=X(208),{prettify:z}=X(3651),p=X(8313);pt.exports=class O{constructor(H){this.externalEntities={},this.options=B(H)}parse(H,G){if("string"!=typeof H){if(!H.toString)throw new Error("XML data is accepted in String or Bytes[] form.");H=H.toString()}if(G){!0===G&&(G={});const he=p.validate(H,G);if(!0!==he)throw Error(`${he.err.msg}:${he.err.line}:${he.err.col}`)}const ie=new E(this.options);ie.addExternalEntities(this.externalEntities);const Ee=ie.parseXml(H);return this.options.preserveOrder||void 0===Ee?Ee:z(Ee,this.options)}addEntity(H,G){if(-1!==G.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==H.indexOf("&")||-1!==H.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===G)throw new Error("An entity with value '&' is not permitted");this.externalEntities[H]=G}}},3651:(pt,Ze)=>{"use strict";function B(O,R,H){let G;const ie={};for(let Ee=0;Ee<O.length;Ee++){const he=O[Ee],Pe=E(he);let Ie="";if(Ie=void 0===H?Pe:H+"."+Pe,Pe===R.textNodeName)void 0===G?G=he[Pe]:G+=""+he[Pe];else{if(void 0===Pe)continue;if(he[Pe]){let it=B(he[Pe],R,Ie);const pe=p(it,R);he[":@"]?z(it,he[":@"],Ie,R):1!==Object.keys(it).length||void 0===it[R.textNodeName]||R.alwaysCreateTextNode?0===Object.keys(it).length&&(R.alwaysCreateTextNode?it[R.textNodeName]="":it=""):it=it[R.textNodeName],void 0!==ie[Pe]&&ie.hasOwnProperty(Pe)?(Array.isArray(ie[Pe])||(ie[Pe]=[ie[Pe]]),ie[Pe].push(it)):ie[Pe]=R.isArray(Pe,Ie,pe)?[it]:it}}}return"string"==typeof G?G.length>0&&(ie[R.textNodeName]=G):void 0!==G&&(ie[R.textNodeName]=G),ie}function E(O){const R=Object.keys(O);for(let H=0;H<R.length;H++){const G=R[H];if(":@"!==G)return G}}function z(O,R,H,G){if(R){const ie=Object.keys(R),Ee=ie.length;for(let he=0;he<Ee;he++){const Pe=ie[he];O[Pe]=G.isArray(Pe,H+"."+Pe,!0,!0)?[R[Pe]]:R[Pe]}}}function p(O,R){const{textNodeName:H}=R,G=Object.keys(O).length;return!(0!==G&&(1!==G||!O[H]&&"boolean"!=typeof O[H]&&0!==O[H]))}Ze.prettify=function X(O,R){return B(O,R)}},5338:pt=>{"use strict";pt.exports=class Ze{constructor(B){this.tagname=B,this.child=[],this[":@"]={}}add(B,E){"__proto__"===B&&(B="#__proto__"),this.child.push({[B]:E})}addChild(B){"__proto__"===B.tagname&&(B.tagname="#__proto__"),B[":@"]&&Object.keys(B[":@"]).length>0?this.child.push({[B.tagname]:B.child,":@":B[":@"]}):this.child.push({[B.tagname]:B.child})}}},238:pt=>{"use strict";var X=Object.prototype.toString,B=Math.max,z=function(H,G){for(var ie=[],Ee=0;Ee<H.length;Ee+=1)ie[Ee]=H[Ee];for(var he=0;he<G.length;he+=1)ie[he+H.length]=G[he];return ie};pt.exports=function(H){var G=this;if("function"!=typeof G||"[object Function]"!==X.apply(G))throw new TypeError("Function.prototype.bind called on incompatible "+G);for(var Ee,ie=function(H,G){for(var ie=[],Ee=1,he=0;Ee<H.length;Ee+=1,he+=1)ie[he]=H[Ee];return ie}(arguments),Pe=B(0,G.length-ie.length),Ie=[],it=0;it<Pe;it++)Ie[it]="$"+it;if(Ee=Function("binder","return function ("+function(R,H){for(var G="",ie=0;ie<R.length;ie+=1)G+=R[ie],ie+1<R.length&&(G+=",");return G}(Ie)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof Ee){var ve=G.apply(this,z(ie,arguments));return Object(ve)===ve?ve:this}return G.apply(H,z(ie,arguments))}),G.prototype){var pe=function(){};pe.prototype=G.prototype,Ee.prototype=new pe,pe.prototype=null}return Ee}},5333:(pt,Ze,X)=>{"use strict";var B=X(238);pt.exports=Function.prototype.bind||B},1552:pt=>{"use strict";var Ze=function(){return"string"==typeof function(){}.name},X=Object.getOwnPropertyDescriptor;if(X)try{X([],"length")}catch{X=null}Ze.functionsHaveConfigurableNames=function(){if(!Ze()||!X)return!1;var z=X(function(){},"name");return!!z&&!!z.configurable};var B=Function.prototype.bind;Ze.boundFunctionsHaveNames=function(){return Ze()&&"function"==typeof B&&""!==function(){}.bind().name},pt.exports=Ze},3198:(pt,Ze,X)=>{var B=X(3970),E=function(R){this.precision=R&&R.precision?R.precision:17,this.direction=!(!R||!R.direction)&&R.direction,this.pseudoNode=!(!R||!R.pseudoNode)&&R.pseudoNode,this.objectComparator=R&&R.objectComparator?R.objectComparator:O};function z(R){return R.coordinates.map(function(H){return{type:R.type.replace("Multi",""),coordinates:H}})}function p(R,H){return R.hasOwnProperty("coordinates")?R.coordinates.length===H.coordinates.length:R.length===H.length}function O(R,H){return B(R,H,{strict:!0})}E.prototype.compare=function(R,H){if(R.type!==H.type||!p(R,H))return!1;switch(R.type){case"Point":return this.compareCoord(R.coordinates,H.coordinates);case"LineString":return this.compareLine(R.coordinates,H.coordinates,0,!1);case"Polygon":return this.comparePolygon(R,H);case"Feature":return this.compareFeature(R,H);default:if(0===R.type.indexOf("Multi")){var G=this,ie=z(R),Ee=z(H);return ie.every(function(he){return this.some(function(Pe){return G.compare(he,Pe)})},Ee)}}return!1},E.prototype.compareCoord=function(R,H){if(R.length!==H.length)return!1;for(var G=0;G<R.length;G++)if(R[G].toFixed(this.precision)!==H[G].toFixed(this.precision))return!1;return!0},E.prototype.compareLine=function(R,H,G,ie){if(!p(R,H))return!1;var Ee=this.pseudoNode?R:this.removePseudo(R),he=this.pseudoNode?H:this.removePseudo(H);if(!ie||this.compareCoord(Ee[0],he[0])||(he=this.fixStartIndex(he,Ee))){var Pe=this.compareCoord(Ee[G],he[G]);return this.direction||Pe?this.comparePath(Ee,he):!!this.compareCoord(Ee[G],he[he.length-(1+G)])&&this.comparePath(Ee.slice().reverse(),he)}},E.prototype.fixStartIndex=function(R,H){for(var G,ie=-1,Ee=0;Ee<R.length;Ee++)if(this.compareCoord(R[Ee],H[0])){ie=Ee;break}return ie>=0&&(G=[].concat(R.slice(ie,R.length),R.slice(1,ie+1))),G},E.prototype.comparePath=function(R,H){var G=this;return R.every(function(ie,Ee){return G.compareCoord(ie,this[Ee])},H)},E.prototype.comparePolygon=function(R,H){if(this.compareLine(R.coordinates[0],H.coordinates[0],1,!0)){var G=R.coordinates.slice(1,R.coordinates.length),ie=H.coordinates.slice(1,H.coordinates.length),Ee=this;return G.every(function(he){return this.some(function(Pe){return Ee.compareLine(he,Pe,1,!0)})},ie)}return!1},E.prototype.compareFeature=function(R,H){return!(R.id!==H.id||!this.objectComparator(R.properties,H.properties)||!this.compareBBox(R,H))&&this.compare(R.geometry,H.geometry)},E.prototype.compareBBox=function(R,H){return!!(!R.bbox&&!H.bbox||R.bbox&&H.bbox&&this.compareCoord(R.bbox,H.bbox))},E.prototype.removePseudo=function(R){return R},pt.exports=E},5665:(pt,Ze,X)=>{var B=X(7571),E=X(621),z=X(8570),p=X(1568).Z,O=z.featureEach,G=E.featureCollection;function ie(Ee){var he=new B(Ee);return he.insert=function(Pe){if("Feature"!==Pe.type)throw new Error("invalid feature");return Pe.bbox=Pe.bbox?Pe.bbox:p(Pe),B.prototype.insert.call(this,Pe)},he.load=function(Pe){var Ie=[];return Array.isArray(Pe)?Pe.forEach(function(it){if("Feature"!==it.type)throw new Error("invalid features");it.bbox=it.bbox?it.bbox:p(it),Ie.push(it)}):O(Pe,function(it){if("Feature"!==it.type)throw new Error("invalid features");it.bbox=it.bbox?it.bbox:p(it),Ie.push(it)}),B.prototype.load.call(this,Ie)},he.remove=function(Pe,Ie){if("Feature"!==Pe.type)throw new Error("invalid feature");return Pe.bbox=Pe.bbox?Pe.bbox:p(Pe),B.prototype.remove.call(this,Pe,Ie)},he.clear=function(){return B.prototype.clear.call(this)},he.search=function(Pe){var Ie=B.prototype.search.call(this,this.toBBox(Pe));return G(Ie)},he.collides=function(Pe){return B.prototype.collides.call(this,this.toBBox(Pe))},he.all=function(){var Pe=B.prototype.all.call(this);return G(Pe)},he.toJSON=function(){return B.prototype.toJSON.call(this)},he.fromJSON=function(Pe){return B.prototype.fromJSON.call(this,Pe)},he.toBBox=function(Pe){var Ie;if(Pe.bbox)Ie=Pe.bbox;else if(Array.isArray(Pe)&&4===Pe.length)Ie=Pe;else if(Array.isArray(Pe)&&6===Pe.length)Ie=[Pe[0],Pe[1],Pe[3],Pe[4]];else if("Feature"===Pe.type)Ie=p(Pe);else{if("FeatureCollection"!==Pe.type)throw new Error("invalid geojson");Ie=p(Pe)}return{minX:Ie[0],minY:Ie[1],maxX:Ie[2],maxY:Ie[3]}},he}pt.exports=ie,pt.exports.default=ie},7571:function(pt){pt.exports=function(){"use strict";function Ze(pe,ve,de,J,te){!function be(ee,ae,ne,se,st){for(;se>ne;){if(se-ne>600){var $e=se-ne+1,rt=ae-ne+1,Te=Math.log($e),ht=.5*Math.exp(2*Te/3),tt=.5*Math.sqrt(Te*ht*($e-ht)/$e)*(rt-$e/2<0?-1:1);be(ee,ae,Math.max(ne,Math.floor(ae-rt*ht/$e+tt)),Math.min(se,Math.floor(ae+($e-rt)*ht/$e+tt)),st)}var et=ee[ae],Xe=ne,De=se;for(X(ee,ne,ae),st(ee[se],et)>0&&X(ee,ne,se);Xe<De;){for(X(ee,Xe,De),Xe++,De--;st(ee[Xe],et)<0;)Xe++;for(;st(ee[De],et)>0;)De--}0===st(ee[ne],et)?X(ee,ne,De):X(ee,++De,se),De<=ae&&(ne=De+1),ae<=De&&(se=De-1)}}(pe,ve,de||0,J||pe.length-1,te||B)}function X(pe,ve,de){var J=pe[ve];pe[ve]=pe[de],pe[de]=J}function B(pe,ve){return pe<ve?-1:pe>ve?1:0}var E=function(pe){void 0===pe&&(pe=9),this._maxEntries=Math.max(4,pe),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function z(pe,ve,de){if(!de)return ve.indexOf(pe);for(var J=0;J<ve.length;J++)if(de(pe,ve[J]))return J;return-1}function p(pe,ve){O(pe,0,pe.children.length,ve,pe)}function O(pe,ve,de,J,te){te||(te=Ie(null)),te.minX=1/0,te.minY=1/0,te.maxX=-1/0,te.maxY=-1/0;for(var be=ve;be<de;be++){var ee=pe.children[be];R(te,pe.leaf?J(ee):ee)}return te}function R(pe,ve){return pe.minX=Math.min(pe.minX,ve.minX),pe.minY=Math.min(pe.minY,ve.minY),pe.maxX=Math.max(pe.maxX,ve.maxX),pe.maxY=Math.max(pe.maxY,ve.maxY),pe}function H(pe,ve){return pe.minX-ve.minX}function G(pe,ve){return pe.minY-ve.minY}function ie(pe){return(pe.maxX-pe.minX)*(pe.maxY-pe.minY)}function Ee(pe){return pe.maxX-pe.minX+(pe.maxY-pe.minY)}function he(pe,ve){return pe.minX<=ve.minX&&pe.minY<=ve.minY&&ve.maxX<=pe.maxX&&ve.maxY<=pe.maxY}function Pe(pe,ve){return ve.minX<=pe.maxX&&ve.minY<=pe.maxY&&ve.maxX>=pe.minX&&ve.maxY>=pe.minY}function Ie(pe){return{children:pe,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function it(pe,ve,de,J,te){for(var be=[ve,de];be.length;)if(!((de=be.pop())-(ve=be.pop())<=J)){var ee=ve+Math.ceil((de-ve)/J/2)*J;Ze(pe,ee,ve,de,te),be.push(ve,ee,ee,de)}}return E.prototype.all=function(){return this._all(this.data,[])},E.prototype.search=function(pe){var ve=this.data,de=[];if(!Pe(pe,ve))return de;for(var J=this.toBBox,te=[];ve;){for(var be=0;be<ve.children.length;be++){var ee=ve.children[be],ae=ve.leaf?J(ee):ee;Pe(pe,ae)&&(ve.leaf?de.push(ee):he(pe,ae)?this._all(ee,de):te.push(ee))}ve=te.pop()}return de},E.prototype.collides=function(pe){var ve=this.data;if(!Pe(pe,ve))return!1;for(var de=[];ve;){for(var J=0;J<ve.children.length;J++){var te=ve.children[J],be=ve.leaf?this.toBBox(te):te;if(Pe(pe,be)){if(ve.leaf||he(pe,be))return!0;de.push(te)}}ve=de.pop()}return!1},E.prototype.load=function(pe){if(!pe||!pe.length)return this;if(pe.length<this._minEntries){for(var ve=0;ve<pe.length;ve++)this.insert(pe[ve]);return this}var de=this._build(pe.slice(),0,pe.length-1,0);if(this.data.children.length)if(this.data.height===de.height)this._splitRoot(this.data,de);else{if(this.data.height<de.height){var J=this.data;this.data=de,de=J}this._insert(de,this.data.height-de.height-1,!0)}else this.data=de;return this},E.prototype.insert=function(pe){return pe&&this._insert(pe,this.data.height-1),this},E.prototype.clear=function(){return this.data=Ie([]),this},E.prototype.remove=function(pe,ve){if(!pe)return this;for(var de,J,te,be=this.data,ee=this.toBBox(pe),ae=[],ne=[];be||ae.length;){if(be||(be=ae.pop(),J=ae[ae.length-1],de=ne.pop(),te=!0),be.leaf){var se=z(pe,be.children,ve);if(-1!==se)return be.children.splice(se,1),ae.push(be),this._condense(ae),this}te||be.leaf||!he(be,ee)?J?(de++,be=J.children[de],te=!1):be=null:(ae.push(be),ne.push(de),de=0,J=be,be=be.children[0])}return this},E.prototype.toBBox=function(pe){return pe},E.prototype.compareMinX=function(pe,ve){return pe.minX-ve.minX},E.prototype.compareMinY=function(pe,ve){return pe.minY-ve.minY},E.prototype.toJSON=function(){return this.data},E.prototype.fromJSON=function(pe){return this.data=pe,this},E.prototype._all=function(pe,ve){for(var de=[];pe;)pe.leaf?ve.push.apply(ve,pe.children):de.push.apply(de,pe.children),pe=de.pop();return ve},E.prototype._build=function(pe,ve,de,J){var te,be=de-ve+1,ee=this._maxEntries;if(be<=ee)return p(te=Ie(pe.slice(ve,de+1)),this.toBBox),te;J||(J=Math.ceil(Math.log(be)/Math.log(ee)),ee=Math.ceil(be/Math.pow(ee,J-1))),(te=Ie([])).leaf=!1,te.height=J;var ae=Math.ceil(be/ee),ne=ae*Math.ceil(Math.sqrt(ee));it(pe,ve,de,ne,this.compareMinX);for(var se=ve;se<=de;se+=ne){var st=Math.min(se+ne-1,de);it(pe,se,st,ae,this.compareMinY);for(var $e=se;$e<=st;$e+=ae){var rt=Math.min($e+ae-1,st);te.children.push(this._build(pe,$e,rt,J-1))}}return p(te,this.toBBox),te},E.prototype._chooseSubtree=function(pe,ve,de,J){for(;J.push(ve),!ve.leaf&&J.length-1!==de;){for(var te=1/0,be=1/0,ee=void 0,ae=0;ae<ve.children.length;ae++){var ne=ve.children[ae],se=ie(ne),st=($e=pe,rt=ne,(Math.max(rt.maxX,$e.maxX)-Math.min(rt.minX,$e.minX))*(Math.max(rt.maxY,$e.maxY)-Math.min(rt.minY,$e.minY))-se);st<be?(be=st,te=se<te?se:te,ee=ne):st===be&&se<te&&(te=se,ee=ne)}ve=ee||ve.children[0]}var $e,rt;return ve},E.prototype._insert=function(pe,ve,de){var J=de?pe:this.toBBox(pe),te=[],be=this._chooseSubtree(J,this.data,ve,te);for(be.children.push(pe),R(be,J);ve>=0&&te[ve].children.length>this._maxEntries;)this._split(te,ve),ve--;this._adjustParentBBoxes(J,te,ve)},E.prototype._split=function(pe,ve){var de=pe[ve],J=de.children.length,te=this._minEntries;this._chooseSplitAxis(de,te,J);var be=this._chooseSplitIndex(de,te,J),ee=Ie(de.children.splice(be,de.children.length-be));ee.height=de.height,ee.leaf=de.leaf,p(de,this.toBBox),p(ee,this.toBBox),ve?pe[ve-1].children.push(ee):this._splitRoot(de,ee)},E.prototype._splitRoot=function(pe,ve){this.data=Ie([pe,ve]),this.data.height=pe.height+1,this.data.leaf=!1,p(this.data,this.toBBox)},E.prototype._chooseSplitIndex=function(pe,ve,de){for(var J,te,be,ee,ae,ne,se,st=1/0,$e=1/0,rt=ve;rt<=de-ve;rt++){var Te=O(pe,0,rt,this.toBBox),ht=O(pe,rt,de,this.toBBox),tt=(te=Te,be=ht,void 0,void 0,void 0,void 0,ee=Math.max(te.minX,be.minX),ae=Math.max(te.minY,be.minY),ne=Math.min(te.maxX,be.maxX),se=Math.min(te.maxY,be.maxY),Math.max(0,ne-ee)*Math.max(0,se-ae)),He=ie(Te)+ie(ht);tt<st?(st=tt,J=rt,$e=He<$e?He:$e):tt===st&&He<$e&&($e=He,J=rt)}return J||de-ve},E.prototype._chooseSplitAxis=function(pe,ve,de){var J=pe.leaf?this.compareMinX:H,te=pe.leaf?this.compareMinY:G;this._allDistMargin(pe,ve,de,J)<this._allDistMargin(pe,ve,de,te)&&pe.children.sort(J)},E.prototype._allDistMargin=function(pe,ve,de,J){pe.children.sort(J);for(var te=this.toBBox,be=O(pe,0,ve,te),ee=O(pe,de-ve,de,te),ae=Ee(be)+Ee(ee),ne=ve;ne<de-ve;ne++){var se=pe.children[ne];R(be,pe.leaf?te(se):se),ae+=Ee(be)}for(var st=de-ve-1;st>=ve;st--){var $e=pe.children[st];R(ee,pe.leaf?te($e):$e),ae+=Ee(ee)}return ae},E.prototype._adjustParentBBoxes=function(pe,ve,de){for(var J=de;J>=0;J--)R(ve[J],pe)},E.prototype._condense=function(pe){for(var ve=pe.length-1,de=void 0;ve>=0;ve--)0===pe[ve].children.length?ve>0?(de=pe[ve-1].children).splice(de.indexOf(pe[ve]),1):this.clear():p(pe[ve],this.toBBox)},E}()},491:(pt,Ze,X)=>{"use strict";var B,E=X(2050),z=X(4500),p=X(2992),O=X(3944),R=X(4203),H=X(5223),G=X(6130),ie=Function,Ee=function(Xe){try{return ie('"use strict"; return ('+Xe+").constructor;")()}catch{}},he=Object.getOwnPropertyDescriptor;if(he)try{he({},"")}catch{he=null}var Pe=function(){throw new H},Ie=he?function(){try{return Pe}catch{try{return he(arguments,"callee").get}catch{return Pe}}}():Pe,it=X(6152)(),pe=X(9028)(),ve=Object.getPrototypeOf||(pe?function(Xe){return Xe.__proto__}:null),de={},J=typeof Uint8Array>"u"||!ve?B:ve(Uint8Array),te={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?B:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?B:ArrayBuffer,"%ArrayIteratorPrototype%":it&&ve?ve([][Symbol.iterator]()):B,"%AsyncFromSyncIteratorPrototype%":B,"%AsyncFunction%":de,"%AsyncGenerator%":de,"%AsyncGeneratorFunction%":de,"%AsyncIteratorPrototype%":de,"%Atomics%":typeof Atomics>"u"?B:Atomics,"%BigInt%":typeof BigInt>"u"?B:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?B:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?B:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?B:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":E,"%eval%":eval,"%EvalError%":z,"%Float32Array%":typeof Float32Array>"u"?B:Float32Array,"%Float64Array%":typeof Float64Array>"u"?B:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?B:FinalizationRegistry,"%Function%":ie,"%GeneratorFunction%":de,"%Int8Array%":typeof Int8Array>"u"?B:Int8Array,"%Int16Array%":typeof Int16Array>"u"?B:Int16Array,"%Int32Array%":typeof Int32Array>"u"?B:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":it&&ve?ve(ve([][Symbol.iterator]())):B,"%JSON%":"object"==typeof JSON?JSON:B,"%Map%":typeof Map>"u"?B:Map,"%MapIteratorPrototype%":typeof Map>"u"||!it||!ve?B:ve((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?B:Promise,"%Proxy%":typeof Proxy>"u"?B:Proxy,"%RangeError%":p,"%ReferenceError%":O,"%Reflect%":typeof Reflect>"u"?B:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?B:Set,"%SetIteratorPrototype%":typeof Set>"u"||!it||!ve?B:ve((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?B:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":it&&ve?ve(""[Symbol.iterator]()):B,"%Symbol%":it?Symbol:B,"%SyntaxError%":R,"%ThrowTypeError%":Ie,"%TypedArray%":J,"%TypeError%":H,"%Uint8Array%":typeof Uint8Array>"u"?B:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?B:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?B:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?B:Uint32Array,"%URIError%":G,"%WeakMap%":typeof WeakMap>"u"?B:WeakMap,"%WeakRef%":typeof WeakRef>"u"?B:WeakRef,"%WeakSet%":typeof WeakSet>"u"?B:WeakSet};if(ve)try{null.error}catch(Xe){var be=ve(ve(Xe));te["%Error.prototype%"]=be}var ee=function Xe(De){var le;if("%AsyncFunction%"===De)le=Ee("async function () {}");else if("%GeneratorFunction%"===De)le=Ee("function* () {}");else if("%AsyncGeneratorFunction%"===De)le=Ee("async function* () {}");else if("%AsyncGenerator%"===De){var ze=Xe("%AsyncGeneratorFunction%");ze&&(le=ze.prototype)}else if("%AsyncIteratorPrototype%"===De){var Ve=Xe("%AsyncGenerator%");Ve&&ve&&(le=ve(Ve.prototype))}return te[De]=le,le},ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ne=X(5333),se=X(836),st=ne.call(Function.call,Array.prototype.concat),$e=ne.call(Function.apply,Array.prototype.splice),rt=ne.call(Function.call,String.prototype.replace),Te=ne.call(Function.call,String.prototype.slice),ht=ne.call(Function.call,RegExp.prototype.exec),tt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,He=/\\(\\)?/g,et=function(De,le){var Ve,ze=De;if(se(ae,ze)&&(ze="%"+(Ve=ae[ze])[0]+"%"),se(te,ze)){var Yt=te[ze];if(Yt===de&&(Yt=ee(ze)),typeof Yt>"u"&&!le)throw new H("intrinsic "+De+" exists, but is not available. Please file an issue!");return{alias:Ve,name:ze,value:Yt}}throw new R("intrinsic "+De+" does not exist!")};pt.exports=function(De,le){if("string"!=typeof De||0===De.length)throw new H("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof le)throw new H('"allowMissing" argument must be a boolean');if(null===ht(/^%?[^%]*%?$/,De))throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ze=function(De){var le=Te(De,0,1),ze=Te(De,-1);if("%"===le&&"%"!==ze)throw new R("invalid intrinsic syntax, expected closing `%`");if("%"===ze&&"%"!==le)throw new R("invalid intrinsic syntax, expected opening `%`");var Ve=[];return rt(De,tt,function(Yt,Ct,bn,fn){Ve[Ve.length]=bn?rt(fn,He,"$1"):Ct||Yt}),Ve}(De),Ve=ze.length>0?ze[0]:"",Yt=et("%"+Ve+"%",le),Ct=Yt.name,bn=Yt.value,fn=!1,kn=Yt.alias;kn&&(Ve=kn[0],$e(ze,st([0,1],kn)));for(var un=1,Xn=!0;un<ze.length;un+=1){var Rn=ze[un],dr=Te(Rn,0,1),Xr=Te(Rn,-1);if(('"'===dr||"'"===dr||"`"===dr||'"'===Xr||"'"===Xr||"`"===Xr)&&dr!==Xr)throw new R("property names with quotes must have matching quotes");if(("constructor"===Rn||!Xn)&&(fn=!0),se(te,Ct="%"+(Ve+="."+Rn)+"%"))bn=te[Ct];else if(null!=bn){if(!(Rn in bn)){if(!le)throw new H("base intrinsic for "+De+" exists, but the property is not available.");return}if(he&&un+1>=ze.length){var Ln=he(bn,Rn);bn=(Xn=!!Ln)&&"get"in Ln&&!("originalValue"in Ln.get)?Ln.get:bn[Rn]}else Xn=se(bn,Rn),bn=bn[Rn];Xn&&!fn&&(te[Ct]=bn)}}return bn}},9262:(pt,Ze,X)=>{"use strict";var E=X(491)("%Object.getOwnPropertyDescriptor%",!0);if(E)try{E([],"length")}catch{E=null}pt.exports=E},7271:(pt,Ze,X)=>{var B;!function(E,z,p,O){"use strict";var ve,R=["","webkit","Moz","MS","ms","o"],H=z.createElement("div"),G="function",ie=Math.round,Ee=Math.abs,he=Date.now;function Pe(Re,ut,Wt){return setTimeout(be(Re,Wt),ut)}function Ie(Re,ut,Wt){return!!Array.isArray(Re)&&(it(Re,Wt[ut],Wt),!0)}function it(Re,ut,Wt){var An;if(Re)if(Re.forEach)Re.forEach(ut,Wt);else if(Re.length!==O)for(An=0;An<Re.length;)ut.call(Wt,Re[An],An,Re),An++;else for(An in Re)Re.hasOwnProperty(An)&&ut.call(Wt,Re[An],An,Re)}function pe(Re,ut,Wt){var An="DEPRECATED METHOD: "+ut+"\n"+Wt+" AT \n";return function(){var Mr=new Error("get-stack-trace"),Hr=Mr&&Mr.stack?Mr.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",gn=E.console&&(E.console.warn||E.console.log);return gn&&gn.call(E.console,An,Hr),Re.apply(this,arguments)}}ve="function"!=typeof Object.assign?function(ut){if(ut===O||null===ut)throw new TypeError("Cannot convert undefined or null to object");for(var Wt=Object(ut),An=1;An<arguments.length;An++){var Mr=arguments[An];if(Mr!==O&&null!==Mr)for(var Hr in Mr)Mr.hasOwnProperty(Hr)&&(Wt[Hr]=Mr[Hr])}return Wt}:Object.assign;var de=pe(function(ut,Wt,An){for(var Mr=Object.keys(Wt),Hr=0;Hr<Mr.length;)(!An||An&&ut[Mr[Hr]]===O)&&(ut[Mr[Hr]]=Wt[Mr[Hr]]),Hr++;return ut},"extend","Use `assign`."),J=pe(function(ut,Wt){return de(ut,Wt,!0)},"merge","Use `assign`.");function te(Re,ut,Wt){var Mr,An=ut.prototype;(Mr=Re.prototype=Object.create(An)).constructor=Re,Mr._super=An,Wt&&ve(Mr,Wt)}function be(Re,ut){return function(){return Re.apply(ut,arguments)}}function ee(Re,ut){return typeof Re==G?Re.apply(ut&&ut[0]||O,ut):Re}function ae(Re,ut){return Re===O?ut:Re}function ne(Re,ut,Wt){it(rt(ut),function(An){Re.addEventListener(An,Wt,!1)})}function se(Re,ut,Wt){it(rt(ut),function(An){Re.removeEventListener(An,Wt,!1)})}function st(Re,ut){for(;Re;){if(Re==ut)return!0;Re=Re.parentNode}return!1}function $e(Re,ut){return Re.indexOf(ut)>-1}function rt(Re){return Re.trim().split(/\s+/g)}function Te(Re,ut,Wt){if(Re.indexOf&&!Wt)return Re.indexOf(ut);for(var An=0;An<Re.length;){if(Wt&&Re[An][Wt]==ut||!Wt&&Re[An]===ut)return An;An++}return-1}function ht(Re){return Array.prototype.slice.call(Re,0)}function tt(Re,ut,Wt){for(var An=[],Mr=[],Hr=0;Hr<Re.length;){var gn=ut?Re[Hr][ut]:Re[Hr];Te(Mr,gn)<0&&An.push(Re[Hr]),Mr[Hr]=gn,Hr++}return Wt&&(An=ut?An.sort(function(jr,ns){return jr[ut]>ns[ut]}):An.sort()),An}function He(Re,ut){for(var Wt,An,Mr=ut[0].toUpperCase()+ut.slice(1),Hr=0;Hr<R.length;){if((An=(Wt=R[Hr])?Wt+Mr:ut)in Re)return An;Hr++}return O}var _t=1;function Xe(Re){var ut=Re.ownerDocument||Re;return ut.defaultView||ut.parentWindow||E}var le="ontouchstart"in E,ze=He(E,"PointerEvent")!==O,Ve=le&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Yt="touch",bn="mouse",kn=25,un=1,Rn=4,dr=8,Xr=1,Ln=2,ir=4,xr=8,$r=16,en=Ln|ir,Wn=xr|$r,qt=en|Wn,rn=["x","y"],Fn=["clientX","clientY"];function zr(Re,ut){var Wt=this;this.manager=Re,this.callback=ut,this.element=Re.element,this.target=Re.options.inputTarget,this.domHandler=function(An){ee(Re.options.enable,[Re])&&Wt.handler(An)},this.init()}function ai(Re,ut,Wt){var An=Wt.pointers.length,Mr=Wt.changedPointers.length,Hr=ut&un&&An-Mr==0,gn=ut&(Rn|dr)&&An-Mr==0;Wt.isFirst=!!Hr,Wt.isFinal=!!gn,Hr&&(Re.session={}),Wt.eventType=ut,function Zn(Re,ut){var Wt=Re.session,An=ut.pointers,Mr=An.length;Wt.firstInput||(Wt.firstInput=Nr(ut)),Mr>1&&!Wt.firstMultiple?Wt.firstMultiple=Nr(ut):1===Mr&&(Wt.firstMultiple=!1);var Hr=Wt.firstInput,gn=Wt.firstMultiple,zi=gn?gn.center:Hr.center,jr=ut.center=Dn(An);ut.timeStamp=he(),ut.deltaTime=ut.timeStamp-Hr.timeStamp,ut.angle=xe(zi,jr),ut.distance=Ge(zi,jr),function is(Re,ut){var Wt=ut.center,An=Re.offsetDelta||{},Mr=Re.prevDelta||{},Hr=Re.prevInput||{};(ut.eventType===un||Hr.eventType===Rn)&&(Mr=Re.prevDelta={x:Hr.deltaX||0,y:Hr.deltaY||0},An=Re.offsetDelta={x:Wt.x,y:Wt.y}),ut.deltaX=Mr.x+(Wt.x-An.x),ut.deltaY=Mr.y+(Wt.y-An.y)}(Wt,ut),ut.offsetDirection=ke(ut.deltaX,ut.deltaY);var ns=nn(ut.deltaTime,ut.deltaX,ut.deltaY);ut.overallVelocityX=ns.x,ut.overallVelocityY=ns.y,ut.overallVelocity=Ee(ns.x)>Ee(ns.y)?ns.x:ns.y,ut.scale=gn?function oe(Re,ut){return Ge(ut[0],ut[1],Fn)/Ge(Re[0],Re[1],Fn)}(gn.pointers,An):1,ut.rotation=gn?function Q(Re,ut){return xe(ut[1],ut[0],Fn)+xe(Re[1],Re[0],Fn)}(gn.pointers,An):0,ut.maxPointers=Wt.prevInput?ut.pointers.length>Wt.prevInput.maxPointers?ut.pointers.length:Wt.prevInput.maxPointers:ut.pointers.length,function Qi(Re,ut){var Mr,Hr,gn,zi,Wt=Re.lastInterval||ut,An=ut.timeStamp-Wt.timeStamp;if(ut.eventType!=dr&&(An>kn||Wt.velocity===O)){var jr=ut.deltaX-Wt.deltaX,ns=ut.deltaY-Wt.deltaY,Ml=nn(An,jr,ns);Hr=Ml.x,gn=Ml.y,Mr=Ee(Ml.x)>Ee(Ml.y)?Ml.x:Ml.y,zi=ke(jr,ns),Re.lastInterval=ut}else Mr=Wt.velocity,Hr=Wt.velocityX,gn=Wt.velocityY,zi=Wt.direction;ut.velocity=Mr,ut.velocityX=Hr,ut.velocityY=gn,ut.direction=zi}(Wt,ut);var Ml=Re.element;st(ut.srcEvent.target,Ml)&&(Ml=ut.srcEvent.target),ut.target=Ml}(Re,Wt),Re.emit("hammer.input",Wt),Re.recognize(Wt),Re.session.prevInput=Wt}function Nr(Re){for(var ut=[],Wt=0;Wt<Re.pointers.length;)ut[Wt]={clientX:ie(Re.pointers[Wt].clientX),clientY:ie(Re.pointers[Wt].clientY)},Wt++;return{timeStamp:he(),pointers:ut,center:Dn(ut),deltaX:Re.deltaX,deltaY:Re.deltaY}}function Dn(Re){var ut=Re.length;if(1===ut)return{x:ie(Re[0].clientX),y:ie(Re[0].clientY)};for(var Wt=0,An=0,Mr=0;Mr<ut;)Wt+=Re[Mr].clientX,An+=Re[Mr].clientY,Mr++;return{x:ie(Wt/ut),y:ie(An/ut)}}function nn(Re,ut,Wt){return{x:ut/Re||0,y:Wt/Re||0}}function ke(Re,ut){return Re===ut?Xr:Ee(Re)>=Ee(ut)?Re<0?Ln:ir:ut<0?xr:$r}function Ge(Re,ut,Wt){Wt||(Wt=rn);var An=ut[Wt[0]]-Re[Wt[0]],Mr=ut[Wt[1]]-Re[Wt[1]];return Math.sqrt(An*An+Mr*Mr)}function xe(Re,ut,Wt){return Wt||(Wt=rn),180*Math.atan2(ut[Wt[1]]-Re[Wt[1]],ut[Wt[0]]-Re[Wt[0]])/Math.PI}zr.prototype={handler:function(){},init:function(){this.evEl&&ne(this.element,this.evEl,this.domHandler),this.evTarget&&ne(this.target,this.evTarget,this.domHandler),this.evWin&&ne(Xe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&se(this.element,this.evEl,this.domHandler),this.evTarget&&se(this.target,this.evTarget,this.domHandler),this.evWin&&se(Xe(this.element),this.evWin,this.domHandler)}};var We={mousedown:un,mousemove:2,mouseup:Rn},Mt="mousedown",St="mousemove mouseup";function kt(){this.evEl=Mt,this.evWin=St,this.pressed=!1,zr.apply(this,arguments)}te(kt,zr,{handler:function(ut){var Wt=We[ut.type];Wt&un&&0===ut.button&&(this.pressed=!0),2&Wt&&1!==ut.which&&(Wt=Rn),this.pressed&&(Wt&Rn&&(this.pressed=!1),this.callback(this.manager,Wt,{pointers:[ut],changedPointers:[ut],pointerType:bn,srcEvent:ut}))}});var dn={pointerdown:un,pointermove:2,pointerup:Rn,pointercancel:dr,pointerout:dr},me={2:Yt,3:"pen",4:bn,5:"kinect"},ce="pointerdown",Se="pointermove pointerup pointercancel";function Me(){this.evEl=ce,this.evWin=Se,zr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}E.MSPointerEvent&&!E.PointerEvent&&(ce="MSPointerDown",Se="MSPointerMove MSPointerUp MSPointerCancel"),te(Me,zr,{handler:function(ut){var Wt=this.store,An=!1,Mr=ut.type.toLowerCase().replace("ms",""),Hr=dn[Mr],gn=me[ut.pointerType]||ut.pointerType,zi=gn==Yt,jr=Te(Wt,ut.pointerId,"pointerId");Hr&un&&(0===ut.button||zi)?jr<0&&(Wt.push(ut),jr=Wt.length-1):Hr&(Rn|dr)&&(An=!0),!(jr<0)&&(Wt[jr]=ut,this.callback(this.manager,Hr,{pointers:Wt,changedPointers:[ut],pointerType:gn,srcEvent:ut}),An&&Wt.splice(jr,1))}});var Je={touchstart:un,touchmove:2,touchend:Rn,touchcancel:dr};function Tt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,zr.apply(this,arguments)}function xt(Re,ut){var Wt=ht(Re.touches),An=ht(Re.changedTouches);return ut&(Rn|dr)&&(Wt=tt(Wt.concat(An),"identifier",!0)),[Wt,An]}te(Tt,zr,{handler:function(ut){var Wt=Je[ut.type];if(Wt===un&&(this.started=!0),this.started){var An=xt.call(this,ut,Wt);Wt&(Rn|dr)&&An[0].length-An[1].length==0&&(this.started=!1),this.callback(this.manager,Wt,{pointers:An[0],changedPointers:An[1],pointerType:Yt,srcEvent:ut})}}});var Bt={touchstart:un,touchmove:2,touchend:Rn,touchcancel:dr},hn="touchstart touchmove touchend touchcancel";function En(){this.evTarget=hn,this.targetIds={},zr.apply(this,arguments)}function In(Re,ut){var Wt=ht(Re.touches),An=this.targetIds;if(ut&(2|un)&&1===Wt.length)return An[Wt[0].identifier]=!0,[Wt,Wt];var Mr,Hr,gn=ht(Re.changedTouches),zi=[],jr=this.target;if(Hr=Wt.filter(function(ns){return st(ns.target,jr)}),ut===un)for(Mr=0;Mr<Hr.length;)An[Hr[Mr].identifier]=!0,Mr++;for(Mr=0;Mr<gn.length;)An[gn[Mr].identifier]&&zi.push(gn[Mr]),ut&(Rn|dr)&&delete An[gn[Mr].identifier],Mr++;return zi.length?[tt(Hr.concat(zi),"identifier",!0),zi]:void 0}te(En,zr,{handler:function(ut){var Wt=Bt[ut.type],An=In.call(this,ut,Wt);An&&this.callback(this.manager,Wt,{pointers:An[0],changedPointers:An[1],pointerType:Yt,srcEvent:ut})}});var sr=2500;function Gn(){zr.apply(this,arguments);var Re=be(this.handler,this);this.touch=new En(this.manager,Re),this.mouse=new kt(this.manager,Re),this.primaryTouch=null,this.lastTouches=[]}function lr(Re,ut){Re&un?(this.primaryTouch=ut.changedPointers[0].identifier,hr.call(this,ut)):Re&(Rn|dr)&&hr.call(this,ut)}function hr(Re){var ut=Re.changedPointers[0];if(ut.identifier===this.primaryTouch){var Wt={x:ut.clientX,y:ut.clientY};this.lastTouches.push(Wt);var An=this.lastTouches;setTimeout(function(){var Hr=An.indexOf(Wt);Hr>-1&&An.splice(Hr,1)},sr)}}function Wr(Re){for(var ut=Re.srcEvent.clientX,Wt=Re.srcEvent.clientY,An=0;An<this.lastTouches.length;An++){var Mr=this.lastTouches[An],Hr=Math.abs(ut-Mr.x),gn=Math.abs(Wt-Mr.y);if(Hr<=25&&gn<=25)return!0}return!1}te(Gn,zr,{handler:function(ut,Wt,An){var Hr=An.pointerType==bn;if(!(Hr&&An.sourceCapabilities&&An.sourceCapabilities.firesTouchEvents)){if(An.pointerType==Yt)lr.call(this,Wt,An);else if(Hr&&Wr.call(this,An))return;this.callback(ut,Wt,An)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ir=He(H.style,"touchAction"),wi=Ir!==O,li="compute",mi="manipulation",Cs="none",Yi="pan-x",Zi="pan-y",za=function Ns(){if(!wi)return!1;var Re={},ut=E.CSS&&E.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Wt){Re[Wt]=!ut||E.CSS.supports("touch-action",Wt)}),Re}();function no(Re,ut){this.manager=Re,this.set(ut)}no.prototype={set:function(Re){Re==li&&(Re=this.compute()),wi&&this.manager.element.style&&za[Re]&&(this.manager.element.style[Ir]=Re),this.actions=Re.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Re=[];return it(this.manager.recognizers,function(ut){ee(ut.options.enable,[ut])&&(Re=Re.concat(ut.getTouchAction()))}),function Oo(Re){if($e(Re,Cs))return Cs;var ut=$e(Re,Yi),Wt=$e(Re,Zi);return ut&&Wt?Cs:ut||Wt?ut?Yi:Zi:$e(Re,mi)?mi:"auto"}(Re.join(" "))},preventDefaults:function(Re){var ut=Re.srcEvent,Wt=Re.offsetDirection;if(!this.manager.session.prevented){var An=this.actions,Mr=$e(An,Cs)&&!za[Cs],Hr=$e(An,Zi)&&!za[Zi],gn=$e(An,Yi)&&!za[Yi];if(Mr&&1===Re.pointers.length&&Re.distance<2&&Re.deltaTime<250)return;return gn&&Hr||!(Mr||Hr&&Wt&en||gn&&Wt&Wn)?void 0:this.preventSrc(ut)}ut.preventDefault()},preventSrc:function(Re){this.manager.session.prevented=!0,Re.preventDefault()}};var Wi=1;function ps(Re){this.options=ve({},this.defaults,Re||{}),this.id=function et(){return _t++}(),this.manager=null,this.options.enable=ae(this.options.enable,!0),this.state=Wi,this.simultaneous={},this.requireFail=[]}function Ds(Re){return 16&Re?"cancel":8&Re?"end":4&Re?"move":2&Re?"start":""}function kl(Re){return Re==$r?"down":Re==xr?"up":Re==Ln?"left":Re==ir?"right":""}function mt(Re,ut){var Wt=ut.manager;return Wt?Wt.get(Re):Re}function It(){ps.apply(this,arguments)}function Ot(){It.apply(this,arguments),this.pX=null,this.pY=null}function $t(){It.apply(this,arguments)}function Xt(){ps.apply(this,arguments),this._timer=null,this._input=null}function on(){It.apply(this,arguments)}function rr(){It.apply(this,arguments)}function Cn(){ps.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function wr(Re,ut){return(ut=ut||{}).recognizers=ae(ut.recognizers,wr.defaults.preset),new qr(Re,ut)}function qr(Re,ut){this.options=ve({},wr.defaults,ut||{}),this.options.inputTarget=this.options.inputTarget||Re,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Re,this.input=function Li(Re){return new(Re.options.inputClass||(ze?Me:Ve?En:le?Gn:kt))(Re,ai)}(this),this.touchAction=new no(this,this.options.touchAction),ei(this,!0),it(this.options.recognizers,function(Wt){var An=this.add(new Wt[0](Wt[1]));Wt[2]&&An.recognizeWith(Wt[2]),Wt[3]&&An.requireFailure(Wt[3])},this)}function ei(Re,ut){var An,Wt=Re.element;Wt.style&&(it(Re.options.cssProps,function(Mr,Hr){An=He(Wt.style,Hr),ut?(Re.oldCssProps[An]=Wt.style[An],Wt.style[An]=Mr):Wt.style[An]=Re.oldCssProps[An]||""}),ut||(Re.oldCssProps={}))}ps.prototype={defaults:{},set:function(Re){return ve(this.options,Re),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Re){if(Ie(Re,"recognizeWith",this))return this;var ut=this.simultaneous;return ut[(Re=mt(Re,this)).id]||(ut[Re.id]=Re,Re.recognizeWith(this)),this},dropRecognizeWith:function(Re){return Ie(Re,"dropRecognizeWith",this)||(Re=mt(Re,this),delete this.simultaneous[Re.id]),this},requireFailure:function(Re){if(Ie(Re,"requireFailure",this))return this;var ut=this.requireFail;return-1===Te(ut,Re=mt(Re,this))&&(ut.push(Re),Re.requireFailure(this)),this},dropRequireFailure:function(Re){if(Ie(Re,"dropRequireFailure",this))return this;Re=mt(Re,this);var ut=Te(this.requireFail,Re);return ut>-1&&this.requireFail.splice(ut,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Re){return!!this.simultaneous[Re.id]},emit:function(Re){var ut=this,Wt=this.state;function An(Mr){ut.manager.emit(Mr,Re)}Wt<8&&An(ut.options.event+Ds(Wt)),An(ut.options.event),Re.additionalEvent&&An(Re.additionalEvent),Wt>=8&&An(ut.options.event+Ds(Wt))},tryEmit:function(Re){if(this.canEmit())return this.emit(Re);this.state=32},canEmit:function(){for(var Re=0;Re<this.requireFail.length;){if(!(this.requireFail[Re].state&(32|Wi)))return!1;Re++}return!0},recognize:function(Re){var ut=ve({},Re);if(!ee(this.options.enable,[this,ut]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Wi),this.state=this.process(ut),30&this.state&&this.tryEmit(ut)},process:function(Re){},getTouchAction:function(){},reset:function(){}},te(It,ps,{defaults:{pointers:1},attrTest:function(Re){var ut=this.options.pointers;return 0===ut||Re.pointers.length===ut},process:function(Re){var ut=this.state,Wt=Re.eventType,An=6&ut,Mr=this.attrTest(Re);return An&&(Wt&dr||!Mr)?16|ut:An||Mr?Wt&Rn?8|ut:2&ut?4|ut:2:32}}),te(Ot,It,{defaults:{event:"pan",threshold:10,pointers:1,direction:qt},getTouchAction:function(){var Re=this.options.direction,ut=[];return Re&en&&ut.push(Zi),Re&Wn&&ut.push(Yi),ut},directionTest:function(Re){var ut=this.options,Wt=!0,An=Re.distance,Mr=Re.direction,Hr=Re.deltaX,gn=Re.deltaY;return Mr&ut.direction||(ut.direction&en?(Mr=0===Hr?Xr:Hr<0?Ln:ir,Wt=Hr!=this.pX,An=Math.abs(Re.deltaX)):(Mr=0===gn?Xr:gn<0?xr:$r,Wt=gn!=this.pY,An=Math.abs(Re.deltaY))),Re.direction=Mr,Wt&&An>ut.threshold&&Mr&ut.direction},attrTest:function(Re){return It.prototype.attrTest.call(this,Re)&&(2&this.state||!(2&this.state)&&this.directionTest(Re))},emit:function(Re){this.pX=Re.deltaX,this.pY=Re.deltaY;var ut=kl(Re.direction);ut&&(Re.additionalEvent=this.options.event+ut),this._super.emit.call(this,Re)}}),te($t,It,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Cs]},attrTest:function(Re){return this._super.attrTest.call(this,Re)&&(Math.abs(Re.scale-1)>this.options.threshold||2&this.state)},emit:function(Re){1!==Re.scale&&(Re.additionalEvent=this.options.event+(Re.scale<1?"in":"out")),this._super.emit.call(this,Re)}}),te(Xt,ps,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(Re){var ut=this.options,Wt=Re.pointers.length===ut.pointers,An=Re.distance<ut.threshold,Mr=Re.deltaTime>ut.time;if(this._input=Re,!An||!Wt||Re.eventType&(Rn|dr)&&!Mr)this.reset();else if(Re.eventType&un)this.reset(),this._timer=Pe(function(){this.state=8,this.tryEmit()},ut.time,this);else if(Re.eventType&Rn)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Re){8===this.state&&(Re&&Re.eventType&Rn?this.manager.emit(this.options.event+"up",Re):(this._input.timeStamp=he(),this.manager.emit(this.options.event,this._input)))}}),te(on,It,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Cs]},attrTest:function(Re){return this._super.attrTest.call(this,Re)&&(Math.abs(Re.rotation)>this.options.threshold||2&this.state)}}),te(rr,It,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:en|Wn,pointers:1},getTouchAction:function(){return Ot.prototype.getTouchAction.call(this)},attrTest:function(Re){var Wt,ut=this.options.direction;return ut&(en|Wn)?Wt=Re.overallVelocity:ut&en?Wt=Re.overallVelocityX:ut&Wn&&(Wt=Re.overallVelocityY),this._super.attrTest.call(this,Re)&&ut&Re.offsetDirection&&Re.distance>this.options.threshold&&Re.maxPointers==this.options.pointers&&Ee(Wt)>this.options.velocity&&Re.eventType&Rn},emit:function(Re){var ut=kl(Re.offsetDirection);ut&&this.manager.emit(this.options.event+ut,Re),this.manager.emit(this.options.event,Re)}}),te(Cn,ps,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[mi]},process:function(Re){var ut=this.options,Wt=Re.pointers.length===ut.pointers,An=Re.distance<ut.threshold,Mr=Re.deltaTime<ut.time;if(this.reset(),Re.eventType&un&&0===this.count)return this.failTimeout();if(An&&Mr&&Wt){if(Re.eventType!=Rn)return this.failTimeout();var Hr=!this.pTime||Re.timeStamp-this.pTime<ut.interval,gn=!this.pCenter||Ge(this.pCenter,Re.center)<ut.posThreshold;if(this.pTime=Re.timeStamp,this.pCenter=Re.center,gn&&Hr?this.count+=1:this.count=1,this._input=Re,0==this.count%ut.taps)return this.hasRequireFailures()?(this._timer=Pe(function(){this.state=8,this.tryEmit()},ut.interval,this),2):8}return 32},failTimeout:function(){return this._timer=Pe(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),wr.VERSION="2.0.7",wr.defaults={domEvents:!1,touchAction:li,enable:!0,inputTarget:null,inputClass:null,preset:[[on,{enable:!1}],[$t,{enable:!1},["rotate"]],[rr,{direction:en}],[Ot,{direction:en},["swipe"]],[Cn],[Cn,{event:"doubletap",taps:2},["tap"]],[Xt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},qr.prototype={set:function(Re){return ve(this.options,Re),Re.touchAction&&this.touchAction.update(),Re.inputTarget&&(this.input.destroy(),this.input.target=Re.inputTarget,this.input.init()),this},stop:function(Re){this.session.stopped=Re?2:1},recognize:function(Re){var ut=this.session;if(!ut.stopped){this.touchAction.preventDefaults(Re);var Wt,An=this.recognizers,Mr=ut.curRecognizer;(!Mr||Mr&&8&Mr.state)&&(Mr=ut.curRecognizer=null);for(var Hr=0;Hr<An.length;)Wt=An[Hr],2===ut.stopped||Mr&&Wt!=Mr&&!Wt.canRecognizeWith(Mr)?Wt.reset():Wt.recognize(Re),!Mr&&14&Wt.state&&(Mr=ut.curRecognizer=Wt),Hr++}},get:function(Re){if(Re instanceof ps)return Re;for(var ut=this.recognizers,Wt=0;Wt<ut.length;Wt++)if(ut[Wt].options.event==Re)return ut[Wt];return null},add:function(Re){if(Ie(Re,"add",this))return this;var ut=this.get(Re.options.event);return ut&&this.remove(ut),this.recognizers.push(Re),Re.manager=this,this.touchAction.update(),Re},remove:function(Re){if(Ie(Re,"remove",this))return this;if(Re=this.get(Re)){var ut=this.recognizers,Wt=Te(ut,Re);-1!==Wt&&(ut.splice(Wt,1),this.touchAction.update())}return this},on:function(Re,ut){if(Re!==O&&ut!==O){var Wt=this.handlers;return it(rt(Re),function(An){Wt[An]=Wt[An]||[],Wt[An].push(ut)}),this}},off:function(Re,ut){if(Re!==O){var Wt=this.handlers;return it(rt(Re),function(An){ut?Wt[An]&&Wt[An].splice(Te(Wt[An],ut),1):delete Wt[An]}),this}},emit:function(Re,ut){this.options.domEvents&&function ss(Re,ut){var Wt=z.createEvent("Event");Wt.initEvent(Re,!0,!0),Wt.gesture=ut,ut.target.dispatchEvent(Wt)}(Re,ut);var Wt=this.handlers[Re]&&this.handlers[Re].slice();if(Wt&&Wt.length){ut.type=Re,ut.preventDefault=function(){ut.srcEvent.preventDefault()};for(var An=0;An<Wt.length;)Wt[An](ut),An++}},destroy:function(){this.element&&ei(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ve(wr,{INPUT_START:un,INPUT_MOVE:2,INPUT_END:Rn,INPUT_CANCEL:dr,STATE_POSSIBLE:Wi,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Xr,DIRECTION_LEFT:Ln,DIRECTION_RIGHT:ir,DIRECTION_UP:xr,DIRECTION_DOWN:$r,DIRECTION_HORIZONTAL:en,DIRECTION_VERTICAL:Wn,DIRECTION_ALL:qt,Manager:qr,Input:zr,TouchAction:no,TouchInput:En,MouseInput:kt,PointerEventInput:Me,TouchMouseInput:Gn,SingleTouchInput:Tt,Recognizer:ps,AttrRecognizer:It,Tap:Cn,Pan:Ot,Swipe:rr,Pinch:$t,Rotate:on,Press:Xt,on:ne,off:se,each:it,merge:J,extend:de,assign:ve,inherit:te,bindFn:be,prefixed:He}),(typeof E<"u"?E:typeof self<"u"?self:{}).Hammer=wr,(B=function(){return wr}.call(Ze,X,Ze,pt))!==O&&(pt.exports=B)}(window,document)},2486:(pt,Ze,X)=>{"use strict";var B=X(474),E=function(){return!!B};E.hasArrayLengthDefineBug=function(){if(!B)return null;try{return 1!==B([],"length",{value:1}).length}catch{return!0}},pt.exports=E},9028:pt=>{"use strict";var Ze={__proto__:null,foo:{}},X=Object;pt.exports=function(){return{__proto__:Ze}.foo===Ze.foo&&!(Ze instanceof X)}},6152:(pt,Ze,X)=>{"use strict";var B=typeof Symbol<"u"&&Symbol,E=X(5441);pt.exports=function(){return"function"==typeof B&&"function"==typeof Symbol&&"symbol"==typeof B("foo")&&"symbol"==typeof Symbol("bar")&&E()}},5441:pt=>{"use strict";pt.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var X={},B=Symbol("test"),E=Object(B);if("string"==typeof B||"[object Symbol]"!==Object.prototype.toString.call(B)||"[object Symbol]"!==Object.prototype.toString.call(E))return!1;for(B in X[B]=42,X)return!1;if("function"==typeof Object.keys&&0!==Object.keys(X).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(X).length)return!1;var p=Object.getOwnPropertySymbols(X);if(1!==p.length||p[0]!==B||!Object.prototype.propertyIsEnumerable.call(X,B))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var O=Object.getOwnPropertyDescriptor(X,B);if(42!==O.value||!0!==O.enumerable)return!1}return!0}},8041:(pt,Ze,X)=>{"use strict";var B=X(5441);pt.exports=function(){return B()&&!!Symbol.toStringTag}},836:(pt,Ze,X)=>{"use strict";var B=Function.prototype.call,E=Object.prototype.hasOwnProperty,z=X(5333);pt.exports=z.call(B,E)},8147:(pt,Ze,X)=>{"use strict";var B=X(8041)(),z=X(1098)("Object.prototype.toString"),p=function(G){return!(B&&G&&"object"==typeof G&&Symbol.toStringTag in G)&&"[object Arguments]"===z(G)},O=function(G){return!!p(G)||null!==G&&"object"==typeof G&&"number"==typeof G.length&&G.length>=0&&"[object Array]"!==z(G)&&"[object Function]"===z(G.callee)},R=function(){return p(arguments)}();p.isLegacyArguments=O,pt.exports=R?p:O},2365:(pt,Ze,X)=>{"use strict";var B=Date.prototype.getDay,z=Object.prototype.toString,O=X(8041)();pt.exports=function(H){return"object"==typeof H&&null!==H&&(O?function(H){try{return B.call(H),!0}catch{return!1}}(H):"[object Date]"===z.call(H))}},4720:(pt,Ze,X)=>{"use strict";var z,p,O,R,B=X(1098),E=X(8041)();if(E){z=B("Object.prototype.hasOwnProperty"),p=B("RegExp.prototype.exec"),O={};var H=function(){throw O};R={toString:H,valueOf:H},"symbol"==typeof Symbol.toPrimitive&&(R[Symbol.toPrimitive]=H)}var G=B("Object.prototype.toString"),ie=Object.getOwnPropertyDescriptor;pt.exports=E?function(Pe){if(!Pe||"object"!=typeof Pe)return!1;var Ie=ie(Pe,"lastIndex");if(!Ie||!z(Ie,"value"))return!1;try{p(Pe,R)}catch(pe){return pe===O}}:function(Pe){return!(!Pe||"object"!=typeof Pe&&"function"!=typeof Pe)&&"[object RegExp]"===G(Pe)}},9422:pt=>{pt.exports=function E(z,p,O){function R(ie,Ee){if(!p[ie]){if(!z[ie]){if(H)return H(ie,!0);var Pe=new Error("Cannot find module '"+ie+"'");throw Pe.code="MODULE_NOT_FOUND",Pe}var Ie=p[ie]={exports:{}};z[ie][0].call(Ie.exports,function(it){return R(z[ie][1][it]||it)},Ie,Ie.exports,E,z,p,O)}return p[ie].exports}for(var H=void 0,G=0;G<O.length;G++)R(O[G]);return R}({1:[function(E,z,p){(function(O){"use strict";var H,R=O.MutationObserver||O.WebKitMutationObserver;if(R){var G=0,ie=new R(it),Ee=O.document.createTextNode("");ie.observe(Ee,{characterData:!0}),H=function(){Ee.data=G=++G%2}}else if(!O.setImmediate&&typeof O.MessageChannel<"u"){var he=new O.MessageChannel;he.port1.onmessage=it,H=function(){he.port2.postMessage(0)}}else H="document"in O&&"onreadystatechange"in O.document.createElement("script")?function(){var ve=O.document.createElement("script");ve.onreadystatechange=function(){it(),ve.onreadystatechange=null,ve.parentNode.removeChild(ve),ve=null},O.document.documentElement.appendChild(ve)}:function(){setTimeout(it,0)};var Pe,Ie=[];function it(){Pe=!0;for(var ve,de,J=Ie.length;J;){for(de=Ie,Ie=[],ve=-1;++ve<J;)de[ve]();J=Ie.length}Pe=!1}z.exports=function pe(ve){1===Ie.push(ve)&&!Pe&&H()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(E,z,p){"use strict";var O=E(1);function R(){}var H={},G=["REJECTED"],ie=["FULFILLED"],Ee=["PENDING"];function he(ee){if("function"!=typeof ee)throw new TypeError("resolver must be a function");this.state=Ee,this.queue=[],this.outcome=void 0,ee!==R&&pe(this,ee)}function Pe(ee,ae,ne){this.promise=ee,"function"==typeof ae&&(this.onFulfilled=ae,this.callFulfilled=this.otherCallFulfilled),"function"==typeof ne&&(this.onRejected=ne,this.callRejected=this.otherCallRejected)}function Ie(ee,ae,ne){O(function(){var se;try{se=ae(ne)}catch(st){return H.reject(ee,st)}se===ee?H.reject(ee,new TypeError("Cannot resolve promise with itself")):H.resolve(ee,se)})}function it(ee){var ae=ee&&ee.then;if(ee&&("object"==typeof ee||"function"==typeof ee)&&"function"==typeof ae)return function(){ae.apply(ee,arguments)}}function pe(ee,ae){var ne=!1;function se(Te){ne||(ne=!0,H.reject(ee,Te))}function st(Te){ne||(ne=!0,H.resolve(ee,Te))}var rt=ve(function $e(){ae(st,se)});"error"===rt.status&&se(rt.value)}function ve(ee,ae){var ne={};try{ne.value=ee(ae),ne.status="success"}catch(se){ne.status="error",ne.value=se}return ne}z.exports=he,he.prototype.catch=function(ee){return this.then(null,ee)},he.prototype.then=function(ee,ae){if("function"!=typeof ee&&this.state===ie||"function"!=typeof ae&&this.state===G)return this;var ne=new this.constructor(R);return this.state!==Ee?Ie(ne,this.state===ie?ee:ae,this.outcome):this.queue.push(new Pe(ne,ee,ae)),ne},Pe.prototype.callFulfilled=function(ee){H.resolve(this.promise,ee)},Pe.prototype.otherCallFulfilled=function(ee){Ie(this.promise,this.onFulfilled,ee)},Pe.prototype.callRejected=function(ee){H.reject(this.promise,ee)},Pe.prototype.otherCallRejected=function(ee){Ie(this.promise,this.onRejected,ee)},H.resolve=function(ee,ae){var ne=ve(it,ae);if("error"===ne.status)return H.reject(ee,ne.value);var se=ne.value;if(se)pe(ee,se);else{ee.state=ie,ee.outcome=ae;for(var st=-1,$e=ee.queue.length;++st<$e;)ee.queue[st].callFulfilled(ae)}return ee},H.reject=function(ee,ae){ee.state=G,ee.outcome=ae;for(var ne=-1,se=ee.queue.length;++ne<se;)ee.queue[ne].callRejected(ae);return ee},he.resolve=function de(ee){return ee instanceof this?ee:H.resolve(new this(R),ee)},he.reject=function J(ee){var ae=new this(R);return H.reject(ae,ee)},he.all=function te(ee){var ae=this;if("[object Array]"!==Object.prototype.toString.call(ee))return this.reject(new TypeError("must be an array"));var ne=ee.length,se=!1;if(!ne)return this.resolve([]);for(var st=new Array(ne),$e=0,rt=-1,Te=new this(R);++rt<ne;)ht(ee[rt],rt);return Te;function ht(tt,He){ae.resolve(tt).then(function _t(et){st[He]=et,++$e===ne&&!se&&(se=!0,H.resolve(Te,st))},function(et){se||(se=!0,H.reject(Te,et))})}},he.race=function be(ee){var ae=this;if("[object Array]"!==Object.prototype.toString.call(ee))return this.reject(new TypeError("must be an array"));var ne=ee.length,se=!1;if(!ne)return this.resolve([]);for(var st=-1,$e=new this(R);++st<ne;)ae.resolve(ee[st]).then(function(ht){se||(se=!0,H.resolve($e,ht))},function(ht){se||(se=!0,H.reject($e,ht))});return $e}},{1:1}],3:[function(E,z,p){(function(O){"use strict";"function"!=typeof O.Promise&&(O.Promise=E(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(E,z,p){"use strict";var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(mt){return typeof mt}:function(mt){return mt&&"function"==typeof Symbol&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt};var G=function H(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function Ee(mt,It){mt=mt||[],It=It||{};try{return new Blob(mt,It)}catch(on){if("TypeError"!==on.name)throw on;for(var $t=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),Xt=0;Xt<mt.length;Xt+=1)$t.append(mt[Xt]);return $t.getBlob(It.type)}}typeof Promise>"u"&&E(3);var he=Promise;function Pe(mt,It){It&&mt.then(function(Ot){It(null,Ot)},function(Ot){It(Ot)})}function Ie(mt,It,Ot){"function"==typeof It&&mt.then(It),"function"==typeof Ot&&mt.catch(Ot)}function it(mt){return"string"!=typeof mt&&(console.warn(mt+" used as a key, but it is not a string."),mt=String(mt)),mt}function pe(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var ve="local-forage-detect-blob-support",de=void 0,J={},te=Object.prototype.toString,be="readonly",ee="readwrite";function ae(mt){for(var It=mt.length,Ot=new ArrayBuffer(It),$t=new Uint8Array(Ot),Xt=0;Xt<It;Xt++)$t[Xt]=mt.charCodeAt(Xt);return Ot}function se(mt){return"boolean"==typeof de?he.resolve(de):function ne(mt){return new he(function(It){var Ot=mt.transaction(ve,ee),$t=Ee([""]);Ot.objectStore(ve).put($t,"key"),Ot.onabort=function(Xt){Xt.preventDefault(),Xt.stopPropagation(),It(!1)},Ot.oncomplete=function(){var Xt=navigator.userAgent.match(/Chrome\/(\d+)/),on=navigator.userAgent.match(/Edge\//);It(on||!Xt||parseInt(Xt[1],10)>=43)}}).catch(function(){return!1})}(mt).then(function(It){return de=It})}function st(mt){var It=J[mt.name],Ot={};Ot.promise=new he(function($t,Xt){Ot.resolve=$t,Ot.reject=Xt}),It.deferredOperations.push(Ot),It.dbReady=It.dbReady?It.dbReady.then(function(){return Ot.promise}):Ot.promise}function $e(mt){var Ot=J[mt.name].deferredOperations.pop();if(Ot)return Ot.resolve(),Ot.promise}function rt(mt,It){var $t=J[mt.name].deferredOperations.pop();if($t)return $t.reject(It),$t.promise}function Te(mt,It){return new he(function(Ot,$t){if(J[mt.name]=J[mt.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},mt.db){if(!It)return Ot(mt.db);st(mt),mt.db.close()}var Xt=[mt.name];It&&Xt.push(mt.version);var on=G.open.apply(G,Xt);It&&(on.onupgradeneeded=function(rr){var Cn=on.result;try{Cn.createObjectStore(mt.storeName),rr.oldVersion<=1&&Cn.createObjectStore(ve)}catch(wr){if("ConstraintError"!==wr.name)throw wr;console.warn('The database "'+mt.name+'" has been upgraded from version '+rr.oldVersion+" to version "+rr.newVersion+', but the storage "'+mt.storeName+'" already exists.')}}),on.onerror=function(rr){rr.preventDefault(),$t(on.error)},on.onsuccess=function(){var rr=on.result;rr.onversionchange=function(Cn){Cn.target.close()},Ot(rr),$e(mt)}})}function ht(mt){return Te(mt,!1)}function tt(mt){return Te(mt,!0)}function He(mt,It){if(!mt.db)return!0;var Ot=!mt.db.objectStoreNames.contains(mt.storeName),Xt=mt.version>mt.db.version;if(mt.version<mt.db.version&&(mt.version!==It&&console.warn('The database "'+mt.name+"\" can't be downgraded from version "+mt.db.version+" to version "+mt.version+"."),mt.version=mt.db.version),Xt||Ot){if(Ot){var on=mt.db.version+1;on>mt.version&&(mt.version=on)}return!0}return!1}function et(mt){return Ee([ae(atob(mt.data))],{type:mt.type})}function Xe(mt){return mt&&mt.__local_forage_encoded_blob}function De(mt){var It=this,Ot=It._initReady().then(function(){var $t=J[It._dbInfo.name];if($t&&$t.dbReady)return $t.dbReady});return Ie(Ot,mt,mt),Ot}function ze(mt,It,Ot,$t){void 0===$t&&($t=1);try{var Xt=mt.db.transaction(mt.storeName,It);Ot(null,Xt)}catch(on){if($t>0&&(!mt.db||"InvalidStateError"===on.name||"NotFoundError"===on.name))return he.resolve().then(function(){if(!mt.db||"NotFoundError"===on.name&&!mt.db.objectStoreNames.contains(mt.storeName)&&mt.version<=mt.db.version)return mt.db&&(mt.version=mt.db.version+1),tt(mt)}).then(function(){return function le(mt){st(mt);for(var It=J[mt.name],Ot=It.forages,$t=0;$t<Ot.length;$t++){var Xt=Ot[$t];Xt._dbInfo.db&&(Xt._dbInfo.db.close(),Xt._dbInfo.db=null)}return mt.db=null,ht(mt).then(function(on){return mt.db=on,He(mt)?tt(mt):on}).then(function(on){mt.db=It.db=on;for(var rr=0;rr<Ot.length;rr++)Ot[rr]._dbInfo.db=on}).catch(function(on){throw rt(mt,on),on})}(mt).then(function(){ze(mt,It,Ot,$t-1)})}).catch(Ot);Ot(on)}}var Ln={_driver:"asyncStorage",_initStorage:function Yt(mt){var It=this,Ot={db:null};if(mt)for(var $t in mt)Ot[$t]=mt[$t];var Xt=J[Ot.name];Xt||(J[Ot.name]=Xt={forages:[],db:null,dbReady:null,deferredOperations:[]}),Xt.forages.push(It),It._initReady||(It._initReady=It.ready,It.ready=De);var on=[];function rr(){return he.resolve()}for(var Cn=0;Cn<Xt.forages.length;Cn++){var wr=Xt.forages[Cn];wr!==It&&on.push(wr._initReady().catch(rr))}var Lr=Xt.forages.slice(0);return he.all(on).then(function(){return Ot.db=Xt.db,ht(Ot)}).then(function(ar){return Ot.db=ar,He(Ot,It._defaultConfig.version)?tt(Ot):ar}).then(function(ar){Ot.db=Xt.db=ar,It._dbInfo=Ot;for(var qr=0;qr<Lr.length;qr++){var ei=Lr[qr];ei!==It&&(ei._dbInfo.db=Ot.db,ei._dbInfo.version=Ot.version)}})},_support:function ie(){try{if(!G||!G.open)return!1;var mt=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),It="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!mt||It)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function bn(mt,It){var Ot=this,$t=new he(function(Xt,on){Ot.ready().then(function(){ze(Ot._dbInfo,be,function(rr,Cn){if(rr)return on(rr);try{var Lr=Cn.objectStore(Ot._dbInfo.storeName).openCursor(),ar=1;Lr.onsuccess=function(){var qr=Lr.result;if(qr){var ei=qr.value;Xe(ei)&&(ei=et(ei));var ss=mt(ei,qr.key,ar++);void 0!==ss?Xt(ss):qr.continue()}else Xt()},Lr.onerror=function(){on(Lr.error)}}catch(qr){on(qr)}})}).catch(on)});return Pe($t,It),$t},getItem:function Ct(mt,It){var Ot=this;mt=it(mt);var $t=new he(function(Xt,on){Ot.ready().then(function(){ze(Ot._dbInfo,be,function(rr,Cn){if(rr)return on(rr);try{var Lr=Cn.objectStore(Ot._dbInfo.storeName).get(mt);Lr.onsuccess=function(){var ar=Lr.result;void 0===ar&&(ar=null),Xe(ar)&&(ar=et(ar)),Xt(ar)},Lr.onerror=function(){on(Lr.error)}}catch(ar){on(ar)}})}).catch(on)});return Pe($t,It),$t},setItem:function fn(mt,It,Ot){var $t=this;mt=it(mt);var Xt=new he(function(on,rr){var Cn;$t.ready().then(function(){return Cn=$t._dbInfo,"[object Blob]"===te.call(It)?se(Cn.db).then(function(wr){return wr?It:function _t(mt){return new he(function(It,Ot){var $t=new FileReader;$t.onerror=Ot,$t.onloadend=function(Xt){var on=btoa(Xt.target.result||"");It({__local_forage_encoded_blob:!0,data:on,type:mt.type})},$t.readAsBinaryString(mt)})}(It)}):It}).then(function(wr){ze($t._dbInfo,ee,function(Lr,ar){if(Lr)return rr(Lr);try{var qr=ar.objectStore($t._dbInfo.storeName);null===wr&&(wr=void 0);var ei=qr.put(wr,mt);ar.oncomplete=function(){void 0===wr&&(wr=null),on(wr)},ar.onabort=ar.onerror=function(){rr(ei.error?ei.error:ei.transaction.error)}}catch(ss){rr(ss)}})}).catch(rr)});return Pe(Xt,Ot),Xt},removeItem:function kn(mt,It){var Ot=this;mt=it(mt);var $t=new he(function(Xt,on){Ot.ready().then(function(){ze(Ot._dbInfo,ee,function(rr,Cn){if(rr)return on(rr);try{var Lr=Cn.objectStore(Ot._dbInfo.storeName).delete(mt);Cn.oncomplete=function(){Xt()},Cn.onerror=function(){on(Lr.error)},Cn.onabort=function(){on(Lr.error?Lr.error:Lr.transaction.error)}}catch(ar){on(ar)}})}).catch(on)});return Pe($t,It),$t},clear:function un(mt){var It=this,Ot=new he(function($t,Xt){It.ready().then(function(){ze(It._dbInfo,ee,function(on,rr){if(on)return Xt(on);try{var wr=rr.objectStore(It._dbInfo.storeName).clear();rr.oncomplete=function(){$t()},rr.onabort=rr.onerror=function(){Xt(wr.error?wr.error:wr.transaction.error)}}catch(Lr){Xt(Lr)}})}).catch(Xt)});return Pe(Ot,mt),Ot},length:function Xn(mt){var It=this,Ot=new he(function($t,Xt){It.ready().then(function(){ze(It._dbInfo,be,function(on,rr){if(on)return Xt(on);try{var wr=rr.objectStore(It._dbInfo.storeName).count();wr.onsuccess=function(){$t(wr.result)},wr.onerror=function(){Xt(wr.error)}}catch(Lr){Xt(Lr)}})}).catch(Xt)});return Pe(Ot,mt),Ot},key:function Rn(mt,It){var Ot=this,$t=new he(function(Xt,on){mt<0?Xt(null):Ot.ready().then(function(){ze(Ot._dbInfo,be,function(rr,Cn){if(rr)return on(rr);try{var wr=Cn.objectStore(Ot._dbInfo.storeName),Lr=!1,ar=wr.openKeyCursor();ar.onsuccess=function(){var qr=ar.result;qr?0===mt||Lr?Xt(qr.key):(Lr=!0,qr.advance(mt)):Xt(null)},ar.onerror=function(){on(ar.error)}}catch(qr){on(qr)}})}).catch(on)});return Pe($t,It),$t},keys:function dr(mt){var It=this,Ot=new he(function($t,Xt){It.ready().then(function(){ze(It._dbInfo,be,function(on,rr){if(on)return Xt(on);try{var wr=rr.objectStore(It._dbInfo.storeName).openKeyCursor(),Lr=[];wr.onsuccess=function(){var ar=wr.result;ar?(Lr.push(ar.key),ar.continue()):$t(Lr)},wr.onerror=function(){Xt(wr.error)}}catch(ar){Xt(ar)}})}).catch(Xt)});return Pe(Ot,mt),Ot},dropInstance:function Xr(mt,It){It=pe.apply(this,arguments);var Xt,Ot=this.config();return(mt="function"!=typeof mt&&mt||{}).name||(mt.name=mt.name||Ot.name,mt.storeName=mt.storeName||Ot.storeName),Pe(Xt=mt.name?(mt.name===Ot.name&&this._dbInfo.db?he.resolve(this._dbInfo.db):ht(mt).then(function(Cn){var wr=J[mt.name],Lr=wr.forages;wr.db=Cn;for(var ar=0;ar<Lr.length;ar++)Lr[ar]._dbInfo.db=Cn;return Cn})).then(mt.storeName?function(Cn){if(Cn.objectStoreNames.contains(mt.storeName)){var wr=Cn.version+1;st(mt);var Lr=J[mt.name],ar=Lr.forages;Cn.close();for(var qr=0;qr<ar.length;qr++){var ei=ar[qr];ei._dbInfo.db=null,ei._dbInfo.version=wr}return new he(function(Ps,Re){var ut=G.open(mt.name,wr);ut.onerror=function(Wt){ut.result.close(),Re(Wt)},ut.onupgradeneeded=function(){ut.result.deleteObjectStore(mt.storeName)},ut.onsuccess=function(){var Wt=ut.result;Wt.close(),Ps(Wt)}}).then(function(Ps){Lr.db=Ps;for(var Re=0;Re<ar.length;Re++){var ut=ar[Re];ut._dbInfo.db=Ps,$e(ut._dbInfo)}}).catch(function(Ps){throw(rt(mt,Ps)||he.resolve()).catch(function(){}),Ps})}}:function(Cn){st(mt);var wr=J[mt.name],Lr=wr.forages;Cn.close();for(var ar=0;ar<Lr.length;ar++)Lr[ar]._dbInfo.db=null;return new he(function(ss,Ps){var Re=G.deleteDatabase(mt.name);Re.onerror=function(){var ut=Re.result;ut&&ut.close(),Ps(Re.error)},Re.onblocked=function(){console.warn('dropInstance blocked for database "'+mt.name+'" until all open connections are closed')},Re.onsuccess=function(){var ut=Re.result;ut&&ut.close(),ss(ut)}}).then(function(ss){wr.db=ss;for(var Ps=0;Ps<Lr.length;Ps++)$e(Lr[Ps]._dbInfo)}).catch(function(ss){throw(rt(mt,ss)||he.resolve()).catch(function(){}),ss})}):he.reject("Invalid arguments"),It),Xt}};var xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",en=/^~~local_forage_type~([^~]+)~/,Wn="__lfsc__:",rn="arbf",Fn="blob",Ge=Object.prototype.toString;function xe(mt){var $t,on,rr,Cn,wr,It=.75*mt.length,Ot=mt.length,Xt=0;"="===mt[mt.length-1]&&(It--,"="===mt[mt.length-2]&&It--);var Lr=new ArrayBuffer(It),ar=new Uint8Array(Lr);for($t=0;$t<Ot;$t+=4)on=xr.indexOf(mt[$t]),rr=xr.indexOf(mt[$t+1]),Cn=xr.indexOf(mt[$t+2]),wr=xr.indexOf(mt[$t+3]),ar[Xt++]=on<<2|rr>>4,ar[Xt++]=(15&rr)<<4|Cn>>2,ar[Xt++]=(3&Cn)<<6|63&wr;return Lr}function Q(mt){var $t,It=new Uint8Array(mt),Ot="";for($t=0;$t<It.length;$t+=3)Ot+=xr[It[$t]>>2],Ot+=xr[(3&It[$t])<<4|It[$t+1]>>4],Ot+=xr[(15&It[$t+1])<<2|It[$t+2]>>6],Ot+=xr[63&It[$t+2]];return It.length%3==2?Ot=Ot.substring(0,Ot.length-1)+"=":It.length%3==1&&(Ot=Ot.substring(0,Ot.length-2)+"=="),Ot}var Mt={serialize:function oe(mt,It){var Ot="";if(mt&&(Ot=Ge.call(mt)),mt&&("[object ArrayBuffer]"===Ot||mt.buffer&&"[object ArrayBuffer]"===Ge.call(mt.buffer))){var $t,Xt=Wn;mt instanceof ArrayBuffer?($t=mt,Xt+=rn):($t=mt.buffer,"[object Int8Array]"===Ot?Xt+="si08":"[object Uint8Array]"===Ot?Xt+="ui08":"[object Uint8ClampedArray]"===Ot?Xt+="uic8":"[object Int16Array]"===Ot?Xt+="si16":"[object Uint16Array]"===Ot?Xt+="ur16":"[object Int32Array]"===Ot?Xt+="si32":"[object Uint32Array]"===Ot?Xt+="ui32":"[object Float32Array]"===Ot?Xt+="fl32":"[object Float64Array]"===Ot?Xt+="fl64":It(new Error("Failed to get type for BinaryArray"))),It(Xt+Q($t))}else if("[object Blob]"===Ot){var on=new FileReader;on.onload=function(){var rr="~~local_forage_type~"+mt.type+"~"+Q(this.result);It(Wn+Fn+rr)},on.readAsArrayBuffer(mt)}else try{It(JSON.stringify(mt))}catch(rr){console.error("Couldn't convert value into a JSON string: ",mt),It(null,rr)}},deserialize:function We(mt){if(mt.substring(0,9)!==Wn)return JSON.parse(mt);var $t,It=mt.substring(13),Ot=mt.substring(9,13);if(Ot===Fn&&en.test(It)){var Xt=It.match(en);$t=Xt[1],It=It.substring(Xt[0].length)}var on=xe(It);switch(Ot){case rn:return on;case Fn:return Ee([on],{type:$t});case"si08":return new Int8Array(on);case"ui08":return new Uint8Array(on);case"uic8":return new Uint8ClampedArray(on);case"si16":return new Int16Array(on);case"ur16":return new Uint16Array(on);case"si32":return new Int32Array(on);case"ui32":return new Uint32Array(on);case"fl32":return new Float32Array(on);case"fl64":return new Float64Array(on);default:throw new Error("Unkown type: "+Ot)}},stringToBuffer:xe,bufferToString:Q};function St(mt,It,Ot,$t){mt.executeSql("CREATE TABLE IF NOT EXISTS "+It.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ot,$t)}function dn(mt,It,Ot,$t,Xt,on){mt.executeSql(Ot,$t,Xt,function(rr,Cn){Cn.code===Cn.SYNTAX_ERR?rr.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[It.storeName],function(wr,Lr){Lr.rows.length?on(wr,Cn):St(wr,It,function(){wr.executeSql(Ot,$t,Xt,on)},on)},on):on(rr,Cn)},on)}function Se(mt,It,Ot,$t){var Xt=this;mt=it(mt);var on=new he(function(rr,Cn){Xt.ready().then(function(){void 0===It&&(It=null);var wr=It,Lr=Xt._dbInfo;Lr.serializer.serialize(It,function(ar,qr){qr?Cn(qr):Lr.db.transaction(function(ei){dn(ei,Lr,"INSERT OR REPLACE INTO "+Lr.storeName+" (key, value) VALUES (?, ?)",[mt,ar],function(){rr(wr)},function(ss,Ps){Cn(Ps)})},function(ei){if(ei.code===ei.QUOTA_ERR){if($t>0)return void rr(Se.apply(Xt,[mt,wr,Ot,$t-1]));Cn(ei)}})})}).catch(Cn)});return Pe(on,Ot),on}var En={_driver:"webSQLStorage",_initStorage:function kt(mt){var It=this,Ot={db:null};if(mt)for(var $t in mt)Ot[$t]="string"!=typeof mt[$t]?mt[$t].toString():mt[$t];var Xt=new he(function(on,rr){try{Ot.db=openDatabase(Ot.name,String(Ot.version),Ot.description,Ot.size)}catch(Cn){return rr(Cn)}Ot.db.transaction(function(Cn){St(Cn,Ot,function(){It._dbInfo=Ot,on()},function(wr,Lr){rr(Lr)})},rr)});return Ot.serializer=Mt,Xt},_support:function ir(){return"function"==typeof openDatabase}(),iterate:function ce(mt,It){var Ot=this,$t=new he(function(Xt,on){Ot.ready().then(function(){var rr=Ot._dbInfo;rr.db.transaction(function(Cn){dn(Cn,rr,"SELECT * FROM "+rr.storeName,[],function(wr,Lr){for(var ar=Lr.rows,qr=ar.length,ei=0;ei<qr;ei++){var ss=ar.item(ei),Ps=ss.value;if(Ps&&(Ps=rr.serializer.deserialize(Ps)),void 0!==(Ps=mt(Ps,ss.key,ei+1)))return void Xt(Ps)}Xt()},function(wr,Lr){on(Lr)})})}).catch(on)});return Pe($t,It),$t},getItem:function me(mt,It){var Ot=this;mt=it(mt);var $t=new he(function(Xt,on){Ot.ready().then(function(){var rr=Ot._dbInfo;rr.db.transaction(function(Cn){dn(Cn,rr,"SELECT * FROM "+rr.storeName+" WHERE key = ? LIMIT 1",[mt],function(wr,Lr){var ar=Lr.rows.length?Lr.rows.item(0).value:null;ar&&(ar=rr.serializer.deserialize(ar)),Xt(ar)},function(wr,Lr){on(Lr)})})}).catch(on)});return Pe($t,It),$t},setItem:function Me(mt,It,Ot){return Se.apply(this,[mt,It,Ot,1])},removeItem:function Je(mt,It){var Ot=this;mt=it(mt);var $t=new he(function(Xt,on){Ot.ready().then(function(){var rr=Ot._dbInfo;rr.db.transaction(function(Cn){dn(Cn,rr,"DELETE FROM "+rr.storeName+" WHERE key = ?",[mt],function(){Xt()},function(wr,Lr){on(Lr)})})}).catch(on)});return Pe($t,It),$t},clear:function gt(mt){var It=this,Ot=new he(function($t,Xt){It.ready().then(function(){var on=It._dbInfo;on.db.transaction(function(rr){dn(rr,on,"DELETE FROM "+on.storeName,[],function(){$t()},function(Cn,wr){Xt(wr)})})}).catch(Xt)});return Pe(Ot,mt),Ot},length:function Ft(mt){var It=this,Ot=new he(function($t,Xt){It.ready().then(function(){var on=It._dbInfo;on.db.transaction(function(rr){dn(rr,on,"SELECT COUNT(key) as c FROM "+on.storeName,[],function(Cn,wr){var Lr=wr.rows.item(0).c;$t(Lr)},function(Cn,wr){Xt(wr)})})}).catch(Xt)});return Pe(Ot,mt),Ot},key:function Tt(mt,It){var Ot=this,$t=new he(function(Xt,on){Ot.ready().then(function(){var rr=Ot._dbInfo;rr.db.transaction(function(Cn){dn(Cn,rr,"SELECT key FROM "+rr.storeName+" WHERE id = ? LIMIT 1",[mt+1],function(wr,Lr){var ar=Lr.rows.length?Lr.rows.item(0).key:null;Xt(ar)},function(wr,Lr){on(Lr)})})}).catch(on)});return Pe($t,It),$t},keys:function xt(mt){var It=this,Ot=new he(function($t,Xt){It.ready().then(function(){var on=It._dbInfo;on.db.transaction(function(rr){dn(rr,on,"SELECT key FROM "+on.storeName,[],function(Cn,wr){for(var Lr=[],ar=0;ar<wr.rows.length;ar++)Lr.push(wr.rows.item(ar).key);$t(Lr)},function(Cn,wr){Xt(wr)})})}).catch(Xt)});return Pe(Ot,mt),Ot},dropInstance:function hn(mt,It){It=pe.apply(this,arguments);var Ot=this.config();(mt="function"!=typeof mt&&mt||{}).name||(mt.name=mt.name||Ot.name,mt.storeName=mt.storeName||Ot.storeName);var Xt,$t=this;return Pe(Xt=mt.name?new he(function(on){var rr;rr=mt.name===Ot.name?$t._dbInfo.db:openDatabase(mt.name,"","",0),on(mt.storeName?{db:rr,storeNames:[mt.storeName]}:function Bt(mt){return new he(function(It,Ot){mt.transaction(function($t){$t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Xt,on){for(var rr=[],Cn=0;Cn<on.rows.length;Cn++)rr.push(on.rows.item(Cn).name);It({db:mt,storeNames:rr})},function(Xt,on){Ot(on)})},function($t){Ot($t)})})}(rr))}).then(function(on){return new he(function(rr,Cn){on.db.transaction(function(wr){function Lr(ss){return new he(function(Ps,Re){wr.executeSql("DROP TABLE IF EXISTS "+ss,[],function(){Ps()},function(ut,Wt){Re(Wt)})})}for(var ar=[],qr=0,ei=on.storeNames.length;qr<ei;qr++)ar.push(Lr(on.storeNames[qr]));he.all(ar).then(function(){rr()}).catch(function(ss){Cn(ss)})},function(wr){Cn(wr)})})}):he.reject("Invalid arguments"),It),Xt}};function sr(mt,It){var Ot=mt.name+"/";return mt.storeName!==It.storeName&&(Ot+=mt.storeName+"/"),Ot}function Gn(){return!function fr(){var mt="_localforage_support_test";try{return localStorage.setItem(mt,!0),localStorage.removeItem(mt),!1}catch{return!0}}()||localStorage.length>0}var Zi={_driver:"localStorageWrapper",_initStorage:function lr(mt){var Ot={};if(mt)for(var $t in mt)Ot[$t]=mt[$t];return Ot.keyPrefix=sr(mt,this._defaultConfig),Gn()?(this._dbInfo=Ot,Ot.serializer=Mt,he.resolve()):he.reject()},_support:function In(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function Ir(mt,It){var Ot=this,$t=Ot.ready().then(function(){for(var Xt=Ot._dbInfo,on=Xt.keyPrefix,rr=on.length,Cn=localStorage.length,wr=1,Lr=0;Lr<Cn;Lr++){var ar=localStorage.key(Lr);if(0===ar.indexOf(on)){var qr=localStorage.getItem(ar);if(qr&&(qr=Xt.serializer.deserialize(qr)),void 0!==(qr=mt(qr,ar.substring(rr),wr++)))return qr}}});return Pe($t,It),$t},getItem:function Wr(mt,It){var Ot=this;mt=it(mt);var $t=Ot.ready().then(function(){var Xt=Ot._dbInfo,on=localStorage.getItem(Xt.keyPrefix+mt);return on&&(on=Xt.serializer.deserialize(on)),on});return Pe($t,It),$t},setItem:function Cs(mt,It,Ot){var $t=this;mt=it(mt);var Xt=$t.ready().then(function(){void 0===It&&(It=null);var on=It;return new he(function(rr,Cn){var wr=$t._dbInfo;wr.serializer.serialize(It,function(Lr,ar){if(ar)Cn(ar);else try{localStorage.setItem(wr.keyPrefix+mt,Lr),rr(on)}catch(qr){("QuotaExceededError"===qr.name||"NS_ERROR_DOM_QUOTA_REACHED"===qr.name)&&Cn(qr),Cn(qr)}})})});return Pe(Xt,Ot),Xt},removeItem:function mi(mt,It){var Ot=this;mt=it(mt);var $t=Ot.ready().then(function(){localStorage.removeItem(Ot._dbInfo.keyPrefix+mt)});return Pe($t,It),$t},clear:function hr(mt){var It=this,Ot=It.ready().then(function(){for(var $t=It._dbInfo.keyPrefix,Xt=localStorage.length-1;Xt>=0;Xt--){var on=localStorage.key(Xt);0===on.indexOf($t)&&localStorage.removeItem(on)}});return Pe(Ot,mt),Ot},length:function Js(mt){var Ot=this.keys().then(function($t){return $t.length});return Pe(Ot,mt),Ot},key:function wi(mt,It){var Ot=this,$t=Ot.ready().then(function(){var on,Xt=Ot._dbInfo;try{on=localStorage.key(mt)}catch{on=null}return on&&(on=on.substring(Xt.keyPrefix.length)),on});return Pe($t,It),$t},keys:function li(mt){var It=this,Ot=It.ready().then(function(){for(var $t=It._dbInfo,Xt=localStorage.length,on=[],rr=0;rr<Xt;rr++){var Cn=localStorage.key(rr);0===Cn.indexOf($t.keyPrefix)&&on.push(Cn.substring($t.keyPrefix.length))}return on});return Pe(Ot,mt),Ot},dropInstance:function Yi(mt,It){if(It=pe.apply(this,arguments),!(mt="function"!=typeof mt&&mt||{}).name){var Ot=this.config();mt.name=mt.name||Ot.name,mt.storeName=mt.storeName||Ot.storeName}var Xt,$t=this;return Pe(Xt=mt.name?new he(function(on){on(mt.storeName?sr(mt,$t._defaultConfig):mt.name+"/")}).then(function(on){for(var rr=localStorage.length-1;rr>=0;rr--){var Cn=localStorage.key(rr);0===Cn.indexOf(on)&&localStorage.removeItem(Cn)}}):he.reject("Invalid arguments"),It),Xt}},za=function(It,Ot){return It===Ot||"number"==typeof It&&"number"==typeof Ot&&isNaN(It)&&isNaN(Ot)},no=function(It,Ot){for(var $t=It.length,Xt=0;Xt<$t;){if(za(It[Xt],Ot))return!0;Xt++}return!1},Oo=Array.isArray||function(mt){return"[object Array]"===Object.prototype.toString.call(mt)},Ns={},Wi={},Xi={INDEXEDDB:Ln,WEBSQL:En,LOCALSTORAGE:Zi},jn=[Xi.INDEXEDDB._driver,Xi.WEBSQL._driver,Xi.LOCALSTORAGE._driver],vr=["dropInstance"],Qr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(vr),Xs={description:"",driver:jn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function hs(mt,It){mt[It]=function(){var Ot=arguments;return mt.ready().then(function(){return mt[It].apply(mt,Ot)})}}function ps(){for(var mt=1;mt<arguments.length;mt++){var It=arguments[mt];if(It)for(var Ot in It)It.hasOwnProperty(Ot)&&(arguments[0][Ot]=Oo(It[Ot])?It[Ot].slice():It[Ot])}return arguments[0]}var Ds=function(){function mt(It){for(var Ot in function R(mt,It){if(!(mt instanceof It))throw new TypeError("Cannot call a class as a function")}(this,mt),Xi)if(Xi.hasOwnProperty(Ot)){var $t=Xi[Ot],Xt=$t._driver;this[Ot]=Xt,Ns[Xt]||this.defineDriver($t)}this._defaultConfig=ps({},Xs),this._config=ps({},this._defaultConfig,It),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return mt.prototype.config=function(Ot){if("object"===(typeof Ot>"u"?"undefined":O(Ot))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var $t in Ot){if("storeName"===$t&&(Ot[$t]=Ot[$t].replace(/\W/g,"_")),"version"===$t&&"number"!=typeof Ot[$t])return new Error("Database version must be a number.");this._config[$t]=Ot[$t]}return!("driver"in Ot)||!Ot.driver||this.setDriver(this._config.driver)}return"string"==typeof Ot?this._config[Ot]:this._config},mt.prototype.defineDriver=function(Ot,$t,Xt){var on=new he(function(rr,Cn){try{var wr=Ot._driver,Lr=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ot._driver)return void Cn(Lr);for(var ar=Qr.concat("_initStorage"),qr=0,ei=ar.length;qr<ei;qr++){var ss=ar[qr];if((!no(vr,ss)||Ot[ss])&&"function"!=typeof Ot[ss])return void Cn(Lr)}!function(){for(var An=function(jr){return function(){var ns=new Error("Method "+jr+" is not implemented by the current driver"),Ml=he.reject(ns);return Pe(Ml,arguments[arguments.length-1]),Ml}},Mr=0,Hr=vr.length;Mr<Hr;Mr++){var gn=vr[Mr];Ot[gn]||(Ot[gn]=An(gn))}}();var ut=function(An){Ns[wr]&&console.info("Redefining LocalForage driver: "+wr),Ns[wr]=Ot,Wi[wr]=An,rr()};"_support"in Ot?Ot._support&&"function"==typeof Ot._support?Ot._support().then(ut,Cn):ut(!!Ot._support):ut(!0)}catch(Wt){Cn(Wt)}});return Ie(on,$t,Xt),on},mt.prototype.driver=function(){return this._driver||null},mt.prototype.getDriver=function(Ot,$t,Xt){var on=Ns[Ot]?he.resolve(Ns[Ot]):he.reject(new Error("Driver not found."));return Ie(on,$t,Xt),on},mt.prototype.getSerializer=function(Ot){var $t=he.resolve(Mt);return Ie($t,Ot),$t},mt.prototype.ready=function(Ot){var $t=this,Xt=$t._driverSet.then(function(){return null===$t._ready&&($t._ready=$t._initDriver()),$t._ready});return Ie(Xt,Ot,Ot),Xt},mt.prototype.setDriver=function(Ot,$t,Xt){var on=this;Oo(Ot)||(Ot=[Ot]);var rr=this._getSupportedDrivers(Ot);function Cn(){on._config.driver=on.driver()}function wr(qr){return on._extend(qr),Cn(),on._ready=on._initStorage(on._config),on._ready}var ar=null!==this._driverSet?this._driverSet.catch(function(){return he.resolve()}):he.resolve();return this._driverSet=ar.then(function(){var qr=rr[0];return on._dbInfo=null,on._ready=null,on.getDriver(qr).then(function(ei){on._driver=ei._driver,Cn(),on._wrapLibraryMethodsWithReady(),on._initDriver=function Lr(qr){return function(){var ei=0;return function ss(){for(;ei<qr.length;){var Ps=qr[ei];return ei++,on._dbInfo=null,on._ready=null,on.getDriver(Ps).then(wr).catch(ss)}Cn();var Re=new Error("No available storage method found.");return on._driverSet=he.reject(Re),on._driverSet}()}}(rr)})}).catch(function(){Cn();var qr=new Error("No available storage method found.");return on._driverSet=he.reject(qr),on._driverSet}),Ie(this._driverSet,$t,Xt),this._driverSet},mt.prototype.supports=function(Ot){return!!Wi[Ot]},mt.prototype._extend=function(Ot){ps(this,Ot)},mt.prototype._getSupportedDrivers=function(Ot){for(var $t=[],Xt=0,on=Ot.length;Xt<on;Xt++){var rr=Ot[Xt];this.supports(rr)&&$t.push(rr)}return $t},mt.prototype._wrapLibraryMethodsWithReady=function(){for(var Ot=0,$t=Qr.length;Ot<$t;Ot++)hs(this,Qr[Ot])},mt.prototype.createInstance=function(Ot){return new mt(Ot)},mt}(),kl=new Ds;z.exports=kl},{3:3}]},{},[4])(4)},6990:function(pt,Ze,X){var B;pt=X.nmd(pt),function(){var E,R="Expected a function",G="__lodash_hash_undefined__",Ee="__lodash_placeholder__",et=1/0,Xe=9007199254740991,ze=4294967295,Ct=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],bn="[object Arguments]",fn="[object Array]",un="[object Boolean]",Xn="[object Date]",dr="[object Error]",Xr="[object Function]",Ln="[object GeneratorFunction]",ir="[object Map]",xr="[object Number]",en="[object Object]",Wn="[object Promise]",rn="[object RegExp]",Fn="[object Set]",zr="[object String]",Li="[object Symbol]",Zn="[object WeakMap]",Qi="[object ArrayBuffer]",Nr="[object DataView]",Dn="[object Float32Array]",nn="[object Float64Array]",ke="[object Int8Array]",Ge="[object Int16Array]",xe="[object Int32Array]",Q="[object Uint8Array]",oe="[object Uint8ClampedArray]",We="[object Uint16Array]",Mt="[object Uint32Array]",St=/\b__p \+= '';/g,kt=/\b(__p \+=) '' \+/g,dn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,me=/&(?:amp|lt|gt|quot|#39);/g,ce=/[&<>"']/g,Se=RegExp(me.source),Me=RegExp(ce.source),Je=/<%-([\s\S]+?)%>/g,gt=/<%([\s\S]+?)%>/g,Ft=/<%=([\s\S]+?)%>/g,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xt=/^\w*$/,Bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/[\\^$.*+?()[\]{}|]/g,En=RegExp(hn.source),In=/^\s+/,sr=/\s/,fr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gn=/\{\n\/\* \[wrapped with (.+)\] \*/,lr=/,? & /,hr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wr=/[()=,{}\[\]\/\s]/,Ir=/\\(\\)?/g,wi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,li=/\w*$/,Js=/^[-+]0x[0-9a-f]+$/i,mi=/^0b[01]+$/i,Cs=/^\[object .+?Constructor\]$/,Yi=/^0o[0-7]+$/i,Zi=/^(?:0|[1-9]\d*)$/,za=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,no=/($^)/,Oo=/['\n\r\u2028\u2029\\]/g,Ns="\\ud800-\\udfff",vr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qr="\\u2700-\\u27bf",Xs="a-z\\xdf-\\xf6\\xf8-\\xff",mt="A-Z\\xc0-\\xd6\\xd8-\\xde",It="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xt="["+Ns+"]",on="["+Ot+"]",rr="["+vr+"]",Cn="\\d+",wr="["+Qr+"]",Lr="["+Xs+"]",ar="[^"+Ns+Ot+Cn+Qr+Xs+mt+"]",qr="\\ud83c[\\udffb-\\udfff]",ss="[^"+Ns+"]",Ps="(?:\\ud83c[\\udde6-\\uddff]){2}",Re="[\\ud800-\\udbff][\\udc00-\\udfff]",ut="["+mt+"]",An="(?:"+Lr+"|"+ar+")",Mr="(?:"+ut+"|"+ar+")",Hr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",gn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",zi="(?:"+rr+"|"+qr+")?",jr="["+It+"]?",Ac=jr+zi+"(?:\\u200d(?:"+[ss,Ps,Re].join("|")+")"+jr+zi+")*",qa="(?:"+[wr,Ps,Re].join("|")+")"+Ac,us="(?:"+[ss+rr+"?",rr,Ps,Re,Xt].join("|")+")",_l=RegExp("['\u2019]","g"),Aa=RegExp(rr,"g"),ju=RegExp(qr+"(?="+qr+")|"+us+Ac,"g"),dl=RegExp([ut+"?"+Lr+"+"+Hr+"(?="+[on,ut,"$"].join("|")+")",Mr+"+"+gn+"(?="+[on,ut+An,"$"].join("|")+")",ut+"?"+An+"+"+Hr,ut+"+"+gn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cn,qa].join("|"),"g"),Ao=RegExp("[\\u200d"+Ns+vr+It+"]"),ja=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],os=-1,Qs={};Qs[Dn]=Qs[nn]=Qs[ke]=Qs[Ge]=Qs[xe]=Qs[Q]=Qs[oe]=Qs[We]=Qs[Mt]=!0,Qs[bn]=Qs[fn]=Qs[Qi]=Qs[un]=Qs[Nr]=Qs[Xn]=Qs[dr]=Qs[Xr]=Qs[ir]=Qs[xr]=Qs[en]=Qs[rn]=Qs[Fn]=Qs[zr]=Qs[Zn]=!1;var bs={};bs[bn]=bs[fn]=bs[Qi]=bs[Nr]=bs[un]=bs[Xn]=bs[Dn]=bs[nn]=bs[ke]=bs[Ge]=bs[xe]=bs[ir]=bs[xr]=bs[en]=bs[rn]=bs[Fn]=bs[zr]=bs[Li]=bs[Q]=bs[oe]=bs[We]=bs[Mt]=!0,bs[dr]=bs[Xr]=bs[Zn]=!1;var At={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},an=parseFloat,ln=parseInt,or="object"==typeof global&&global&&global.Object===Object&&global,_n="object"==typeof self&&self&&self.Object===Object&&self,Jn=or||_n||Function("return this")(),nr=Ze&&!Ze.nodeType&&Ze,br=nr&&pt&&!pt.nodeType&&pt,Rr=br&&br.exports===nr,ri=Rr&&or.process,ii=function(){try{return br&&br.require&&br.require("util").types||ri&&ri.binding&&ri.binding("util")}catch{}}(),Vs=ii&&ii.isArrayBuffer,Eo=ii&&ii.isDate,To=ii&&ii.isMap,xs=ii&&ii.isRegExp,Ur=ii&&ii.isSet,Gi=ii&&ii.isTypedArray;function ya(yn,er,zn){switch(zn.length){case 0:return yn.call(er);case 1:return yn.call(er,zn[0]);case 2:return yn.call(er,zn[0],zn[1]);case 3:return yn.call(er,zn[0],zn[1],zn[2])}return yn.apply(er,zn)}function No(yn,er,zn,ui){for(var Ci=-1,Zs=null==yn?0:yn.length;++Ci<Zs;){var eo=yn[Ci];er(ui,eo,zn(eo),yn)}return ui}function gs(yn,er){for(var zn=-1,ui=null==yn?0:yn.length;++zn<ui&&!1!==er(yn[zn],zn,yn););return yn}function $l(yn,er){for(var zn=null==yn?0:yn.length;zn--&&!1!==er(yn[zn],zn,yn););return yn}function md(yn,er){for(var zn=-1,ui=null==yn?0:yn.length;++zn<ui;)if(!er(yn[zn],zn,yn))return!1;return!0}function lo(yn,er){for(var zn=-1,ui=null==yn?0:yn.length,Ci=0,Zs=[];++zn<ui;){var eo=yn[zn];er(eo,zn,yn)&&(Zs[Ci++]=eo)}return Zs}function _d(yn,er){return!(null==yn||!yn.length)&&po(yn,er,0)>-1}function _s(yn,er,zn){for(var ui=-1,Ci=null==yn?0:yn.length;++ui<Ci;)if(zn(er,yn[ui]))return!0;return!1}function mr(yn,er){for(var zn=-1,ui=null==yn?0:yn.length,Ci=Array(ui);++zn<ui;)Ci[zn]=er(yn[zn],zn,yn);return Ci}function Ys(yn,er){for(var zn=-1,ui=er.length,Ci=yn.length;++zn<ui;)yn[Ci+zn]=er[zn];return yn}function mu(yn,er,zn,ui){var Ci=-1,Zs=null==yn?0:yn.length;for(ui&&Zs&&(zn=yn[++Ci]);++Ci<Zs;)zn=er(zn,yn[Ci],Ci,yn);return zn}function Ol(yn,er,zn,ui){var Ci=null==yn?0:yn.length;for(ui&&Ci&&(zn=yn[--Ci]);Ci--;)zn=er(zn,yn[Ci],Ci,yn);return zn}function Pc(yn,er){for(var zn=-1,ui=null==yn?0:yn.length;++zn<ui;)if(er(yn[zn],zn,yn))return!0;return!1}var Ei=Ha("length");function zs(yn,er,zn){var ui;return zn(yn,function(Ci,Zs,eo){if(er(Ci,Zs,eo))return ui=Zs,!1}),ui}function Pa(yn,er,zn,ui){for(var Ci=yn.length,Zs=zn+(ui?1:-1);ui?Zs--:++Zs<Ci;)if(er(yn[Zs],Zs,yn))return Zs;return-1}function po(yn,er,zn){return er==er?function vd(yn,er,zn){for(var ui=zn-1,Ci=yn.length;++ui<Ci;)if(yn[ui]===er)return ui;return-1}(yn,er,zn):Pa(yn,Xa,zn)}function ka(yn,er,zn,ui){for(var Ci=zn-1,Zs=yn.length;++Ci<Zs;)if(ui(yn[Ci],er))return Ci;return-1}function Xa(yn){return yn!=yn}function Gs(yn,er){var zn=null==yn?0:yn.length;return zn?Oa(yn,er)/zn:NaN}function Ha(yn){return function(er){return null==er?E:er[yn]}}function Qu(yn){return function(er){return null==yn?E:yn[er]}}function Nl(yn,er,zn,ui,Ci){return Ci(yn,function(Zs,eo,cs){zn=ui?(ui=!1,Zs):er(zn,Zs,eo,cs)}),zn}function Oa(yn,er){for(var zn,ui=-1,Ci=yn.length;++ui<Ci;){var Zs=er(yn[ui]);Zs!==E&&(zn=zn===E?Zs:zn+Zs)}return zn}function vc(yn,er){for(var zn=-1,ui=Array(yn);++zn<yn;)ui[zn]=er(zn);return ui}function Za(yn){return yn&&yn.slice(0,$a(yn)+1).replace(In,"")}function Fo(yn){return function(er){return yn(er)}}function tr(yn,er){return mr(er,function(zn){return yn[zn]})}function Ms(yn,er){return yn.has(er)}function Pr(yn,er){for(var zn=-1,ui=yn.length;++zn<ui&&po(er,yn[zn],0)>-1;);return zn}function Ul(yn,er){for(var zn=yn.length;zn--&&po(er,yn[zn],0)>-1;);return zn}var Vl=Qu({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),ol=Qu({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function wh(yn){return"\\"+At[yn]}function mo(yn){return Ao.test(yn)}function ro(yn){var er=-1,zn=Array(yn.size);return yn.forEach(function(ui,Ci){zn[++er]=[Ci,ui]}),zn}function qi(yn,er){return function(zn){return yn(er(zn))}}function va(yn,er){for(var zn=-1,ui=yn.length,Ci=0,Zs=[];++zn<ui;){var eo=yn[zn];(eo===er||eo===Ee)&&(yn[zn]=Ee,Zs[Ci++]=zn)}return Zs}function tu(yn){var er=-1,zn=Array(yn.size);return yn.forEach(function(ui){zn[++er]=ui}),zn}function Ka(yn){return mo(yn)?function hl(yn){for(var er=ju.lastIndex=0;ju.test(yn);)++er;return er}(yn):Ei(yn)}function Bo(yn){return mo(yn)?function Du(yn){return yn.match(ju)||[]}(yn):function Co(yn){return yn.split("")}(yn)}function $a(yn){for(var er=yn.length;er--&&sr.test(yn.charAt(er)););return er}var kc=Qu({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),nu=function yn(er){var b,zn=(er=null==er?Jn:nu.defaults(Jn.Object(),er,nu.pick(Jn,gu))).Array,ui=er.Date,Ci=er.Error,Zs=er.Function,eo=er.Math,cs=er.Object,Po=er.RegExp,Ja=er.String,Do=er.TypeError,wa=zn.prototype,yu=cs.prototype,vu=er["__core-js_shared__"],Qn=Zs.prototype.toString,uo=yu.hasOwnProperty,ha=0,hi=(b=/[^.]+$/.exec(vu&&vu.keys&&vu.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",go=yu.toString,fa=Qn.call(cs),yl=Jn._,Ti=Po("^"+Qn.call(uo).replace(hn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kn=Rr?er.Buffer:E,es=er.Symbol,pa=er.Uint8Array,Io=Kn?Kn.allocUnsafe:E,al=qi(cs.getPrototypeOf,cs),to=cs.create,Vc=yu.propertyIsEnumerable,id=wa.splice,Qa=es?es.isConcatSpreadable:E,ru=es?es.iterator:E,ec=es?es.toStringTag:E,wo=function(){try{var b=hd(cs,"defineProperty");return b({},"",{}),b}catch{}}(),si=er.clearTimeout!==Jn.clearTimeout&&er.clearTimeout,_i=ui&&ui.now!==Jn.Date.now&&ui.now,ms=er.setTimeout!==Jn.setTimeout&&er.setTimeout,Ua=eo.ceil,Ca=eo.floor,Na=cs.getOwnPropertySymbols,wu=Kn?Kn.isBuffer:E,ys=er.isFinite,Va=wa.join,js=qi(cs.keys,cs),Di=eo.max,ba=eo.min,Jd=ui.now,sd=er.parseInt,bo=eo.random,wc=wa.reverse,xa=hd(er,"DataView"),vl=hd(er,"Map"),yi=hd(er,"Promise"),ki=hd(er,"Set"),fl=hd(er,"WeakMap"),pl=hd(cs,"create"),Fl=fl&&new fl,ci={},vs=Mu(xa),Gl=Mu(vl),tc=Mu(yi),el=Mu(ki),xo=Mu(fl),ks=es?es.prototype:E,io=ks?ks.valueOf:E,nc=ks?ks.toString:E;function yt(b){if(mn(b)&&!v(b)&&!(b instanceof w)){if(b instanceof _)return b;if(uo.call(b,"__wrapped__"))return qp(b)}return new _(b)}var l=function(){function b(){}return function(D){if(!Jt(D))return{};if(to)return to(D);b.prototype=D;var $=new b;return b.prototype=E,$}}();function c(){}function _(b,D){this.__wrapped__=b,this.__actions__=[],this.__chain__=!!D,this.__index__=0,this.__values__=E}function w(b){this.__wrapped__=b,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ze,this.__views__=[]}function x(b){var D=-1,$=null==b?0:b.length;for(this.clear();++D<$;){var ye=b[D];this.set(ye[0],ye[1])}}function Y(b){var D=-1,$=null==b?0:b.length;for(this.clear();++D<$;){var ye=b[D];this.set(ye[0],ye[1])}}function ot(b){var D=-1,$=null==b?0:b.length;for(this.clear();++D<$;){var ye=b[D];this.set(ye[0],ye[1])}}function Pn(b){var D=-1,$=null==b?0:b.length;for(this.__data__=new ot;++D<$;)this.add(b[D])}function Bn(b){var D=this.__data__=new Y(b);this.size=D.size}function ti(b,D){var $=v(b),ye=!$&&f(b),nt=!$&&!ye&&Z(b),Et=!$&&!ye&&!nt&&Ia(b),Qt=$||ye||nt||Et,xn=Qt?vc(b.length,Ja):[],On=xn.length;for(var Sr in b)(D||uo.call(b,Sr))&&(!Qt||!("length"==Sr||nt&&("offset"==Sr||"parent"==Sr)||Et&&("buffer"==Sr||"byteLength"==Sr||"byteOffset"==Sr)||Ad(Sr,On)))&&xn.push(Sr);return xn}function Hs(b){var D=b.length;return D?b[Rm(0,D-1)]:E}function Br(b,D){return fd(xc(b),Ra(D,0,b.length))}function Ki(b){return fd(xc(b))}function Oi(b,D,$){($!==E&&!Od(b[D],$)||$===E&&!(D in b))&&co(b,D,$)}function Ws(b,D,$){var ye=b[D];(!uo.call(b,D)||!Od(ye,$)||$===E&&!(D in b))&&co(b,D,$)}function Rs(b,D){for(var $=b.length;$--;)if(Od(b[$][0],D))return $;return-1}function Ss(b,D,$,ye){return $u(b,function(nt,Et,Qt){D(ye,nt,$(nt),Qt)}),ye}function Ks(b,D){return b&&ga(D,Zu(D),b)}function co(b,D,$){"__proto__"==D&&wo?wo(b,D,{configurable:!0,enumerable:!0,value:$,writable:!0}):b[D]=$}function Tl(b,D){for(var $=-1,ye=D.length,nt=zn(ye),Et=null==b;++$<ye;)nt[$]=Et?E:E_(b,D[$]);return nt}function Ra(b,D,$){return b==b&&($!==E&&(b=b<=$?b:$),D!==E&&(b=b>=D?b:D)),b}function Mo(b,D,$,ye,nt,Et){var Qt,xn=1&D,On=2&D,Sr=4&D;if($&&(Qt=nt?$(b,ye,nt,Et):$(b)),Qt!==E)return Qt;if(!Jt(b))return b;var Er=v(b);if(Er){if(Qt=function Xm(b){var D=b.length,$=new b.constructor(D);return D&&"string"==typeof b[0]&&uo.call(b,"index")&&($.index=b.index,$.input=b.input),$}(b),!xn)return xc(b,Qt)}else{var Yr=Ou(b),Fi=Yr==Xr||Yr==Ln;if(Z(b))return zm(b,xn);if(Yr==en||Yr==bn||Fi&&!nt){if(Qt=On||Fi?{}:vy(b),!xn)return On?function Rg(b,D){return ga(b,lp(b),D)}(b,function tl(b,D){return b&&ga(D,Jc(D),b)}(Qt,b)):function Hp(b,D){return ga(b,qm(b),D)}(b,Ks(Qt,b))}else{if(!bs[Yr])return nt?b:{};Qt=function ih(b,D,$){var ye=b.constructor;switch(D){case Qi:return sc(b);case un:case Xn:return new ye(+b);case Nr:return function Th(b,D){var $=D?sc(b.buffer):b.buffer;return new b.constructor($,b.byteOffset,b.byteLength)}(b,$);case Dn:case nn:case ke:case Ge:case xe:case Q:case oe:case We:case Mt:return th(b,$);case ir:return new ye;case xr:case zr:return new ye(b);case rn:return function fy(b){var D=new b.constructor(b.source,li.exec(b));return D.lastIndex=b.lastIndex,D}(b);case Fn:return new ye;case Li:return function Qf(b){return io?cs(io.call(b)):{}}(b)}}(b,Yr,xn)}}Et||(Et=new Bn);var rs=Et.get(b);if(rs)return rs;Et.set(b,Qt),ji(b)?b.forEach(function(Us){Qt.add(Mo(Us,D,$,Us,b,Et))}):Un(b)&&b.forEach(function(Us,Lo){Qt.set(Lo,Mo(Us,D,$,Lo,b,Et))});var ko=Er?E:(Sr?On?Vm:Um:On?Jc:Zu)(b);return gs(ko||b,function(Us,Lo){ko&&(Us=b[Lo=Us]),Ws(Qt,Lo,Mo(Us,D,$,Lo,b,Et))}),Qt}function ao(b,D,$){var ye=$.length;if(null==b)return!ye;for(b=cs(b);ye--;){var nt=$[ye],Qt=b[nt];if(Qt===E&&!(nt in b)||!(0,D[nt])(Qt))return!1}return!0}function iu(b,D,$){if("function"!=typeof b)throw new Do(R);return Da(function(){b.apply(E,$)},D)}function Au(b,D,$,ye){var nt=-1,Et=_d,Qt=!0,xn=b.length,On=[],Sr=D.length;if(!xn)return On;$&&(D=mr(D,Fo($))),ye?(Et=_s,Qt=!1):D.length>=200&&(Et=Ms,Qt=!1,D=new Pn(D));e:for(;++nt<xn;){var Er=b[nt],Yr=null==$?Er:$(Er);if(Er=ye||0!==Er?Er:0,Qt&&Yr==Yr){for(var Fi=Sr;Fi--;)if(D[Fi]===Yr)continue e;On.push(Er)}else Et(D,Yr,ye)||On.push(Er)}return On}yt.templateSettings={escape:Je,evaluate:gt,interpolate:Ft,variable:"",imports:{_:yt}},(yt.prototype=c.prototype).constructor=yt,(_.prototype=l(c.prototype)).constructor=_,(w.prototype=l(c.prototype)).constructor=w,x.prototype.clear=function o(){this.__data__=pl?pl(null):{},this.size=0},x.prototype.delete=function g(b){var D=this.has(b)&&delete this.__data__[b];return this.size-=D?1:0,D},x.prototype.get=function M(b){var D=this.__data__;if(pl){var $=D[b];return $===G?E:$}return uo.call(D,b)?D[b]:E},x.prototype.has=function S(b){var D=this.__data__;return pl?D[b]!==E:uo.call(D,b)},x.prototype.set=function A(b,D){var $=this.__data__;return this.size+=this.has(b)?0:1,$[b]=pl&&D===E?G:D,this},Y.prototype.clear=function U(){this.__data__=[],this.size=0},Y.prototype.delete=function K(b){var D=this.__data__,$=Rs(D,b);return!($<0||($==D.length-1?D.pop():id.call(D,$,1),--this.size,0))},Y.prototype.get=function ge(b){var D=this.__data__,$=Rs(D,b);return $<0?E:D[$][1]},Y.prototype.has=function Ce(b){return Rs(this.__data__,b)>-1},Y.prototype.set=function Ne(b,D){var $=this.__data__,ye=Rs($,b);return ye<0?(++this.size,$.push([b,D])):$[ye][1]=D,this},ot.prototype.clear=function Pt(){this.size=0,this.__data__={hash:new x,map:new(vl||Y),string:new x}},ot.prototype.delete=function Lt(b){var D=Wm(this,b).delete(b);return this.size-=D?1:0,D},ot.prototype.get=function jt(b){return Wm(this,b).get(b)},ot.prototype.has=function Nt(b){return Wm(this,b).has(b)},ot.prototype.set=function vn(b,D){var $=Wm(this,b),ye=$.size;return $.set(b,D),this.size+=$.size==ye?0:1,this},Pn.prototype.add=Pn.prototype.push=function bt(b){return this.__data__.set(b,G),this},Pn.prototype.has=function Mn(b){return this.__data__.has(b)},Bn.prototype.clear=function qn(){this.__data__=new Y,this.size=0},Bn.prototype.delete=function Hn(b){var D=this.__data__,$=D.delete(b);return this.size=D.size,$},Bn.prototype.get=function _r(b){return this.__data__.get(b)},Bn.prototype.has=function yr(b){return this.__data__.has(b)},Bn.prototype.set=function Fr(b,D){var $=this.__data__;if($ instanceof Y){var ye=$.__data__;if(!vl||ye.length<199)return ye.push([b,D]),this.size=++$.size,this;$=this.__data__=new ot(ye)}return $.set(b,D),this.size=$.size,this};var $u=Xh(Ga),Dd=Xh(Ma,!0);function xh(b,D){var $=!0;return $u(b,function(ye,nt,Et){return $=!!D(ye,nt,Et)}),$}function Bl(b,D,$){for(var ye=-1,nt=b.length;++ye<nt;){var Et=b[ye],Qt=D(Et);if(null!=Qt&&(xn===E?Qt==Qt&&!_o(Qt):$(Qt,xn)))var xn=Qt,On=Et}return On}function Pu(b,D){var $=[];return $u(b,function(ye,nt,Et){D(ye,nt,Et)&&$.push(ye)}),$}function nl(b,D,$,ye,nt){var Et=-1,Qt=b.length;for($||($=jg),nt||(nt=[]);++Et<Qt;){var xn=b[Et];D>0&&$(xn)?D>1?nl(xn,D-1,$,ye,nt):Ys(nt,xn):ye||(nt[nt.length]=xn)}return nt}var Ya=Fg(),Cl=Fg(!0);function Ga(b,D){return b&&Ya(b,D,Zu)}function Ma(b,D){return b&&Cl(b,D,Zu)}function od(b,D){return lo(D,function($){return Vt(b[$])})}function Gc(b,D){for(var $=0,ye=(D=cd(D,b)).length;null!=b&&$<ye;)b=b[Sc(D[$++])];return $&&$==ye?b:E}function qh(b,D,$){var ye=D(b);return v(b)?ye:Ys(ye,$(b))}function ou(b){return null==b?b===E?"[object Undefined]":"[object Null]":ec&&ec in cs(b)?function Ef(b){var D=uo.call(b,ec),$=b[ec];try{b[ec]=E;var ye=!0}catch{}var nt=go.call(b);return ye&&(D?b[ec]=$:delete b[ec]),nt}(b):function by(b){return go.call(b)}(b)}function yf(b,D){return b>D}function vf(b,D){return null!=b&&uo.call(b,D)}function Wc(b,D){return null!=b&&D in cs(b)}function Dl(b,D,$){for(var ye=$?_s:_d,nt=b[0].length,Et=b.length,Qt=Et,xn=zn(Et),On=1/0,Sr=[];Qt--;){var Er=b[Qt];Qt&&D&&(Er=mr(Er,Fo(D))),On=ba(Er.length,On),xn[Qt]=!$&&(D||nt>=120&&Er.length>=120)?new Pn(Qt&&Er):E}Er=b[0];var Yr=-1,Fi=xn[0];e:for(;++Yr<nt&&Sr.length<On;){var rs=Er[Yr],Fs=D?D(rs):rs;if(rs=$||0!==rs?rs:0,!(Fi?Ms(Fi,Fs):ye(Sr,Fs,$))){for(Qt=Et;--Qt;){var ko=xn[Qt];if(!(ko?Ms(ko,Fs):ye(b[Qt],Fs,$)))continue e}Fi&&Fi.push(Fs),Sr.push(rs)}}return Sr}function Uu(b,D,$){var ye=null==(b=dp(b,D=cd(D,b)))?b:b[Sc(Oc(D))];return null==ye?E:ya(ye,b,$)}function wf(b){return mn(b)&&ou(b)==bn}function Mh(b,D,$,ye,nt){return b===D||(null==b||null==D||!mn(b)&&!mn(D)?b!=b&&D!=D:function gl(b,D,$,ye,nt,Et){var Qt=v(b),xn=v(D),On=Qt?fn:Ou(b),Sr=xn?fn:Ou(D),Er=(On=On==bn?en:On)==en,Yr=(Sr=Sr==bn?en:Sr)==en,Fi=On==Sr;if(Fi&&Z(b)){if(!Z(D))return!1;Qt=!0,Er=!1}if(Fi&&!Er)return Et||(Et=new Bn),Qt||Ia(b)?Bg(b,D,$,ye,nt,Et):function ip(b,D,$,ye,nt,Et,Qt){switch($){case Nr:if(b.byteLength!=D.byteLength||b.byteOffset!=D.byteOffset)return!1;b=b.buffer,D=D.buffer;case Qi:return!(b.byteLength!=D.byteLength||!Et(new pa(b),new pa(D)));case un:case Xn:case xr:return Od(+b,+D);case dr:return b.name==D.name&&b.message==D.message;case rn:case zr:return b==D+"";case ir:var xn=ro;case Fn:if(xn||(xn=tu),b.size!=D.size&&!(1&ye))return!1;var Sr=Qt.get(b);if(Sr)return Sr==D;ye|=2,Qt.set(b,D);var Er=Bg(xn(b),xn(D),ye,nt,Et,Qt);return Qt.delete(b),Er;case Li:if(io)return io.call(b)==io.call(D)}return!1}(b,D,On,$,ye,nt,Et);if(!(1&$)){var rs=Er&&uo.call(b,"__wrapped__"),Fs=Yr&&uo.call(D,"__wrapped__");if(rs||Fs){var ko=rs?b.value():b,Us=Fs?D.value():D;return Et||(Et=new Bn),nt(ko,Us,$,ye,Et)}}return!!Fi&&(Et||(Et=new Bn),function sp(b,D,$,ye,nt,Et){var Qt=1&$,xn=Um(b),On=xn.length;if(On!=Um(D).length&&!Qt)return!1;for(var Yr=On;Yr--;){var Fi=xn[Yr];if(!(Qt?Fi in D:uo.call(D,Fi)))return!1}var rs=Et.get(b),Fs=Et.get(D);if(rs&&Fs)return rs==D&&Fs==b;var ko=!0;Et.set(b,D),Et.set(D,b);for(var Us=Qt;++Yr<On;){var Lo=b[Fi=xn[Yr]],Ea=D[Fi];if(ye)var Dc=Qt?ye(Ea,Lo,Fi,D,b,Et):ye(Lo,Ea,Fi,b,D,Et);if(!(Dc===E?Lo===Ea||nt(Lo,Ea,$,ye,Et):Dc)){ko=!1;break}Us||(Us="constructor"==Fi)}if(ko&&!Us){var pr=b.constructor,Bd=D.constructor;pr!=Bd&&"constructor"in b&&"constructor"in D&&!("function"==typeof pr&&pr instanceof pr&&"function"==typeof Bd&&Bd instanceof Bd)&&(ko=!1)}return Et.delete(b),Et.delete(D),ko}(b,D,$,ye,nt,Et))}(b,D,$,ye,Mh,nt))}function eh(b,D,$,ye){var nt=$.length,Et=nt,Qt=!ye;if(null==b)return!Et;for(b=cs(b);nt--;){var xn=$[nt];if(Qt&&xn[2]?xn[1]!==b[xn[0]]:!(xn[0]in b))return!1}for(;++nt<Et;){var On=(xn=$[nt])[0],Sr=b[On],Er=xn[1];if(Qt&&xn[2]){if(Sr===E&&!(On in b))return!1}else{var Yr=new Bn;if(ye)var Fi=ye(Sr,Er,On,b,D,Yr);if(!(Fi===E?Mh(Er,Sr,3,ye,Yr):Fi))return!1}}return!0}function so(b){return!(!Jt(b)||function Zm(b){return!!hi&&hi in b}(b))&&(Vt(b)?Ti:Cs).test(Mu(b))}function Fe(b){return"function"==typeof b?b:null==b?ed:"object"==typeof b?v(b)?ws(b[0],b[1]):Es(b):eS(b)}function wt(b){if(!up(b))return js(b);var D=[];for(var $ in cs(b))uo.call(b,$)&&"constructor"!=$&&D.push($);return D}function Vn(b,D){return b<D}function Ni(b,D){var $=-1,ye=P(b)?zn(b.length):[];return $u(b,function(nt,Et,Qt){ye[++$]=D(nt,Et,Qt)}),ye}function Es(b){var D=Yg(b);return 1==D.length&&D[0][2]?wy(D[0][0],D[0][1]):function($){return $===b||eh($,b,D)}}function ws(b,D){return Cf(b)&&cp(D)?wy(Sc(b),D):function($){var ye=E_($,b);return ye===E&&ye===D?am($,b):Mh(D,ye,3)}}function au(b,D,$,ye,nt){b!==D&&Ya(D,function(Et,Qt){if(nt||(nt=new Bn),Jt(Et))!function ld(b,D,$,ye,nt,Et,Qt){var xn=uu(b,$),On=uu(D,$),Sr=Qt.get(On);if(Sr)Oi(b,$,Sr);else{var Er=Et?Et(xn,On,$+"",b,D,Qt):E,Yr=Er===E;if(Yr){var Fi=v(On),rs=!Fi&&Z(On),Fs=!Fi&&!rs&&Ia(On);Er=On,Fi||rs||Fs?v(xn)?Er=xn:N(xn)?Er=xc(xn):rs?(Yr=!1,Er=zm(On,!0)):Fs?(Yr=!1,Er=th(On,!0)):Er=[]:Vr(On)||f(On)?(Er=xn,f(xn)?Er=Su(xn):(!Jt(xn)||Vt(xn))&&(Er=vy(On))):Yr=!1}Yr&&(Qt.set(On,Er),nt(Er,On,ye,Et,Qt),Qt.delete(On)),Oi(b,$,Er)}}(b,D,Qt,$,au,ye,nt);else{var xn=ye?ye(uu(b,Qt),Et,Qt+"",b,D,nt):E;xn===E&&(xn=Et),Oi(b,Qt,xn)}},Jc)}function lu(b,D){var $=b.length;if($)return Ad(D+=D<0?$:0,$)?b[D]:E}function qc(b,D,$){D=D.length?mr(D,function(Et){return v(Et)?function(Qt){return Gc(Qt,1===Et.length?Et[0]:Et)}:Et}):[ed];var ye=-1;return D=mr(D,Fo(Is())),function Rl(yn,er){var zn=yn.length;for(yn.sort(er);zn--;)yn[zn]=yn[zn].value;return yn}(Ni(b,function(Et,Qt,xn){return{criteria:mr(D,function(Sr){return Sr(Et)}),index:++ye,value:Et}}),function(Et,Qt){return function Ng(b,D,$){for(var ye=-1,nt=b.criteria,Et=D.criteria,Qt=nt.length,xn=$.length;++ye<Qt;){var On=py(nt[ye],Et[ye]);if(On)return ye>=xn?On:On*("desc"==$[ye]?-1:1)}return b.index-D.index}(Et,Qt,$)})}function Yp(b,D,$){for(var ye=-1,nt=D.length,Et={};++ye<nt;){var Qt=D[ye],xn=Gc(b,Qt);$(xn,Qt)&&Jf(Et,cd(Qt,b),xn)}return Et}function Id(b,D,$,ye){var nt=ye?ka:po,Et=-1,Qt=D.length,xn=b;for(b===D&&(D=xc(D)),$&&(xn=mr(b,Fo($)));++Et<Qt;)for(var On=0,Sr=D[Et],Er=$?$(Sr):Sr;(On=nt(xn,Er,On,ye))>-1;)xn!==b&&id.call(xn,On,1),id.call(b,On,1);return b}function Ag(b,D){for(var $=b?D.length:0,ye=$-1;$--;){var nt=D[$];if($==ye||nt!==Et){var Et=nt;Ad(nt)?id.call(b,nt,1):Cr(b,nt)}}return b}function Rm(b,D){return b+Ca(bo()*(D-b+1))}function Sh(b,D){var $="";if(!b||D<1||D>Xe)return $;do{D%2&&($+=b),(D=Ca(D/2))&&(b+=b)}while(D);return $}function ho(b,D){return hp($g(b,D,ed),b+"")}function dy(b){return Hs(Bc(b))}function Ts(b,D){var $=Bc(b);return fd($,Ra(D,0,$.length))}function Jf(b,D,$,ye){if(!Jt(b))return b;for(var nt=-1,Et=(D=cd(D,b)).length,Qt=Et-1,xn=b;null!=xn&&++nt<Et;){var On=Sc(D[nt]),Sr=$;if("__proto__"===On||"constructor"===On||"prototype"===On)return b;if(nt!=Qt){var Er=xn[On];(Sr=ye?ye(Er,On,xn):E)===E&&(Sr=Jt(Er)?Er:Ad(D[nt+1])?[]:{})}Ws(xn,On,Sr),xn=xn[On]}return b}var Pg=Fl?function(b,D){return Fl.set(b,D),b}:ed,s0=wo?function(b,D){return wo(b,"toString",{configurable:!0,enumerable:!1,value:P_(D),writable:!0})}:ed;function hy(b){return fd(Bc(b))}function ud(b,D,$){var ye=-1,nt=b.length;D<0&&(D=-D>nt?0:nt+D),($=$>nt?nt:$)<0&&($+=nt),nt=D>$?0:$-D>>>0,D>>>=0;for(var Et=zn(nt);++ye<nt;)Et[ye]=b[ye+D];return Et}function Fm(b,D){var $;return $u(b,function(ye,nt,Et){return!($=D(ye,nt,Et))}),!!$}function Eh(b,D,$){var ye=0,nt=null==b?ye:b.length;if("number"==typeof D&&D==D&&nt<=2147483647){for(;ye<nt;){var Et=ye+nt>>>1,Qt=b[Et];null!==Qt&&!_o(Qt)&&($?Qt<=D:Qt<D)?ye=Et+1:nt=Et}return nt}return zp(b,D,ed,$)}function zp(b,D,$,ye){var nt=0,Et=null==b?0:b.length;if(0===Et)return 0;for(var Qt=(D=$(D))!=D,xn=null===D,On=_o(D),Sr=D===E;nt<Et;){var Er=Ca((nt+Et)/2),Yr=$(b[Er]),Fi=Yr!==E,rs=null===Yr,Fs=Yr==Yr,ko=_o(Yr);if(Qt)var Us=ye||Fs;else Us=Sr?Fs&&(ye||Fi):xn?Fs&&Fi&&(ye||!rs):On?Fs&&Fi&&!rs&&(ye||!ko):!rs&&!ko&&(ye?Yr<=D:Yr<D);Us?nt=Er+1:Et=Er}return ba(Et,4294967294)}function Bm(b,D){for(var $=-1,ye=b.length,nt=0,Et=[];++$<ye;){var Qt=b[$],xn=D?D(Qt):Qt;if(!$||!Od(xn,On)){var On=xn;Et[nt++]=0===Qt?0:Qt}}return Et}function kg(b){return"number"==typeof b?b:_o(b)?NaN:+b}function ic(b){if("string"==typeof b)return b;if(v(b))return mr(b,ic)+"";if(_o(b))return nc?nc.call(b):"";var D=b+"";return"0"==D&&1/b==-et?"-0":D}function xu(b,D,$){var ye=-1,nt=_d,Et=b.length,Qt=!0,xn=[],On=xn;if($)Qt=!1,nt=_s;else if(Et>=200){var Sr=D?null:o0(b);if(Sr)return tu(Sr);Qt=!1,nt=Ms,On=new Pn}else On=D?[]:xn;e:for(;++ye<Et;){var Er=b[ye],Yr=D?D(Er):Er;if(Er=$||0!==Er?Er:0,Qt&&Yr==Yr){for(var Fi=On.length;Fi--;)if(On[Fi]===Yr)continue e;D&&On.push(Yr),xn.push(Er)}else nt(On,Yr,$)||(On!==xn&&On.push(Yr),xn.push(Er))}return xn}function Cr(b,D){return null==(b=dp(b,D=cd(D,b)))||delete b[Sc(Oc(D))]}function Yo(b,D,$,ye){return Jf(b,D,$(Gc(b,D)),ye)}function Ar(b,D,$,ye){for(var nt=b.length,Et=ye?nt:-1;(ye?Et--:++Et<nt)&&D(b[Et],Et,b););return $?ud(b,ye?0:Et,ye?Et+1:nt):ud(b,ye?Et+1:0,ye?nt:Et)}function kr(b,D){var $=b;return $ instanceof w&&($=$.value()),mu(D,function(ye,nt){return nt.func.apply(nt.thisArg,Ys([ye],nt.args))},$)}function ku(b,D,$){var ye=b.length;if(ye<2)return ye?xu(b[0]):[];for(var nt=-1,Et=zn(ye);++nt<ye;)for(var Qt=b[nt],xn=-1;++xn<ye;)xn!=nt&&(Et[nt]=Au(Et[nt]||Qt,b[xn],D,$));return xu(nl(Et,1),D,$)}function Ym(b,D,$){for(var ye=-1,nt=b.length,Et=D.length,Qt={};++ye<nt;)$(Qt,b[ye],ye<Et?D[ye]:E);return Qt}function bf(b){return N(b)?b:[]}function Xc(b){return"function"==typeof b?b:ed}function cd(b,D){return v(b)?b:Cf(b,D)?[b]:Zh(Ls(b))}var Og=ho;function Zc(b,D,$){var ye=b.length;return $=$===E?ye:$,!D&&$>=ye?b:ud(b,D,$)}var jp=si||function(b){return Jn.clearTimeout(b)};function zm(b,D){if(D)return b.slice();var $=b.length,ye=Io?Io($):new b.constructor($);return b.copy(ye),ye}function sc(b){var D=new b.constructor(b.byteLength);return new pa(D).set(new pa(b)),D}function th(b,D){var $=D?sc(b.buffer):b.buffer;return new b.constructor($,b.byteOffset,b.length)}function py(b,D){if(b!==D){var $=b!==E,ye=null===b,nt=b==b,Et=_o(b),Qt=D!==E,xn=null===D,On=D==D,Sr=_o(D);if(!xn&&!Sr&&!Et&&b>D||Et&&Qt&&On&&!xn&&!Sr||ye&&Qt&&On||!$&&On||!nt)return 1;if(!ye&&!Et&&!Sr&&b<D||Sr&&$&&nt&&!ye&&!Et||xn&&$&&nt||!Qt&&nt||!On)return-1}return 0}function gy(b,D,$,ye){for(var nt=-1,Et=b.length,Qt=$.length,xn=-1,On=D.length,Sr=Di(Et-Qt,0),Er=zn(On+Sr),Yr=!ye;++xn<On;)Er[xn]=D[xn];for(;++nt<Qt;)(Yr||nt<Et)&&(Er[$[nt]]=b[nt]);for(;Sr--;)Er[xn++]=b[nt++];return Er}function xf(b,D,$,ye){for(var nt=-1,Et=b.length,Qt=-1,xn=$.length,On=-1,Sr=D.length,Er=Di(Et-xn,0),Yr=zn(Er+Sr),Fi=!ye;++nt<Er;)Yr[nt]=b[nt];for(var rs=nt;++On<Sr;)Yr[rs+On]=D[On];for(;++Qt<xn;)(Fi||nt<Et)&&(Yr[rs+$[Qt]]=b[nt++]);return Yr}function xc(b,D){var $=-1,ye=b.length;for(D||(D=zn(ye));++$<ye;)D[$]=b[$];return D}function ga(b,D,$,ye){var nt=!$;$||($={});for(var Et=-1,Qt=D.length;++Et<Qt;){var xn=D[Et],On=ye?ye($[xn],b[xn],xn,$,b):E;On===E&&(On=b[xn]),nt?co($,xn,On):Ws($,xn,On)}return $}function Mf(b,D){return function($,ye){var nt=v($)?No:Ss,Et=D?D():{};return nt($,b,Is(ye,2),Et)}}function nh(b){return ho(function(D,$){var ye=-1,nt=$.length,Et=nt>1?$[nt-1]:E,Qt=nt>2?$[2]:E;for(Et=b.length>3&&"function"==typeof Et?(nt--,Et):E,Qt&&Mc($[0],$[1],Qt)&&(Et=nt<3?E:Et,nt=1),D=cs(D);++ye<nt;){var xn=$[ye];xn&&b(D,xn,ye,Et)}return D})}function Xh(b,D){return function($,ye){if(null==$)return $;if(!P($))return b($,ye);for(var nt=$.length,Et=D?nt:-1,Qt=cs($);(D?Et--:++Et<nt)&&!1!==ye(Qt[Et],Et,Qt););return $}}function Fg(b){return function(D,$,ye){for(var nt=-1,Et=cs(D),Qt=ye(D),xn=Qt.length;xn--;){var On=Qt[b?xn:++nt];if(!1===$(Et[On],On,Et))break}return D}}function Sf(b){return function(D){var $=mo(D=Ls(D))?Bo(D):E,ye=$?$[0]:D.charAt(0),nt=$?Zc($,1).join(""):D.slice(1);return ye[b]()+nt}}function Ch(b){return function(D){return mu(bp(Ow(D).replace(_l,"")),b,"")}}function Dh(b){return function(){var D=arguments;switch(D.length){case 0:return new b;case 1:return new b(D[0]);case 2:return new b(D[0],D[1]);case 3:return new b(D[0],D[1],D[2]);case 4:return new b(D[0],D[1],D[2],D[3]);case 5:return new b(D[0],D[1],D[2],D[3],D[4]);case 6:return new b(D[0],D[1],D[2],D[3],D[4],D[5]);case 7:return new b(D[0],D[1],D[2],D[3],D[4],D[5],D[6])}var $=l(b.prototype),ye=b.apply($,D);return Jt(ye)?ye:$}}function _y(b){return function(D,$,ye){var nt=cs(D);if(!P(D)){var Et=Is($,3);D=Zu(D),$=function(xn){return Et(nt[xn],xn,nt)}}var Qt=b(D,$,ye);return Qt>-1?nt[Et?D[Qt]:Qt]:E}}function oc(b){return dd(function(D){var $=D.length,ye=$,nt=_.prototype.thru;for(b&&D.reverse();ye--;){var Et=D[ye];if("function"!=typeof Et)throw new Do(R);if(nt&&!Qt&&"wrapper"==Gm(Et))var Qt=new _([],!0)}for(ye=Qt?ye:$;++ye<$;){var xn=Gm(Et=D[ye]),On="wrapper"==xn?op(Et):E;Qt=On&&Hg(On[0])&&424==On[1]&&!On[4].length&&1==On[9]?Qt[Gm(On[0])].apply(Qt,On[3]):1==Et.length&&Hg(Et)?Qt[xn]():Qt.thru(Et)}return function(){var Sr=arguments,Er=Sr[0];if(Qt&&1==Sr.length&&v(Er))return Qt.plant(Er).value();for(var Yr=0,Fi=$?D[Yr].apply(this,Sr):Er;++Yr<$;)Fi=D[Yr].call(this,Fi);return Fi}})}function Kc(b,D,$,ye,nt,Et,Qt,xn,On,Sr){var Er=128&D,Yr=1&D,Fi=2&D,rs=24&D,Fs=512&D,ko=Fi?E:Dh(b);return function Us(){for(var Lo=arguments.length,Ea=zn(Lo),Dc=Lo;Dc--;)Ea[Dc]=arguments[Dc];if(rs)var pr=ap(Us),Bd=function _u(yn,er){for(var zn=yn.length,ui=0;zn--;)yn[zn]===er&&++ui;return ui}(Ea,pr);if(ye&&(Ea=gy(Ea,ye,nt,rs)),Et&&(Ea=xf(Ea,Et,Qt,rs)),Lo-=Bd,rs&&Lo<Sr){var Yl=va(Ea,pr);return rp(b,D,Kc,Us.placeholder,$,Ea,Yl,xn,On,Sr-Lo)}var hc=Yr?$:this,Yf=Fi?hc[b]:b;return Lo=Ea.length,xn?Ea=function u0(b,D){for(var $=b.length,ye=ba(D.length,$),nt=xc(b);ye--;){var Et=D[ye];b[ye]=Ad(Et,$)?nt[Et]:E}return b}(Ea,xn):Fs&&Lo>1&&Ea.reverse(),Er&&On<Lo&&(Ea.length=On),this&&this!==Jn&&this instanceof Us&&(Yf=ko||Dh(Yf)),Yf.apply(hc,Ea)}}function Il(b,D){return function($,ye){return function Wl(b,D,$,ye){return Ga(b,function(nt,Et,Qt){D(ye,$(nt),Et,Qt)}),ye}($,b,D(ye),{})}}function ep(b,D){return function($,ye){var nt;if($===E&&ye===E)return D;if($!==E&&(nt=$),ye!==E){if(nt===E)return ye;"string"==typeof $||"string"==typeof ye?($=ic($),ye=ic(ye)):($=kg($),ye=kg(ye)),nt=b($,ye)}return nt}}function Hm(b){return dd(function(D){return D=mr(D,Fo(Is())),ho(function($){var ye=this;return b(D,function(nt){return ya(nt,ye,$)})})})}function tp(b,D){var $=(D=D===E?" ":ic(D)).length;if($<2)return $?Sh(D,b):D;var ye=Sh(D,Ua(b/Ka(D)));return mo(D)?Zc(Bo(ye),0,b).join(""):ye.slice(0,b)}function $p(b){return function(D,$,ye){return ye&&"number"!=typeof ye&&Mc(D,$,ye)&&($=ye=E),D=Al(D),$===E?($=D,D=0):$=Al($),function rc(b,D,$,ye){for(var nt=-1,Et=Di(Ua((D-b)/($||1)),0),Qt=zn(Et);Et--;)Qt[ye?Et:++nt]=b,b+=$;return Qt}(D,$,ye=ye===E?D<$?1:-1:Al(ye),b)}}function np(b){return function(D,$){return"string"==typeof D&&"string"==typeof $||(D=La(D),$=La($)),b(D,$)}}function rp(b,D,$,ye,nt,Et,Qt,xn,On,Sr){var Er=8&D;D|=Er?32:64,4&(D&=~(Er?64:32))||(D&=-4);var ko=[b,D,nt,Er?Et:E,Er?Qt:E,Er?E:Et,Er?E:Qt,xn,On,Sr],Us=$.apply(E,ko);return Hg(b)&&ql(Us,ko),Us.placeholder=ye,Jm(Us,b,D)}function rh(b){var D=eo[b];return function($,ye){if($=La($),(ye=null==ye?0:ba(ds(ye),292))&&ys($)){var nt=(Ls($)+"e").split("e");return+((nt=(Ls(D(nt[0]+"e"+(+nt[1]+ye)))+"e").split("e"))[0]+"e"+(+nt[1]-ye))}return D($)}}var o0=ki&&1/tu(new ki([,-0]))[1]==et?function(b){return new ki(b)}:k_;function Up(b){return function(D){var $=Ou(D);return $==ir?ro(D):$==Fn?function Cu(yn){var er=-1,zn=Array(yn.size);return yn.forEach(function(ui){zn[++er]=[ui,ui]}),zn}(D):function yd(yn,er){return mr(er,function(zn){return[zn,yn[zn]]})}(D,b(D))}}function bd(b,D,$,ye,nt,Et,Qt,xn){var On=2&D;if(!On&&"function"!=typeof b)throw new Do(R);var Sr=ye?ye.length:0;if(Sr||(D&=-97,ye=nt=E),Qt=Qt===E?Qt:Di(ds(Qt),0),xn=xn===E?xn:ds(xn),Sr-=nt?nt.length:0,64&D){var Er=ye,Yr=nt;ye=nt=E}var Fi=On?E:op(b),rs=[b,D,$,ye,nt,Er,Yr,Et,Qt,xn];if(Fi&&function Df(b,D){var $=b[1],ye=D[1],nt=$|ye;if(!(nt<131)&&!(128==ye&&8==$||128==ye&&256==$&&b[7].length<=D[8]||384==ye&&D[7].length<=D[8]&&8==$))return b;1&ye&&(b[2]=D[2],nt|=1&$?0:4);var xn=D[3];if(xn){var On=b[3];b[3]=On?gy(On,xn,D[4]):xn,b[4]=On?va(b[3],Ee):D[4]}(xn=D[5])&&(b[5]=(On=b[5])?xf(On,xn,D[6]):xn,b[6]=On?va(b[5],Ee):D[6]),(xn=D[7])&&(b[7]=xn),128&ye&&(b[8]=null==b[8]?D[8]:ba(b[8],D[8])),null==b[9]&&(b[9]=D[9]),b[0]=D[0],b[1]=nt}(rs,Fi),b=rs[0],D=rs[1],$=rs[2],ye=rs[3],nt=rs[4],!(xn=rs[9]=rs[9]===E?On?0:b.length:Di(rs[9]-Sr,0))&&24&D&&(D&=-25),D&&1!=D)Fs=8==D||16==D?function my(b,D,$){var ye=Dh(b);return function nt(){for(var Et=arguments.length,Qt=zn(Et),xn=Et,On=ap(nt);xn--;)Qt[xn]=arguments[xn];var Sr=Et<3&&Qt[0]!==On&&Qt[Et-1]!==On?[]:va(Qt,On);return(Et-=Sr.length)<$?rp(b,D,Kc,nt.placeholder,E,Qt,Sr,E,E,$-Et):ya(this&&this!==Jn&&this instanceof nt?ye:b,this,Qt)}}(b,D,xn):32!=D&&33!=D||nt.length?Kc.apply(E,rs):function $m(b,D,$,ye){var nt=1&D,Et=Dh(b);return function Qt(){for(var xn=-1,On=arguments.length,Sr=-1,Er=ye.length,Yr=zn(Er+On),Fi=this&&this!==Jn&&this instanceof Qt?Et:b;++Sr<Er;)Yr[Sr]=ye[Sr];for(;On--;)Yr[Sr++]=arguments[++xn];return ya(Fi,nt?$:this,Yr)}}(b,D,$,ye);else var Fs=function jm(b,D,$){var ye=1&D,nt=Dh(b);return function Et(){return(this&&this!==Jn&&this instanceof Et?nt:b).apply(ye?$:this,arguments)}}(b,D,$);return Jm((Fi?Pg:ql)(Fs,rs),b,D)}function Vp(b,D,$,ye){return b===E||Od(b,yu[$])&&!uo.call(ye,$)?D:b}function Ld(b,D,$,ye,nt,Et){return Jt(b)&&Jt(D)&&(Et.set(D,b),au(b,D,E,Ld,Et),Et.delete(D)),b}function yy(b){return Vr(b)?E:b}function Bg(b,D,$,ye,nt,Et){var Qt=1&$,xn=b.length,On=D.length;if(xn!=On&&!(Qt&&On>xn))return!1;var Sr=Et.get(b),Er=Et.get(D);if(Sr&&Er)return Sr==D&&Er==b;var Yr=-1,Fi=!0,rs=2&$?new Pn:E;for(Et.set(b,D),Et.set(D,b);++Yr<xn;){var Fs=b[Yr],ko=D[Yr];if(ye)var Us=Qt?ye(ko,Fs,Yr,D,b,Et):ye(Fs,ko,Yr,b,D,Et);if(Us!==E){if(Us)continue;Fi=!1;break}if(rs){if(!Pc(D,function(Lo,Ea){if(!Ms(rs,Ea)&&(Fs===Lo||nt(Fs,Lo,$,ye,Et)))return rs.push(Ea)})){Fi=!1;break}}else if(Fs!==ko&&!nt(Fs,ko,$,ye,Et)){Fi=!1;break}}return Et.delete(b),Et.delete(D),Fi}function dd(b){return hp($g(b,E,Ug),b+"")}function Um(b){return qh(b,Zu,qm)}function Vm(b){return qh(b,Jc,lp)}var op=Fl?function(b){return Fl.get(b)}:k_;function Gm(b){for(var D=b.name+"",$=ci[D],ye=uo.call(ci,D)?$.length:0;ye--;){var nt=$[ye],Et=nt.func;if(null==Et||Et==b)return nt.name}return D}function ap(b){return(uo.call(yt,"placeholder")?yt:b).placeholder}function Is(){var b=yt.iteratee||L0;return b=b===L0?Fe:b,arguments.length?b(arguments[0],arguments[1]):b}function Wm(b,D){var $=b.__data__;return function Gp(b){var D=typeof b;return"string"==D||"number"==D||"symbol"==D||"boolean"==D?"__proto__"!==b:null===b}(D)?$["string"==typeof D?"string":"hash"]:$.map}function Yg(b){for(var D=Zu(b),$=D.length;$--;){var ye=D[$],nt=b[ye];D[$]=[ye,nt,cp(nt)]}return D}function hd(b,D){var $=function Hu(yn,er){return null==yn?E:yn[er]}(b,D);return so($)?$:E}var qm=Na?function(b){return null==b?[]:(b=cs(b),lo(Na(b),function(D){return Vc.call(b,D)}))}:Ww,lp=Na?function(b){for(var D=[];b;)Ys(D,qm(b)),b=al(b);return D}:Ww,Ou=ou;function Tf(b,D,$){for(var ye=-1,nt=(D=cd(D,b)).length,Et=!1;++ye<nt;){var Qt=Sc(D[ye]);if(!(Et=null!=b&&$(b,Qt)))break;b=b[Qt]}return Et||++ye!=nt?Et:!!(nt=null==b?0:b.length)&&Sn(nt)&&Ad(Qt,nt)&&(v(b)||f(b))}function vy(b){return"function"!=typeof b.constructor||up(b)?{}:l(al(b))}function jg(b){return v(b)||f(b)||!!(Qa&&b&&b[Qa])}function Ad(b,D){var $=typeof b;return!!(D=D??Xe)&&("number"==$||"symbol"!=$&&Zi.test(b))&&b>-1&&b%1==0&&b<D}function Mc(b,D,$){if(!Jt($))return!1;var ye=typeof D;return!!("number"==ye?P($)&&Ad(D,$.length):"string"==ye&&D in $)&&Od($[D],b)}function Cf(b,D){if(v(b))return!1;var $=typeof b;return!("number"!=$&&"symbol"!=$&&"boolean"!=$&&null!=b&&!_o(b))||xt.test(b)||!Tt.test(b)||null!=D&&b in cs(D)}function Hg(b){var D=Gm(b),$=yt[D];if("function"!=typeof $||!(D in w.prototype))return!1;if(b===$)return!0;var ye=op($);return!!ye&&b===ye[0]}(xa&&Ou(new xa(new ArrayBuffer(1)))!=Nr||vl&&Ou(new vl)!=ir||yi&&Ou(yi.resolve())!=Wn||ki&&Ou(new ki)!=Fn||fl&&Ou(new fl)!=Zn)&&(Ou=function(b){var D=ou(b),$=D==en?b.constructor:E,ye=$?Mu($):"";if(ye)switch(ye){case vs:return Nr;case Gl:return ir;case tc:return Wn;case el:return Fn;case xo:return Zn}return D});var Km=vu?Vt:qw;function up(b){var D=b&&b.constructor;return b===("function"==typeof D&&D.prototype||yu)}function cp(b){return b==b&&!Jt(b)}function wy(b,D){return function($){return null!=$&&$[b]===D&&(D!==E||b in cs($))}}function $g(b,D,$){return D=Di(D===E?b.length-1:D,0),function(){for(var ye=arguments,nt=-1,Et=Di(ye.length-D,0),Qt=zn(Et);++nt<Et;)Qt[nt]=ye[D+nt];nt=-1;for(var xn=zn(D+1);++nt<D;)xn[nt]=ye[nt];return xn[D]=$(Qt),ya(b,this,xn)}}function dp(b,D){return D.length<2?b:Gc(b,ud(D,0,-1))}function uu(b,D){if(("constructor"!==D||"function"!=typeof b[D])&&"__proto__"!=D)return b[D]}var ql=Sa(Pg),Da=ms||function(b,D){return Jn.setTimeout(b,D)},hp=Sa(s0);function Jm(b,D,$){var ye=D+"";return hp(b,function a0(b,D){var $=D.length;if(!$)return b;var ye=$-1;return D[ye]=($>1?"& ":"")+D[ye],D=D.join($>2?", ":" "),b.replace(fr,"{\n/* [wrapped with "+D+"] */\n")}(ye,function If(b,D){return gs(Ct,function($){var ye="_."+$[0];D&$[1]&&!_d(b,ye)&&b.push(ye)}),b.sort()}(function Sw(b){var D=b.match(Gn);return D?D[1].split(lr):[]}(ye),$)))}function Sa(b){var D=0,$=0;return function(){var ye=Jd(),nt=16-(ye-$);if($=ye,nt>0){if(++D>=800)return arguments[0]}else D=0;return b.apply(E,arguments)}}function fd(b,D){var $=-1,ye=b.length,nt=ye-1;for(D=D===E?ye:D;++$<D;){var Et=Rm($,nt),Qt=b[Et];b[Et]=b[$],b[$]=Qt}return b.length=D,b}var Zh=function Wp(b){var D=Of(b,function(ye){return 500===$.size&&$.clear(),ye}),$=D.cache;return D}(function(b){var D=[];return 46===b.charCodeAt(0)&&D.push(""),b.replace(Bt,function($,ye,nt,Et){D.push(nt?Et.replace(Ir,"$1"):ye||$)}),D});function Sc(b){if("string"==typeof b||_o(b))return b;var D=b+"";return"0"==D&&1/b==-et?"-0":D}function Mu(b){if(null!=b){try{return Qn.call(b)}catch{}try{return b+""}catch{}}return""}function qp(b){if(b instanceof w)return b.clone();var D=new _(b.__wrapped__,b.__chain__);return D.__actions__=xc(b.__actions__),D.__index__=b.__index__,D.__values__=b.__values__,D}var Tw=ho(function(b,D){return N(b)?Au(b,nl(D,1,N,!0)):[]}),Cw=ho(function(b,D){var $=Oc(D);return N($)&&($=E),N(b)?Au(b,nl(D,1,N,!0),Is($,2)):[]}),Dw=ho(function(b,D){var $=Oc(D);return N($)&&($=E),N(b)?Au(b,nl(D,1,N,!0),E,$):[]});function Qm(b,D,$){var ye=null==b?0:b.length;if(!ye)return-1;var nt=null==$?0:ds($);return nt<0&&(nt=Di(ye+nt,0)),Pa(b,Is(D,3),nt)}function Xl(b,D,$){var ye=null==b?0:b.length;if(!ye)return-1;var nt=ye-1;return $!==E&&(nt=ds($),nt=$<0?Di(ye+nt,0):ba(nt,ye-1)),Pa(b,Is(D,3),nt,!0)}function Ug(b){return null!=b&&b.length?nl(b,1):[]}function Kh(b){return b&&b.length?b[0]:E}var Lf=ho(function(b){var D=mr(b,bf);return D.length&&D[0]===b[0]?Dl(D):[]}),xy=ho(function(b){var D=Oc(b),$=mr(b,bf);return D===Oc($)?D=E:$.pop(),$.length&&$[0]===b[0]?Dl($,Is(D,2)):[]}),Af=ho(function(b){var D=Oc(b),$=mr(b,bf);return(D="function"==typeof D?D:E)&&$.pop(),$.length&&$[0]===b[0]?Dl($,E,D):[]});function Oc(b){var D=null==b?0:b.length;return D?b[D-1]:E}var Lh=ho(h0);function h0(b,D){return b&&b.length&&D&&D.length?Id(b,D):b}var f0=dd(function(b,D){var $=null==b?0:b.length,ye=Tl(b,D);return Ag(b,mr(D,function(nt){return Ad(nt,$)?+nt:nt}).sort(py)),ye});function Vg(b){return null==b?b:wc.call(b)}var p0=ho(function(b){return xu(nl(b,1,N,!0))}),Jh=ho(function(b){var D=Oc(b);return N(D)&&(D=E),xu(nl(b,1,N,!0),Is(D,2))}),Pf=ho(function(b){var D=Oc(b);return D="function"==typeof D?D:E,xu(nl(b,1,N,!0),E,D)});function Jp(b){if(!b||!b.length)return[];var D=0;return b=lo(b,function($){if(N($))return D=Di($.length,D),!0}),vc(D,function($){return mr(b,Ha($))})}function Cy(b,D){if(!b||!b.length)return[];var $=Jp(b);return null==D?$:mr($,function(ye){return ya(D,E,ye)})}var Xg=ho(function(b,D){return N(b)?Au(b,D):[]}),Dy=ho(function(b){return ku(lo(b,N))}),m0=ho(function(b){var D=Oc(b);return N(D)&&(D=E),ku(lo(b,N),Is(D,2))}),Zg=ho(function(b){var D=Oc(b);return D="function"==typeof D?D:E,ku(lo(b,N),E,D)}),l_=ho(Jp),Pw=ho(function(b){var D=b.length,$=D>1?b[D-1]:E;return $="function"==typeof $?(b.pop(),$):E,Cy(b,$)});function u_(b){var D=yt(b);return D.__chain__=!0,D}function kd(b,D){return D(b)}var Ay=dd(function(b){var D=b.length,$=D?b[0]:0,ye=this.__wrapped__,nt=function(Et){return Tl(Et,b)};return!(D>1||this.__actions__.length)&&ye instanceof w&&Ad($)?((ye=ye.slice($,+$+(D?1:0))).__actions__.push({func:kd,args:[nt],thisArg:E}),new _(ye,this.__chain__).thru(function(Et){return D&&!Et.length&&Et.push(E),Et})):this.thru(nt)}),b0=Mf(function(b,D,$){uo.call(b,$)?++b[$]:co(b,$,1)}),Ec=_y(Qm),Qh=_y(Xl);function ef(b,D){return(v(b)?gs:$u)(b,Is(D,3))}function Qg(b,D){return(v(b)?$l:Dd)(b,Is(D,3))}var p_=Mf(function(b,D,$){uo.call(b,$)?b[$].push(D):co(b,$,[D])}),Qp=ho(function(b,D,$){var ye=-1,nt="function"==typeof D,Et=P(b)?zn(b.length):[];return $u(b,function(Qt){Et[++ye]=nt?ya(D,Qt,$):Uu(Qt,D,$)}),Et}),Nc=Mf(function(b,D,$){co(b,$,D)});function eg(b,D){return(v(b)?mr:Ni)(b,Is(D,3))}var Ry=Mf(function(b,D,$){b[$?0:1].push(D)},function(){return[[],[]]}),ac=ho(function(b,D){if(null==b)return[];var $=D.length;return $>1&&Mc(b,D[0],D[1])?D=[]:$>2&&Mc(D[0],D[1],D[2])&&(D=[D[0]]),qc(b,nl(D,1),[])}),Ph=_i||function(){return Jn.Date.now()};function nm(b,D,$){return D=$?E:D,bd(b,128,E,E,E,E,D=b&&null==D?b.length:D)}function lc(b,D){var $;if("function"!=typeof D)throw new Do(R);return b=ds(b),function(){return--b>0&&($=D.apply(this,arguments)),b<=1&&(D=E),$}}var kf=ho(function(b,D,$){var ye=1;if($.length){var nt=va($,ap(kf));ye|=32}return bd(b,ye,D,$,nt)}),y_=ho(function(b,D,$){var ye=3;if($.length){var nt=va($,ap(y_));ye|=32}return bd(D,ye,b,$,nt)});function oh(b,D,$){var ye,nt,Et,Qt,xn,On,Sr=0,Er=!1,Yr=!1,Fi=!0;if("function"!=typeof b)throw new Do(R);function rs(Yl){var hc=ye,Yf=nt;return ye=nt=E,Sr=Yl,Qt=b.apply(Yf,hc)}function Us(Yl){var hc=Yl-On;return On===E||hc>=D||hc<0||Yr&&Yl-Sr>=Et}function Lo(){var Yl=Ph();if(Us(Yl))return Ea(Yl);xn=Da(Lo,function ko(Yl){var Zw=D-(Yl-On);return Yr?ba(Zw,Et-(Yl-Sr)):Zw}(Yl))}function Ea(Yl){return xn=E,Fi&&ye?rs(Yl):(ye=nt=E,Qt)}function Bd(){var Yl=Ph(),hc=Us(Yl);if(ye=arguments,nt=this,On=Yl,hc){if(xn===E)return function Fs(Yl){return Sr=Yl,xn=Da(Lo,D),Er?rs(Yl):Qt}(On);if(Yr)return jp(xn),xn=Da(Lo,D),rs(On)}return xn===E&&(xn=Da(Lo,D)),Qt}return D=La(D)||0,Jt($)&&(Er=!!$.leading,Et=(Yr="maxWait"in $)?Di(La($.maxWait)||0,D):Et,Fi="trailing"in $?!!$.trailing:Fi),Bd.cancel=function Dc(){xn!==E&&jp(xn),Sr=0,ye=On=nt=xn=E},Bd.flush=function pr(){return xn===E?Qt:Ea(Ph())},Bd}var v_=ho(function(b,D){return iu(b,1,D)}),w_=ho(function(b,D,$){return iu(b,La(D)||0,$)});function Of(b,D){if("function"!=typeof b||null!=D&&"function"!=typeof D)throw new Do(R);var $=function(){var ye=arguments,nt=D?D.apply(this,ye):ye[0],Et=$.cache;if(Et.has(nt))return Et.get(nt);var Qt=b.apply(this,ye);return $.cache=Et.set(nt,Qt)||Et,Qt};return $.cache=new(Of.Cache||ot),$}function rm(b){if("function"!=typeof b)throw new Do(R);return function(){var D=arguments;switch(D.length){case 0:return!b.call(this);case 1:return!b.call(this,D[0]);case 2:return!b.call(this,D[0],D[1]);case 3:return!b.call(this,D[0],D[1],D[2])}return!b.apply(this,D)}}Of.Cache=ot;var im=Og(function(b,D){var $=(D=1==D.length&&v(D[0])?mr(D[0],Fo(Is())):mr(nl(D,1),Fo(Is()))).length;return ho(function(ye){for(var nt=-1,Et=ba(ye.length,$);++nt<Et;)ye[nt]=D[nt].call(this,ye[nt]);return ya(b,this,ye)})}),ng=ho(function(b,D){var $=va(D,ap(ng));return bd(b,32,E,D,$)}),b_=ho(function(b,D){var $=va(D,ap(b_));return bd(b,64,E,D,$)}),Nf=dd(function(b,D){return bd(b,256,E,E,E,D)});function Od(b,D){return b===D||b!=b&&D!=D}var d=np(yf),u=np(function(b,D){return b>=D}),f=wf(function(){return arguments}())?wf:function(b){return mn(b)&&uo.call(b,"callee")&&!Vc.call(b,"callee")},v=zn.isArray,T=Vs?Fo(Vs):function ad(b){return mn(b)&&ou(b)==Qi};function P(b){return null!=b&&Sn(b.length)&&!Vt(b)}function N(b){return mn(b)&&P(b)}var Z=wu||qw,ue=Eo?Fo(Eo):function bc(b){return mn(b)&&ou(b)==Xn};function vt(b){if(!mn(b))return!1;var D=ou(b);return D==dr||"[object DOMException]"==D||"string"==typeof b.message&&"string"==typeof b.name&&!Vr(b)}function Vt(b){if(!Jt(b))return!1;var D=ou(b);return D==Xr||D==Ln||"[object AsyncFunction]"==D||"[object Proxy]"==D}function Zt(b){return"number"==typeof b&&b==ds(b)}function Sn(b){return"number"==typeof b&&b>-1&&b%1==0&&b<=Xe}function Jt(b){var D=typeof b;return null!=b&&("object"==D||"function"==D)}function mn(b){return null!=b&&"object"==typeof b}var Un=To?Fo(To):function Qd(b){return mn(b)&&Ou(b)==ir};function xi(b){return"number"==typeof b||mn(b)&&ou(b)==xr}function Vr(b){if(!mn(b)||ou(b)!=en)return!1;var D=al(b);if(null===D)return!0;var $=uo.call(D,"constructor")&&D.constructor;return"function"==typeof $&&$ instanceof $&&Qn.call($)==fa}var Dr=xs?Fo(xs):function k(b){return mn(b)&&ou(b)==rn},ji=Ur?Fo(Ur):function q(b){return mn(b)&&Ou(b)==Fn};function $s(b){return"string"==typeof b||!v(b)&&mn(b)&&ou(b)==zr}function _o(b){return"symbol"==typeof b||mn(b)&&ou(b)==Li}var Ia=Gi?Fo(Gi):function _e(b){return mn(b)&&Sn(b.length)&&!!Qs[ou(b)]},wl=np(Vn),du=np(function(b,D){return b<=D});function Ll(b){if(!b)return[];if(P(b))return $s(b)?Bo(b):xc(b);if(ru&&b[ru])return function Ba(yn){for(var er,zn=[];!(er=yn.next()).done;)zn.push(er.value);return zn}(b[ru]());var D=Ou(b);return(D==ir?ro:D==Fn?tu:Bc)(b)}function Al(b){return b?(b=La(b))===et||b===-et?17976931348623157e292*(b<0?-1:1):b==b?b:0:0===b?b:0}function ds(b){var D=Al(b),$=D%1;return D==D?$?D-$:D:0}function hu(b){return b?Ra(ds(b),0,ze):0}function La(b){if("number"==typeof b)return b;if(_o(b))return NaN;if(Jt(b)){var D="function"==typeof b.valueOf?b.valueOf():b;b=Jt(D)?D+"":D}if("string"!=typeof b)return 0===b?b:+b;b=Za(b);var $=mi.test(b);return $||Yi.test(b)?ln(b.slice(2),$?2:8):Js.test(b)?NaN:+b}function Su(b){return ga(b,Jc(b))}function Ls(b){return null==b?"":ic(b)}var Wu=nh(function(b,D){if(up(D)||P(D))ga(D,Zu(D),b);else for(var $ in D)uo.call(D,$)&&Ws(b,$,D[$])}),qu=nh(function(b,D){ga(D,Jc(D),b)}),bl=nh(function(b,D,$,ye){ga(D,Jc(D),b,ye)}),fo=nh(function(b,D,$,ye){ga(D,Zu(D),b,ye)}),Xu=dd(Tl),fu=ho(function(b,D){b=cs(b);var $=-1,ye=D.length,nt=ye>2?D[2]:E;for(nt&&Mc(D[0],D[1],nt)&&(ye=1);++$<ye;)for(var Et=D[$],Qt=Jc(Et),xn=-1,On=Qt.length;++xn<On;){var Sr=Qt[xn],Er=b[Sr];(Er===E||Od(Er,yu[Sr])&&!uo.call(b,Sr))&&(b[Sr]=Et[Sr])}return b}),Md=ho(function(b){return b.push(E,Ld),ya(C_,E,b)});function E_(b,D,$){var ye=null==b?E:Gc(b,D);return ye===E?$:ye}function am(b,D){return null!=b&&Tf(b,D,Wc)}var ah=Il(function(b,D,$){null!=D&&"function"!=typeof D.toString&&(D=go.call(D)),b[D]=$},P_(ed)),$y=Il(function(b,D,$){null!=D&&"function"!=typeof D.toString&&(D=go.call(D)),uo.call(b,D)?b[D].push($):b[D]=[$]},Is),Uy=ho(Uu);function Zu(b){return P(b)?ti(b):wt(b)}function Jc(b){return P(b)?ti(b,!0):function pn(b){if(!Jt(b))return function l0(b){var D=[];if(null!=b)for(var $ in cs(b))D.push($);return D}(b);var D=up(b),$=[];for(var ye in b)"constructor"==ye&&(D||!uo.call(b,ye))||$.push(ye);return $}(b)}var ig=nh(function(b,D,$){au(b,D,$)}),C_=nh(function(b,D,$,ye){au(b,D,$,ye)}),Vy=dd(function(b,D){var $={};if(null==b)return $;var ye=!1;D=mr(D,function(Et){return Et=cd(Et,b),ye||(ye=Et.length>1),Et}),ga(b,Vm(b),$),ye&&($=Mo($,7,yy));for(var nt=D.length;nt--;)Cr($,D[nt]);return $}),lh=dd(function(b,D){return null==b?{}:function Bp(b,D){return Yp(b,D,function($,ye){return am(b,ye)})}(b,D)});function lm(b,D){if(null==b)return{};var $=mr(Vm(b),function(ye){return[ye]});return D=Is(D),Yp(b,$,function(ye,nt){return D(ye,nt[0])})}var S0=Up(Zu),dc=Up(Jc);function Bc(b){return null==b?[]:tr(b,Zu(b))}var jM=Ch(function(b,D,$){return D=D.toLowerCase(),b+($?sg(D):D)});function sg(b){return Ky(Ls(b).toLowerCase())}function Ow(b){return(b=Ls(b))&&b.replace(za,Vl).replace(Aa,"")}var $M=Ch(function(b,D,$){return b+($?"-":"")+D.toLowerCase()}),UM=Ch(function(b,D,$){return b+($?" ":"")+D.toLowerCase()}),VM=Sf("toLowerCase"),Fw=Ch(function(b,D,$){return b+($?"_":"")+D.toLowerCase()}),T0=Ch(function(b,D,$){return b+($?" ":"")+Ky(D)}),jw=Ch(function(b,D,$){return b+($?" ":"")+D.toUpperCase()}),Ky=Sf("toUpperCase");function bp(b,D,$){return b=Ls(b),(D=$?E:D)===E?function eu(yn){return ja.test(yn)}(b)?function Iu(yn){return yn.match(dl)||[]}(b):function da(yn){return yn.match(hr)||[]}(b):b.match(D)||[]}var Hw=ho(function(b,D){try{return ya(b,E,D)}catch($){return vt($)?$:new Ci($)}}),I0=dd(function(b,D){return gs(D,function($){$=Sc($),co(b,$,kf(b[$],b))}),b});function P_(b){return function(){return b}}var Cc=oc(),um=oc(!0);function ed(b){return b}function L0(b){return Fe("function"==typeof b?b:Mo(b,1))}var cm=ho(function(b,D){return function($){return Uu($,b,D)}}),KM=ho(function(b,D){return function($){return Uu(b,$,D)}});function A0(b,D,$){var ye=Zu(D),nt=od(D,ye);null==$&&(!Jt(D)||!nt.length&&ye.length)&&($=D,D=b,b=this,nt=od(D,Zu(D)));var Et=!(Jt($)&&"chain"in $&&!$.chain),Qt=Vt(b);return gs(nt,function(xn){var On=D[xn];b[xn]=On,Qt&&(b.prototype[xn]=function(){var Sr=this.__chain__;if(Et||Sr){var Er=b(this.__wrapped__);return(Er.__actions__=xc(this.__actions__)).push({func:On,args:arguments,thisArg:b}),Er.__chain__=Sr,Er}return On.apply(b,Ys([this.value()],arguments))})}),b}function k_(){}var QM=Hm(mr),Uw=Hm(md),sf=Hm(Pc);function eS(b){return Cf(b)?Ha(Sc(b)):function Lg(b){return function(D){return Gc(D,b)}}(b)}var Gw=$p(),tS=$p(!0);function Ww(){return[]}function qw(){return!1}var N0=ep(function(b,D){return b+D},0),O_=rh("ceil"),nv=ep(function(b,D){return b/D},1),hm=rh("floor"),rS=ep(function(b,D){return b*D},1),Xw=rh("round"),iS=ep(function(b,D){return b-D},0);return yt.after=function tg(b,D){if("function"!=typeof D)throw new Do(R);return b=ds(b),function(){if(--b<1)return D.apply(this,arguments)}},yt.ary=nm,yt.assign=Wu,yt.assignIn=qu,yt.assignInWith=bl,yt.assignWith=fo,yt.at=Xu,yt.before=lc,yt.bind=kf,yt.bindAll=I0,yt.bindKey=y_,yt.castArray=function nf(){if(!arguments.length)return[];var b=arguments[0];return v(b)?b:[b]},yt.chain=u_,yt.chunk=function fp(b,D,$){D=($?Mc(b,D,$):D===E)?1:Di(ds(D),0);var ye=null==b?0:b.length;if(!ye||D<1)return[];for(var nt=0,Et=0,Qt=zn(Ua(ye/D));nt<ye;)Qt[Et++]=ud(b,nt,nt+=D);return Qt},yt.compact=function Ew(b){for(var D=-1,$=null==b?0:b.length,ye=0,nt=[];++D<$;){var Et=b[D];Et&&(nt[ye++]=Et)}return nt},yt.concat=function c0(){var b=arguments.length;if(!b)return[];for(var D=zn(b-1),$=arguments[0],ye=b;ye--;)D[ye-1]=arguments[ye];return Ys(v($)?xc($):[$],nl(D,1))},yt.cond=function Jy(b){var D=null==b?0:b.length,$=Is();return b=D?mr(b,function(ye){if("function"!=typeof ye[1])throw new Do(R);return[$(ye[0]),ye[1]]}):[],ho(function(ye){for(var nt=-1;++nt<D;){var Et=b[nt];if(ya(Et[0],this,ye))return ya(Et[1],this,ye)}})},yt.conforms=function XM(b){return function bu(b){var D=Zu(b);return function($){return ao($,b,D)}}(Mo(b,1))},yt.constant=P_,yt.countBy=b0,yt.create=function Ru(b,D){var $=l(b);return null==D?$:Ks($,D)},yt.curry=function tf(b,D,$){var ye=bd(b,8,E,E,E,E,E,D=$?E:D);return ye.placeholder=tf.placeholder,ye},yt.curryRight=function Nu(b,D,$){var ye=bd(b,16,E,E,E,E,E,D=$?E:D);return ye.placeholder=Nu.placeholder,ye},yt.debounce=oh,yt.defaults=fu,yt.defaultsDeep=Md,yt.defer=v_,yt.delay=w_,yt.difference=Tw,yt.differenceBy=Cw,yt.differenceWith=Dw,yt.drop=function Iw(b,D,$){var ye=null==b?0:b.length;return ye?ud(b,(D=$||D===E?1:ds(D))<0?0:D,ye):[]},yt.dropRight=function Lw(b,D,$){var ye=null==b?0:b.length;return ye?ud(b,0,(D=ye-(D=$||D===E?1:ds(D)))<0?0:D):[]},yt.dropRightWhile=function Aw(b,D){return b&&b.length?Ar(b,Is(D,3),!0,!0):[]},yt.dropWhile=function Ih(b,D){return b&&b.length?Ar(b,Is(D,3),!0):[]},yt.fill=function pp(b,D,$,ye){var nt=null==b?0:b.length;return nt?($&&"number"!=typeof $&&Mc(b,D,$)&&($=0,ye=nt),function su(b,D,$,ye){var nt=b.length;for(($=ds($))<0&&($=-$>nt?0:nt+$),(ye=ye===E||ye>nt?nt:ds(ye))<0&&(ye+=nt),ye=$>ye?0:hu(ye);$<ye;)b[$++]=D;return b}(b,D,$,ye)):[]},yt.filter=function Oy(b,D){return(v(b)?lo:Pu)(b,Is(D,3))},yt.flatMap=function d_(b,D){return nl(eg(b,D),1)},yt.flatMapDeep=function h_(b,D){return nl(eg(b,D),et)},yt.flatMapDepth=function f_(b,D,$){return $=$===E?1:ds($),nl(eg(b,D),$)},yt.flatten=Ug,yt.flattenDeep=function Xp(b){return null!=b&&b.length?nl(b,et):[]},yt.flattenDepth=function d0(b,D){return null!=b&&b.length?nl(b,D=D===E?1:ds(D)):[]},yt.flip=function Yy(b){return bd(b,512)},yt.flow=Cc,yt.flowRight=um,yt.fromPairs=function xd(b){for(var D=-1,$=null==b?0:b.length,ye={};++D<$;){var nt=b[D];ye[nt[0]]=nt[1]}return ye},yt.functions=function rf(b){return null==b?[]:od(b,Zu(b))},yt.functionsIn=function om(b){return null==b?[]:od(b,Jc(b))},yt.groupBy=p_,yt.initial=function Vu(b){return null!=b&&b.length?ud(b,0,-1):[]},yt.intersection=Lf,yt.intersectionBy=xy,yt.intersectionWith=Af,yt.invert=ah,yt.invertBy=$y,yt.invokeMap=Qp,yt.iteratee=L0,yt.keyBy=Nc,yt.keys=Zu,yt.keysIn=Jc,yt.map=eg,yt.mapKeys=function T_(b,D){var $={};return D=Is(D,3),Ga(b,function(ye,nt,Et){co($,D(ye,nt,Et),ye)}),$},yt.mapValues=function Oh(b,D){var $={};return D=Is(D,3),Ga(b,function(ye,nt,Et){co($,nt,D(ye,nt,Et))}),$},yt.matches=function ZM(b){return Es(Mo(b,1))},yt.matchesProperty=function $w(b,D){return ws(b,Mo(D,1))},yt.memoize=Of,yt.merge=ig,yt.mergeWith=C_,yt.method=cm,yt.methodOf=KM,yt.mixin=A0,yt.negate=rm,yt.nthArg=function ev(b){return b=ds(b),ho(function(D){return lu(D,b)})},yt.omit=Vy,yt.omitBy=function Gy(b,D){return lm(b,rm(Is(D)))},yt.once=function zy(b){return lc(2,b)},yt.orderBy=function Ny(b,D,$,ye){return null==b?[]:(v(D)||(D=null==D?[]:[D]),v($=ye?E:$)||($=null==$?[]:[$]),qc(b,D,$))},yt.over=QM,yt.overArgs=im,yt.overEvery=Uw,yt.overSome=sf,yt.partial=ng,yt.partialRight=b_,yt.partition=Ry,yt.pick=lh,yt.pickBy=lm,yt.property=eS,yt.propertyOf=function Vw(b){return function(D){return null==b?E:Gc(b,D)}},yt.pull=Lh,yt.pullAll=h0,yt.pullAllBy=function t_(b,D,$){return b&&b.length&&D&&D.length?Id(b,D,Is($,2)):b},yt.pullAllWith=function My(b,D,$){return b&&b.length&&D&&D.length?Id(b,D,E,$):b},yt.pullAt=f0,yt.range=Gw,yt.rangeRight=tS,yt.rearg=Nf,yt.reject=function x0(b,D){return(v(b)?lo:Pu)(b,rm(Is(D,3)))},yt.remove=function Sy(b,D){var $=[];if(!b||!b.length)return $;var ye=-1,nt=[],Et=b.length;for(D=Is(D,3);++ye<Et;){var Qt=b[ye];D(Qt,ye,b)&&($.push(Qt),nt.push(ye))}return Ag(b,nt),$},yt.rest=function x_(b,D){if("function"!=typeof b)throw new Do(R);return ho(b,D=D===E?D:ds(D))},yt.reverse=Vg,yt.sampleSize=function _p(b,D,$){return D=($?Mc(b,D,$):D===E)?1:ds(D),(v(b)?Br:Ts)(b,D)},yt.set=function D_(b,D,$){return null==b?b:Jf(b,D,$)},yt.setWith=function I_(b,D,$,ye){return ye="function"==typeof ye?ye:E,null==b?b:Jf(b,D,$,ye)},yt.shuffle=function __(b){return(v(b)?Ki:hy)(b)},yt.slice=function n_(b,D,$){var ye=null==b?0:b.length;return ye?($&&"number"!=typeof $&&Mc(b,D,$)?(D=0,$=ye):(D=null==D?0:ds(D),$=$===E?ye:ds($)),ud(b,D,$)):[]},yt.sortBy=ac,yt.sortedUniq=function Pd(b){return b&&b.length?Bm(b):[]},yt.sortedUniqBy=function Ty(b,D){return b&&b.length?Bm(b,Is(D,2)):[]},yt.split=function Bw(b,D,$){return $&&"number"!=typeof $&&Mc(b,D,$)&&(D=$=E),($=$===E?ze:$>>>0)?(b=Ls(b))&&("string"==typeof D||null!=D&&!Dr(D))&&!(D=ic(D))&&mo(b)?Zc(Bo(b),0,$):b.split(D,$):[]},yt.spread=function jy(b,D){if("function"!=typeof b)throw new Do(R);return D=null==D?0:Di(ds(D),0),ho(function($){var ye=$[D],nt=Zc($,0,D);return ye&&Ys(nt,ye),ya(b,this,nt)})},yt.tail=function Wg(b){var D=null==b?0:b.length;return D?ud(b,1,D):[]},yt.take=function s_(b,D,$){return b&&b.length?ud(b,0,(D=$||D===E?1:ds(D))<0?0:D):[]},yt.takeRight=function qg(b,D,$){var ye=null==b?0:b.length;return ye?ud(b,(D=ye-(D=$||D===E?1:ds(D)))<0?0:D,ye):[]},yt.takeRightWhile=function Kp(b,D){return b&&b.length?Ar(b,Is(D,3),!1,!0):[]},yt.takeWhile=function o_(b,D){return b&&b.length?Ar(b,Is(D,3)):[]},yt.tap=function Ly(b,D){return D(b),b},yt.throttle=function yp(b,D,$){var ye=!0,nt=!0;if("function"!=typeof b)throw new Do(R);return Jt($)&&(ye="leading"in $?!!$.leading:ye,nt="trailing"in $?!!$.trailing:nt),oh(b,D,{leading:ye,maxWait:D,trailing:nt})},yt.thru=kd,yt.toArray=Ll,yt.toPairs=S0,yt.toPairsIn=dc,yt.toPath=function dm(b){return v(b)?mr(b,Sc):_o(b)?[b]:xc(Zh(Ls(b)))},yt.toPlainObject=Su,yt.transform=function Qc(b,D,$){var ye=v(b),nt=ye||Z(b)||Ia(b);if(D=Is(D,4),null==$){var Et=b&&b.constructor;$=nt?ye?new Et:[]:Jt(b)&&Vt(Et)?l(al(b)):{}}return(nt?gs:Ga)(b,function(Qt,xn,On){return D($,Qt,xn,On)}),$},yt.unary=function sm(b){return nm(b,1)},yt.union=p0,yt.unionBy=Jh,yt.unionWith=Pf,yt.uniq=function mp(b){return b&&b.length?xu(b):[]},yt.uniqBy=function g0(b,D){return b&&b.length?xu(b,Is(D,2)):[]},yt.uniqWith=function a_(b,D){return D="function"==typeof D?D:E,b&&b.length?xu(b,E,D):[]},yt.unset=function Ff(b,D){return null==b||Cr(b,D)},yt.unzip=Jp,yt.unzipWith=Cy,yt.update=function Fd(b,D,$){return null==b?b:Yo(b,D,Xc($))},yt.updateWith=function Bf(b,D,$,ye){return ye="function"==typeof ye?ye:E,null==b?b:Yo(b,D,Xc($),ye)},yt.values=Bc,yt.valuesIn=function kw(b){return null==b?[]:tr(b,Jc(b))},yt.without=Xg,yt.words=bp,yt.wrap=function M_(b,D){return ng(Xc(D),b)},yt.xor=Dy,yt.xorBy=m0,yt.xorWith=Zg,yt.zip=l_,yt.zipObject=function _0(b,D){return Ym(b||[],D||[],Ws)},yt.zipObjectDeep=function Iy(b,D){return Ym(b||[],D||[],Jf)},yt.zipWith=Pw,yt.entries=S0,yt.entriesIn=dc,yt.extend=qu,yt.extendWith=bl,A0(yt,yt),yt.add=N0,yt.attempt=Hw,yt.camelCase=jM,yt.capitalize=sg,yt.ceil=O_,yt.clamp=function Wy(b,D,$){return $===E&&($=D,D=E),$!==E&&($=($=La($))==$?$:0),D!==E&&(D=(D=La(D))==D?D:0),Ra(La(b),D,$)},yt.clone=function Rf(b){return Mo(b,4)},yt.cloneDeep=function rg(b){return Mo(b,5)},yt.cloneDeepWith=function wp(b,D){return Mo(b,5,D="function"==typeof D?D:E)},yt.cloneWith=function vp(b,D){return Mo(b,4,D="function"==typeof D?D:E)},yt.conformsTo=function S_(b,D){return null==D||ao(b,D,Zu(D))},yt.deburr=Ow,yt.defaultTo=function Qy(b,D){return null==b||b!=b?D:b},yt.divide=nv,yt.endsWith=function HM(b,D,$){b=Ls(b),D=ic(D);var ye=b.length,nt=$=$===E?ye:Ra(ds($),0,ye);return($-=D.length)>=0&&b.slice($,nt)==D},yt.eq=Od,yt.escape=function qy(b){return(b=Ls(b))&&Me.test(b)?b.replace(ce,ol):b},yt.escapeRegExp=function Nw(b){return(b=Ls(b))&&En.test(b)?b.replace(hn,"\\$&"):b},yt.every=function ky(b,D,$){var ye=v(b)?md:xh;return $&&Mc(b,D,$)&&(D=E),ye(b,Is(D,3))},yt.find=Ec,yt.findIndex=Qm,yt.findKey=function Nd(b,D){return zs(b,Is(D,3),Ga)},yt.findLast=Qh,yt.findLastIndex=Xl,yt.findLastKey=function Rd(b,D){return zs(b,Is(D,3),Ma)},yt.floor=hm,yt.forEach=ef,yt.forEachRight=Qg,yt.forIn=function kh(b,D){return null==b?b:Ya(b,Is(D,3),Jc)},yt.forInRight=function Fu(b,D){return null==b?b:Cl(b,Is(D,3),Jc)},yt.forOwn=function cc(b,D){return b&&Ga(b,Is(D,3))},yt.forOwnRight=function Fc(b,D){return b&&Ma(b,Is(D,3))},yt.get=E_,yt.gt=d,yt.gte=u,yt.has=function Hy(b,D){return null!=b&&Tf(b,D,vf)},yt.hasIn=am,yt.head=Kh,yt.identity=ed,yt.includes=function em(b,D,$,ye){b=P(b)?b:Bc(b),$=$&&!ye?ds($):0;var nt=b.length;return $<0&&($=Di(nt+$,0)),$s(b)?$<=nt&&b.indexOf(D,$)>-1:!!nt&&po(b,D,$)>-1},yt.indexOf=function e_(b,D,$){var ye=null==b?0:b.length;if(!ye)return-1;var nt=null==$?0:ds($);return nt<0&&(nt=Di(ye+nt,0)),po(b,D,nt)},yt.inRange=function zM(b,D,$){return D=Al(D),$===E?($=D,D=0):$=Al($),function wd(b,D,$){return b>=ba(D,$)&&b<Di(D,$)}(b=La(b),D,$)},yt.invoke=Uy,yt.isArguments=f,yt.isArray=v,yt.isArrayBuffer=T,yt.isArrayLike=P,yt.isArrayLikeObject=N,yt.isBoolean=function V(b){return!0===b||!1===b||mn(b)&&ou(b)==un},yt.isBuffer=Z,yt.isDate=ue,yt.isElement=function Le(b){return mn(b)&&1===b.nodeType&&!Vr(b)},yt.isEmpty=function Ye(b){if(null==b)return!0;if(P(b)&&(v(b)||"string"==typeof b||"function"==typeof b.splice||Z(b)||Ia(b)||f(b)))return!b.length;var D=Ou(b);if(D==ir||D==Fn)return!b.size;if(up(b))return!wt(b).length;for(var $ in b)if(uo.call(b,$))return!1;return!0},yt.isEqual=function Qe(b,D){return Mh(b,D)},yt.isEqualWith=function ft(b,D,$){var ye=($="function"==typeof $?$:E)?$(b,D):E;return ye===E?Mh(b,D,E,$):!!ye},yt.isError=vt,yt.isFinite=function Rt(b){return"number"==typeof b&&ys(b)},yt.isFunction=Vt,yt.isInteger=Zt,yt.isLength=Sn,yt.isMap=Un,yt.isMatch=function ur(b,D){return b===D||eh(b,D,Yg(D))},yt.isMatchWith=function di(b,D,$){return $="function"==typeof $?$:E,eh(b,D,Yg(D),$)},yt.isNaN=function Ri(b){return xi(b)&&b!=+b},yt.isNative=function oi(b){if(Km(b))throw new Ci("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return so(b)},yt.isNil=function Gr(b){return null==b},yt.isNull=function ni(b){return null===b},yt.isNumber=xi,yt.isObject=Jt,yt.isObjectLike=mn,yt.isPlainObject=Vr,yt.isRegExp=Dr,yt.isSafeInteger=function Vi(b){return Zt(b)&&b>=-Xe&&b<=Xe},yt.isSet=ji,yt.isString=$s,yt.isSymbol=_o,yt.isTypedArray=Ia,yt.isUndefined=function cu(b){return b===E},yt.isWeakMap=function Rc(b){return mn(b)&&Ou(b)==Zn},yt.isWeakSet=function uc(b){return mn(b)&&"[object WeakSet]"==ou(b)},yt.join=function Zp(b,D){return null==b?"":Va.call(b,D)},yt.kebabCase=$M,yt.last=Oc,yt.lastIndexOf=function Gu(b,D,$){var ye=null==b?0:b.length;if(!ye)return-1;var nt=ye;return $!==E&&(nt=(nt=ds($))<0?Di(ye+nt,0):ba(nt,ye-1)),D==D?function El(yn,er,zn){for(var ui=zn+1;ui--;)if(yn[ui]===er)return ui;return ui}(b,D,nt):Pa(b,Xa,nt,!0)},yt.lowerCase=UM,yt.lowerFirst=VM,yt.lt=wl,yt.lte=du,yt.max=function R0(b){return b&&b.length?Bl(b,ed,yf):E},yt.maxBy=function F0(b,D){return b&&b.length?Bl(b,Is(D,2),yf):E},yt.mean=function rv(b){return Gs(b,ed)},yt.meanBy=function $L(b,D){return Gs(b,Is(D,2))},yt.min=function B0(b){return b&&b.length?Bl(b,ed,Vn):E},yt.minBy=function N_(b,D){return b&&b.length?Bl(b,Is(D,2),Vn):E},yt.stubArray=Ww,yt.stubFalse=qw,yt.stubObject=function tv(){return{}},yt.stubString=function nS(){return""},yt.stubTrue=function P0(){return!0},yt.multiply=rS,yt.nth=function gp(b,D){return b&&b.length?lu(b,ds(D)):E},yt.noConflict=function JM(){return Jn._===this&&(Jn._=yl),this},yt.noop=k_,yt.now=Ph,yt.pad=function GM(b,D,$){b=Ls(b);var ye=(D=ds(D))?Ka(b):0;if(!D||ye>=D)return b;var nt=(D-ye)/2;return tp(Ca(nt),$)+b+tp(Ua(nt),$)},yt.padEnd=function Rw(b,D,$){b=Ls(b);var ye=(D=ds(D))?Ka(b):0;return D&&ye<D?b+tp(D-ye,$):b},yt.padStart=function zL(b,D,$){b=Ls(b);var ye=(D=ds(D))?Ka(b):0;return D&&ye<D?tp(D-ye,$)+b:b},yt.parseInt=function jL(b,D,$){return $||null==D?D=0:D&&(D=+D),sd(Ls(b).replace(In,""),D||0)},yt.random=function E0(b,D,$){if($&&"boolean"!=typeof $&&Mc(b,D,$)&&(D=$=E),$===E&&("boolean"==typeof D?($=D,D=E):"boolean"==typeof b&&($=b,b=E)),b===E&&D===E?(b=0,D=1):(b=Al(b),D===E?(D=b,b=0):D=Al(D)),b>D){var ye=b;b=D,D=ye}if($||b%1||D%1){var nt=bo();return ba(b+nt*(D-b+an("1e-"+((nt+"").length-1))),D)}return Rm(b,D)},yt.reduce=function g_(b,D,$){var ye=v(b)?mu:Nl,nt=arguments.length<3;return ye(b,Is(D,4),$,nt,$u)},yt.reduceRight=function m_(b,D,$){var ye=v(b)?Ol:Nl,nt=arguments.length<3;return ye(b,Is(D,4),$,nt,Dd)},yt.repeat=function L_(b,D,$){return D=($?Mc(b,D,$):D===E)?1:ds(D),Sh(Ls(b),D)},yt.replace=function A_(){var b=arguments,D=Ls(b[0]);return b.length<3?D:D.replace(b[1],b[2])},yt.result=function M0(b,D,$){var ye=-1,nt=(D=cd(D,b)).length;for(nt||(nt=1,b=E);++ye<nt;){var Et=null==b?E:b[Sc(D[ye])];Et===E&&(ye=nt,Et=$),b=Vt(Et)?Et.call(b):Et}return b},yt.round=Xw,yt.runInContext=yn,yt.sample=function Fy(b){return(v(b)?Hs:dy)(b)},yt.size=function tm(b){if(null==b)return 0;if(P(b))return $s(b)?Ka(b):b.length;var D=Ou(b);return D==ir||D==Fn?b.size:wt(b).length},yt.snakeCase=Fw,yt.some=function By(b,D,$){var ye=v(b)?Pc:Fm;return $&&Mc(b,D,$)&&(D=E),ye(b,Is(D,3))},yt.sortedIndex=function r_(b,D){return Eh(b,D)},yt.sortedIndexBy=function i_(b,D,$){return zp(b,D,Is($,2))},yt.sortedIndexOf=function Gg(b,D){var $=null==b?0:b.length;if($){var ye=Eh(b,D);if(ye<$&&Od(b[ye],D))return ye}return-1},yt.sortedLastIndex=function Ey(b,D){return Eh(b,D,!0)},yt.sortedLastIndexBy=function Ah(b,D,$){return zp(b,D,Is($,2),!0)},yt.sortedLastIndexOf=function sh(b,D){if(null!=b&&b.length){var ye=Eh(b,D,!0)-1;if(Od(b[ye],D))return ye}return-1},yt.startCase=T0,yt.startsWith=function Xy(b,D,$){return b=Ls(b),$=null==$?0:Ra(ds($),0,b.length),D=ic(D),b.slice($,$+D.length)==D},yt.subtract=iS,yt.sum=function sS(b){return b&&b.length?Oa(b,ed):0},yt.sumBy=function Y0(b,D){return b&&b.length?Oa(b,Is(D,2)):0},yt.template=function WM(b,D,$){var ye=yt.templateSettings;$&&Mc(b,D,$)&&(D=E),b=Ls(b),D=bl({},D,ye,Vp);var xn,On,nt=bl({},D.imports,ye.imports,Vp),Et=Zu(nt),Qt=tr(nt,Et),Sr=0,Er=D.interpolate||no,Yr="__p += '",Fi=Po((D.escape||no).source+"|"+Er.source+"|"+(Er===Ft?wi:no).source+"|"+(D.evaluate||no).source+"|$","g"),rs="//# sourceURL="+(uo.call(D,"sourceURL")?(D.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++os+"]")+"\n";b.replace(Fi,function(Us,Lo,Ea,Dc,pr,Bd){return Ea||(Ea=Dc),Yr+=b.slice(Sr,Bd).replace(Oo,wh),Lo&&(xn=!0,Yr+="' +\n__e("+Lo+") +\n'"),pr&&(On=!0,Yr+="';\n"+pr+";\n__p += '"),Ea&&(Yr+="' +\n((__t = ("+Ea+")) == null ? '' : __t) +\n'"),Sr=Bd+Us.length,Us}),Yr+="';\n";var Fs=uo.call(D,"variable")&&D.variable;if(Fs){if(Wr.test(Fs))throw new Ci("Invalid `variable` option passed into `_.template`")}else Yr="with (obj) {\n"+Yr+"\n}\n";Yr=(On?Yr.replace(St,""):Yr).replace(kt,"$1").replace(dn,"$1;"),Yr="function("+(Fs||"obj")+") {\n"+(Fs?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(xn?", __e = _.escape":"")+(On?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Yr+"return __p\n}";var ko=Hw(function(){return Zs(Et,rs+"return "+Yr).apply(E,Qt)});if(ko.source=Yr,vt(ko))throw ko;return ko},yt.times=function k0(b,D){if((b=ds(b))<1||b>Xe)return[];var $=ze,ye=ba(b,ze);D=Is(D),b-=ze;for(var nt=vc(ye,D);++$<b;)D($);return nt},yt.toFinite=Al,yt.toInteger=ds,yt.toLength=hu,yt.toLower=function Yw(b){return Ls(b).toLowerCase()},yt.toNumber=La,yt.toSafeInteger=function Tc(b){return b?Ra(ds(b),-Xe,Xe):0===b?b:0},yt.toString=Ls,yt.toUpper=function zw(b){return Ls(b).toUpperCase()},yt.trim=function Zy(b,D,$){if((b=Ls(b))&&($||D===E))return Za(b);if(!b||!(D=ic(D)))return b;var ye=Bo(b),nt=Bo(D);return Zc(ye,Pr(ye,nt),Ul(ye,nt)+1).join("")},yt.trimEnd=function HL(b,D,$){if((b=Ls(b))&&($||D===E))return b.slice(0,$a(b)+1);if(!b||!(D=ic(D)))return b;var ye=Bo(b);return Zc(ye,0,Ul(ye,Bo(D))+1).join("")},yt.trimStart=function C0(b,D,$){if((b=Ls(b))&&($||D===E))return b.replace(In,"");if(!b||!(D=ic(D)))return b;var ye=Bo(b);return Zc(ye,Pr(ye,Bo(D))).join("")},yt.truncate=function qM(b,D){var $=30,ye="...";if(Jt(D)){var nt="separator"in D?D.separator:nt;$="length"in D?ds(D.length):$,ye="omission"in D?ic(D.omission):ye}var Et=(b=Ls(b)).length;if(mo(b)){var Qt=Bo(b);Et=Qt.length}if($>=Et)return b;var xn=$-Ka(ye);if(xn<1)return ye;var On=Qt?Zc(Qt,0,xn).join(""):b.slice(0,xn);if(nt===E)return On+ye;if(Qt&&(xn+=On.length-xn),Dr(nt)){if(b.slice(xn).search(nt)){var Sr,Er=On;for(nt.global||(nt=Po(nt.source,Ls(li.exec(nt))+"g")),nt.lastIndex=0;Sr=nt.exec(Er);)var Yr=Sr.index;On=On.slice(0,Yr===E?xn:Yr)}}else if(b.indexOf(ic(nt),xn)!=xn){var Fi=On.lastIndexOf(nt);Fi>-1&&(On=On.slice(0,Fi))}return On+ye},yt.unescape=function D0(b){return(b=Ls(b))&&Se.test(b)?b.replace(me,kc):b},yt.uniqueId=function O0(b){var D=++ha;return Ls(b)+D},yt.upperCase=jw,yt.upperFirst=Ky,yt.each=ef,yt.eachRight=Qg,yt.first=Kh,A0(yt,function(){var b={};return Ga(yt,function(D,$){uo.call(yt.prototype,$)||(b[$]=D)}),b}(),{chain:!1}),yt.VERSION="4.17.21",gs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(b){yt[b].placeholder=yt}),gs(["drop","take"],function(b,D){w.prototype[b]=function($){$=$===E?1:Di(ds($),0);var ye=this.__filtered__&&!D?new w(this):this.clone();return ye.__filtered__?ye.__takeCount__=ba($,ye.__takeCount__):ye.__views__.push({size:ba($,ze),type:b+(ye.__dir__<0?"Right":"")}),ye},w.prototype[b+"Right"]=function($){return this.reverse()[b]($).reverse()}}),gs(["filter","map","takeWhile"],function(b,D){var $=D+1,ye=1==$||3==$;w.prototype[b]=function(nt){var Et=this.clone();return Et.__iteratees__.push({iteratee:Is(nt,3),type:$}),Et.__filtered__=Et.__filtered__||ye,Et}}),gs(["head","last"],function(b,D){var $="take"+(D?"Right":"");w.prototype[b]=function(){return this[$](1).value()[0]}}),gs(["initial","tail"],function(b,D){var $="drop"+(D?"":"Right");w.prototype[b]=function(){return this.__filtered__?new w(this):this[$](1)}}),w.prototype.compact=function(){return this.filter(ed)},w.prototype.find=function(b){return this.filter(b).head()},w.prototype.findLast=function(b){return this.reverse().find(b)},w.prototype.invokeMap=ho(function(b,D){return"function"==typeof b?new w(this):this.map(function($){return Uu($,b,D)})}),w.prototype.reject=function(b){return this.filter(rm(Is(b)))},w.prototype.slice=function(b,D){b=ds(b);var $=this;return $.__filtered__&&(b>0||D<0)?new w($):(b<0?$=$.takeRight(-b):b&&($=$.drop(b)),D!==E&&($=(D=ds(D))<0?$.dropRight(-D):$.take(D-b)),$)},w.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},w.prototype.toArray=function(){return this.take(ze)},Ga(w.prototype,function(b,D){var $=/^(?:filter|find|map|reject)|While$/.test(D),ye=/^(?:head|last)$/.test(D),nt=yt[ye?"take"+("last"==D?"Right":""):D],Et=ye||/^find/.test(D);nt&&(yt.prototype[D]=function(){var Qt=this.__wrapped__,xn=ye?[1]:arguments,On=Qt instanceof w,Sr=xn[0],Er=On||v(Qt),Yr=function(Lo){var Ea=nt.apply(yt,Ys([Lo],xn));return ye&&Fi?Ea[0]:Ea};Er&&$&&"function"==typeof Sr&&1!=Sr.length&&(On=Er=!1);var Fi=this.__chain__,Fs=Et&&!Fi,ko=On&&!this.__actions__.length;if(!Et&&Er){Qt=ko?Qt:new w(this);var Us=b.apply(Qt,xn);return Us.__actions__.push({func:kd,args:[Yr],thisArg:E}),new _(Us,Fi)}return Fs&&ko?b.apply(this,xn):(Us=this.thru(Yr),Fs?ye?Us.value()[0]:Us.value():Us)})}),gs(["pop","push","shift","sort","splice","unshift"],function(b){var D=wa[b],$=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",ye=/^(?:pop|shift)$/.test(b);yt.prototype[b]=function(){var nt=arguments;if(ye&&!this.__chain__){var Et=this.value();return D.apply(v(Et)?Et:[],nt)}return this[$](function(Qt){return D.apply(v(Qt)?Qt:[],nt)})}}),Ga(w.prototype,function(b,D){var $=yt[D];if($){var ye=$.name+"";uo.call(ci,ye)||(ci[ye]=[]),ci[ye].push({name:D,func:$})}}),ci[Kc(E,2).name]=[{name:"wrapper",func:E}],w.prototype.clone=function I(){var b=new w(this.__wrapped__);return b.__actions__=xc(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=xc(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=xc(this.__views__),b},w.prototype.reverse=function W(){if(this.__filtered__){var b=new w(this);b.__dir__=-1,b.__filtered__=!0}else(b=this.clone()).__dir__*=-1;return b},w.prototype.value=function re(){var b=this.__wrapped__.value(),D=this.__dir__,$=v(b),ye=D<0,nt=$?b.length:0,Et=function zg(b,D,$){for(var ye=-1,nt=$.length;++ye<nt;){var Et=$[ye],Qt=Et.size;switch(Et.type){case"drop":b+=Qt;break;case"dropRight":D-=Qt;break;case"take":D=ba(D,b+Qt);break;case"takeRight":b=Di(b,D-Qt)}}return{start:b,end:D}}(0,nt,this.__views__),Qt=Et.start,xn=Et.end,On=xn-Qt,Sr=ye?xn:Qt-1,Er=this.__iteratees__,Yr=Er.length,Fi=0,rs=ba(On,this.__takeCount__);if(!$||!ye&&nt==On&&rs==On)return kr(b,this.__actions__);var Fs=[];e:for(;On--&&Fi<rs;){for(var ko=-1,Us=b[Sr+=D];++ko<Yr;){var Lo=Er[ko],Dc=Lo.type,pr=(0,Lo.iteratee)(Us);if(2==Dc)Us=pr;else if(!pr){if(1==Dc)continue e;break e}}Fs[Fi++]=Us}return Fs},yt.prototype.at=Ay,yt.prototype.chain=function Kg(){return u_(this)},yt.prototype.commit=function y0(){return new _(this.value(),this.__chain__)},yt.prototype.next=function v0(){this.__values__===E&&(this.__values__=Ll(this.value()));var b=this.__index__>=this.__values__.length;return{done:b,value:b?E:this.__values__[this.__index__++]}},yt.prototype.plant=function w0(b){for(var D,$=this;$ instanceof c;){var ye=qp($);ye.__index__=0,ye.__values__=E,D?nt.__wrapped__=ye:D=ye;var nt=ye;$=$.__wrapped__}return nt.__wrapped__=b,D},yt.prototype.reverse=function Py(){var b=this.__wrapped__;if(b instanceof w){var D=b;return this.__actions__.length&&(D=new w(this)),(D=D.reverse()).__actions__.push({func:kd,args:[Vg],thisArg:E}),new _(D,this.__chain__)}return this.thru(Vg)},yt.prototype.toJSON=yt.prototype.valueOf=yt.prototype.value=function c_(){return kr(this.__wrapped__,this.__actions__)},yt.prototype.first=yt.prototype.head,ru&&(yt.prototype[ru]=function Jg(){return this}),yt}();Jn._=nu,(B=function(){return nu}.call(Ze,X,Ze,pt))!==E&&(pt.exports=B)}.call(this)},8510:function(pt,Ze){!function(X){"use strict";function B(xe,Q){return xe>Q?1:xe<Q?-1:0}var E=function(Q,oe){void 0===Q&&(Q=B),void 0===oe&&(oe=!1),this._compare=Q,this._root=null,this._size=0,this._noDuplicates=!!oe},z={size:{configurable:!0}};function p(xe,Q,oe,We,Mt){var St=Mt-We;if(St>0){var kt=We+Math.floor(St/2),ce={key:Q[kt],data:oe[kt],parent:xe};return ce.left=p(ce,Q,oe,We,kt),ce.right=p(ce,Q,oe,kt+1,Mt),ce}return null}function O(xe,Q,oe,We,Mt){if(!(oe>=We)){for(var St=xe[oe+We>>1],kt=oe-1,dn=We+1;;){do{kt++}while(Mt(xe[kt],St)<0);do{dn--}while(Mt(xe[dn],St)>0);if(kt>=dn)break;var me=xe[kt];xe[kt]=xe[dn],xe[dn]=me,me=Q[kt],Q[kt]=Q[dn],Q[dn]=me}O(xe,Q,oe,dn,Mt),O(xe,Q,dn+1,We,Mt)}}E.prototype.rotateLeft=function(Q){var oe=Q.right;oe&&(Q.right=oe.left,oe.left&&(oe.left.parent=Q),oe.parent=Q.parent),Q.parent?Q===Q.parent.left?Q.parent.left=oe:Q.parent.right=oe:this._root=oe,oe&&(oe.left=Q),Q.parent=oe},E.prototype.rotateRight=function(Q){var oe=Q.left;oe&&(Q.left=oe.right,oe.right&&(oe.right.parent=Q),oe.parent=Q.parent),Q.parent?Q===Q.parent.left?Q.parent.left=oe:Q.parent.right=oe:this._root=oe,oe&&(oe.right=Q),Q.parent=oe},E.prototype._splay=function(Q){for(;Q.parent;){var oe=Q.parent;oe.parent?oe.left===Q&&oe.parent.left===oe?(this.rotateRight(oe.parent),this.rotateRight(oe)):oe.right===Q&&oe.parent.right===oe?(this.rotateLeft(oe.parent),this.rotateLeft(oe)):oe.left===Q&&oe.parent.right===oe?(this.rotateRight(oe),this.rotateLeft(oe)):(this.rotateLeft(oe),this.rotateRight(oe)):oe.left===Q?this.rotateRight(oe):this.rotateLeft(oe)}},E.prototype.splay=function(Q){for(var oe,We,Mt,St,kt;Q.parent;)(We=(oe=Q.parent).parent)&&We.parent?((Mt=We.parent).left===We?Mt.left=Q:Mt.right=Q,Q.parent=Mt):(Q.parent=null,this._root=Q),St=Q.left,kt=Q.right,Q===oe.left?(We&&(We.left===oe?(oe.right?(We.left=oe.right,We.left.parent=We):We.left=null,oe.right=We,We.parent=oe):(St?(We.right=St,St.parent=We):We.right=null,Q.left=We,We.parent=Q)),kt?(oe.left=kt,kt.parent=oe):oe.left=null,Q.right=oe,oe.parent=Q):(We&&(We.right===oe?(oe.left?(We.right=oe.left,We.right.parent=We):We.right=null,oe.left=We,We.parent=oe):(kt?(We.left=kt,kt.parent=We):We.left=null,Q.right=We,We.parent=Q)),St?(oe.right=St,St.parent=oe):oe.right=null,Q.left=oe,oe.parent=Q)},E.prototype.replace=function(Q,oe){Q.parent?Q===Q.parent.left?Q.parent.left=oe:Q.parent.right=oe:this._root=oe,oe&&(oe.parent=Q.parent)},E.prototype.minNode=function(Q){if(void 0===Q&&(Q=this._root),Q)for(;Q.left;)Q=Q.left;return Q},E.prototype.maxNode=function(Q){if(void 0===Q&&(Q=this._root),Q)for(;Q.right;)Q=Q.right;return Q},E.prototype.insert=function(Q,oe){var We=this._root,Mt=null,St=this._compare;if(this._noDuplicates)for(;We;){if(Mt=We,0===St(We.key,Q))return;We=St(We.key,Q)<0?We.right:We.left}else for(;We;)Mt=We,We=St(We.key,Q)<0?We.right:We.left;return We={key:Q,data:oe,left:null,right:null,parent:Mt},Mt?St(Mt.key,We.key)<0?Mt.right=We:Mt.left=We:this._root=We,this.splay(We),this._size++,We},E.prototype.find=function(Q){for(var oe=this._root,We=this._compare;oe;){var Mt=We(oe.key,Q);if(Mt<0)oe=oe.right;else{if(!(Mt>0))return oe;oe=oe.left}}return null},E.prototype.contains=function(Q){for(var oe=this._root,We=this._compare;oe;){var Mt=We(Q,oe.key);if(0===Mt)return!0;oe=Mt<0?oe.left:oe.right}return!1},E.prototype.remove=function(Q){var oe=this.find(Q);if(!oe)return!1;if(this.splay(oe),oe.left)if(oe.right){var We=this.minNode(oe.right);We.parent!==oe&&(this.replace(We,We.right),We.right=oe.right,We.right.parent=We),this.replace(oe,We),We.left=oe.left,We.left.parent=We}else this.replace(oe,oe.left);else this.replace(oe,oe.right);return this._size--,!0},E.prototype.removeNode=function(Q){if(!Q)return!1;if(this.splay(Q),Q.left)if(Q.right){var oe=this.minNode(Q.right);oe.parent!==Q&&(this.replace(oe,oe.right),oe.right=Q.right,oe.right.parent=oe),this.replace(Q,oe),oe.left=Q.left,oe.left.parent=oe}else this.replace(Q,Q.left);else this.replace(Q,Q.right);return this._size--,!0},E.prototype.erase=function(Q){var oe=this.find(Q);if(oe){this.splay(oe);var We=oe.left,Mt=oe.right,St=null;We&&(We.parent=null,St=this.maxNode(We),this.splay(St),this._root=St),Mt&&(We?St.right=Mt:this._root=Mt,Mt.parent=St),this._size--}},E.prototype.pop=function(){var Q=this._root,oe=null;if(Q){for(;Q.left;)Q=Q.left;oe={key:Q.key,data:Q.data},this.remove(Q.key)}return oe},E.prototype.next=function(Q){var oe=Q;if(oe)if(oe.right)for(oe=oe.right;oe&&oe.left;)oe=oe.left;else for(oe=Q.parent;oe&&oe.right===Q;)Q=oe,oe=oe.parent;return oe},E.prototype.prev=function(Q){var oe=Q;if(oe)if(oe.left)for(oe=oe.left;oe&&oe.right;)oe=oe.right;else for(oe=Q.parent;oe&&oe.left===Q;)Q=oe,oe=oe.parent;return oe},E.prototype.forEach=function(Q){for(var oe=this._root,We=[],Mt=!1,St=0;!Mt;)oe?(We.push(oe),oe=oe.left):We.length>0?(Q(oe=We.pop(),St++),oe=oe.right):Mt=!0;return this},E.prototype.range=function(Q,oe,We,Mt){for(var St=[],kt=this._compare,dn=this._root;0!==St.length||dn;)if(dn)St.push(dn),dn=dn.left;else{if(kt((dn=St.pop()).key,oe)>0)break;if(kt(dn.key,Q)>=0&&We.call(Mt,dn))return this;dn=dn.right}return this},E.prototype.keys=function(){for(var Q=this._root,oe=[],We=[],Mt=!1;!Mt;)Q?(oe.push(Q),Q=Q.left):oe.length>0?(Q=oe.pop(),We.push(Q.key),Q=Q.right):Mt=!0;return We},E.prototype.values=function(){for(var Q=this._root,oe=[],We=[],Mt=!1;!Mt;)Q?(oe.push(Q),Q=Q.left):oe.length>0?(Q=oe.pop(),We.push(Q.data),Q=Q.right):Mt=!0;return We},E.prototype.at=function(Q){for(var oe=this._root,We=[],Mt=!1,St=0;!Mt;)if(oe)We.push(oe),oe=oe.left;else if(We.length>0){if(oe=We.pop(),St===Q)return oe;St++,oe=oe.right}else Mt=!0;return null},E.prototype.load=function(Q,oe,We){if(void 0===Q&&(Q=[]),void 0===oe&&(oe=[]),void 0===We&&(We=!1),0!==this._size)throw new Error("bulk-load: tree is not empty");var Mt=Q.length;return We&&O(Q,oe,0,Mt-1,this._compare),this._root=p(null,Q,oe,0,Mt),this._size=Mt,this},E.prototype.min=function(){var Q=this.minNode(this._root);return Q?Q.key:null},E.prototype.max=function(){var Q=this.maxNode(this._root);return Q?Q.key:null},E.prototype.isEmpty=function(){return null===this._root},z.size.get=function(){return this._size},E.createTree=function(Q,oe,We,Mt,St){return new E(We,St).load(Q,oe,Mt)},Object.defineProperties(E.prototype,z);var R=0,H=1,G=2,ie=3,Ee=0,he=1,Pe=2,Ie=3;function it(xe,Q,oe){null===Q?(xe.inOut=!1,xe.otherInOut=!0):(xe.isSubject===Q.isSubject?(xe.inOut=!Q.inOut,xe.otherInOut=Q.otherInOut):(xe.inOut=!Q.otherInOut,xe.otherInOut=Q.isVertical()?!Q.inOut:Q.inOut),Q&&(xe.prevInResult=!pe(Q,oe)||Q.isVertical()?Q.prevInResult:Q));var We=pe(xe,oe);xe.resultTransition=We?function ve(xe,Q){var Mt,oe=!xe.inOut,We=!xe.otherInOut;switch(Q){case Ee:Mt=oe&&We;break;case he:Mt=oe||We;break;case Ie:Mt=oe^We;break;case Pe:Mt=xe.isSubject?oe&&!We:We&&!oe}return Mt?1:-1}(xe,oe):0}function pe(xe,Q){switch(xe.type){case R:switch(Q){case Ee:return!xe.otherInOut;case he:return xe.otherInOut;case Pe:return xe.isSubject&&xe.otherInOut||!xe.isSubject&&!xe.otherInOut;case Ie:return!0}break;case G:return Q===Ee||Q===he;case ie:return Q===Pe;case H:return!1}return!1}var de=function(Q,oe,We,Mt,St){this.left=oe,this.point=Q,this.otherEvent=We,this.isSubject=Mt,this.type=St||R,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.resultTransition=0,this.otherPos=-1,this.outputContourId=-1,this.isExteriorRing=!0},J={inResult:{configurable:!0}};function te(xe,Q){return xe[0]===Q[0]&&xe[1]===Q[1]}de.prototype.isBelow=function(Q){var oe=this.point,We=this.otherEvent.point;return this.left?(oe[0]-Q[0])*(We[1]-Q[1])-(We[0]-Q[0])*(oe[1]-Q[1])>0:(We[0]-Q[0])*(oe[1]-Q[1])-(oe[0]-Q[0])*(We[1]-Q[1])>0},de.prototype.isAbove=function(Q){return!this.isBelow(Q)},de.prototype.isVertical=function(){return this.point[0]===this.otherEvent.point[0]},J.inResult.get=function(){return 0!==this.resultTransition},de.prototype.clone=function(){var Q=new de(this.point,this.left,this.otherEvent,this.isSubject,this.type);return Q.contourId=this.contourId,Q.resultTransition=this.resultTransition,Q.prevInResult=this.prevInResult,Q.isExteriorRing=this.isExteriorRing,Q.inOut=this.inOut,Q.otherInOut=this.otherInOut,Q},Object.defineProperties(de.prototype,J);var be=11102230246251565e-32,ee=134217729,ae=(3+8*be)*be;function ne(xe,Q,oe,We,Mt){var St,kt,dn,me,ce=Q[0],Se=We[0],Me=0,Je=0;Se>ce==Se>-ce?(St=ce,ce=Q[++Me]):(St=Se,Se=We[++Je]);var gt=0;if(Me<xe&&Je<oe)for(Se>ce==Se>-ce?(dn=St-((kt=ce+St)-ce),ce=Q[++Me]):(dn=St-((kt=Se+St)-Se),Se=We[++Je]),St=kt,0!==dn&&(Mt[gt++]=dn);Me<xe&&Je<oe;)Se>ce==Se>-ce?(dn=St-((kt=St+ce)-(me=kt-St))+(ce-me),ce=Q[++Me]):(dn=St-((kt=St+Se)-(me=kt-St))+(Se-me),Se=We[++Je]),St=kt,0!==dn&&(Mt[gt++]=dn);for(;Me<xe;)dn=St-((kt=St+ce)-(me=kt-St))+(ce-me),ce=Q[++Me],St=kt,0!==dn&&(Mt[gt++]=dn);for(;Je<oe;)dn=St-((kt=St+Se)-(me=kt-St))+(Se-me),Se=We[++Je],St=kt,0!==dn&&(Mt[gt++]=dn);return(0!==St||0===gt)&&(Mt[gt++]=St),gt}function st(xe){return new Float64Array(xe)}var $e=(3+16*be)*be,rt=(2+12*be)*be,Te=(9+64*be)*be*be,ht=st(4),tt=st(8),He=st(12),_t=st(16),et=st(4);function De(xe,Q,oe,We,Mt,St){var kt=(Q-St)*(oe-Mt),dn=(xe-Mt)*(We-St),me=kt-dn;if(0===kt||0===dn||kt>0!=dn>0)return me;var ce=Math.abs(kt+dn);return Math.abs(me)>=$e*ce?me:-function Xe(xe,Q,oe,We,Mt,St,kt){var dn,me,ce,Se,Me,Je,gt,Ft,Tt,xt,Bt,hn,En,In,sr,fr,Gn,lr,hr=xe-Mt,Wr=oe-Mt,Ir=Q-St,wi=We-St;ht[0]=(sr=(Ft=hr-(gt=(Je=ee*hr)-(Je-hr)))*(xt=wi-(Tt=(Je=ee*wi)-(Je-wi)))-((In=hr*wi)-gt*Tt-Ft*Tt-gt*xt))-((Bt=sr-(Gn=(Ft=Ir-(gt=(Je=ee*Ir)-(Je-Ir)))*(xt=Wr-(Tt=(Je=ee*Wr)-(Je-Wr)))-((fr=Ir*Wr)-gt*Tt-Ft*Tt-gt*xt)))+(Me=sr-Bt))+(Me-Gn),ht[1]=(En=In-((hn=In+Bt)-(Me=hn-In))+(Bt-Me))-((Bt=En-fr)+(Me=En-Bt))+(Me-fr),ht[2]=hn-((lr=hn+Bt)-(Me=lr-hn))+(Bt-Me),ht[3]=lr;var li=function se(xe,Q){for(var oe=Q[0],We=1;We<xe;We++)oe+=Q[We];return oe}(4,ht),Js=rt*kt;if(li>=Js||-li>=Js||(dn=xe-(hr+(Me=xe-hr))+(Me-Mt),ce=oe-(Wr+(Me=oe-Wr))+(Me-Mt),me=Q-(Ir+(Me=Q-Ir))+(Me-St),Se=We-(wi+(Me=We-wi))+(Me-St),0===dn&&0===me&&0===ce&&0===Se)||(Js=Te*kt+ae*Math.abs(li),(li+=hr*Se+wi*dn-(Ir*ce+Wr*me))>=Js||-li>=Js))return li;et[0]=(sr=(Ft=dn-(gt=(Je=ee*dn)-(Je-dn)))*(xt=wi-(Tt=(Je=ee*wi)-(Je-wi)))-((In=dn*wi)-gt*Tt-Ft*Tt-gt*xt))-((Bt=sr-(Gn=(Ft=me-(gt=(Je=ee*me)-(Je-me)))*(xt=Wr-(Tt=(Je=ee*Wr)-(Je-Wr)))-((fr=me*Wr)-gt*Tt-Ft*Tt-gt*xt)))+(Me=sr-Bt))+(Me-Gn),et[1]=(En=In-((hn=In+Bt)-(Me=hn-In))+(Bt-Me))-((Bt=En-fr)+(Me=En-Bt))+(Me-fr),et[2]=hn-((lr=hn+Bt)-(Me=lr-hn))+(Bt-Me),et[3]=lr;var mi=ne(4,ht,4,et,tt);et[0]=(sr=(Ft=hr-(gt=(Je=ee*hr)-(Je-hr)))*(xt=Se-(Tt=(Je=ee*Se)-(Je-Se)))-((In=hr*Se)-gt*Tt-Ft*Tt-gt*xt))-((Bt=sr-(Gn=(Ft=Ir-(gt=(Je=ee*Ir)-(Je-Ir)))*(xt=ce-(Tt=(Je=ee*ce)-(Je-ce)))-((fr=Ir*ce)-gt*Tt-Ft*Tt-gt*xt)))+(Me=sr-Bt))+(Me-Gn),et[1]=(En=In-((hn=In+Bt)-(Me=hn-In))+(Bt-Me))-((Bt=En-fr)+(Me=En-Bt))+(Me-fr),et[2]=hn-((lr=hn+Bt)-(Me=lr-hn))+(Bt-Me),et[3]=lr;var Cs=ne(mi,tt,4,et,He);et[0]=(sr=(Ft=dn-(gt=(Je=ee*dn)-(Je-dn)))*(xt=Se-(Tt=(Je=ee*Se)-(Je-Se)))-((In=dn*Se)-gt*Tt-Ft*Tt-gt*xt))-((Bt=sr-(Gn=(Ft=me-(gt=(Je=ee*me)-(Je-me)))*(xt=ce-(Tt=(Je=ee*ce)-(Je-ce)))-((fr=me*ce)-gt*Tt-Ft*Tt-gt*xt)))+(Me=sr-Bt))+(Me-Gn),et[1]=(En=In-((hn=In+Bt)-(Me=hn-In))+(Bt-Me))-((Bt=En-fr)+(Me=En-Bt))+(Me-fr),et[2]=hn-((lr=hn+Bt)-(Me=lr-hn))+(Bt-Me),et[3]=lr;var Yi=ne(Cs,He,4,et,_t);return _t[Yi-1]}(xe,Q,oe,We,Mt,St,ce)}function le(xe,Q,oe){var We=De(xe[0],xe[1],Q[0],Q[1],oe[0],oe[1]);return We>0?-1:We<0?1:0}function ze(xe,Q){var oe=xe.point,We=Q.point;return oe[0]>We[0]?1:oe[0]<We[0]?-1:oe[1]!==We[1]?oe[1]>We[1]?1:-1:function Ve(xe,Q,oe,We){return xe.left!==Q.left?xe.left?1:-1:0!==le(oe,xe.otherEvent.point,Q.otherEvent.point)?xe.isBelow(Q.otherEvent.point)?-1:1:!xe.isSubject&&Q.isSubject?1:-1}(xe,Q,oe)}function Yt(xe,Q,oe){var We=new de(Q,!1,xe,xe.isSubject),Mt=new de(Q,!0,xe.otherEvent,xe.isSubject);return te(xe.point,xe.otherEvent.point)&&console.warn("what is that, a collapsed segment?",xe),We.contourId=Mt.contourId=xe.contourId,ze(Mt,xe.otherEvent)>0&&(xe.otherEvent.left=!0,Mt.left=!1),xe.otherEvent.otherEvent=Mt,xe.otherEvent=We,oe.push(Mt),oe.push(We),oe}function Ct(xe,Q){return xe[0]*Q[1]-xe[1]*Q[0]}function bn(xe,Q){return xe[0]*Q[0]+xe[1]*Q[1]}function kn(xe,Q,oe){var We=function fn(xe,Q,oe,We,Mt){var St=[Q[0]-xe[0],Q[1]-xe[1]],kt=[We[0]-oe[0],We[1]-oe[1]];function dn(hn,En,In){return[hn[0]+En*In[0],hn[1]+En*In[1]]}var me=[oe[0]-xe[0],oe[1]-xe[1]],ce=Ct(St,kt),Se=ce*ce,Me=bn(St,St);if(Se>0){var Je=Ct(me,kt)/ce;if(Je<0||Je>1)return null;var gt=Ct(me,St)/ce;return gt<0||gt>1?null:0===Je||1===Je?Mt?null:[dn(xe,Je,St)]:0===gt||1===gt?Mt?null:[dn(oe,gt,kt)]:[dn(xe,Je,St)]}if((Se=(ce=Ct(me,St))*ce)>0)return null;var Ft=bn(St,me)/Me,Tt=Ft+bn(St,kt)/Me,xt=Math.min(Ft,Tt),Bt=Math.max(Ft,Tt);return xt<=1&&Bt>=0?1===xt?Mt?null:[dn(xe,xt>0?xt:0,St)]:0===Bt?Mt?null:[dn(xe,Bt<1?Bt:1,St)]:Mt&&0===xt&&1===Bt?null:[dn(xe,xt>0?xt:0,St),dn(xe,Bt<1?Bt:1,St)]:null}(xe.point,xe.otherEvent.point,Q.point,Q.otherEvent.point),Mt=We?We.length:0;if(0===Mt||1===Mt&&(te(xe.point,Q.point)||te(xe.otherEvent.point,Q.otherEvent.point))||2===Mt&&xe.isSubject===Q.isSubject)return 0;if(1===Mt)return!te(xe.point,We[0])&&!te(xe.otherEvent.point,We[0])&&Yt(xe,We[0],oe),!te(Q.point,We[0])&&!te(Q.otherEvent.point,We[0])&&Yt(Q,We[0],oe),1;var St=[],kt=!1,dn=!1;return te(xe.point,Q.point)?kt=!0:1===ze(xe,Q)?St.push(Q,xe):St.push(xe,Q),te(xe.otherEvent.point,Q.otherEvent.point)?dn=!0:1===ze(xe.otherEvent,Q.otherEvent)?St.push(Q.otherEvent,xe.otherEvent):St.push(xe.otherEvent,Q.otherEvent),kt&&dn||kt?(Q.type=H,xe.type=Q.inOut===xe.inOut?G:ie,kt&&!dn&&Yt(St[1].otherEvent,St[0].point,oe),2):dn?(Yt(St[0],St[1].point,oe),3):St[0]!==St[3].otherEvent?(Yt(St[0],St[1].point,oe),Yt(St[1],St[2].point,oe),3):(Yt(St[0],St[1].point,oe),Yt(St[3].otherEvent,St[2].point,oe),3)}function un(xe,Q){if(xe===Q)return 0;if(0!==le(xe.point,xe.otherEvent.point,Q.point)||0!==le(xe.point,xe.otherEvent.point,Q.otherEvent.point))return te(xe.point,Q.point)?xe.isBelow(Q.otherEvent.point)?-1:1:xe.point[0]===Q.point[0]?xe.point[1]<Q.point[1]?-1:1:1===ze(xe,Q)?Q.isAbove(xe.point)?-1:1:xe.isBelow(Q.point)?-1:1;if(xe.isSubject!==Q.isSubject)return xe.isSubject?-1:1;var oe=xe.point,We=Q.point;return oe[0]===We[0]&&oe[1]===We[1]?(oe=xe.otherEvent.point)[0]===(We=Q.otherEvent.point)[0]&&oe[1]===We[1]?0:xe.contourId>Q.contourId?1:-1:1===ze(xe,Q)?1:-1}var Rn=function(){this.points=[],this.holeIds=[],this.holeOf=null,this.depth=null};function Xr(xe,Q,oe,We){var kt,Mt=xe+1,St=Q[xe].point,dn=Q.length;for(Mt<dn&&(kt=Q[Mt].point);Mt<dn&&kt[0]===St[0]&&kt[1]===St[1];){if(!oe[Mt])return Mt;++Mt<dn&&(kt=Q[Mt].point)}for(Mt=xe-1;oe[Mt]&&Mt>We;)Mt--;return Mt}function ir(xe){var Q,oe,We=function dr(xe){var Q,oe,We,Mt,St=[];for(oe=0,We=xe.length;oe<We;oe++)((Q=xe[oe]).left&&Q.inResult||!Q.left&&Q.otherEvent.inResult)&&St.push(Q);for(var kt=!1;!kt;)for(kt=!0,oe=0,We=St.length;oe<We;oe++)oe+1<We&&1===ze(St[oe],St[oe+1])&&(Mt=St[oe],St[oe]=St[oe+1],St[oe+1]=Mt,kt=!1);for(oe=0,We=St.length;oe<We;oe++)(Q=St[oe]).otherPos=oe;for(oe=0,We=St.length;oe<We;oe++)(Q=St[oe]).left||(Mt=Q.otherPos,Q.otherPos=Q.otherEvent.otherPos,Q.otherEvent.otherPos=Mt);return St}(xe),Mt={},St=[],kt=function(){if(!Mt[Q]){var dn=St.length,me=function Ln(xe,Q,oe){var We=new Rn;if(null!=xe.prevInResult){var Mt=xe.prevInResult,St=Mt.outputContourId;if(Mt.resultTransition>0){var dn=Q[St];if(null!=dn.holeOf){var me=dn.holeOf;Q[me].holeIds.push(oe),We.holeOf=me,We.depth=Q[St].depth}else Q[St].holeIds.push(oe),We.holeOf=St,We.depth=Q[St].depth+1}else We.holeOf=null,We.depth=Q[St].depth}else We.holeOf=null,We.depth=0;return We}(We[Q],St,dn),ce=function(gt){Mt[gt]=!0,gt<We.length&&We[gt]&&(We[gt].outputContourId=dn)},Se=Q,Me=Q;for(me.points.push(We[Q].point);ce(Se),ce(Se=We[Se].otherPos),me.points.push(We[Se].point),!((Se=Xr(Se,We,Mt,Me))==Me||Se>=We.length)&&We[Se];);St.push(me)}};for(Q=0,oe=We.length;Q<oe;Q++)kt();return St}Rn.prototype.isExterior=function(){return null==this.holeOf};var xr=en,$r=en;function en(xe,Q){if(!(this instanceof en))return new en(xe,Q);if(this.data=xe||[],this.length=this.data.length,this.compare=Q||Wn,this.length>0)for(var oe=(this.length>>1)-1;oe>=0;oe--)this._down(oe)}function Wn(xe,Q){return xe<Q?-1:xe>Q?1:0}en.prototype={push:function(xe){this.data.push(xe),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var xe=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),xe}},peek:function(){return this.data[0]},_up:function(xe){for(var Q=this.data,oe=this.compare,We=Q[xe];xe>0;){var Mt=xe-1>>1,St=Q[Mt];if(oe(We,St)>=0)break;Q[xe]=St,xe=Mt}Q[xe]=We},_down:function(xe){for(var Q=this.data,oe=this.compare,We=this.length>>1,Mt=Q[xe];xe<We;){var St=1+(xe<<1),kt=St+1,dn=Q[St];if(kt<this.length&&oe(Q[kt],dn)<0&&(St=kt,dn=Q[kt]),oe(dn,Mt)>=0)break;Q[xe]=dn,xe=St}Q[xe]=Mt}},xr.default=$r;var qt=Math.max,rn=Math.min,Fn=0;function zr(xe,Q,oe,We,Mt,St){var kt,dn,me,ce,Se,Me;for(kt=0,dn=xe.length-1;kt<dn;kt++)if(ce=xe[kt+1],Se=new de(me=xe[kt],!1,void 0,Q),Me=new de(ce,!1,Se,Q),Se.otherEvent=Me,me[0]!==ce[0]||me[1]!==ce[1]){Se.contourId=Me.contourId=oe,St||(Se.isExteriorRing=!1,Me.isExteriorRing=!1),ze(Se,Me)>0?Me.left=!0:Se.left=!0;var Je=me[0],gt=me[1];Mt[0]=rn(Mt[0],Je),Mt[1]=rn(Mt[1],gt),Mt[2]=qt(Mt[2],Je),Mt[3]=qt(Mt[3],gt),We.push(Se),We.push(Me)}}var ai=[];function Qi(xe,Q,oe){"number"==typeof xe[0][0][0]&&(xe=[xe]),"number"==typeof Q[0][0][0]&&(Q=[Q]);var We=function Zn(xe,Q,oe){var We=null;return xe.length*Q.length==0&&(oe===Ee?We=ai:oe===Pe?We=xe:(oe===he||oe===Ie)&&(We=0===xe.length?Q:xe)),We}(xe,Q,oe);if(We)return We===ai?null:We;var Mt=[1/0,1/0,-1/0,-1/0],St=[1/0,1/0,-1/0,-1/0],kt=function Li(xe,Q,oe,We,Mt){var kt,dn,me,ce,Se,Me,St=new xr(null,ze);for(me=0,ce=xe.length;me<ce;me++)for(Se=0,Me=(kt=xe[me]).length;Se<Me;Se++)(dn=0===Se)&&Fn++,zr(kt[Se],!0,Fn,St,oe,dn);for(me=0,ce=Q.length;me<ce;me++)for(Se=0,Me=(kt=Q[me]).length;Se<Me;Se++)dn=0===Se,Mt===Pe&&(dn=!1),dn&&Fn++,zr(kt[Se],!1,Fn,St,We,dn);return St}(xe,Q,Mt,St,oe);if(We=function is(xe,Q,oe,We,Mt){var St=null;return(oe[0]>We[2]||We[0]>oe[2]||oe[1]>We[3]||We[1]>oe[3])&&(Mt===Ee?St=ai:Mt===Pe?St=xe:(Mt===he||Mt===Ie)&&(St=xe.concat(Q))),St}(xe,Q,Mt,St,oe))return We===ai?null:We;for(var me=ir(function Xn(xe,Q,oe,We,Mt,St){for(var ce,Se,Me,kt=new E(un),dn=[],me=Math.min(We[2],Mt[2]);0!==xe.length;){var Je=xe.pop();if(dn.push(Je),St===Ee&&Je.point[0]>me||St===Pe&&Je.point[0]>We[2])break;if(Je.left){Se=ce=kt.insert(Je),ce=ce!==(Me=kt.minNode())?kt.prev(ce):null,Se=kt.next(Se);var gt=ce?ce.key:null;if(it(Je,gt,St),Se&&2===kn(Je,Se.key,xe)&&(it(Je,gt,St),it(Se.key,Je,St)),ce&&2===kn(ce.key,Je,xe)){var Tt=ce;it(gt,(Tt=Tt!==Me?kt.prev(Tt):null)?Tt.key:null,St),it(Je,gt,St)}}else Se=ce=kt.find(Je=Je.otherEvent),ce&&Se&&(ce=ce!==Me?kt.prev(ce):null,Se=kt.next(Se),kt.remove(Je),Se&&ce&&kn(ce.key,Se.key,xe))}return dn}(kt,0,0,Mt,St,oe)),ce=[],Se=0;Se<me.length;Se++){var Me=me[Se];if(Me.isExterior()){for(var Je=[Me.points],gt=0;gt<Me.holeIds.length;gt++)Je.push(me[Me.holeIds[gt]].points);ce.push(Je)}}return ce}var Ge={UNION:he,DIFFERENCE:Pe,INTERSECTION:Ee,XOR:Ie};X.diff=function Dn(xe,Q){return Qi(xe,Q,Pe)},X.intersection=function ke(xe,Q){return Qi(xe,Q,Ee)},X.operations=Ge,X.union=function Nr(xe,Q){return Qi(xe,Q,he)},X.xor=function nn(xe,Q){return Qi(xe,Q,Ie)},Object.defineProperty(X,"__esModule",{value:!0})}(Ze)},3274:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(z){return/^nm$/i.test(z)},meridiem:function(z,p,O){return z<12?O?"vm":"VM":O?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(z){return z+(1===z||8===z||z>=20?"ste":"de")},week:{dow:1,doy:4}})}(X(6676))},1867:function(pt,Ze,X){!function(B){"use strict";var E=function(H){return 0===H?0:1===H?1:2===H?2:H%100>=3&&H%100<=10?3:H%100>=11?4:5},z={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},p=function(H){return function(G,ie,Ee,he){var Pe=E(G),Ie=z[H][E(G)];return 2===Pe&&(Ie=Ie[ie?0:1]),Ie.replace(/%d/i,G)}},O=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];B.defineLocale("ar-dz",{months:O,monthsShort:O,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(H){return"\u0645"===H},meridiem:function(H,G,ie){return H<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:p("s"),ss:p("s"),m:p("m"),mm:p("m"),h:p("h"),hh:p("h"),d:p("d"),dd:p("d"),M:p("M"),MM:p("M"),y:p("y"),yy:p("y")},postformat:function(H){return H.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(X(6676))},7078:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(X(6676))},7776:function(pt,Ze,X){!function(B){"use strict";var E={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},z=function(G){return 0===G?0:1===G?1:2===G?2:G%100>=3&&G%100<=10?3:G%100>=11?4:5},p={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},O=function(G){return function(ie,Ee,he,Pe){var Ie=z(ie),it=p[G][z(ie)];return 2===Ie&&(it=it[Ee?0:1]),it.replace(/%d/i,ie)}},R=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];B.defineLocale("ar-ly",{months:R,monthsShort:R,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(G){return"\u0645"===G},meridiem:function(G,ie,Ee){return G<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:O("s"),ss:O("s"),m:O("m"),mm:O("m"),h:O("h"),hh:O("h"),d:O("d"),dd:O("d"),M:O("M"),MM:O("M"),y:O("y"),yy:O("y")},preparse:function(G){return G.replace(/\u060c/g,",")},postformat:function(G){return G.replace(/\d/g,function(ie){return E[ie]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(X(6676))},6789:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(X(6676))},3807:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},z={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};B.defineLocale("ar-ps",{months:"\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a_\u0634\u0628\u0627\u0637_\u0622\u0630\u0627\u0631_\u0646\u064a\u0633\u0627\u0646_\u0623\u064a\u0651\u0627\u0631_\u062d\u0632\u064a\u0631\u0627\u0646_\u062a\u0645\u0651\u0648\u0632_\u0622\u0628_\u0623\u064a\u0644\u0648\u0644_\u062a\u0634\u0631\u064a \u0627\u0644\u0623\u0648\u0651\u0644_\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a_\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0651\u0644".split("_"),monthsShort:"\u0643\u0662_\u0634\u0628\u0627\u0637_\u0622\u0630\u0627\u0631_\u0646\u064a\u0633\u0627\u0646_\u0623\u064a\u0651\u0627\u0631_\u062d\u0632\u064a\u0631\u0627\u0646_\u062a\u0645\u0651\u0648\u0632_\u0622\u0628_\u0623\u064a\u0644\u0648\u0644_\u062a\u0661_\u062a\u0662_\u0643\u0661".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(O){return"\u0645"===O},meridiem:function(O,R,H){return O<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(O){return O.replace(/[\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(R){return z[R]}).split("").reverse().join("").replace(/[\u0661\u0662](?![\u062a\u0643])/g,function(R){return z[R]}).split("").reverse().join("").replace(/\u060c/g,",")},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(X(6676))},6897:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},z={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};B.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(O){return"\u0645"===O},meridiem:function(O,R,H){return O<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(O){return O.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(R){return z[R]}).replace(/\u060c/g,",")},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(X(6676))},1585:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(X(6676))},2097:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},z={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},p=function(ie){return 0===ie?0:1===ie?1:2===ie?2:ie%100>=3&&ie%100<=10?3:ie%100>=11?4:5},O={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},R=function(ie){return function(Ee,he,Pe,Ie){var it=p(Ee),pe=O[ie][p(Ee)];return 2===it&&(pe=pe[he?0:1]),pe.replace(/%d/i,Ee)}},H=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];B.defineLocale("ar",{months:H,monthsShort:H,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(ie){return"\u0645"===ie},meridiem:function(ie,Ee,he){return ie<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:R("s"),ss:R("s"),m:R("m"),mm:R("m"),h:R("h"),hh:R("h"),d:R("d"),dd:R("d"),M:R("M"),MM:R("M"),y:R("y"),yy:R("y")},preparse:function(ie){return ie.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Ee){return z[Ee]}).replace(/\u060c/g,",")},postformat:function(ie){return ie.replace(/\d/g,function(Ee){return E[Ee]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(X(6676))},5611:function(pt,Ze,X){!function(B){"use strict";var E={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};B.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(p){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(p)},meridiem:function(p,O,R){return p<4?"gec\u0259":p<12?"s\u0259h\u0259r":p<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(p){if(0===p)return p+"-\u0131nc\u0131";var O=p%10;return p+(E[O]||E[p%100-O]||E[p>=100?100:null])},week:{dow:1,doy:7}})}(X(6676))},2459:function(pt,Ze,X){!function(B){"use strict";function z(O,R,H){return"m"===H?R?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===H?R?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":O+" "+function E(O,R){var H=O.split("_");return R%10==1&&R%100!=11?H[0]:R%10>=2&&R%10<=4&&(R%100<10||R%100>=20)?H[1]:H[2]}({ss:R?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:R?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:R?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[H],+O)}B.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:z,mm:z,h:z,hh:z,d:"\u0434\u0437\u0435\u043d\u044c",dd:z,M:"\u043c\u0435\u0441\u044f\u0446",MM:z,y:"\u0433\u043e\u0434",yy:z},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(O){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(O)},meridiem:function(O,R,H){return O<4?"\u043d\u043e\u0447\u044b":O<12?"\u0440\u0430\u043d\u0456\u0446\u044b":O<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(O,R){switch(R){case"M":case"d":case"DDD":case"w":case"W":return O%10!=2&&O%10!=3||O%100==12||O%100==13?O+"-\u044b":O+"-\u0456";case"D":return O+"-\u0433\u0430";default:return O}},week:{dow:1,doy:7}})}(X(6676))},1825:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(z){var p=z%10,O=z%100;return 0===z?z+"-\u0435\u0432":0===O?z+"-\u0435\u043d":O>10&&O<20?z+"-\u0442\u0438":1===p?z+"-\u0432\u0438":2===p?z+"-\u0440\u0438":7===p||8===p?z+"-\u043c\u0438":z+"-\u0442\u0438"},week:{dow:1,doy:7}})}(X(6676))},5918:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(X(6676))},9683:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},z={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};B.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(O){return O.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(O,R){return 12===O&&(O=0),"\u09b0\u09be\u09a4"===R?O<4?O:O+12:"\u09ad\u09cb\u09b0"===R||"\u09b8\u0995\u09be\u09b2"===R?O:"\u09a6\u09c1\u09aa\u09c1\u09b0"===R?O>=3?O:O+12:"\u09ac\u09bf\u0995\u09be\u09b2"===R||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===R?O+12:void 0},meridiem:function(O,R,H){return O<4?"\u09b0\u09be\u09a4":O<6?"\u09ad\u09cb\u09b0":O<12?"\u09b8\u0995\u09be\u09b2":O<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":O<18?"\u09ac\u09bf\u0995\u09be\u09b2":O<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(X(6676))},4065:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},z={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};B.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(O){return O.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(O,R){return 12===O&&(O=0),"\u09b0\u09be\u09a4"===R&&O>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===R&&O<5||"\u09ac\u09bf\u0995\u09be\u09b2"===R?O+12:O},meridiem:function(O,R,H){return O<4?"\u09b0\u09be\u09a4":O<10?"\u09b8\u0995\u09be\u09b2":O<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":O<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(X(6676))},1034:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},z={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};B.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(O){return O.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(O,R){return 12===O&&(O=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===R&&O>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===R&&O<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===R?O+12:O},meridiem:function(O,R,H){return O<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":O<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":O<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":O<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(X(6676))},7671:function(pt,Ze,X){!function(B){"use strict";function E(pe,ve,de){return pe+" "+function O(pe,ve){return 2===ve?function R(pe){var ve={m:"v",b:"v",d:"z"};return void 0===ve[pe.charAt(0)]?pe:ve[pe.charAt(0)]+pe.substring(1)}(pe):pe}({mm:"munutenn",MM:"miz",dd:"devezh"}[de],pe)}function p(pe){return pe>9?p(pe%10):pe}var H=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],G=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,Ie=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];B.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:Ie,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:Ie,monthsRegex:G,monthsShortRegex:G,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:H,longMonthsParse:H,shortMonthsParse:H,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:E,h:"un eur",hh:"%d eur",d:"un devezh",dd:E,M:"ur miz",MM:E,y:"ur bloaz",yy:function z(pe){switch(p(pe)){case 1:case 3:case 4:case 5:case 9:return pe+" bloaz";default:return pe+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(pe){return pe+(1===pe?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(pe){return"g.m."===pe},meridiem:function(pe,ve,de){return pe<12?"a.m.":"g.m."}})}(X(6676))},8153:function(pt,Ze,X){!function(B){"use strict";function z(O,R,H){var G=O+" ";switch(H){case"ss":return G+(1===O?"sekunda":2===O||3===O||4===O?"sekunde":"sekundi");case"mm":return G+(1===O?"minuta":2===O||3===O||4===O?"minute":"minuta");case"h":return"jedan sat";case"hh":return G+(1===O?"sat":2===O||3===O||4===O?"sata":"sati");case"dd":return G+(1===O?"dan":"dana");case"MM":return G+(1===O?"mjesec":2===O||3===O||4===O?"mjeseca":"mjeseci");case"yy":return G+(1===O?"godina":2===O||3===O||4===O?"godine":"godina")}}B.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:z,m:function E(O,R,H,G){if("m"===H)return R?"jedna minuta":G?"jednu minutu":"jedne minute"},mm:z,h:z,hh:z,d:"dan",dd:z,M:"mjesec",MM:z,y:"godinu",yy:z},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(X(6676))},4287:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(z,p){var O=1===z?"r":2===z?"n":3===z?"r":4===z?"t":"\xe8";return("w"===p||"W"===p)&&(O="a"),z+O},week:{dow:1,doy:4}})}(X(6676))},2616:function(pt,Ze,X){!function(B){"use strict";var E={standalone:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),format:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},z="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),p=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],O=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function R(ie){return ie>1&&ie<5&&1!=~~(ie/10)}function H(ie,Ee,he,Pe){var Ie=ie+" ";switch(he){case"s":return Ee||Pe?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return Ee||Pe?Ie+(R(ie)?"sekundy":"sekund"):Ie+"sekundami";case"m":return Ee?"minuta":Pe?"minutu":"minutou";case"mm":return Ee||Pe?Ie+(R(ie)?"minuty":"minut"):Ie+"minutami";case"h":return Ee?"hodina":Pe?"hodinu":"hodinou";case"hh":return Ee||Pe?Ie+(R(ie)?"hodiny":"hodin"):Ie+"hodinami";case"d":return Ee||Pe?"den":"dnem";case"dd":return Ee||Pe?Ie+(R(ie)?"dny":"dn\xed"):Ie+"dny";case"M":return Ee||Pe?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return Ee||Pe?Ie+(R(ie)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):Ie+"m\u011bs\xedci";case"y":return Ee||Pe?"rok":"rokem";case"yy":return Ee||Pe?Ie+(R(ie)?"roky":"let"):Ie+"lety"}}B.defineLocale("cs",{months:E,monthsShort:z,monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:p,longMonthsParse:p,shortMonthsParse:p,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:H,ss:H,m:H,mm:H,h:H,hh:H,d:H,dd:H,M:H,MM:H,y:H,yy:H},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},7049:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(z){return z+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(z)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(z)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(X(6676))},9172:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(z){var O="";return z>20?O=40===z||50===z||60===z||80===z||100===z?"fed":"ain":z>0&&(O=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][z]),z+O},week:{dow:1,doy:4}})}(X(6676))},605:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},3395:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R,H){var G={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[p+" Tage",p+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[p+" Monate",p+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[p+" Jahre",p+" Jahren"]};return O?G[R][0]:G[R][1]}B.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:E,mm:"%d Minuten",h:E,hh:"%d Stunden",d:E,dd:E,w:E,ww:"%d Wochen",M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},9835:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R,H){var G={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[p+" Tage",p+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[p+" Monate",p+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[p+" Jahre",p+" Jahren"]};return O?G[R][0]:G[R][1]}B.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:E,mm:"%d Minuten",h:E,hh:"%d Stunden",d:E,dd:E,w:E,ww:"%d Wochen",M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},4013:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R,H){var G={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[p+" Tage",p+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[p+" Monate",p+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[p+" Jahre",p+" Jahren"]};return O?G[R][0]:G[R][1]}B.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:E,mm:"%d Minuten",h:E,hh:"%d Stunden",d:E,dd:E,w:E,ww:"%d Wochen",M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},4570:function(pt,Ze,X){!function(B){"use strict";var E=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],z=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];B.defineLocale("dv",{months:E,monthsShort:E,weekdays:z,weekdaysShort:z,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(O){return"\u0789\u078a"===O},meridiem:function(O,R,H){return O<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(O){return O.replace(/\u060c/g,",")},postformat:function(O){return O.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(X(6676))},1859:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(p,O){return p?"string"==typeof O&&/D/.test(O.substring(0,O.indexOf("MMMM")))?this._monthsGenitiveEl[p.month()]:this._monthsNominativeEl[p.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(p,O,R){return p>11?R?"\u03bc\u03bc":"\u039c\u039c":R?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(p){return"\u03bc"===(p+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(p,O){var R=this._calendarEl[p],H=O&&O.hours();return function E(p){return typeof Function<"u"&&p instanceof Function||"[object Function]"===Object.prototype.toString.call(p)}(R)&&(R=R.apply(O)),R.replace("{}",H%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(X(6676))},5785:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")},week:{dow:0,doy:4}})}(X(6676))},3792:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")}})}(X(6676))},7651:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")},week:{dow:1,doy:4}})}(X(6676))},1929:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")},week:{dow:1,doy:4}})}(X(6676))},9818:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")}})}(X(6676))},6612:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")},week:{dow:0,doy:6}})}(X(6676))},4900:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")},week:{dow:1,doy:4}})}(X(6676))},2721:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")},week:{dow:1,doy:4}})}(X(6676))},5159:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(z){return"p"===z.charAt(0).toLowerCase()},meridiem:function(z,p,O){return z>11?O?"p.t.m.":"P.T.M.":O?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(X(6676))},1780:function(pt,Ze,X){!function(B){"use strict";var E="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),z="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),p=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],O=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;B.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(H,G){return H?/-MMM-/.test(G)?z[H.month()]:E[H.month()]:E},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:p,longMonthsParse:p,shortMonthsParse:p,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(X(6676))},3468:function(pt,Ze,X){!function(B){"use strict";var E="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),z="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),p=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],O=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;B.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(H,G){return H?/-MMM-/.test(G)?z[H.month()]:E[H.month()]:E},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:p,longMonthsParse:p,shortMonthsParse:p,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(X(6676))},4938:function(pt,Ze,X){!function(B){"use strict";var E="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),z="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),p=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],O=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;B.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(H,G){return H?/-MMM-/.test(G)?z[H.month()]:E[H.month()]:E},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:p,longMonthsParse:p,shortMonthsParse:p,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(X(6676))},1954:function(pt,Ze,X){!function(B){"use strict";var E="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),z="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),p=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],O=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;B.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(H,G){return H?/-MMM-/.test(G)?z[H.month()]:E[H.month()]:E},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:p,longMonthsParse:p,shortMonthsParse:p,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(X(6676))},1453:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R,H){var G={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[p+"sekundi",p+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[p+" minuti",p+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[p+" tunni",p+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[p+" kuu",p+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[p+" aasta",p+" aastat"]};return O?G[R][2]?G[R][2]:G[R][1]:H?G[R][0]:G[R][1]}B.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:"%d p\xe4eva",M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},4697:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(X(6676))},2900:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},z={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};B.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(O){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(O)},meridiem:function(O,R,H){return O<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(O){return O.replace(/[\u06f0-\u06f9]/g,function(R){return z[R]}).replace(/\u060c/g,",")},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(X(6676))},9775:function(pt,Ze,X){!function(B){"use strict";var E="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),z=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",E[7],E[8],E[9]];function p(H,G,ie,Ee){var he="";switch(ie){case"s":return Ee?"muutaman sekunnin":"muutama sekunti";case"ss":he=Ee?"sekunnin":"sekuntia";break;case"m":return Ee?"minuutin":"minuutti";case"mm":he=Ee?"minuutin":"minuuttia";break;case"h":return Ee?"tunnin":"tunti";case"hh":he=Ee?"tunnin":"tuntia";break;case"d":return Ee?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":he=Ee?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return Ee?"kuukauden":"kuukausi";case"MM":he=Ee?"kuukauden":"kuukautta";break;case"y":return Ee?"vuoden":"vuosi";case"yy":he=Ee?"vuoden":"vuotta"}return function O(H,G){return H<10?G?z[H]:E[H]:H}(H,Ee)+" "+he}B.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:p,ss:p,m:p,mm:p,h:p,hh:p,d:p,dd:p,M:p,MM:p,y:p,yy:p},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},4282:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(z){return z},week:{dow:1,doy:4}})}(X(6676))},4236:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},2830:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(z,p){switch(p){default:case"M":case"Q":case"D":case"DDD":case"d":return z+(1===z?"er":"e");case"w":case"W":return z+(1===z?"re":"e")}}})}(X(6676))},1412:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(z,p){switch(p){default:case"M":case"Q":case"D":case"DDD":case"d":return z+(1===z?"er":"e");case"w":case"W":return z+(1===z?"re":"e")}},week:{dow:1,doy:4}})}(X(6676))},9361:function(pt,Ze,X){!function(B){"use strict";var p=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,O=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];B.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:p,monthsShortRegex:p,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:O,longMonthsParse:O,shortMonthsParse:O,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(H,G){switch(G){case"D":return H+(1===H?"er":"");default:case"M":case"Q":case"DDD":case"d":return H+(1===H?"er":"e");case"w":case"W":return H+(1===H?"re":"e")}},week:{dow:1,doy:4}})}(X(6676))},6984:function(pt,Ze,X){!function(B){"use strict";var E="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),z="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");B.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(O,R){return O?/-MMM-/.test(R)?z[O.month()]:E[O.month()]:E},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(O){return O+(1===O||8===O||O>=20?"ste":"de")},week:{dow:1,doy:4}})}(X(6676))},2681:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(G){return G+(1===G?"d":G%10==2?"na":"mh")},week:{dow:1,doy:4}})}(X(6676))},8849:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(G){return G+(1===G?"d":G%10==2?"na":"mh")},week:{dow:1,doy:4}})}(X(6676))},4273:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(z){return 0===z.indexOf("un")?"n"+z:"en "+z},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(X(6676))},623:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R,H){var G={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[p+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",p+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[p+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",p+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[p+" \u0935\u0930\u093e\u0902\u0928\u0940",p+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[p+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",p+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[p+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",p+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[p+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",p+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return H?G[R][0]:G[R][1]}B.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(p,O){return"D"===O?p+"\u0935\u0947\u0930":p},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(p,O){return 12===p&&(p=0),"\u0930\u093e\u0924\u0940"===O?p<4?p:p+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===O?p:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===O?p>12?p:p+12:"\u0938\u093e\u0902\u091c\u0947"===O?p+12:void 0},meridiem:function(p,O,R){return p<4?"\u0930\u093e\u0924\u0940":p<12?"\u0938\u0915\u093e\u0933\u0940\u0902":p<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":p<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(X(6676))},2696:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R,H){var G={s:["thoddea sekondamni","thodde sekond"],ss:[p+" sekondamni",p+" sekond"],m:["eka mintan","ek minut"],mm:[p+" mintamni",p+" mintam"],h:["eka voran","ek vor"],hh:[p+" voramni",p+" voram"],d:["eka disan","ek dis"],dd:[p+" disamni",p+" dis"],M:["eka mhoinean","ek mhoino"],MM:[p+" mhoineamni",p+" mhoine"],y:["eka vorsan","ek voros"],yy:[p+" vorsamni",p+" vorsam"]};return H?G[R][0]:G[R][1]}B.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(p,O){return"D"===O?p+"er":p},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(p,O){return 12===p&&(p=0),"rati"===O?p<4?p:p+12:"sokallim"===O?p:"donparam"===O?p>12?p:p+12:"sanje"===O?p+12:void 0},meridiem:function(p,O,R){return p<4?"rati":p<12?"sokallim":p<16?"donparam":p<20?"sanje":"rati"}})}(X(6676))},6928:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},z={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};B.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(O){return O.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(O,R){return 12===O&&(O=0),"\u0ab0\u0abe\u0aa4"===R?O<4?O:O+12:"\u0ab8\u0ab5\u0abe\u0ab0"===R?O:"\u0aac\u0aaa\u0acb\u0ab0"===R?O>=10?O:O+12:"\u0ab8\u0abe\u0a82\u0a9c"===R?O+12:void 0},meridiem:function(O,R,H){return O<4?"\u0ab0\u0abe\u0aa4":O<10?"\u0ab8\u0ab5\u0abe\u0ab0":O<17?"\u0aac\u0aaa\u0acb\u0ab0":O<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(X(6676))},4804:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(z){return 2===z?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":z+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(z){return 2===z?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":z+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(z){return 2===z?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":z+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(z){return 2===z?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":z%10==0&&10!==z?z+" \u05e9\u05e0\u05d4":z+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(z){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(z)},meridiem:function(z,p,O){return z<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":z<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":z<12?O?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":z<18?O?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(X(6676))},3015:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},z={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},p=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];B.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:p,longMonthsParse:p,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(H){return H.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(G){return z[G]})},postformat:function(H){return H.replace(/\d/g,function(G){return E[G]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(H,G){return 12===H&&(H=0),"\u0930\u093e\u0924"===G?H<4?H:H+12:"\u0938\u0941\u092c\u0939"===G?H:"\u0926\u094b\u092a\u0939\u0930"===G?H>=10?H:H+12:"\u0936\u093e\u092e"===G?H+12:void 0},meridiem:function(H,G,ie){return H<4?"\u0930\u093e\u0924":H<10?"\u0938\u0941\u092c\u0939":H<17?"\u0926\u094b\u092a\u0939\u0930":H<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(X(6676))},7134:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R){var H=p+" ";switch(R){case"ss":return H+(1===p?"sekunda":2===p||3===p||4===p?"sekunde":"sekundi");case"m":return O?"jedna minuta":"jedne minute";case"mm":return H+(1===p?"minuta":2===p||3===p||4===p?"minute":"minuta");case"h":return O?"jedan sat":"jednog sata";case"hh":return H+(1===p?"sat":2===p||3===p||4===p?"sata":"sati");case"dd":return H+(1===p?"dan":"dana");case"MM":return H+(1===p?"mjesec":2===p||3===p||4===p?"mjeseca":"mjeseci");case"yy":return H+(1===p?"godina":2===p||3===p||4===p?"godine":"godina")}}B.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:E,m:E,mm:E,h:E,hh:E,d:"dan",dd:E,M:"mjesec",MM:E,y:"godinu",yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(X(6676))},670:function(pt,Ze,X){!function(B){"use strict";var E="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function z(R,H,G,ie){var Ee=R;switch(G){case"s":return ie||H?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return Ee+(ie||H)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(ie||H?" perc":" perce");case"mm":return Ee+(ie||H?" perc":" perce");case"h":return"egy"+(ie||H?" \xf3ra":" \xf3r\xe1ja");case"hh":return Ee+(ie||H?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(ie||H?" nap":" napja");case"dd":return Ee+(ie||H?" nap":" napja");case"M":return"egy"+(ie||H?" h\xf3nap":" h\xf3napja");case"MM":return Ee+(ie||H?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(ie||H?" \xe9v":" \xe9ve");case"yy":return Ee+(ie||H?" \xe9v":" \xe9ve")}return""}function p(R){return(R?"":"[m\xfalt] ")+"["+E[this.day()]+"] LT[-kor]"}B.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(R){return"u"===R.charAt(1).toLowerCase()},meridiem:function(R,H,G){return R<12?!0===G?"de":"DE":!0===G?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return p.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return p.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:z,ss:z,m:z,mm:z,h:z,hh:z,d:z,dd:z,M:z,MM:z,y:z,yy:z},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},4523:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(z){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(z)},meridiem:function(z){return z<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":z<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":z<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(z,p){switch(p){case"DDD":case"w":case"W":case"DDDo":return 1===z?z+"-\u056b\u0576":z+"-\u0580\u0564";default:return z}},week:{dow:1,doy:7}})}(X(6676))},9233:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(z,p){return 12===z&&(z=0),"pagi"===p?z:"siang"===p?z>=11?z:z+12:"sore"===p||"malam"===p?z+12:void 0},meridiem:function(z,p,O){return z<11?"pagi":z<15?"siang":z<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(X(6676))},4693:function(pt,Ze,X){!function(B){"use strict";function E(O){return O%100==11||O%10!=1}function z(O,R,H,G){var ie=O+" ";switch(H){case"s":return R||G?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return E(O)?ie+(R||G?"sek\xfandur":"sek\xfandum"):ie+"sek\xfanda";case"m":return R?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return E(O)?ie+(R||G?"m\xedn\xfatur":"m\xedn\xfatum"):R?ie+"m\xedn\xfata":ie+"m\xedn\xfatu";case"hh":return E(O)?ie+(R||G?"klukkustundir":"klukkustundum"):ie+"klukkustund";case"d":return R?"dagur":G?"dag":"degi";case"dd":return E(O)?R?ie+"dagar":ie+(G?"daga":"d\xf6gum"):R?ie+"dagur":ie+(G?"dag":"degi");case"M":return R?"m\xe1nu\xf0ur":G?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return E(O)?R?ie+"m\xe1nu\xf0ir":ie+(G?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):R?ie+"m\xe1nu\xf0ur":ie+(G?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return R||G?"\xe1r":"\xe1ri";case"yy":return E(O)?ie+(R||G?"\xe1r":"\xe1rum"):ie+(R||G?"\xe1r":"\xe1ri")}}B.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:z,ss:z,m:z,mm:z,h:"klukkustund",hh:z,d:z,dd:z,M:z,MM:z,y:z,yy:z},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},8118:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(z){return(/^[0-9].+$/.test(z)?"tra":"in")+" "+z},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(X(6676))},3936:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(X(6676))},6871:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(z,p){return"\u5143"===p[1]?1:parseInt(p[1]||z,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(z){return"\u5348\u5f8c"===z},meridiem:function(z,p,O){return z<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(z){return z.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(z){return this.week()!==z.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(z,p){switch(p){case"y":return 1===z?"\u5143\u5e74":z+"\u5e74";case"d":case"D":case"DDD":return z+"\u65e5";default:return z}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(X(6676))},8710:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(z,p){return 12===z&&(z=0),"enjing"===p?z:"siyang"===p?z>=11?z:z+12:"sonten"===p||"ndalu"===p?z+12:void 0},meridiem:function(z,p,O){return z<11?"enjing":z<15?"siyang":z<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(X(6676))},7125:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(z){return z.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(p,O,R){return"\u10d8"===R?O+"\u10e8\u10d8":O+R+"\u10e8\u10d8"})},past:function(z){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(z)?z.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(z)?z.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):z},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(z){return 0===z?z:1===z?z+"-\u10da\u10d8":z<20||z<=100&&z%20==0||z%100==0?"\u10db\u10d4-"+z:z+"-\u10d4"},week:{dow:1,doy:7}})}(X(6676))},2461:function(pt,Ze,X){!function(B){"use strict";var E={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};B.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(p){return p+(E[p]||E[p%10]||E[p>=100?100:null])},week:{dow:1,doy:7}})}(X(6676))},7399:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},z={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};B.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(O){return"\u179b\u17d2\u1784\u17b6\u1785"===O},meridiem:function(O,R,H){return O<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(O){return O.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},week:{dow:1,doy:4}})}(X(6676))},8720:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},z={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};B.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(O){return O.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(O,R){return 12===O&&(O=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===R?O<4?O:O+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===R?O:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===R?O>=10?O:O+12:"\u0cb8\u0c82\u0c9c\u0cc6"===R?O+12:void 0},meridiem:function(O,R,H){return O<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":O<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":O<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":O<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(O){return O+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(X(6676))},5306:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(z,p){switch(p){case"d":case"D":case"DDD":return z+"\uc77c";case"M":return z+"\uc6d4";case"w":case"W":return z+"\uc8fc";default:return z}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(z){return"\uc624\ud6c4"===z},meridiem:function(z,p,O){return z<12?"\uc624\uc804":"\uc624\ud6c4"}})}(X(6676))},4852:function(pt,Ze,X){!function(B){"use strict";function E(O,R,H,G){var ie={s:["\xe7end san\xeeye","\xe7end san\xeeyeyan"],ss:[O+" san\xeeye",O+" san\xeeyeyan"],m:["deq\xeeqeyek","deq\xeeqeyek\xea"],mm:[O+" deq\xeeqe",O+" deq\xeeqeyan"],h:["saetek","saetek\xea"],hh:[O+" saet",O+" saetan"],d:["rojek","rojek\xea"],dd:[O+" roj",O+" rojan"],w:["hefteyek","hefteyek\xea"],ww:[O+" hefte",O+" hefteyan"],M:["mehek","mehek\xea"],MM:[O+" meh",O+" mehan"],y:["salek","salek\xea"],yy:[O+" sal",O+" salan"]};return R?ie[H][0]:ie[H][1]}B.defineLocale("ku-kmr",{months:"R\xeabendan_Sibat_Adar_N\xeesan_Gulan_Hez\xeeran_T\xeermeh_Tebax_\xcelon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"R\xeab_Sib_Ada_N\xees_Gul_Hez_T\xeer_Teb_\xcelo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yek\u015fem_Du\u015fem_S\xea\u015fem_\xc7ar\u015fem_P\xeanc\u015fem_\xcen_\u015eem\xee".split("_"),weekdaysShort:"Yek_Du_S\xea_\xc7ar_P\xean_\xcen_\u015eem".split("_"),weekdaysMin:"Ye_Du_S\xea_\xc7a_P\xea_\xcen_\u015ee".split("_"),meridiem:function(O,R,H){return O<12?H?"bn":"BN":H?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[\xcero di saet] LT [de]",nextDay:"[Sib\xea di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a bor\xee di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"ber\xee %s",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,w:E,ww:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}(?:y\xea|\xea|\.)/,ordinal:function(O,R){var H=R.toLowerCase();return H.includes("w")||H.includes("m")?O+".":O+function z(O){var R=(O=""+O).substring(O.length-1),H=O.length>1?O.substring(O.length-2):"";return 12==H||13==H||"2"!=R&&"3"!=R&&"50"!=H&&"70"!=R&&"80"!=R?"\xea":"y\xea"}(O)},week:{dow:1,doy:4}})}(X(6676))},2995:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},z={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},p=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];B.defineLocale("ku",{months:p,monthsShort:p,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(R){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(R)},meridiem:function(R,H,G){return R<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(R){return R.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(H){return z[H]}).replace(/\u060c/g,",")},postformat:function(R){return R.replace(/\d/g,function(H){return E[H]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(X(6676))},8779:function(pt,Ze,X){!function(B){"use strict";var E={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};B.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(p){return p+(E[p]||E[p%10]||E[p>=100?100:null])},week:{dow:1,doy:7}})}(X(6676))},2057:function(pt,Ze,X){!function(B){"use strict";function E(H,G,ie,Ee){var he={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return G?he[ie][0]:he[ie][1]}function O(H){if(H=parseInt(H,10),isNaN(H))return!1;if(H<0)return!0;if(H<10)return 4<=H&&H<=7;if(H<100){var G=H%10;return O(0===G?H/10:G)}if(H<1e4){for(;H>=10;)H/=10;return O(H)}return O(H/=1e3)}B.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function z(H){return O(H.substr(0,H.indexOf(" ")))?"a "+H:"an "+H},past:function p(H){return O(H.substr(0,H.indexOf(" ")))?"viru "+H:"virun "+H},s:"e puer Sekonnen",ss:"%d Sekonnen",m:E,mm:"%d Minutten",h:E,hh:"%d Stonnen",d:E,dd:"%d Deeg",M:E,MM:"%d M\xe9int",y:E,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},7192:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(z){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===z},meridiem:function(z,p,O){return z<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(z){return"\u0e97\u0eb5\u0ec8"+z}})}(X(6676))},5430:function(pt,Ze,X){!function(B){"use strict";var E={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function p(ie,Ee,he,Pe){return Ee?R(he)[0]:Pe?R(he)[1]:R(he)[2]}function O(ie){return ie%10==0||ie>10&&ie<20}function R(ie){return E[ie].split("_")}function H(ie,Ee,he,Pe){var Ie=ie+" ";return 1===ie?Ie+p(0,Ee,he[0],Pe):Ee?Ie+(O(ie)?R(he)[1]:R(he)[0]):Pe?Ie+R(he)[1]:Ie+(O(ie)?R(he)[1]:R(he)[2])}B.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function z(ie,Ee,he,Pe){return Ee?"kelios sekund\u0117s":Pe?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:H,m:p,mm:H,h:p,hh:H,d:p,dd:H,M:p,MM:H,y:p,yy:H},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(ie){return ie+"-oji"},week:{dow:1,doy:4}})}(X(6676))},3363:function(pt,Ze,X){!function(B){"use strict";var E={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function z(G,ie,Ee){return Ee?ie%10==1&&ie%100!=11?G[2]:G[3]:ie%10==1&&ie%100!=11?G[0]:G[1]}function p(G,ie,Ee){return G+" "+z(E[Ee],G,ie)}function O(G,ie,Ee){return z(E[Ee],G,ie)}B.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function R(G,ie){return ie?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:p,m:O,mm:p,h:O,hh:p,d:O,dd:p,M:O,MM:p,y:O,yy:p},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},2939:function(pt,Ze,X){!function(B){"use strict";var E={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(p,O){return 1===p?O[0]:p>=2&&p<=4?O[1]:O[2]},translate:function(p,O,R){var H=E.words[R];return 1===R.length?O?H[0]:H[1]:p+" "+E.correctGrammaticalCase(p,H)}};B.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:E.translate,m:E.translate,mm:E.translate,h:E.translate,hh:E.translate,d:"dan",dd:E.translate,M:"mjesec",MM:E.translate,y:"godinu",yy:E.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(X(6676))},8212:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(X(6676))},9718:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(z){var p=z%10,O=z%100;return 0===z?z+"-\u0435\u0432":0===O?z+"-\u0435\u043d":O>10&&O<20?z+"-\u0442\u0438":1===p?z+"-\u0432\u0438":2===p?z+"-\u0440\u0438":7===p||8===p?z+"-\u043c\u0438":z+"-\u0442\u0438"},week:{dow:1,doy:7}})}(X(6676))},561:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(z,p){return 12===z&&(z=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===p&&z>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===p||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===p?z+12:z},meridiem:function(z,p,O){return z<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":z<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":z<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":z<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(X(6676))},8929:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R,H){switch(R){case"s":return O?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return p+(O?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return p+(O?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return p+(O?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return p+(O?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return p+(O?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return p+(O?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return p}}B.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(p){return"\u04ae\u0425"===p},meridiem:function(p,O,R){return p<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(p,O){switch(O){case"d":case"D":case"DDD":return p+" \u04e9\u0434\u04e9\u0440";default:return p}}})}(X(6676))},4880:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},z={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function p(R,H,G,ie){var Ee="";if(H)switch(G){case"s":Ee="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":Ee="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":Ee="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":Ee="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":Ee="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":Ee="%d \u0924\u093e\u0938";break;case"d":Ee="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":Ee="%d \u0926\u093f\u0935\u0938";break;case"M":Ee="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":Ee="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":Ee="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":Ee="%d \u0935\u0930\u094d\u0937\u0947"}else switch(G){case"s":Ee="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":Ee="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":Ee="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":Ee="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":Ee="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":Ee="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":Ee="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":Ee="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":Ee="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":Ee="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":Ee="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":Ee="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return Ee.replace(/%d/i,R)}B.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:p,ss:p,m:p,mm:p,h:p,hh:p,d:p,dd:p,M:p,MM:p,y:p,yy:p},preparse:function(R){return R.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(H){return z[H]})},postformat:function(R){return R.replace(/\d/g,function(H){return E[H]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(R,H){return 12===R&&(R=0),"\u092a\u0939\u093e\u091f\u0947"===H||"\u0938\u0915\u093e\u0933\u0940"===H?R:"\u0926\u0941\u092a\u093e\u0930\u0940"===H||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===H||"\u0930\u093e\u0924\u094d\u0930\u0940"===H?R>=12?R:R+12:void 0},meridiem:function(R,H,G){return R>=0&&R<6?"\u092a\u0939\u093e\u091f\u0947":R<12?"\u0938\u0915\u093e\u0933\u0940":R<17?"\u0926\u0941\u092a\u093e\u0930\u0940":R<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(X(6676))},2074:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(z,p){return 12===z&&(z=0),"pagi"===p?z:"tengahari"===p?z>=11?z:z+12:"petang"===p||"malam"===p?z+12:void 0},meridiem:function(z,p,O){return z<11?"pagi":z<15?"tengahari":z<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(X(6676))},3193:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(z,p){return 12===z&&(z=0),"pagi"===p?z:"tengahari"===p?z>=11?z:z+12:"petang"===p||"malam"===p?z+12:void 0},meridiem:function(z,p,O){return z<11?"pagi":z<15?"tengahari":z<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(X(6676))},4082:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(X(6676))},2261:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},z={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};B.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(O){return O.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},week:{dow:1,doy:4}})}(X(6676))},5273:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"\xe9n time",hh:"%d timer",d:"\xe9n dag",dd:"%d dager",w:"\xe9n uke",ww:"%d uker",M:"\xe9n m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},9874:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},z={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};B.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(O){return O.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(O,R){return 12===O&&(O=0),"\u0930\u093e\u0924\u093f"===R?O<4?O:O+12:"\u092c\u093f\u0939\u093e\u0928"===R?O:"\u0926\u093f\u0909\u0901\u0938\u094b"===R?O>=10?O:O+12:"\u0938\u093e\u0901\u091d"===R?O+12:void 0},meridiem:function(O,R,H){return O<3?"\u0930\u093e\u0924\u093f":O<12?"\u092c\u093f\u0939\u093e\u0928":O<16?"\u0926\u093f\u0909\u0901\u0938\u094b":O<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(X(6676))},1484:function(pt,Ze,X){!function(B){"use strict";var E="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),z="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),p=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],O=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;B.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(H,G){return H?/-MMM-/.test(G)?z[H.month()]:E[H.month()]:E},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:p,longMonthsParse:p,shortMonthsParse:p,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(H){return H+(1===H||8===H||H>=20?"ste":"de")},week:{dow:1,doy:4}})}(X(6676))},1667:function(pt,Ze,X){!function(B){"use strict";var E="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),z="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),p=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],O=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;B.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(H,G){return H?/-MMM-/.test(G)?z[H.month()]:E[H.month()]:E},monthsRegex:O,monthsShortRegex:O,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:p,longMonthsParse:p,shortMonthsParse:p,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(H){return H+(1===H||8===H||H>=20?"ste":"de")},week:{dow:1,doy:4}})}(X(6676))},7262:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},9679:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(z,p){var O=1===z?"r":2===z?"n":3===z?"r":4===z?"t":"\xe8";return("w"===p||"W"===p)&&(O="a"),z+O},week:{dow:1,doy:4}})}(X(6676))},6830:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},z={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};B.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(O){return O.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(O,R){return 12===O&&(O=0),"\u0a30\u0a3e\u0a24"===R?O<4?O:O+12:"\u0a38\u0a35\u0a47\u0a30"===R?O:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===R?O>=10?O:O+12:"\u0a38\u0a3c\u0a3e\u0a2e"===R?O+12:void 0},meridiem:function(O,R,H){return O<4?"\u0a30\u0a3e\u0a24":O<10?"\u0a38\u0a35\u0a47\u0a30":O<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":O<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(X(6676))},3616:function(pt,Ze,X){!function(B){"use strict";var E="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),z="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),p=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function O(G){return G%10<5&&G%10>1&&~~(G/10)%10!=1}function R(G,ie,Ee){var he=G+" ";switch(Ee){case"ss":return he+(O(G)?"sekundy":"sekund");case"m":return ie?"minuta":"minut\u0119";case"mm":return he+(O(G)?"minuty":"minut");case"h":return ie?"godzina":"godzin\u0119";case"hh":return he+(O(G)?"godziny":"godzin");case"ww":return he+(O(G)?"tygodnie":"tygodni");case"MM":return he+(O(G)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return he+(O(G)?"lata":"lat")}}B.defineLocale("pl",{months:function(G,ie){return G?/D MMMM/.test(ie)?z[G.month()]:E[G.month()]:E},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:p,longMonthsParse:p,shortMonthsParse:p,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:R,m:R,mm:R,h:R,hh:R,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:R,M:"miesi\u0105c",MM:R,y:"rok",yy:R},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},2751:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(X(6676))},5138:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(X(6676))},7968:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R){var G=" ";return(p%100>=20||p>=100&&p%100==0)&&(G=" de "),p+G+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[R]}B.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:E,m:"un minut",mm:E,h:"o or\u0103",hh:E,d:"o zi",dd:E,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:E,M:"o lun\u0103",MM:E,y:"un an",yy:E},week:{dow:1,doy:7}})}(X(6676))},1828:function(pt,Ze,X){!function(B){"use strict";function z(R,H,G){return"m"===G?H?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":R+" "+function E(R,H){var G=R.split("_");return H%10==1&&H%100!=11?G[0]:H%10>=2&&H%10<=4&&(H%100<10||H%100>=20)?G[1]:G[2]}({ss:H?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:H?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[G],+R)}var p=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];B.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:p,longMonthsParse:p,shortMonthsParse:p,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(R){if(R.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(R){if(R.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:z,m:z,mm:z,h:"\u0447\u0430\u0441",hh:z,d:"\u0434\u0435\u043d\u044c",dd:z,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:z,M:"\u043c\u0435\u0441\u044f\u0446",MM:z,y:"\u0433\u043e\u0434",yy:z},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(R){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(R)},meridiem:function(R,H,G){return R<4?"\u043d\u043e\u0447\u0438":R<12?"\u0443\u0442\u0440\u0430":R<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(R,H){switch(H){case"M":case"d":case"DDD":return R+"-\u0439";case"D":return R+"-\u0433\u043e";case"w":case"W":return R+"-\u044f";default:return R}},week:{dow:1,doy:4}})}(X(6676))},2188:function(pt,Ze,X){!function(B){"use strict";var E=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],z=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];B.defineLocale("sd",{months:E,monthsShort:E,weekdays:z,weekdaysShort:z,weekdaysMin:z,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(O){return"\u0634\u0627\u0645"===O},meridiem:function(O,R,H){return O<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(O){return O.replace(/\u060c/g,",")},postformat:function(O){return O.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(X(6676))},6562:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},7172:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(z){return z+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(z){return"\u0db4.\u0dc0."===z||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===z},meridiem:function(z,p,O){return z>11?O?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":O?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(X(6676))},9966:function(pt,Ze,X){!function(B){"use strict";var E="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),z="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function p(H){return H>1&&H<5}function O(H,G,ie,Ee){var he=H+" ";switch(ie){case"s":return G||Ee?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return G||Ee?he+(p(H)?"sekundy":"sek\xfand"):he+"sekundami";case"m":return G?"min\xfata":Ee?"min\xfatu":"min\xfatou";case"mm":return G||Ee?he+(p(H)?"min\xfaty":"min\xfat"):he+"min\xfatami";case"h":return G?"hodina":Ee?"hodinu":"hodinou";case"hh":return G||Ee?he+(p(H)?"hodiny":"hod\xedn"):he+"hodinami";case"d":return G||Ee?"de\u0148":"d\u0148om";case"dd":return G||Ee?he+(p(H)?"dni":"dn\xed"):he+"d\u0148ami";case"M":return G||Ee?"mesiac":"mesiacom";case"MM":return G||Ee?he+(p(H)?"mesiace":"mesiacov"):he+"mesiacmi";case"y":return G||Ee?"rok":"rokom";case"yy":return G||Ee?he+(p(H)?"roky":"rokov"):he+"rokmi"}}B.defineLocale("sk",{months:E,monthsShort:z,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:O,ss:O,m:O,mm:O,h:O,hh:O,d:O,dd:O,M:O,MM:O,y:O,yy:O},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},7520:function(pt,Ze,X){!function(B){"use strict";function E(p,O,R,H){var G=p+" ";switch(R){case"s":return O||H?"nekaj sekund":"nekaj sekundami";case"ss":return G+(1===p?O?"sekundo":"sekundi":2===p?O||H?"sekundi":"sekundah":p<5?O||H?"sekunde":"sekundah":"sekund");case"m":return O?"ena minuta":"eno minuto";case"mm":return G+(1===p?O?"minuta":"minuto":2===p?O||H?"minuti":"minutama":p<5?O||H?"minute":"minutami":O||H?"minut":"minutami");case"h":return O?"ena ura":"eno uro";case"hh":return G+(1===p?O?"ura":"uro":2===p?O||H?"uri":"urama":p<5?O||H?"ure":"urami":O||H?"ur":"urami");case"d":return O||H?"en dan":"enim dnem";case"dd":return G+(1===p?O||H?"dan":"dnem":2===p?O||H?"dni":"dnevoma":O||H?"dni":"dnevi");case"M":return O||H?"en mesec":"enim mesecem";case"MM":return G+(1===p?O||H?"mesec":"mesecem":2===p?O||H?"meseca":"mesecema":p<5?O||H?"mesece":"meseci":O||H?"mesecev":"meseci");case"y":return O||H?"eno leto":"enim letom";case"yy":return G+(1===p?O||H?"leto":"letom":2===p?O||H?"leti":"letoma":p<5?O||H?"leta":"leti":O||H?"let":"leti")}}B.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(X(6676))},5291:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(z){return"M"===z.charAt(0)},meridiem:function(z,p,O){return z<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},7603:function(pt,Ze,X){!function(B){"use strict";var E={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(p,O){return p%10>=1&&p%10<=4&&(p%100<10||p%100>=20)?p%10==1?O[0]:O[1]:O[2]},translate:function(p,O,R,H){var ie,G=E.words[R];return 1===R.length?"y"===R&&O?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":H||O?G[0]:G[1]:(ie=E.correctGrammaticalCase(p,G),"yy"===R&&O&&"\u0433\u043e\u0434\u0438\u043d\u0443"===ie?p+" \u0433\u043e\u0434\u0438\u043d\u0430":p+" "+ie)}};B.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:E.translate,m:E.translate,mm:E.translate,h:E.translate,hh:E.translate,d:E.translate,dd:E.translate,M:E.translate,MM:E.translate,y:E.translate,yy:E.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(X(6676))},450:function(pt,Ze,X){!function(B){"use strict";var E={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(p,O){return p%10>=1&&p%10<=4&&(p%100<10||p%100>=20)?p%10==1?O[0]:O[1]:O[2]},translate:function(p,O,R,H){var ie,G=E.words[R];return 1===R.length?"y"===R&&O?"jedna godina":H||O?G[0]:G[1]:(ie=E.correctGrammaticalCase(p,G),"yy"===R&&O&&"godinu"===ie?p+" godina":p+" "+ie)}};B.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:E.translate,m:E.translate,mm:E.translate,h:E.translate,hh:E.translate,d:E.translate,dd:E.translate,M:E.translate,MM:E.translate,y:E.translate,yy:E.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(X(6676))},383:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(z,p,O){return z<11?"ekuseni":z<15?"emini":z<19?"entsambama":"ebusuku"},meridiemHour:function(z,p){return 12===z&&(z=0),"ekuseni"===p?z:"emini"===p?z>=11?z:z+12:"entsambama"===p||"ebusuku"===p?0===z?0:z+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(X(6676))},7221:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?":e":1===p||2===p?":a":":e")},week:{dow:1,doy:4}})}(X(6676))},1743:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(X(6676))},6351:function(pt,Ze,X){!function(B){"use strict";var E={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},z={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};B.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(O){return O+"\u0bb5\u0ba4\u0bc1"},preparse:function(O){return O.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(R){return z[R]})},postformat:function(O){return O.replace(/\d/g,function(R){return E[R]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(O,R,H){return O<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":O<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":O<10?" \u0b95\u0bbe\u0bb2\u0bc8":O<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":O<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":O<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(O,R){return 12===O&&(O=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===R?O<2?O:O+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===R||"\u0b95\u0bbe\u0bb2\u0bc8"===R||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===R&&O>=10?O:O+12},week:{dow:0,doy:6}})}(X(6676))},2645:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(z,p){return 12===z&&(z=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===p?z<4?z:z+12:"\u0c09\u0c26\u0c2f\u0c02"===p?z:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===p?z>=10?z:z+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===p?z+12:void 0},meridiem:function(z,p,O){return z<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":z<10?"\u0c09\u0c26\u0c2f\u0c02":z<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":z<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(X(6676))},6278:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")},week:{dow:1,doy:4}})}(X(6676))},6987:function(pt,Ze,X){!function(B){"use strict";var E={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};B.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(p,O){return 12===p&&(p=0),"\u0448\u0430\u0431"===O?p<4?p:p+12:"\u0441\u0443\u0431\u04b3"===O?p:"\u0440\u04ef\u0437"===O?p>=11?p:p+12:"\u0431\u0435\u0433\u043e\u04b3"===O?p+12:void 0},meridiem:function(p,O,R){return p<4?"\u0448\u0430\u0431":p<11?"\u0441\u0443\u0431\u04b3":p<16?"\u0440\u04ef\u0437":p<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(p){return p+(E[p]||E[p%10]||E[p>=100?100:null])},week:{dow:1,doy:7}})}(X(6676))},9325:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(z){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===z},meridiem:function(z,p,O){return z<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(X(6676))},3485:function(pt,Ze,X){!function(B){"use strict";var E={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};B.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(p,O){switch(O){case"d":case"D":case"Do":case"DD":return p;default:if(0===p)return p+"'unjy";var R=p%10;return p+(E[R]||E[p%100-R]||E[p>=100?100:null])}},week:{dow:1,doy:7}})}(X(6676))},8148:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(z){return z},week:{dow:1,doy:4}})}(X(6676))},9616:function(pt,Ze,X){!function(B){"use strict";var E="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function O(G,ie,Ee,he){var Pe=function R(G){var ie=Math.floor(G%1e3/100),Ee=Math.floor(G%100/10),he=G%10,Pe="";return ie>0&&(Pe+=E[ie]+"vatlh"),Ee>0&&(Pe+=(""!==Pe?" ":"")+E[Ee]+"maH"),he>0&&(Pe+=(""!==Pe?" ":"")+E[he]),""===Pe?"pagh":Pe}(G);switch(Ee){case"ss":return Pe+" lup";case"mm":return Pe+" tup";case"hh":return Pe+" rep";case"dd":return Pe+" jaj";case"MM":return Pe+" jar";case"yy":return Pe+" DIS"}}B.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function z(G){var ie=G;return-1!==G.indexOf("jaj")?ie.slice(0,-3)+"leS":-1!==G.indexOf("jar")?ie.slice(0,-3)+"waQ":-1!==G.indexOf("DIS")?ie.slice(0,-3)+"nem":ie+" pIq"},past:function p(G){var ie=G;return-1!==G.indexOf("jaj")?ie.slice(0,-3)+"Hu\u2019":-1!==G.indexOf("jar")?ie.slice(0,-3)+"wen":-1!==G.indexOf("DIS")?ie.slice(0,-3)+"ben":ie+" ret"},s:"puS lup",ss:O,m:"wa\u2019 tup",mm:O,h:"wa\u2019 rep",hh:O,d:"wa\u2019 jaj",dd:O,M:"wa\u2019 jar",MM:O,y:"wa\u2019 DIS",yy:O},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},4040:function(pt,Ze,X){!function(B){"use strict";var E={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};B.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(p,O,R){return p<12?R?"\xf6\xf6":"\xd6\xd6":R?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(p){return"\xf6s"===p||"\xd6S"===p},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(p,O){switch(O){case"d":case"D":case"Do":case"DD":return p;default:if(0===p)return p+"'\u0131nc\u0131";var R=p%10;return p+(E[R]||E[p%100-R]||E[p>=100?100:null])}},week:{dow:1,doy:7}})}(X(6676))},594:function(pt,Ze,X){!function(B){"use strict";function z(p,O,R,H){var G={s:["viensas secunds","'iensas secunds"],ss:[p+" secunds",p+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[p+" m\xeduts",p+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[p+" \xfeoras",p+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[p+" ziuas",p+" ziuas"],M:["'n mes","'iens mes"],MM:[p+" mesen",p+" mesen"],y:["'n ar","'iens ar"],yy:[p+" ars",p+" ars"]};return H||O?G[R][0]:G[R][1]}B.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(p){return"d'o"===p.toLowerCase()},meridiem:function(p,O,R){return p>11?R?"d'o":"D'O":R?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:z,ss:z,m:z,mm:z,h:z,hh:z,d:z,dd:z,M:z,MM:z,y:z,yy:z},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(X(6676))},3226:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(X(6676))},673:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(X(6676))},9580:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(z,p){return 12===z&&(z=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===p||"\u0633\u06d5\u06be\u06d5\u0631"===p||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===p?z:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===p||"\u0643\u06d5\u0686"===p?z+12:z>=11?z:z+12},meridiem:function(z,p,O){var R=100*z+p;return R<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":R<900?"\u0633\u06d5\u06be\u06d5\u0631":R<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":R<1230?"\u0686\u06c8\u0634":R<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(z,p){switch(p){case"d":case"D":case"DDD":return z+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return z+"-\u06be\u06d5\u067e\u062a\u06d5";default:return z}},preparse:function(z){return z.replace(/\u060c/g,",")},postformat:function(z){return z.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(X(6676))},7270:function(pt,Ze,X){!function(B){"use strict";function z(H,G,ie){return"m"===ie?G?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===ie?G?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":H+" "+function E(H,G){var ie=H.split("_");return G%10==1&&G%100!=11?ie[0]:G%10>=2&&G%10<=4&&(G%100<10||G%100>=20)?ie[1]:ie[2]}({ss:G?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:G?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:G?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[ie],+H)}function O(H){return function(){return H+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}B.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function p(H,G){var ie={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===H?ie.nominative.slice(1,7).concat(ie.nominative.slice(0,1)):H?ie[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(G)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(G)?"genitive":"nominative"][H.day()]:ie.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:O("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:O("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:O("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:O("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return O("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return O("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:z,m:z,mm:z,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:z,d:"\u0434\u0435\u043d\u044c",dd:z,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:z,y:"\u0440\u0456\u043a",yy:z},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(H){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(H)},meridiem:function(H,G,ie){return H<4?"\u043d\u043e\u0447\u0456":H<12?"\u0440\u0430\u043d\u043a\u0443":H<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(H,G){switch(G){case"M":case"d":case"DDD":case"w":case"W":return H+"-\u0439";case"D":return H+"-\u0433\u043e";default:return H}},week:{dow:1,doy:7}})}(X(6676))},1656:function(pt,Ze,X){!function(B){"use strict";var E=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],z=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];B.defineLocale("ur",{months:E,monthsShort:E,weekdays:z,weekdaysShort:z,weekdaysMin:z,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(O){return"\u0634\u0627\u0645"===O},meridiem:function(O,R,H){return O<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(O){return O.replace(/\u060c/g,",")},postformat:function(O){return O.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(X(6676))},8744:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(X(6676))},8364:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(X(6676))},5049:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(z){return/^ch$/i.test(z)},meridiem:function(z,p,O){return z<12?O?"sa":"SA":O?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(z){return z},week:{dow:1,doy:4}})}(X(6676))},5106:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(z){var p=z%10;return z+(1==~~(z%100/10)?"th":1===p?"st":2===p?"nd":3===p?"rd":"th")},week:{dow:1,doy:4}})}(X(6676))},6199:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(X(6676))},7280:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(z,p){return 12===z&&(z=0),"\u51cc\u6668"===p||"\u65e9\u4e0a"===p||"\u4e0a\u5348"===p?z:"\u4e0b\u5348"===p||"\u665a\u4e0a"===p?z+12:z>=11?z:z+12},meridiem:function(z,p,O){var R=100*z+p;return R<600?"\u51cc\u6668":R<900?"\u65e9\u4e0a":R<1130?"\u4e0a\u5348":R<1230?"\u4e2d\u5348":R<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(z){return z.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(z){return this.week()!==z.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(z,p){switch(p){case"d":case"D":case"DDD":return z+"\u65e5";case"M":return z+"\u6708";case"w":case"W":return z+"\u5468";default:return z}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(X(6676))},6860:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(z,p){return 12===z&&(z=0),"\u51cc\u6668"===p||"\u65e9\u4e0a"===p||"\u4e0a\u5348"===p?z:"\u4e2d\u5348"===p?z>=11?z:z+12:"\u4e0b\u5348"===p||"\u665a\u4e0a"===p?z+12:void 0},meridiem:function(z,p,O){var R=100*z+p;return R<600?"\u51cc\u6668":R<900?"\u65e9\u4e0a":R<1200?"\u4e0a\u5348":1200===R?"\u4e2d\u5348":R<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(z,p){switch(p){case"d":case"D":case"DDD":return z+"\u65e5";case"M":return z+"\u6708";case"w":case"W":return z+"\u9031";default:return z}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(X(6676))},2335:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(z,p){return 12===z&&(z=0),"\u51cc\u6668"===p||"\u65e9\u4e0a"===p||"\u4e0a\u5348"===p?z:"\u4e2d\u5348"===p?z>=11?z:z+12:"\u4e0b\u5348"===p||"\u665a\u4e0a"===p?z+12:void 0},meridiem:function(z,p,O){var R=100*z+p;return R<600?"\u51cc\u6668":R<900?"\u65e9\u4e0a":R<1130?"\u4e0a\u5348":R<1230?"\u4e2d\u5348":R<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(z,p){switch(p){case"d":case"D":case"DDD":return z+"\u65e5";case"M":return z+"\u6708";case"w":case"W":return z+"\u9031";default:return z}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(X(6676))},482:function(pt,Ze,X){!function(B){"use strict";B.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(z,p){return 12===z&&(z=0),"\u51cc\u6668"===p||"\u65e9\u4e0a"===p||"\u4e0a\u5348"===p?z:"\u4e2d\u5348"===p?z>=11?z:z+12:"\u4e0b\u5348"===p||"\u665a\u4e0a"===p?z+12:void 0},meridiem:function(z,p,O){var R=100*z+p;return R<600?"\u51cc\u6668":R<900?"\u65e9\u4e0a":R<1130?"\u4e0a\u5348":R<1230?"\u4e2d\u5348":R<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(z,p){switch(p){case"d":case"D":case"DDD":return z+"\u65e5";case"M":return z+"\u6708";case"w":case"W":return z+"\u9031";default:return z}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(X(6676))},6676:function(pt,Ze,X){(pt=X.nmd(pt)).exports=function(){"use strict";var B,ve;function E(){return B.apply(null,arguments)}function p(k){return k instanceof Array||"[object Array]"===Object.prototype.toString.call(k)}function O(k){return null!=k&&"[object Object]"===Object.prototype.toString.call(k)}function R(k,q){return Object.prototype.hasOwnProperty.call(k,q)}function H(k){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(k).length;var q;for(q in k)if(R(k,q))return!1;return!0}function G(k){return void 0===k}function ie(k){return"number"==typeof k||"[object Number]"===Object.prototype.toString.call(k)}function Ee(k){return k instanceof Date||"[object Date]"===Object.prototype.toString.call(k)}function he(k,q){var Fe,_e=[],wt=k.length;for(Fe=0;Fe<wt;++Fe)_e.push(q(k[Fe],Fe));return _e}function Pe(k,q){for(var _e in q)R(q,_e)&&(k[_e]=q[_e]);return R(q,"toString")&&(k.toString=q.toString),R(q,"valueOf")&&(k.valueOf=q.valueOf),k}function Ie(k,q,_e,Fe){return tr(k,q,_e,Fe,!0).utc()}function pe(k){return null==k._pf&&(k._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),k._pf}function de(k){var q=null,_e=!1,Fe=k._d&&!isNaN(k._d.getTime());return Fe&&(q=pe(k),_e=ve.call(q.parsedDateParts,function(wt){return null!=wt}),Fe=q.overflow<0&&!q.empty&&!q.invalidEra&&!q.invalidMonth&&!q.invalidWeekday&&!q.weekdayMismatch&&!q.nullInput&&!q.invalidFormat&&!q.userInvalidated&&(!q.meridiem||q.meridiem&&_e),k._strict&&(Fe=Fe&&0===q.charsLeftOver&&0===q.unusedTokens.length&&void 0===q.bigHour)),null!=Object.isFrozen&&Object.isFrozen(k)?Fe:(k._isValid=Fe,k._isValid)}function J(k){var q=Ie(NaN);return null!=k?Pe(pe(q),k):pe(q).userInvalidated=!0,q}ve=Array.prototype.some?Array.prototype.some:function(k){var Fe,q=Object(this),_e=q.length>>>0;for(Fe=0;Fe<_e;Fe++)if(Fe in q&&k.call(this,q[Fe],Fe,q))return!0;return!1};var te=E.momentProperties=[],be=!1;function ee(k,q){var _e,Fe,wt,pn=te.length;if(G(q._isAMomentObject)||(k._isAMomentObject=q._isAMomentObject),G(q._i)||(k._i=q._i),G(q._f)||(k._f=q._f),G(q._l)||(k._l=q._l),G(q._strict)||(k._strict=q._strict),G(q._tzm)||(k._tzm=q._tzm),G(q._isUTC)||(k._isUTC=q._isUTC),G(q._offset)||(k._offset=q._offset),G(q._pf)||(k._pf=pe(q)),G(q._locale)||(k._locale=q._locale),pn>0)for(_e=0;_e<pn;_e++)G(wt=q[Fe=te[_e]])||(k[Fe]=wt);return k}function ae(k){ee(this,k),this._d=new Date(null!=k._d?k._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===be&&(be=!0,E.updateOffset(this),be=!1)}function ne(k){return k instanceof ae||null!=k&&null!=k._isAMomentObject}function se(k){!1===E.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+k)}function st(k,q){var _e=!0;return Pe(function(){if(null!=E.deprecationHandler&&E.deprecationHandler(null,k),_e){var wt,pn,Vn,Fe=[],Ni=arguments.length;for(pn=0;pn<Ni;pn++){if(wt="","object"==typeof arguments[pn]){for(Vn in wt+="\n["+pn+"] ",arguments[0])R(arguments[0],Vn)&&(wt+=Vn+": "+arguments[0][Vn]+", ");wt=wt.slice(0,-2)}else wt=arguments[pn];Fe.push(wt)}se(k+"\nArguments: "+Array.prototype.slice.call(Fe).join("")+"\n"+(new Error).stack),_e=!1}return q.apply(this,arguments)},q)}var _t,$e={};function rt(k,q){null!=E.deprecationHandler&&E.deprecationHandler(k,q),$e[k]||(se(q),$e[k]=!0)}function Te(k){return typeof Function<"u"&&k instanceof Function||"[object Function]"===Object.prototype.toString.call(k)}function tt(k,q){var Fe,_e=Pe({},k);for(Fe in q)R(q,Fe)&&(O(k[Fe])&&O(q[Fe])?(_e[Fe]={},Pe(_e[Fe],k[Fe]),Pe(_e[Fe],q[Fe])):null!=q[Fe]?_e[Fe]=q[Fe]:delete _e[Fe]);for(Fe in k)R(k,Fe)&&!R(q,Fe)&&O(k[Fe])&&(_e[Fe]=Pe({},_e[Fe]));return _e}function He(k){null!=k&&this.set(k)}E.suppressDeprecationWarnings=!1,E.deprecationHandler=null,_t=Object.keys?Object.keys:function(k){var q,_e=[];for(q in k)R(k,q)&&_e.push(q);return _e};function De(k,q,_e){var Fe=""+Math.abs(k);return(k>=0?_e?"+":"":"-")+Math.pow(10,Math.max(0,q-Fe.length)).toString().substr(1)+Fe}var le=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ze=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ve={},Yt={};function Ct(k,q,_e,Fe){var wt=Fe;"string"==typeof Fe&&(wt=function(){return this[Fe]()}),k&&(Yt[k]=wt),q&&(Yt[q[0]]=function(){return De(wt.apply(this,arguments),q[1],q[2])}),_e&&(Yt[_e]=function(){return this.localeData().ordinal(wt.apply(this,arguments),k)})}function bn(k){return k.match(/\[[\s\S]/)?k.replace(/^\[|\]$/g,""):k.replace(/\\/g,"")}function kn(k,q){return k.isValid()?(q=un(q,k.localeData()),Ve[q]=Ve[q]||function fn(k){var _e,Fe,q=k.match(le);for(_e=0,Fe=q.length;_e<Fe;_e++)q[_e]=Yt[q[_e]]?Yt[q[_e]]:bn(q[_e]);return function(wt){var Vn,pn="";for(Vn=0;Vn<Fe;Vn++)pn+=Te(q[Vn])?q[Vn].call(wt,k):q[Vn];return pn}}(q),Ve[q](k)):k.localeData().invalidDate()}function un(k,q){var _e=5;function Fe(wt){return q.longDateFormat(wt)||wt}for(ze.lastIndex=0;_e>=0&&ze.test(k);)k=k.replace(ze,Fe),ze.lastIndex=0,_e-=1;return k}var qt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function rn(k){return"string"==typeof k?qt[k]||qt[k.toLowerCase()]:void 0}function Fn(k){var _e,Fe,q={};for(Fe in k)R(k,Fe)&&(_e=rn(Fe))&&(q[_e]=k[Fe]);return q}var zr={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var Se,ai=/\d/,Zn=/\d\d/,is=/\d{3}/,Qi=/\d{4}/,Nr=/[+-]?\d{6}/,Dn=/\d\d?/,nn=/\d\d\d\d?/,ke=/\d\d\d\d\d\d?/,Ge=/\d{1,3}/,xe=/\d{1,4}/,Q=/[+-]?\d{1,6}/,oe=/\d+/,We=/[+-]?\d+/,Mt=/Z|[+-]\d\d:?\d\d/gi,St=/Z|[+-]\d\d(?::?\d\d)?/gi,dn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,me=/^[1-9]\d?/,ce=/^([1-9]\d|\d)/;function Me(k,q,_e){Se[k]=Te(q)?q:function(Fe,wt){return Fe&&_e?_e:q}}function Je(k,q){return R(Se,k)?Se[k](q._strict,q._locale):new RegExp(function gt(k){return Ft(k.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(q,_e,Fe,wt,pn){return _e||Fe||wt||pn}))}(k))}function Ft(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Tt(k){return k<0?Math.ceil(k)||0:Math.floor(k)}function xt(k){var q=+k,_e=0;return 0!==q&&isFinite(q)&&(_e=Tt(q)),_e}Se={};var Bt={};function hn(k,q){var _e,wt,Fe=q;for("string"==typeof k&&(k=[k]),ie(q)&&(Fe=function(pn,Vn){Vn[q]=xt(pn)}),wt=k.length,_e=0;_e<wt;_e++)Bt[k[_e]]=Fe}function En(k,q){hn(k,function(_e,Fe,wt,pn){wt._w=wt._w||{},q(_e,wt._w,wt,pn)})}function In(k,q,_e){null!=q&&R(Bt,k)&&Bt[k](q,_e._a,_e,k)}function sr(k){return k%4==0&&k%100!=0||k%400==0}var fr=0,Gn=1,lr=2,hr=3,Wr=4,Ir=5,wi=6,li=7,Js=8;function mi(k){return sr(k)?366:365}Ct("Y",0,0,function(){var k=this.year();return k<=9999?De(k,4):"+"+k}),Ct(0,["YY",2],0,function(){return this.year()%100}),Ct(0,["YYYY",4],0,"year"),Ct(0,["YYYYY",5],0,"year"),Ct(0,["YYYYYY",6,!0],0,"year"),Me("Y",We),Me("YY",Dn,Zn),Me("YYYY",xe,Qi),Me("YYYYY",Q,Nr),Me("YYYYYY",Q,Nr),hn(["YYYYY","YYYYYY"],fr),hn("YYYY",function(k,q){q[fr]=2===k.length?E.parseTwoDigitYear(k):xt(k)}),hn("YY",function(k,q){q[fr]=E.parseTwoDigitYear(k)}),hn("Y",function(k,q){q[fr]=parseInt(k,10)}),E.parseTwoDigitYear=function(k){return xt(k)+(xt(k)>68?1900:2e3)};var Xi,Cs=Zi("FullYear",!0);function Zi(k,q){return function(_e){return null!=_e?(no(this,k,_e),E.updateOffset(this,q),this):za(this,k)}}function za(k,q){if(!k.isValid())return NaN;var _e=k._d,Fe=k._isUTC;switch(q){case"Milliseconds":return Fe?_e.getUTCMilliseconds():_e.getMilliseconds();case"Seconds":return Fe?_e.getUTCSeconds():_e.getSeconds();case"Minutes":return Fe?_e.getUTCMinutes():_e.getMinutes();case"Hours":return Fe?_e.getUTCHours():_e.getHours();case"Date":return Fe?_e.getUTCDate():_e.getDate();case"Day":return Fe?_e.getUTCDay():_e.getDay();case"Month":return Fe?_e.getUTCMonth():_e.getMonth();case"FullYear":return Fe?_e.getUTCFullYear():_e.getFullYear();default:return NaN}}function no(k,q,_e){var Fe,wt,pn,Vn,Ni;if(k.isValid()&&!isNaN(_e)){switch(Fe=k._d,wt=k._isUTC,q){case"Milliseconds":return void(wt?Fe.setUTCMilliseconds(_e):Fe.setMilliseconds(_e));case"Seconds":return void(wt?Fe.setUTCSeconds(_e):Fe.setSeconds(_e));case"Minutes":return void(wt?Fe.setUTCMinutes(_e):Fe.setMinutes(_e));case"Hours":return void(wt?Fe.setUTCHours(_e):Fe.setHours(_e));case"Date":return void(wt?Fe.setUTCDate(_e):Fe.setDate(_e));case"FullYear":break;default:return}pn=_e,Vn=k.month(),Ni=29!==(Ni=k.date())||1!==Vn||sr(pn)?Ni:28,wt?Fe.setUTCFullYear(pn,Vn,Ni):Fe.setFullYear(pn,Vn,Ni)}}function jn(k,q){if(isNaN(k)||isNaN(q))return NaN;var _e=function Wi(k,q){return(k%q+q)%q}(q,12);return k+=(q-_e)/12,1===_e?sr(k)?29:28:31-_e%7%2}Xi=Array.prototype.indexOf?Array.prototype.indexOf:function(k){var q;for(q=0;q<this.length;++q)if(this[q]===k)return q;return-1},Ct("M",["MM",2],"Mo",function(){return this.month()+1}),Ct("MMM",0,0,function(k){return this.localeData().monthsShort(this,k)}),Ct("MMMM",0,0,function(k){return this.localeData().months(this,k)}),Me("M",Dn,me),Me("MM",Dn,Zn),Me("MMM",function(k,q){return q.monthsShortRegex(k)}),Me("MMMM",function(k,q){return q.monthsRegex(k)}),hn(["M","MM"],function(k,q){q[Gn]=xt(k)-1}),hn(["MMM","MMMM"],function(k,q,_e,Fe){var wt=_e._locale.monthsParse(k,Fe,_e._strict);null!=wt?q[Gn]=wt:pe(_e).invalidMonth=k});var vr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Qr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xs=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,hs=dn,ps=dn;function mt(k,q,_e){var Fe,wt,pn,Vn=k.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Fe=0;Fe<12;++Fe)pn=Ie([2e3,Fe]),this._shortMonthsParse[Fe]=this.monthsShort(pn,"").toLocaleLowerCase(),this._longMonthsParse[Fe]=this.months(pn,"").toLocaleLowerCase();return _e?"MMM"===q?-1!==(wt=Xi.call(this._shortMonthsParse,Vn))?wt:null:-1!==(wt=Xi.call(this._longMonthsParse,Vn))?wt:null:"MMM"===q?-1!==(wt=Xi.call(this._shortMonthsParse,Vn))||-1!==(wt=Xi.call(this._longMonthsParse,Vn))?wt:null:-1!==(wt=Xi.call(this._longMonthsParse,Vn))||-1!==(wt=Xi.call(this._shortMonthsParse,Vn))?wt:null}function Ot(k,q){if(!k.isValid())return k;if("string"==typeof q)if(/^\d+$/.test(q))q=xt(q);else if(!ie(q=k.localeData().monthsParse(q)))return k;var _e=q,Fe=k.date();return Fe=Fe<29?Fe:Math.min(Fe,jn(k.year(),_e)),k._isUTC?k._d.setUTCMonth(_e,Fe):k._d.setMonth(_e,Fe),k}function $t(k){return null!=k?(Ot(this,k),E.updateOffset(this,!0),this):za(this,"Month")}function Cn(){function k(Es,ws){return ws.length-Es.length}var wt,pn,Vn,Ni,q=[],_e=[],Fe=[];for(wt=0;wt<12;wt++)pn=Ie([2e3,wt]),Vn=Ft(this.monthsShort(pn,"")),Ni=Ft(this.months(pn,"")),q.push(Vn),_e.push(Ni),Fe.push(Ni),Fe.push(Vn);q.sort(k),_e.sort(k),Fe.sort(k),this._monthsRegex=new RegExp("^("+Fe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+_e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+q.join("|")+")","i")}function wr(k,q,_e,Fe,wt,pn,Vn){var Ni;return k<100&&k>=0?(Ni=new Date(k+400,q,_e,Fe,wt,pn,Vn),isFinite(Ni.getFullYear())&&Ni.setFullYear(k)):Ni=new Date(k,q,_e,Fe,wt,pn,Vn),Ni}function Lr(k){var q,_e;return k<100&&k>=0?((_e=Array.prototype.slice.call(arguments))[0]=k+400,q=new Date(Date.UTC.apply(null,_e)),isFinite(q.getUTCFullYear())&&q.setUTCFullYear(k)):q=new Date(Date.UTC.apply(null,arguments)),q}function ar(k,q,_e){var Fe=7+q-_e;return-(7+Lr(k,0,Fe).getUTCDay()-q)%7+Fe-1}function qr(k,q,_e,Fe,wt){var Es,ws,Ni=1+7*(q-1)+(7+_e-Fe)%7+ar(k,Fe,wt);return Ni<=0?ws=mi(Es=k-1)+Ni:Ni>mi(k)?(Es=k+1,ws=Ni-mi(k)):(Es=k,ws=Ni),{year:Es,dayOfYear:ws}}function ei(k,q,_e){var pn,Vn,Fe=ar(k.year(),q,_e),wt=Math.floor((k.dayOfYear()-Fe-1)/7)+1;return wt<1?pn=wt+ss(Vn=k.year()-1,q,_e):wt>ss(k.year(),q,_e)?(pn=wt-ss(k.year(),q,_e),Vn=k.year()+1):(Vn=k.year(),pn=wt),{week:pn,year:Vn}}function ss(k,q,_e){var Fe=ar(k,q,_e),wt=ar(k+1,q,_e);return(mi(k)-Fe+wt)/7}Ct("w",["ww",2],"wo","week"),Ct("W",["WW",2],"Wo","isoWeek"),Me("w",Dn,me),Me("ww",Dn,Zn),Me("W",Dn,me),Me("WW",Dn,Zn),En(["w","ww","W","WW"],function(k,q,_e,Fe){q[Fe.substr(0,1)]=xt(k)});function zi(k,q){return k.slice(q,7).concat(k.slice(0,q))}Ct("d",0,"do","day"),Ct("dd",0,0,function(k){return this.localeData().weekdaysMin(this,k)}),Ct("ddd",0,0,function(k){return this.localeData().weekdaysShort(this,k)}),Ct("dddd",0,0,function(k){return this.localeData().weekdays(this,k)}),Ct("e",0,0,"weekday"),Ct("E",0,0,"isoWeekday"),Me("d",Dn),Me("e",Dn),Me("E",Dn),Me("dd",function(k,q){return q.weekdaysMinRegex(k)}),Me("ddd",function(k,q){return q.weekdaysShortRegex(k)}),Me("dddd",function(k,q){return q.weekdaysRegex(k)}),En(["dd","ddd","dddd"],function(k,q,_e,Fe){var wt=_e._locale.weekdaysParse(k,Fe,_e._strict);null!=wt?q.d=wt:pe(_e).invalidWeekday=k}),En(["d","e","E"],function(k,q,_e,Fe){q[Fe]=xt(k)});var jr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ns="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ml="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Sl=dn,Ac=dn,qa=dn;function ju(k,q,_e){var Fe,wt,pn,Vn=k.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Fe=0;Fe<7;++Fe)pn=Ie([2e3,1]).day(Fe),this._minWeekdaysParse[Fe]=this.weekdaysMin(pn,"").toLocaleLowerCase(),this._shortWeekdaysParse[Fe]=this.weekdaysShort(pn,"").toLocaleLowerCase(),this._weekdaysParse[Fe]=this.weekdays(pn,"").toLocaleLowerCase();return _e?"dddd"===q?-1!==(wt=Xi.call(this._weekdaysParse,Vn))?wt:null:"ddd"===q?-1!==(wt=Xi.call(this._shortWeekdaysParse,Vn))?wt:null:-1!==(wt=Xi.call(this._minWeekdaysParse,Vn))?wt:null:"dddd"===q?-1!==(wt=Xi.call(this._weekdaysParse,Vn))||-1!==(wt=Xi.call(this._shortWeekdaysParse,Vn))||-1!==(wt=Xi.call(this._minWeekdaysParse,Vn))?wt:null:"ddd"===q?-1!==(wt=Xi.call(this._shortWeekdaysParse,Vn))||-1!==(wt=Xi.call(this._weekdaysParse,Vn))||-1!==(wt=Xi.call(this._minWeekdaysParse,Vn))?wt:null:-1!==(wt=Xi.call(this._minWeekdaysParse,Vn))||-1!==(wt=Xi.call(this._weekdaysParse,Vn))||-1!==(wt=Xi.call(this._shortWeekdaysParse,Vn))?wt:null}function Be(){function k(au,ld){return ld.length-au.length}var pn,Vn,Ni,Es,ws,q=[],_e=[],Fe=[],wt=[];for(pn=0;pn<7;pn++)Vn=Ie([2e3,1]).day(pn),Ni=Ft(this.weekdaysMin(Vn,"")),Es=Ft(this.weekdaysShort(Vn,"")),ws=Ft(this.weekdays(Vn,"")),q.push(Ni),_e.push(Es),Fe.push(ws),wt.push(Ni),wt.push(Es),wt.push(ws);q.sort(k),_e.sort(k),Fe.sort(k),wt.sort(k),this._weekdaysRegex=new RegExp("^("+wt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Fe.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+_e.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+q.join("|")+")","i")}function at(){return this.hours()%12||12}function At(k,q){Ct(k,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),q)})}function an(k,q){return q._meridiemParse}Ct("H",["HH",2],0,"hour"),Ct("h",["hh",2],0,at),Ct("k",["kk",2],0,function zt(){return this.hours()||24}),Ct("hmm",0,0,function(){return""+at.apply(this)+De(this.minutes(),2)}),Ct("hmmss",0,0,function(){return""+at.apply(this)+De(this.minutes(),2)+De(this.seconds(),2)}),Ct("Hmm",0,0,function(){return""+this.hours()+De(this.minutes(),2)}),Ct("Hmmss",0,0,function(){return""+this.hours()+De(this.minutes(),2)+De(this.seconds(),2)}),At("a",!0),At("A",!1),Me("a",an),Me("A",an),Me("H",Dn,ce),Me("h",Dn,me),Me("k",Dn,me),Me("HH",Dn,Zn),Me("hh",Dn,Zn),Me("kk",Dn,Zn),Me("hmm",nn),Me("hmmss",ke),Me("Hmm",nn),Me("Hmmss",ke),hn(["H","HH"],hr),hn(["k","kk"],function(k,q,_e){var Fe=xt(k);q[hr]=24===Fe?0:Fe}),hn(["a","A"],function(k,q,_e){_e._isPm=_e._locale.isPM(k),_e._meridiem=k}),hn(["h","hh"],function(k,q,_e){q[hr]=xt(k),pe(_e).bigHour=!0}),hn("hmm",function(k,q,_e){var Fe=k.length-2;q[hr]=xt(k.substr(0,Fe)),q[Wr]=xt(k.substr(Fe)),pe(_e).bigHour=!0}),hn("hmmss",function(k,q,_e){var Fe=k.length-4,wt=k.length-2;q[hr]=xt(k.substr(0,Fe)),q[Wr]=xt(k.substr(Fe,2)),q[Ir]=xt(k.substr(wt)),pe(_e).bigHour=!0}),hn("Hmm",function(k,q,_e){var Fe=k.length-2;q[hr]=xt(k.substr(0,Fe)),q[Wr]=xt(k.substr(Fe))}),hn("Hmmss",function(k,q,_e){var Fe=k.length-4,wt=k.length-2;q[hr]=xt(k.substr(0,Fe)),q[Wr]=xt(k.substr(Fe,2)),q[Ir]=xt(k.substr(wt))});var _n=Zi("Hours",!0);var ri,nr={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:vr,monthsShort:Qr,week:{dow:0,doy:6},weekdays:jr,weekdaysMin:Ml,weekdaysShort:ns,meridiemParse:/[ap]\.?m?\.?/i},br={},Rr={};function ii(k,q){var _e,Fe=Math.min(k.length,q.length);for(_e=0;_e<Fe;_e+=1)if(k[_e]!==q[_e])return _e;return Fe}function Vs(k){return k&&k.toLowerCase().replace("_","-")}function xs(k){var q=null;if(void 0===br[k]&&pt&&pt.exports&&function To(k){return!(!k||!k.match("^[^/\\\\]*$"))}(k))try{q=ri._abbr,X(6700)("./"+k),Ur(q)}catch{br[k]=null}return br[k]}function Ur(k,q){var _e;return k&&((_e=G(q)?No(k):Gi(k,q))?ri=_e:typeof console<"u"&&console.warn&&console.warn("Locale "+k+" not found. Did you forget to load it?")),ri._abbr}function Gi(k,q){if(null!==q){var _e,Fe=nr;if(q.abbr=k,null!=br[k])rt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Fe=br[k]._config;else if(null!=q.parentLocale)if(null!=br[q.parentLocale])Fe=br[q.parentLocale]._config;else{if(null==(_e=xs(q.parentLocale)))return Rr[q.parentLocale]||(Rr[q.parentLocale]=[]),Rr[q.parentLocale].push({name:k,config:q}),null;Fe=_e._config}return br[k]=new He(tt(Fe,q)),Rr[k]&&Rr[k].forEach(function(wt){Gi(wt.name,wt.config)}),Ur(k),br[k]}return delete br[k],null}function No(k){var q;if(k&&k._locale&&k._locale._abbr&&(k=k._locale._abbr),!k)return ri;if(!p(k)){if(q=xs(k))return q;k=[k]}return function Eo(k){for(var _e,Fe,wt,pn,q=0;q<k.length;){for(_e=(pn=Vs(k[q]).split("-")).length,Fe=(Fe=Vs(k[q+1]))?Fe.split("-"):null;_e>0;){if(wt=xs(pn.slice(0,_e).join("-")))return wt;if(Fe&&Fe.length>=_e&&ii(pn,Fe)>=_e-1)break;_e--}q++}return ri}(k)}function $l(k){var q,_e=k._a;return _e&&-2===pe(k).overflow&&(q=_e[Gn]<0||_e[Gn]>11?Gn:_e[lr]<1||_e[lr]>jn(_e[fr],_e[Gn])?lr:_e[hr]<0||_e[hr]>24||24===_e[hr]&&(0!==_e[Wr]||0!==_e[Ir]||0!==_e[wi])?hr:_e[Wr]<0||_e[Wr]>59?Wr:_e[Ir]<0||_e[Ir]>59?Ir:_e[wi]<0||_e[wi]>999?wi:-1,pe(k)._overflowDayOfYear&&(q<fr||q>lr)&&(q=lr),pe(k)._overflowWeeks&&-1===q&&(q=li),pe(k)._overflowWeekday&&-1===q&&(q=Js),pe(k).overflow=q),k}var md=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_d=/Z|[+-]\d\d(?::?\d\d)?/,_s=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],mr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ys=/^\/?Date\((-?\d+)/i,mu=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ol={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Pc(k){var q,_e,pn,Vn,Ni,Es,Fe=k._i,wt=md.exec(Fe)||lo.exec(Fe),ws=_s.length,au=mr.length;if(wt){for(pe(k).iso=!0,q=0,_e=ws;q<_e;q++)if(_s[q][1].exec(wt[1])){Vn=_s[q][0],pn=!1!==_s[q][2];break}if(null==Vn)return void(k._isValid=!1);if(wt[3]){for(q=0,_e=au;q<_e;q++)if(mr[q][1].exec(wt[3])){Ni=(wt[2]||" ")+mr[q][0];break}if(null==Ni)return void(k._isValid=!1)}if(!pn&&null!=Ni)return void(k._isValid=!1);if(wt[4]){if(!_d.exec(wt[4]))return void(k._isValid=!1);Es="Z"}k._f=Vn+(Ni||"")+(Es||""),Nl(k)}else k._isValid=!1}function Co(k){var q=parseInt(k,10);return q<=49?2e3+q:q<=999?1900+q:q}function po(k){var _e,q=mu.exec(function da(k){return k.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(k._i));if(q){if(_e=function Ei(k,q,_e,Fe,wt,pn){var Vn=[Co(k),Qr.indexOf(q),parseInt(_e,10),parseInt(Fe,10),parseInt(wt,10)];return pn&&Vn.push(parseInt(pn,10)),Vn}(q[4],q[3],q[2],q[5],q[6],q[7]),!function zs(k,q,_e){return!k||ns.indexOf(k)===new Date(q[0],q[1],q[2]).getDay()||(pe(_e).weekdayMismatch=!0,_e._isValid=!1,!1)}(q[1],_e,k))return;k._a=_e,k._tzm=function Pa(k,q,_e){if(k)return Ol[k];if(q)return 0;var Fe=parseInt(_e,10),wt=Fe%100;return(Fe-wt)/100*60+wt}(q[8],q[9],q[10]),k._d=Lr.apply(null,k._a),k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),pe(k).rfc2822=!0}else k._isValid=!1}function Xa(k,q,_e){return k??q??_e}function Ha(k){var q,_e,wt,pn,Vn,Fe=[];if(!k._d){for(wt=function Gs(k){var q=new Date(E.now());return k._useUTC?[q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()]:[q.getFullYear(),q.getMonth(),q.getDate()]}(k),k._w&&null==k._a[lr]&&null==k._a[Gn]&&function Qu(k){var q,_e,Fe,wt,pn,Vn,Ni,Es,ws;null!=(q=k._w).GG||null!=q.W||null!=q.E?(pn=1,Vn=4,_e=Xa(q.GG,k._a[fr],ei(Ms(),1,4).year),Fe=Xa(q.W,1),((wt=Xa(q.E,1))<1||wt>7)&&(Es=!0)):(pn=k._locale._week.dow,Vn=k._locale._week.doy,ws=ei(Ms(),pn,Vn),_e=Xa(q.gg,k._a[fr],ws.year),Fe=Xa(q.w,ws.week),null!=q.d?((wt=q.d)<0||wt>6)&&(Es=!0):null!=q.e?(wt=q.e+pn,(q.e<0||q.e>6)&&(Es=!0)):wt=pn),Fe<1||Fe>ss(_e,pn,Vn)?pe(k)._overflowWeeks=!0:null!=Es?pe(k)._overflowWeekday=!0:(Ni=qr(_e,Fe,wt,pn,Vn),k._a[fr]=Ni.year,k._dayOfYear=Ni.dayOfYear)}(k),null!=k._dayOfYear&&(Vn=Xa(k._a[fr],wt[fr]),(k._dayOfYear>mi(Vn)||0===k._dayOfYear)&&(pe(k)._overflowDayOfYear=!0),_e=Lr(Vn,0,k._dayOfYear),k._a[Gn]=_e.getUTCMonth(),k._a[lr]=_e.getUTCDate()),q=0;q<3&&null==k._a[q];++q)k._a[q]=Fe[q]=wt[q];for(;q<7;q++)k._a[q]=Fe[q]=null==k._a[q]?2===q?1:0:k._a[q];24===k._a[hr]&&0===k._a[Wr]&&0===k._a[Ir]&&0===k._a[wi]&&(k._nextDay=!0,k._a[hr]=0),k._d=(k._useUTC?Lr:wr).apply(null,Fe),pn=k._useUTC?k._d.getUTCDay():k._d.getDay(),null!=k._tzm&&k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),k._nextDay&&(k._a[hr]=24),k._w&&typeof k._w.d<"u"&&k._w.d!==pn&&(pe(k).weekdayMismatch=!0)}}function Nl(k){if(k._f!==E.ISO_8601)if(k._f!==E.RFC_2822){k._a=[],pe(k).empty=!0;var _e,Fe,wt,pn,Vn,ws,au,q=""+k._i,Ni=q.length,Es=0;for(au=(wt=un(k._f,k._locale).match(le)||[]).length,_e=0;_e<au;_e++)(Fe=(q.match(Je(pn=wt[_e],k))||[])[0])&&((Vn=q.substr(0,q.indexOf(Fe))).length>0&&pe(k).unusedInput.push(Vn),q=q.slice(q.indexOf(Fe)+Fe.length),Es+=Fe.length),Yt[pn]?(Fe?pe(k).empty=!1:pe(k).unusedTokens.push(pn),In(pn,Fe,k)):k._strict&&!Fe&&pe(k).unusedTokens.push(pn);pe(k).charsLeftOver=Ni-Es,q.length>0&&pe(k).unusedInput.push(q),k._a[hr]<=12&&!0===pe(k).bigHour&&k._a[hr]>0&&(pe(k).bigHour=void 0),pe(k).parsedDateParts=k._a.slice(0),pe(k).meridiem=k._meridiem,k._a[hr]=function Rl(k,q,_e){var Fe;return null==_e?q:null!=k.meridiemHour?k.meridiemHour(q,_e):(null!=k.isPM&&((Fe=k.isPM(_e))&&q<12&&(q+=12),!Fe&&12===q&&(q=0)),q)}(k._locale,k._a[hr],k._meridiem),null!==(ws=pe(k).era)&&(k._a[fr]=k._locale.erasConvertYear(ws,k._a[fr])),Ha(k),$l(k)}else po(k);else Pc(k)}function Za(k){var q=k._i,_e=k._f;return k._locale=k._locale||No(k._l),null===q||void 0===_e&&""===q?J({nullInput:!0}):("string"==typeof q&&(k._i=q=k._locale.preparse(q)),ne(q)?new ae($l(q)):(Ee(q)?k._d=q:p(_e)?function Oa(k){var q,_e,Fe,wt,pn,Vn,Ni=!1,Es=k._f.length;if(0===Es)return pe(k).invalidFormat=!0,void(k._d=new Date(NaN));for(wt=0;wt<Es;wt++)pn=0,Vn=!1,q=ee({},k),null!=k._useUTC&&(q._useUTC=k._useUTC),q._f=k._f[wt],Nl(q),de(q)&&(Vn=!0),pn+=pe(q).charsLeftOver,pn+=10*pe(q).unusedTokens.length,pe(q).score=pn,Ni?pn<Fe&&(Fe=pn,_e=q):(null==Fe||pn<Fe||Vn)&&(Fe=pn,_e=q,Vn&&(Ni=!0));Pe(k,_e||q)}(k):_e?Nl(k):function Fo(k){var q=k._i;G(q)?k._d=new Date(E.now()):Ee(q)?k._d=new Date(q.valueOf()):"string"==typeof q?function ka(k){var q=Ys.exec(k._i);null===q?(Pc(k),!1===k._isValid&&(delete k._isValid,po(k),!1===k._isValid&&(delete k._isValid,k._strict?k._isValid=!1:E.createFromInputFallback(k)))):k._d=new Date(+q[1])}(k):p(q)?(k._a=he(q.slice(0),function(_e){return parseInt(_e,10)}),Ha(k)):O(q)?function vc(k){if(!k._d){var q=Fn(k._i);k._a=he([q.year,q.month,void 0===q.day?q.date:q.day,q.hour,q.minute,q.second,q.millisecond],function(Fe){return Fe&&parseInt(Fe,10)}),Ha(k)}}(k):ie(q)?k._d=new Date(q):E.createFromInputFallback(k)}(k),de(k)||(k._d=null),k))}function tr(k,q,_e,Fe,wt){var pn={};return(!0===q||!1===q)&&(Fe=q,q=void 0),(!0===_e||!1===_e)&&(Fe=_e,_e=void 0),(O(k)&&H(k)||p(k)&&0===k.length)&&(k=void 0),pn._isAMomentObject=!0,pn._useUTC=pn._isUTC=wt,pn._l=_e,pn._i=k,pn._f=q,pn._strict=Fe,function yd(k){var q=new ae($l(Za(k)));return q._nextDay&&(q.add(1,"d"),q._nextDay=void 0),q}(pn)}function Ms(k,q,_e,Fe){return tr(k,q,_e,Fe,!1)}E.createFromInputFallback=st("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(k){k._d=new Date(k._i+(k._useUTC?" UTC":""))}),E.ISO_8601=function(){},E.RFC_2822=function(){};var Pr=st("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Ms.apply(null,arguments);return this.isValid()&&k.isValid()?k<this?this:k:J()}),Ul=st("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Ms.apply(null,arguments);return this.isValid()&&k.isValid()?k>this?this:k:J()});function _u(k,q){var _e,Fe;if(1===q.length&&p(q[0])&&(q=q[0]),!q.length)return Ms();for(_e=q[0],Fe=1;Fe<q.length;++Fe)(!q[Fe].isValid()||q[Fe][k](_e))&&(_e=q[Fe]);return _e}var Hu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ro(k){var q=Fn(k),_e=q.year||0,Fe=q.quarter||0,wt=q.month||0,pn=q.week||q.isoWeek||0,Vn=q.day||0,Ni=q.hour||0,Es=q.minute||0,ws=q.second||0,au=q.millisecond||0;this._isValid=function mo(k){var q,Fe,_e=!1,wt=Hu.length;for(q in k)if(R(k,q)&&(-1===Xi.call(Hu,q)||null!=k[q]&&isNaN(k[q])))return!1;for(Fe=0;Fe<wt;++Fe)if(k[Hu[Fe]]){if(_e)return!1;parseFloat(k[Hu[Fe]])!==xt(k[Hu[Fe]])&&(_e=!0)}return!0}(q),this._milliseconds=+au+1e3*ws+6e4*Es+1e3*Ni*60*60,this._days=+Vn+7*pn,this._months=+wt+3*Fe+12*_e,this._data={},this._locale=No(),this._bubble()}function qi(k){return k instanceof ro}function va(k){return k<0?-1*Math.round(-1*k):Math.round(k)}function Cu(k,q){Ct(k,0,0,function(){var _e=this.utcOffset(),Fe="+";return _e<0&&(_e=-_e,Fe="-"),Fe+De(~~(_e/60),2)+q+De(~~_e%60,2)})}Cu("Z",":"),Cu("ZZ",""),Me("Z",St),Me("ZZ",St),hn(["Z","ZZ"],function(k,q,_e){_e._useUTC=!0,_e._tzm=El(St,k)});var vd=/([\+\-]|\d\d)/gi;function El(k,q){var wt,pn,_e=(q||"").match(k);return null===_e?null:0===(pn=60*(wt=((_e[_e.length-1]||[])+"").match(vd)||["-",0,0])[1]+xt(wt[2]))?0:"+"===wt[0]?pn:-pn}function Ka(k,q){var _e,Fe;return q._isUTC?(_e=q.clone(),Fe=(ne(k)||Ee(k)?k.valueOf():Ms(k).valueOf())-_e.valueOf(),_e._d.setTime(_e._d.valueOf()+Fe),E.updateOffset(_e,!1),_e):Ms(k).local()}function Bo(k){return-Math.round(k._d.getTimezoneOffset())}function ui(){return!!this.isValid()&&this._isUTC&&0===this._offset}E.updateOffset=function(){};var Ci=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Zs=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function eo(k,q){var wt,pn,Vn,_e=k,Fe=null;return qi(k)?_e={ms:k._milliseconds,d:k._days,M:k._months}:ie(k)||!isNaN(+k)?(_e={},q?_e[q]=+k:_e.milliseconds=+k):(Fe=Ci.exec(k))?(wt="-"===Fe[1]?-1:1,_e={y:0,d:xt(Fe[lr])*wt,h:xt(Fe[hr])*wt,m:xt(Fe[Wr])*wt,s:xt(Fe[Ir])*wt,ms:xt(va(1e3*Fe[wi]))*wt}):(Fe=Zs.exec(k))?_e={y:cs(Fe[2],wt="-"===Fe[1]?-1:1),M:cs(Fe[3],wt),w:cs(Fe[4],wt),d:cs(Fe[5],wt),h:cs(Fe[6],wt),m:cs(Fe[7],wt),s:cs(Fe[8],wt)}:null==_e?_e={}:"object"==typeof _e&&("from"in _e||"to"in _e)&&(Vn=function Ja(k,q){var _e;return k.isValid()&&q.isValid()?(q=Ka(q,k),k.isBefore(q)?_e=Po(k,q):((_e=Po(q,k)).milliseconds=-_e.milliseconds,_e.months=-_e.months),_e):{milliseconds:0,months:0}}(Ms(_e.from),Ms(_e.to)),(_e={}).ms=Vn.milliseconds,_e.M=Vn.months),pn=new ro(_e),qi(k)&&R(k,"_locale")&&(pn._locale=k._locale),qi(k)&&R(k,"_isValid")&&(pn._isValid=k._isValid),pn}function cs(k,q){var _e=k&&parseFloat(k.replace(",","."));return(isNaN(_e)?0:_e)*q}function Po(k,q){var _e={};return _e.months=q.month()-k.month()+12*(q.year()-k.year()),k.clone().add(_e.months,"M").isAfter(q)&&--_e.months,_e.milliseconds=+q-+k.clone().add(_e.months,"M"),_e}function Do(k,q){return function(_e,Fe){var pn;return null!==Fe&&!isNaN(+Fe)&&(rt(q,"moment()."+q+"(period, number) is deprecated. Please use moment()."+q+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),pn=_e,_e=Fe,Fe=pn),wa(this,eo(_e,Fe),k),this}}function wa(k,q,_e,Fe){var wt=q._milliseconds,pn=va(q._days),Vn=va(q._months);k.isValid()&&(Fe=Fe??!0,Vn&&Ot(k,za(k,"Month")+Vn*_e),pn&&no(k,"Date",za(k,"Date")+pn*_e),wt&&k._d.setTime(k._d.valueOf()+wt*_e),Fe&&E.updateOffset(k,pn||Vn))}eo.fn=ro.prototype,eo.invalid=function Ba(){return eo(NaN)};var bh=Do(1,"add"),yu=Do(-1,"subtract");function vu(k){return"string"==typeof k||k instanceof String}function Qn(k){return ne(k)||Ee(k)||vu(k)||ie(k)||function ha(k){var q=p(k),_e=!1;return q&&(_e=0===k.filter(function(Fe){return!ie(Fe)&&vu(k)}).length),q&&_e}(k)||function uo(k){var wt,q=O(k)&&!H(k),_e=!1,Fe=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],Vn=Fe.length;for(wt=0;wt<Vn;wt+=1)_e=_e||R(k,Fe[wt]);return q&&_e}(k)||null==k}function Vc(k,q){if(k.date()<q.date())return-Vc(q,k);var _e=12*(q.year()-k.year())+(q.month()-k.month()),Fe=k.clone().add(_e,"months");return-(_e+(q-Fe<0?(q-Fe)/(Fe-k.clone().add(_e-1,"months")):(q-Fe)/(k.clone().add(_e+1,"months")-Fe)))||0}function Ua(k){var q;return void 0===k?this._locale._abbr:(null!=(q=No(k))&&(this._locale=q),this)}E.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",E.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ca=st("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(k){return void 0===k?this.localeData():this.locale(k)});function Na(){return this._locale}var ys=6e4,Va=60*ys,js=3506328*Va;function Di(k,q){return(k%q+q)%q}function ba(k,q,_e){return k<100&&k>=0?new Date(k+400,q,_e)-js:new Date(k,q,_e).valueOf()}function Jd(k,q,_e){return k<100&&k>=0?Date.UTC(k+400,q,_e)-js:Date.UTC(k,q,_e)}function _(k,q){return q.erasAbbrRegex(k)}function re(){var wt,pn,Vn,Ni,Es,k=[],q=[],_e=[],Fe=[],ws=this.eras();for(wt=0,pn=ws.length;wt<pn;++wt)Vn=Ft(ws[wt].name),Ni=Ft(ws[wt].abbr),Es=Ft(ws[wt].narrow),q.push(Vn),k.push(Ni),_e.push(Es),Fe.push(Vn),Fe.push(Ni),Fe.push(Es);this._erasRegex=new RegExp("^("+Fe.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+q.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+k.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+_e.join("|")+")","i")}function x(k,q){Ct(0,[k,k.length],0,q)}function U(k,q,_e,Fe,wt){var pn;return null==k?ei(this,Fe,wt).year:(q>(pn=ss(k,Fe,wt))&&(q=pn),K.call(this,k,q,_e,Fe,wt))}function K(k,q,_e,Fe,wt){var pn=qr(k,q,_e,Fe,wt),Vn=Lr(pn.year,0,pn.dayOfYear);return this.year(Vn.getUTCFullYear()),this.month(Vn.getUTCMonth()),this.date(Vn.getUTCDate()),this}Ct("N",0,0,"eraAbbr"),Ct("NN",0,0,"eraAbbr"),Ct("NNN",0,0,"eraAbbr"),Ct("NNNN",0,0,"eraName"),Ct("NNNNN",0,0,"eraNarrow"),Ct("y",["y",1],"yo","eraYear"),Ct("y",["yy",2],0,"eraYear"),Ct("y",["yyy",3],0,"eraYear"),Ct("y",["yyyy",4],0,"eraYear"),Me("N",_),Me("NN",_),Me("NNN",_),Me("NNNN",function w(k,q){return q.erasNameRegex(k)}),Me("NNNNN",function I(k,q){return q.erasNarrowRegex(k)}),hn(["N","NN","NNN","NNNN","NNNNN"],function(k,q,_e,Fe){var wt=_e._locale.erasParse(k,Fe,_e._strict);wt?pe(_e).era=wt:pe(_e).invalidEra=k}),Me("y",oe),Me("yy",oe),Me("yyy",oe),Me("yyyy",oe),Me("yo",function W(k,q){return q._eraYearOrdinalRegex||oe}),hn(["y","yy","yyy","yyyy"],fr),hn(["yo"],function(k,q,_e,Fe){var wt;_e._locale._eraYearOrdinalRegex&&(wt=k.match(_e._locale._eraYearOrdinalRegex)),q[fr]=_e._locale.eraYearOrdinalParse?_e._locale.eraYearOrdinalParse(k,wt):parseInt(k,10)}),Ct(0,["gg",2],0,function(){return this.weekYear()%100}),Ct(0,["GG",2],0,function(){return this.isoWeekYear()%100}),x("gggg","weekYear"),x("ggggg","weekYear"),x("GGGG","isoWeekYear"),x("GGGGG","isoWeekYear"),Me("G",We),Me("g",We),Me("GG",Dn,Zn),Me("gg",Dn,Zn),Me("GGGG",xe,Qi),Me("gggg",xe,Qi),Me("GGGGG",Q,Nr),Me("ggggg",Q,Nr),En(["gggg","ggggg","GGGG","GGGGG"],function(k,q,_e,Fe){q[Fe.substr(0,2)]=xt(k)}),En(["gg","GG"],function(k,q,_e,Fe){q[Fe]=E.parseTwoDigitYear(k)}),Ct("Q",0,"Qo","quarter"),Me("Q",ai),hn("Q",function(k,q){q[Gn]=3*(xt(k)-1)}),Ct("D",["DD",2],"Do","date"),Me("D",Dn,me),Me("DD",Dn,Zn),Me("Do",function(k,q){return k?q._dayOfMonthOrdinalParse||q._ordinalParse:q._dayOfMonthOrdinalParseLenient}),hn(["D","DD"],lr),hn("Do",function(k,q){q[lr]=xt(k.match(Dn)[0])});var Ce=Zi("Date",!0);Ct("DDD",["DDDD",3],"DDDo","dayOfYear"),Me("DDD",Ge),Me("DDDD",is),hn(["DDD","DDDD"],function(k,q,_e){_e._dayOfYear=xt(k)}),Ct("m",["mm",2],0,"minute"),Me("m",Dn,ce),Me("mm",Dn,Zn),hn(["m","mm"],Wr);var ot=Zi("Minutes",!1);Ct("s",["ss",2],0,"second"),Me("s",Dn,ce),Me("ss",Dn,Zn),hn(["s","ss"],Ir);var Lt,jt,Pt=Zi("Seconds",!1);for(Ct("S",0,0,function(){return~~(this.millisecond()/100)}),Ct(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ct(0,["SSS",3],0,"millisecond"),Ct(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Ct(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Ct(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Ct(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Ct(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Ct(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Me("S",Ge,ai),Me("SS",Ge,Zn),Me("SSS",Ge,is),Lt="SSSS";Lt.length<=9;Lt+="S")Me(Lt,oe);function Nt(k,q){q[wi]=xt(1e3*("0."+k))}for(Lt="S";Lt.length<=9;Lt+="S")hn(Lt,Nt);jt=Zi("Milliseconds",!1),Ct("z",0,0,"zoneAbbr"),Ct("zz",0,0,"zoneName");var bt=ae.prototype;function qn(k){return k}bt.add=bh,bt.calendar=function fa(k,q){1===arguments.length&&(arguments[0]?Qn(arguments[0])?(k=arguments[0],q=void 0):function hi(k){var wt,q=O(k)&&!H(k),_e=!1,Fe=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(wt=0;wt<Fe.length;wt+=1)_e=_e||R(k,Fe[wt]);return q&&_e}(arguments[0])&&(q=arguments[0],k=void 0):(k=void 0,q=void 0));var _e=k||Ms(),Fe=Ka(_e,this).startOf("day"),wt=E.calendarFormat(this,Fe)||"sameElse",pn=q&&(Te(q[wt])?q[wt].call(this,_e):q[wt]);return this.format(pn||this.localeData().calendar(wt,this,Ms(_e)))},bt.clone=function yl(){return new ae(this)},bt.diff=function to(k,q,_e){var Fe,wt,pn;if(!this.isValid())return NaN;if(!(Fe=Ka(k,this)).isValid())return NaN;switch(wt=6e4*(Fe.utcOffset()-this.utcOffset()),q=rn(q)){case"year":pn=Vc(this,Fe)/12;break;case"month":pn=Vc(this,Fe);break;case"quarter":pn=Vc(this,Fe)/3;break;case"second":pn=(this-Fe)/1e3;break;case"minute":pn=(this-Fe)/6e4;break;case"hour":pn=(this-Fe)/36e5;break;case"day":pn=(this-Fe-wt)/864e5;break;case"week":pn=(this-Fe-wt)/6048e5;break;default:pn=this-Fe}return _e?pn:Tt(pn)},bt.endOf=function bo(k){var q,_e;if(void 0===(k=rn(k))||"millisecond"===k||!this.isValid())return this;switch(_e=this._isUTC?Jd:ba,k){case"year":q=_e(this.year()+1,0,1)-1;break;case"quarter":q=_e(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":q=_e(this.year(),this.month()+1,1)-1;break;case"week":q=_e(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":q=_e(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":q=_e(this.year(),this.month(),this.date()+1)-1;break;case"hour":q=this._d.valueOf(),q+=Va-Di(q+(this._isUTC?0:this.utcOffset()*ys),Va)-1;break;case"minute":q=this._d.valueOf(),q+=ys-Di(q,ys)-1;break;case"second":q=this._d.valueOf(),q+=1e3-Di(q,1e3)-1}return this._d.setTime(q),E.updateOffset(this,!0),this},bt.format=function ec(k){k||(k=this.isUtc()?E.defaultFormatUtc:E.defaultFormat);var q=kn(this,k);return this.localeData().postformat(q)},bt.from=function wo(k,q){return this.isValid()&&(ne(k)&&k.isValid()||Ms(k).isValid())?eo({to:this,from:k}).locale(this.locale()).humanize(!q):this.localeData().invalidDate()},bt.fromNow=function si(k){return this.from(Ms(),k)},bt.to=function _i(k,q){return this.isValid()&&(ne(k)&&k.isValid()||Ms(k).isValid())?eo({from:this,to:k}).locale(this.locale()).humanize(!q):this.localeData().invalidDate()},bt.toNow=function ms(k){return this.to(Ms(),k)},bt.get=function Oo(k){return Te(this[k=rn(k)])?this[k]():this},bt.invalidAt=function ci(){return pe(this).overflow},bt.isAfter=function Ti(k,q){var _e=ne(k)?k:Ms(k);return!(!this.isValid()||!_e.isValid())&&("millisecond"===(q=rn(q)||"millisecond")?this.valueOf()>_e.valueOf():_e.valueOf()<this.clone().startOf(q).valueOf())},bt.isBefore=function Kn(k,q){var _e=ne(k)?k:Ms(k);return!(!this.isValid()||!_e.isValid())&&("millisecond"===(q=rn(q)||"millisecond")?this.valueOf()<_e.valueOf():this.clone().endOf(q).valueOf()<_e.valueOf())},bt.isBetween=function es(k,q,_e,Fe){var wt=ne(k)?k:Ms(k),pn=ne(q)?q:Ms(q);return!!(this.isValid()&&wt.isValid()&&pn.isValid())&&("("===(Fe=Fe||"()")[0]?this.isAfter(wt,_e):!this.isBefore(wt,_e))&&(")"===Fe[1]?this.isBefore(pn,_e):!this.isAfter(pn,_e))},bt.isSame=function pa(k,q){var Fe,_e=ne(k)?k:Ms(k);return!(!this.isValid()||!_e.isValid())&&("millisecond"===(q=rn(q)||"millisecond")?this.valueOf()===_e.valueOf():(Fe=_e.valueOf(),this.clone().startOf(q).valueOf()<=Fe&&Fe<=this.clone().endOf(q).valueOf()))},bt.isSameOrAfter=function Io(k,q){return this.isSame(k,q)||this.isAfter(k,q)},bt.isSameOrBefore=function al(k,q){return this.isSame(k,q)||this.isBefore(k,q)},bt.isValid=function pl(){return de(this)},bt.lang=Ca,bt.locale=Ua,bt.localeData=Na,bt.max=Ul,bt.min=Pr,bt.parsingFlags=function Fl(){return Pe({},pe(this))},bt.set=function Ns(k,q){if("object"==typeof k){var Fe,_e=function Li(k){var _e,q=[];for(_e in k)R(k,_e)&&q.push({unit:_e,priority:zr[_e]});return q.sort(function(Fe,wt){return Fe.priority-wt.priority}),q}(k=Fn(k)),wt=_e.length;for(Fe=0;Fe<wt;Fe++)this[_e[Fe].unit](k[_e[Fe].unit])}else if(Te(this[k=rn(k)]))return this[k](q);return this},bt.startOf=function sd(k){var q,_e;if(void 0===(k=rn(k))||"millisecond"===k||!this.isValid())return this;switch(_e=this._isUTC?Jd:ba,k){case"year":q=_e(this.year(),0,1);break;case"quarter":q=_e(this.year(),this.month()-this.month()%3,1);break;case"month":q=_e(this.year(),this.month(),1);break;case"week":q=_e(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":q=_e(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":q=_e(this.year(),this.month(),this.date());break;case"hour":q=this._d.valueOf(),q-=Di(q+(this._isUTC?0:this.utcOffset()*ys),Va);break;case"minute":q=this._d.valueOf(),q-=Di(q,ys);break;case"second":q=this._d.valueOf(),q-=Di(q,1e3)}return this._d.setTime(q),E.updateOffset(this,!0),this},bt.subtract=yu,bt.toArray=function yi(){var k=this;return[k.year(),k.month(),k.date(),k.hour(),k.minute(),k.second(),k.millisecond()]},bt.toObject=function ki(){var k=this;return{years:k.year(),months:k.month(),date:k.date(),hours:k.hours(),minutes:k.minutes(),seconds:k.seconds(),milliseconds:k.milliseconds()}},bt.toDate=function vl(){return new Date(this.valueOf())},bt.toISOString=function Qa(k){if(!this.isValid())return null;var q=!0!==k,_e=q?this.clone().utc():this;return _e.year()<0||_e.year()>9999?kn(_e,q?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Te(Date.prototype.toISOString)?q?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",kn(_e,"Z")):kn(_e,q?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},bt.inspect=function ru(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var _e,Fe,k="moment",q="";return this.isLocal()||(k=0===this.utcOffset()?"moment.utc":"moment.parseZone",q="Z"),_e="["+k+'("]',Fe=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(_e+Fe+"-MM-DD[T]HH:mm:ss.SSS"+q+'[")]')},typeof Symbol<"u"&&null!=Symbol.for&&(bt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),bt.toJSON=function fl(){return this.isValid()?this.toISOString():null},bt.toString=function id(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},bt.unix=function xa(){return Math.floor(this.valueOf()/1e3)},bt.valueOf=function wc(){return this._d.valueOf()-6e4*(this._offset||0)},bt.creationData=function vs(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},bt.eraName=function xo(){var k,q,_e,Fe=this.localeData().eras();for(k=0,q=Fe.length;k<q;++k)if(_e=this.clone().startOf("day").valueOf(),Fe[k].since<=_e&&_e<=Fe[k].until||Fe[k].until<=_e&&_e<=Fe[k].since)return Fe[k].name;return""},bt.eraNarrow=function ks(){var k,q,_e,Fe=this.localeData().eras();for(k=0,q=Fe.length;k<q;++k)if(_e=this.clone().startOf("day").valueOf(),Fe[k].since<=_e&&_e<=Fe[k].until||Fe[k].until<=_e&&_e<=Fe[k].since)return Fe[k].narrow;return""},bt.eraAbbr=function io(){var k,q,_e,Fe=this.localeData().eras();for(k=0,q=Fe.length;k<q;++k)if(_e=this.clone().startOf("day").valueOf(),Fe[k].since<=_e&&_e<=Fe[k].until||Fe[k].until<=_e&&_e<=Fe[k].since)return Fe[k].abbr;return""},bt.eraYear=function nc(){var k,q,_e,Fe,wt=this.localeData().eras();for(k=0,q=wt.length;k<q;++k)if(_e=wt[k].since<=wt[k].until?1:-1,Fe=this.clone().startOf("day").valueOf(),wt[k].since<=Fe&&Fe<=wt[k].until||wt[k].until<=Fe&&Fe<=wt[k].since)return(this.year()-E(wt[k].since).year())*_e+wt[k].offset;return this.year()},bt.year=Cs,bt.isLeapYear=function Yi(){return sr(this.year())},bt.weekYear=function o(k){return U.call(this,k,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},bt.isoWeekYear=function g(k){return U.call(this,k,this.isoWeek(),this.isoWeekday(),1,4)},bt.quarter=bt.quarters=function ge(k){return null==k?Math.ceil((this.month()+1)/3):this.month(3*(k-1)+this.month()%3)},bt.month=$t,bt.daysInMonth=function Xt(){return jn(this.year(),this.month())},bt.week=bt.weeks=function An(k){var q=this.localeData().week(this);return null==k?q:this.add(7*(k-q),"d")},bt.isoWeek=bt.isoWeeks=function Mr(k){var q=ei(this,1,4).week;return null==k?q:this.add(7*(k-q),"d")},bt.weeksInYear=function A(){var k=this.localeData()._week;return ss(this.year(),k.dow,k.doy)},bt.weeksInWeekYear=function Y(){var k=this.localeData()._week;return ss(this.weekYear(),k.dow,k.doy)},bt.isoWeeksInYear=function M(){return ss(this.year(),1,4)},bt.isoWeeksInISOWeekYear=function S(){return ss(this.isoWeekYear(),1,4)},bt.date=Ce,bt.day=bt.days=function Ao(k){if(!this.isValid())return null!=k?this:NaN;var q=za(this,"Day");return null!=k?(k=function Hr(k,q){return"string"!=typeof k?k:isNaN(k)?"number"==typeof(k=q.weekdaysParse(k))?k:null:parseInt(k,10)}(k,this.localeData()),this.add(k-q,"d")):q},bt.weekday=function ja(k){if(!this.isValid())return null!=k?this:NaN;var q=(this.day()+7-this.localeData()._week.dow)%7;return null==k?q:this.add(k-q,"d")},bt.isoWeekday=function gu(k){if(!this.isValid())return null!=k?this:NaN;if(null!=k){var q=function gn(k,q){return"string"==typeof k?q.weekdaysParse(k)%7||7:isNaN(k)?null:k}(k,this.localeData());return this.day(this.day()%7?q:q-7)}return this.day()||7},bt.dayOfYear=function Ne(k){var q=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==k?q:this.add(k-q,"d")},bt.hour=bt.hours=_n,bt.minute=bt.minutes=ot,bt.second=bt.seconds=Pt,bt.millisecond=bt.milliseconds=jt,bt.utcOffset=function $a(k,q,_e){var wt,Fe=this._offset||0;if(!this.isValid())return null!=k?this:NaN;if(null!=k){if("string"==typeof k){if(null===(k=El(St,k)))return this}else Math.abs(k)<16&&!_e&&(k*=60);return!this._isUTC&&q&&(wt=Bo(this)),this._offset=k,this._isUTC=!0,null!=wt&&this.add(wt,"m"),Fe!==k&&(!q||this._changeInProgress?wa(this,eo(k-Fe,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,E.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?Fe:Bo(this)},bt.utc=function hl(k){return this.utcOffset(0,k)},bt.local=function Du(k){return this._isUTC&&(this.utcOffset(0,k),this._isUTC=!1,k&&this.subtract(Bo(this),"m")),this},bt.parseZone=function Iu(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var k=El(Mt,this._i);null!=k?this.utcOffset(k):this.utcOffset(0,!0)}return this},bt.hasAlignedHourOffset=function Lu(k){return!!this.isValid()&&(k=k?Ms(k).utcOffset():0,(this.utcOffset()-k)%60==0)},bt.isDST=function nu(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},bt.isLocal=function er(){return!!this.isValid()&&!this._isUTC},bt.isUtcOffset=function zn(){return!!this.isValid()&&this._isUTC},bt.isUtc=ui,bt.isUTC=ui,bt.zoneAbbr=function vn(){return this._isUTC?"UTC":""},bt.zoneName=function Pn(){return this._isUTC?"Coordinated Universal Time":""},bt.dates=st("dates accessor is deprecated. Use date instead.",Ce),bt.months=st("months accessor is deprecated. Use month instead",$t),bt.years=st("years accessor is deprecated. Use year instead",Cs),bt.zone=st("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function kc(k,q){return null!=k?("string"!=typeof k&&(k=-k),this.utcOffset(k,q),this):-this.utcOffset()}),bt.isDSTShifted=st("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function yn(){if(!G(this._isDSTShifted))return this._isDSTShifted;var q,k={};return ee(k,this),(k=Za(k))._a?(q=k._isUTC?Ie(k._a):Ms(k._a),this._isDSTShifted=this.isValid()&&function tu(k,q,_e){var Vn,Fe=Math.min(k.length,q.length),wt=Math.abs(k.length-q.length),pn=0;for(Vn=0;Vn<Fe;Vn++)(_e&&k[Vn]!==q[Vn]||!_e&&xt(k[Vn])!==xt(q[Vn]))&&pn++;return pn+wt}(k._a,q.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Hn=He.prototype;function _r(k,q,_e,Fe){var wt=No(),pn=Ie().set(Fe,q);return wt[_e](pn,k)}function yr(k,q,_e){if(ie(k)&&(q=k,k=void 0),k=k||"",null!=q)return _r(k,q,_e,"month");var Fe,wt=[];for(Fe=0;Fe<12;Fe++)wt[Fe]=_r(k,Fe,_e,"month");return wt}function Fr(k,q,_e,Fe){"boolean"==typeof k?(ie(q)&&(_e=q,q=void 0),q=q||""):(_e=q=k,k=!1,ie(q)&&(_e=q,q=void 0),q=q||"");var Vn,wt=No(),pn=k?wt._week.dow:0,Ni=[];if(null!=_e)return _r(q,(_e+pn)%7,Fe,"day");for(Vn=0;Vn<7;Vn++)Ni[Vn]=_r(q,(Vn+pn)%7,Fe,"day");return Ni}Hn.calendar=function Xe(k,q,_e){var Fe=this._calendar[k]||this._calendar.sameElse;return Te(Fe)?Fe.call(q,_e):Fe},Hn.longDateFormat=function Rn(k){var q=this._longDateFormat[k],_e=this._longDateFormat[k.toUpperCase()];return q||!_e?q:(this._longDateFormat[k]=_e.match(le).map(function(Fe){return"MMMM"===Fe||"MM"===Fe||"DD"===Fe||"dddd"===Fe?Fe.slice(1):Fe}).join(""),this._longDateFormat[k])},Hn.invalidDate=function Xr(){return this._invalidDate},Hn.ordinal=function xr(k){return this._ordinal.replace("%d",k)},Hn.preparse=qn,Hn.postformat=qn,Hn.relativeTime=function en(k,q,_e,Fe){var wt=this._relativeTime[_e];return Te(wt)?wt(k,q,_e,Fe):wt.replace(/%d/i,k)},Hn.pastFuture=function Wn(k,q){var _e=this._relativeTime[k>0?"future":"past"];return Te(_e)?_e(q):_e.replace(/%s/i,q)},Hn.set=function ht(k){var q,_e;for(_e in k)R(k,_e)&&(Te(q=k[_e])?this[_e]=q:this["_"+_e]=q);this._config=k,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Hn.eras=function Gl(k,q){var _e,Fe,wt,pn=this._eras||No("en")._eras;for(_e=0,Fe=pn.length;_e<Fe;++_e)switch("string"==typeof pn[_e].since&&(wt=E(pn[_e].since).startOf("day"),pn[_e].since=wt.valueOf()),typeof pn[_e].until){case"undefined":pn[_e].until=1/0;break;case"string":wt=E(pn[_e].until).startOf("day").valueOf(),pn[_e].until=wt.valueOf()}return pn},Hn.erasParse=function tc(k,q,_e){var Fe,wt,Vn,Ni,Es,pn=this.eras();for(k=k.toUpperCase(),Fe=0,wt=pn.length;Fe<wt;++Fe)if(Vn=pn[Fe].name.toUpperCase(),Ni=pn[Fe].abbr.toUpperCase(),Es=pn[Fe].narrow.toUpperCase(),_e)switch(q){case"N":case"NN":case"NNN":if(Ni===k)return pn[Fe];break;case"NNNN":if(Vn===k)return pn[Fe];break;case"NNNNN":if(Es===k)return pn[Fe]}else if([Vn,Ni,Es].indexOf(k)>=0)return pn[Fe]},Hn.erasConvertYear=function el(k,q){var _e=k.since<=k.until?1:-1;return void 0===q?E(k.since).year():E(k.since).year()+(q-k.offset)*_e},Hn.erasAbbrRegex=function l(k){return R(this,"_erasAbbrRegex")||re.call(this),k?this._erasAbbrRegex:this._erasRegex},Hn.erasNameRegex=function yt(k){return R(this,"_erasNameRegex")||re.call(this),k?this._erasNameRegex:this._erasRegex},Hn.erasNarrowRegex=function c(k){return R(this,"_erasNarrowRegex")||re.call(this),k?this._erasNarrowRegex:this._erasRegex},Hn.months=function Ds(k,q){return k?p(this._months)?this._months[k.month()]:this._months[(this._months.isFormat||Xs).test(q)?"format":"standalone"][k.month()]:p(this._months)?this._months:this._months.standalone},Hn.monthsShort=function kl(k,q){return k?p(this._monthsShort)?this._monthsShort[k.month()]:this._monthsShort[Xs.test(q)?"format":"standalone"][k.month()]:p(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Hn.monthsParse=function It(k,q,_e){var Fe,wt,pn;if(this._monthsParseExact)return mt.call(this,k,q,_e);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Fe=0;Fe<12;Fe++){if(wt=Ie([2e3,Fe]),_e&&!this._longMonthsParse[Fe]&&(this._longMonthsParse[Fe]=new RegExp("^"+this.months(wt,"").replace(".","")+"$","i"),this._shortMonthsParse[Fe]=new RegExp("^"+this.monthsShort(wt,"").replace(".","")+"$","i")),!_e&&!this._monthsParse[Fe]&&(pn="^"+this.months(wt,"")+"|^"+this.monthsShort(wt,""),this._monthsParse[Fe]=new RegExp(pn.replace(".",""),"i")),_e&&"MMMM"===q&&this._longMonthsParse[Fe].test(k))return Fe;if(_e&&"MMM"===q&&this._shortMonthsParse[Fe].test(k))return Fe;if(!_e&&this._monthsParse[Fe].test(k))return Fe}},Hn.monthsRegex=function rr(k){return this._monthsParseExact?(R(this,"_monthsRegex")||Cn.call(this),k?this._monthsStrictRegex:this._monthsRegex):(R(this,"_monthsRegex")||(this._monthsRegex=ps),this._monthsStrictRegex&&k?this._monthsStrictRegex:this._monthsRegex)},Hn.monthsShortRegex=function on(k){return this._monthsParseExact?(R(this,"_monthsRegex")||Cn.call(this),k?this._monthsShortStrictRegex:this._monthsShortRegex):(R(this,"_monthsShortRegex")||(this._monthsShortRegex=hs),this._monthsShortStrictRegex&&k?this._monthsShortStrictRegex:this._monthsShortRegex)},Hn.week=function Ps(k){return ei(k,this._week.dow,this._week.doy).week},Hn.firstDayOfYear=function Wt(){return this._week.doy},Hn.firstDayOfWeek=function ut(){return this._week.dow},Hn.weekdays=function us(k,q){var _e=p(this._weekdays)?this._weekdays:this._weekdays[k&&!0!==k&&this._weekdays.isFormat.test(q)?"format":"standalone"];return!0===k?zi(_e,this._week.dow):k?_e[k.day()]:_e},Hn.weekdaysMin=function Aa(k){return!0===k?zi(this._weekdaysMin,this._week.dow):k?this._weekdaysMin[k.day()]:this._weekdaysMin},Hn.weekdaysShort=function _l(k){return!0===k?zi(this._weekdaysShort,this._week.dow):k?this._weekdaysShort[k.day()]:this._weekdaysShort},Hn.weekdaysParse=function dl(k,q,_e){var Fe,wt,pn;if(this._weekdaysParseExact)return ju.call(this,k,q,_e);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Fe=0;Fe<7;Fe++){if(wt=Ie([2e3,1]).day(Fe),_e&&!this._fullWeekdaysParse[Fe]&&(this._fullWeekdaysParse[Fe]=new RegExp("^"+this.weekdays(wt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Fe]=new RegExp("^"+this.weekdaysShort(wt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Fe]=new RegExp("^"+this.weekdaysMin(wt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Fe]||(pn="^"+this.weekdays(wt,"")+"|^"+this.weekdaysShort(wt,"")+"|^"+this.weekdaysMin(wt,""),this._weekdaysParse[Fe]=new RegExp(pn.replace(".",""),"i")),_e&&"dddd"===q&&this._fullWeekdaysParse[Fe].test(k))return Fe;if(_e&&"ddd"===q&&this._shortWeekdaysParse[Fe].test(k))return Fe;if(_e&&"dd"===q&&this._minWeekdaysParse[Fe].test(k))return Fe;if(!_e&&this._weekdaysParse[Fe].test(k))return Fe}},Hn.weekdaysRegex=function os(k){return this._weekdaysParseExact?(R(this,"_weekdaysRegex")||Be.call(this),k?this._weekdaysStrictRegex:this._weekdaysRegex):(R(this,"_weekdaysRegex")||(this._weekdaysRegex=Sl),this._weekdaysStrictRegex&&k?this._weekdaysStrictRegex:this._weekdaysRegex)},Hn.weekdaysShortRegex=function Qs(k){return this._weekdaysParseExact?(R(this,"_weekdaysRegex")||Be.call(this),k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(R(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ac),this._weekdaysShortStrictRegex&&k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Hn.weekdaysMinRegex=function bs(k){return this._weekdaysParseExact?(R(this,"_weekdaysRegex")||Be.call(this),k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(R(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qa),this._weekdaysMinStrictRegex&&k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Hn.isPM=function ln(k){return"p"===(k+"").toLowerCase().charAt(0)},Hn.meridiem=function Jn(k,q,_e){return k>11?_e?"pm":"PM":_e?"am":"AM"},Ur("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(k){var q=k%10;return k+(1===xt(k%100/10)?"th":1===q?"st":2===q?"nd":3===q?"rd":"th")}}),E.lang=st("moment.lang is deprecated. Use moment.locale instead.",Ur),E.langData=st("moment.langData is deprecated. Use moment.localeData instead.",No);var Ws=Math.abs;function Ss(k,q,_e,Fe){var wt=eo(q,_e);return k._milliseconds+=Fe*wt._milliseconds,k._days+=Fe*wt._days,k._months+=Fe*wt._months,k._bubble()}function co(k){return k<0?Math.floor(k):Math.ceil(k)}function Ra(k){return 4800*k/146097}function Mo(k){return 146097*k/4800}function ao(k){return function(){return this.as(k)}}var iu=ao("ms"),Au=ao("s"),$u=ao("m"),Dd=ao("h"),xh=ao("d"),Bl=ao("w"),su=ao("M"),Pu=ao("Q"),nl=ao("y"),Ya=iu;function Ma(k){return function(){return this.isValid()?this._data[k]:NaN}}var od=Ma("milliseconds"),Gc=Ma("seconds"),qh=Ma("minutes"),ou=Ma("hours"),yf=Ma("days"),vf=Ma("months"),Wc=Ma("years");var Dl=Math.round,Wl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Uu(k,q,_e,Fe,wt){return wt.relativeTime(q||1,!!_e,k,Fe)}var gl=Math.abs;function Qd(k){return(k>0)-(k<0)||+k}function eh(){if(!this.isValid())return this.localeData().invalidDate();var Fe,wt,pn,Vn,Es,ws,au,ld,k=gl(this._milliseconds)/1e3,q=gl(this._days),_e=gl(this._months),Ni=this.asSeconds();return Ni?(Fe=Tt(k/60),wt=Tt(Fe/60),k%=60,Fe%=60,pn=Tt(_e/12),_e%=12,Vn=k?k.toFixed(3).replace(/\.?0+$/,""):"",Es=Ni<0?"-":"",ws=Qd(this._months)!==Qd(Ni)?"-":"",au=Qd(this._days)!==Qd(Ni)?"-":"",ld=Qd(this._milliseconds)!==Qd(Ni)?"-":"",Es+"P"+(pn?ws+pn+"Y":"")+(_e?ws+_e+"M":"")+(q?au+q+"D":"")+(wt||Fe||k?"T":"")+(wt?ld+wt+"H":"")+(Fe?ld+Fe+"M":"")+(k?ld+Vn+"S":"")):"P0D"}var so=ro.prototype;return so.isValid=function eu(){return this._isValid},so.abs=function Rs(){var k=this._data;return this._milliseconds=Ws(this._milliseconds),this._days=Ws(this._days),this._months=Ws(this._months),k.milliseconds=Ws(k.milliseconds),k.seconds=Ws(k.seconds),k.minutes=Ws(k.minutes),k.hours=Ws(k.hours),k.months=Ws(k.months),k.years=Ws(k.years),this},so.add=function Ks(k,q){return Ss(this,k,q,1)},so.subtract=function tl(k,q){return Ss(this,k,q,-1)},so.as=function bu(k){if(!this.isValid())return NaN;var q,_e,Fe=this._milliseconds;if("month"===(k=rn(k))||"quarter"===k||"year"===k)switch(q=this._days+Fe/864e5,_e=this._months+Ra(q),k){case"month":return _e;case"quarter":return _e/3;case"year":return _e/12}else switch(q=this._days+Math.round(Mo(this._months)),k){case"week":return q/7+Fe/6048e5;case"day":return q+Fe/864e5;case"hour":return 24*q+Fe/36e5;case"minute":return 1440*q+Fe/6e4;case"second":return 86400*q+Fe/1e3;case"millisecond":return Math.floor(864e5*q)+Fe;default:throw new Error("Unknown unit "+k)}},so.asMilliseconds=iu,so.asSeconds=Au,so.asMinutes=$u,so.asHours=Dd,so.asDays=xh,so.asWeeks=Bl,so.asMonths=su,so.asQuarters=Pu,so.asYears=nl,so.valueOf=Ya,so._bubble=function Tl(){var wt,pn,Vn,Ni,Es,k=this._milliseconds,q=this._days,_e=this._months,Fe=this._data;return k>=0&&q>=0&&_e>=0||k<=0&&q<=0&&_e<=0||(k+=864e5*co(Mo(_e)+q),q=0,_e=0),Fe.milliseconds=k%1e3,wt=Tt(k/1e3),Fe.seconds=wt%60,pn=Tt(wt/60),Fe.minutes=pn%60,Vn=Tt(pn/60),Fe.hours=Vn%24,q+=Tt(Vn/24),_e+=Es=Tt(Ra(q)),q-=co(Mo(Es)),Ni=Tt(_e/12),_e%=12,Fe.days=q,Fe.months=_e,Fe.years=Ni,this},so.clone=function Cl(){return eo(this)},so.get=function Ga(k){return k=rn(k),this.isValid()?this[k+"s"]():NaN},so.milliseconds=od,so.seconds=Gc,so.minutes=qh,so.hours=ou,so.days=yf,so.weeks=function wd(){return Tt(this.days()/7)},so.months=vf,so.years=Wc,so.humanize=function Mh(k,q){if(!this.isValid())return this.localeData().invalidDate();var wt,pn,_e=!1,Fe=Wl;return"object"==typeof k&&(q=k,k=!1),"boolean"==typeof k&&(_e=k),"object"==typeof q&&(Fe=Object.assign({},Wl,q),null!=q.s&&null==q.ss&&(Fe.ss=q.s-1)),pn=function wf(k,q,_e,Fe){var wt=eo(k).abs(),pn=Dl(wt.as("s")),Vn=Dl(wt.as("m")),Ni=Dl(wt.as("h")),Es=Dl(wt.as("d")),ws=Dl(wt.as("M")),au=Dl(wt.as("w")),ld=Dl(wt.as("y")),lu=pn<=_e.ss&&["s",pn]||pn<_e.s&&["ss",pn]||Vn<=1&&["m"]||Vn<_e.m&&["mm",Vn]||Ni<=1&&["h"]||Ni<_e.h&&["hh",Ni]||Es<=1&&["d"]||Es<_e.d&&["dd",Es];return null!=_e.w&&(lu=lu||au<=1&&["w"]||au<_e.w&&["ww",au]),(lu=lu||ws<=1&&["M"]||ws<_e.M&&["MM",ws]||ld<=1&&["y"]||["yy",ld])[2]=q,lu[3]=+k>0,lu[4]=Fe,Uu.apply(null,lu)}(this,!_e,Fe,wt=this.localeData()),_e&&(pn=wt.pastFuture(+this,pn)),wt.postformat(pn)},so.toISOString=eh,so.toString=eh,so.toJSON=eh,so.locale=Ua,so.localeData=Na,so.toIsoString=st("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",eh),so.lang=Ca,Ct("X",0,0,"unix"),Ct("x",0,0,"valueOf"),Me("x",We),Me("X",/[+-]?\d+(\.\d{1,3})?/),hn("X",function(k,q,_e){_e._d=new Date(1e3*parseFloat(k))}),hn("x",function(k,q,_e){_e._d=new Date(xt(k))}),E.version="2.30.1",function z(k){B=k}(Ms),E.fn=bt,E.min=function Vl(){return _u("isBefore",[].slice.call(arguments,0))},E.max=function ol(){return _u("isAfter",[].slice.call(arguments,0))},E.now=function(){return Date.now?Date.now():+new Date},E.utc=Ie,E.unix=function Mn(k){return Ms(1e3*k)},E.months=function ti(k,q){return yr(k,q,"months")},E.isDate=Ee,E.locale=Ur,E.invalid=J,E.duration=eo,E.isMoment=ne,E.weekdays=function Br(k,q,_e){return Fr(k,q,_e,"weekdays")},E.parseZone=function Bn(){return Ms.apply(null,arguments).parseZone()},E.localeData=No,E.isDuration=qi,E.monthsShort=function Hs(k,q){return yr(k,q,"monthsShort")},E.weekdaysMin=function Oi(k,q,_e){return Fr(k,q,_e,"weekdaysMin")},E.defineLocale=Gi,E.updateLocale=function ya(k,q){if(null!=q){var _e,Fe,wt=nr;null!=br[k]&&null!=br[k].parentLocale?br[k].set(tt(br[k]._config,q)):(null!=(Fe=xs(k))&&(wt=Fe._config),q=tt(wt,q),null==Fe&&(q.abbr=k),(_e=new He(q)).parentLocale=br[k],br[k]=_e),Ur(k)}else null!=br[k]&&(null!=br[k].parentLocale?(br[k]=br[k].parentLocale,k===Ur()&&Ur(k)):null!=br[k]&&delete br[k]);return br[k]},E.locales=function gs(){return _t(br)},E.weekdaysShort=function Ki(k,q,_e){return Fr(k,q,_e,"weekdaysShort")},E.normalizeUnits=rn,E.relativeTimeRounding=function ad(k){return void 0===k?Dl:"function"==typeof k&&(Dl=k,!0)},E.relativeTimeThreshold=function bc(k,q){return void 0!==Wl[k]&&(void 0===q?Wl[k]:(Wl[k]=q,"s"===k&&(Wl.ss=q-1),!0))},E.calendarFormat=function go(k,q){var _e=k.diff(q,"days",!0);return _e<-6?"sameElse":_e<-1?"lastWeek":_e<0?"lastDay":_e<1?"sameDay":_e<2?"nextDay":_e<7?"nextWeek":"sameElse"},E.prototype=bt,E.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},E}()},4772:pt=>{"use strict";var Ze=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;pt.exports=function z(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de","5"===Object.getOwnPropertyNames(p)[0])return!1;for(var O={},R=0;R<10;R++)O["_"+String.fromCharCode(R)]=R;if("0123456789"!==Object.getOwnPropertyNames(O).map(function(ie){return O[ie]}).join(""))return!1;var G={};return"abcdefghijklmnopqrst".split("").forEach(function(ie){G[ie]=ie}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},G)).join("")}catch{return!1}}()?Object.assign:function(p,O){for(var R,G,H=function E(p){if(null==p)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}(p),ie=1;ie<arguments.length;ie++){for(var Ee in R=Object(arguments[ie]))X.call(R,Ee)&&(H[Ee]=R[Ee]);if(Ze){G=Ze(R);for(var he=0;he<G.length;he++)B.call(R,G[he])&&(H[G[he]]=R[G[he]])}}return H}},4246:pt=>{"use strict";var Ze=function(X){return X!=X};pt.exports=function(B,E){return 0===B&&0===E?1/B==1/E:!!(B===E||Ze(B)&&Ze(E))}},314:(pt,Ze,X)=>{"use strict";var B=X(1648),E=X(5436),z=X(4246),p=X(1353),O=X(3090),R=E(p(),Object);B(R,{getPolyfill:p,implementation:z,shim:O}),pt.exports=R},1353:(pt,Ze,X)=>{"use strict";var B=X(4246);pt.exports=function(){return"function"==typeof Object.is?Object.is:B}},3090:(pt,Ze,X)=>{"use strict";var B=X(1353),E=X(1648);pt.exports=function(){var p=B();return E(Object,{is:p},{is:function(){return Object.is!==p}}),p}},7972:(pt,Ze,X)=>{"use strict";var B;if(!Object.keys){var E=Object.prototype.hasOwnProperty,z=Object.prototype.toString,p=X(9637),O=Object.prototype.propertyIsEnumerable,R=!O.call({toString:null},"toString"),H=O.call(function(){},"prototype"),G=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ie=function(Ie){var it=Ie.constructor;return it&&it.prototype===Ie},Ee={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},he=function(){if(typeof window>"u")return!1;for(var Ie in window)try{if(!Ee["$"+Ie]&&E.call(window,Ie)&&null!==window[Ie]&&"object"==typeof window[Ie])try{ie(window[Ie])}catch{return!0}}catch{return!0}return!1}();B=function(it){var pe=null!==it&&"object"==typeof it,ve="[object Function]"===z.call(it),de=p(it),J=pe&&"[object String]"===z.call(it),te=[];if(!pe&&!ve&&!de)throw new TypeError("Object.keys called on a non-object");var be=H&&ve;if(J&&it.length>0&&!E.call(it,0))for(var ee=0;ee<it.length;++ee)te.push(String(ee));if(de&&it.length>0)for(var ae=0;ae<it.length;++ae)te.push(String(ae));else for(var ne in it)(!be||"prototype"!==ne)&&E.call(it,ne)&&te.push(String(ne));if(R)for(var se=function(Ie){if(typeof window>"u"||!he)return ie(Ie);try{return ie(Ie)}catch{return!1}}(it),st=0;st<G.length;++st)(!se||"constructor"!==G[st])&&E.call(it,G[st])&&te.push(G[st]);return te}}pt.exports=B},7809:(pt,Ze,X)=>{"use strict";var B=Array.prototype.slice,E=X(9637),z=Object.keys,p=z?function(H){return z(H)}:X(7972),O=Object.keys;p.shim=function(){if(Object.keys){var H=function(){var G=Object.keys(arguments);return G&&G.length===arguments.length}(1,2);H||(Object.keys=function(ie){return E(ie)?O(B.call(ie)):O(ie)})}else Object.keys=p;return Object.keys||p},pt.exports=p},9637:pt=>{"use strict";var Ze=Object.prototype.toString;pt.exports=function(B){var E=Ze.call(B),z="[object Arguments]"===E;return z||(z="[object Array]"!==E&&null!==B&&"object"==typeof B&&"number"==typeof B.length&&B.length>=0&&"[object Function]"===Ze.call(B.callee)),z}},4018:pt=>{pt.exports=function(X,B,E,z){var p=X[0],O=X[1],R=!1;void 0===E&&(E=0),void 0===z&&(z=B.length);for(var H=(z-E)/2,G=0,ie=H-1;G<H;ie=G++){var Ee=B[E+2*G+0],he=B[E+2*G+1],Ie=B[E+2*ie+1];he>O!=Ie>O&&p<(B[E+2*ie+0]-Ee)*(O-he)/(Ie-he)+Ee&&(R=!R)}return R}},4179:(pt,Ze,X)=>{var B=X(4018),E=X(8875);pt.exports=function(p,O,R,H){return O.length>0&&Array.isArray(O[0])?E(p,O,R,H):B(p,O,R,H)},pt.exports.nested=E,pt.exports.flat=B},8875:pt=>{pt.exports=function(X,B,E,z){var p=X[0],O=X[1],R=!1;void 0===E&&(E=0),void 0===z&&(z=B.length);for(var H=z-E,G=0,ie=H-1;G<H;ie=G++){var Ee=B[G+E][0],he=B[G+E][1],Ie=B[ie+E][1];he>O!=Ie>O&&p<(B[ie+E][0]-Ee)*(O-he)/(Ie-he)+Ee&&(R=!R)}return R}},8464:function(pt){pt.exports=function(){"use strict";function Ze(nn,ke){var xe,Q,oe,We,Ge={label:0,sent:function(){if(1&oe[0])throw oe[1];return oe[1]},trys:[],ops:[]};return We={next:Mt(0),throw:Mt(1),return:Mt(2)},"function"==typeof Symbol&&(We[Symbol.iterator]=function(){return this}),We;function Mt(kt){return function(dn){return function St(kt){if(xe)throw new TypeError("Generator is already executing.");for(;Ge;)try{if(xe=1,Q&&(oe=2&kt[0]?Q.return:kt[0]?Q.throw||((oe=Q.return)&&oe.call(Q),0):Q.next)&&!(oe=oe.call(Q,kt[1])).done)return oe;switch(Q=0,oe&&(kt=[2&kt[0],oe.value]),kt[0]){case 0:case 1:oe=kt;break;case 4:return Ge.label++,{value:kt[1],done:!1};case 5:Ge.label++,Q=kt[1],kt=[0];continue;case 7:kt=Ge.ops.pop(),Ge.trys.pop();continue;default:if(!(oe=(oe=Ge.trys).length>0&&oe[oe.length-1])&&(6===kt[0]||2===kt[0])){Ge=0;continue}if(3===kt[0]&&(!oe||kt[1]>oe[0]&&kt[1]<oe[3])){Ge.label=kt[1];break}if(6===kt[0]&&Ge.label<oe[1]){Ge.label=oe[1],oe=kt;break}if(oe&&Ge.label<oe[2]){Ge.label=oe[2],Ge.ops.push(kt);break}oe[2]&&Ge.ops.pop(),Ge.trys.pop();continue}kt=ke.call(nn,Ge)}catch(dn){kt=[6,dn],Q=0}finally{xe=oe=0}if(5&kt[0])throw kt[1];return{value:kt[0]?kt[1]:void 0,done:!0}}([kt,dn])}}}var X=function nn(ke,Ge){this.next=null,this.key=ke,this.data=Ge,this.left=null,this.right=null};function B(nn,ke){return nn>ke?1:nn<ke?-1:0}function E(nn,ke,Ge){for(var xe=new X(null,null),Q=xe,oe=xe;;){var We=Ge(nn,ke.key);if(We<0){if(null===ke.left)break;if(Ge(nn,ke.left.key)<0&&(ke.left=(Mt=ke.left).right,Mt.right=ke,null===(ke=Mt).left))break;oe.left=ke,oe=ke,ke=ke.left}else{if(!(We>0))break;if(null===ke.right)break;var Mt;if(Ge(nn,ke.right.key)>0&&(ke.right=(Mt=ke.right).left,Mt.left=ke,null===(ke=Mt).right))break;Q.right=ke,Q=ke,ke=ke.right}}return Q.right=ke.left,oe.left=ke.right,ke.left=xe.right,ke.right=xe.left,ke}function z(nn,ke,Ge,xe){var Q=new X(nn,ke);if(null===Ge)return Q.left=Q.right=null,Q;var oe=xe(nn,(Ge=E(nn,Ge,xe)).key);return oe<0?(Q.left=Ge.left,Q.right=Ge,Ge.left=null):oe>=0&&(Q.right=Ge.right,Q.left=Ge,Ge.right=null),Q}function p(nn,ke,Ge){var xe=null,Q=null;if(ke){var oe=Ge((ke=E(nn,ke,Ge)).key,nn);0===oe?(xe=ke.left,Q=ke.right):oe<0?(Q=ke.right,ke.right=null,xe=ke):(xe=ke.left,ke.left=null,Q=ke)}return{left:xe,right:Q}}function R(nn,ke,Ge,xe,Q){if(nn){xe(ke+(Ge?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+Q(nn)+"\n");var oe=ke+(Ge?"    ":"\u2502   ");nn.left&&R(nn.left,oe,!1,xe,Q),nn.right&&R(nn.right,oe,!0,xe,Q)}}var H=function(){function nn(ke){void 0===ke&&(ke=B),this._root=null,this._size=0,this._comparator=ke}return nn.prototype.insert=function(ke,Ge){return this._size++,this._root=z(ke,Ge,this._root,this._comparator)},nn.prototype.add=function(ke,Ge){var xe=new X(ke,Ge);null===this._root&&(xe.left=xe.right=null,this._size++,this._root=xe);var Q=this._comparator,oe=E(ke,this._root,Q),We=Q(ke,oe.key);return 0===We?this._root=oe:(We<0?(xe.left=oe.left,xe.right=oe,oe.left=null):We>0&&(xe.right=oe.right,xe.left=oe,oe.right=null),this._size++,this._root=xe),this._root},nn.prototype.remove=function(ke){this._root=this._remove(ke,this._root,this._comparator)},nn.prototype._remove=function(ke,Ge,xe){var Q;return null===Ge?null:0===xe(ke,(Ge=E(ke,Ge,xe)).key)?(null===Ge.left?Q=Ge.right:(Q=E(ke,Ge.left,xe)).right=Ge.right,this._size--,Q):Ge},nn.prototype.pop=function(){var ke=this._root;if(ke){for(;ke.left;)ke=ke.left;return this._root=E(ke.key,this._root,this._comparator),this._root=this._remove(ke.key,this._root,this._comparator),{key:ke.key,data:ke.data}}return null},nn.prototype.findStatic=function(ke){for(var Ge=this._root,xe=this._comparator;Ge;){var Q=xe(ke,Ge.key);if(0===Q)return Ge;Ge=Q<0?Ge.left:Ge.right}return null},nn.prototype.find=function(ke){return this._root&&(this._root=E(ke,this._root,this._comparator),0!==this._comparator(ke,this._root.key))?null:this._root},nn.prototype.contains=function(ke){for(var Ge=this._root,xe=this._comparator;Ge;){var Q=xe(ke,Ge.key);if(0===Q)return!0;Ge=Q<0?Ge.left:Ge.right}return!1},nn.prototype.forEach=function(ke,Ge){for(var xe=this._root,Q=[],oe=!1;!oe;)null!==xe?(Q.push(xe),xe=xe.left):0!==Q.length?(xe=Q.pop(),ke.call(Ge,xe),xe=xe.right):oe=!0;return this},nn.prototype.range=function(ke,Ge,xe,Q){for(var oe=[],We=this._comparator,Mt=this._root;0!==oe.length||Mt;)if(Mt)oe.push(Mt),Mt=Mt.left;else{if(We((Mt=oe.pop()).key,Ge)>0)break;if(We(Mt.key,ke)>=0&&xe.call(Q,Mt))return this;Mt=Mt.right}return this},nn.prototype.keys=function(){var ke=[];return this.forEach(function(Ge){return ke.push(Ge.key)}),ke},nn.prototype.values=function(){var ke=[];return this.forEach(function(Ge){return ke.push(Ge.data)}),ke},nn.prototype.min=function(){return this._root?this.minNode(this._root).key:null},nn.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},nn.prototype.minNode=function(ke){if(void 0===ke&&(ke=this._root),ke)for(;ke.left;)ke=ke.left;return ke},nn.prototype.maxNode=function(ke){if(void 0===ke&&(ke=this._root),ke)for(;ke.right;)ke=ke.right;return ke},nn.prototype.at=function(ke){for(var Ge=this._root,xe=!1,Q=0,oe=[];!xe;)if(Ge)oe.push(Ge),Ge=Ge.left;else if(oe.length>0){if(Ge=oe.pop(),Q===ke)return Ge;Q++,Ge=Ge.right}else xe=!0;return null},nn.prototype.next=function(ke){var Ge=this._root,xe=null;if(ke.right){for(xe=ke.right;xe.left;)xe=xe.left;return xe}for(var Q=this._comparator;Ge;){var oe=Q(ke.key,Ge.key);if(0===oe)break;oe<0?(xe=Ge,Ge=Ge.left):Ge=Ge.right}return xe},nn.prototype.prev=function(ke){var Ge=this._root,xe=null;if(null!==ke.left){for(xe=ke.left;xe.right;)xe=xe.right;return xe}for(var Q=this._comparator;Ge;){var oe=Q(ke.key,Ge.key);if(0===oe)break;oe<0?Ge=Ge.left:(xe=Ge,Ge=Ge.right)}return xe},nn.prototype.clear=function(){return this._root=null,this._size=0,this},nn.prototype.toList=function(){return function Ee(nn){for(var ke=nn,Ge=[],xe=!1,Q=new X(null,null),oe=Q;!xe;)ke?(Ge.push(ke),ke=ke.left):Ge.length>0?ke=(ke=oe=oe.next=Ge.pop()).right:xe=!0;return oe.next=null,Q.next}(this._root)},nn.prototype.load=function(ke,Ge,xe){void 0===Ge&&(Ge=[]),void 0===xe&&(xe=!1);var Q=ke.length,oe=this._comparator;if(xe&&Ie(ke,Ge,0,Q-1,oe),null===this._root)this._root=G(ke,Ge,0,Q),this._size=Q;else{var We=function Pe(nn,ke,Ge){for(var xe=new X(null,null),Q=xe,oe=nn,We=ke;null!==oe&&null!==We;)Ge(oe.key,We.key)<0?(Q.next=oe,oe=oe.next):(Q.next=We,We=We.next),Q=Q.next;return null!==oe?Q.next=oe:null!==We&&(Q.next=We),xe.next}(this.toList(),function ie(nn,ke){for(var Ge=new X(null,null),xe=Ge,Q=0;Q<nn.length;Q++)xe=xe.next=new X(nn[Q],ke[Q]);return xe.next=null,Ge.next}(ke,Ge),oe);this._root=he({head:We},0,Q=this._size+Q)}return this},nn.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(nn.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(nn.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),nn.prototype.toString=function(ke){void 0===ke&&(ke=function(xe){return String(xe.key)});var Ge=[];return R(this._root,"",!0,function(xe){return Ge.push(xe)},ke),Ge.join("")},nn.prototype.update=function(ke,Ge,xe){var Q=this._comparator,oe=p(ke,this._root,Q),We=oe.left,Mt=oe.right;Q(ke,Ge)<0?Mt=z(Ge,xe,Mt,Q):We=z(Ge,xe,We,Q),this._root=function O(nn,ke,Ge){return null===ke?nn:(null===nn||((ke=E(nn.key,ke,Ge)).left=nn),ke)}(We,Mt,Q)},nn.prototype.split=function(ke){return p(ke,this._root,this._comparator)},nn.prototype[Symbol.iterator]=function(){var ke,Ge,xe;return Ze(this,function(Q){switch(Q.label){case 0:ke=this._root,Ge=[],xe=!1,Q.label=1;case 1:return xe?[3,6]:null===ke?[3,2]:(Ge.push(ke),ke=ke.left,[3,5]);case 2:return 0===Ge.length?[3,4]:[4,ke=Ge.pop()];case 3:return Q.sent(),ke=ke.right,[3,5];case 4:xe=!0,Q.label=5;case 5:return[3,1];case 6:return[2]}})},nn}();function G(nn,ke,Ge,xe){var Q=xe-Ge;if(Q>0){var oe=Ge+Math.floor(Q/2),St=new X(nn[oe],ke[oe]);return St.left=G(nn,ke,Ge,oe),St.right=G(nn,ke,oe+1,xe),St}return null}function he(nn,ke,Ge){var xe=Ge-ke;if(xe>0){var Q=ke+Math.floor(xe/2),oe=he(nn,ke,Q),We=nn.head;return We.left=oe,nn.head=nn.head.next,We.right=he(nn,Q+1,Ge),We}return null}function Ie(nn,ke,Ge,xe,Q){if(!(Ge>=xe)){for(var oe=nn[Ge+xe>>1],We=Ge-1,Mt=xe+1;;){do{We++}while(Q(nn[We],oe)<0);do{Mt--}while(Q(nn[Mt],oe)>0);if(We>=Mt)break;var St=nn[We];nn[We]=nn[Mt],nn[Mt]=St,St=ke[We],ke[We]=ke[Mt],ke[Mt]=St}Ie(nn,ke,Ge,Mt,Q),Ie(nn,ke,Mt+1,xe,Q)}}const it=(nn,ke)=>nn.ll.x<=ke.x&&ke.x<=nn.ur.x&&nn.ll.y<=ke.y&&ke.y<=nn.ur.y,pe=(nn,ke)=>ke.ur.x<nn.ll.x||nn.ur.x<ke.ll.x||ke.ur.y<nn.ll.y||nn.ur.y<ke.ll.y?null:{ll:{x:nn.ll.x<ke.ll.x?ke.ll.x:nn.ll.x,y:nn.ll.y<ke.ll.y?ke.ll.y:nn.ll.y},ur:{x:nn.ur.x<ke.ur.x?nn.ur.x:ke.ur.x,y:nn.ur.y<ke.ur.y?nn.ur.y:ke.ur.y}};let ve=Number.EPSILON;void 0===ve&&(ve=Math.pow(2,-52));const de=ve*ve,J=(nn,ke)=>{if(-ve<nn&&nn<ve&&-ve<ke&&ke<ve)return 0;const Ge=nn-ke;return Ge*Ge<de*nn*ke?0:nn<ke?-1:1};class be{constructor(){this.tree=new H,this.round(0)}round(ke){const Ge=this.tree.add(ke),xe=this.tree.prev(Ge);if(null!==xe&&0===J(Ge.key,xe.key))return this.tree.remove(ke),xe.key;const Q=this.tree.next(Ge);return null!==Q&&0===J(Ge.key,Q.key)?(this.tree.remove(ke),Q.key):ke}}const ee=new class te{constructor(){this.reset()}reset(){this.xRounder=new be,this.yRounder=new be}round(ke,Ge){return{x:this.xRounder.round(ke),y:this.yRounder.round(Ge)}}},ae=11102230246251565e-32,ne=134217729,se=(3+8*ae)*ae;function st(nn,ke,Ge,xe,Q){let oe,We,Mt,St,kt=ke[0],dn=xe[0],me=0,ce=0;dn>kt==dn>-kt?(oe=kt,kt=ke[++me]):(oe=dn,dn=xe[++ce]);let Se=0;if(me<nn&&ce<Ge)for(dn>kt==dn>-kt?(We=kt+oe,Mt=oe-(We-kt),kt=ke[++me]):(We=dn+oe,Mt=oe-(We-dn),dn=xe[++ce]),oe=We,0!==Mt&&(Q[Se++]=Mt);me<nn&&ce<Ge;)dn>kt==dn>-kt?(We=oe+kt,St=We-oe,Mt=oe-(We-St)+(kt-St),kt=ke[++me]):(We=oe+dn,St=We-oe,Mt=oe-(We-St)+(dn-St),dn=xe[++ce]),oe=We,0!==Mt&&(Q[Se++]=Mt);for(;me<nn;)We=oe+kt,St=We-oe,Mt=oe-(We-St)+(kt-St),kt=ke[++me],oe=We,0!==Mt&&(Q[Se++]=Mt);for(;ce<Ge;)We=oe+dn,St=We-oe,Mt=oe-(We-St)+(dn-St),dn=xe[++ce],oe=We,0!==Mt&&(Q[Se++]=Mt);return(0!==oe||0===Se)&&(Q[Se++]=oe),Se}function rt(nn){return new Float64Array(nn)}const ht=(2+12*ae)*ae,tt=(9+64*ae)*ae*ae,He=rt(4),_t=rt(8),et=rt(12),Xe=rt(16),De=rt(4);function ze(nn,ke,Ge,xe,Q,oe){const We=(ke-oe)*(Ge-Q),Mt=(nn-Q)*(xe-oe),St=We-Mt,kt=Math.abs(We+Mt);return Math.abs(St)>=33306690738754716e-32*kt?St:-function le(nn,ke,Ge,xe,Q,oe,We){let Mt,St,kt,dn,me,ce,Se,Me,Je,gt,Ft,Tt,xt,Bt,hn,En,In,sr;const fr=nn-Q,Gn=Ge-Q,lr=ke-oe,hr=xe-oe;Bt=fr*hr,ce=ne*fr,Se=ce-(ce-fr),Me=fr-Se,ce=ne*hr,Je=ce-(ce-hr),gt=hr-Je,hn=Me*gt-(Bt-Se*Je-Me*Je-Se*gt),En=lr*Gn,ce=ne*lr,Se=ce-(ce-lr),Me=lr-Se,ce=ne*Gn,Je=ce-(ce-Gn),gt=Gn-Je,In=Me*gt-(En-Se*Je-Me*Je-Se*gt),Ft=hn-In,me=hn-Ft,He[0]=hn-(Ft+me)+(me-In),Tt=Bt+Ft,me=Tt-Bt,xt=Bt-(Tt-me)+(Ft-me),Ft=xt-En,me=xt-Ft,He[1]=xt-(Ft+me)+(me-En),sr=Tt+Ft,me=sr-Tt,He[2]=Tt-(sr-me)+(Ft-me),He[3]=sr;let Wr=function $e(nn,ke){let Ge=ke[0];for(let xe=1;xe<nn;xe++)Ge+=ke[xe];return Ge}(4,He),Ir=ht*We;if(Wr>=Ir||-Wr>=Ir||(me=nn-fr,Mt=nn-(fr+me)+(me-Q),me=Ge-Gn,kt=Ge-(Gn+me)+(me-Q),me=ke-lr,St=ke-(lr+me)+(me-oe),me=xe-hr,dn=xe-(hr+me)+(me-oe),0===Mt&&0===St&&0===kt&&0===dn)||(Ir=tt*We+se*Math.abs(Wr),Wr+=fr*dn+hr*Mt-(lr*kt+Gn*St),Wr>=Ir||-Wr>=Ir))return Wr;Bt=Mt*hr,ce=ne*Mt,Se=ce-(ce-Mt),Me=Mt-Se,ce=ne*hr,Je=ce-(ce-hr),gt=hr-Je,hn=Me*gt-(Bt-Se*Je-Me*Je-Se*gt),En=St*Gn,ce=ne*St,Se=ce-(ce-St),Me=St-Se,ce=ne*Gn,Je=ce-(ce-Gn),gt=Gn-Je,In=Me*gt-(En-Se*Je-Me*Je-Se*gt),Ft=hn-In,me=hn-Ft,De[0]=hn-(Ft+me)+(me-In),Tt=Bt+Ft,me=Tt-Bt,xt=Bt-(Tt-me)+(Ft-me),Ft=xt-En,me=xt-Ft,De[1]=xt-(Ft+me)+(me-En),sr=Tt+Ft,me=sr-Tt,De[2]=Tt-(sr-me)+(Ft-me),De[3]=sr;const wi=st(4,He,4,De,_t);Bt=fr*dn,ce=ne*fr,Se=ce-(ce-fr),Me=fr-Se,ce=ne*dn,Je=ce-(ce-dn),gt=dn-Je,hn=Me*gt-(Bt-Se*Je-Me*Je-Se*gt),En=lr*kt,ce=ne*lr,Se=ce-(ce-lr),Me=lr-Se,ce=ne*kt,Je=ce-(ce-kt),gt=kt-Je,In=Me*gt-(En-Se*Je-Me*Je-Se*gt),Ft=hn-In,me=hn-Ft,De[0]=hn-(Ft+me)+(me-In),Tt=Bt+Ft,me=Tt-Bt,xt=Bt-(Tt-me)+(Ft-me),Ft=xt-En,me=xt-Ft,De[1]=xt-(Ft+me)+(me-En),sr=Tt+Ft,me=sr-Tt,De[2]=Tt-(sr-me)+(Ft-me),De[3]=sr;const li=st(wi,_t,4,De,et);Bt=Mt*dn,ce=ne*Mt,Se=ce-(ce-Mt),Me=Mt-Se,ce=ne*dn,Je=ce-(ce-dn),gt=dn-Je,hn=Me*gt-(Bt-Se*Je-Me*Je-Se*gt),En=St*kt,ce=ne*St,Se=ce-(ce-St),Me=St-Se,ce=ne*kt,Je=ce-(ce-kt),gt=kt-Je,In=Me*gt-(En-Se*Je-Me*Je-Se*gt),Ft=hn-In,me=hn-Ft,De[0]=hn-(Ft+me)+(me-In),Tt=Bt+Ft,me=Tt-Bt,xt=Bt-(Tt-me)+(Ft-me),Ft=xt-En,me=xt-Ft,De[1]=xt-(Ft+me)+(me-En),sr=Tt+Ft,me=sr-Tt,De[2]=Tt-(sr-me)+(Ft-me),De[3]=sr;const Js=st(li,et,4,De,Xe);return Xe[Js-1]}(nn,ke,Ge,xe,Q,oe,kt)}const Ve=(nn,ke)=>nn.x*ke.y-nn.y*ke.x,Yt=(nn,ke)=>nn.x*ke.x+nn.y*ke.y,Ct=(nn,ke,Ge)=>{const xe=ze(nn.x,nn.y,ke.x,ke.y,Ge.x,Ge.y);return xe>0?-1:xe<0?1:0},bn=nn=>Math.sqrt(Yt(nn,nn)),fn=(nn,ke,Ge)=>{const xe={x:ke.x-nn.x,y:ke.y-nn.y},Q={x:Ge.x-nn.x,y:Ge.y-nn.y};return Ve(Q,xe)/bn(Q)/bn(xe)},kn=(nn,ke,Ge)=>{const xe={x:ke.x-nn.x,y:ke.y-nn.y},Q={x:Ge.x-nn.x,y:Ge.y-nn.y};return Yt(Q,xe)/bn(Q)/bn(xe)},un=(nn,ke,Ge)=>0===ke.y?null:{x:nn.x+ke.x/ke.y*(Ge-nn.y),y:Ge},Xn=(nn,ke,Ge)=>0===ke.x?null:{x:Ge,y:nn.y+ke.y/ke.x*(Ge-nn.x)};class dr{static compare(ke,Ge){const xe=dr.comparePoints(ke.point,Ge.point);return 0!==xe?xe:(ke.point!==Ge.point&&ke.link(Ge),ke.isLeft!==Ge.isLeft?ke.isLeft?1:-1:Ln.compare(ke.segment,Ge.segment))}static comparePoints(ke,Ge){return ke.x<Ge.x?-1:ke.x>Ge.x?1:ke.y<Ge.y?-1:ke.y>Ge.y?1:0}constructor(ke,Ge){void 0===ke.events?ke.events=[this]:ke.events.push(this),this.point=ke,this.isLeft=Ge}link(ke){if(ke.point===this.point)throw new Error("Tried to link already linked events");const Ge=ke.point.events;for(let xe=0,Q=Ge.length;xe<Q;xe++){const oe=Ge[xe];this.point.events.push(oe),oe.point=this.point}this.checkForConsuming()}checkForConsuming(){const ke=this.point.events.length;for(let Ge=0;Ge<ke;Ge++){const xe=this.point.events[Ge];if(void 0===xe.segment.consumedBy)for(let Q=Ge+1;Q<ke;Q++){const oe=this.point.events[Q];void 0===oe.consumedBy&&xe.otherSE.point.events===oe.otherSE.point.events&&xe.segment.consume(oe.segment)}}}getAvailableLinkedEvents(){const ke=[];for(let Ge=0,xe=this.point.events.length;Ge<xe;Ge++){const Q=this.point.events[Ge];Q!==this&&!Q.segment.ringOut&&Q.segment.isInResult()&&ke.push(Q)}return ke}getLeftmostComparator(ke){const Ge=new Map,xe=Q=>{const oe=Q.otherSE;Ge.set(Q,{sine:fn(this.point,ke.point,oe.point),cosine:kn(this.point,ke.point,oe.point)})};return(Q,oe)=>{Ge.has(Q)||xe(Q),Ge.has(oe)||xe(oe);const{sine:We,cosine:Mt}=Ge.get(Q),{sine:St,cosine:kt}=Ge.get(oe);return We>=0&&St>=0?Mt<kt?1:Mt>kt?-1:0:We<0&&St<0?Mt<kt?-1:Mt>kt?1:0:St<We?-1:St>We?1:0}}}let Xr=0;class Ln{static compare(ke,Ge){const xe=ke.leftSE.point.x,Q=Ge.leftSE.point.x,oe=ke.rightSE.point.x,We=Ge.rightSE.point.x;if(We<xe)return 1;if(oe<Q)return-1;const Mt=ke.leftSE.point.y,St=Ge.leftSE.point.y,kt=ke.rightSE.point.y,dn=Ge.rightSE.point.y;if(xe<Q){if(St<Mt&&St<kt)return 1;if(St>Mt&&St>kt)return-1;const me=ke.comparePoint(Ge.leftSE.point);if(me<0)return 1;if(me>0)return-1;const ce=Ge.comparePoint(ke.rightSE.point);return 0!==ce?ce:-1}if(xe>Q){if(Mt<St&&Mt<dn)return-1;if(Mt>St&&Mt>dn)return 1;const me=Ge.comparePoint(ke.leftSE.point);if(0!==me)return me;const ce=ke.comparePoint(Ge.rightSE.point);return ce<0?1:ce>0?-1:1}if(Mt<St)return-1;if(Mt>St)return 1;if(oe<We){const me=Ge.comparePoint(ke.rightSE.point);if(0!==me)return me}if(oe>We){const me=ke.comparePoint(Ge.rightSE.point);if(me<0)return 1;if(me>0)return-1}if(oe!==We){const me=kt-Mt,ce=oe-xe,Se=dn-St,Me=We-Q;if(me>ce&&Se<Me)return 1;if(me<ce&&Se>Me)return-1}return oe>We?1:oe<We||kt<dn?-1:kt>dn?1:ke.id<Ge.id?-1:ke.id>Ge.id?1:0}constructor(ke,Ge,xe,Q){this.id=++Xr,this.leftSE=ke,ke.segment=this,ke.otherSE=Ge,this.rightSE=Ge,Ge.segment=this,Ge.otherSE=ke,this.rings=xe,this.windings=Q}static fromRing(ke,Ge,xe){let Q,oe,We;const Mt=dr.comparePoints(ke,Ge);if(Mt<0)Q=ke,oe=Ge,We=1;else{if(!(Mt>0))throw new Error(`Tried to create degenerate segment at [${ke.x}, ${ke.y}]`);Q=Ge,oe=ke,We=-1}const St=new dr(Q,!0),kt=new dr(oe,!1);return new Ln(St,kt,[xe],[We])}replaceRightSE(ke){this.rightSE=ke,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const ke=this.leftSE.point.y,Ge=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:ke<Ge?ke:Ge},ur:{x:this.rightSE.point.x,y:ke>Ge?ke:Ge}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(ke){return ke.x===this.leftSE.point.x&&ke.y===this.leftSE.point.y||ke.x===this.rightSE.point.x&&ke.y===this.rightSE.point.y}comparePoint(ke){if(this.isAnEndpoint(ke))return 0;const Ge=this.leftSE.point,xe=this.rightSE.point,Q=this.vector();if(Ge.x===xe.x)return ke.x===Ge.x?0:ke.x<Ge.x?1:-1;if(ke.x===Ge.x+(ke.y-Ge.y)/Q.y*Q.x)return 0;const St=Ge.y+(ke.x-Ge.x)/Q.x*Q.y;return ke.y===St?0:ke.y<St?-1:1}getIntersection(ke){const Ge=this.bbox(),xe=ke.bbox(),Q=pe(Ge,xe);if(null===Q)return null;const oe=this.leftSE.point,We=this.rightSE.point,Mt=ke.leftSE.point,St=ke.rightSE.point,kt=it(Ge,Mt)&&0===this.comparePoint(Mt),dn=it(xe,oe)&&0===ke.comparePoint(oe),me=it(Ge,St)&&0===this.comparePoint(St),ce=it(xe,We)&&0===ke.comparePoint(We);if(dn&&kt)return ce&&!me?We:!ce&&me?St:null;if(dn)return me&&oe.x===St.x&&oe.y===St.y?null:oe;if(kt)return ce&&We.x===Mt.x&&We.y===Mt.y?null:Mt;if(ce&&me)return null;if(ce)return We;if(me)return St;const Se=((nn,ke,Ge,xe)=>{if(0===ke.x)return Xn(Ge,xe,nn.x);if(0===xe.x)return Xn(nn,ke,Ge.x);if(0===ke.y)return un(Ge,xe,nn.y);if(0===xe.y)return un(nn,ke,Ge.y);const Q=Ve(ke,xe);if(0==Q)return null;const oe={x:Ge.x-nn.x,y:Ge.y-nn.y},We=Ve(oe,ke)/Q,Mt=Ve(oe,xe)/Q;return{x:(nn.x+Mt*ke.x+(Ge.x+We*xe.x))/2,y:(nn.y+Mt*ke.y+(Ge.y+We*xe.y))/2}})(oe,this.vector(),Mt,ke.vector());return null!==Se&&it(Q,Se)?ee.round(Se.x,Se.y):null}split(ke){const Ge=[],xe=void 0!==ke.events,Q=new dr(ke,!0),oe=new dr(ke,!1),We=this.rightSE;this.replaceRightSE(oe),Ge.push(oe),Ge.push(Q);const Mt=new Ln(Q,We,this.rings.slice(),this.windings.slice());return dr.comparePoints(Mt.leftSE.point,Mt.rightSE.point)>0&&Mt.swapEvents(),dr.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),xe&&(Q.checkForConsuming(),oe.checkForConsuming()),Ge}swapEvents(){const ke=this.rightSE;this.rightSE=this.leftSE,this.leftSE=ke,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let Ge=0,xe=this.windings.length;Ge<xe;Ge++)this.windings[Ge]*=-1}consume(ke){let Ge=this,xe=ke;for(;Ge.consumedBy;)Ge=Ge.consumedBy;for(;xe.consumedBy;)xe=xe.consumedBy;const Q=Ln.compare(Ge,xe);if(0!==Q){if(Q>0){const oe=Ge;Ge=xe,xe=oe}if(Ge.prev===xe){const oe=Ge;Ge=xe,xe=oe}for(let oe=0,We=xe.rings.length;oe<We;oe++){const Mt=xe.rings[oe],St=xe.windings[oe],kt=Ge.rings.indexOf(Mt);-1===kt?(Ge.rings.push(Mt),Ge.windings.push(St)):Ge.windings[kt]+=St}xe.rings=null,xe.windings=null,xe.consumedBy=Ge,xe.leftSE.consumedBy=Ge.leftSE,xe.rightSE.consumedBy=Ge.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}beforeState(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const ke=this.beforeState();this._afterState={rings:ke.rings.slice(0),windings:ke.windings.slice(0),multiPolys:[]};const Ge=this._afterState.rings,xe=this._afterState.windings,Q=this._afterState.multiPolys;for(let Mt=0,St=this.rings.length;Mt<St;Mt++){const kt=this.rings[Mt],dn=this.windings[Mt],me=Ge.indexOf(kt);-1===me?(Ge.push(kt),xe.push(dn)):xe[me]+=dn}const oe=[],We=[];for(let Mt=0,St=Ge.length;Mt<St;Mt++){if(0===xe[Mt])continue;const kt=Ge[Mt],dn=kt.poly;if(-1===We.indexOf(dn))if(kt.isExterior)oe.push(dn);else{-1===We.indexOf(dn)&&We.push(dn);const me=oe.indexOf(kt.poly);-1!==me&&oe.splice(me,1)}}for(let Mt=0,St=oe.length;Mt<St;Mt++){const kt=oe[Mt].multiPoly;-1===Q.indexOf(kt)&&Q.push(kt)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const ke=this.beforeState().multiPolys,Ge=this.afterState().multiPolys;switch(ai.type){case"union":this._isInResult=0===ke.length!=(0===Ge.length);break;case"intersection":{let xe,Q;ke.length<Ge.length?(xe=ke.length,Q=Ge.length):(xe=Ge.length,Q=ke.length),this._isInResult=Q===ai.numMultiPolys&&xe<Q;break}case"xor":{const xe=Math.abs(ke.length-Ge.length);this._isInResult=xe%2==1;break}case"difference":{const xe=Q=>1===Q.length&&Q[0].isSubject;this._isInResult=xe(ke)!==xe(Ge);break}default:throw new Error(`Unrecognized operation type found ${ai.type}`)}return this._isInResult}}class ir{constructor(ke,Ge,xe){if(!Array.isArray(ke)||0===ke.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=Ge,this.isExterior=xe,this.segments=[],"number"!=typeof ke[0][0]||"number"!=typeof ke[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const Q=ee.round(ke[0][0],ke[0][1]);this.bbox={ll:{x:Q.x,y:Q.y},ur:{x:Q.x,y:Q.y}};let oe=Q;for(let We=1,Mt=ke.length;We<Mt;We++){if("number"!=typeof ke[We][0]||"number"!=typeof ke[We][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let St=ee.round(ke[We][0],ke[We][1]);St.x===oe.x&&St.y===oe.y||(this.segments.push(Ln.fromRing(oe,St,this)),St.x<this.bbox.ll.x&&(this.bbox.ll.x=St.x),St.y<this.bbox.ll.y&&(this.bbox.ll.y=St.y),St.x>this.bbox.ur.x&&(this.bbox.ur.x=St.x),St.y>this.bbox.ur.y&&(this.bbox.ur.y=St.y),oe=St)}(Q.x!==oe.x||Q.y!==oe.y)&&this.segments.push(Ln.fromRing(oe,Q,this))}getSweepEvents(){const ke=[];for(let Ge=0,xe=this.segments.length;Ge<xe;Ge++){const Q=this.segments[Ge];ke.push(Q.leftSE),ke.push(Q.rightSE)}return ke}}class xr{constructor(ke,Ge){if(!Array.isArray(ke))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ir(ke[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let xe=1,Q=ke.length;xe<Q;xe++){const oe=new ir(ke[xe],this,!1);oe.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=oe.bbox.ll.x),oe.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=oe.bbox.ll.y),oe.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=oe.bbox.ur.x),oe.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=oe.bbox.ur.y),this.interiorRings.push(oe)}this.multiPoly=Ge}getSweepEvents(){const ke=this.exteriorRing.getSweepEvents();for(let Ge=0,xe=this.interiorRings.length;Ge<xe;Ge++){const Q=this.interiorRings[Ge].getSweepEvents();for(let oe=0,We=Q.length;oe<We;oe++)ke.push(Q[oe])}return ke}}class $r{constructor(ke,Ge){if(!Array.isArray(ke))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof ke[0][0][0]&&(ke=[ke])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let xe=0,Q=ke.length;xe<Q;xe++){const oe=new xr(ke[xe],this);oe.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=oe.bbox.ll.x),oe.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=oe.bbox.ll.y),oe.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=oe.bbox.ur.x),oe.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=oe.bbox.ur.y),this.polys.push(oe)}this.isSubject=Ge}getSweepEvents(){const ke=[];for(let Ge=0,xe=this.polys.length;Ge<xe;Ge++){const Q=this.polys[Ge].getSweepEvents();for(let oe=0,We=Q.length;oe<We;oe++)ke.push(Q[oe])}return ke}}class en{static factory(ke){const Ge=[];for(let xe=0,Q=ke.length;xe<Q;xe++){const oe=ke[xe];if(!oe.isInResult()||oe.ringOut)continue;let We=null,Mt=oe.leftSE,St=oe.rightSE;const kt=[Mt],dn=Mt.point,me=[];for(;We=Mt,Mt=St,kt.push(Mt),Mt.point!==dn;)for(;;){const ce=Mt.getAvailableLinkedEvents();if(0===ce.length){const Je=kt[0].point,gt=kt[kt.length-1].point;throw new Error(`Unable to complete output ring starting at [${Je.x}, ${Je.y}]. Last matching segment found ends at [${gt.x}, ${gt.y}].`)}if(1===ce.length){St=ce[0].otherSE;break}let Se=null;for(let Je=0,gt=me.length;Je<gt;Je++)if(me[Je].point===Mt.point){Se=Je;break}if(null!==Se){const Je=me.splice(Se)[0],gt=kt.splice(Je.index);gt.unshift(gt[0].otherSE),Ge.push(new en(gt.reverse()));continue}me.push({index:kt.length,point:Mt.point});const Me=Mt.getLeftmostComparator(We);St=ce.sort(Me)[0].otherSE;break}Ge.push(new en(kt))}return Ge}constructor(ke){this.events=ke;for(let Ge=0,xe=ke.length;Ge<xe;Ge++)ke[Ge].segment.ringOut=this;this.poly=null}getGeom(){let ke=this.events[0].point;const Ge=[ke];for(let kt=1,dn=this.events.length-1;kt<dn;kt++){const me=this.events[kt].point;0!==Ct(me,ke,this.events[kt+1].point)&&(Ge.push(me),ke=me)}if(1===Ge.length)return null;0===Ct(Ge[0],ke,Ge[1])&&Ge.shift(),Ge.push(Ge[0]);const oe=this.isExteriorRing()?1:-1,We=this.isExteriorRing()?0:Ge.length-1,Mt=this.isExteriorRing()?Ge.length:-1,St=[];for(let kt=We;kt!=Mt;kt+=oe)St.push([Ge[kt].x,Ge[kt].y]);return St}isExteriorRing(){if(void 0===this._isExteriorRing){const ke=this.enclosingRing();this._isExteriorRing=!ke||!ke.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let ke=this.events[0];for(let Q=1,oe=this.events.length;Q<oe;Q++){const We=this.events[Q];dr.compare(ke,We)>0&&(ke=We)}let Ge=ke.segment.prevInResult(),xe=Ge?Ge.prevInResult():null;for(;;){if(!Ge)return null;if(!xe)return Ge.ringOut;if(xe.ringOut!==Ge.ringOut)return xe.ringOut.enclosingRing()!==Ge.ringOut?Ge.ringOut:Ge.ringOut.enclosingRing();Ge=xe.prevInResult(),xe=Ge?Ge.prevInResult():null}}}class Wn{constructor(ke){this.exteriorRing=ke,ke.poly=this,this.interiorRings=[]}addInterior(ke){this.interiorRings.push(ke),ke.poly=this}getGeom(){const ke=[this.exteriorRing.getGeom()];if(null===ke[0])return null;for(let Ge=0,xe=this.interiorRings.length;Ge<xe;Ge++){const Q=this.interiorRings[Ge].getGeom();null!==Q&&ke.push(Q)}return ke}}class qt{constructor(ke){this.rings=ke,this.polys=this._composePolys(ke)}getGeom(){const ke=[];for(let Ge=0,xe=this.polys.length;Ge<xe;Ge++){const Q=this.polys[Ge].getGeom();null!==Q&&ke.push(Q)}return ke}_composePolys(ke){const Ge=[];for(let xe=0,Q=ke.length;xe<Q;xe++){const oe=ke[xe];if(!oe.poly)if(oe.isExteriorRing())Ge.push(new Wn(oe));else{const We=oe.enclosingRing();We.poly||Ge.push(new Wn(We)),We.poly.addInterior(oe)}}return Ge}}class rn{constructor(ke){let Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln.compare;this.queue=ke,this.tree=new H(Ge),this.segments=[]}process(ke){const Ge=ke.segment,xe=[];if(ke.consumedBy)return ke.isLeft?this.queue.remove(ke.otherSE):this.tree.remove(Ge),xe;const Q=ke.isLeft?this.tree.add(Ge):this.tree.find(Ge);if(!Q)throw new Error(`Unable to find segment #${Ge.id} [${Ge.leftSE.point.x}, ${Ge.leftSE.point.y}] -> [${Ge.rightSE.point.x}, ${Ge.rightSE.point.y}] in SweepLine tree.`);let Mt,St,oe=Q,We=Q;for(;void 0===Mt;)oe=this.tree.prev(oe),null===oe?Mt=null:void 0===oe.key.consumedBy&&(Mt=oe.key);for(;void 0===St;)We=this.tree.next(We),null===We?St=null:void 0===We.key.consumedBy&&(St=We.key);if(ke.isLeft){let kt=null;if(Mt){const me=Mt.getIntersection(Ge);if(null!==me&&(Ge.isAnEndpoint(me)||(kt=me),!Mt.isAnEndpoint(me))){const ce=this._splitSafely(Mt,me);for(let Se=0,Me=ce.length;Se<Me;Se++)xe.push(ce[Se])}}let dn=null;if(St){const me=St.getIntersection(Ge);if(null!==me&&(Ge.isAnEndpoint(me)||(dn=me),!St.isAnEndpoint(me))){const ce=this._splitSafely(St,me);for(let Se=0,Me=ce.length;Se<Me;Se++)xe.push(ce[Se])}}if(null!==kt||null!==dn){let me=null;me=null===kt?dn:null===dn||dr.comparePoints(kt,dn)<=0?kt:dn,this.queue.remove(Ge.rightSE),xe.push(Ge.rightSE);const ce=Ge.split(me);for(let Se=0,Me=ce.length;Se<Me;Se++)xe.push(ce[Se])}xe.length>0?(this.tree.remove(Ge),xe.push(ke)):(this.segments.push(Ge),Ge.prev=Mt)}else{if(Mt&&St){const kt=Mt.getIntersection(St);if(null!==kt){if(!Mt.isAnEndpoint(kt)){const dn=this._splitSafely(Mt,kt);for(let me=0,ce=dn.length;me<ce;me++)xe.push(dn[me])}if(!St.isAnEndpoint(kt)){const dn=this._splitSafely(St,kt);for(let me=0,ce=dn.length;me<ce;me++)xe.push(dn[me])}}}this.tree.remove(Ge)}return xe}_splitSafely(ke,Ge){this.tree.remove(ke);const xe=ke.rightSE;this.queue.remove(xe);const Q=ke.split(Ge);return Q.push(xe),void 0===ke.consumedBy&&this.tree.add(ke),Q}}const Fn=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,zr=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;const ai=new class Li{run(ke,Ge,xe){ai.type=ke,ee.reset();const Q=[new $r(Ge,!0)];for(let me=0,ce=xe.length;me<ce;me++)Q.push(new $r(xe[me],!1));if(ai.numMultiPolys=Q.length,"difference"===ai.type){const me=Q[0];let ce=1;for(;ce<Q.length;)null!==pe(Q[ce].bbox,me.bbox)?ce++:Q.splice(ce,1)}if("intersection"===ai.type)for(let me=0,ce=Q.length;me<ce;me++){const Se=Q[me];for(let Me=me+1,Je=Q.length;Me<Je;Me++)if(null===pe(Se.bbox,Q[Me].bbox))return[]}const oe=new H(dr.compare);for(let me=0,ce=Q.length;me<ce;me++){const Se=Q[me].getSweepEvents();for(let Me=0,Je=Se.length;Me<Je;Me++)if(oe.insert(Se[Me]),oe.size>Fn)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const We=new rn(oe);let Mt=oe.size,St=oe.pop();for(;St;){const me=St.key;if(oe.size===Mt){const Se=me.segment;throw new Error(`Unable to pop() ${me.isLeft?"left":"right"} SweepEvent [${me.point.x}, ${me.point.y}] from segment #${Se.id} [${Se.leftSE.point.x}, ${Se.leftSE.point.y}] -> [${Se.rightSE.point.x}, ${Se.rightSE.point.y}] from queue.`)}if(oe.size>Fn)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(We.segments.length>zr)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const ce=We.process(me);for(let Se=0,Me=ce.length;Se<Me;Se++){const Je=ce[Se];void 0===Je.consumedBy&&oe.insert(Je)}Mt=oe.size,St=oe.pop()}ee.reset();const kt=en.factory(We.segments);return new qt(kt).getGeom()}};var Dn={union:function(nn){for(var ke=arguments.length,Ge=new Array(ke>1?ke-1:0),xe=1;xe<ke;xe++)Ge[xe-1]=arguments[xe];return ai.run("union",nn,Ge)},intersection:function(nn){for(var ke=arguments.length,Ge=new Array(ke>1?ke-1:0),xe=1;xe<ke;xe++)Ge[xe-1]=arguments[xe];return ai.run("intersection",nn,Ge)},xor:function(nn){for(var ke=arguments.length,Ge=new Array(ke>1?ke-1:0),xe=1;xe<ke;xe++)Ge[xe-1]=arguments[xe];return ai.run("xor",nn,Ge)},difference:function(nn){for(var ke=arguments.length,Ge=new Array(ke>1?ke-1:0),xe=1;xe<ke;xe++)Ge[xe-1]=arguments[xe];return ai.run("difference",nn,Ge)}};return Dn}()},7861:(pt,Ze,X)=>{"use strict";pt.exports=E,pt.exports.default=E;var B=X(2136);function E(de,J){if(!(this instanceof E))return new E(de,J);this._maxEntries=Math.max(4,de||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),J&&this._initFormat(J),this.clear()}function z(de,J,te){if(!te)return J.indexOf(de);for(var be=0;be<J.length;be++)if(te(de,J[be]))return be;return-1}function p(de,J){O(de,0,de.children.length,J,de)}function O(de,J,te,be,ee){ee||(ee=pe(null)),ee.minX=1/0,ee.minY=1/0,ee.maxX=-1/0,ee.maxY=-1/0;for(var ne,ae=J;ae<te;ae++)ne=de.children[ae],R(ee,de.leaf?be(ne):ne);return ee}function R(de,J){return de.minX=Math.min(de.minX,J.minX),de.minY=Math.min(de.minY,J.minY),de.maxX=Math.max(de.maxX,J.maxX),de.maxY=Math.max(de.maxY,J.maxY),de}function H(de,J){return de.minX-J.minX}function G(de,J){return de.minY-J.minY}function ie(de){return(de.maxX-de.minX)*(de.maxY-de.minY)}function Ee(de){return de.maxX-de.minX+(de.maxY-de.minY)}function he(de,J){return(Math.max(J.maxX,de.maxX)-Math.min(J.minX,de.minX))*(Math.max(J.maxY,de.maxY)-Math.min(J.minY,de.minY))}function Pe(de,J){var te=Math.max(de.minX,J.minX),be=Math.max(de.minY,J.minY),ee=Math.min(de.maxX,J.maxX),ae=Math.min(de.maxY,J.maxY);return Math.max(0,ee-te)*Math.max(0,ae-be)}function Ie(de,J){return de.minX<=J.minX&&de.minY<=J.minY&&J.maxX<=de.maxX&&J.maxY<=de.maxY}function it(de,J){return J.minX<=de.maxX&&J.minY<=de.maxY&&J.maxX>=de.minX&&J.maxY>=de.minY}function pe(de){return{children:de,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ve(de,J,te,be,ee){for(var ne,ae=[J,te];ae.length;)!((te=ae.pop())-(J=ae.pop())<=be)&&(ne=J+Math.ceil((te-J)/be/2)*be,B(de,ne,J,te,ee),ae.push(J,ne,ne,te))}E.prototype={all:function(){return this._all(this.data,[])},search:function(de){var J=this.data,te=[],be=this.toBBox;if(!it(de,J))return te;for(var ae,ne,se,st,ee=[];J;){for(ae=0,ne=J.children.length;ae<ne;ae++)se=J.children[ae],it(de,st=J.leaf?be(se):se)&&(J.leaf?te.push(se):Ie(de,st)?this._all(se,te):ee.push(se));J=ee.pop()}return te},collides:function(de){var J=this.data,te=this.toBBox;if(!it(de,J))return!1;for(var ee,ae,ne,se,be=[];J;){for(ee=0,ae=J.children.length;ee<ae;ee++)if(ne=J.children[ee],it(de,se=J.leaf?te(ne):ne)){if(J.leaf||Ie(de,se))return!0;be.push(ne)}J=be.pop()}return!1},load:function(de){if(!de||!de.length)return this;if(de.length<this._minEntries){for(var J=0,te=de.length;J<te;J++)this.insert(de[J]);return this}var be=this._build(de.slice(),0,de.length-1,0);if(this.data.children.length)if(this.data.height===be.height)this._splitRoot(this.data,be);else{if(this.data.height<be.height){var ee=this.data;this.data=be,be=ee}this._insert(be,this.data.height-be.height-1,!0)}else this.data=be;return this},insert:function(de){return de&&this._insert(de,this.data.height-1),this},clear:function(){return this.data=pe([]),this},remove:function(de,J){if(!de)return this;for(var ne,se,st,$e,te=this.data,be=this.toBBox(de),ee=[],ae=[];te||ee.length;){if(te||(te=ee.pop(),se=ee[ee.length-1],ne=ae.pop(),$e=!0),te.leaf&&-1!==(st=z(de,te.children,J)))return te.children.splice(st,1),ee.push(te),this._condense(ee),this;$e||te.leaf||!Ie(te,be)?se?(ne++,te=se.children[ne],$e=!1):te=null:(ee.push(te),ae.push(ne),ne=0,se=te,te=te.children[0])}return this},toBBox:function(de){return de},compareMinX:H,compareMinY:G,toJSON:function(){return this.data},fromJSON:function(de){return this.data=de,this},_all:function(de,J){for(var te=[];de;)de.leaf?J.push.apply(J,de.children):te.push.apply(te,de.children),de=te.pop();return J},_build:function(de,J,te,be){var ne,ee=te-J+1,ae=this._maxEntries;if(ee<=ae)return p(ne=pe(de.slice(J,te+1)),this.toBBox),ne;be||(be=Math.ceil(Math.log(ee)/Math.log(ae)),ae=Math.ceil(ee/Math.pow(ae,be-1))),(ne=pe([])).leaf=!1,ne.height=be;var $e,rt,Te,ht,se=Math.ceil(ee/ae),st=se*Math.ceil(Math.sqrt(ae));for(ve(de,J,te,st,this.compareMinX),$e=J;$e<=te;$e+=st)for(ve(de,$e,Te=Math.min($e+st-1,te),se,this.compareMinY),rt=$e;rt<=Te;rt+=se)ht=Math.min(rt+se-1,Te),ne.children.push(this._build(de,rt,ht,be-1));return p(ne,this.toBBox),ne},_chooseSubtree:function(de,J,te,be){for(var ee,ae,ne,se,st,$e,rt,Te;be.push(J),!J.leaf&&be.length-1!==te;){for(rt=Te=1/0,ee=0,ae=J.children.length;ee<ae;ee++)st=ie(ne=J.children[ee]),($e=he(de,ne)-st)<Te?(Te=$e,rt=st<rt?st:rt,se=ne):$e===Te&&st<rt&&(rt=st,se=ne);J=se||J.children[0]}return J},_insert:function(de,J,te){var ee=te?de:(0,this.toBBox)(de),ae=[],ne=this._chooseSubtree(ee,this.data,J,ae);for(ne.children.push(de),R(ne,ee);J>=0&&ae[J].children.length>this._maxEntries;)this._split(ae,J),J--;this._adjustParentBBoxes(ee,ae,J)},_split:function(de,J){var te=de[J],be=te.children.length,ee=this._minEntries;this._chooseSplitAxis(te,ee,be);var ae=this._chooseSplitIndex(te,ee,be),ne=pe(te.children.splice(ae,te.children.length-ae));ne.height=te.height,ne.leaf=te.leaf,p(te,this.toBBox),p(ne,this.toBBox),J?de[J-1].children.push(ne):this._splitRoot(te,ne)},_splitRoot:function(de,J){this.data=pe([de,J]),this.data.height=de.height+1,this.data.leaf=!1,p(this.data,this.toBBox)},_chooseSplitIndex:function(de,J,te){var be,ee,ae,ne,se,st,$e,rt;for(st=$e=1/0,be=J;be<=te-J;be++)ne=Pe(ee=O(de,0,be,this.toBBox),ae=O(de,be,te,this.toBBox)),se=ie(ee)+ie(ae),ne<st?(st=ne,rt=be,$e=se<$e?se:$e):ne===st&&se<$e&&($e=se,rt=be);return rt},_chooseSplitAxis:function(de,J,te){var be=de.leaf?this.compareMinX:H,ee=de.leaf?this.compareMinY:G;this._allDistMargin(de,J,te,be)<this._allDistMargin(de,J,te,ee)&&de.children.sort(be)},_allDistMargin:function(de,J,te,be){de.children.sort(be);var st,$e,ee=this.toBBox,ae=O(de,0,J,ee),ne=O(de,te-J,te,ee),se=Ee(ae)+Ee(ne);for(st=J;st<te-J;st++)$e=de.children[st],R(ae,de.leaf?ee($e):$e),se+=Ee(ae);for(st=te-J-1;st>=J;st--)$e=de.children[st],R(ne,de.leaf?ee($e):$e),se+=Ee(ne);return se},_adjustParentBBoxes:function(de,J,te){for(var be=te;be>=0;be--)R(J[be],de)},_condense:function(de){for(var te,J=de.length-1;J>=0;J--)0===de[J].children.length?J>0?(te=de[J-1].children).splice(te.indexOf(de[J]),1):this.clear():p(de[J],this.toBBox)},_initFormat:function(de){var J=["return a"," - b",";"];this.compareMinX=new Function("a","b",J.join(de[0])),this.compareMinY=new Function("a","b",J.join(de[1])),this.toBBox=new Function("a","return {minX: a"+de[0]+", minY: a"+de[1]+", maxX: a"+de[2]+", maxY: a"+de[3]+"};")}}},2136:function(pt){pt.exports=function(){"use strict";function X(z,p,O,R,H){for(;R>O;){if(R-O>600){var G=R-O+1,ie=p-O+1,Ee=Math.log(G),he=.5*Math.exp(2*Ee/3),Pe=.5*Math.sqrt(Ee*he*(G-he)/G)*(ie-G/2<0?-1:1);X(z,p,Math.max(O,Math.floor(p-ie*he/G+Pe)),Math.min(R,Math.floor(p+(G-ie)*he/G+Pe)),H)}var pe=z[p],ve=O,de=R;for(B(z,O,p),H(z[R],pe)>0&&B(z,O,R);ve<de;){for(B(z,ve,de),ve++,de--;H(z[ve],pe)<0;)ve++;for(;H(z[de],pe)>0;)de--}0===H(z[O],pe)?B(z,O,de):B(z,++de,R),de<=p&&(O=de+1),p<=de&&(R=de-1)}}function B(z,p,O){var R=z[p];z[p]=z[O],z[O]=R}function E(z,p){return z<p?-1:z>p?1:0}return function Ze(z,p,O,R,H){X(z,p,O||0,R||z.length-1,H||E)}}()},3817:(pt,Ze,X)=>{"use strict";var B=X(9789),E=X(5223),z=Object;pt.exports=B(function(){if(null==this||this!==z(this))throw new E("RegExp.prototype.flags getter called on non-object");var O="";return this.hasIndices&&(O+="d"),this.global&&(O+="g"),this.ignoreCase&&(O+="i"),this.multiline&&(O+="m"),this.dotAll&&(O+="s"),this.unicode&&(O+="u"),this.unicodeSets&&(O+="v"),this.sticky&&(O+="y"),O},"get flags",!0)},1139:(pt,Ze,X)=>{"use strict";var B=X(1648),E=X(5436),z=X(3817),p=X(4861),O=X(6002),R=E(p());B(R,{getPolyfill:p,implementation:z,shim:O}),pt.exports=R},4861:(pt,Ze,X)=>{"use strict";var B=X(3817),E=X(1648).supportsDescriptors,z=Object.getOwnPropertyDescriptor;pt.exports=function(){if(E&&"gim"===/a/gim.flags){var O=z(RegExp.prototype,"flags");if(O&&"function"==typeof O.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var R="",H={};if(Object.defineProperty(H,"hasIndices",{get:function(){R+="d"}}),Object.defineProperty(H,"sticky",{get:function(){R+="y"}}),"dy"===R)return O.get}}return B}},6002:(pt,Ze,X)=>{"use strict";var B=X(1648).supportsDescriptors,E=X(4861),z=Object.getOwnPropertyDescriptor,p=Object.defineProperty,O=TypeError,R=Object.getPrototypeOf,H=/a/;pt.exports=function(){if(!B||!R)throw new O("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ie=E(),Ee=R(H),he=z(Ee,"flags");return(!he||he.get!==ie)&&p(Ee,"flags",{configurable:!0,enumerable:!1,get:ie}),ie}},6138:function(pt,Ze){!function(X){"use strict";function z(Ie,it,pe,ve,de){let J,te,be,ee,ae=it[0],ne=ve[0],se=0,st=0;ne>ae==ne>-ae?(J=ae,ae=it[++se]):(J=ne,ne=ve[++st]);let $e=0;if(se<Ie&&st<pe)for(ne>ae==ne>-ae?(be=J-((te=ae+J)-ae),ae=it[++se]):(be=J-((te=ne+J)-ne),ne=ve[++st]),J=te,0!==be&&(de[$e++]=be);se<Ie&&st<pe;)ne>ae==ne>-ae?(be=J-((te=J+ae)-(ee=te-J))+(ae-ee),ae=it[++se]):(be=J-((te=J+ne)-(ee=te-J))+(ne-ee),ne=ve[++st]),J=te,0!==be&&(de[$e++]=be);for(;se<Ie;)be=J-((te=J+ae)-(ee=te-J))+(ae-ee),ae=it[++se],J=te,0!==be&&(de[$e++]=be);for(;st<pe;)be=J-((te=J+ne)-(ee=te-J))+(ne-ee),ne=ve[++st],J=te,0!==be&&(de[$e++]=be);return 0===J&&0!==$e||(de[$e++]=J),$e}function p(Ie){return new Float64Array(Ie)}const G=p(4),ie=p(8),Ee=p(12),he=p(16),Pe=p(4);X.orient2d=function(Ie,it,pe,ve,de,J){const te=(it-J)*(pe-de),be=(Ie-de)*(ve-J),ee=te-be;if(0===te||0===be||te>0!=be>0)return ee;const ae=Math.abs(te+be);return Math.abs(ee)>=33306690738754716e-32*ae?ee:-function(ne,se,st,$e,rt,Te,ht){let tt,He,_t,et,Xe,De,le,ze,Ve,Yt,Ct,bn,fn,kn,un,Xn,Rn,dr;const Xr=ne-rt,Ln=st-rt,ir=se-Te,xr=$e-Te;Xe=(un=(ze=Xr-(le=(De=134217729*Xr)-(De-Xr)))*(Yt=xr-(Ve=(De=134217729*xr)-(De-xr)))-((kn=Xr*xr)-le*Ve-ze*Ve-le*Yt))-(Ct=un-(Rn=(ze=ir-(le=(De=134217729*ir)-(De-ir)))*(Yt=Ln-(Ve=(De=134217729*Ln)-(De-Ln)))-((Xn=ir*Ln)-le*Ve-ze*Ve-le*Yt))),G[0]=un-(Ct+Xe)+(Xe-Rn),Xe=(fn=kn-((bn=kn+Ct)-(Xe=bn-kn))+(Ct-Xe))-(Ct=fn-Xn),G[1]=fn-(Ct+Xe)+(Xe-Xn),Xe=(dr=bn+Ct)-bn,G[2]=bn-(dr-Xe)+(Ct-Xe),G[3]=dr;let $r=function(Fn,zr){let Li=zr[0];for(let ai=1;ai<4;ai++)Li+=zr[ai];return Li}(0,G),en=22204460492503146e-32*ht;if($r>=en||-$r>=en||(tt=ne-(Xr+(Xe=ne-Xr))+(Xe-rt),_t=st-(Ln+(Xe=st-Ln))+(Xe-rt),He=se-(ir+(Xe=se-ir))+(Xe-Te),et=$e-(xr+(Xe=$e-xr))+(Xe-Te),0===tt&&0===He&&0===_t&&0===et)||(en=11093356479670487e-47*ht+33306690738754706e-32*Math.abs($r),($r+=Xr*et+xr*tt-(ir*_t+Ln*He))>=en||-$r>=en))return $r;Xe=(un=(ze=tt-(le=(De=134217729*tt)-(De-tt)))*(Yt=xr-(Ve=(De=134217729*xr)-(De-xr)))-((kn=tt*xr)-le*Ve-ze*Ve-le*Yt))-(Ct=un-(Rn=(ze=He-(le=(De=134217729*He)-(De-He)))*(Yt=Ln-(Ve=(De=134217729*Ln)-(De-Ln)))-((Xn=He*Ln)-le*Ve-ze*Ve-le*Yt))),Pe[0]=un-(Ct+Xe)+(Xe-Rn),Xe=(fn=kn-((bn=kn+Ct)-(Xe=bn-kn))+(Ct-Xe))-(Ct=fn-Xn),Pe[1]=fn-(Ct+Xe)+(Xe-Xn),Xe=(dr=bn+Ct)-bn,Pe[2]=bn-(dr-Xe)+(Ct-Xe),Pe[3]=dr;const Wn=z(4,G,4,Pe,ie);Xe=(un=(ze=Xr-(le=(De=134217729*Xr)-(De-Xr)))*(Yt=et-(Ve=(De=134217729*et)-(De-et)))-((kn=Xr*et)-le*Ve-ze*Ve-le*Yt))-(Ct=un-(Rn=(ze=ir-(le=(De=134217729*ir)-(De-ir)))*(Yt=_t-(Ve=(De=134217729*_t)-(De-_t)))-((Xn=ir*_t)-le*Ve-ze*Ve-le*Yt))),Pe[0]=un-(Ct+Xe)+(Xe-Rn),Xe=(fn=kn-((bn=kn+Ct)-(Xe=bn-kn))+(Ct-Xe))-(Ct=fn-Xn),Pe[1]=fn-(Ct+Xe)+(Xe-Xn),Xe=(dr=bn+Ct)-bn,Pe[2]=bn-(dr-Xe)+(Ct-Xe),Pe[3]=dr;const qt=z(Wn,ie,4,Pe,Ee);Xe=(un=(ze=tt-(le=(De=134217729*tt)-(De-tt)))*(Yt=et-(Ve=(De=134217729*et)-(De-et)))-((kn=tt*et)-le*Ve-ze*Ve-le*Yt))-(Ct=un-(Rn=(ze=He-(le=(De=134217729*He)-(De-He)))*(Yt=_t-(Ve=(De=134217729*_t)-(De-_t)))-((Xn=He*_t)-le*Ve-ze*Ve-le*Yt))),Pe[0]=un-(Ct+Xe)+(Xe-Rn),Xe=(fn=kn-((bn=kn+Ct)-(Xe=bn-kn))+(Ct-Xe))-(Ct=fn-Xn),Pe[1]=fn-(Ct+Xe)+(Xe-Xn),Xe=(dr=bn+Ct)-bn,Pe[2]=bn-(dr-Xe)+(Ct-Xe),Pe[3]=dr;const rn=z(qt,Ee,4,Pe,he);return he[rn-1]}(Ie,it,pe,ve,de,J,ae)},X.orient2dfast=function(Ie,it,pe,ve,de,J){return(it-J)*(pe-de)-(Ie-de)*(ve-J)},Object.defineProperty(X,"__esModule",{value:!0})}(Ze)},2245:(pt,Ze,X)=>{"use strict";var B=X(491),E=X(9224),z=X(2486)(),p=X(9262),O=X(5223),R=B("%Math.floor%");pt.exports=function(G,ie){if("function"!=typeof G)throw new O("`fn` is not a function");if("number"!=typeof ie||ie<0||ie>4294967295||R(ie)!==ie)throw new O("`length` must be a positive 32-bit integer");var Ee=arguments.length>2&&!!arguments[2],he=!0,Pe=!0;if("length"in G&&p){var Ie=p(G,"length");Ie&&!Ie.configurable&&(he=!1),Ie&&!Ie.writable&&(Pe=!1)}return(he||Pe||!Ee)&&(z?E(G,"length",ie,!0,!0):E(G,"length",ie)),G}},9789:(pt,Ze,X)=>{"use strict";var B=X(9224),E=X(2486)(),z=X(1552).functionsHaveConfigurableNames(),p=X(5223);pt.exports=function(R,H){if("function"!=typeof R)throw new p("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||z)&&(E?B(R,"name",H,!0,!0):B(R,"name",H)),R}},9579:pt=>{"use strict";pt.exports={eudist:function(X,B,E){for(var z=X.length,p=0,O=0;O<z;O++){var R=(X[O]||0)-(B[O]||0);p+=R*R}return E?Math.sqrt(p):p},mandist:function(X,B,E){for(var z=X.length,p=0,O=0;O<z;O++)p+=Math.abs((X[O]||0)-(B[O]||0));return E?Math.sqrt(p):p},dist:function(X,B,E){var z=Math.abs(X-B);return E?z:z*z}}},7180:(pt,Ze,X)=>{"use strict";var B=X(9579),E=B.eudist,z=B.dist;pt.exports={kmrand:function(O,R){for(var H={},G=[],ie=R<<2,Ee=O.length,he=O[0].length>0;G.length<R&&ie-- >0;){var Pe=O[Math.floor(Math.random()*Ee)],Ie=he?Pe.join("_"):""+Pe;H[Ie]||(H[Ie]=!0,G.push(Pe))}if(G.length<R)throw new Error("Error initializating clusters");return G},kmpp:function(O,R){var H=O[0].length?E:z,G=[],ie=O.length,Ee=O[0].length>0,Pe=O[Math.floor(Math.random()*ie)];for(Ee&&Pe.join("_"),G.push(Pe);G.length<R;){for(var it=[],pe=G.length,ve=0,de=[],J=0;J<ie;J++){for(var te=1/0,be=0;be<pe;be++){var ee=H(O[J],G[be]);ee<=te&&(te=ee)}it[J]=te}for(var ae=0;ae<ie;ae++)ve+=it[ae];for(var ne=0;ne<ie;ne++)de[ne]={i:ne,v:O[ne],pr:it[ne]/ve,cs:0};de.sort(function(rt,Te){return rt.pr-Te.pr}),de[0].cs=de[0].pr;for(var se=1;se<ie;se++)de[se].cs=de[se-1].cs+de[se].pr;for(var st=Math.random(),$e=0;$e<ie-1&&de[$e++].cs<st;);G.push(de[$e-1].v)}return G}}},3282:(pt,Ze,X)=>{"use strict";var B=X(9579),E=X(7180),z=B.eudist,R=E.kmrand,H=E.kmpp;function ie(he,Pe,Ie){Ie=Ie||[];for(var it=0;it<he;it++)Ie[it]=Pe;return Ie}pt.exports=function Ee(he,Pe,Ie,it){var pe=[],ve=[],de=[],J=[],te=!1,be=it||1e4,ee=he.length,ae=he[0].length,ne=ae>0,se=[];if(Ie)pe="kmrand"==Ie?R(he,Pe):"kmpp"==Ie?H(he,Pe):Ie;else for(var st={};pe.length<Pe;){var $e=Math.floor(Math.random()*ee);st[$e]||(st[$e]=!0,pe.push(he[$e]))}do{ie(Pe,0,se);for(var rt=0;rt<ee;rt++){for(var Te=1/0,ht=0,tt=0;tt<Pe;tt++)(J=ne?z(he[rt],pe[tt]):Math.abs(he[rt]-pe[tt]))<=Te&&(Te=J,ht=tt);de[rt]=ht,se[ht]++}for(var He=[],et=(ve=[],0);et<Pe;et++)He[et]=ne?ie(ae,0,He[et]):0,ve[et]=pe[et];if(ne){for(var Xe=0;Xe<Pe;Xe++)pe[Xe]=[];for(var De=0;De<ee;De++)for(var ze=He[de[De]],Ve=he[De],Yt=0;Yt<ae;Yt++)ze[Yt]+=Ve[Yt];te=!0;for(var Ct=0;Ct<Pe;Ct++){for(var bn=pe[Ct],fn=He[Ct],kn=ve[Ct],un=se[Ct],Xn=0;Xn<ae;Xn++)bn[Xn]=fn[Xn]/un||0;if(te)for(var Rn=0;Rn<ae;Rn++)if(kn[Rn]!=bn[Rn]){te=!1;break}}}else{for(var dr=0;dr<ee;dr++)He[de[dr]]+=he[dr];for(var Ln=0;Ln<Pe;Ln++)pe[Ln]=He[Ln]/se[Ln]||0;te=!0;for(var ir=0;ir<Pe;ir++)if(ve[ir]!=pe[ir]){te=!1;break}}te=te||--be<=0}while(!te);return{it:1e4-be,k:Pe,idxs:de,centroids:pe}}},6626:pt=>{const Ze=/^[-+]?0x[a-fA-F0-9]+$/,X=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const B={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};pt.exports=function E(p,O={}){if(O=Object.assign({},B,O),!p||"string"!=typeof p)return p;let R=p.trim();if(void 0!==O.skipLike&&O.skipLike.test(R))return p;if(O.hex&&Ze.test(R))return Number.parseInt(R,16);{const H=X.exec(R);if(H){const G=H[1],ie=H[2];let Ee=function z(p){return p&&-1!==p.indexOf(".")&&("."===(p=p.replace(/0+$/,""))?p="0":"."===p[0]?p="0"+p:"."===p[p.length-1]&&(p=p.substr(0,p.length-1))),p}(H[3]);const he=H[4]||H[6];if(!O.leadingZeros&&ie.length>0&&G&&"."!==R[2])return p;if(!O.leadingZeros&&ie.length>0&&!G&&"."!==R[1])return p;{const Pe=Number(R),Ie=""+Pe;return-1!==Ie.search(/[eE]/)||he?O.eNotation?Pe:p:-1!==R.indexOf(".")?"0"===Ie&&""===Ee||Ie===Ee||G&&Ie==="-"+Ee?Pe:p:ie?Ee===Ie||G+Ee===Ie?Pe:p:R===Ie||R===G+Ie?Pe:p}}return p}}},7935:(pt,Ze,X)=>{"use strict";X.r(Ze),X.d(Ze,{default:()=>B});class B{constructor(p=[],O=E){if(this.data=p,this.length=this.data.length,this.compare=O,this.length>0)for(let R=(this.length>>1)-1;R>=0;R--)this._down(R)}push(p){this.data.push(p),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const p=this.data[0],O=this.data.pop();return this.length--,this.length>0&&(this.data[0]=O,this._down(0)),p}peek(){return this.data[0]}_up(p){const{data:O,compare:R}=this,H=O[p];for(;p>0;){const G=p-1>>1,ie=O[G];if(R(H,ie)>=0)break;O[p]=ie,p=G}O[p]=H}_down(p){const{data:O,compare:R}=this,H=this.length>>1,G=O[p];for(;p<H;){let ie=1+(p<<1),Ee=O[ie];const he=ie+1;if(he<this.length&&R(O[he],Ee)<0&&(ie=he,Ee=O[he]),R(Ee,G)>=0)break;O[p]=Ee,p=ie}O[p]=G}}function E(z,p){return z<p?-1:z>p?1:0}},4855:function(pt,Ze){!function(X){"use strict";function B(){}function E(l){this.message=l||""}function z(l){this.message=l||""}function p(l){this.message=l||""}function O(){}function R(l){return null===l?En:l.color}function H(l){return null===l?null:l.parent}function G(l,c){null!==l&&(l.color=c)}function ie(l){return null===l?null:l.left}function Ee(l){return null===l?null:l.right}function he(){this.root_=null,this.size_=0}function Pe(){}function Ie(){this.array_=[],arguments[0]instanceof St&&this.addAll(arguments[0])}function it(){}function pe(l){this.message=l||""}function ve(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(l){if(null==this)throw new TypeError(this+" is not an object");var c=Object(this),_=Math.max(Math.min(c.length,9007199254740991),0)||0,w=1 in arguments&&parseInt(Number(arguments[1]),10)||0;w=w<0?Math.max(_+w,0):Math.min(w,_);var I=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:_;for(I=I<0?Math.max(_+arguments[2],0):Math.min(I,_);w<I;)c[w]=l,++w;return c},writable:!0}),Number.isFinite=Number.isFinite||function(l){return"number"==typeof l&&isFinite(l)},Number.isInteger=Number.isInteger||function(l){return"number"==typeof l&&isFinite(l)&&Math.floor(l)===l},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(l){return l!=l},Math.trunc=Math.trunc||function(l){return l<0?Math.ceil(l):Math.floor(l)};var de=function(){};de.prototype.interfaces_=function(){return[]},de.prototype.getClass=function(){return de},de.prototype.equalsWithTolerance=function(l,c,_){return Math.abs(l-c)<=_};var J=function(l){function c(_){l.call(this,_),this.name="IllegalArgumentException",this.message=_,this.stack=(new l).stack}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c}(Error),te=function(){},be={MAX_VALUE:{configurable:!0}};te.isNaN=function(l){return Number.isNaN(l)},te.doubleToLongBits=function(l){return l},te.longBitsToDouble=function(l){return l},te.isInfinite=function(l){return!Number.isFinite(l)},be.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(te,be);var ee=function(){},ae=function(){},ne=function(){},se=function l(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=l.NULL_ORDINATE;else if(1===arguments.length){var c=arguments[0];this.x=c.x,this.y=c.y,this.z=c.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=l.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},st={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};se.prototype.setOrdinate=function(l,c){switch(l){case se.X:this.x=c;break;case se.Y:this.y=c;break;case se.Z:this.z=c;break;default:throw new J("Invalid ordinate index: "+l)}},se.prototype.equals2D=function(){if(1===arguments.length){var l=arguments[0];return this.x===l.x&&this.y===l.y}if(2===arguments.length){var c=arguments[0],_=arguments[1];return!!de.equalsWithTolerance(this.x,c.x,_)&&!!de.equalsWithTolerance(this.y,c.y,_)}},se.prototype.getOrdinate=function(l){switch(l){case se.X:return this.x;case se.Y:return this.y;case se.Z:return this.z}throw new J("Invalid ordinate index: "+l)},se.prototype.equals3D=function(l){return this.x===l.x&&this.y===l.y&&(this.z===l.z||te.isNaN(this.z))&&te.isNaN(l.z)},se.prototype.equals=function(l){return l instanceof se&&this.equals2D(l)},se.prototype.equalInZ=function(l,c){return de.equalsWithTolerance(this.z,l.z,c)},se.prototype.compareTo=function(l){return this.x<l.x?-1:this.x>l.x?1:this.y<l.y?-1:this.y>l.y?1:0},se.prototype.clone=function(){},se.prototype.copy=function(){return new se(this)},se.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},se.prototype.distance3D=function(l){var c=this.x-l.x,_=this.y-l.y,w=this.z-l.z;return Math.sqrt(c*c+_*_+w*w)},se.prototype.distance=function(l){var c=this.x-l.x,_=this.y-l.y;return Math.sqrt(c*c+_*_)},se.prototype.hashCode=function(){var l=17;return 37*(l=37*l+se.hashCode(this.x))+se.hashCode(this.y)},se.prototype.setCoordinate=function(l){this.x=l.x,this.y=l.y,this.z=l.z},se.prototype.interfaces_=function(){return[ee,ae,B]},se.prototype.getClass=function(){return se},se.hashCode=function(){if(1===arguments.length){var c=te.doubleToLongBits(arguments[0]);return Math.trunc((c^c)>>>32)}},st.DimensionalComparator.get=function(){return $e},st.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},st.NULL_ORDINATE.get=function(){return te.NaN},st.X.get=function(){return 0},st.Y.get=function(){return 1},st.Z.get=function(){return 2},Object.defineProperties(se,st);var $e=function(l){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var c=arguments[0];if(2!==c&&3!==c)throw new J("only 2 or 3 dimensions may be specified");this._dimensionsToTest=c}};$e.prototype.compare=function(l,c){var _=l,w=c,I=$e.compare(_.x,w.x);if(0!==I)return I;var W=$e.compare(_.y,w.y);return 0!==W?W:this._dimensionsToTest<=2?0:$e.compare(_.z,w.z)},$e.prototype.interfaces_=function(){return[ne]},$e.prototype.getClass=function(){return $e},$e.compare=function(l,c){return l<c?-1:l>c?1:te.isNaN(l)?te.isNaN(c)?0:-1:te.isNaN(c)?1:0};var rt=function(){};rt.prototype.create=function(){},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt};var Te=function(){},ht={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Te.prototype.interfaces_=function(){return[]},Te.prototype.getClass=function(){return Te},Te.toLocationSymbol=function(l){switch(l){case Te.EXTERIOR:return"e";case Te.BOUNDARY:return"b";case Te.INTERIOR:return"i";case Te.NONE:return"-"}throw new J("Unknown location value: "+l)},ht.INTERIOR.get=function(){return 0},ht.BOUNDARY.get=function(){return 1},ht.EXTERIOR.get=function(){return 2},ht.NONE.get=function(){return-1},Object.defineProperties(Te,ht);var tt=function(l,c){return l.interfaces_&&l.interfaces_().indexOf(c)>-1},He=function(){},_t={LOG_10:{configurable:!0}};He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},He.log10=function(l){var c=Math.log(l);return te.isInfinite(c)||te.isNaN(c)?c:c/He.LOG_10},He.min=function(l,c,_,w){var I=l;return c<I&&(I=c),_<I&&(I=_),w<I&&(I=w),I},He.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var l=arguments[0],c=arguments[1],_=arguments[2];return l<c?c:l>_?_:l}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var w=arguments[0],I=arguments[1],W=arguments[2];return w<I?I:w>W?W:w}},He.wrap=function(l,c){return l<0?c- -l%c:l%c},He.max=function(){if(3===arguments.length){var c=arguments[1],_=arguments[2],w=arguments[0];return c>w&&(w=c),_>w&&(w=_),w}if(4===arguments.length){var W=arguments[1],re=arguments[2],x=arguments[3],o=arguments[0];return W>o&&(o=W),re>o&&(o=re),x>o&&(o=x),o}},He.average=function(l,c){return(l+c)/2},_t.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(He,_t);var et=function(l){this.str=l};et.prototype.append=function(l){this.str+=l},et.prototype.setCharAt=function(l,c){this.str=this.str.substr(0,l)+c+this.str.substr(l+1)},et.prototype.toString=function(l){return this.str};var Xe=function(l){this.value=l};Xe.prototype.intValue=function(){return this.value},Xe.prototype.compareTo=function(l){return this.value<l?-1:this.value>l?1:0},Xe.isNaN=function(l){return Number.isNaN(l)};var De=function(){};De.isWhitespace=function(l){return l<=32&&l>=0||127===l},De.toUpperCase=function(l){return l.toUpperCase()};var le=function l(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof l?this.init(arguments[0]):"string"==typeof arguments[0]&&l.call(this,l.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},ze={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};le.prototype.le=function(l){return(this._hi<l._hi||this._hi===l._hi)&&this._lo<=l._lo},le.prototype.extractSignificantDigits=function(l,c){var _=this.abs(),w=le.magnitude(_._hi),I=le.TEN.pow(w);(_=_.divide(I)).gt(le.TEN)?(_=_.divide(le.TEN),w+=1):_.lt(le.ONE)&&(_=_.multiply(le.TEN),w-=1);for(var W=w+1,re=new et,x=le.MAX_PRINT_DIGITS-1,o=0;o<=x;o++){l&&o===W&&re.append(".");var g=Math.trunc(_._hi);if(g<0)break;var M=!1,S=0;g>9?(M=!0,S="9"):S="0"+g,re.append(S),_=_.subtract(le.valueOf(g)).multiply(le.TEN),M&&_.selfAdd(le.TEN);var A=!0,Y=le.magnitude(_._hi);if(Y<0&&Math.abs(Y)>=x-o&&(A=!1),!A)break}return c[0]=w,re.toString()},le.prototype.sqr=function(){return this.multiply(this)},le.prototype.doubleValue=function(){return this._hi+this._lo},le.prototype.subtract=function(){return arguments[0]instanceof le?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},le.prototype.equals=function(){if(1===arguments.length){var l=arguments[0];return this._hi===l._hi&&this._lo===l._lo}},le.prototype.isZero=function(){return 0===this._hi&&0===this._lo},le.prototype.selfSubtract=function(){if(arguments[0]instanceof le){var l=arguments[0];return this.isNaN()?this:this.selfAdd(-l._hi,-l._lo)}if("number"==typeof arguments[0]){var c=arguments[0];return this.isNaN()?this:this.selfAdd(-c,0)}},le.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},le.prototype.min=function(l){return this.le(l)?this:l},le.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof le){var l=arguments[0];return this.selfDivide(l._hi,l._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var W,x,o,M,_=arguments[0],I=null,re=null,g=null,S=null;return this._hi=S=(o=this._hi/_)+(g=(this._hi-(M=o*_)-(S=(I=(g=le.SPLIT*o)-(I=g-o))*(re=(S=le.SPLIT*_)-(re=S-_))-M+I*(x=_-re)+(W=o-I)*re+W*x)+this._lo-o*arguments[1])/_),this._lo=o-S+g,this}},le.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},le.prototype.divide=function(){if(arguments[0]instanceof le){var _,I,W,x,l=arguments[0],c=null,w=null,re=null,o=null;return _=(W=this._hi/l._hi)-(c=(re=le.SPLIT*W)-(c=re-W)),o=c*(w=(o=le.SPLIT*l._hi)-(w=o-l._hi))-(x=W*l._hi)+c*(I=l._hi-w)+_*w+_*I,new le(o=W+(re=(this._hi-x-o+this._lo-W*l._lo)/l._hi),W-o+re)}if("number"==typeof arguments[0]){var g=arguments[0];return te.isNaN(g)?le.createNaN():le.copy(this).selfDivide(g,0)}},le.prototype.ge=function(l){return(this._hi>l._hi||this._hi===l._hi)&&this._lo>=l._lo},le.prototype.pow=function(l){if(0===l)return le.valueOf(1);var c=new le(this),_=le.valueOf(1),w=Math.abs(l);if(w>1)for(;w>0;)w%2==1&&_.selfMultiply(c),(w/=2)>0&&(c=c.sqr());else _=c;return l<0?_.reciprocal():_},le.prototype.ceil=function(){if(this.isNaN())return le.NaN;var l=Math.ceil(this._hi),c=0;return l===this._hi&&(c=Math.ceil(this._lo)),new le(l,c)},le.prototype.compareTo=function(l){return this._hi<l._hi?-1:this._hi>l._hi?1:this._lo<l._lo?-1:this._lo>l._lo?1:0},le.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},le.prototype.setValue=function(){return arguments[0]instanceof le||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},le.prototype.max=function(l){return this.ge(l)?this:l},le.prototype.sqrt=function(){if(this.isZero())return le.valueOf(0);if(this.isNegative())return le.NaN;var l=1/Math.sqrt(this._hi),_=le.valueOf(this._hi*l),w=this.subtract(_.sqr())._hi*(.5*l);return _.add(w)},le.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof le){var l=arguments[0];return this.selfAdd(l._hi,l._lo)}if("number"==typeof arguments[0]){var _,w,I,re,x,c=arguments[0];return this._hi=(_=(I=this._hi+c)+(x=c-(re=I-this._hi)+(this._hi-(I-re))+this._lo))+(w=x+(I-_)),this._lo=w+(_-this._hi),this}}else if(2===arguments.length){var M,S,Y,ge,o=arguments[0],g=arguments[1],A=null,U=null,K=null;U=(Y=this._hi+o)-(K=Y-this._hi),A=(S=this._lo+g)-(ge=S-this._lo);var Ce=(M=Y+(K=(U=o-K+(this._hi-U))+S))+(K=(A=g-ge+(this._lo-A))+(K+(Y-M))),Ne=K+(M-Ce);return this._hi=Ce,this._lo=Ne,this}},le.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof le){var l=arguments[0];return this.selfMultiply(l._hi,l._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var W,x,_=arguments[0],I=null,re=null,o=null,g=null;I=(o=le.SPLIT*this._hi)-this._hi,I=o-I;var M=(o=this._hi*_)+(g=I*(re=(g=le.SPLIT*_)-(re=g-_))-o+I*(x=_-re)+(W=this._hi-I)*re+W*x+(this._hi*arguments[1]+this._lo*_)),S=g+(I=o-M);return this._hi=M,this._lo=S,this}},le.prototype.selfSqr=function(){return this.selfMultiply(this)},le.prototype.floor=function(){if(this.isNaN())return le.NaN;var l=Math.floor(this._hi),c=0;return l===this._hi&&(c=Math.floor(this._lo)),new le(l,c)},le.prototype.negate=function(){return this.isNaN()?this:new le(-this._hi,-this._lo)},le.prototype.clone=function(){},le.prototype.multiply=function(){if(arguments[0]instanceof le){var l=arguments[0];return l.isNaN()?le.createNaN():le.copy(this).selfMultiply(l)}if("number"==typeof arguments[0]){var c=arguments[0];return te.isNaN(c)?le.createNaN():le.copy(this).selfMultiply(c,0)}},le.prototype.isNaN=function(){return te.isNaN(this._hi)},le.prototype.intValue=function(){return Math.trunc(this._hi)},le.prototype.toString=function(){var l=le.magnitude(this._hi);return l>=-3&&l<=20?this.toStandardNotation():this.toSciNotation()},le.prototype.toStandardNotation=function(){var l=this.getSpecialNumberString();if(null!==l)return l;var c=new Array(1).fill(null),_=this.extractSignificantDigits(!0,c),w=c[0]+1,I=_;return"."===_.charAt(0)?I="0"+_:w<0?I="0."+le.stringOfChar("0",-w)+_:-1===_.indexOf(".")&&(I=_+le.stringOfChar("0",w-_.length)+".0"),this.isNegative()?"-"+I:I},le.prototype.reciprocal=function(){var c,w,I,re,l=null,_=null,W=null,x=null;c=(I=1/this._hi)-(l=(W=le.SPLIT*I)-(l=W-I)),_=(x=le.SPLIT*this._hi)-this._hi;var o=I+(W=(1-(re=I*this._hi)-(x=l*(_=x-_)-re+l*(w=this._hi-_)+c*_+c*w)-I*this._lo)/this._hi);return new le(o,I-o+W)},le.prototype.toSciNotation=function(){if(this.isZero())return le.SCI_NOT_ZERO;var l=this.getSpecialNumberString();if(null!==l)return l;var c=new Array(1).fill(null),_=this.extractSignificantDigits(!1,c),w=le.SCI_NOT_EXPONENT_CHAR+c[0];if("0"===_.charAt(0))throw new Error("Found leading zero: "+_);var I="";_.length>1&&(I=_.substring(1));var W=_.charAt(0)+"."+I;return this.isNegative()?"-"+W+w:W+w},le.prototype.abs=function(){return this.isNaN()?le.NaN:this.isNegative()?this.negate():new le(this)},le.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},le.prototype.lt=function(l){return(this._hi<l._hi||this._hi===l._hi)&&this._lo<l._lo},le.prototype.add=function(){if(arguments[0]instanceof le){var l=arguments[0];return le.copy(this).selfAdd(l)}if("number"==typeof arguments[0]){var c=arguments[0];return le.copy(this).selfAdd(c)}},le.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof le){var c=arguments[0];this._hi=c._hi,this._lo=c._lo}}else if(2===arguments.length){var w=arguments[1];this._hi=arguments[0],this._lo=w}},le.prototype.gt=function(l){return(this._hi>l._hi||this._hi===l._hi)&&this._lo>l._lo},le.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},le.prototype.trunc=function(){return this.isNaN()?le.NaN:this.isPositive()?this.floor():this.ceil()},le.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},le.prototype.interfaces_=function(){return[B,ee,ae]},le.prototype.getClass=function(){return le},le.sqr=function(l){return le.valueOf(l).selfMultiply(l)},le.valueOf=function(){return"string"==typeof arguments[0]?le.parse(arguments[0]):"number"==typeof arguments[0]?new le(arguments[0]):void 0},le.sqrt=function(l){return le.valueOf(l).sqrt()},le.parse=function(l){for(var c=0,_=l.length;De.isWhitespace(l.charAt(c));)c++;var w=!1;if(c<_){var I=l.charAt(c);"-"!==I&&"+"!==I||(c++,"-"===I&&(w=!0))}for(var W=new le,re=0,x=0,o=0;!(c>=_);){var g=l.charAt(c);if(c++,De.isDigit(g)){var M=g-"0";W.selfMultiply(le.TEN),W.selfAdd(M),re++}else{if("."!==g){if("e"===g||"E"===g){var S=l.substring(c);try{o=Xe.parseInt(S)}catch(ge){throw ge instanceof Error?new Error("Invalid exponent "+S+" in string "+l):ge}break}throw new Error("Unexpected character '"+g+"' at position "+c+" in string "+l)}x=re}}var A=W,Y=re-x-o;if(0===Y)A=W;else if(Y>0){var U=le.TEN.pow(Y);A=W.divide(U)}else if(Y<0){var K=le.TEN.pow(-Y);A=W.multiply(K)}return w?A.negate():A},le.createNaN=function(){return new le(te.NaN,te.NaN)},le.copy=function(l){return new le(l)},le.magnitude=function(l){var c=Math.abs(l),_=Math.log(c)/Math.log(10),w=Math.trunc(Math.floor(_));return 10*Math.pow(10,w)<=c&&(w+=1),w},le.stringOfChar=function(l,c){for(var _=new et,w=0;w<c;w++)_.append(l);return _.toString()},ze.PI.get=function(){return new le(3.141592653589793,12246467991473532e-32)},ze.TWO_PI.get=function(){return new le(6.283185307179586,24492935982947064e-32)},ze.PI_2.get=function(){return new le(1.5707963267948966,6123233995736766e-32)},ze.E.get=function(){return new le(2.718281828459045,14456468917292502e-32)},ze.NaN.get=function(){return new le(te.NaN,te.NaN)},ze.EPS.get=function(){return 123259516440783e-46},ze.SPLIT.get=function(){return 134217729},ze.MAX_PRINT_DIGITS.get=function(){return 32},ze.TEN.get=function(){return le.valueOf(10)},ze.ONE.get=function(){return le.valueOf(1)},ze.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},ze.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(le,ze);var Ve=function(){},Yt={DP_SAFE_EPSILON:{configurable:!0}};Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},Ve.orientationIndex=function(l,c,_){var w=Ve.orientationIndexFilter(l,c,_);if(w<=1)return w;var I=le.valueOf(c.x).selfAdd(-l.x),W=le.valueOf(c.y).selfAdd(-l.y),re=le.valueOf(_.x).selfAdd(-c.x),x=le.valueOf(_.y).selfAdd(-c.y);return I.selfMultiply(x).selfSubtract(W.selfMultiply(re)).signum()},Ve.signOfDet2x2=function(l,c,_,w){return l.multiply(w).selfSubtract(c.multiply(_)).signum()},Ve.intersection=function(l,c,_,w){var I=le.valueOf(w.y).selfSubtract(_.y).selfMultiply(le.valueOf(c.x).selfSubtract(l.x)),W=le.valueOf(w.x).selfSubtract(_.x).selfMultiply(le.valueOf(c.y).selfSubtract(l.y)),re=I.subtract(W),x=le.valueOf(w.x).selfSubtract(_.x).selfMultiply(le.valueOf(l.y).selfSubtract(_.y)),o=le.valueOf(w.y).selfSubtract(_.y).selfMultiply(le.valueOf(l.x).selfSubtract(_.x)),g=x.subtract(o).selfDivide(re).doubleValue(),M=le.valueOf(l.x).selfAdd(le.valueOf(c.x).selfSubtract(l.x).selfMultiply(g)).doubleValue(),S=le.valueOf(c.x).selfSubtract(l.x).selfMultiply(le.valueOf(l.y).selfSubtract(_.y)),A=le.valueOf(c.y).selfSubtract(l.y).selfMultiply(le.valueOf(l.x).selfSubtract(_.x)),Y=S.subtract(A).selfDivide(re).doubleValue(),U=le.valueOf(_.y).selfAdd(le.valueOf(w.y).selfSubtract(_.y).selfMultiply(Y)).doubleValue();return new se(M,U)},Ve.orientationIndexFilter=function(l,c,_){var w=null,I=(l.x-_.x)*(c.y-_.y),W=(l.y-_.y)*(c.x-_.x),re=I-W;if(I>0){if(W<=0)return Ve.signum(re);w=I+W}else{if(!(I<0)||W>=0)return Ve.signum(re);w=-I-W}var x=Ve.DP_SAFE_EPSILON*w;return re>=x||-re>=x?Ve.signum(re):2},Ve.signum=function(l){return l>0?1:l<0?-1:0},Yt.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Ve,Yt);var Ct=function(){},bn={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};bn.X.get=function(){return 0},bn.Y.get=function(){return 1},bn.Z.get=function(){return 2},bn.M.get=function(){return 3},Ct.prototype.setOrdinate=function(l,c,_){},Ct.prototype.size=function(){},Ct.prototype.getOrdinate=function(l,c){},Ct.prototype.getCoordinate=function(){},Ct.prototype.getCoordinateCopy=function(l){},Ct.prototype.getDimension=function(){},Ct.prototype.getX=function(l){},Ct.prototype.clone=function(){},Ct.prototype.expandEnvelope=function(l){},Ct.prototype.copy=function(){},Ct.prototype.getY=function(l){},Ct.prototype.toCoordinateArray=function(){},Ct.prototype.interfaces_=function(){return[ae]},Ct.prototype.getClass=function(){return Ct},Object.defineProperties(Ct,bn);var fn=function(){},kn=function(l){function c(){l.call(this,"Projective point not representable on the Cartesian plane.")}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(fn),un=function(){};un.arraycopy=function(l,c,_,w,I){for(var W=0,re=c;re<c+I;re++)_[w+W]=l[re],W++},un.getProperty=function(l){return{"line.separator":"\n"}[l]};var Xn=function l(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var c=arguments[0];this.x=c.x,this.y=c.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var w=arguments[1];this.x=arguments[0],this.y=w,this.w=1}else if(arguments[0]instanceof l&&arguments[1]instanceof l){var I=arguments[0],W=arguments[1];this.x=I.y*W.w-W.y*I.w,this.y=W.x*I.w-I.x*W.w,this.w=I.x*W.y-W.x*I.y}else if(arguments[0]instanceof se&&arguments[1]instanceof se){var re=arguments[0],x=arguments[1];this.x=re.y-x.y,this.y=x.x-re.x,this.w=re.x*x.y-x.x*re.y}}else if(3===arguments.length){var g=arguments[1],M=arguments[2];this.x=arguments[0],this.y=g,this.w=M}else if(4===arguments.length){var S=arguments[0],A=arguments[1],Y=arguments[2],U=arguments[3],K=S.y-A.y,ge=A.x-S.x,Ce=S.x*A.y-A.x*S.y,Ne=Y.y-U.y,ot=U.x-Y.x,Pt=Y.x*U.y-U.x*Y.y;this.x=ge*Pt-ot*Ce,this.y=Ne*Ce-K*Pt,this.w=K*ot-Ne*ge}};Xn.prototype.getY=function(){var l=this.y/this.w;if(te.isNaN(l)||te.isInfinite(l))throw new kn;return l},Xn.prototype.getX=function(){var l=this.x/this.w;if(te.isNaN(l)||te.isInfinite(l))throw new kn;return l},Xn.prototype.getCoordinate=function(){var l=new se;return l.x=this.getX(),l.y=this.getY(),l},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn},Xn.intersection=function(l,c,_,w){var I=l.y-c.y,W=c.x-l.x,re=l.x*c.y-c.x*l.y,x=_.y-w.y,o=w.x-_.x,g=_.x*w.y-w.x*_.y,M=I*o-x*W,S=(W*g-o*re)/M,A=(x*re-I*g)/M;if(te.isNaN(S)||te.isInfinite(S)||te.isNaN(A)||te.isInfinite(A))throw new kn;return new se(S,A)};var Rn=function l(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof se){var c=arguments[0];this.init(c.x,c.x,c.y,c.y)}else arguments[0]instanceof l&&this.init(arguments[0]);else if(2===arguments.length){var w=arguments[0],I=arguments[1];this.init(w.x,I.x,w.y,I.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},dr={serialVersionUID:{configurable:!0}};Rn.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Rn.prototype.equals=function(l){if(!(l instanceof Rn))return!1;var c=l;return this.isNull()?c.isNull():this._maxx===c.getMaxX()&&this._maxy===c.getMaxY()&&this._minx===c.getMinX()&&this._miny===c.getMinY()},Rn.prototype.intersection=function(l){return this.isNull()||l.isNull()||!this.intersects(l)?new Rn:new Rn(this._minx>l._minx?this._minx:l._minx,this._maxx<l._maxx?this._maxx:l._maxx,this._miny>l._miny?this._miny:l._miny,this._maxy<l._maxy?this._maxy:l._maxy)},Rn.prototype.isNull=function(){return this._maxx<this._minx},Rn.prototype.getMaxX=function(){return this._maxx},Rn.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof se){var l=arguments[0];return this.covers(l.x,l.y)}if(arguments[0]instanceof Rn){var c=arguments[0];return!this.isNull()&&!c.isNull()&&c.getMinX()>=this._minx&&c.getMaxX()<=this._maxx&&c.getMinY()>=this._miny&&c.getMaxY()<=this._maxy}}else if(2===arguments.length){var _=arguments[0],w=arguments[1];return!this.isNull()&&_>=this._minx&&_<=this._maxx&&w>=this._miny&&w<=this._maxy}},Rn.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Rn){var l=arguments[0];return!this.isNull()&&!l.isNull()&&!(l._minx>this._maxx||l._maxx<this._minx||l._miny>this._maxy||l._maxy<this._miny)}if(arguments[0]instanceof se){var c=arguments[0];return this.intersects(c.x,c.y)}}else if(2===arguments.length){var _=arguments[0],w=arguments[1];return!this.isNull()&&!(_>this._maxx||_<this._minx||w>this._maxy||w<this._miny)}},Rn.prototype.getMinY=function(){return this._miny},Rn.prototype.getMinX=function(){return this._minx},Rn.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof se){var l=arguments[0];this.expandToInclude(l.x,l.y)}else if(arguments[0]instanceof Rn){var c=arguments[0];if(c.isNull())return null;this.isNull()?(this._minx=c.getMinX(),this._maxx=c.getMaxX(),this._miny=c.getMinY(),this._maxy=c.getMaxY()):(c._minx<this._minx&&(this._minx=c._minx),c._maxx>this._maxx&&(this._maxx=c._maxx),c._miny<this._miny&&(this._miny=c._miny),c._maxy>this._maxy&&(this._maxy=c._maxy))}}else if(2===arguments.length){var _=arguments[0],w=arguments[1];this.isNull()?(this._minx=_,this._maxx=_,this._miny=w,this._maxy=w):(_<this._minx&&(this._minx=_),_>this._maxx&&(this._maxx=_),w<this._miny&&(this._miny=w),w>this._maxy&&(this._maxy=w))}},Rn.prototype.minExtent=function(){if(this.isNull())return 0;var l=this.getWidth(),c=this.getHeight();return l<c?l:c},Rn.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Rn.prototype.compareTo=function(l){var c=l;return this.isNull()?c.isNull()?0:-1:c.isNull()?1:this._minx<c._minx?-1:this._minx>c._minx?1:this._miny<c._miny?-1:this._miny>c._miny?1:this._maxx<c._maxx?-1:this._maxx>c._maxx?1:this._maxy<c._maxy?-1:this._maxy>c._maxy?1:0},Rn.prototype.translate=function(l,c){if(this.isNull())return null;this.init(this.getMinX()+l,this.getMaxX()+l,this.getMinY()+c,this.getMaxY()+c)},Rn.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Rn.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Rn.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Rn.prototype.maxExtent=function(){if(this.isNull())return 0;var l=this.getWidth(),c=this.getHeight();return l>c?l:c},Rn.prototype.expandBy=function(){if(1===arguments.length){var l=arguments[0];this.expandBy(l,l)}else if(2===arguments.length){var c=arguments[0],_=arguments[1];if(this.isNull())return null;this._minx-=c,this._maxx+=c,this._miny-=_,this._maxy+=_,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Rn.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Rn)return this.covers(arguments[0]);if(arguments[0]instanceof se)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Rn.prototype.centre=function(){return this.isNull()?null:new se((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Rn.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof se){var l=arguments[0];this.init(l.x,l.x,l.y,l.y)}else if(arguments[0]instanceof Rn){var c=arguments[0];this._minx=c._minx,this._maxx=c._maxx,this._miny=c._miny,this._maxy=c._maxy}}else if(2===arguments.length){var _=arguments[0],w=arguments[1];this.init(_.x,w.x,_.y,w.y)}else if(4===arguments.length){var I=arguments[0],W=arguments[1],re=arguments[2],x=arguments[3];I<W?(this._minx=I,this._maxx=W):(this._minx=W,this._maxx=I),re<x?(this._miny=re,this._maxy=x):(this._miny=x,this._maxy=re)}},Rn.prototype.getMaxY=function(){return this._maxy},Rn.prototype.distance=function(l){if(this.intersects(l))return 0;var c=0;this._maxx<l._minx?c=l._minx-this._maxx:this._minx>l._maxx&&(c=this._minx-l._maxx);var _=0;return this._maxy<l._miny?_=l._miny-this._maxy:this._miny>l._maxy&&(_=this._miny-l._maxy),0===c?_:0===_?c:Math.sqrt(c*c+_*_)},Rn.prototype.hashCode=function(){var l=17;return 37*(l=37*(l=37*(l=37*l+se.hashCode(this._minx))+se.hashCode(this._maxx))+se.hashCode(this._miny))+se.hashCode(this._maxy)},Rn.prototype.interfaces_=function(){return[ee,B]},Rn.prototype.getClass=function(){return Rn},Rn.intersects=function(){if(3===arguments.length){var l=arguments[0],c=arguments[1],_=arguments[2];return _.x>=(l.x<c.x?l.x:c.x)&&_.x<=(l.x>c.x?l.x:c.x)&&_.y>=(l.y<c.y?l.y:c.y)&&_.y<=(l.y>c.y?l.y:c.y)}if(4===arguments.length){var w=arguments[0],I=arguments[1],W=arguments[2],re=arguments[3],x=Math.min(W.x,re.x),o=Math.max(W.x,re.x),g=Math.min(w.x,I.x),M=Math.max(w.x,I.x);return!(g>o||M<x||(x=Math.min(W.y,re.y),o=Math.max(W.y,re.y),g=Math.min(w.y,I.y),M=Math.max(w.y,I.y),g>o||M<x))}},dr.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Rn,dr);var Xr={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Ln=function(l){this.geometryFactory=l||new Cn};Ln.prototype.read=function(l){var c,_;l=l.replace(/[\n\r]/g," ");var I=Xr.typeStr.exec(l);if(-1!==l.search("EMPTY")&&((I=Xr.emptyTypeStr.exec(l))[2]=void 0),I&&(_=I[1].toLowerCase(),xr[_]&&(c=xr[_].apply(this,[I[2]]))),void 0===c)throw new Error("Could not parse WKT "+l);return c},Ln.prototype.write=function(l){return this.extractGeometry(l)},Ln.prototype.extractGeometry=function(l){var c=l.getGeometryType().toLowerCase();if(!ir[c])return null;var _=c.toUpperCase();return l.isEmpty()?_+" EMPTY":_+"("+ir[c].apply(this,[l])+")"};var ir={coordinate:function(l){return l.x+" "+l.y},point:function(l){return ir.coordinate.call(this,l._coordinates._coordinates[0])},multipoint:function(l){for(var c=[],_=0,w=l._geometries.length;_<w;++_)c.push("("+ir.point.apply(this,[l._geometries[_]])+")");return c.join(",")},linestring:function(l){for(var c=[],_=0,w=l._points._coordinates.length;_<w;++_)c.push(ir.coordinate.apply(this,[l._points._coordinates[_]]));return c.join(",")},linearring:function(l){for(var c=[],_=0,w=l._points._coordinates.length;_<w;++_)c.push(ir.coordinate.apply(this,[l._points._coordinates[_]]));return c.join(",")},multilinestring:function(l){for(var c=[],_=0,w=l._geometries.length;_<w;++_)c.push("("+ir.linestring.apply(this,[l._geometries[_]])+")");return c.join(",")},polygon:function(l){var c=[];c.push("("+ir.linestring.apply(this,[l._shell])+")");for(var _=0,w=l._holes.length;_<w;++_)c.push("("+ir.linestring.apply(this,[l._holes[_]])+")");return c.join(",")},multipolygon:function(l){for(var c=[],_=0,w=l._geometries.length;_<w;++_)c.push("("+ir.polygon.apply(this,[l._geometries[_]])+")");return c.join(",")},geometrycollection:function(l){for(var c=[],_=0,w=l._geometries.length;_<w;++_)c.push(this.extractGeometry(l._geometries[_]));return c.join(",")}},xr={point:function(l){if(void 0===l)return this.geometryFactory.createPoint();var c=l.trim().split(Xr.spaces);return this.geometryFactory.createPoint(new se(Number.parseFloat(c[0]),Number.parseFloat(c[1])))},multipoint:function(l){if(void 0===l)return this.geometryFactory.createMultiPoint();for(var c,_=l.trim().split(","),w=[],I=0,W=_.length;I<W;++I)c=_[I].replace(Xr.trimParens,"$1"),w.push(xr.point.apply(this,[c]));return this.geometryFactory.createMultiPoint(w)},linestring:function(l){if(void 0===l)return this.geometryFactory.createLineString();for(var c,_=l.trim().split(","),w=[],I=0,W=_.length;I<W;++I)c=_[I].trim().split(Xr.spaces),w.push(new se(Number.parseFloat(c[0]),Number.parseFloat(c[1])));return this.geometryFactory.createLineString(w)},linearring:function(l){if(void 0===l)return this.geometryFactory.createLinearRing();for(var c,_=l.trim().split(","),w=[],I=0,W=_.length;I<W;++I)c=_[I].trim().split(Xr.spaces),w.push(new se(Number.parseFloat(c[0]),Number.parseFloat(c[1])));return this.geometryFactory.createLinearRing(w)},multilinestring:function(l){if(void 0===l)return this.geometryFactory.createMultiLineString();for(var c,_=l.trim().split(Xr.parenComma),w=[],I=0,W=_.length;I<W;++I)c=_[I].replace(Xr.trimParens,"$1"),w.push(xr.linestring.apply(this,[c]));return this.geometryFactory.createMultiLineString(w)},polygon:function(l){if(void 0===l)return this.geometryFactory.createPolygon();for(var c,_,w,I,W=l.trim().split(Xr.parenComma),re=[],x=0,o=W.length;x<o;++x)c=W[x].replace(Xr.trimParens,"$1"),_=xr.linestring.apply(this,[c]),w=this.geometryFactory.createLinearRing(_._points),0===x?I=w:re.push(w);return this.geometryFactory.createPolygon(I,re)},multipolygon:function(l){if(void 0===l)return this.geometryFactory.createMultiPolygon();for(var c,_=l.trim().split(Xr.doubleParenComma),w=[],I=0,W=_.length;I<W;++I)c=_[I].replace(Xr.trimParens,"$1"),w.push(xr.polygon.apply(this,[c]));return this.geometryFactory.createMultiPolygon(w)},geometrycollection:function(l){if(void 0===l)return this.geometryFactory.createGeometryCollection();for(var c=(l=l.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),_=[],w=0,I=c.length;w<I;++w)_.push(this.read(c[w]));return this.geometryFactory.createGeometryCollection(_)}},$r=function(l){this.parser=new Ln(l)};$r.prototype.write=function(l){return this.parser.write(l)},$r.toLineString=function(l,c){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+l.x+" "+l.y+", "+c.x+" "+c.y+" )"};var en=function(l){function c(_){l.call(this,_),this.name="RuntimeException",this.message=_,this.stack=(new l).stack}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c}(Error),Wn=function(l){function c(){l.call(this),0===arguments.length?l.call(this):1===arguments.length&&l.call(this,arguments[0])}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(en),qt=function(){};qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.shouldNeverReachHere=function(){if(0===arguments.length)qt.shouldNeverReachHere(null);else if(1===arguments.length){var l=arguments[0];throw new Wn("Should never reach here"+(null!==l?": "+l:""))}},qt.isTrue=function(){var c;if(1===arguments.length)qt.isTrue(arguments[0],null);else if(2===arguments.length&&(c=arguments[1],!arguments[0]))throw null===c?new Wn:new Wn(c)},qt.equals=function(){var l,c,_;if(2===arguments.length)qt.equals(l=arguments[0],c=arguments[1],null);else if(3===arguments.length&&(_=arguments[2],!(c=arguments[1]).equals(l=arguments[0])))throw new Wn("Expected "+l+" but encountered "+c+(null!==_?": "+_:""))};var rn=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new se,this._intPt[1]=new se,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Fn={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};rn.prototype.getIndexAlongSegment=function(l,c){return this.computeIntLineIndex(),this._intLineIndex[l][c]},rn.prototype.getTopologySummary=function(){var l=new et;return this.isEndPoint()&&l.append(" endpoint"),this._isProper&&l.append(" proper"),this.isCollinear()&&l.append(" collinear"),l.toString()},rn.prototype.computeIntersection=function(l,c,_,w){this._inputLines[0][0]=l,this._inputLines[0][1]=c,this._inputLines[1][0]=_,this._inputLines[1][1]=w,this._result=this.computeIntersect(l,c,_,w)},rn.prototype.getIntersectionNum=function(){return this._result},rn.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var l=arguments[0];this.getEdgeDistance(l,0)>this.getEdgeDistance(l,1)?(this._intLineIndex[l][0]=0,this._intLineIndex[l][1]=1):(this._intLineIndex[l][0]=1,this._intLineIndex[l][1]=0)}},rn.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},rn.prototype.setPrecisionModel=function(l){this._precisionModel=l},rn.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var l=arguments[0],c=0;c<this._result;c++)if(!this._intPt[c].equals2D(this._inputLines[l][0])&&!this._intPt[c].equals2D(this._inputLines[l][1]))return!0;return!1}},rn.prototype.getIntersection=function(l){return this._intPt[l]},rn.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},rn.prototype.hasIntersection=function(){return this._result!==rn.NO_INTERSECTION},rn.prototype.getEdgeDistance=function(l,c){return rn.computeEdgeDistance(this._intPt[c],this._inputLines[l][0],this._inputLines[l][1])},rn.prototype.isCollinear=function(){return this._result===rn.COLLINEAR_INTERSECTION},rn.prototype.toString=function(){return $r.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+$r.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},rn.prototype.getEndpoint=function(l,c){return this._inputLines[l][c]},rn.prototype.isIntersection=function(l){for(var c=0;c<this._result;c++)if(this._intPt[c].equals2D(l))return!0;return!1},rn.prototype.getIntersectionAlongSegment=function(l,c){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[l][c]]},rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn},rn.computeEdgeDistance=function(l,c,_){var w=Math.abs(_.x-c.x),I=Math.abs(_.y-c.y),W=-1;if(l.equals(c))W=0;else if(l.equals(_))W=w>I?w:I;else{var re=Math.abs(l.x-c.x),x=Math.abs(l.y-c.y);0!==(W=w>I?re:x)||l.equals(c)||(W=Math.max(re,x))}return qt.isTrue(!(0===W&&!l.equals(c)),"Bad distance calculation"),W},rn.nonRobustComputeEdgeDistance=function(l,c,_){var w=l.x-c.x,I=l.y-c.y,W=Math.sqrt(w*w+I*I);return qt.isTrue(!(0===W&&!l.equals(c)),"Invalid distance calculation"),W},Fn.DONT_INTERSECT.get=function(){return 0},Fn.DO_INTERSECT.get=function(){return 1},Fn.COLLINEAR.get=function(){return 2},Fn.NO_INTERSECTION.get=function(){return 0},Fn.POINT_INTERSECTION.get=function(){return 1},Fn.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(rn,Fn);var zr=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.isInSegmentEnvelopes=function(_){var w=new Rn(this._inputLines[0][0],this._inputLines[0][1]),I=new Rn(this._inputLines[1][0],this._inputLines[1][1]);return w.contains(_)&&I.contains(_)},c.prototype.computeIntersection=function(){if(3!==arguments.length)return l.prototype.computeIntersection.apply(this,arguments);var _=arguments[0],w=arguments[1],I=arguments[2];if(this._isProper=!1,Rn.intersects(w,I,_)&&0===Zn.orientationIndex(w,I,_)&&0===Zn.orientationIndex(I,w,_))return this._isProper=!0,(_.equals(w)||_.equals(I))&&(this._isProper=!1),this._result=l.POINT_INTERSECTION,null;this._result=l.NO_INTERSECTION},c.prototype.normalizeToMinimum=function(_,w,I,W,re){re.x=this.smallestInAbsValue(_.x,w.x,I.x,W.x),re.y=this.smallestInAbsValue(_.y,w.y,I.y,W.y),_.x-=re.x,_.y-=re.y,w.x-=re.x,w.y-=re.y,I.x-=re.x,I.y-=re.y,W.x-=re.x,W.y-=re.y},c.prototype.safeHCoordinateIntersection=function(_,w,I,W){var re=null;try{re=Xn.intersection(_,w,I,W)}catch(x){if(!(x instanceof kn))throw x;re=c.nearestEndpoint(_,w,I,W)}return re},c.prototype.intersection=function(_,w,I,W){var re=this.intersectionWithNormalization(_,w,I,W);return this.isInSegmentEnvelopes(re)||(re=new se(c.nearestEndpoint(_,w,I,W))),null!==this._precisionModel&&this._precisionModel.makePrecise(re),re},c.prototype.smallestInAbsValue=function(_,w,I,W){var re=_,x=Math.abs(re);return Math.abs(w)<x&&(re=w,x=Math.abs(w)),Math.abs(I)<x&&(re=I,x=Math.abs(I)),Math.abs(W)<x&&(re=W),re},c.prototype.checkDD=function(_,w,I,W,re){var x=Ve.intersection(_,w,I,W),o=this.isInSegmentEnvelopes(x);un.out.println("DD in env = "+o+"  --------------------- "+x),re.distance(x)>1e-4&&un.out.println("Distance = "+re.distance(x))},c.prototype.intersectionWithNormalization=function(_,w,I,W){var re=new se(_),x=new se(w),o=new se(I),g=new se(W),M=new se;this.normalizeToEnvCentre(re,x,o,g,M);var S=this.safeHCoordinateIntersection(re,x,o,g);return S.x+=M.x,S.y+=M.y,S},c.prototype.computeCollinearIntersection=function(_,w,I,W){var re=Rn.intersects(_,w,I),x=Rn.intersects(_,w,W),o=Rn.intersects(I,W,_),g=Rn.intersects(I,W,w);return re&&x?(this._intPt[0]=I,this._intPt[1]=W,l.COLLINEAR_INTERSECTION):o&&g?(this._intPt[0]=_,this._intPt[1]=w,l.COLLINEAR_INTERSECTION):re&&o?(this._intPt[0]=I,this._intPt[1]=_,!I.equals(_)||x||g?l.COLLINEAR_INTERSECTION:l.POINT_INTERSECTION):re&&g?(this._intPt[0]=I,this._intPt[1]=w,!I.equals(w)||x||o?l.COLLINEAR_INTERSECTION:l.POINT_INTERSECTION):x&&o?(this._intPt[0]=W,this._intPt[1]=_,!W.equals(_)||re||g?l.COLLINEAR_INTERSECTION:l.POINT_INTERSECTION):x&&g?(this._intPt[0]=W,this._intPt[1]=w,!W.equals(w)||re||o?l.COLLINEAR_INTERSECTION:l.POINT_INTERSECTION):l.NO_INTERSECTION},c.prototype.normalizeToEnvCentre=function(_,w,I,W,re){var x=_.x<w.x?_.x:w.x,o=_.y<w.y?_.y:w.y,g=_.x>w.x?_.x:w.x,M=_.y>w.y?_.y:w.y,S=I.x<W.x?I.x:W.x,A=I.y<W.y?I.y:W.y,Y=I.x>W.x?I.x:W.x,U=I.y>W.y?I.y:W.y,ge=((o>A?o:A)+(M<U?M:U))/2;re.x=((x>S?x:S)+(g<Y?g:Y))/2,re.y=ge,_.x-=re.x,_.y-=re.y,w.x-=re.x,w.y-=re.y,I.x-=re.x,I.y-=re.y,W.x-=re.x,W.y-=re.y},c.prototype.computeIntersect=function(_,w,I,W){if(this._isProper=!1,!Rn.intersects(_,w,I,W))return l.NO_INTERSECTION;var re=Zn.orientationIndex(_,w,I),x=Zn.orientationIndex(_,w,W);if(re>0&&x>0||re<0&&x<0)return l.NO_INTERSECTION;var o=Zn.orientationIndex(I,W,_),g=Zn.orientationIndex(I,W,w);return o>0&&g>0||o<0&&g<0?l.NO_INTERSECTION:0===re&&0===x&&0===o&&0===g?this.computeCollinearIntersection(_,w,I,W):(0===re||0===x||0===o||0===g?(this._isProper=!1,_.equals2D(I)||_.equals2D(W)?this._intPt[0]=_:w.equals2D(I)||w.equals2D(W)?this._intPt[0]=w:0===re?this._intPt[0]=new se(I):0===x?this._intPt[0]=new se(W):0===o?this._intPt[0]=new se(_):0===g&&(this._intPt[0]=new se(w))):(this._isProper=!0,this._intPt[0]=this.intersection(_,w,I,W)),l.POINT_INTERSECTION)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.nearestEndpoint=function(_,w,I,W){var re=_,x=Zn.distancePointLine(_,I,W),o=Zn.distancePointLine(w,I,W);return o<x&&(x=o,re=w),(o=Zn.distancePointLine(I,_,w))<x&&(x=o,re=I),(o=Zn.distancePointLine(W,_,w))<x&&(x=o,re=W),re},c}(rn),Li=function(){};Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.orientationIndex=function(l,c,_){return Li.signOfDet2x2(c.x-l.x,c.y-l.y,_.x-c.x,_.y-c.y)},Li.signOfDet2x2=function(l,c,_,w){var I=null,W=null,re=null;if(I=1,0===l||0===w)return 0===c||0===_?0:c>0?_>0?-I:I:_>0?I:-I;if(0===c||0===_)return w>0?l>0?I:-I:l>0?-I:I;if(c>0?w>0?c<=w||(I=-I,W=l,l=_,_=W,W=c,c=w,w=W):c<=-w?(I=-I,_=-_,w=-w):(W=l,l=-_,_=W,W=c,c=-w,w=W):w>0?-c<=w?(I=-I,l=-l,c=-c):(W=-l,l=_,_=W,W=-c,c=w,w=W):c>=w?(l=-l,c=-c,_=-_,w=-w):(I=-I,W=-l,l=-_,_=W,W=-c,c=-w,w=W),l>0){if(!(_>0&&l<=_))return I}else{if(_>0||!(l>=_))return-I;I=-I,l=-l,_=-_}for(;;){if((w-=(re=Math.floor(_/l))*c)<0)return-I;if(w>c)return I;if(l>(_-=re*l)+_){if(c<w+w)return I}else{if(c>w+w)return-I;_=l-_,w=c-w,I=-I}if(0===w)return 0===_?0:-I;if(0===_||(l-=(re=Math.floor(l/_))*_,(c-=re*w)<0))return I;if(c>w)return-I;if(_>l+l){if(w<c+c)return-I}else{if(w>c+c)return I;l=_-l,c=w-c,I=-I}if(0===c)return 0===l?0:I;if(0===l)return-I}};var ai=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};ai.prototype.countSegment=function(l,c){if(l.x<this._p.x&&c.x<this._p.x)return null;if(this._p.x===c.x&&this._p.y===c.y)return this._isPointOnSegment=!0,null;if(l.y===this._p.y&&c.y===this._p.y){var _=l.x,w=c.x;return _>w&&(_=c.x,w=l.x),this._p.x>=_&&this._p.x<=w&&(this._isPointOnSegment=!0),null}if(l.y>this._p.y&&c.y<=this._p.y||c.y>this._p.y&&l.y<=this._p.y){var W=l.y-this._p.y,x=c.y-this._p.y,o=Li.signOfDet2x2(l.x-this._p.x,W,c.x-this._p.x,x);if(0===o)return this._isPointOnSegment=!0,null;x<W&&(o=-o),o>0&&this._crossingCount++}},ai.prototype.isPointInPolygon=function(){return this.getLocation()!==Te.EXTERIOR},ai.prototype.getLocation=function(){return this._isPointOnSegment?Te.BOUNDARY:this._crossingCount%2==1?Te.INTERIOR:Te.EXTERIOR},ai.prototype.isOnSegment=function(){return this._isPointOnSegment},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.locatePointInRing=function(){if(arguments[0]instanceof se&&tt(arguments[1],Ct)){for(var c=arguments[1],_=new ai(arguments[0]),w=new se,I=new se,W=1;W<c.size();W++)if(c.getCoordinate(W,w),c.getCoordinate(W-1,I),_.countSegment(w,I),_.isOnSegment())return _.getLocation();return _.getLocation()}if(arguments[0]instanceof se&&arguments[1]instanceof Array){for(var x=arguments[1],o=new ai(arguments[0]),g=1;g<x.length;g++)if(o.countSegment(x[g],x[g-1]),o.isOnSegment())return o.getLocation();return o.getLocation()}};var Zn=function(){},is={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.orientationIndex=function(l,c,_){return Ve.orientationIndex(l,c,_)},Zn.signedArea=function(){if(arguments[0]instanceof Array){var l=arguments[0];if(l.length<3)return 0;for(var c=0,_=l[0].x,w=1;w<l.length-1;w++)c+=(l[w].x-_)*(l[w-1].y-l[w+1].y);return c/2}if(tt(arguments[0],Ct)){var re=arguments[0],x=re.size();if(x<3)return 0;var o=new se,g=new se,M=new se;re.getCoordinate(0,g),re.getCoordinate(1,M);var S=g.x;M.x-=S;for(var A=0,Y=1;Y<x-1;Y++)o.y=g.y,g.x=M.x,g.y=M.y,re.getCoordinate(Y+1,M),M.x-=S,A+=g.x*(o.y-M.y);return A/2}},Zn.distanceLineLine=function(l,c,_,w){if(l.equals(c))return Zn.distancePointLine(l,_,w);if(_.equals(w))return Zn.distancePointLine(w,l,c);var I=!1;if(Rn.intersects(l,c,_,w)){var W=(c.x-l.x)*(w.y-_.y)-(c.y-l.y)*(w.x-_.x);if(0===W)I=!0;else{var x=((l.y-_.y)*(c.x-l.x)-(l.x-_.x)*(c.y-l.y))/W,o=((l.y-_.y)*(w.x-_.x)-(l.x-_.x)*(w.y-_.y))/W;(o<0||o>1||x<0||x>1)&&(I=!0)}}else I=!0;return I?He.min(Zn.distancePointLine(l,_,w),Zn.distancePointLine(c,_,w),Zn.distancePointLine(_,l,c),Zn.distancePointLine(w,l,c)):0},Zn.isPointInRing=function(l,c){return Zn.locatePointInRing(l,c)!==Te.EXTERIOR},Zn.computeLength=function(l){var c=l.size();if(c<=1)return 0;var _=0,w=new se;l.getCoordinate(0,w);for(var I=w.x,W=w.y,re=1;re<c;re++){l.getCoordinate(re,w);var x=w.x,o=w.y,g=x-I,M=o-W;_+=Math.sqrt(g*g+M*M),I=x,W=o}return _},Zn.isCCW=function(l){var c=l.length-1;if(c<3)throw new J("Ring has fewer than 4 points, so orientation cannot be determined");for(var _=l[0],w=0,I=1;I<=c;I++){var W=l[I];W.y>_.y&&(_=W,w=I)}var re=w;do{(re-=1)<0&&(re=c)}while(l[re].equals2D(_)&&re!==w);var x=w;do{x=(x+1)%c}while(l[x].equals2D(_)&&x!==w);var o=l[re],g=l[x];if(o.equals2D(_)||g.equals2D(_)||o.equals2D(g))return!1;var M=Zn.computeOrientation(o,_,g);return 0===M?o.x>g.x:M>0},Zn.locatePointInRing=function(l,c){return ai.locatePointInRing(l,c)},Zn.distancePointLinePerpendicular=function(l,c,_){var w=(_.x-c.x)*(_.x-c.x)+(_.y-c.y)*(_.y-c.y);return Math.abs(((c.y-l.y)*(_.x-c.x)-(c.x-l.x)*(_.y-c.y))/w)*Math.sqrt(w)},Zn.computeOrientation=function(l,c,_){return Zn.orientationIndex(l,c,_)},Zn.distancePointLine=function(){if(2===arguments.length){var l=arguments[0],c=arguments[1];if(0===c.length)throw new J("Line array must contain at least one vertex");for(var _=l.distance(c[0]),w=0;w<c.length-1;w++){var I=Zn.distancePointLine(l,c[w],c[w+1]);I<_&&(_=I)}return _}if(3===arguments.length){var W=arguments[0],re=arguments[1],x=arguments[2];if(re.x===x.x&&re.y===x.y)return W.distance(re);var o=(x.x-re.x)*(x.x-re.x)+(x.y-re.y)*(x.y-re.y),g=((W.x-re.x)*(x.x-re.x)+(W.y-re.y)*(x.y-re.y))/o;return g<=0?W.distance(re):g>=1?W.distance(x):Math.abs(((re.y-W.y)*(x.x-re.x)-(re.x-W.x)*(x.y-re.y))/o)*Math.sqrt(o)}},Zn.isOnLine=function(l,c){for(var _=new zr,w=1;w<c.length;w++)if(_.computeIntersection(l,c[w-1],c[w]),_.hasIntersection())return!0;return!1},is.CLOCKWISE.get=function(){return-1},is.RIGHT.get=function(){return Zn.CLOCKWISE},is.COUNTERCLOCKWISE.get=function(){return 1},is.LEFT.get=function(){return Zn.COUNTERCLOCKWISE},is.COLLINEAR.get=function(){return 0},is.STRAIGHT.get=function(){return Zn.COLLINEAR},Object.defineProperties(Zn,is);var Qi=function(){};Qi.prototype.filter=function(l){},Qi.prototype.interfaces_=function(){return[]},Qi.prototype.getClass=function(){return Qi};var Nr=function(){var l=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=l,this._SRID=l.getSRID()},Dn={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Nr.prototype.isGeometryCollection=function(){return this.getSortIndex()===Nr.SORTINDEX_GEOMETRYCOLLECTION},Nr.prototype.getFactory=function(){return this._factory},Nr.prototype.getGeometryN=function(l){return this},Nr.prototype.getArea=function(){return 0},Nr.prototype.isRectangle=function(){return!1},Nr.prototype.equals=function(){if(arguments[0]instanceof Nr){var l=arguments[0];return null!==l&&this.equalsTopo(l)}if(arguments[0]instanceof Object){var c=arguments[0];return c instanceof Nr&&this.equalsExact(c)}},Nr.prototype.equalsExact=function(l){return this===l||this.equalsExact(l,0)},Nr.prototype.geometryChanged=function(){this.apply(Nr.geometryChangedFilter)},Nr.prototype.geometryChangedAction=function(){this._envelope=null},Nr.prototype.equalsNorm=function(l){return null!==l&&this.norm().equalsExact(l.norm())},Nr.prototype.getLength=function(){return 0},Nr.prototype.getNumGeometries=function(){return 1},Nr.prototype.compareTo=function(){if(1===arguments.length){var l=arguments[0],c=l;return this.getSortIndex()!==c.getSortIndex()?this.getSortIndex()-c.getSortIndex():this.isEmpty()&&c.isEmpty()?0:this.isEmpty()?-1:c.isEmpty()?1:this.compareToSameClass(l)}if(2===arguments.length){var _=arguments[0],w=arguments[1];return this.getSortIndex()!==_.getSortIndex()?this.getSortIndex()-_.getSortIndex():this.isEmpty()&&_.isEmpty()?0:this.isEmpty()?-1:_.isEmpty()?1:this.compareToSameClass(_,w)}},Nr.prototype.getUserData=function(){return this._userData},Nr.prototype.getSRID=function(){return this._SRID},Nr.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Nr.prototype.checkNotGeometryCollection=function(l){if(l.getSortIndex()===Nr.SORTINDEX_GEOMETRYCOLLECTION)throw new J("This method does not support GeometryCollection arguments")},Nr.prototype.equal=function(l,c,_){return 0===_?l.equals(c):l.distance(c)<=_},Nr.prototype.norm=function(){var l=this.copy();return l.normalize(),l},Nr.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Nr.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Rn(this._envelope)},Nr.prototype.setSRID=function(l){this._SRID=l},Nr.prototype.setUserData=function(l){this._userData=l},Nr.prototype.compare=function(l,c){for(var _=l.iterator(),w=c.iterator();_.hasNext()&&w.hasNext();){var I=_.next(),W=w.next(),re=I.compareTo(W);if(0!==re)return re}return _.hasNext()?1:w.hasNext()?-1:0},Nr.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Nr.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Nr.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Nr.SORTINDEX_MULTIPOINT||this.getSortIndex()===Nr.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Nr.SORTINDEX_MULTIPOLYGON},Nr.prototype.interfaces_=function(){return[ae,ee,B]},Nr.prototype.getClass=function(){return Nr},Nr.hasNonEmptyElements=function(l){for(var c=0;c<l.length;c++)if(!l[c].isEmpty())return!0;return!1},Nr.hasNullElements=function(l){for(var c=0;c<l.length;c++)if(null===l[c])return!0;return!1},Dn.serialVersionUID.get=function(){return 0x799ea46522854c00},Dn.SORTINDEX_POINT.get=function(){return 0},Dn.SORTINDEX_MULTIPOINT.get=function(){return 1},Dn.SORTINDEX_LINESTRING.get=function(){return 2},Dn.SORTINDEX_LINEARRING.get=function(){return 3},Dn.SORTINDEX_MULTILINESTRING.get=function(){return 4},Dn.SORTINDEX_POLYGON.get=function(){return 5},Dn.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Dn.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Dn.geometryChangedFilter.get=function(){return nn},Object.defineProperties(Nr,Dn);var nn=function(){};nn.interfaces_=function(){return[Qi]},nn.filter=function(l){l.geometryChangedAction()};var ke=function(){};ke.prototype.filter=function(l){},ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke};var Ge=function(){},xe={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Ge.prototype.isInBoundary=function(l){},Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge},xe.Mod2BoundaryNodeRule.get=function(){return Q},xe.EndPointBoundaryNodeRule.get=function(){return oe},xe.MultiValentEndPointBoundaryNodeRule.get=function(){return We},xe.MonoValentEndPointBoundaryNodeRule.get=function(){return Mt},xe.MOD2_BOUNDARY_RULE.get=function(){return new Q},xe.ENDPOINT_BOUNDARY_RULE.get=function(){return new oe},xe.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new We},xe.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Mt},xe.OGC_SFS_BOUNDARY_RULE.get=function(){return Ge.MOD2_BOUNDARY_RULE},Object.defineProperties(Ge,xe);var Q=function(){};Q.prototype.isInBoundary=function(l){return l%2==1},Q.prototype.interfaces_=function(){return[Ge]},Q.prototype.getClass=function(){return Q};var oe=function(){};oe.prototype.isInBoundary=function(l){return l>0},oe.prototype.interfaces_=function(){return[Ge]},oe.prototype.getClass=function(){return oe};var We=function(){};We.prototype.isInBoundary=function(l){return l>1},We.prototype.interfaces_=function(){return[Ge]},We.prototype.getClass=function(){return We};var Mt=function(){};Mt.prototype.isInBoundary=function(l){return 1===l},Mt.prototype.interfaces_=function(){return[Ge]},Mt.prototype.getClass=function(){return Mt};var St=function(){};St.prototype.add=function(){},St.prototype.addAll=function(){},St.prototype.isEmpty=function(){},St.prototype.iterator=function(){},St.prototype.size=function(){},St.prototype.toArray=function(){},St.prototype.remove=function(){},(E.prototype=new Error).name="IndexOutOfBoundsException";var kt=function(){};kt.prototype.hasNext=function(){},kt.prototype.next=function(){},kt.prototype.remove=function(){};var dn=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.get=function(){},c.prototype.set=function(){},c.prototype.isEmpty=function(){},c}(St);(z.prototype=new Error).name="NoSuchElementException";var me=function(l){function c(){l.call(this),this.array_=[],arguments[0]instanceof St&&this.addAll(arguments[0])}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.ensureCapacity=function(){},c.prototype.interfaces_=function(){return[l,St]},c.prototype.add=function(_){return 1===arguments.length?this.array_.push(_):this.array_.splice(arguments[0],arguments[1]),!0},c.prototype.clear=function(){this.array_=[]},c.prototype.addAll=function(_){for(var w=_.iterator();w.hasNext();)this.add(w.next());return!0},c.prototype.set=function(_,w){var I=this.array_[_];return this.array_[_]=w,I},c.prototype.iterator=function(){return new ce(this)},c.prototype.get=function(_){if(_<0||_>=this.size())throw new E;return this.array_[_]},c.prototype.isEmpty=function(){return 0===this.array_.length},c.prototype.size=function(){return this.array_.length},c.prototype.toArray=function(){for(var _=[],w=0,I=this.array_.length;w<I;w++)_.push(this.array_[w]);return _},c.prototype.remove=function(_){for(var w=!1,I=0,W=this.array_.length;I<W;I++)if(this.array_[I]===_){this.array_.splice(I,1),w=!0;break}return w},c}(dn),ce=function(l){function c(_){l.call(this),this.arrayList_=_,this.position_=0}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new z;return this.arrayList_.get(this.position_++)},c.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},c.prototype.set=function(_){return this.arrayList_.set(this.position_-1,_)},c.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},c}(kt),Se=function(l){function c(){if(l.call(this),0!==arguments.length)if(1===arguments.length){var w=arguments[0];this.ensureCapacity(w.length),this.add(w,!0)}else if(2===arguments.length){var I=arguments[0],W=arguments[1];this.ensureCapacity(I.length),this.add(I,W)}}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={coordArrayType:{configurable:!0}};return _.coordArrayType.get=function(){return new Array(0).fill(null)},c.prototype.getCoordinate=function(w){return this.get(w)},c.prototype.addAll=function(){if(2===arguments.length){for(var I=arguments[1],W=!1,re=arguments[0].iterator();re.hasNext();)this.add(re.next(),I),W=!0;return W}return l.prototype.addAll.apply(this,arguments)},c.prototype.clone=function(){for(var w=l.prototype.clone.call(this),I=0;I<this.size();I++)w.add(I,this.get(I).copy());return w},c.prototype.toCoordinateArray=function(){return this.toArray(c.coordArrayType)},c.prototype.add=function(){if(1===arguments.length)l.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof se&&"boolean"==typeof arguments[1]){var re=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(re))return null;l.prototype.add.call(this,re)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var g=arguments[0],M=arguments[1];if(arguments[2])for(var S=0;S<g.length;S++)this.add(g[S],M);else for(var A=g.length-1;A>=0;A--)this.add(g[A],M);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof se){var Y=arguments[0],U=arguments[1];if(!arguments[2]){var K=this.size();if(K>0&&(Y>0&&this.get(Y-1).equals2D(U)||Y<K&&this.get(Y).equals2D(U)))return null}l.prototype.add.call(this,Y,U)}}else if(4===arguments.length){var ge=arguments[0],Ce=arguments[1],Ne=arguments[2],ot=arguments[3],Pt=1;Ne>ot&&(Pt=-1);for(var Lt=Ne;Lt!==ot;Lt+=Pt)this.add(ge[Lt],Ce);return!0}},c.prototype.closeRing=function(){this.size()>0&&this.add(new se(this.get(0)),!1)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},Object.defineProperties(c,_),c}(me),Me=function(){},Je={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Je.ForwardComparator.get=function(){return gt},Je.BidirectionalComparator.get=function(){return Ft},Je.coordArrayType.get=function(){return new Array(0).fill(null)},Me.prototype.interfaces_=function(){return[]},Me.prototype.getClass=function(){return Me},Me.isRing=function(l){return!(l.length<4||!l[0].equals2D(l[l.length-1]))},Me.ptNotInList=function(l,c){for(var _=0;_<l.length;_++){var w=l[_];if(Me.indexOf(w,c)<0)return w}return null},Me.scroll=function(l,c){var _=Me.indexOf(c,l);if(_<0)return null;var w=new Array(l.length).fill(null);un.arraycopy(l,_,w,0,l.length-_),un.arraycopy(l,0,w,l.length-_,_),un.arraycopy(w,0,l,0,l.length)},Me.equals=function(){if(2===arguments.length){var l=arguments[0],c=arguments[1];if(l===c)return!0;if(null===l||null===c||l.length!==c.length)return!1;for(var _=0;_<l.length;_++)if(!l[_].equals(c[_]))return!1;return!0}if(3===arguments.length){var w=arguments[0],I=arguments[1],W=arguments[2];if(w===I)return!0;if(null===w||null===I||w.length!==I.length)return!1;for(var re=0;re<w.length;re++)if(0!==W.compare(w[re],I[re]))return!1;return!0}},Me.intersection=function(l,c){for(var _=new Se,w=0;w<l.length;w++)c.intersects(l[w])&&_.add(l[w],!0);return _.toCoordinateArray()},Me.hasRepeatedPoints=function(l){for(var c=1;c<l.length;c++)if(l[c-1].equals(l[c]))return!0;return!1},Me.removeRepeatedPoints=function(l){return Me.hasRepeatedPoints(l)?new Se(l,!1).toCoordinateArray():l},Me.reverse=function(l){for(var c=l.length-1,_=Math.trunc(c/2),w=0;w<=_;w++){var I=l[w];l[w]=l[c-w],l[c-w]=I}},Me.removeNull=function(l){for(var c=0,_=0;_<l.length;_++)null!==l[_]&&c++;var w=new Array(c).fill(null);if(0===c)return w;for(var I=0,W=0;W<l.length;W++)null!==l[W]&&(w[I++]=l[W]);return w},Me.copyDeep=function(){if(1===arguments.length){for(var l=arguments[0],c=new Array(l.length).fill(null),_=0;_<l.length;_++)c[_]=new se(l[_]);return c}if(5===arguments.length)for(var w=arguments[0],I=arguments[1],W=arguments[2],re=arguments[3],x=arguments[4],o=0;o<x;o++)W[re+o]=new se(w[I+o])},Me.isEqualReversed=function(l,c){for(var _=0;_<l.length;_++)if(0!==l[_].compareTo(c[l.length-_-1]))return!1;return!0},Me.envelope=function(l){for(var c=new Rn,_=0;_<l.length;_++)c.expandToInclude(l[_]);return c},Me.toCoordinateArray=function(l){return l.toArray(Me.coordArrayType)},Me.atLeastNCoordinatesOrNothing=function(l,c){return c.length>=l?c:[]},Me.indexOf=function(l,c){for(var _=0;_<c.length;_++)if(l.equals(c[_]))return _;return-1},Me.increasingDirection=function(l){for(var c=0;c<Math.trunc(l.length/2);c++){var w=l[c].compareTo(l[l.length-1-c]);if(0!==w)return w}return 1},Me.compare=function(l,c){for(var _=0;_<l.length&&_<c.length;){var w=l[_].compareTo(c[_]);if(0!==w)return w;_++}return _<c.length?-1:_<l.length?1:0},Me.minCoordinate=function(l){for(var c=null,_=0;_<l.length;_++)(null===c||c.compareTo(l[_])>0)&&(c=l[_]);return c},Me.extract=function(l,c,_){c=He.clamp(c,0,l.length);var w=(_=He.clamp(_,-1,l.length))-c+1;_<0&&(w=0),c>=l.length&&(w=0),_<c&&(w=0);var I=new Array(w).fill(null);if(0===w)return I;for(var W=0,re=c;re<=_;re++)I[W++]=l[re];return I},Object.defineProperties(Me,Je);var gt=function(){};gt.prototype.compare=function(l,c){return Me.compare(l,c)},gt.prototype.interfaces_=function(){return[ne]},gt.prototype.getClass=function(){return gt};var Ft=function(){};Ft.prototype.compare=function(l,c){var _=l,w=c;if(_.length<w.length)return-1;if(_.length>w.length)return 1;if(0===_.length)return 0;var I=Me.compare(_,w);return Me.isEqualReversed(_,w)?0:I},Ft.prototype.OLDcompare=function(l,c){var _=l,w=c;if(_.length<w.length)return-1;if(_.length>w.length)return 1;if(0===_.length)return 0;for(var I=Me.increasingDirection(_),W=Me.increasingDirection(w),re=I>0?0:_.length-1,x=W>0?0:_.length-1,o=0;o<_.length;o++){var g=_[re].compareTo(w[x]);if(0!==g)return g;re+=I,x+=W}return 0},Ft.prototype.interfaces_=function(){return[ne]},Ft.prototype.getClass=function(){return Ft};var Tt=function(){};Tt.prototype.get=function(){},Tt.prototype.put=function(){},Tt.prototype.size=function(){},Tt.prototype.values=function(){},Tt.prototype.entrySet=function(){};var xt=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c}(Tt);(p.prototype=new Error).name="OperationNotSupported",(O.prototype=new St).contains=function(){};var Bt=function(l){function c(){l.call(this),this.array_=[],arguments[0]instanceof St&&this.addAll(arguments[0])}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.contains=function(_){for(var w=0,I=this.array_.length;w<I;w++)if(this.array_[w]===_)return!0;return!1},c.prototype.add=function(_){return!this.contains(_)&&(this.array_.push(_),!0)},c.prototype.addAll=function(_){for(var w=_.iterator();w.hasNext();)this.add(w.next());return!0},c.prototype.remove=function(_){throw new Error},c.prototype.size=function(){return this.array_.length},c.prototype.isEmpty=function(){return 0===this.array_.length},c.prototype.toArray=function(){for(var _=[],w=0,I=this.array_.length;w<I;w++)_.push(this.array_[w]);return _},c.prototype.iterator=function(){return new hn(this)},c}(O),hn=function(l){function c(_){l.call(this),this.hashSet_=_,this.position_=0}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new z;return this.hashSet_.array_[this.position_++]},c.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},c.prototype.remove=function(){throw new p},c}(kt),En=0;(he.prototype=new xt).get=function(l){for(var c=this.root_;null!==c;){var _=l.compareTo(c.key);if(_<0)c=c.left;else{if(!(_>0))return c.value;c=c.right}}return null},he.prototype.put=function(l,c){if(null===this.root_)return this.root_={key:l,value:c,left:null,right:null,parent:null,color:En,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var _,w,I=this.root_;do{if(_=I,(w=l.compareTo(I.key))<0)I=I.left;else{if(!(w>0)){var W=I.value;return I.value=c,W}I=I.right}}while(null!==I);var re={key:l,left:null,right:null,value:c,parent:_,color:En,getValue:function(){return this.value},getKey:function(){return this.key}};return w<0?_.left=re:_.right=re,this.fixAfterInsertion(re),this.size_++,null},he.prototype.fixAfterInsertion=function(l){for(l.color=1;null!=l&&l!==this.root_&&1===l.parent.color;)if(H(l)===ie(H(H(l)))){var c=Ee(H(H(l)));1===R(c)?(G(H(l),En),G(c,En),G(H(H(l)),1),l=H(H(l))):(l===Ee(H(l))&&(l=H(l),this.rotateLeft(l)),G(H(l),En),G(H(H(l)),1),this.rotateRight(H(H(l))))}else{var _=ie(H(H(l)));1===R(_)?(G(H(l),En),G(_,En),G(H(H(l)),1),l=H(H(l))):(l===ie(H(l))&&(l=H(l),this.rotateRight(l)),G(H(l),En),G(H(H(l)),1),this.rotateLeft(H(H(l))))}this.root_.color=En},he.prototype.values=function(){var l=new me,c=this.getFirstEntry();if(null!==c)for(l.add(c.value);null!==(c=he.successor(c));)l.add(c.value);return l},he.prototype.entrySet=function(){var l=new Bt,c=this.getFirstEntry();if(null!==c)for(l.add(c);null!==(c=he.successor(c));)l.add(c);return l},he.prototype.rotateLeft=function(l){if(null!=l){var c=l.right;l.right=c.left,null!=c.left&&(c.left.parent=l),c.parent=l.parent,null===l.parent?this.root_=c:l.parent.left===l?l.parent.left=c:l.parent.right=c,c.left=l,l.parent=c}},he.prototype.rotateRight=function(l){if(null!=l){var c=l.left;l.left=c.right,null!=c.right&&(c.right.parent=l),c.parent=l.parent,null===l.parent?this.root_=c:l.parent.right===l?l.parent.right=c:l.parent.left=c,c.right=l,l.parent=c}},he.prototype.getFirstEntry=function(){var l=this.root_;if(null!=l)for(;null!=l.left;)l=l.left;return l},he.successor=function(l){if(null===l)return null;if(null!==l.right){for(var c=l.right;null!==c.left;)c=c.left;return c}for(var _=l.parent,w=l;null!==_&&w===_.right;)w=_,_=_.parent;return _},he.prototype.size=function(){return this.size_};var In=function(){};In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},Pe.prototype=new O,(Ie.prototype=new Pe).contains=function(l){for(var c=0,_=this.array_.length;c<_;c++)if(0===this.array_[c].compareTo(l))return!0;return!1},Ie.prototype.add=function(l){if(this.contains(l))return!1;for(var c=0,_=this.array_.length;c<_;c++)if(1===this.array_[c].compareTo(l))return this.array_.splice(c,0,l),!0;return this.array_.push(l),!0},Ie.prototype.addAll=function(l){for(var c=l.iterator();c.hasNext();)this.add(c.next());return!0},Ie.prototype.remove=function(l){throw new p},Ie.prototype.size=function(){return this.array_.length},Ie.prototype.isEmpty=function(){return 0===this.array_.length},Ie.prototype.toArray=function(){for(var l=[],c=0,_=this.array_.length;c<_;c++)l.push(this.array_[c]);return l},Ie.prototype.iterator=function(){return new sr(this)};var sr=function(l){this.treeSet_=l,this.position_=0};sr.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new z;return this.treeSet_.array_[this.position_++]},sr.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},sr.prototype.remove=function(){throw new p};var fr=function(){};fr.sort=function(){var l,c,_,I=arguments[0];if(1===arguments.length)I.sort(function(re,x){return re.compareTo(x)});else if(2===arguments.length)_=arguments[1],I.sort(function(re,x){return _.compare(re,x)});else if(3===arguments.length){(c=I.slice(arguments[1],arguments[2])).sort();var W=I.slice(0,arguments[1]).concat(c,I.slice(arguments[2],I.length));for(I.splice(0,I.length),l=0;l<W.length;l++)I.push(W[l])}else if(4===arguments.length)for(c=I.slice(arguments[1],arguments[2]),_=arguments[3],c.sort(function(re,x){return _.compare(re,x)}),W=I.slice(0,arguments[1]).concat(c,I.slice(arguments[2],I.length)),I.splice(0,I.length),l=0;l<W.length;l++)I.push(W[l])},fr.asList=function(l){for(var c=new me,_=0,w=l.length;_<w;_++)c.add(l[_]);return c};var Gn=function(){},lr={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};lr.P.get=function(){return 0},lr.L.get=function(){return 1},lr.A.get=function(){return 2},lr.FALSE.get=function(){return-1},lr.TRUE.get=function(){return-2},lr.DONTCARE.get=function(){return-3},lr.SYM_FALSE.get=function(){return"F"},lr.SYM_TRUE.get=function(){return"T"},lr.SYM_DONTCARE.get=function(){return"*"},lr.SYM_P.get=function(){return"0"},lr.SYM_L.get=function(){return"1"},lr.SYM_A.get=function(){return"2"},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn},Gn.toDimensionSymbol=function(l){switch(l){case Gn.FALSE:return Gn.SYM_FALSE;case Gn.TRUE:return Gn.SYM_TRUE;case Gn.DONTCARE:return Gn.SYM_DONTCARE;case Gn.P:return Gn.SYM_P;case Gn.L:return Gn.SYM_L;case Gn.A:return Gn.SYM_A}throw new J("Unknown dimension value: "+l)},Gn.toDimensionValue=function(l){switch(De.toUpperCase(l)){case Gn.SYM_FALSE:return Gn.FALSE;case Gn.SYM_TRUE:return Gn.TRUE;case Gn.SYM_DONTCARE:return Gn.DONTCARE;case Gn.SYM_P:return Gn.P;case Gn.SYM_L:return Gn.L;case Gn.SYM_A:return Gn.A}throw new J("Unknown dimension symbol: "+l)},Object.defineProperties(Gn,lr);var hr=function(){};hr.prototype.filter=function(l){},hr.prototype.interfaces_=function(){return[]},hr.prototype.getClass=function(){return hr};var Wr=function(){};Wr.prototype.filter=function(l,c){},Wr.prototype.isDone=function(){},Wr.prototype.isGeometryChanged=function(){},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr};var Ir=function(l){function c(w,I){if(l.call(this,I),this._geometries=w||[],l.hasNullElements(this._geometries))throw new J("geometries must not contain null elements")}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={serialVersionUID:{configurable:!0}};return c.prototype.computeEnvelopeInternal=function(){for(var w=new Rn,I=0;I<this._geometries.length;I++)w.expandToInclude(this._geometries[I].getEnvelopeInternal());return w},c.prototype.getGeometryN=function(w){return this._geometries[w]},c.prototype.getSortIndex=function(){return l.SORTINDEX_GEOMETRYCOLLECTION},c.prototype.getCoordinates=function(){for(var w=new Array(this.getNumPoints()).fill(null),I=-1,W=0;W<this._geometries.length;W++)for(var re=this._geometries[W].getCoordinates(),x=0;x<re.length;x++)w[++I]=re[x];return w},c.prototype.getArea=function(){for(var w=0,I=0;I<this._geometries.length;I++)w+=this._geometries[I].getArea();return w},c.prototype.equalsExact=function(){if(2===arguments.length){var w=arguments[0],I=arguments[1];if(!this.isEquivalentClass(w))return!1;var W=w;if(this._geometries.length!==W._geometries.length)return!1;for(var re=0;re<this._geometries.length;re++)if(!this._geometries[re].equalsExact(W._geometries[re],I))return!1;return!0}return l.prototype.equalsExact.apply(this,arguments)},c.prototype.normalize=function(){for(var w=0;w<this._geometries.length;w++)this._geometries[w].normalize();fr.sort(this._geometries)},c.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},c.prototype.getBoundaryDimension=function(){for(var w=Gn.FALSE,I=0;I<this._geometries.length;I++)w=Math.max(w,this._geometries[I].getBoundaryDimension());return w},c.prototype.getDimension=function(){for(var w=Gn.FALSE,I=0;I<this._geometries.length;I++)w=Math.max(w,this._geometries[I].getDimension());return w},c.prototype.getLength=function(){for(var w=0,I=0;I<this._geometries.length;I++)w+=this._geometries[I].getLength();return w},c.prototype.getNumPoints=function(){for(var w=0,I=0;I<this._geometries.length;I++)w+=this._geometries[I].getNumPoints();return w},c.prototype.getNumGeometries=function(){return this._geometries.length},c.prototype.reverse=function(){for(var I=new Array(this._geometries.length).fill(null),W=0;W<this._geometries.length;W++)I[W]=this._geometries[W].reverse();return this.getFactory().createGeometryCollection(I)},c.prototype.compareToSameClass=function(){if(1===arguments.length){var w=arguments[0],I=new Ie(fr.asList(this._geometries)),W=new Ie(fr.asList(w._geometries));return this.compare(I,W)}if(2===arguments.length){for(var x=arguments[1],o=arguments[0],g=this.getNumGeometries(),M=o.getNumGeometries(),S=0;S<g&&S<M;){var A=this.getGeometryN(S),Y=o.getGeometryN(S),U=A.compareToSameClass(Y,x);if(0!==U)return U;S++}return S<g?1:S<M?-1:0}},c.prototype.apply=function(){if(tt(arguments[0],ke))for(var w=arguments[0],I=0;I<this._geometries.length;I++)this._geometries[I].apply(w);else if(tt(arguments[0],Wr)){var W=arguments[0];if(0===this._geometries.length)return null;for(var re=0;re<this._geometries.length&&(this._geometries[re].apply(W),!W.isDone());re++);W.isGeometryChanged()&&this.geometryChanged()}else if(tt(arguments[0],hr)){var x=arguments[0];x.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(x)}else if(tt(arguments[0],Qi)){var g=arguments[0];g.filter(this);for(var M=0;M<this._geometries.length;M++)this._geometries[M].apply(g)}},c.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),qt.shouldNeverReachHere(),null},c.prototype.clone=function(){var w=l.prototype.clone.call(this);w._geometries=new Array(this._geometries.length).fill(null);for(var I=0;I<this._geometries.length;I++)w._geometries[I]=this._geometries[I].clone();return w},c.prototype.getGeometryType=function(){return"GeometryCollection"},c.prototype.copy=function(){for(var w=new Array(this._geometries.length).fill(null),I=0;I<w.length;I++)w[I]=this._geometries[I].copy();return new c(w,this._factory)},c.prototype.isEmpty=function(){for(var w=0;w<this._geometries.length;w++)if(!this._geometries[w].isEmpty())return!1;return!0},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},_.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(c,_),c}(Nr),wi=function(l){function c(){l.apply(this,arguments)}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={serialVersionUID:{configurable:!0}};return c.prototype.getSortIndex=function(){return Nr.SORTINDEX_MULTILINESTRING},c.prototype.equalsExact=function(){if(2===arguments.length){var w=arguments[0],I=arguments[1];return!!this.isEquivalentClass(w)&&l.prototype.equalsExact.call(this,w,I)}return l.prototype.equalsExact.apply(this,arguments)},c.prototype.getBoundaryDimension=function(){return this.isClosed()?Gn.FALSE:0},c.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var w=0;w<this._geometries.length;w++)if(!this._geometries[w].isClosed())return!1;return!0},c.prototype.getDimension=function(){return 1},c.prototype.reverse=function(){for(var w=this._geometries.length,I=new Array(w).fill(null),W=0;W<this._geometries.length;W++)I[w-1-W]=this._geometries[W].reverse();return this.getFactory().createMultiLineString(I)},c.prototype.getBoundary=function(){return new li(this).getBoundary()},c.prototype.getGeometryType=function(){return"MultiLineString"},c.prototype.copy=function(){for(var w=new Array(this._geometries.length).fill(null),I=0;I<w.length;I++)w[I]=this._geometries[I].copy();return new c(w,this._factory)},c.prototype.interfaces_=function(){return[In]},c.prototype.getClass=function(){return c},_.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(c,_),c}(Ir),li=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var l=arguments[0],c=Ge.MOD2_BOUNDARY_RULE;this._geom=l,this._geomFact=l.getFactory(),this._bnRule=c}else if(2===arguments.length){var _=arguments[0],w=arguments[1];this._geom=_,this._geomFact=_.getFactory(),this._bnRule=w}};li.prototype.boundaryMultiLineString=function(l){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var c=this.computeBoundaryCoordinates(l);return 1===c.length?this._geomFact.createPoint(c[0]):this._geomFact.createMultiPointFromCoords(c)},li.prototype.getBoundary=function(){return this._geom instanceof Zi?this.boundaryLineString(this._geom):this._geom instanceof wi?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},li.prototype.boundaryLineString=function(l){return this._geom.isEmpty()?this.getEmptyMultiPoint():l.isClosed()?this._bnRule.isInBoundary(2)?l.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([l.getStartPoint(),l.getEndPoint()])},li.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},li.prototype.computeBoundaryCoordinates=function(l){var c=new me;this._endpointMap=new he;for(var _=0;_<l.getNumGeometries();_++){var w=l.getGeometryN(_);0!==w.getNumPoints()&&(this.addEndpoint(w.getCoordinateN(0)),this.addEndpoint(w.getCoordinateN(w.getNumPoints()-1)))}for(var I=this._endpointMap.entrySet().iterator();I.hasNext();){var W=I.next(),re=W.getValue().count;this._bnRule.isInBoundary(re)&&c.add(W.getKey())}return Me.toCoordinateArray(c)},li.prototype.addEndpoint=function(l){var c=this._endpointMap.get(l);null===c&&(c=new Js,this._endpointMap.put(l,c)),c.count++},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},li.getBoundary=function(){return 1===arguments.length?new li(arguments[0]).getBoundary():2===arguments.length?new li(arguments[0],arguments[1]).getBoundary():void 0};var Js=function(){this.count=null};Js.prototype.interfaces_=function(){return[]},Js.prototype.getClass=function(){return Js};var mi=function(){},Cs={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi},mi.chars=function(l,c){for(var _=new Array(c).fill(null),w=0;w<c;w++)_[w]=l;return String(_)},mi.getStackTrace=function(){if(1===arguments.length){var l=arguments[0],c=new function(){},_=new function(){}(c);return l.printStackTrace(_),c.toString()}if(2===arguments.length){for(var I=arguments[1],W="",re=new function(){}(new function(){}(mi.getStackTrace(arguments[0]))),x=0;x<I;x++)try{W+=re.readLine()+mi.NEWLINE}catch(o){if(!(o instanceof it))throw o;qt.shouldNeverReachHere()}return W}},mi.split=function(l,c){for(var _=c.length,w=new me,I=""+l,W=I.indexOf(c);W>=0;){var re=I.substring(0,W);w.add(re),W=(I=I.substring(W+_)).indexOf(c)}I.length>0&&w.add(I);for(var x=new Array(w.size()).fill(null),o=0;o<x.length;o++)x[o]=w.get(o);return x},mi.toString=function(){if(1===arguments.length)return mi.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},mi.spaces=function(l){return mi.chars(" ",l)},Cs.NEWLINE.get=function(){return un.getProperty("line.separator")},Cs.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(mi,Cs);var Yi=function(){};Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi},Yi.copyCoord=function(l,c,_,w){for(var I=Math.min(l.getDimension(),_.getDimension()),W=0;W<I;W++)_.setOrdinate(w,W,l.getOrdinate(c,W))},Yi.isRing=function(l){var c=l.size();return 0===c||!(c<=3)&&l.getOrdinate(0,Ct.X)===l.getOrdinate(c-1,Ct.X)&&l.getOrdinate(0,Ct.Y)===l.getOrdinate(c-1,Ct.Y)},Yi.isEqual=function(l,c){var _=l.size();if(_!==c.size())return!1;for(var w=Math.min(l.getDimension(),c.getDimension()),I=0;I<_;I++)for(var W=0;W<w;W++){var re=l.getOrdinate(I,W),x=c.getOrdinate(I,W);if(!(l.getOrdinate(I,W)===c.getOrdinate(I,W)||te.isNaN(re)&&te.isNaN(x)))return!1}return!0},Yi.extend=function(l,c,_){var w=l.create(_,c.getDimension()),I=c.size();if(Yi.copy(c,0,w,0,I),I>0)for(var W=I;W<_;W++)Yi.copy(c,I-1,w,W,1);return w},Yi.reverse=function(l){for(var c=l.size()-1,_=Math.trunc(c/2),w=0;w<=_;w++)Yi.swap(l,w,c-w)},Yi.swap=function(l,c,_){if(c===_)return null;for(var w=0;w<l.getDimension();w++){var I=l.getOrdinate(c,w);l.setOrdinate(c,w,l.getOrdinate(_,w)),l.setOrdinate(_,w,I)}},Yi.copy=function(l,c,_,w,I){for(var W=0;W<I;W++)Yi.copyCoord(l,c+W,_,w+W)},Yi.toString=function(){if(1===arguments.length){var l=arguments[0],c=l.size();if(0===c)return"()";var _=l.getDimension(),w=new et;w.append("(");for(var I=0;I<c;I++){I>0&&w.append(" ");for(var W=0;W<_;W++)W>0&&w.append(","),w.append(mi.toString(l.getOrdinate(I,W)))}return w.append(")"),w.toString()}},Yi.ensureValidRing=function(l,c){var _=c.size();return 0===_?c:_<=3?Yi.createClosedRing(l,c,4):c.getOrdinate(0,Ct.X)===c.getOrdinate(_-1,Ct.X)&&c.getOrdinate(0,Ct.Y)===c.getOrdinate(_-1,Ct.Y)?c:Yi.createClosedRing(l,c,_+1)},Yi.createClosedRing=function(l,c,_){var w=l.create(_,c.getDimension()),I=c.size();Yi.copy(c,0,w,0,I);for(var W=I;W<_;W++)Yi.copy(c,0,w,W,1);return w};var Zi=function(l){function c(w,I){l.call(this,I),this._points=null,this.init(w)}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={serialVersionUID:{configurable:!0}};return c.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Rn:this._points.expandEnvelope(new Rn)},c.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},c.prototype.getSortIndex=function(){return l.SORTINDEX_LINESTRING},c.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},c.prototype.equalsExact=function(){if(2===arguments.length){var w=arguments[0],I=arguments[1];if(!this.isEquivalentClass(w))return!1;var W=w;if(this._points.size()!==W._points.size())return!1;for(var re=0;re<this._points.size();re++)if(!this.equal(this._points.getCoordinate(re),W._points.getCoordinate(re),I))return!1;return!0}return l.prototype.equalsExact.apply(this,arguments)},c.prototype.normalize=function(){for(var w=0;w<Math.trunc(this._points.size()/2);w++){var I=this._points.size()-1-w;if(!this._points.getCoordinate(w).equals(this._points.getCoordinate(I)))return this._points.getCoordinate(w).compareTo(this._points.getCoordinate(I))>0&&Yi.reverse(this._points),null}},c.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},c.prototype.getBoundaryDimension=function(){return this.isClosed()?Gn.FALSE:0},c.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},c.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},c.prototype.getDimension=function(){return 1},c.prototype.getLength=function(){return Zn.computeLength(this._points)},c.prototype.getNumPoints=function(){return this._points.size()},c.prototype.reverse=function(){var w=this._points.copy();return Yi.reverse(w),this.getFactory().createLineString(w)},c.prototype.compareToSameClass=function(){if(1===arguments.length){for(var w=arguments[0],I=0,W=0;I<this._points.size()&&W<w._points.size();){var re=this._points.getCoordinate(I).compareTo(w._points.getCoordinate(W));if(0!==re)return re;I++,W++}return I<this._points.size()?1:W<w._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},c.prototype.apply=function(){if(tt(arguments[0],ke))for(var w=arguments[0],I=0;I<this._points.size();I++)w.filter(this._points.getCoordinate(I));else if(tt(arguments[0],Wr)){var W=arguments[0];if(0===this._points.size())return null;for(var re=0;re<this._points.size()&&(W.filter(this._points,re),!W.isDone());re++);W.isGeometryChanged()&&this.geometryChanged()}else(tt(arguments[0],hr)||tt(arguments[0],Qi))&&arguments[0].filter(this)},c.prototype.getBoundary=function(){return new li(this).getBoundary()},c.prototype.isEquivalentClass=function(w){return w instanceof c},c.prototype.clone=function(){var w=l.prototype.clone.call(this);return w._points=this._points.clone(),w},c.prototype.getCoordinateN=function(w){return this._points.getCoordinate(w)},c.prototype.getGeometryType=function(){return"LineString"},c.prototype.copy=function(){return new c(this._points.copy(),this._factory)},c.prototype.getCoordinateSequence=function(){return this._points},c.prototype.isEmpty=function(){return 0===this._points.size()},c.prototype.init=function(w){if(null===w&&(w=this.getFactory().getCoordinateSequenceFactory().create([])),1===w.size())throw new J("Invalid number of points in LineString (found "+w.size()+" - must be 0 or >= 2)");this._points=w},c.prototype.isCoordinate=function(w){for(var I=0;I<this._points.size();I++)if(this._points.getCoordinate(I).equals(w))return!0;return!1},c.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},c.prototype.getPointN=function(w){return this.getFactory().createPoint(this._points.getCoordinate(w))},c.prototype.interfaces_=function(){return[In]},c.prototype.getClass=function(){return c},_.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(c,_),c}(Nr),za=function(){};za.prototype.interfaces_=function(){return[]},za.prototype.getClass=function(){return za};var no=function(l){function c(w,I){l.call(this,I),this._coordinates=w||null,this.init(this._coordinates)}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={serialVersionUID:{configurable:!0}};return c.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Rn;var w=new Rn;return w.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),w},c.prototype.getSortIndex=function(){return l.SORTINDEX_POINT},c.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},c.prototype.equalsExact=function(){if(2===arguments.length){var w=arguments[0],I=arguments[1];return!!this.isEquivalentClass(w)&&(!(!this.isEmpty()||!w.isEmpty())||this.isEmpty()===w.isEmpty()&&this.equal(w.getCoordinate(),this.getCoordinate(),I))}return l.prototype.equalsExact.apply(this,arguments)},c.prototype.normalize=function(){},c.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},c.prototype.getBoundaryDimension=function(){return Gn.FALSE},c.prototype.getDimension=function(){return 0},c.prototype.getNumPoints=function(){return this.isEmpty()?0:1},c.prototype.reverse=function(){return this.copy()},c.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},c.prototype.compareToSameClass=function(){if(1===arguments.length){var w=arguments[0];return this.getCoordinate().compareTo(w.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},c.prototype.apply=function(){if(tt(arguments[0],ke)){var w=arguments[0];if(this.isEmpty())return null;w.filter(this.getCoordinate())}else if(tt(arguments[0],Wr)){var I=arguments[0];if(this.isEmpty())return null;I.filter(this._coordinates,0),I.isGeometryChanged()&&this.geometryChanged()}else(tt(arguments[0],hr)||tt(arguments[0],Qi))&&arguments[0].filter(this)},c.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},c.prototype.clone=function(){var w=l.prototype.clone.call(this);return w._coordinates=this._coordinates.clone(),w},c.prototype.getGeometryType=function(){return"Point"},c.prototype.copy=function(){return new c(this._coordinates.copy(),this._factory)},c.prototype.getCoordinateSequence=function(){return this._coordinates},c.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},c.prototype.isEmpty=function(){return 0===this._coordinates.size()},c.prototype.init=function(w){null===w&&(w=this.getFactory().getCoordinateSequenceFactory().create([])),qt.isTrue(w.size()<=1),this._coordinates=w},c.prototype.isSimple=function(){return!0},c.prototype.interfaces_=function(){return[za]},c.prototype.getClass=function(){return c},_.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(c,_),c}(Nr),Oo=function(){};Oo.prototype.interfaces_=function(){return[]},Oo.prototype.getClass=function(){return Oo};var Ns=function(l){function c(w,I,W){if(l.call(this,W),this._shell=null,this._holes=null,null===w&&(w=this.getFactory().createLinearRing()),null===I&&(I=[]),l.hasNullElements(I))throw new J("holes must not contain null elements");if(w.isEmpty()&&l.hasNonEmptyElements(I))throw new J("shell is empty but holes are not");this._shell=w,this._holes=I}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={serialVersionUID:{configurable:!0}};return c.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},c.prototype.getSortIndex=function(){return l.SORTINDEX_POLYGON},c.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var w=new Array(this.getNumPoints()).fill(null),I=-1,W=this._shell.getCoordinates(),re=0;re<W.length;re++)w[++I]=W[re];for(var x=0;x<this._holes.length;x++)for(var o=this._holes[x].getCoordinates(),g=0;g<o.length;g++)w[++I]=o[g];return w},c.prototype.getArea=function(){var w=0;w+=Math.abs(Zn.signedArea(this._shell.getCoordinateSequence()));for(var I=0;I<this._holes.length;I++)w-=Math.abs(Zn.signedArea(this._holes[I].getCoordinateSequence()));return w},c.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var w=this._shell.getCoordinateSequence(),I=this.getEnvelopeInternal(),W=0;W<5;W++){var re=w.getX(W);if(re!==I.getMinX()&&re!==I.getMaxX())return!1;var x=w.getY(W);if(x!==I.getMinY()&&x!==I.getMaxY())return!1}for(var o=w.getX(0),g=w.getY(0),M=1;M<=4;M++){var S=w.getX(M),A=w.getY(M);if(S!==o==(A!==g))return!1;o=S,g=A}return!0},c.prototype.equalsExact=function(){if(2===arguments.length){var w=arguments[0],I=arguments[1];if(!this.isEquivalentClass(w))return!1;var W=w;if(!this._shell.equalsExact(W._shell,I)||this._holes.length!==W._holes.length)return!1;for(var o=0;o<this._holes.length;o++)if(!this._holes[o].equalsExact(W._holes[o],I))return!1;return!0}return l.prototype.equalsExact.apply(this,arguments)},c.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var w=0;w<this._holes.length;w++)this.normalize(this._holes[w],!1);fr.sort(this._holes)}else if(2===arguments.length){var I=arguments[0],W=arguments[1];if(I.isEmpty())return null;var re=new Array(I.getCoordinates().length-1).fill(null);un.arraycopy(I.getCoordinates(),0,re,0,re.length);var x=Me.minCoordinate(I.getCoordinates());Me.scroll(re,x),un.arraycopy(re,0,I.getCoordinates(),0,re.length),I.getCoordinates()[re.length]=re[0],Zn.isCCW(I.getCoordinates())===W&&Me.reverse(I.getCoordinates())}},c.prototype.getCoordinate=function(){return this._shell.getCoordinate()},c.prototype.getNumInteriorRing=function(){return this._holes.length},c.prototype.getBoundaryDimension=function(){return 1},c.prototype.getDimension=function(){return 2},c.prototype.getLength=function(){var w=0;w+=this._shell.getLength();for(var I=0;I<this._holes.length;I++)w+=this._holes[I].getLength();return w},c.prototype.getNumPoints=function(){for(var w=this._shell.getNumPoints(),I=0;I<this._holes.length;I++)w+=this._holes[I].getNumPoints();return w},c.prototype.reverse=function(){var w=this.copy();w._shell=this._shell.copy().reverse(),w._holes=new Array(this._holes.length).fill(null);for(var I=0;I<this._holes.length;I++)w._holes[I]=this._holes[I].copy().reverse();return w},c.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},c.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var x=arguments[1],o=arguments[0],S=this._shell.compareToSameClass(o._shell,x);if(0!==S)return S;for(var A=this.getNumInteriorRing(),Y=o.getNumInteriorRing(),U=0;U<A&&U<Y;){var K=this.getInteriorRingN(U),ge=o.getInteriorRingN(U),Ce=K.compareToSameClass(ge,x);if(0!==Ce)return Ce;U++}return U<A?1:U<Y?-1:0}},c.prototype.apply=function(w){if(tt(w,ke)){this._shell.apply(w);for(var I=0;I<this._holes.length;I++)this._holes[I].apply(w)}else if(tt(w,Wr)){if(this._shell.apply(w),!w.isDone())for(var W=0;W<this._holes.length&&(this._holes[W].apply(w),!w.isDone());W++);w.isGeometryChanged()&&this.geometryChanged()}else if(tt(w,hr))w.filter(this);else if(tt(w,Qi)){w.filter(this),this._shell.apply(w);for(var re=0;re<this._holes.length;re++)this._holes[re].apply(w)}},c.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var w=new Array(this._holes.length+1).fill(null);w[0]=this._shell;for(var I=0;I<this._holes.length;I++)w[I+1]=this._holes[I];return w.length<=1?this.getFactory().createLinearRing(w[0].getCoordinateSequence()):this.getFactory().createMultiLineString(w)},c.prototype.clone=function(){var w=l.prototype.clone.call(this);w._shell=this._shell.clone(),w._holes=new Array(this._holes.length).fill(null);for(var I=0;I<this._holes.length;I++)w._holes[I]=this._holes[I].clone();return w},c.prototype.getGeometryType=function(){return"Polygon"},c.prototype.copy=function(){for(var w=this._shell.copy(),I=new Array(this._holes.length).fill(null),W=0;W<I.length;W++)I[W]=this._holes[W].copy();return new c(w,I,this._factory)},c.prototype.getExteriorRing=function(){return this._shell},c.prototype.isEmpty=function(){return this._shell.isEmpty()},c.prototype.getInteriorRingN=function(w){return this._holes[w]},c.prototype.interfaces_=function(){return[Oo]},c.prototype.getClass=function(){return c},_.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(c,_),c}(Nr),Wi=function(l){function c(){l.apply(this,arguments)}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={serialVersionUID:{configurable:!0}};return c.prototype.getSortIndex=function(){return Nr.SORTINDEX_MULTIPOINT},c.prototype.isValid=function(){return!0},c.prototype.equalsExact=function(){if(2===arguments.length){var w=arguments[0],I=arguments[1];return!!this.isEquivalentClass(w)&&l.prototype.equalsExact.call(this,w,I)}return l.prototype.equalsExact.apply(this,arguments)},c.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():l.prototype.getCoordinate.apply(this,arguments)},c.prototype.getBoundaryDimension=function(){return Gn.FALSE},c.prototype.getDimension=function(){return 0},c.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},c.prototype.getGeometryType=function(){return"MultiPoint"},c.prototype.copy=function(){for(var w=new Array(this._geometries.length).fill(null),I=0;I<w.length;I++)w[I]=this._geometries[I].copy();return new c(w,this._factory)},c.prototype.interfaces_=function(){return[za]},c.prototype.getClass=function(){return c},_.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(c,_),c}(Ir),Xi=function(l){function c(w,I){w instanceof se&&I instanceof Cn&&(w=I.getCoordinateSequenceFactory().create(w)),l.call(this,w,I),this.validateConstruction()}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return c.prototype.getSortIndex=function(){return Nr.SORTINDEX_LINEARRING},c.prototype.getBoundaryDimension=function(){return Gn.FALSE},c.prototype.isClosed=function(){return!!this.isEmpty()||l.prototype.isClosed.call(this)},c.prototype.reverse=function(){var w=this._points.copy();return Yi.reverse(w),this.getFactory().createLinearRing(w)},c.prototype.validateConstruction=function(){if(!this.isEmpty()&&!l.prototype.isClosed.call(this))throw new J("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<c.MINIMUM_VALID_SIZE)throw new J("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},c.prototype.getGeometryType=function(){return"LinearRing"},c.prototype.copy=function(){return new c(this._points.copy(),this._factory)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},_.MINIMUM_VALID_SIZE.get=function(){return 4},_.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(c,_),c}(Zi),jn=function(l){function c(){l.apply(this,arguments)}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={serialVersionUID:{configurable:!0}};return c.prototype.getSortIndex=function(){return Nr.SORTINDEX_MULTIPOLYGON},c.prototype.equalsExact=function(){if(2===arguments.length){var w=arguments[0],I=arguments[1];return!!this.isEquivalentClass(w)&&l.prototype.equalsExact.call(this,w,I)}return l.prototype.equalsExact.apply(this,arguments)},c.prototype.getBoundaryDimension=function(){return 1},c.prototype.getDimension=function(){return 2},c.prototype.reverse=function(){for(var I=new Array(this._geometries.length).fill(null),W=0;W<this._geometries.length;W++)I[W]=this._geometries[W].reverse();return this.getFactory().createMultiPolygon(I)},c.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var w=new me,I=0;I<this._geometries.length;I++)for(var W=this._geometries[I].getBoundary(),re=0;re<W.getNumGeometries();re++)w.add(W.getGeometryN(re));var x=new Array(w.size()).fill(null);return this.getFactory().createMultiLineString(w.toArray(x))},c.prototype.getGeometryType=function(){return"MultiPolygon"},c.prototype.copy=function(){for(var w=new Array(this._geometries.length).fill(null),I=0;I<w.length;I++)w[I]=this._geometries[I].copy();return new c(w,this._factory)},c.prototype.interfaces_=function(){return[Oo]},c.prototype.getClass=function(){return c},_.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(c,_),c}(Ir),vr=function(l){this._factory=l||null,this._isUserDataCopied=!1},Qr={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};vr.prototype.setCopyUserData=function(l){this._isUserDataCopied=l},vr.prototype.edit=function(l,c){if(null===l)return null;var _=this.editInternal(l,c);return this._isUserDataCopied&&_.setUserData(l.getUserData()),_},vr.prototype.editInternal=function(l,c){return null===this._factory&&(this._factory=l.getFactory()),l instanceof Ir?this.editGeometryCollection(l,c):l instanceof Ns?this.editPolygon(l,c):l instanceof no||l instanceof Zi?c.edit(l,this._factory):(qt.shouldNeverReachHere("Unsupported Geometry class: "+l.getClass().getName()),null)},vr.prototype.editGeometryCollection=function(l,c){for(var _=c.edit(l,this._factory),w=new me,I=0;I<_.getNumGeometries();I++){var W=this.edit(_.getGeometryN(I),c);null===W||W.isEmpty()||w.add(W)}return _.getClass()===Wi?this._factory.createMultiPoint(w.toArray([])):_.getClass()===wi?this._factory.createMultiLineString(w.toArray([])):_.getClass()===jn?this._factory.createMultiPolygon(w.toArray([])):this._factory.createGeometryCollection(w.toArray([]))},vr.prototype.editPolygon=function(l,c){var _=c.edit(l,this._factory);if(null===_&&(_=this._factory.createPolygon(null)),_.isEmpty())return _;var w=this.edit(_.getExteriorRing(),c);if(null===w||w.isEmpty())return this._factory.createPolygon();for(var I=new me,W=0;W<_.getNumInteriorRing();W++){var re=this.edit(_.getInteriorRingN(W),c);null===re||re.isEmpty()||I.add(re)}return this._factory.createPolygon(w,I.toArray([]))},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.GeometryEditorOperation=function(){},Qr.NoOpGeometryOperation.get=function(){return Xs},Qr.CoordinateOperation.get=function(){return hs},Qr.CoordinateSequenceOperation.get=function(){return ps},Object.defineProperties(vr,Qr);var Xs=function(){};Xs.prototype.edit=function(l,c){return l},Xs.prototype.interfaces_=function(){return[vr.GeometryEditorOperation]},Xs.prototype.getClass=function(){return Xs};var hs=function(){};hs.prototype.edit=function(l,c){var _=this.editCoordinates(l.getCoordinates(),l);return null===_?l:l instanceof Xi?c.createLinearRing(_):l instanceof Zi?c.createLineString(_):l instanceof no?_.length>0?c.createPoint(_[0]):c.createPoint():l},hs.prototype.interfaces_=function(){return[vr.GeometryEditorOperation]},hs.prototype.getClass=function(){return hs};var ps=function(){};ps.prototype.edit=function(l,c){return l instanceof Xi?c.createLinearRing(this.edit(l.getCoordinateSequence(),l)):l instanceof Zi?c.createLineString(this.edit(l.getCoordinateSequence(),l)):l instanceof no?c.createPoint(this.edit(l.getCoordinateSequence(),l)):l},ps.prototype.interfaces_=function(){return[vr.GeometryEditorOperation]},ps.prototype.getClass=function(){return ps};var Ds=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var l=arguments[0];this._coordinates=new Array(l).fill(null);for(var c=0;c<l;c++)this._coordinates[c]=new se}else if(tt(arguments[0],Ct)){var _=arguments[0];if(null===_)return this._coordinates=new Array(0).fill(null),null;this._dimension=_.getDimension(),this._coordinates=new Array(_.size()).fill(null);for(var w=0;w<this._coordinates.length;w++)this._coordinates[w]=_.getCoordinateCopy(w)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var I=arguments[0],W=arguments[1];this._coordinates=I,this._dimension=W,null===I&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var re=arguments[0],x=arguments[1];this._coordinates=new Array(re).fill(null),this._dimension=x;for(var o=0;o<re;o++)this._coordinates[o]=new se}},kl={serialVersionUID:{configurable:!0}};Ds.prototype.setOrdinate=function(l,c,_){switch(c){case Ct.X:this._coordinates[l].x=_;break;case Ct.Y:this._coordinates[l].y=_;break;case Ct.Z:this._coordinates[l].z=_;break;default:throw new J("invalid ordinateIndex")}},Ds.prototype.size=function(){return this._coordinates.length},Ds.prototype.getOrdinate=function(l,c){switch(c){case Ct.X:return this._coordinates[l].x;case Ct.Y:return this._coordinates[l].y;case Ct.Z:return this._coordinates[l].z}return te.NaN},Ds.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var c=arguments[0],_=arguments[1];_.x=this._coordinates[c].x,_.y=this._coordinates[c].y,_.z=this._coordinates[c].z}},Ds.prototype.getCoordinateCopy=function(l){return new se(this._coordinates[l])},Ds.prototype.getDimension=function(){return this._dimension},Ds.prototype.getX=function(l){return this._coordinates[l].x},Ds.prototype.clone=function(){for(var l=new Array(this.size()).fill(null),c=0;c<this._coordinates.length;c++)l[c]=this._coordinates[c].clone();return new Ds(l,this._dimension)},Ds.prototype.expandEnvelope=function(l){for(var c=0;c<this._coordinates.length;c++)l.expandToInclude(this._coordinates[c]);return l},Ds.prototype.copy=function(){for(var l=new Array(this.size()).fill(null),c=0;c<this._coordinates.length;c++)l[c]=this._coordinates[c].copy();return new Ds(l,this._dimension)},Ds.prototype.toString=function(){if(this._coordinates.length>0){var l=new et(17*this._coordinates.length);l.append("("),l.append(this._coordinates[0]);for(var c=1;c<this._coordinates.length;c++)l.append(", "),l.append(this._coordinates[c]);return l.append(")"),l.toString()}return"()"},Ds.prototype.getY=function(l){return this._coordinates[l].y},Ds.prototype.toCoordinateArray=function(){return this._coordinates},Ds.prototype.interfaces_=function(){return[Ct,B]},Ds.prototype.getClass=function(){return Ds},kl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Ds,kl);var mt=function(){},It={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};mt.prototype.readResolve=function(){return mt.instance()},mt.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Ds(arguments[0]);if(tt(arguments[0],Ct))return new Ds(arguments[0])}else if(2===arguments.length){var _=arguments[0],w=arguments[1];return w>3&&(w=3),w<2?new Ds(_):new Ds(_,w)}},mt.prototype.interfaces_=function(){return[rt,B]},mt.prototype.getClass=function(){return mt},mt.instance=function(){return mt.instanceObject},It.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},It.instanceObject.get=function(){return new mt},Object.defineProperties(mt,It);var Ot=function(l){function c(){l.call(this),this.map_=new Map}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.get=function(_){return this.map_.get(_)||null},c.prototype.put=function(_,w){return this.map_.set(_,w),w},c.prototype.values=function(){for(var _=new me,w=this.map_.values(),I=w.next();!I.done;)_.add(I.value),I=w.next();return _},c.prototype.entrySet=function(){var _=new Bt;return this.map_.entries().forEach(function(w){return _.add(w)}),_},c.prototype.size=function(){return this.map_.size()},c}(Tt),$t=function l(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=l.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof on){var c=arguments[0];this._modelType=c,c===l.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var _=arguments[0];this._modelType=l.FIXED,this.setScale(_)}else if(arguments[0]instanceof l){var w=arguments[0];this._modelType=w._modelType,this._scale=w._scale}},Xt={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};$t.prototype.equals=function(l){return l instanceof $t&&this._modelType===l._modelType&&this._scale===l._scale},$t.prototype.compareTo=function(l){var c=l,_=this.getMaximumSignificantDigits(),w=c.getMaximumSignificantDigits();return new Xe(_).compareTo(new Xe(w))},$t.prototype.getScale=function(){return this._scale},$t.prototype.isFloating=function(){return this._modelType===$t.FLOATING||this._modelType===$t.FLOATING_SINGLE},$t.prototype.getType=function(){return this._modelType},$t.prototype.toString=function(){var l="UNKNOWN";return this._modelType===$t.FLOATING?l="Floating":this._modelType===$t.FLOATING_SINGLE?l="Floating-Single":this._modelType===$t.FIXED&&(l="Fixed (Scale="+this.getScale()+")"),l},$t.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var l=arguments[0];return te.isNaN(l)||this._modelType===$t.FLOATING_SINGLE?l:this._modelType===$t.FIXED?Math.round(l*this._scale)/this._scale:l}if(arguments[0]instanceof se){var c=arguments[0];if(this._modelType===$t.FLOATING)return null;c.x=this.makePrecise(c.x),c.y=this.makePrecise(c.y)}},$t.prototype.getMaximumSignificantDigits=function(){var l=16;return this._modelType===$t.FLOATING?l=16:this._modelType===$t.FLOATING_SINGLE?l=6:this._modelType===$t.FIXED&&(l=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),l},$t.prototype.setScale=function(l){this._scale=Math.abs(l)},$t.prototype.interfaces_=function(){return[B,ee]},$t.prototype.getClass=function(){return $t},$t.mostPrecise=function(l,c){return l.compareTo(c)>=0?l:c},Xt.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Xt.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties($t,Xt);var on=function l(c){this._name=c||null,l.nameToTypeMap.put(c,this)},rr={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};on.prototype.readResolve=function(){return on.nameToTypeMap.get(this._name)},on.prototype.toString=function(){return this._name},on.prototype.interfaces_=function(){return[B]},on.prototype.getClass=function(){return on},rr.serialVersionUID.get=function(){return-552860263173159e4},rr.nameToTypeMap.get=function(){return new Ot},Object.defineProperties(on,rr),$t.Type=on,$t.FIXED=new on("FIXED"),$t.FLOATING=new on("FLOATING"),$t.FLOATING_SINGLE=new on("FLOATING SINGLE");var Cn=function l(){this._precisionModel=new $t,this._SRID=0,this._coordinateSequenceFactory=l.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?tt(arguments[0],rt)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof $t&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},wr={serialVersionUID:{configurable:!0}};Cn.prototype.toGeometry=function(l){return l.isNull()?this.createPoint(null):l.getMinX()===l.getMaxX()&&l.getMinY()===l.getMaxY()?this.createPoint(new se(l.getMinX(),l.getMinY())):l.getMinX()===l.getMaxX()||l.getMinY()===l.getMaxY()?this.createLineString([new se(l.getMinX(),l.getMinY()),new se(l.getMaxX(),l.getMaxY())]):this.createPolygon(this.createLinearRing([new se(l.getMinX(),l.getMinY()),new se(l.getMinX(),l.getMaxY()),new se(l.getMaxX(),l.getMaxY()),new se(l.getMaxX(),l.getMinY()),new se(l.getMinX(),l.getMinY())]),null)},Cn.prototype.createLineString=function(l){return l?l instanceof Array?new Zi(this.getCoordinateSequenceFactory().create(l),this):tt(l,Ct)?new Zi(l,this):void 0:new Zi(this.getCoordinateSequenceFactory().create([]),this)},Cn.prototype.createMultiLineString=function(){return 0===arguments.length?new wi(null,this):1===arguments.length?new wi(arguments[0],this):void 0},Cn.prototype.buildGeometry=function(l){for(var c=null,_=!1,w=!1,I=l.iterator();I.hasNext();){var W=I.next(),re=W.getClass();null===c&&(c=re),re!==c&&(_=!0),W.isGeometryCollectionOrDerived()&&(w=!0)}if(null===c)return this.createGeometryCollection();if(_||w)return this.createGeometryCollection(Cn.toGeometryArray(l));var x=l.iterator().next();if(l.size()>1){if(x instanceof Ns)return this.createMultiPolygon(Cn.toPolygonArray(l));if(x instanceof Zi)return this.createMultiLineString(Cn.toLineStringArray(l));if(x instanceof no)return this.createMultiPoint(Cn.toPointArray(l));qt.shouldNeverReachHere("Unhandled class: "+x.getClass().getName())}return x},Cn.prototype.createMultiPointFromCoords=function(l){return this.createMultiPoint(null!==l?this.getCoordinateSequenceFactory().create(l):null)},Cn.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof se){var l=arguments[0];return this.createPoint(null!==l?this.getCoordinateSequenceFactory().create([l]):null)}if(tt(arguments[0],Ct))return new no(arguments[0],this)}},Cn.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Cn.prototype.createPolygon=function(){if(0===arguments.length)return new Ns(null,null,this);if(1===arguments.length){if(tt(arguments[0],Ct))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Xi)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Ns(arguments[0],arguments[1],this)},Cn.prototype.getSRID=function(){return this._SRID},Cn.prototype.createGeometryCollection=function(){return 0===arguments.length?new Ir(null,this):1===arguments.length?new Ir(arguments[0],this):void 0},Cn.prototype.createGeometry=function(l){return new vr(this).edit(l,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Cn.prototype.getPrecisionModel=function(){return this._precisionModel},Cn.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var l=arguments[0];return this.createLinearRing(null!==l?this.getCoordinateSequenceFactory().create(l):null)}if(tt(arguments[0],Ct))return new Xi(arguments[0],this)}},Cn.prototype.createMultiPolygon=function(){return 0===arguments.length?new jn(null,this):1===arguments.length?new jn(arguments[0],this):void 0},Cn.prototype.createMultiPoint=function(){if(0===arguments.length)return new Wi(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Wi(arguments[0],this);if(arguments[0]instanceof Array){var c=arguments[0];return this.createMultiPoint(null!==c?this.getCoordinateSequenceFactory().create(c):null)}if(tt(arguments[0],Ct)){var _=arguments[0];if(null===_)return this.createMultiPoint(new Array(0).fill(null));for(var w=new Array(_.size()).fill(null),I=0;I<_.size();I++){var W=this.getCoordinateSequenceFactory().create(1,_.getDimension());Yi.copy(_,I,W,0,1),w[I]=this.createPoint(W)}return this.createMultiPoint(w)}}},Cn.prototype.interfaces_=function(){return[B]},Cn.prototype.getClass=function(){return Cn},Cn.toMultiPolygonArray=function(l){var c=new Array(l.size()).fill(null);return l.toArray(c)},Cn.toGeometryArray=function(l){if(null===l)return null;var c=new Array(l.size()).fill(null);return l.toArray(c)},Cn.getDefaultCoordinateSequenceFactory=function(){return mt.instance()},Cn.toMultiLineStringArray=function(l){var c=new Array(l.size()).fill(null);return l.toArray(c)},Cn.toLineStringArray=function(l){var c=new Array(l.size()).fill(null);return l.toArray(c)},Cn.toMultiPointArray=function(l){var c=new Array(l.size()).fill(null);return l.toArray(c)},Cn.toLinearRingArray=function(l){var c=new Array(l.size()).fill(null);return l.toArray(c)},Cn.toPointArray=function(l){var c=new Array(l.size()).fill(null);return l.toArray(c)},Cn.toPolygonArray=function(l){var c=new Array(l.size()).fill(null);return l.toArray(c)},Cn.createPointFromInternalCoord=function(l,c){return c.getPrecisionModel().makePrecise(l),c.getFactory().createPoint(l)},wr.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Cn,wr);var Lr=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ar=function(l){this.geometryFactory=l||new Cn};ar.prototype.read=function(l){var c,_=(c="string"==typeof l?JSON.parse(l):l).type;if(!qr[_])throw new Error("Unknown GeoJSON type: "+c.type);return-1!==Lr.indexOf(_)?qr[_].apply(this,[c.coordinates]):qr[_].apply(this,"GeometryCollection"===_?[c.geometries]:[c])},ar.prototype.write=function(l){var c=l.getGeometryType();if(!ei[c])throw new Error("Geometry is not supported");return ei[c].apply(this,[l])};var qr={Feature:function(l){var c={};for(var _ in l)c[_]=l[_];if(l.geometry){if(!qr[l.geometry.type])throw new Error("Unknown GeoJSON type: "+l.type);c.geometry=this.read(l.geometry)}return l.bbox&&(c.bbox=qr.bbox.apply(this,[l.bbox])),c},FeatureCollection:function(l){var c={};if(l.features){c.features=[];for(var _=0;_<l.features.length;++_)c.features.push(this.read(l.features[_]))}return l.bbox&&(c.bbox=this.parse.bbox.apply(this,[l.bbox])),c},coordinates:function(l){for(var c=[],_=0;_<l.length;++_){var w=l[_];c.push(new se(w[0],w[1]))}return c},bbox:function(l){return this.geometryFactory.createLinearRing([new se(l[0],l[1]),new se(l[2],l[1]),new se(l[2],l[3]),new se(l[0],l[3]),new se(l[0],l[1])])},Point:function(l){var c=new se(l[0],l[1]);return this.geometryFactory.createPoint(c)},MultiPoint:function(l){for(var c=[],_=0;_<l.length;++_)c.push(qr.Point.apply(this,[l[_]]));return this.geometryFactory.createMultiPoint(c)},LineString:function(l){var c=qr.coordinates.apply(this,[l]);return this.geometryFactory.createLineString(c)},MultiLineString:function(l){for(var c=[],_=0;_<l.length;++_)c.push(qr.LineString.apply(this,[l[_]]));return this.geometryFactory.createMultiLineString(c)},Polygon:function(l){for(var c=qr.coordinates.apply(this,[l[0]]),_=this.geometryFactory.createLinearRing(c),w=[],I=1;I<l.length;++I){var re=qr.coordinates.apply(this,[l[I]]),x=this.geometryFactory.createLinearRing(re);w.push(x)}return this.geometryFactory.createPolygon(_,w)},MultiPolygon:function(l){for(var c=[],_=0;_<l.length;++_)c.push(qr.Polygon.apply(this,[l[_]]));return this.geometryFactory.createMultiPolygon(c)},GeometryCollection:function(l){for(var c=[],_=0;_<l.length;++_)c.push(this.read(l[_]));return this.geometryFactory.createGeometryCollection(c)}},ei={coordinate:function(l){return[l.x,l.y]},Point:function(l){return{type:"Point",coordinates:ei.coordinate.apply(this,[l.getCoordinate()])}},MultiPoint:function(l){for(var c=[],_=0;_<l._geometries.length;++_){var I=ei.Point.apply(this,[l._geometries[_]]);c.push(I.coordinates)}return{type:"MultiPoint",coordinates:c}},LineString:function(l){for(var c=[],_=l.getCoordinates(),w=0;w<_.length;++w)c.push(ei.coordinate.apply(this,[_[w]]));return{type:"LineString",coordinates:c}},MultiLineString:function(l){for(var c=[],_=0;_<l._geometries.length;++_){var I=ei.LineString.apply(this,[l._geometries[_]]);c.push(I.coordinates)}return{type:"MultiLineString",coordinates:c}},Polygon:function(l){var c=[],_=ei.LineString.apply(this,[l._shell]);c.push(_.coordinates);for(var w=0;w<l._holes.length;++w){var W=ei.LineString.apply(this,[l._holes[w]]);c.push(W.coordinates)}return{type:"Polygon",coordinates:c}},MultiPolygon:function(l){for(var c=[],_=0;_<l._geometries.length;++_){var I=ei.Polygon.apply(this,[l._geometries[_]]);c.push(I.coordinates)}return{type:"MultiPolygon",coordinates:c}},GeometryCollection:function(l){for(var c=[],_=0;_<l._geometries.length;++_){var w=l._geometries[_],I=w.getGeometryType();c.push(ei[I].apply(this,[w]))}return{type:"GeometryCollection",geometries:c}}},ss=function(l){this.geometryFactory=l||new Cn,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ar(this.geometryFactory)};ss.prototype.read=function(l){var c=this.parser.read(l);return this.precisionModel.getType()===$t.FIXED&&this.reducePrecision(c),c},ss.prototype.reducePrecision=function(l){var c,_;if(l.coordinate)this.precisionModel.makePrecise(l.coordinate);else if(l.points)for(c=0,_=l.points.length;c<_;c++)this.precisionModel.makePrecise(l.points[c]);else if(l.geometries)for(c=0,_=l.geometries.length;c<_;c++)this.reducePrecision(l.geometries[c])};var Ps=function(){this.parser=new ar(this.geometryFactory)};Ps.prototype.write=function(l){return this.parser.write(l)};var Re=function(){},ut={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re},Re.opposite=function(l){return l===Re.LEFT?Re.RIGHT:l===Re.RIGHT?Re.LEFT:l},ut.ON.get=function(){return 0},ut.LEFT.get=function(){return 1},ut.RIGHT.get=function(){return 2},Object.defineProperties(Re,ut),(pe.prototype=new Error).name="EmptyStackException",(ve.prototype=new dn).add=function(l){return this.array_.push(l),!0},ve.prototype.get=function(l){if(l<0||l>=this.size())throw new Error;return this.array_[l]},ve.prototype.push=function(l){return this.array_.push(l),l},ve.prototype.pop=function(l){if(0===this.array_.length)throw new pe;return this.array_.pop()},ve.prototype.peek=function(){if(0===this.array_.length)throw new pe;return this.array_[this.array_.length-1]},ve.prototype.empty=function(){return 0===this.array_.length},ve.prototype.isEmpty=function(){return this.empty()},ve.prototype.search=function(l){return this.array_.indexOf(l)},ve.prototype.size=function(){return this.array_.length},ve.prototype.toArray=function(){for(var l=[],c=0,_=this.array_.length;c<_;c++)l.push(this.array_[c]);return l};var Wt=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Wt.prototype.getCoordinate=function(){return this._minCoord},Wt.prototype.getRightmostSide=function(l,c){var _=this.getRightmostSideOfSegment(l,c);return _<0&&(_=this.getRightmostSideOfSegment(l,c-1)),_<0&&(this._minCoord=null,this.checkForRightmostCoordinate(l)),_},Wt.prototype.findRightmostEdgeAtVertex=function(){var l=this._minDe.getEdge().getCoordinates();qt.isTrue(this._minIndex>0&&this._minIndex<l.length,"rightmost point expected to be interior vertex of edge");var c=l[this._minIndex-1],_=l[this._minIndex+1],w=Zn.computeOrientation(this._minCoord,_,c),I=!1;(c.y<this._minCoord.y&&_.y<this._minCoord.y&&w===Zn.COUNTERCLOCKWISE||c.y>this._minCoord.y&&_.y>this._minCoord.y&&w===Zn.CLOCKWISE)&&(I=!0),I&&(this._minIndex=this._minIndex-1)},Wt.prototype.getRightmostSideOfSegment=function(l,c){var _=l.getEdge().getCoordinates();if(c<0||c+1>=_.length||_[c].y===_[c+1].y)return-1;var w=Re.LEFT;return _[c].y<_[c+1].y&&(w=Re.RIGHT),w},Wt.prototype.getEdge=function(){return this._orientedDe},Wt.prototype.checkForRightmostCoordinate=function(l){for(var c=l.getEdge().getCoordinates(),_=0;_<c.length-1;_++)(null===this._minCoord||c[_].x>this._minCoord.x)&&(this._minDe=l,this._minIndex=_,this._minCoord=c[_])},Wt.prototype.findRightmostEdgeAtNode=function(){var l=this._minDe.getNode().getEdges();this._minDe=l.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Wt.prototype.findEdge=function(l){for(var c=l.iterator();c.hasNext();){var _=c.next();_.isForward()&&this.checkForRightmostCoordinate(_)}qt.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Re.LEFT&&(this._orientedDe=this._minDe.getSym())},Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt};var An=function(l){function c(_,w){l.call(this,c.msgWithCoord(_,w)),this.pt=w?new se(w):null,this.name="TopologyException"}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getCoordinate=function(){return this.pt},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.msgWithCoord=function(_,w){return w?_:_+" [ "+w+" ]"},c}(en),Mr=function(){this.array_=[]};Mr.prototype.addLast=function(l){this.array_.push(l)},Mr.prototype.removeFirst=function(){return this.array_.shift()},Mr.prototype.isEmpty=function(){return 0===this.array_.length};var Hr=function(){this._finder=null,this._dirEdgeList=new me,this._nodes=new me,this._rightMostCoord=null,this._env=null,this._finder=new Wt};Hr.prototype.clearVisitedEdges=function(){for(var l=this._dirEdgeList.iterator();l.hasNext();)l.next().setVisited(!1)},Hr.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Hr.prototype.computeNodeDepth=function(l){for(var c=null,_=l.getEdges().iterator();_.hasNext();){var w=_.next();if(w.isVisited()||w.getSym().isVisited()){c=w;break}}if(null===c)throw new An("unable to find edge to compute depths at "+l.getCoordinate());l.getEdges().computeDepths(c);for(var I=l.getEdges().iterator();I.hasNext();){var W=I.next();W.setVisited(!0),this.copySymDepths(W)}},Hr.prototype.computeDepth=function(l){this.clearVisitedEdges();var c=this._finder.getEdge();c.setEdgeDepths(Re.RIGHT,l),this.copySymDepths(c),this.computeDepths(c)},Hr.prototype.create=function(l){this.addReachable(l),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Hr.prototype.findResultEdges=function(){for(var l=this._dirEdgeList.iterator();l.hasNext();){var c=l.next();c.getDepth(Re.RIGHT)>=1&&c.getDepth(Re.LEFT)<=0&&!c.isInteriorAreaEdge()&&c.setInResult(!0)}},Hr.prototype.computeDepths=function(l){var c=new Bt,_=new Mr,w=l.getNode();for(_.addLast(w),c.add(w),l.setVisited(!0);!_.isEmpty();){var I=_.removeFirst();c.add(I),this.computeNodeDepth(I);for(var W=I.getEdges().iterator();W.hasNext();){var re=W.next().getSym();if(!re.isVisited()){var x=re.getNode();c.contains(x)||(_.addLast(x),c.add(x))}}}},Hr.prototype.compareTo=function(l){return this._rightMostCoord.x<l._rightMostCoord.x?-1:this._rightMostCoord.x>l._rightMostCoord.x?1:0},Hr.prototype.getEnvelope=function(){if(null===this._env){for(var l=new Rn,c=this._dirEdgeList.iterator();c.hasNext();)for(var _=c.next().getEdge().getCoordinates(),w=0;w<_.length-1;w++)l.expandToInclude(_[w]);this._env=l}return this._env},Hr.prototype.addReachable=function(l){var c=new ve;for(c.add(l);!c.empty();){var _=c.pop();this.add(_,c)}},Hr.prototype.copySymDepths=function(l){var c=l.getSym();c.setDepth(Re.LEFT,l.getDepth(Re.RIGHT)),c.setDepth(Re.RIGHT,l.getDepth(Re.LEFT))},Hr.prototype.add=function(l,c){l.setVisited(!0),this._nodes.add(l);for(var _=l.getEdges().iterator();_.hasNext();){var w=_.next();this._dirEdgeList.add(w);var I=w.getSym().getNode();I.isVisited()||c.push(I)}},Hr.prototype.getNodes=function(){return this._nodes},Hr.prototype.getDirectedEdges=function(){return this._dirEdgeList},Hr.prototype.interfaces_=function(){return[ee]},Hr.prototype.getClass=function(){return Hr};var gn=function l(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var _=arguments[0];this.init(1),this.location[Re.ON]=_}else if(arguments[0]instanceof l){var w=arguments[0];if(this.init(w.location.length),null!==w)for(var I=0;I<this.location.length;I++)this.location[I]=w.location[I]}}else if(3===arguments.length){var W=arguments[0],re=arguments[1],x=arguments[2];this.init(3),this.location[Re.ON]=W,this.location[Re.LEFT]=re,this.location[Re.RIGHT]=x}};gn.prototype.setAllLocations=function(l){for(var c=0;c<this.location.length;c++)this.location[c]=l},gn.prototype.isNull=function(){for(var l=0;l<this.location.length;l++)if(this.location[l]!==Te.NONE)return!1;return!0},gn.prototype.setAllLocationsIfNull=function(l){for(var c=0;c<this.location.length;c++)this.location[c]===Te.NONE&&(this.location[c]=l)},gn.prototype.isLine=function(){return 1===this.location.length},gn.prototype.merge=function(l){if(l.location.length>this.location.length){var c=new Array(3).fill(null);c[Re.ON]=this.location[Re.ON],c[Re.LEFT]=Te.NONE,c[Re.RIGHT]=Te.NONE,this.location=c}for(var _=0;_<this.location.length;_++)this.location[_]===Te.NONE&&_<l.location.length&&(this.location[_]=l.location[_])},gn.prototype.getLocations=function(){return this.location},gn.prototype.flip=function(){if(this.location.length<=1)return null;var l=this.location[Re.LEFT];this.location[Re.LEFT]=this.location[Re.RIGHT],this.location[Re.RIGHT]=l},gn.prototype.toString=function(){var l=new et;return this.location.length>1&&l.append(Te.toLocationSymbol(this.location[Re.LEFT])),l.append(Te.toLocationSymbol(this.location[Re.ON])),this.location.length>1&&l.append(Te.toLocationSymbol(this.location[Re.RIGHT])),l.toString()},gn.prototype.setLocations=function(l,c,_){this.location[Re.ON]=l,this.location[Re.LEFT]=c,this.location[Re.RIGHT]=_},gn.prototype.get=function(l){return l<this.location.length?this.location[l]:Te.NONE},gn.prototype.isArea=function(){return this.location.length>1},gn.prototype.isAnyNull=function(){for(var l=0;l<this.location.length;l++)if(this.location[l]===Te.NONE)return!0;return!1},gn.prototype.setLocation=function(){1===arguments.length?this.setLocation(Re.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},gn.prototype.init=function(l){this.location=new Array(l).fill(null),this.setAllLocations(Te.NONE)},gn.prototype.isEqualOnSide=function(l,c){return this.location[c]===l.location[c]},gn.prototype.allPositionsEqual=function(l){for(var c=0;c<this.location.length;c++)if(this.location[c]!==l)return!1;return!0},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn};var zi=function l(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var c=arguments[0];this.elt[0]=new gn(c),this.elt[1]=new gn(c)}else if(arguments[0]instanceof l){var _=arguments[0];this.elt[0]=new gn(_.elt[0]),this.elt[1]=new gn(_.elt[1])}}else if(2===arguments.length){var w=arguments[0],I=arguments[1];this.elt[0]=new gn(Te.NONE),this.elt[1]=new gn(Te.NONE),this.elt[w].setLocation(I)}else if(3===arguments.length){var W=arguments[0],re=arguments[1],x=arguments[2];this.elt[0]=new gn(W,re,x),this.elt[1]=new gn(W,re,x)}else if(4===arguments.length){var o=arguments[0],g=arguments[1],M=arguments[2],S=arguments[3];this.elt[0]=new gn(Te.NONE,Te.NONE,Te.NONE),this.elt[1]=new gn(Te.NONE,Te.NONE,Te.NONE),this.elt[o].setLocations(g,M,S)}};zi.prototype.getGeometryCount=function(){var l=0;return this.elt[0].isNull()||l++,this.elt[1].isNull()||l++,l},zi.prototype.setAllLocations=function(l,c){this.elt[l].setAllLocations(c)},zi.prototype.isNull=function(l){return this.elt[l].isNull()},zi.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var l=arguments[0];this.setAllLocationsIfNull(0,l),this.setAllLocationsIfNull(1,l)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},zi.prototype.isLine=function(l){return this.elt[l].isLine()},zi.prototype.merge=function(l){for(var c=0;c<2;c++)null===this.elt[c]&&null!==l.elt[c]?this.elt[c]=new gn(l.elt[c]):this.elt[c].merge(l.elt[c])},zi.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},zi.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Re.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},zi.prototype.toString=function(){var l=new et;return null!==this.elt[0]&&(l.append("A:"),l.append(this.elt[0].toString())),null!==this.elt[1]&&(l.append(" B:"),l.append(this.elt[1].toString())),l.toString()},zi.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},zi.prototype.isAnyNull=function(l){return this.elt[l].isAnyNull()},zi.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Re.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},zi.prototype.isEqualOnSide=function(l,c){return this.elt[0].isEqualOnSide(l.elt[0],c)&&this.elt[1].isEqualOnSide(l.elt[1],c)},zi.prototype.allPositionsEqual=function(l,c){return this.elt[l].allPositionsEqual(c)},zi.prototype.toLine=function(l){this.elt[l].isArea()&&(this.elt[l]=new gn(this.elt[l].location[0]))},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi},zi.toLineLabel=function(l){for(var c=new zi(Te.NONE),_=0;_<2;_++)c.setLocation(_,l.getLocation(_));return c};var jr=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new me,this._pts=new me,this._label=new zi(Te.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new me,this._geometryFactory=null;var l=arguments[0];this._geometryFactory=arguments[1],this.computePoints(l),this.computeRing()};jr.prototype.computeRing=function(){if(null!==this._ring)return null;for(var l=new Array(this._pts.size()).fill(null),c=0;c<this._pts.size();c++)l[c]=this._pts.get(c);this._ring=this._geometryFactory.createLinearRing(l),this._isHole=Zn.isCCW(this._ring.getCoordinates())},jr.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},jr.prototype.computePoints=function(l){this._startDe=l;var c=l,_=!0;do{if(null===c)throw new An("Found null DirectedEdge");if(c.getEdgeRing()===this)throw new An("Directed Edge visited twice during ring-building at "+c.getCoordinate());this._edges.add(c);var w=c.getLabel();qt.isTrue(w.isArea()),this.mergeLabel(w),this.addPoints(c.getEdge(),c.isForward(),_),_=!1,this.setEdgeRing(c,this),c=this.getNext(c)}while(c!==this._startDe)},jr.prototype.getLinearRing=function(){return this._ring},jr.prototype.getCoordinate=function(l){return this._pts.get(l)},jr.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var l=this._startDe;do{var c=l.getNode().getEdges().getOutgoingDegree(this);c>this._maxNodeDegree&&(this._maxNodeDegree=c),l=this.getNext(l)}while(l!==this._startDe);this._maxNodeDegree*=2},jr.prototype.addPoints=function(l,c,_){var w=l.getCoordinates();if(c){var I=1;_&&(I=0);for(var W=I;W<w.length;W++)this._pts.add(w[W])}else{var re=w.length-2;_&&(re=w.length-1);for(var x=re;x>=0;x--)this._pts.add(w[x])}},jr.prototype.isHole=function(){return this._isHole},jr.prototype.setInResult=function(){var l=this._startDe;do{l.getEdge().setInResult(!0),l=l.getNext()}while(l!==this._startDe)},jr.prototype.containsPoint=function(l){var c=this.getLinearRing();if(!c.getEnvelopeInternal().contains(l)||!Zn.isPointInRing(l,c.getCoordinates()))return!1;for(var _=this._holes.iterator();_.hasNext();)if(_.next().containsPoint(l))return!1;return!0},jr.prototype.addHole=function(l){this._holes.add(l)},jr.prototype.isShell=function(){return null===this._shell},jr.prototype.getLabel=function(){return this._label},jr.prototype.getEdges=function(){return this._edges},jr.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},jr.prototype.getShell=function(){return this._shell},jr.prototype.mergeLabel=function(){if(1===arguments.length){var l=arguments[0];this.mergeLabel(l,0),this.mergeLabel(l,1)}else if(2===arguments.length){var _=arguments[1],w=arguments[0].getLocation(_,Re.RIGHT);if(w===Te.NONE)return null;if(this._label.getLocation(_)===Te.NONE)return this._label.setLocation(_,w),null}},jr.prototype.setShell=function(l){this._shell=l,null!==l&&l.addHole(this)},jr.prototype.toPolygon=function(l){for(var c=new Array(this._holes.size()).fill(null),_=0;_<this._holes.size();_++)c[_]=this._holes.get(_).getLinearRing();return l.createPolygon(this.getLinearRing(),c)},jr.prototype.interfaces_=function(){return[]},jr.prototype.getClass=function(){return jr};var ns=function(l){function c(){l.call(this,arguments[0],arguments[1])}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.setEdgeRing=function(_,w){_.setMinEdgeRing(w)},c.prototype.getNext=function(_){return _.getNextMin()},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(jr),Ml=function(l){function c(){l.call(this,arguments[0],arguments[1])}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.buildMinimalRings=function(){var _=new me,w=this._startDe;do{if(null===w.getMinEdgeRing()){var I=new ns(w,this._geometryFactory);_.add(I)}w=w.getNext()}while(w!==this._startDe);return _},c.prototype.setEdgeRing=function(_,w){_.setEdgeRing(w)},c.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var _=this._startDe;do{_.getNode().getEdges().linkMinimalDirectedEdges(this),_=_.getNext()}while(_!==this._startDe)},c.prototype.getNext=function(_){return _.getNext()},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(jr),Sl=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};Sl.prototype.setVisited=function(l){this._isVisited=l},Sl.prototype.setInResult=function(l){this._isInResult=l},Sl.prototype.isCovered=function(){return this._isCovered},Sl.prototype.isCoveredSet=function(){return this._isCoveredSet},Sl.prototype.setLabel=function(l){this._label=l},Sl.prototype.getLabel=function(){return this._label},Sl.prototype.setCovered=function(l){this._isCovered=l,this._isCoveredSet=!0},Sl.prototype.updateIM=function(l){qt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(l)},Sl.prototype.isInResult=function(){return this._isInResult},Sl.prototype.isVisited=function(){return this._isVisited},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl};var Ac=function(l){function c(){l.call(this),this._coord=null,this._edges=null;var w=arguments[1];this._coord=arguments[0],this._edges=w,this._label=new zi(0,Te.NONE)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.isIncidentEdgeInResult=function(){for(var _=this.getEdges().getEdges().iterator();_.hasNext();)if(_.next().getEdge().isInResult())return!0;return!1},c.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},c.prototype.getCoordinate=function(){return this._coord},c.prototype.print=function(_){_.println("node "+this._coord+" lbl: "+this._label)},c.prototype.computeIM=function(_){},c.prototype.computeMergedLocation=function(_,w){var I=Te.NONE;if(I=this._label.getLocation(w),!_.isNull(w)){var W=_.getLocation(w);I!==Te.BOUNDARY&&(I=W)}return I},c.prototype.setLabel=function(){if(2!==arguments.length)return l.prototype.setLabel.apply(this,arguments);var _=arguments[0],w=arguments[1];null===this._label?this._label=new zi(_,w):this._label.setLocation(_,w)},c.prototype.getEdges=function(){return this._edges},c.prototype.mergeLabel=function(){if(arguments[0]instanceof c)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof zi)for(var w=arguments[0],I=0;I<2;I++){var W=this.computeMergedLocation(w,I);this._label.getLocation(I)===Te.NONE&&this._label.setLocation(I,W)}},c.prototype.add=function(_){this._edges.insert(_),_.setNode(this)},c.prototype.setLabelBoundary=function(_){if(null===this._label)return null;var w=Te.NONE;null!==this._label&&(w=this._label.getLocation(_)),this._label.setLocation(_,w===Te.BOUNDARY?Te.INTERIOR:Te.BOUNDARY)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Sl),qa=function(){this.nodeMap=new he,this.nodeFact=null,this.nodeFact=arguments[0]};qa.prototype.find=function(l){return this.nodeMap.get(l)},qa.prototype.addNode=function(){if(arguments[0]instanceof se){var l=arguments[0],c=this.nodeMap.get(l);return null===c&&(c=this.nodeFact.createNode(l),this.nodeMap.put(l,c)),c}if(arguments[0]instanceof Ac){var _=arguments[0],w=this.nodeMap.get(_.getCoordinate());return null===w?(this.nodeMap.put(_.getCoordinate(),_),_):(w.mergeLabel(_),w)}},qa.prototype.print=function(l){for(var c=this.iterator();c.hasNext();)c.next().print(l)},qa.prototype.iterator=function(){return this.nodeMap.values().iterator()},qa.prototype.values=function(){return this.nodeMap.values()},qa.prototype.getBoundaryNodes=function(l){for(var c=new me,_=this.iterator();_.hasNext();){var w=_.next();w.getLabel().getLocation(l)===Te.BOUNDARY&&c.add(w)}return c},qa.prototype.add=function(l){var c=l.getCoordinate();this.addNode(c).add(l)},qa.prototype.interfaces_=function(){return[]},qa.prototype.getClass=function(){return qa};var us=function(){},_l={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us},us.isNorthern=function(l){return l===us.NE||l===us.NW},us.isOpposite=function(l,c){return l!==c&&(l-c+4)%4==2},us.commonHalfPlane=function(l,c){if(l===c)return l;if((l-c+4)%4==2)return-1;var _=l<c?l:c;return 0===_&&3===(l>c?l:c)?3:_},us.isInHalfPlane=function(l,c){return c===us.SE?l===us.SE||l===us.SW:l===c||l===c+1},us.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var l=arguments[0],c=arguments[1];if(0===l&&0===c)throw new J("Cannot compute the quadrant for point ( "+l+", "+c+" )");return l>=0?c>=0?us.NE:us.SE:c>=0?us.NW:us.SW}if(arguments[0]instanceof se&&arguments[1]instanceof se){var _=arguments[0],w=arguments[1];if(w.x===_.x&&w.y===_.y)throw new J("Cannot compute the quadrant for two identical points "+_);return w.x>=_.x?w.y>=_.y?us.NE:us.SE:w.y>=_.y?us.NW:us.SW}},_l.NE.get=function(){return 0},_l.NW.get=function(){return 1},_l.SW.get=function(){return 2},_l.SE.get=function(){return 3},Object.defineProperties(us,_l);var Aa=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var _=arguments[1],w=arguments[2];this._edge=arguments[0],this.init(_,w),this._label=null}else if(4===arguments.length){var W=arguments[1],re=arguments[2],x=arguments[3];this._edge=arguments[0],this.init(W,re),this._label=x}};Aa.prototype.compareDirection=function(l){return this._dx===l._dx&&this._dy===l._dy?0:this._quadrant>l._quadrant?1:this._quadrant<l._quadrant?-1:Zn.computeOrientation(l._p0,l._p1,this._p1)},Aa.prototype.getDy=function(){return this._dy},Aa.prototype.getCoordinate=function(){return this._p0},Aa.prototype.setNode=function(l){this._node=l},Aa.prototype.print=function(l){var c=Math.atan2(this._dy,this._dx),_=this.getClass().getName(),w=_.lastIndexOf("."),I=_.substring(w+1);l.print("  "+I+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+c+"   "+this._label)},Aa.prototype.compareTo=function(l){return this.compareDirection(l)},Aa.prototype.getDirectedCoordinate=function(){return this._p1},Aa.prototype.getDx=function(){return this._dx},Aa.prototype.getLabel=function(){return this._label},Aa.prototype.getEdge=function(){return this._edge},Aa.prototype.getQuadrant=function(){return this._quadrant},Aa.prototype.getNode=function(){return this._node},Aa.prototype.toString=function(){var l=Math.atan2(this._dy,this._dx),c=this.getClass().getName(),_=c.lastIndexOf(".");return"  "+c.substring(_+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+l+"   "+this._label},Aa.prototype.computeLabel=function(l){},Aa.prototype.init=function(l,c){this._p0=l,this._p1=c,this._dx=c.x-l.x,this._dy=c.y-l.y,this._quadrant=us.quadrant(this._dx,this._dy),qt.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Aa.prototype.interfaces_=function(){return[ee]},Aa.prototype.getClass=function(){return Aa};var ju=function(l){function c(){var _=arguments[0],w=arguments[1];if(l.call(this,_),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=w,w)this.init(_.getCoordinate(0),_.getCoordinate(1));else{var I=_.getNumPoints()-1;this.init(_.getCoordinate(I),_.getCoordinate(I-1))}this.computeDirectedLabel()}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getNextMin=function(){return this._nextMin},c.prototype.getDepth=function(_){return this._depth[_]},c.prototype.setVisited=function(_){this._isVisited=_},c.prototype.computeDirectedLabel=function(){this._label=new zi(this._edge.getLabel()),this._isForward||this._label.flip()},c.prototype.getNext=function(){return this._next},c.prototype.setDepth=function(_,w){if(-999!==this._depth[_]&&this._depth[_]!==w)throw new An("assigned depths do not match",this.getCoordinate());this._depth[_]=w},c.prototype.isInteriorAreaEdge=function(){for(var _=!0,w=0;w<2;w++)this._label.isArea(w)&&this._label.getLocation(w,Re.LEFT)===Te.INTERIOR&&this._label.getLocation(w,Re.RIGHT)===Te.INTERIOR||(_=!1);return _},c.prototype.setNextMin=function(_){this._nextMin=_},c.prototype.print=function(_){l.prototype.print.call(this,_),_.print(" "+this._depth[Re.LEFT]+"/"+this._depth[Re.RIGHT]),_.print(" ("+this.getDepthDelta()+")"),this._isInResult&&_.print(" inResult")},c.prototype.setMinEdgeRing=function(_){this._minEdgeRing=_},c.prototype.isLineEdge=function(){var _=this._label.isLine(0)||this._label.isLine(1),w=!this._label.isArea(0)||this._label.allPositionsEqual(0,Te.EXTERIOR),I=!this._label.isArea(1)||this._label.allPositionsEqual(1,Te.EXTERIOR);return _&&w&&I},c.prototype.setEdgeRing=function(_){this._edgeRing=_},c.prototype.getMinEdgeRing=function(){return this._minEdgeRing},c.prototype.getDepthDelta=function(){var _=this._edge.getDepthDelta();return this._isForward||(_=-_),_},c.prototype.setInResult=function(_){this._isInResult=_},c.prototype.getSym=function(){return this._sym},c.prototype.isForward=function(){return this._isForward},c.prototype.getEdge=function(){return this._edge},c.prototype.printEdge=function(_){this.print(_),_.print(" "),this._isForward?this._edge.print(_):this._edge.printReverse(_)},c.prototype.setSym=function(_){this._sym=_},c.prototype.setVisitedEdge=function(_){this.setVisited(_),this._sym.setVisited(_)},c.prototype.setEdgeDepths=function(_,w){var I=this.getEdge().getDepthDelta();this._isForward||(I=-I);var W=1;_===Re.LEFT&&(W=-1);var re=Re.opposite(_),x=w+I*W;this.setDepth(_,w),this.setDepth(re,x)},c.prototype.getEdgeRing=function(){return this._edgeRing},c.prototype.isInResult=function(){return this._isInResult},c.prototype.setNext=function(_){this._next=_},c.prototype.isVisited=function(){return this._isVisited},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.depthFactor=function(_,w){return _===Te.EXTERIOR&&w===Te.INTERIOR?1:_===Te.INTERIOR&&w===Te.EXTERIOR?-1:0},c}(Aa),dl=function(){};dl.prototype.createNode=function(l){return new Ac(l,null)},dl.prototype.interfaces_=function(){return[]},dl.prototype.getClass=function(){return dl};var Ao=function(){this._edges=new me,this._nodes=null,this._edgeEndList=new me,0===arguments.length?this._nodes=new qa(new dl):1===arguments.length&&(this._nodes=new qa(arguments[0]))};Ao.prototype.printEdges=function(l){l.println("Edges:");for(var c=0;c<this._edges.size();c++){l.println("edge "+c+":");var _=this._edges.get(c);_.print(l),_.eiList.print(l)}},Ao.prototype.find=function(l){return this._nodes.find(l)},Ao.prototype.addNode=function(){return arguments[0]instanceof Ac||arguments[0]instanceof se?this._nodes.addNode(arguments[0]):void 0},Ao.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ao.prototype.linkResultDirectedEdges=function(){for(var l=this._nodes.iterator();l.hasNext();)l.next().getEdges().linkResultDirectedEdges()},Ao.prototype.debugPrintln=function(l){un.out.println(l)},Ao.prototype.isBoundaryNode=function(l,c){var _=this._nodes.find(c);if(null===_)return!1;var w=_.getLabel();return null!==w&&w.getLocation(l)===Te.BOUNDARY},Ao.prototype.linkAllDirectedEdges=function(){for(var l=this._nodes.iterator();l.hasNext();)l.next().getEdges().linkAllDirectedEdges()},Ao.prototype.matchInSameDirection=function(l,c,_,w){return!!l.equals(_)&&Zn.computeOrientation(l,c,w)===Zn.COLLINEAR&&us.quadrant(l,c)===us.quadrant(_,w)},Ao.prototype.getEdgeEnds=function(){return this._edgeEndList},Ao.prototype.debugPrint=function(l){un.out.print(l)},Ao.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ao.prototype.findEdgeInSameDirection=function(l,c){for(var _=0;_<this._edges.size();_++){var w=this._edges.get(_),I=w.getCoordinates();if(this.matchInSameDirection(l,c,I[0],I[1])||this.matchInSameDirection(l,c,I[I.length-1],I[I.length-2]))return w}return null},Ao.prototype.insertEdge=function(l){this._edges.add(l)},Ao.prototype.findEdgeEnd=function(l){for(var c=this.getEdgeEnds().iterator();c.hasNext();){var _=c.next();if(_.getEdge()===l)return _}return null},Ao.prototype.addEdges=function(l){for(var c=l.iterator();c.hasNext();){var _=c.next();this._edges.add(_);var w=new ju(_,!0),I=new ju(_,!1);w.setSym(I),I.setSym(w),this.add(w),this.add(I)}},Ao.prototype.add=function(l){this._nodes.add(l),this._edgeEndList.add(l)},Ao.prototype.getNodes=function(){return this._nodes.values()},Ao.prototype.findEdge=function(l,c){for(var _=0;_<this._edges.size();_++){var w=this._edges.get(_),I=w.getCoordinates();if(l.equals(I[0])&&c.equals(I[1]))return w}return null},Ao.prototype.interfaces_=function(){return[]},Ao.prototype.getClass=function(){return Ao},Ao.linkResultDirectedEdges=function(l){for(var c=l.iterator();c.hasNext();)c.next().getEdges().linkResultDirectedEdges()};var ja=function(){this._geometryFactory=null,this._shellList=new me,this._geometryFactory=arguments[0]};ja.prototype.sortShellsAndHoles=function(l,c,_){for(var w=l.iterator();w.hasNext();){var I=w.next();I.isHole()?_.add(I):c.add(I)}},ja.prototype.computePolygons=function(l){for(var c=new me,_=l.iterator();_.hasNext();){var w=_.next().toPolygon(this._geometryFactory);c.add(w)}return c},ja.prototype.placeFreeHoles=function(l,c){for(var _=c.iterator();_.hasNext();){var w=_.next();if(null===w.getShell()){var I=this.findEdgeRingContaining(w,l);if(null===I)throw new An("unable to assign hole to a shell",w.getCoordinate(0));w.setShell(I)}}},ja.prototype.buildMinimalEdgeRings=function(l,c,_){for(var w=new me,I=l.iterator();I.hasNext();){var W=I.next();if(W.getMaxNodeDegree()>2){W.linkDirectedEdgesForMinimalEdgeRings();var re=W.buildMinimalRings(),x=this.findShell(re);null!==x?(this.placePolygonHoles(x,re),c.add(x)):_.addAll(re)}else w.add(W)}return w},ja.prototype.containsPoint=function(l){for(var c=this._shellList.iterator();c.hasNext();)if(c.next().containsPoint(l))return!0;return!1},ja.prototype.buildMaximalEdgeRings=function(l){for(var c=new me,_=l.iterator();_.hasNext();){var w=_.next();if(w.isInResult()&&w.getLabel().isArea()&&null===w.getEdgeRing()){var I=new Ml(w,this._geometryFactory);c.add(I),I.setInResult()}}return c},ja.prototype.placePolygonHoles=function(l,c){for(var _=c.iterator();_.hasNext();){var w=_.next();w.isHole()&&w.setShell(l)}},ja.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},ja.prototype.findEdgeRingContaining=function(l,c){for(var _=l.getLinearRing(),w=_.getEnvelopeInternal(),I=_.getCoordinateN(0),W=null,re=null,x=c.iterator();x.hasNext();){var o=x.next(),g=o.getLinearRing(),M=g.getEnvelopeInternal();null!==W&&(re=W.getLinearRing().getEnvelopeInternal());var S=!1;M.contains(w)&&Zn.isPointInRing(I,g.getCoordinates())&&(S=!0),S&&(null===W||re.contains(M))&&(W=o)}return W},ja.prototype.findShell=function(l){for(var c=0,_=null,w=l.iterator();w.hasNext();){var I=w.next();I.isHole()||(_=I,c++)}return qt.isTrue(c<=1,"found two shells in MinimalEdgeRing list"),_},ja.prototype.add=function(){if(1===arguments.length){var l=arguments[0];this.add(l.getEdgeEnds(),l.getNodes())}else if(2===arguments.length){var c=arguments[0];Ao.linkResultDirectedEdges(arguments[1]);var w=this.buildMaximalEdgeRings(c),I=new me,W=this.buildMinimalEdgeRings(w,this._shellList,I);this.sortShellsAndHoles(W,this._shellList,I),this.placeFreeHoles(this._shellList,I)}},ja.prototype.interfaces_=function(){return[]},ja.prototype.getClass=function(){return ja};var gu=function(){};gu.prototype.getBounds=function(){},gu.prototype.interfaces_=function(){return[]},gu.prototype.getClass=function(){return gu};var os=function(){this._bounds=null,this._item=null;var c=arguments[1];this._bounds=arguments[0],this._item=c};os.prototype.getItem=function(){return this._item},os.prototype.getBounds=function(){return this._bounds},os.prototype.interfaces_=function(){return[gu,B]},os.prototype.getClass=function(){return os};var Qs=function(){this._size=null,this._items=null,this._size=0,this._items=new me,this._items.add(null)};Qs.prototype.poll=function(){if(this.isEmpty())return null;var l=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),l},Qs.prototype.size=function(){return this._size},Qs.prototype.reorder=function(l){for(var c=null,_=this._items.get(l);2*l<=this._size&&((c=2*l)!==this._size&&this._items.get(c+1).compareTo(this._items.get(c))<0&&c++,this._items.get(c).compareTo(_)<0);l=c)this._items.set(l,this._items.get(c));this._items.set(l,_)},Qs.prototype.clear=function(){this._size=0,this._items.clear()},Qs.prototype.isEmpty=function(){return 0===this._size},Qs.prototype.add=function(l){this._items.add(null),this._size+=1;var c=this._size;for(this._items.set(0,l);l.compareTo(this._items.get(Math.trunc(c/2)))<0;c/=2)this._items.set(c,this._items.get(Math.trunc(c/2)));this._items.set(c,l)},Qs.prototype.interfaces_=function(){return[]},Qs.prototype.getClass=function(){return Qs};var bs=function(){};bs.prototype.visitItem=function(l){},bs.prototype.interfaces_=function(){return[]},bs.prototype.getClass=function(){return bs};var Be=function(){};Be.prototype.insert=function(l,c){},Be.prototype.remove=function(l,c){},Be.prototype.query=function(){},Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be};var at=function(){this._childBoundables=new me,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},zt={serialVersionUID:{configurable:!0}};at.prototype.getLevel=function(){return this._level},at.prototype.size=function(){return this._childBoundables.size()},at.prototype.getChildBoundables=function(){return this._childBoundables},at.prototype.addChildBoundable=function(l){qt.isTrue(null===this._bounds),this._childBoundables.add(l)},at.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},at.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},at.prototype.interfaces_=function(){return[gu,B]},at.prototype.getClass=function(){return at},zt.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(at,zt);var At=function(){};At.reverseOrder=function(){return{compare:function(l,c){return c.compareTo(l)}}},At.min=function(l){return At.sort(l),l.get(0)},At.sort=function(l,c){var _=l.toArray();c?fr.sort(_,c):fr.sort(_);for(var w=l.iterator(),I=0,W=_.length;I<W;I++)w.next(),w.set(_[I])},At.singletonList=function(l){var c=new me;return c.add(l),c};var an=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var c=arguments[1],_=arguments[2];this._boundable1=arguments[0],this._boundable2=c,this._itemDistance=_,this._distance=this.distance()};an.prototype.expandToQueue=function(l,c){var _=an.isComposite(this._boundable1),w=an.isComposite(this._boundable2);if(_&&w)return an.area(this._boundable1)>an.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,l,c),null):(this.expand(this._boundable2,this._boundable1,l,c),null);if(_)return this.expand(this._boundable1,this._boundable2,l,c),null;if(w)return this.expand(this._boundable2,this._boundable1,l,c),null;throw new J("neither boundable is composite")},an.prototype.isLeaves=function(){return!(an.isComposite(this._boundable1)||an.isComposite(this._boundable2))},an.prototype.compareTo=function(l){return this._distance<l._distance?-1:this._distance>l._distance?1:0},an.prototype.expand=function(l,c,_,w){for(var I=l.getChildBoundables().iterator();I.hasNext();){var W=I.next(),re=new an(W,c,this._itemDistance);re.getDistance()<w&&_.add(re)}},an.prototype.getBoundable=function(l){return 0===l?this._boundable1:this._boundable2},an.prototype.getDistance=function(){return this._distance},an.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},an.prototype.interfaces_=function(){return[ee]},an.prototype.getClass=function(){return an},an.area=function(l){return l.getBounds().getArea()},an.isComposite=function(l){return l instanceof at};var ln=function l(){if(this._root=null,this._built=!1,this._itemBoundables=new me,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=l.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var _=arguments[0];qt.isTrue(_>1,"Node capacity must be greater than 1"),this._nodeCapacity=_}},or={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};ln.prototype.getNodeCapacity=function(){return this._nodeCapacity},ln.prototype.lastNode=function(l){return l.get(l.size()-1)},ln.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var l=0,c=arguments[0].getChildBoundables().iterator();c.hasNext();){var _=c.next();_ instanceof at?l+=this.size(_):_ instanceof os&&(l+=1)}return l}},ln.prototype.removeItem=function(l,c){for(var _=null,w=l.getChildBoundables().iterator();w.hasNext();){var I=w.next();I instanceof os&&I.getItem()===c&&(_=I)}return null!==_&&(l.getChildBoundables().remove(_),!0)},ln.prototype.itemsTree=function(){if(0===arguments.length){this.build();var l=this.itemsTree(this._root);return null===l?new me:l}if(1===arguments.length){for(var c=arguments[0],_=new me,w=c.getChildBoundables().iterator();w.hasNext();){var I=w.next();if(I instanceof at){var W=this.itemsTree(I);null!==W&&_.add(W)}else I instanceof os?_.add(I.getItem()):qt.shouldNeverReachHere()}return _.size()<=0?null:_}},ln.prototype.insert=function(l,c){qt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new os(l,c))},ln.prototype.boundablesAtLevel=function(){if(1===arguments.length){var l=arguments[0],c=new me;return this.boundablesAtLevel(l,this._root,c),c}if(3===arguments.length){var _=arguments[0],w=arguments[1],I=arguments[2];if(qt.isTrue(_>-2),w.getLevel()===_)return I.add(w),null;for(var W=w.getChildBoundables().iterator();W.hasNext();){var re=W.next();re instanceof at?this.boundablesAtLevel(_,re,I):(qt.isTrue(re instanceof os),-1===_&&I.add(re))}return null}},ln.prototype.query=function(){if(1===arguments.length){var l=arguments[0];this.build();var c=new me;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.query(l,this._root,c),c}if(2===arguments.length){var _=arguments[0],w=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),_)&&this.query(_,this._root,w)}else if(3===arguments.length)if(tt(arguments[2],bs)&&arguments[0]instanceof Object&&arguments[1]instanceof at)for(var I=arguments[0],re=arguments[2],x=arguments[1].getChildBoundables(),o=0;o<x.size();o++){var g=x.get(o);this.getIntersectsOp().intersects(g.getBounds(),I)&&(g instanceof at?this.query(I,g,re):g instanceof os?re.visitItem(g.getItem()):qt.shouldNeverReachHere())}else if(tt(arguments[2],dn)&&arguments[0]instanceof Object&&arguments[1]instanceof at)for(var M=arguments[0],A=arguments[2],Y=arguments[1].getChildBoundables(),U=0;U<Y.size();U++){var K=Y.get(U);this.getIntersectsOp().intersects(K.getBounds(),M)&&(K instanceof at?this.query(M,K,A):K instanceof os?A.add(K.getItem()):qt.shouldNeverReachHere())}},ln.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},ln.prototype.getRoot=function(){return this.build(),this._root},ln.prototype.remove=function(){if(2===arguments.length){var l=arguments[0],c=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.remove(l,this._root,c)}if(3===arguments.length){var _=arguments[0],w=arguments[1],I=arguments[2],W=this.removeItem(w,I);if(W)return!0;for(var re=null,x=w.getChildBoundables().iterator();x.hasNext();){var o=x.next();if(this.getIntersectsOp().intersects(o.getBounds(),_)&&o instanceof at&&(W=this.remove(_,o,I))){re=o;break}}return null!==re&&re.getChildBoundables().isEmpty()&&w.getChildBoundables().remove(re),W}},ln.prototype.createHigherLevels=function(l,c){qt.isTrue(!l.isEmpty());var _=this.createParentBoundables(l,c+1);return 1===_.size()?_.get(0):this.createHigherLevels(_,c+1)},ln.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var l=0,c=arguments[0].getChildBoundables().iterator();c.hasNext();){var _=c.next();if(_ instanceof at){var w=this.depth(_);w>l&&(l=w)}}return l+1}},ln.prototype.createParentBoundables=function(l,c){qt.isTrue(!l.isEmpty());var _=new me;_.add(this.createNode(c));var w=new me(l);At.sort(w,this.getComparator());for(var I=w.iterator();I.hasNext();){var W=I.next();this.lastNode(_).getChildBoundables().size()===this.getNodeCapacity()&&_.add(this.createNode(c)),this.lastNode(_).addChildBoundable(W)}return _},ln.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},ln.prototype.interfaces_=function(){return[B]},ln.prototype.getClass=function(){return ln},ln.compareDoubles=function(l,c){return l>c?1:l<c?-1:0},or.IntersectsOp.get=function(){return _n},or.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},or.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(ln,or);var _n=function(){},Jn=function(){};Jn.prototype.distance=function(l,c){},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn};var nr=function(l){function c(w){l.call(this,w=w||c.DEFAULT_NODE_CAPACITY)}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return c.prototype.createParentBoundablesFromVerticalSlices=function(w,I){qt.isTrue(w.length>0);for(var W=new me,re=0;re<w.length;re++)W.addAll(this.createParentBoundablesFromVerticalSlice(w[re],I));return W},c.prototype.createNode=function(w){return new br(w)},c.prototype.size=function(){return 0===arguments.length?l.prototype.size.call(this):l.prototype.size.apply(this,arguments)},c.prototype.insert=function(){if(2!==arguments.length)return l.prototype.insert.apply(this,arguments);var w=arguments[0],I=arguments[1];if(w.isNull())return null;l.prototype.insert.call(this,w,I)},c.prototype.getIntersectsOp=function(){return c.intersectsOp},c.prototype.verticalSlices=function(w,I){for(var W=Math.trunc(Math.ceil(w.size()/I)),re=new Array(I).fill(null),x=w.iterator(),o=0;o<I;o++){re[o]=new me;for(var g=0;x.hasNext()&&g<W;){var M=x.next();re[o].add(M),g++}}return re},c.prototype.query=function(){if(1===arguments.length)return l.prototype.query.call(this,arguments[0]);2===arguments.length?l.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(tt(arguments[2],bs)&&arguments[0]instanceof Object&&arguments[1]instanceof at||tt(arguments[2],dn)&&arguments[0]instanceof Object&&arguments[1]instanceof at)&&l.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},c.prototype.getComparator=function(){return c.yComparator},c.prototype.createParentBoundablesFromVerticalSlice=function(w,I){return l.prototype.createParentBoundables.call(this,w,I)},c.prototype.remove=function(){return 2===arguments.length?l.prototype.remove.call(this,arguments[0],arguments[1]):l.prototype.remove.apply(this,arguments)},c.prototype.depth=function(){return 0===arguments.length?l.prototype.depth.call(this):l.prototype.depth.apply(this,arguments)},c.prototype.createParentBoundables=function(w,I){qt.isTrue(!w.isEmpty());var W=Math.trunc(Math.ceil(w.size()/this.getNodeCapacity())),re=new me(w);At.sort(re,c.xComparator);var x=this.verticalSlices(re,Math.trunc(Math.ceil(Math.sqrt(W))));return this.createParentBoundablesFromVerticalSlices(x,I)},c.prototype.nearestNeighbour=function(){if(1===arguments.length){if(tt(arguments[0],Jn)){var w=arguments[0],I=new an(this.getRoot(),this.getRoot(),w);return this.nearestNeighbour(I)}if(arguments[0]instanceof an)return this.nearestNeighbour(arguments[0],te.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof c&&tt(arguments[1],Jn)){var re=arguments[0],x=arguments[1],o=new an(this.getRoot(),re.getRoot(),x);return this.nearestNeighbour(o)}if(arguments[0]instanceof an&&"number"==typeof arguments[1]){var g=arguments[0],M=arguments[1],S=null,A=new Qs;for(A.add(g);!A.isEmpty()&&M>0;){var Y=A.poll(),U=Y.getDistance();if(U>=M)break;Y.isLeaves()?(M=U,S=Y):Y.expandToQueue(A,M)}return[S.getBoundable(0).getItem(),S.getBoundable(1).getItem()]}}else if(3===arguments.length){var Ce=arguments[2],Ne=new os(arguments[0],arguments[1]),ot=new an(this.getRoot(),Ne,Ce);return this.nearestNeighbour(ot)[0]}},c.prototype.interfaces_=function(){return[Be,B]},c.prototype.getClass=function(){return c},c.centreX=function(w){return c.avg(w.getMinX(),w.getMaxX())},c.avg=function(w,I){return(w+I)/2},c.centreY=function(w){return c.avg(w.getMinY(),w.getMaxY())},_.STRtreeNode.get=function(){return br},_.serialVersionUID.get=function(){return 0x39920f7d5f261e0},_.xComparator.get=function(){return{interfaces_:function(){return[ne]},compare:function(w,I){return l.compareDoubles(c.centreX(w.getBounds()),c.centreX(I.getBounds()))}}},_.yComparator.get=function(){return{interfaces_:function(){return[ne]},compare:function(w,I){return l.compareDoubles(c.centreY(w.getBounds()),c.centreY(I.getBounds()))}}},_.intersectsOp.get=function(){return{interfaces_:function(){return[l.IntersectsOp]},intersects:function(w,I){return w.intersects(I)}}},_.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(c,_),c}(ln),br=function(l){function c(){l.call(this,arguments[0])}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.computeBounds=function(){for(var _=null,w=this.getChildBoundables().iterator();w.hasNext();){var I=w.next();null===_?_=new Rn(I.getBounds()):_.expandToInclude(I.getBounds())}return _},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(at),Rr=function(){};Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr},Rr.relativeSign=function(l,c){return l<c?-1:l>c?1:0},Rr.compare=function(l,c,_){if(c.equals2D(_))return 0;var w=Rr.relativeSign(c.x,_.x),I=Rr.relativeSign(c.y,_.y);switch(l){case 0:return Rr.compareValue(w,I);case 1:return Rr.compareValue(I,w);case 2:return Rr.compareValue(I,-w);case 3:return Rr.compareValue(-w,I);case 4:return Rr.compareValue(-w,-I);case 5:return Rr.compareValue(-I,-w);case 6:return Rr.compareValue(-I,w);case 7:return Rr.compareValue(w,-I)}return qt.shouldNeverReachHere("invalid octant value"),0},Rr.compareValue=function(l,c){return l<0?-1:l>0?1:c<0?-1:c>0?1:0};var ri=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var l=arguments[0],c=arguments[1],_=arguments[2],w=arguments[3];this._segString=l,this.coord=new se(c),this.segmentIndex=_,this._segmentOctant=w,this._isInterior=!c.equals2D(l.getCoordinate(_))};ri.prototype.getCoordinate=function(){return this.coord},ri.prototype.print=function(l){l.print(this.coord),l.print(" seg # = "+this.segmentIndex)},ri.prototype.compareTo=function(l){var c=l;return this.segmentIndex<c.segmentIndex?-1:this.segmentIndex>c.segmentIndex?1:this.coord.equals2D(c.coord)?0:Rr.compare(this._segmentOctant,this.coord,c.coord)},ri.prototype.isEndPoint=function(l){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===l},ri.prototype.isInterior=function(){return this._isInterior},ri.prototype.interfaces_=function(){return[ee]},ri.prototype.getClass=function(){return ri};var ii=function(){this._nodeMap=new he,this._edge=null,this._edge=arguments[0]};ii.prototype.getSplitCoordinates=function(){var l=new Se;this.addEndpoints();for(var c=this.iterator(),_=c.next();c.hasNext();){var w=c.next();this.addEdgeCoordinates(_,w,l),_=w}return l.toCoordinateArray()},ii.prototype.addCollapsedNodes=function(){var l=new me;this.findCollapsesFromInsertedNodes(l),this.findCollapsesFromExistingVertices(l);for(var c=l.iterator();c.hasNext();){var _=c.next().intValue();this.add(this._edge.getCoordinate(_),_)}},ii.prototype.print=function(l){l.println("Intersections:");for(var c=this.iterator();c.hasNext();)c.next().print(l)},ii.prototype.findCollapsesFromExistingVertices=function(l){for(var c=0;c<this._edge.size()-2;c++){var _=this._edge.getCoordinate(c),w=this._edge.getCoordinate(c+2);_.equals2D(w)&&l.add(new Xe(c+1))}},ii.prototype.addEdgeCoordinates=function(l,c,_){var w=this._edge.getCoordinate(c.segmentIndex),I=c.isInterior()||!c.coord.equals2D(w);_.add(new se(l.coord),!1);for(var W=l.segmentIndex+1;W<=c.segmentIndex;W++)_.add(this._edge.getCoordinate(W));I&&_.add(new se(c.coord))},ii.prototype.iterator=function(){return this._nodeMap.values().iterator()},ii.prototype.addSplitEdges=function(l){this.addEndpoints(),this.addCollapsedNodes();for(var c=this.iterator(),_=c.next();c.hasNext();){var w=c.next(),I=this.createSplitEdge(_,w);l.add(I),_=w}},ii.prototype.findCollapseIndex=function(l,c,_){if(!l.coord.equals2D(c.coord))return!1;var w=c.segmentIndex-l.segmentIndex;return c.isInterior()||w--,1===w&&(_[0]=l.segmentIndex+1,!0)},ii.prototype.findCollapsesFromInsertedNodes=function(l){for(var c=new Array(1).fill(null),_=this.iterator(),w=_.next();_.hasNext();){var I=_.next();this.findCollapseIndex(w,I,c)&&l.add(new Xe(c[0])),w=I}},ii.prototype.getEdge=function(){return this._edge},ii.prototype.addEndpoints=function(){var l=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(l),l)},ii.prototype.createSplitEdge=function(l,c){var _=c.segmentIndex-l.segmentIndex+2,w=this._edge.getCoordinate(c.segmentIndex),I=c.isInterior()||!c.coord.equals2D(w);I||_--;var W=new Array(_).fill(null),re=0;W[re++]=new se(l.coord);for(var x=l.segmentIndex+1;x<=c.segmentIndex;x++)W[re++]=this._edge.getCoordinate(x);return I&&(W[re]=new se(c.coord)),new xs(W,this._edge.getData())},ii.prototype.add=function(l,c){var _=new ri(this._edge,l,c,this._edge.getSegmentOctant(c)),w=this._nodeMap.get(_);return null!==w?(qt.isTrue(w.coord.equals2D(l),"Found equal nodes with different coordinates"),w):(this._nodeMap.put(_,_),_)},ii.prototype.checkSplitEdgesCorrectness=function(l){var c=this._edge.getCoordinates(),_=l.get(0).getCoordinate(0);if(!_.equals2D(c[0]))throw new en("bad split edge start point at "+_);var w=l.get(l.size()-1).getCoordinates(),I=w[w.length-1];if(!I.equals2D(c[c.length-1]))throw new en("bad split edge end point at "+I)},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii};var Vs=function(){};Vs.prototype.interfaces_=function(){return[]},Vs.prototype.getClass=function(){return Vs},Vs.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var l=arguments[0],c=arguments[1];if(0===l&&0===c)throw new J("Cannot compute the octant for point ( "+l+", "+c+" )");var _=Math.abs(l),w=Math.abs(c);return l>=0?c>=0?_>=w?0:1:_>=w?7:6:c>=0?_>=w?3:2:_>=w?4:5}if(arguments[0]instanceof se&&arguments[1]instanceof se){var I=arguments[0],W=arguments[1],re=W.x-I.x,x=W.y-I.y;if(0===re&&0===x)throw new J("Cannot compute the octant for two identical points "+I);return Vs.octant(re,x)}};var Eo=function(){};Eo.prototype.getCoordinates=function(){},Eo.prototype.size=function(){},Eo.prototype.getCoordinate=function(l){},Eo.prototype.isClosed=function(){},Eo.prototype.setData=function(l){},Eo.prototype.getData=function(){},Eo.prototype.interfaces_=function(){return[]},Eo.prototype.getClass=function(){return Eo};var To=function(){};To.prototype.addIntersection=function(l,c){},To.prototype.interfaces_=function(){return[Eo]},To.prototype.getClass=function(){return To};var xs=function(){this._nodeList=new ii(this),this._pts=null,this._data=null;var c=arguments[1];this._pts=arguments[0],this._data=c};xs.prototype.getCoordinates=function(){return this._pts},xs.prototype.size=function(){return this._pts.length},xs.prototype.getCoordinate=function(l){return this._pts[l]},xs.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},xs.prototype.getSegmentOctant=function(l){return l===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(l),this.getCoordinate(l+1))},xs.prototype.setData=function(l){this._data=l},xs.prototype.safeOctant=function(l,c){return l.equals2D(c)?0:Vs.octant(l,c)},xs.prototype.getData=function(){return this._data},xs.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var w=arguments[1],W=new se(arguments[0].getIntersection(arguments[3]));this.addIntersection(W,w)}},xs.prototype.toString=function(){return $r.toLineString(new Ds(this._pts))},xs.prototype.getNodeList=function(){return this._nodeList},xs.prototype.addIntersectionNode=function(l,c){var _=c,w=_+1;return w<this._pts.length&&l.equals2D(this._pts[w])&&(_=w),this._nodeList.add(l,_)},xs.prototype.addIntersections=function(l,c,_){for(var w=0;w<l.getIntersectionNum();w++)this.addIntersection(l,c,_,w)},xs.prototype.interfaces_=function(){return[To]},xs.prototype.getClass=function(){return xs},xs.getNodedSubstrings=function(){if(1===arguments.length){var l=arguments[0],c=new me;return xs.getNodedSubstrings(l,c),c}if(2===arguments.length)for(var w=arguments[1],I=arguments[0].iterator();I.hasNext();)I.next().getNodeList().addSplitEdges(w)};var Ur=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new se,this.p1=new se;else if(1===arguments.length){var l=arguments[0];this.p0=new se(l.p0),this.p1=new se(l.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var w=arguments[2],I=arguments[3];this.p0=new se(arguments[0],arguments[1]),this.p1=new se(w,I)}},Gi={serialVersionUID:{configurable:!0}};Ur.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Ur.prototype.orientationIndex=function(){if(arguments[0]instanceof Ur){var l=arguments[0],c=Zn.orientationIndex(this.p0,this.p1,l.p0),_=Zn.orientationIndex(this.p0,this.p1,l.p1);return c>=0&&_>=0||c<=0&&_<=0?Math.max(c,_):0}if(arguments[0]instanceof se)return Zn.orientationIndex(this.p0,this.p1,arguments[0])},Ur.prototype.toGeometry=function(l){return l.createLineString([this.p0,this.p1])},Ur.prototype.isVertical=function(){return this.p0.x===this.p1.x},Ur.prototype.equals=function(l){if(!(l instanceof Ur))return!1;var c=l;return this.p0.equals(c.p0)&&this.p1.equals(c.p1)},Ur.prototype.intersection=function(l){var c=new zr;return c.computeIntersection(this.p0,this.p1,l.p0,l.p1),c.hasIntersection()?c.getIntersection(0):null},Ur.prototype.project=function(){if(arguments[0]instanceof se){var l=arguments[0];if(l.equals(this.p0)||l.equals(this.p1))return new se(l);var c=this.projectionFactor(l),_=new se;return _.x=this.p0.x+c*(this.p1.x-this.p0.x),_.y=this.p0.y+c*(this.p1.y-this.p0.y),_}if(arguments[0]instanceof Ur){var w=arguments[0],I=this.projectionFactor(w.p0),W=this.projectionFactor(w.p1);if(I>=1&&W>=1||I<=0&&W<=0)return null;var re=this.project(w.p0);I<0&&(re=this.p0),I>1&&(re=this.p1);var x=this.project(w.p1);return W<0&&(x=this.p0),W>1&&(x=this.p1),new Ur(re,x)}},Ur.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Ur.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Ur.prototype.getCoordinate=function(l){return 0===l?this.p0:this.p1},Ur.prototype.distancePerpendicular=function(l){return Zn.distancePointLinePerpendicular(l,this.p0,this.p1)},Ur.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Ur.prototype.midPoint=function(){return Ur.midPoint(this.p0,this.p1)},Ur.prototype.projectionFactor=function(l){if(l.equals(this.p0))return 0;if(l.equals(this.p1))return 1;var c=this.p1.x-this.p0.x,_=this.p1.y-this.p0.y,w=c*c+_*_;return w<=0?te.NaN:((l.x-this.p0.x)*c+(l.y-this.p0.y)*_)/w},Ur.prototype.closestPoints=function(l){var c=this.intersection(l);if(null!==c)return[c,c];var _=new Array(2).fill(null),w=te.MAX_VALUE,I=null,W=this.closestPoint(l.p0);w=W.distance(l.p0),_[0]=W,_[1]=l.p0;var re=this.closestPoint(l.p1);(I=re.distance(l.p1))<w&&(w=I,_[0]=re,_[1]=l.p1);var x=l.closestPoint(this.p0);(I=x.distance(this.p0))<w&&(w=I,_[0]=this.p0,_[1]=x);var o=l.closestPoint(this.p1);return(I=o.distance(this.p1))<w&&(w=I,_[0]=this.p1,_[1]=o),_},Ur.prototype.closestPoint=function(l){var c=this.projectionFactor(l);return c>0&&c<1?this.project(l):this.p0.distance(l)<this.p1.distance(l)?this.p0:this.p1},Ur.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Ur.prototype.getLength=function(){return this.p0.distance(this.p1)},Ur.prototype.compareTo=function(l){var c=l,_=this.p0.compareTo(c.p0);return 0!==_?_:this.p1.compareTo(c.p1)},Ur.prototype.reverse=function(){var l=this.p0;this.p0=this.p1,this.p1=l},Ur.prototype.equalsTopo=function(l){return this.p0.equals(l.p0)&&(this.p1.equals(l.p1)||this.p0.equals(l.p1))&&this.p1.equals(l.p0)},Ur.prototype.lineIntersection=function(l){try{return Xn.intersection(this.p0,this.p1,l.p0,l.p1)}catch(c){if(!(c instanceof kn))throw c}return null},Ur.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Ur.prototype.pointAlongOffset=function(l,c){var _=this.p0.x+l*(this.p1.x-this.p0.x),w=this.p0.y+l*(this.p1.y-this.p0.y),I=this.p1.x-this.p0.x,W=this.p1.y-this.p0.y,re=Math.sqrt(I*I+W*W),x=0,o=0;if(0!==c){if(re<=0)throw new Error("Cannot compute offset from zero-length line segment");x=c*I/re,o=c*W/re}return new se(_-o,w+x)},Ur.prototype.setCoordinates=function(){if(1===arguments.length){var l=arguments[0];this.setCoordinates(l.p0,l.p1)}else if(2===arguments.length){var c=arguments[0],_=arguments[1];this.p0.x=c.x,this.p0.y=c.y,this.p1.x=_.x,this.p1.y=_.y}},Ur.prototype.segmentFraction=function(l){var c=this.projectionFactor(l);return c<0?c=0:(c>1||te.isNaN(c))&&(c=1),c},Ur.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Ur.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Ur.prototype.distance=function(){if(arguments[0]instanceof Ur){var l=arguments[0];return Zn.distanceLineLine(this.p0,this.p1,l.p0,l.p1)}if(arguments[0]instanceof se)return Zn.distancePointLine(arguments[0],this.p0,this.p1)},Ur.prototype.pointAlong=function(l){var c=new se;return c.x=this.p0.x+l*(this.p1.x-this.p0.x),c.y=this.p0.y+l*(this.p1.y-this.p0.y),c},Ur.prototype.hashCode=function(){var l=te.doubleToLongBits(this.p0.x);l^=31*te.doubleToLongBits(this.p0.y);var c=Math.trunc(l)^Math.trunc(l>>32),_=te.doubleToLongBits(this.p1.x);return _^=31*te.doubleToLongBits(this.p1.y),c^Math.trunc(_)^Math.trunc(_>>32)},Ur.prototype.interfaces_=function(){return[ee,B]},Ur.prototype.getClass=function(){return Ur},Ur.midPoint=function(l,c){return new se((l.x+c.x)/2,(l.y+c.y)/2)},Gi.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Ur,Gi);var ya=function(){this.tempEnv1=new Rn,this.tempEnv2=new Rn,this._overlapSeg1=new Ur,this._overlapSeg2=new Ur};ya.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var _=arguments[2],w=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),_.getLineSegment(w,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},ya.prototype.interfaces_=function(){return[]},ya.prototype.getClass=function(){return ya};var No=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var c=arguments[1],_=arguments[2],w=arguments[3];this._pts=arguments[0],this._start=c,this._end=_,this._context=w};No.prototype.getLineSegment=function(l,c){c.p0=this._pts[l],c.p1=this._pts[l+1]},No.prototype.computeSelect=function(l,c,_,w){if(w.tempEnv1.init(this._pts[c],this._pts[_]),_-c==1)return w.select(this,c),null;if(!l.intersects(w.tempEnv1))return null;var re=Math.trunc((c+_)/2);c<re&&this.computeSelect(l,c,re,w),re<_&&this.computeSelect(l,re,_,w)},No.prototype.getCoordinates=function(){for(var l=new Array(this._end-this._start+1).fill(null),c=0,_=this._start;_<=this._end;_++)l[c++]=this._pts[_];return l},No.prototype.computeOverlaps=function(l,c){this.computeOverlapsInternal(this._start,this._end,l,l._start,l._end,c)},No.prototype.setId=function(l){this._id=l},No.prototype.select=function(l,c){this.computeSelect(l,this._start,this._end,c)},No.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Rn(this._pts[this._start],this._pts[this._end])),this._env},No.prototype.getEndIndex=function(){return this._end},No.prototype.getStartIndex=function(){return this._start},No.prototype.getContext=function(){return this._context},No.prototype.getId=function(){return this._id},No.prototype.computeOverlapsInternal=function(l,c,_,w,I,W){var re=this._pts[l],x=this._pts[c],o=_._pts[w],g=_._pts[I];if(c-l==1&&I-w==1)return W.overlap(this,l,_,w),null;if(W.tempEnv1.init(re,x),W.tempEnv2.init(o,g),!W.tempEnv1.intersects(W.tempEnv2))return null;var M=Math.trunc((l+c)/2),S=Math.trunc((w+I)/2);l<M&&(w<S&&this.computeOverlapsInternal(l,M,_,w,S,W),S<I&&this.computeOverlapsInternal(l,M,_,S,I,W)),M<c&&(w<S&&this.computeOverlapsInternal(M,c,_,w,S,W),S<I&&this.computeOverlapsInternal(M,c,_,S,I,W))},No.prototype.interfaces_=function(){return[]},No.prototype.getClass=function(){return No};var gs=function(){};gs.prototype.interfaces_=function(){return[]},gs.prototype.getClass=function(){return gs},gs.getChainStartIndices=function(l){var c=0,_=new me;_.add(new Xe(c));do{var w=gs.findChainEnd(l,c);_.add(new Xe(w)),c=w}while(c<l.length-1);return gs.toIntArray(_)},gs.findChainEnd=function(l,c){for(var _=c;_<l.length-1&&l[_].equals2D(l[_+1]);)_++;if(_>=l.length-1)return l.length-1;for(var w=us.quadrant(l[_],l[_+1]),I=c+1;I<l.length&&(l[I-1].equals2D(l[I])||us.quadrant(l[I-1],l[I])===w);)I++;return I-1},gs.getChains=function(){if(1===arguments.length)return gs.getChains(arguments[0],null);if(2===arguments.length){for(var c=arguments[0],_=arguments[1],w=new me,I=gs.getChainStartIndices(c),W=0;W<I.length-1;W++){var re=new No(c,I[W],I[W+1],_);w.add(re)}return w}},gs.toIntArray=function(l){for(var c=new Array(l.size()).fill(null),_=0;_<c.length;_++)c[_]=l.get(_).intValue();return c};var $l=function(){};$l.prototype.computeNodes=function(l){},$l.prototype.getNodedSubstrings=function(){},$l.prototype.interfaces_=function(){return[]},$l.prototype.getClass=function(){return $l};var md=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};md.prototype.setSegmentIntersector=function(l){this._segInt=l},md.prototype.interfaces_=function(){return[$l]},md.prototype.getClass=function(){return md};var lo=function(l){function c(w){w?l.call(this,w):l.call(this),this._monoChains=new me,this._index=new nr,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c;var _={SegmentOverlapAction:{configurable:!0}};return c.prototype.getMonotoneChains=function(){return this._monoChains},c.prototype.getNodedSubstrings=function(){return xs.getNodedSubstrings(this._nodedSegStrings)},c.prototype.getIndex=function(){return this._index},c.prototype.add=function(w){for(var I=gs.getChains(w.getCoordinates(),w).iterator();I.hasNext();){var W=I.next();W.setId(this._idCounter++),this._index.insert(W.getEnvelope(),W),this._monoChains.add(W)}},c.prototype.computeNodes=function(w){this._nodedSegStrings=w;for(var I=w.iterator();I.hasNext();)this.add(I.next());this.intersectChains()},c.prototype.intersectChains=function(){for(var w=new _d(this._segInt),I=this._monoChains.iterator();I.hasNext();)for(var W=I.next(),re=this._index.query(W.getEnvelope()).iterator();re.hasNext();){var x=re.next();if(x.getId()>W.getId()&&(W.computeOverlaps(x,w),this._nOverlaps++),this._segInt.isDone())return null}},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},_.SegmentOverlapAction.get=function(){return _d},Object.defineProperties(c,_),c}(md),_d=function(l){function c(){l.call(this),this._si=null,this._si=arguments[0]}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.overlap=function(){if(4!==arguments.length)return l.prototype.overlap.apply(this,arguments);var w=arguments[1],I=arguments[2],W=arguments[3],re=arguments[0].getContext(),x=I.getContext();this._si.processIntersections(re,w,x,W)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(ya),_s=function l(){if(this._quadrantSegments=l.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=l.CAP_ROUND,this._joinStyle=l.JOIN_ROUND,this._mitreLimit=l.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=l.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var w=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(w)}else if(4===arguments.length){var W=arguments[1],re=arguments[2],x=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(W),this.setJoinStyle(re),this.setMitreLimit(x)}},mr={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};_s.prototype.getEndCapStyle=function(){return this._endCapStyle},_s.prototype.isSingleSided=function(){return this._isSingleSided},_s.prototype.setQuadrantSegments=function(l){this._quadrantSegments=l,0===this._quadrantSegments&&(this._joinStyle=_s.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=_s.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),l<=0&&(this._quadrantSegments=1),this._joinStyle!==_s.JOIN_ROUND&&(this._quadrantSegments=_s.DEFAULT_QUADRANT_SEGMENTS)},_s.prototype.getJoinStyle=function(){return this._joinStyle},_s.prototype.setJoinStyle=function(l){this._joinStyle=l},_s.prototype.setSimplifyFactor=function(l){this._simplifyFactor=l<0?0:l},_s.prototype.getSimplifyFactor=function(){return this._simplifyFactor},_s.prototype.getQuadrantSegments=function(){return this._quadrantSegments},_s.prototype.setEndCapStyle=function(l){this._endCapStyle=l},_s.prototype.getMitreLimit=function(){return this._mitreLimit},_s.prototype.setMitreLimit=function(l){this._mitreLimit=l},_s.prototype.setSingleSided=function(l){this._isSingleSided=l},_s.prototype.interfaces_=function(){return[]},_s.prototype.getClass=function(){return _s},_s.bufferDistanceError=function(l){var c=Math.PI/2/l;return 1-Math.cos(c/2)},mr.CAP_ROUND.get=function(){return 1},mr.CAP_FLAT.get=function(){return 2},mr.CAP_SQUARE.get=function(){return 3},mr.JOIN_ROUND.get=function(){return 1},mr.JOIN_MITRE.get=function(){return 2},mr.JOIN_BEVEL.get=function(){return 3},mr.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},mr.DEFAULT_MITRE_LIMIT.get=function(){return 5},mr.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(_s,mr);var Ys=function(l){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Zn.COUNTERCLOCKWISE,this._inputLine=l||null},mu={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ys.prototype.isDeletable=function(l,c,_,w){var I=this._inputLine[l],W=this._inputLine[c],re=this._inputLine[_];return!!this.isConcave(I,W,re)&&!!this.isShallow(I,W,re,w)&&this.isShallowSampled(I,W,l,_,w)},Ys.prototype.deleteShallowConcavities=function(){for(var l=1,c=this.findNextNonDeletedIndex(l),_=this.findNextNonDeletedIndex(c),w=!1;_<this._inputLine.length;){var I=!1;this.isDeletable(l,c,_,this._distanceTol)&&(this._isDeleted[c]=Ys.DELETE,I=!0,w=!0),c=this.findNextNonDeletedIndex(l=I?_:c),_=this.findNextNonDeletedIndex(c)}return w},Ys.prototype.isShallowConcavity=function(l,c,_,w){return Zn.computeOrientation(l,c,_)===this._angleOrientation&&Zn.distancePointLine(c,l,_)<w},Ys.prototype.isShallowSampled=function(l,c,_,w,I){var W=Math.trunc((w-_)/Ys.NUM_PTS_TO_CHECK);W<=0&&(W=1);for(var re=_;re<w;re+=W)if(!this.isShallow(l,c,this._inputLine[re],I))return!1;return!0},Ys.prototype.isConcave=function(l,c,_){return Zn.computeOrientation(l,c,_)===this._angleOrientation},Ys.prototype.simplify=function(l){this._distanceTol=Math.abs(l),l<0&&(this._angleOrientation=Zn.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var c=!1;do{c=this.deleteShallowConcavities()}while(c);return this.collapseLine()},Ys.prototype.findNextNonDeletedIndex=function(l){for(var c=l+1;c<this._inputLine.length&&this._isDeleted[c]===Ys.DELETE;)c++;return c},Ys.prototype.isShallow=function(l,c,_,w){return Zn.distancePointLine(c,l,_)<w},Ys.prototype.collapseLine=function(){for(var l=new Se,c=0;c<this._inputLine.length;c++)this._isDeleted[c]!==Ys.DELETE&&l.add(this._inputLine[c]);return l.toCoordinateArray()},Ys.prototype.interfaces_=function(){return[]},Ys.prototype.getClass=function(){return Ys},Ys.simplify=function(l,c){return new Ys(l).simplify(c)},mu.INIT.get=function(){return 0},mu.DELETE.get=function(){return 1},mu.KEEP.get=function(){return 1},mu.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Ys,mu);var Ol=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new me},Pc={COORDINATE_ARRAY_TYPE:{configurable:!0}};Ol.prototype.getCoordinates=function(){return this._ptList.toArray(Ol.COORDINATE_ARRAY_TYPE)},Ol.prototype.setPrecisionModel=function(l){this._precisionModel=l},Ol.prototype.addPt=function(l){var c=new se(l);if(this._precisionModel.makePrecise(c),this.isRedundant(c))return null;this._ptList.add(c)},Ol.prototype.revere=function(){},Ol.prototype.addPts=function(l,c){if(c)for(var _=0;_<l.length;_++)this.addPt(l[_]);else for(var w=l.length-1;w>=0;w--)this.addPt(l[w])},Ol.prototype.isRedundant=function(l){if(this._ptList.size()<1)return!1;var c=this._ptList.get(this._ptList.size()-1);return l.distance(c)<this._minimimVertexDistance},Ol.prototype.toString=function(){return(new Cn).createLineString(this.getCoordinates()).toString()},Ol.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var l=new se(this._ptList.get(0)),c=this._ptList.get(this._ptList.size()-1);if(l.equals(c))return null;this._ptList.add(l)},Ol.prototype.setMinimumVertexDistance=function(l){this._minimimVertexDistance=l},Ol.prototype.interfaces_=function(){return[]},Ol.prototype.getClass=function(){return Ol},Pc.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Ol,Pc);var Ei=function(){},Co={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei},Ei.toDegrees=function(l){return 180*l/Math.PI},Ei.normalize=function(l){for(;l>Math.PI;)l-=Ei.PI_TIMES_2;for(;l<=-Math.PI;)l+=Ei.PI_TIMES_2;return l},Ei.angle=function(){if(1===arguments.length){var l=arguments[0];return Math.atan2(l.y,l.x)}if(2===arguments.length){var c=arguments[0],_=arguments[1];return Math.atan2(_.y-c.y,_.x-c.x)}},Ei.isAcute=function(l,c,_){return(l.x-c.x)*(_.x-c.x)+(l.y-c.y)*(_.y-c.y)>0},Ei.isObtuse=function(l,c,_){return(l.x-c.x)*(_.x-c.x)+(l.y-c.y)*(_.y-c.y)<0},Ei.interiorAngle=function(l,c,_){var w=Ei.angle(c,l),I=Ei.angle(c,_);return Math.abs(I-w)},Ei.normalizePositive=function(l){if(l<0){for(;l<0;)l+=Ei.PI_TIMES_2;l>=Ei.PI_TIMES_2&&(l=0)}else{for(;l>=Ei.PI_TIMES_2;)l-=Ei.PI_TIMES_2;l<0&&(l=0)}return l},Ei.angleBetween=function(l,c,_){var w=Ei.angle(c,l),I=Ei.angle(c,_);return Ei.diff(w,I)},Ei.diff=function(l,c){var _=null;return(_=l<c?c-l:l-c)>Math.PI&&(_=2*Math.PI-_),_},Ei.toRadians=function(l){return l*Math.PI/180},Ei.getTurn=function(l,c){var _=Math.sin(c-l);return _>0?Ei.COUNTERCLOCKWISE:_<0?Ei.CLOCKWISE:Ei.NONE},Ei.angleBetweenOriented=function(l,c,_){var w=Ei.angle(c,l),I=Ei.angle(c,_)-w;return I<=-Math.PI?I+Ei.PI_TIMES_2:I>Math.PI?I-Ei.PI_TIMES_2:I},Co.PI_TIMES_2.get=function(){return 2*Math.PI},Co.PI_OVER_2.get=function(){return Math.PI/2},Co.PI_OVER_4.get=function(){return Math.PI/4},Co.COUNTERCLOCKWISE.get=function(){return Zn.COUNTERCLOCKWISE},Co.CLOCKWISE.get=function(){return Zn.CLOCKWISE},Co.NONE.get=function(){return Zn.COLLINEAR},Object.defineProperties(Ei,Co);var da=function l(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Ur,this._seg1=new Ur,this._offset0=new Ur,this._offset1=new Ur,this._side=0,this._hasNarrowConcaveAngle=!1;var _=arguments[1],w=arguments[2];this._precisionModel=arguments[0],this._bufParams=_,this._li=new zr,this._filletAngleQuantum=Math.PI/2/_.getQuadrantSegments(),_.getQuadrantSegments()>=8&&_.getJoinStyle()===_s.JOIN_ROUND&&(this._closingSegLengthFactor=l.MAX_CLOSING_SEG_LEN_FACTOR),this.init(w)},zs={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};da.prototype.addNextSegment=function(l,c){if(this._s0=this._s1,this._s1=this._s2,this._s2=l,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var _=Zn.computeOrientation(this._s0,this._s1,this._s2),w=_===Zn.CLOCKWISE&&this._side===Re.LEFT||_===Zn.COUNTERCLOCKWISE&&this._side===Re.RIGHT;0===_?this.addCollinear(c):w?this.addOutsideTurn(_,c):this.addInsideTurn(_,c)},da.prototype.addLineEndCap=function(l,c){var _=new Ur(l,c),w=new Ur;this.computeOffsetSegment(_,Re.LEFT,this._distance,w);var I=new Ur;this.computeOffsetSegment(_,Re.RIGHT,this._distance,I);var x=Math.atan2(c.y-l.y,c.x-l.x);switch(this._bufParams.getEndCapStyle()){case _s.CAP_ROUND:this._segList.addPt(w.p1),this.addFilletArc(c,x+Math.PI/2,x-Math.PI/2,Zn.CLOCKWISE,this._distance),this._segList.addPt(I.p1);break;case _s.CAP_FLAT:this._segList.addPt(w.p1),this._segList.addPt(I.p1);break;case _s.CAP_SQUARE:var o=new se;o.x=Math.abs(this._distance)*Math.cos(x),o.y=Math.abs(this._distance)*Math.sin(x);var g=new se(w.p1.x+o.x,w.p1.y+o.y),M=new se(I.p1.x+o.x,I.p1.y+o.y);this._segList.addPt(g),this._segList.addPt(M)}},da.prototype.getCoordinates=function(){return this._segList.getCoordinates()},da.prototype.addMitreJoin=function(l,c,_,w){var I=!0,W=null;try{W=Xn.intersection(c.p0,c.p1,_.p0,_.p1),(w<=0?1:W.distance(l)/Math.abs(w))>this._bufParams.getMitreLimit()&&(I=!1)}catch(re){if(!(re instanceof kn))throw re;W=new se(0,0),I=!1}I?this._segList.addPt(W):this.addLimitedMitreJoin(c,_,w,this._bufParams.getMitreLimit())},da.prototype.addFilletCorner=function(l,c,_,w,I){var x=Math.atan2(c.y-l.y,c.x-l.x),M=Math.atan2(_.y-l.y,_.x-l.x);w===Zn.CLOCKWISE?x<=M&&(x+=2*Math.PI):x>=M&&(x-=2*Math.PI),this._segList.addPt(c),this.addFilletArc(l,x,M,w,I),this._segList.addPt(_)},da.prototype.addOutsideTurn=function(l,c){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*da.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===_s.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===_s.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(c&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,l,this._distance),this._segList.addPt(this._offset1.p0))},da.prototype.createSquare=function(l){this._segList.addPt(new se(l.x+this._distance,l.y+this._distance)),this._segList.addPt(new se(l.x+this._distance,l.y-this._distance)),this._segList.addPt(new se(l.x-this._distance,l.y-this._distance)),this._segList.addPt(new se(l.x-this._distance,l.y+this._distance)),this._segList.closeRing()},da.prototype.addSegments=function(l,c){this._segList.addPts(l,c)},da.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},da.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},da.prototype.initSideSegments=function(l,c,_){this._s1=l,this._s2=c,this._side=_,this._seg1.setCoordinates(l,c),this.computeOffsetSegment(this._seg1,_,this._distance,this._offset1)},da.prototype.addLimitedMitreJoin=function(l,c,_,w){var I=this._seg0.p1,W=Ei.angle(I,this._seg0.p0),re=Ei.angleBetweenOriented(this._seg0.p0,I,this._seg1.p1)/2,x=Ei.normalize(W+re),o=Ei.normalize(x+Math.PI),g=w*_,M=_-g*Math.abs(Math.sin(re)),S=I.x+g*Math.cos(o),A=I.y+g*Math.sin(o),Y=new se(S,A),U=new Ur(I,Y),K=U.pointAlongOffset(1,M),ge=U.pointAlongOffset(1,-M);this._side===Re.LEFT?(this._segList.addPt(K),this._segList.addPt(ge)):(this._segList.addPt(ge),this._segList.addPt(K))},da.prototype.computeOffsetSegment=function(l,c,_,w){var I=c===Re.LEFT?1:-1,W=l.p1.x-l.p0.x,re=l.p1.y-l.p0.y,x=Math.sqrt(W*W+re*re),o=I*_*W/x,g=I*_*re/x;w.p0.x=l.p0.x-g,w.p0.y=l.p0.y+o,w.p1.x=l.p1.x-g,w.p1.y=l.p1.y+o},da.prototype.addFilletArc=function(l,c,_,w,I){var W=w===Zn.CLOCKWISE?-1:1,re=Math.abs(c-_),x=Math.trunc(re/this._filletAngleQuantum+.5);if(x<1)return null;for(var o=re/x,g=0,M=new se;g<re;){var S=c+W*g;M.x=l.x+I*Math.cos(S),M.y=l.y+I*Math.sin(S),this._segList.addPt(M),g+=o}},da.prototype.addInsideTurn=function(l,c){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*da.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var _=new se((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(_);var w=new se((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(w)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},da.prototype.createCircle=function(l){var c=new se(l.x+this._distance,l.y);this._segList.addPt(c),this.addFilletArc(l,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},da.prototype.addBevelJoin=function(l,c){this._segList.addPt(l.p1),this._segList.addPt(c.p0)},da.prototype.init=function(l){this._distance=l,this._maxCurveSegmentError=l*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ol,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(l*da.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},da.prototype.addCollinear=function(l){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===_s.JOIN_BEVEL||this._bufParams.getJoinStyle()===_s.JOIN_MITRE?(l&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Zn.CLOCKWISE,this._distance))},da.prototype.closeRing=function(){this._segList.closeRing()},da.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},da.prototype.interfaces_=function(){return[]},da.prototype.getClass=function(){return da},zs.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},zs.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},zs.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},zs.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(da,zs);var Pa=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var c=arguments[1];this._precisionModel=arguments[0],this._bufParams=c};Pa.prototype.getOffsetCurve=function(l,c){if(this._distance=c,0===c)return null;var _=c<0,w=Math.abs(c),I=this.getSegGen(w);l.length<=1?this.computePointCurve(l[0],I):this.computeOffsetCurve(l,_,I);var W=I.getCoordinates();return _&&Me.reverse(W),W},Pa.prototype.computeSingleSidedBufferCurve=function(l,c,_){var w=this.simplifyTolerance(this._distance);if(c){_.addSegments(l,!0);var I=Ys.simplify(l,-w),W=I.length-1;_.initSideSegments(I[W],I[W-1],Re.LEFT),_.addFirstSegment();for(var re=W-2;re>=0;re--)_.addNextSegment(I[re],!0)}else{_.addSegments(l,!1);var x=Ys.simplify(l,w),o=x.length-1;_.initSideSegments(x[0],x[1],Re.LEFT),_.addFirstSegment();for(var g=2;g<=o;g++)_.addNextSegment(x[g],!0)}_.addLastSegment(),_.closeRing()},Pa.prototype.computeRingBufferCurve=function(l,c,_){var w=this.simplifyTolerance(this._distance);c===Re.RIGHT&&(w=-w);var I=Ys.simplify(l,w),W=I.length-1;_.initSideSegments(I[W-1],I[0],c);for(var re=1;re<=W;re++)_.addNextSegment(I[re],1!==re);_.closeRing()},Pa.prototype.computeLineBufferCurve=function(l,c){var _=this.simplifyTolerance(this._distance),w=Ys.simplify(l,_),I=w.length-1;c.initSideSegments(w[0],w[1],Re.LEFT);for(var W=2;W<=I;W++)c.addNextSegment(w[W],!0);c.addLastSegment(),c.addLineEndCap(w[I-1],w[I]);var re=Ys.simplify(l,-_),x=re.length-1;c.initSideSegments(re[x],re[x-1],Re.LEFT);for(var o=x-2;o>=0;o--)c.addNextSegment(re[o],!0);c.addLastSegment(),c.addLineEndCap(re[1],re[0]),c.closeRing()},Pa.prototype.computePointCurve=function(l,c){switch(this._bufParams.getEndCapStyle()){case _s.CAP_ROUND:c.createCircle(l);break;case _s.CAP_SQUARE:c.createSquare(l)}},Pa.prototype.getLineCurve=function(l,c){if(this._distance=c,c<0&&!this._bufParams.isSingleSided()||0===c)return null;var _=Math.abs(c),w=this.getSegGen(_);return l.length<=1?this.computePointCurve(l[0],w):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(l,c<0,w):this.computeLineBufferCurve(l,w),w.getCoordinates()},Pa.prototype.getBufferParameters=function(){return this._bufParams},Pa.prototype.simplifyTolerance=function(l){return l*this._bufParams.getSimplifyFactor()},Pa.prototype.getRingCurve=function(l,c,_){if(this._distance=_,l.length<=2)return this.getLineCurve(l,_);if(0===_)return Pa.copyCoordinates(l);var w=this.getSegGen(_);return this.computeRingBufferCurve(l,c,w),w.getCoordinates()},Pa.prototype.computeOffsetCurve=function(l,c,_){var w=this.simplifyTolerance(this._distance);if(c){var I=Ys.simplify(l,-w),W=I.length-1;_.initSideSegments(I[W],I[W-1],Re.LEFT),_.addFirstSegment();for(var re=W-2;re>=0;re--)_.addNextSegment(I[re],!0)}else{var x=Ys.simplify(l,w),o=x.length-1;_.initSideSegments(x[0],x[1],Re.LEFT),_.addFirstSegment();for(var g=2;g<=o;g++)_.addNextSegment(x[g],!0)}_.addLastSegment()},Pa.prototype.getSegGen=function(l){return new da(this._precisionModel,this._bufParams,l)},Pa.prototype.interfaces_=function(){return[]},Pa.prototype.getClass=function(){return Pa},Pa.copyCoordinates=function(l){for(var c=new Array(l.length).fill(null),_=0;_<c.length;_++)c[_]=new se(l[_]);return c};var po=function(){this._subgraphs=null,this._seg=new Ur,this._cga=new Zn,this._subgraphs=arguments[0]},ka={DepthSegment:{configurable:!0}};po.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var l=arguments[0],c=new me,_=this._subgraphs.iterator();_.hasNext();){var w=_.next(),I=w.getEnvelope();l.y<I.getMinY()||l.y>I.getMaxY()||this.findStabbedSegments(l,w.getDirectedEdges(),c)}return c}if(3===arguments.length)if(tt(arguments[2],dn)&&arguments[0]instanceof se&&arguments[1]instanceof ju){for(var W=arguments[0],re=arguments[1],x=arguments[2],o=re.getEdge().getCoordinates(),g=0;g<o.length-1;g++)if(this._seg.p0=o[g],this._seg.p1=o[g+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<W.x||this._seg.isHorizontal()||W.y<this._seg.p0.y||W.y>this._seg.p1.y||Zn.computeOrientation(this._seg.p0,this._seg.p1,W)===Zn.RIGHT)){var M=re.getDepth(Re.LEFT);this._seg.p0.equals(o[g])||(M=re.getDepth(Re.RIGHT));var S=new Xa(this._seg,M);x.add(S)}}else if(tt(arguments[2],dn)&&arguments[0]instanceof se&&tt(arguments[1],dn))for(var A=arguments[0],U=arguments[2],K=arguments[1].iterator();K.hasNext();){var ge=K.next();ge.isForward()&&this.findStabbedSegments(A,ge,U)}},po.prototype.getDepth=function(l){var c=this.findStabbedSegments(l);return 0===c.size()?0:At.min(c)._leftDepth},po.prototype.interfaces_=function(){return[]},po.prototype.getClass=function(){return po},ka.DepthSegment.get=function(){return Xa},Object.defineProperties(po,ka);var Xa=function(){this._upwardSeg=null,this._leftDepth=null;var c=arguments[1];this._upwardSeg=new Ur(arguments[0]),this._leftDepth=c};Xa.prototype.compareTo=function(l){var c=l;if(this._upwardSeg.minX()>=c._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=c._upwardSeg.minX())return-1;var _=this._upwardSeg.orientationIndex(c._upwardSeg);return 0!==_||0!=(_=-1*c._upwardSeg.orientationIndex(this._upwardSeg))?_:this._upwardSeg.compareTo(c._upwardSeg)},Xa.prototype.compareX=function(l,c){var _=l.p0.compareTo(c.p0);return 0!==_?_:l.p1.compareTo(c.p1)},Xa.prototype.toString=function(){return this._upwardSeg.toString()},Xa.prototype.interfaces_=function(){return[ee]},Xa.prototype.getClass=function(){return Xa};var Gs=function(l,c,_){this.p0=l||null,this.p1=c||null,this.p2=_||null};Gs.prototype.area=function(){return Gs.area(this.p0,this.p1,this.p2)},Gs.prototype.signedArea=function(){return Gs.signedArea(this.p0,this.p1,this.p2)},Gs.prototype.interpolateZ=function(l){if(null===l)throw new J("Supplied point is null.");return Gs.interpolateZ(l,this.p0,this.p1,this.p2)},Gs.prototype.longestSideLength=function(){return Gs.longestSideLength(this.p0,this.p1,this.p2)},Gs.prototype.isAcute=function(){return Gs.isAcute(this.p0,this.p1,this.p2)},Gs.prototype.circumcentre=function(){return Gs.circumcentre(this.p0,this.p1,this.p2)},Gs.prototype.area3D=function(){return Gs.area3D(this.p0,this.p1,this.p2)},Gs.prototype.centroid=function(){return Gs.centroid(this.p0,this.p1,this.p2)},Gs.prototype.inCentre=function(){return Gs.inCentre(this.p0,this.p1,this.p2)},Gs.prototype.interfaces_=function(){return[]},Gs.prototype.getClass=function(){return Gs},Gs.area=function(l,c,_){return Math.abs(((_.x-l.x)*(c.y-l.y)-(c.x-l.x)*(_.y-l.y))/2)},Gs.signedArea=function(l,c,_){return((_.x-l.x)*(c.y-l.y)-(c.x-l.x)*(_.y-l.y))/2},Gs.det=function(l,c,_,w){return l*w-c*_},Gs.interpolateZ=function(l,c,_,w){var I=c.x,W=c.y,re=_.x-I,x=w.x-I,o=_.y-W,g=w.y-W,M=re*g-x*o,S=l.x-I,A=l.y-W;return c.z+(g*S-x*A)/M*(_.z-c.z)+(-o*S+re*A)/M*(w.z-c.z)},Gs.longestSideLength=function(l,c,_){var w=l.distance(c),I=c.distance(_),W=_.distance(l),re=w;return I>re&&(re=I),W>re&&(re=W),re},Gs.isAcute=function(l,c,_){return!!Ei.isAcute(l,c,_)&&!!Ei.isAcute(c,_,l)&&!!Ei.isAcute(_,l,c)},Gs.circumcentre=function(l,c,_){var w=_.x,I=_.y,W=l.x-w,re=l.y-I,x=c.x-w,o=c.y-I,g=2*Gs.det(W,re,x,o),M=Gs.det(re,W*W+re*re,o,x*x+o*o),S=Gs.det(W,W*W+re*re,x,x*x+o*o);return new se(w-M/g,I+S/g)},Gs.perpendicularBisector=function(l,c){var _=c.x-l.x,w=c.y-l.y,I=new Xn(l.x+_/2,l.y+w/2,1),W=new Xn(l.x-w+_/2,l.y+_+w/2,1);return new Xn(I,W)},Gs.angleBisector=function(l,c,_){var w=c.distance(l),I=w/(w+c.distance(_));return new se(l.x+I*(_.x-l.x),l.y+I*(_.y-l.y))},Gs.area3D=function(l,c,_){var w=c.x-l.x,I=c.y-l.y,W=c.z-l.z,re=_.x-l.x,x=_.y-l.y,o=_.z-l.z,g=I*o-W*x,M=W*re-w*o,S=w*x-I*re;return Math.sqrt(g*g+M*M+S*S)/2},Gs.centroid=function(l,c,_){return new se((l.x+c.x+_.x)/3,(l.y+c.y+_.y)/3)},Gs.inCentre=function(l,c,_){var w=c.distance(_),I=l.distance(_),W=l.distance(c),re=w+I+W;return new se((w*l.x+I*c.x+W*_.x)/re,(w*l.y+I*c.y+W*_.y)/re)};var Ha=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new me;var c=arguments[1],_=arguments[2];this._inputGeom=arguments[0],this._distance=c,this._curveBuilder=_};Ha.prototype.addPoint=function(l){if(this._distance<=0)return null;var c=l.getCoordinates(),_=this._curveBuilder.getLineCurve(c,this._distance);this.addCurve(_,Te.EXTERIOR,Te.INTERIOR)},Ha.prototype.addPolygon=function(l){var c=this._distance,_=Re.LEFT;this._distance<0&&(c=-this._distance,_=Re.RIGHT);var w=l.getExteriorRing(),I=Me.removeRepeatedPoints(w.getCoordinates());if(this._distance<0&&this.isErodedCompletely(w,this._distance)||this._distance<=0&&I.length<3)return null;this.addPolygonRing(I,c,_,Te.EXTERIOR,Te.INTERIOR);for(var W=0;W<l.getNumInteriorRing();W++){var re=l.getInteriorRingN(W),x=Me.removeRepeatedPoints(re.getCoordinates());this._distance>0&&this.isErodedCompletely(re,-this._distance)||this.addPolygonRing(x,c,Re.opposite(_),Te.INTERIOR,Te.EXTERIOR)}},Ha.prototype.isTriangleErodedCompletely=function(l,c){var _=new Gs(l[0],l[1],l[2]),w=_.inCentre();return Zn.distancePointLine(w,_.p0,_.p1)<Math.abs(c)},Ha.prototype.addLineString=function(l){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var c=Me.removeRepeatedPoints(l.getCoordinates()),_=this._curveBuilder.getLineCurve(c,this._distance);this.addCurve(_,Te.EXTERIOR,Te.INTERIOR)},Ha.prototype.addCurve=function(l,c,_){if(null===l||l.length<2)return null;var w=new xs(l,new zi(0,Te.BOUNDARY,c,_));this._curveList.add(w)},Ha.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Ha.prototype.addPolygonRing=function(l,c,_,w,I){if(0===c&&l.length<Xi.MINIMUM_VALID_SIZE)return null;var W=w,re=I;l.length>=Xi.MINIMUM_VALID_SIZE&&Zn.isCCW(l)&&(W=I,re=w,_=Re.opposite(_));var x=this._curveBuilder.getRingCurve(l,_,c);this.addCurve(x,W,re)},Ha.prototype.add=function(l){if(l.isEmpty())return null;l instanceof Ns?this.addPolygon(l):l instanceof Zi?this.addLineString(l):l instanceof no?this.addPoint(l):(l instanceof Wi||l instanceof wi||l instanceof jn||l instanceof Ir)&&this.addCollection(l)},Ha.prototype.isErodedCompletely=function(l,c){var _=l.getCoordinates();if(_.length<4)return c<0;if(4===_.length)return this.isTriangleErodedCompletely(_,c);var w=l.getEnvelopeInternal(),I=Math.min(w.getHeight(),w.getWidth());return c<0&&2*Math.abs(c)>I},Ha.prototype.addCollection=function(l){for(var c=0;c<l.getNumGeometries();c++){var _=l.getGeometryN(c);this.add(_)}},Ha.prototype.interfaces_=function(){return[]},Ha.prototype.getClass=function(){return Ha};var Qu=function(){};Qu.prototype.locate=function(l){},Qu.prototype.interfaces_=function(){return[]},Qu.prototype.getClass=function(){return Qu};var Nl=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var l=arguments[0];this._parent=l,this._atStart=!0,this._index=0,this._max=l.getNumGeometries()};Nl.prototype.next=function(){if(this._atStart)return this._atStart=!1,Nl.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new z;var l=this._parent.getGeometryN(this._index++);return l instanceof Ir?(this._subcollectionIterator=new Nl(l),this._subcollectionIterator.next()):l},Nl.prototype.remove=function(){throw new Error(this.getClass().getName())},Nl.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Nl.prototype.interfaces_=function(){return[kt]},Nl.prototype.getClass=function(){return Nl},Nl.isAtomic=function(l){return!(l instanceof Ir)};var Rl=function(){this._geom=null,this._geom=arguments[0]};Rl.prototype.locate=function(l){return Rl.locate(l,this._geom)},Rl.prototype.interfaces_=function(){return[Qu]},Rl.prototype.getClass=function(){return Rl},Rl.isPointInRing=function(l,c){return!!c.getEnvelopeInternal().intersects(l)&&Zn.isPointInRing(l,c.getCoordinates())},Rl.containsPointInPolygon=function(l,c){if(c.isEmpty())return!1;var _=c.getExteriorRing();if(!Rl.isPointInRing(l,_))return!1;for(var w=0;w<c.getNumInteriorRing();w++){var I=c.getInteriorRingN(w);if(Rl.isPointInRing(l,I))return!1}return!0},Rl.containsPoint=function(l,c){if(c instanceof Ns)return Rl.containsPointInPolygon(l,c);if(c instanceof Ir)for(var _=new Nl(c);_.hasNext();){var w=_.next();if(w!==c&&Rl.containsPoint(l,w))return!0}return!1},Rl.locate=function(l,c){return c.isEmpty()?Te.EXTERIOR:Rl.containsPoint(l,c)?Te.INTERIOR:Te.EXTERIOR};var Oa=function(){this._edgeMap=new he,this._edgeList=null,this._ptInAreaLocation=[Te.NONE,Te.NONE]};Oa.prototype.getNextCW=function(l){this.getEdges();var c=this._edgeList.indexOf(l),_=c-1;return 0===c&&(_=this._edgeList.size()-1),this._edgeList.get(_)},Oa.prototype.propagateSideLabels=function(l){for(var c=Te.NONE,_=this.iterator();_.hasNext();){var w=_.next().getLabel();w.isArea(l)&&w.getLocation(l,Re.LEFT)!==Te.NONE&&(c=w.getLocation(l,Re.LEFT))}if(c===Te.NONE)return null;for(var I=c,W=this.iterator();W.hasNext();){var re=W.next(),x=re.getLabel();if(x.getLocation(l,Re.ON)===Te.NONE&&x.setLocation(l,Re.ON,I),x.isArea(l)){var o=x.getLocation(l,Re.LEFT),g=x.getLocation(l,Re.RIGHT);if(g!==Te.NONE){if(g!==I)throw new An("side location conflict",re.getCoordinate());o===Te.NONE&&qt.shouldNeverReachHere("found single null side (at "+re.getCoordinate()+")"),I=o}else qt.isTrue(x.getLocation(l,Re.LEFT)===Te.NONE,"found single null side"),x.setLocation(l,Re.RIGHT,I),x.setLocation(l,Re.LEFT,I)}}},Oa.prototype.getCoordinate=function(){var l=this.iterator();return l.hasNext()?l.next().getCoordinate():null},Oa.prototype.print=function(l){un.out.println("EdgeEndStar:   "+this.getCoordinate());for(var c=this.iterator();c.hasNext();)c.next().print(l)},Oa.prototype.isAreaLabelsConsistent=function(l){return this.computeEdgeEndLabels(l.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Oa.prototype.checkAreaLabelsConsistent=function(l){var c=this.getEdges();if(c.size()<=0)return!0;var _=c.size()-1,w=c.get(_).getLabel().getLocation(l,Re.LEFT);qt.isTrue(w!==Te.NONE,"Found unlabelled area edge");for(var I=w,W=this.iterator();W.hasNext();){var re=W.next().getLabel();qt.isTrue(re.isArea(l),"Found non-area edge");var x=re.getLocation(l,Re.LEFT),o=re.getLocation(l,Re.RIGHT);if(x===o||o!==I)return!1;I=x}return!0},Oa.prototype.findIndex=function(l){this.iterator();for(var c=0;c<this._edgeList.size();c++)if(this._edgeList.get(c)===l)return c;return-1},Oa.prototype.iterator=function(){return this.getEdges().iterator()},Oa.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new me(this._edgeMap.values())),this._edgeList},Oa.prototype.getLocation=function(l,c,_){return this._ptInAreaLocation[l]===Te.NONE&&(this._ptInAreaLocation[l]=Rl.locate(c,_[l].getGeometry())),this._ptInAreaLocation[l]},Oa.prototype.toString=function(){var l=new et;l.append("EdgeEndStar:   "+this.getCoordinate()),l.append("\n");for(var c=this.iterator();c.hasNext();){var _=c.next();l.append(_),l.append("\n")}return l.toString()},Oa.prototype.computeEdgeEndLabels=function(l){for(var c=this.iterator();c.hasNext();)c.next().computeLabel(l)},Oa.prototype.computeLabelling=function(l){this.computeEdgeEndLabels(l[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var c=[!1,!1],_=this.iterator();_.hasNext();)for(var w=_.next().getLabel(),I=0;I<2;I++)w.isLine(I)&&w.getLocation(I)===Te.BOUNDARY&&(c[I]=!0);for(var W=this.iterator();W.hasNext();)for(var re=W.next(),x=re.getLabel(),o=0;o<2;o++)if(x.isAnyNull(o)){var g=Te.NONE;if(c[o])g=Te.EXTERIOR;else{var M=re.getCoordinate();g=this.getLocation(o,M,l)}x.setAllLocationsIfNull(o,g)}},Oa.prototype.getDegree=function(){return this._edgeMap.size()},Oa.prototype.insertEdgeEnd=function(l,c){this._edgeMap.put(l,c),this._edgeList=null},Oa.prototype.interfaces_=function(){return[]},Oa.prototype.getClass=function(){return Oa};var vc=function(l){function c(){l.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var _=null,w=null,I=this._SCANNING_FOR_INCOMING,W=0;W<this._resultAreaEdgeList.size();W++){var re=this._resultAreaEdgeList.get(W),x=re.getSym();if(re.getLabel().isArea())switch(null===_&&re.isInResult()&&(_=re),I){case this._SCANNING_FOR_INCOMING:if(!x.isInResult())continue;w=x,I=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!re.isInResult())continue;w.setNext(re),I=this._SCANNING_FOR_INCOMING}}if(I===this._LINKING_TO_OUTGOING){if(null===_)throw new An("no outgoing dirEdge found",this.getCoordinate());qt.isTrue(_.isInResult(),"unable to link last incoming dirEdge"),w.setNext(_)}},c.prototype.insert=function(_){this.insertEdgeEnd(_,_)},c.prototype.getRightmostEdge=function(){var _=this.getEdges(),w=_.size();if(w<1)return null;var I=_.get(0);if(1===w)return I;var W=_.get(w-1),re=I.getQuadrant(),x=W.getQuadrant();return us.isNorthern(re)&&us.isNorthern(x)?I:us.isNorthern(re)||us.isNorthern(x)?0!==I.getDy()?I:0!==W.getDy()?W:(qt.shouldNeverReachHere("found two horizontal edges incident on node"),null):W},c.prototype.print=function(_){un.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var w=this.iterator();w.hasNext();){var I=w.next();_.print("out "),I.print(_),_.println(),_.print("in "),I.getSym().print(_),_.println()}},c.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new me;for(var _=this.iterator();_.hasNext();){var w=_.next();(w.isInResult()||w.getSym().isInResult())&&this._resultAreaEdgeList.add(w)}return this._resultAreaEdgeList},c.prototype.updateLabelling=function(_){for(var w=this.iterator();w.hasNext();){var I=w.next().getLabel();I.setAllLocationsIfNull(0,_.getLocation(0)),I.setAllLocationsIfNull(1,_.getLocation(1))}},c.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var _=null,w=null,I=this._edgeList.size()-1;I>=0;I--){var W=this._edgeList.get(I),re=W.getSym();null===w&&(w=re),null!==_&&re.setNext(_),_=W}w.setNext(_)},c.prototype.computeDepths=function(){if(1===arguments.length){var _=arguments[0],w=this.findIndex(_),I=_.getDepth(Re.LEFT),W=_.getDepth(Re.RIGHT),re=this.computeDepths(w+1,this._edgeList.size(),I);if(this.computeDepths(0,w,re)!==W)throw new An("depth mismatch at "+_.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],g=arguments[2],M=arguments[0];M<o;M++){var S=this._edgeList.get(M);S.setEdgeDepths(Re.RIGHT,g),g=S.getDepth(Re.LEFT)}return g}},c.prototype.mergeSymLabels=function(){for(var _=this.iterator();_.hasNext();){var w=_.next();w.getLabel().merge(w.getSym().getLabel())}},c.prototype.linkMinimalDirectedEdges=function(_){for(var w=null,I=null,W=this._SCANNING_FOR_INCOMING,re=this._resultAreaEdgeList.size()-1;re>=0;re--){var x=this._resultAreaEdgeList.get(re),o=x.getSym();switch(null===w&&x.getEdgeRing()===_&&(w=x),W){case this._SCANNING_FOR_INCOMING:if(o.getEdgeRing()!==_)continue;I=o,W=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(x.getEdgeRing()!==_)continue;I.setNextMin(x),W=this._SCANNING_FOR_INCOMING}}W===this._LINKING_TO_OUTGOING&&(qt.isTrue(null!==w,"found null for first outgoing dirEdge"),qt.isTrue(w.getEdgeRing()===_,"unable to link last incoming dirEdge"),I.setNextMin(w))},c.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var _=0,w=this.iterator();w.hasNext();)w.next().isInResult()&&_++;return _}if(1===arguments.length){for(var I=arguments[0],W=0,re=this.iterator();re.hasNext();)re.next().getEdgeRing()===I&&W++;return W}},c.prototype.getLabel=function(){return this._label},c.prototype.findCoveredLineEdges=function(){for(var _=Te.NONE,w=this.iterator();w.hasNext();){var I=w.next(),W=I.getSym();if(!I.isLineEdge()){if(I.isInResult()){_=Te.INTERIOR;break}if(W.isInResult()){_=Te.EXTERIOR;break}}}if(_===Te.NONE)return null;for(var re=_,x=this.iterator();x.hasNext();){var o=x.next(),g=o.getSym();o.isLineEdge()?o.getEdge().setCovered(re===Te.INTERIOR):(o.isInResult()&&(re=Te.EXTERIOR),g.isInResult()&&(re=Te.INTERIOR))}},c.prototype.computeLabelling=function(_){l.prototype.computeLabelling.call(this,_),this._label=new zi(Te.NONE);for(var w=this.iterator();w.hasNext();)for(var I=w.next().getEdge().getLabel(),W=0;W<2;W++){var re=I.getLocation(W);re!==Te.INTERIOR&&re!==Te.BOUNDARY||this._label.setLocation(W,Te.INTERIOR)}},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Oa),yd=function(l){function c(){l.apply(this,arguments)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.createNode=function(_){return new Ac(_,new vc)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(dl),Za=function l(){this._pts=null,this._orientation=null;var c=arguments[0];this._pts=c,this._orientation=l.orientation(c)};Za.prototype.compareTo=function(l){return Za.compareOriented(this._pts,this._orientation,l._pts,l._orientation)},Za.prototype.interfaces_=function(){return[ee]},Za.prototype.getClass=function(){return Za},Za.orientation=function(l){return 1===Me.increasingDirection(l)},Za.compareOriented=function(l,c,_,w){for(var I=c?1:-1,W=w?1:-1,re=c?l.length:-1,x=w?_.length:-1,o=c?0:l.length-1,g=w?0:_.length-1;;){var M=l[o].compareTo(_[g]);if(0!==M)return M;var S=(o+=I)===re,A=(g+=W)===x;if(S&&!A)return-1;if(!S&&A)return 1;if(S&&A)return 0}};var Fo=function(){this._edges=new me,this._ocaMap=new he};Fo.prototype.print=function(l){l.print("MULTILINESTRING ( ");for(var c=0;c<this._edges.size();c++){var _=this._edges.get(c);c>0&&l.print(","),l.print("(");for(var w=_.getCoordinates(),I=0;I<w.length;I++)I>0&&l.print(","),l.print(w[I].x+" "+w[I].y);l.println(")")}l.print(")  ")},Fo.prototype.addAll=function(l){for(var c=l.iterator();c.hasNext();)this.add(c.next())},Fo.prototype.findEdgeIndex=function(l){for(var c=0;c<this._edges.size();c++)if(this._edges.get(c).equals(l))return c;return-1},Fo.prototype.iterator=function(){return this._edges.iterator()},Fo.prototype.getEdges=function(){return this._edges},Fo.prototype.get=function(l){return this._edges.get(l)},Fo.prototype.findEqualEdge=function(l){var c=new Za(l.getCoordinates());return this._ocaMap.get(c)},Fo.prototype.add=function(l){this._edges.add(l);var c=new Za(l.getCoordinates());this._ocaMap.put(c,l)},Fo.prototype.interfaces_=function(){return[]},Fo.prototype.getClass=function(){return Fo};var tr=function(){};tr.prototype.processIntersections=function(l,c,_,w){},tr.prototype.isDone=function(){},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr};var Ms=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Ms.prototype.isTrivialIntersection=function(l,c,_,w){if(l===_&&1===this._li.getIntersectionNum()){if(Ms.isAdjacentSegments(c,w))return!0;if(l.isClosed()){var I=l.size()-1;if(0===c&&w===I||0===w&&c===I)return!0}}return!1},Ms.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Ms.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Ms.prototype.getLineIntersector=function(){return this._li},Ms.prototype.hasProperIntersection=function(){return this._hasProper},Ms.prototype.processIntersections=function(l,c,_,w){if(l===_&&c===w)return null;this.numTests++;var I=l.getCoordinates()[c],W=l.getCoordinates()[c+1],re=_.getCoordinates()[w],x=_.getCoordinates()[w+1];this._li.computeIntersection(I,W,re,x),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(l,c,_,w)||(this._hasIntersection=!0,l.addIntersections(this._li,c,0),_.addIntersections(this._li,w,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Ms.prototype.hasIntersection=function(){return this._hasIntersection},Ms.prototype.isDone=function(){return!1},Ms.prototype.hasInteriorIntersection=function(){return this._hasInterior},Ms.prototype.interfaces_=function(){return[tr]},Ms.prototype.getClass=function(){return Ms},Ms.isAdjacentSegments=function(l,c){return 1===Math.abs(l-c)};var Pr=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var c=arguments[1],_=arguments[2];this.coord=new se(arguments[0]),this.segmentIndex=c,this.dist=_};Pr.prototype.getSegmentIndex=function(){return this.segmentIndex},Pr.prototype.getCoordinate=function(){return this.coord},Pr.prototype.print=function(l){l.print(this.coord),l.print(" seg # = "+this.segmentIndex),l.println(" dist = "+this.dist)},Pr.prototype.compareTo=function(l){return this.compare(l.segmentIndex,l.dist)},Pr.prototype.isEndPoint=function(l){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===l},Pr.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Pr.prototype.getDistance=function(){return this.dist},Pr.prototype.compare=function(l,c){return this.segmentIndex<l?-1:this.segmentIndex>l?1:this.dist<c?-1:this.dist>c?1:0},Pr.prototype.interfaces_=function(){return[ee]},Pr.prototype.getClass=function(){return Pr};var Ul=function(){this._nodeMap=new he,this.edge=null,this.edge=arguments[0]};Ul.prototype.print=function(l){l.println("Intersections:");for(var c=this.iterator();c.hasNext();)c.next().print(l)},Ul.prototype.iterator=function(){return this._nodeMap.values().iterator()},Ul.prototype.addSplitEdges=function(l){this.addEndpoints();for(var c=this.iterator(),_=c.next();c.hasNext();){var w=c.next(),I=this.createSplitEdge(_,w);l.add(I),_=w}},Ul.prototype.addEndpoints=function(){var l=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[l],l,0)},Ul.prototype.createSplitEdge=function(l,c){var _=c.segmentIndex-l.segmentIndex+2,I=c.dist>0||!c.coord.equals2D(this.edge.pts[c.segmentIndex]);I||_--;var W=new Array(_).fill(null),re=0;W[re++]=new se(l.coord);for(var x=l.segmentIndex+1;x<=c.segmentIndex;x++)W[re++]=this.edge.pts[x];return I&&(W[re]=c.coord),new Hu(W,new zi(this.edge._label))},Ul.prototype.add=function(l,c,_){var w=new Pr(l,c,_),I=this._nodeMap.get(w);return null!==I?I:(this._nodeMap.put(w,w),w)},Ul.prototype.isIntersection=function(l){for(var c=this.iterator();c.hasNext();)if(c.next().coord.equals(l))return!0;return!1},Ul.prototype.interfaces_=function(){return[]},Ul.prototype.getClass=function(){return Ul};var _u=function(){};_u.prototype.getChainStartIndices=function(l){var c=0,_=new me;_.add(new Xe(c));do{var w=this.findChainEnd(l,c);_.add(new Xe(w)),c=w}while(c<l.length-1);return _u.toIntArray(_)},_u.prototype.findChainEnd=function(l,c){for(var _=us.quadrant(l[c],l[c+1]),w=c+1;w<l.length&&us.quadrant(l[w-1],l[w])===_;)w++;return w-1},_u.prototype.interfaces_=function(){return[]},_u.prototype.getClass=function(){return _u},_u.toIntArray=function(l){for(var c=new Array(l.size()).fill(null),_=0;_<c.length;_++)c[_]=l.get(_).intValue();return c};var Vl=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Rn,this.env2=new Rn;var l=arguments[0];this.e=l,this.pts=l.getCoordinates();var c=new _u;this.startIndex=c.getChainStartIndices(this.pts)};Vl.prototype.getCoordinates=function(){return this.pts},Vl.prototype.getMaxX=function(l){var c=this.pts[this.startIndex[l]].x,_=this.pts[this.startIndex[l+1]].x;return c>_?c:_},Vl.prototype.getMinX=function(l){var c=this.pts[this.startIndex[l]].x,_=this.pts[this.startIndex[l+1]].x;return c<_?c:_},Vl.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var l=arguments[0],c=arguments[1],_=arguments[2];this.computeIntersectsForChain(this.startIndex[l],this.startIndex[l+1],c,c.startIndex[_],c.startIndex[_+1],arguments[3])}else if(6===arguments.length){var I=arguments[0],W=arguments[1],re=arguments[2],x=arguments[3],o=arguments[4],g=arguments[5],M=this.pts[I],S=this.pts[W],A=re.pts[x],Y=re.pts[o];if(W-I==1&&o-x==1)return g.addIntersections(this.e,I,re.e,x),null;if(this.env1.init(M,S),this.env2.init(A,Y),!this.env1.intersects(this.env2))return null;var U=Math.trunc((I+W)/2),K=Math.trunc((x+o)/2);I<U&&(x<K&&this.computeIntersectsForChain(I,U,re,x,K,g),K<o&&this.computeIntersectsForChain(I,U,re,K,o,g)),U<W&&(x<K&&this.computeIntersectsForChain(U,W,re,x,K,g),K<o&&this.computeIntersectsForChain(U,W,re,K,o,g))}},Vl.prototype.getStartIndexes=function(){return this.startIndex},Vl.prototype.computeIntersects=function(l,c){for(var _=0;_<this.startIndex.length-1;_++)for(var w=0;w<l.startIndex.length-1;w++)this.computeIntersectsForChain(_,l,w,c)},Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl};var ol=function l(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var c=0;c<2;c++)for(var _=0;_<3;_++)this._depth[c][_]=l.NULL_VALUE},wh={NULL_VALUE:{configurable:!0}};ol.prototype.getDepth=function(l,c){return this._depth[l][c]},ol.prototype.setDepth=function(l,c,_){this._depth[l][c]=_},ol.prototype.isNull=function(){if(0===arguments.length){for(var l=0;l<2;l++)for(var c=0;c<3;c++)if(this._depth[l][c]!==ol.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===ol.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===ol.NULL_VALUE:void 0},ol.prototype.normalize=function(){for(var l=0;l<2;l++)if(!this.isNull(l)){var c=this._depth[l][1];this._depth[l][2]<c&&(c=this._depth[l][2]),c<0&&(c=0);for(var _=1;_<3;_++){var w=0;this._depth[l][_]>c&&(w=1),this._depth[l][_]=w}}},ol.prototype.getDelta=function(l){return this._depth[l][Re.RIGHT]-this._depth[l][Re.LEFT]},ol.prototype.getLocation=function(l,c){return this._depth[l][c]<=0?Te.EXTERIOR:Te.INTERIOR},ol.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},ol.prototype.add=function(){if(1===arguments.length)for(var l=arguments[0],c=0;c<2;c++)for(var _=1;_<3;_++){var w=l.getLocation(c,_);w!==Te.EXTERIOR&&w!==Te.INTERIOR||(this.isNull(c,_)?this._depth[c][_]=ol.depthAtLocation(w):this._depth[c][_]+=ol.depthAtLocation(w))}else 3===arguments.length&&arguments[2]===Te.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol},ol.depthAtLocation=function(l){return l===Te.EXTERIOR?0:l===Te.INTERIOR?1:ol.NULL_VALUE},wh.NULL_VALUE.get=function(){return-1},Object.defineProperties(ol,wh);var Hu=function(l){function c(){if(l.call(this),this.pts=null,this._env=null,this.eiList=new Ul(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ol,this._depthDelta=0,1===arguments.length)c.call(this,arguments[0],null);else if(2===arguments.length){var I=arguments[1];this.pts=arguments[0],this._label=I}}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.getDepth=function(){return this._depth},c.prototype.getCollapsedEdge=function(){var _=new Array(2).fill(null);return _[0]=this.pts[0],_[1]=this.pts[1],new c(_,zi.toLineLabel(this._label))},c.prototype.isIsolated=function(){return this._isIsolated},c.prototype.getCoordinates=function(){return this.pts},c.prototype.setIsolated=function(_){this._isIsolated=_},c.prototype.setName=function(_){this._name=_},c.prototype.equals=function(_){if(!(_ instanceof c))return!1;var w=_;if(this.pts.length!==w.pts.length)return!1;for(var I=!0,W=!0,re=this.pts.length,x=0;x<this.pts.length;x++)if(this.pts[x].equals2D(w.pts[x])||(I=!1),this.pts[x].equals2D(w.pts[--re])||(W=!1),!I&&!W)return!1;return!0},c.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},c.prototype.print=function(_){_.print("edge "+this._name+": "),_.print("LINESTRING (");for(var w=0;w<this.pts.length;w++)w>0&&_.print(","),_.print(this.pts[w].x+" "+this.pts[w].y);_.print(")  "+this._label+" "+this._depthDelta)},c.prototype.computeIM=function(_){c.updateIM(this._label,_)},c.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},c.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},c.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},c.prototype.getDepthDelta=function(){return this._depthDelta},c.prototype.getNumPoints=function(){return this.pts.length},c.prototype.printReverse=function(_){_.print("edge "+this._name+": ");for(var w=this.pts.length-1;w>=0;w--)_.print(this.pts[w]+" ");_.println("")},c.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Vl(this)),this._mce},c.prototype.getEnvelope=function(){if(null===this._env){this._env=new Rn;for(var _=0;_<this.pts.length;_++)this._env.expandToInclude(this.pts[_])}return this._env},c.prototype.addIntersection=function(_,w,I,W){var re=new se(_.getIntersection(W)),x=w,o=_.getEdgeDistance(I,W),g=x+1;g<this.pts.length&&re.equals2D(this.pts[g])&&(x=g,o=0),this.eiList.add(re,x,o)},c.prototype.toString=function(){var _=new et;_.append("edge "+this._name+": "),_.append("LINESTRING (");for(var w=0;w<this.pts.length;w++)w>0&&_.append(","),_.append(this.pts[w].x+" "+this.pts[w].y);return _.append(")  "+this._label+" "+this._depthDelta),_.toString()},c.prototype.isPointwiseEqual=function(_){if(this.pts.length!==_.pts.length)return!1;for(var w=0;w<this.pts.length;w++)if(!this.pts[w].equals2D(_.pts[w]))return!1;return!0},c.prototype.setDepthDelta=function(_){this._depthDelta=_},c.prototype.getEdgeIntersectionList=function(){return this.eiList},c.prototype.addIntersections=function(_,w,I){for(var W=0;W<_.getIntersectionNum();W++)this.addIntersection(_,w,I,W)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.updateIM=function(){if(2!==arguments.length)return l.prototype.updateIM.apply(this,arguments);var _=arguments[0],w=arguments[1];w.setAtLeastIfValid(_.getLocation(0,Re.ON),_.getLocation(1,Re.ON),1),_.isArea()&&(w.setAtLeastIfValid(_.getLocation(0,Re.LEFT),_.getLocation(1,Re.LEFT),2),w.setAtLeastIfValid(_.getLocation(0,Re.RIGHT),_.getLocation(1,Re.RIGHT),2))},c}(Sl),mo=function(l){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Fo,this._bufParams=l||null};mo.prototype.setWorkingPrecisionModel=function(l){this._workingPrecisionModel=l},mo.prototype.insertUniqueEdge=function(l){var c=this._edgeList.findEqualEdge(l);if(null!==c){var _=c.getLabel(),w=l.getLabel();c.isPointwiseEqual(l)||(w=new zi(l.getLabel())).flip(),_.merge(w);var I=mo.depthDelta(w),W=c.getDepthDelta()+I;c.setDepthDelta(W)}else this._edgeList.add(l),l.setDepthDelta(mo.depthDelta(l.getLabel()))},mo.prototype.buildSubgraphs=function(l,c){for(var _=new me,w=l.iterator();w.hasNext();){var I=w.next(),W=I.getRightmostCoordinate(),re=new po(_).getDepth(W);I.computeDepth(re),I.findResultEdges(),_.add(I),c.add(I.getDirectedEdges(),I.getNodes())}},mo.prototype.createSubgraphs=function(l){for(var c=new me,_=l.getNodes().iterator();_.hasNext();){var w=_.next();if(!w.isVisited()){var I=new Hr;I.create(w),c.add(I)}}return At.sort(c,At.reverseOrder()),c},mo.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},mo.prototype.getNoder=function(l){if(null!==this._workingNoder)return this._workingNoder;var c=new lo,_=new zr;return _.setPrecisionModel(l),c.setSegmentIntersector(new Ms(_)),c},mo.prototype.buffer=function(l,c){var _=this._workingPrecisionModel;null===_&&(_=l.getPrecisionModel()),this._geomFact=l.getFactory();var w=new Pa(_,this._bufParams),I=new Ha(l,c,w).getCurves();if(I.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(I,_),this._graph=new Ao(new yd),this._graph.addEdges(this._edgeList.getEdges());var W=this.createSubgraphs(this._graph),re=new ja(this._geomFact);this.buildSubgraphs(W,re);var x=re.getPolygons();return x.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(x)},mo.prototype.computeNodedEdges=function(l,c){var _=this.getNoder(c);_.computeNodes(l);for(var w=_.getNodedSubstrings().iterator();w.hasNext();){var I=w.next(),W=I.getCoordinates();if(2!==W.length||!W[0].equals2D(W[1])){var re=I.getData(),x=new Hu(I.getCoordinates(),new zi(re));this.insertUniqueEdge(x)}}},mo.prototype.setNoder=function(l){this._workingNoder=l},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo},mo.depthDelta=function(l){var c=l.getLocation(0,Re.LEFT),_=l.getLocation(0,Re.RIGHT);return c===Te.INTERIOR&&_===Te.EXTERIOR?1:c===Te.EXTERIOR&&_===Te.INTERIOR?-1:0},mo.convertSegStrings=function(l){for(var c=new Cn,_=new me;l.hasNext();){var w=l.next(),I=c.createLineString(w.getCoordinates());_.add(I)}return c.buildGeometry(_)};var eu=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var c=arguments[1];this._noder=arguments[0],this._scaleFactor=c,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var w=arguments[1],I=arguments[2],W=arguments[3];this._noder=arguments[0],this._scaleFactor=w,this._offsetX=I,this._offsetY=W,this._isScaled=!this.isIntegerPrecision()}};eu.prototype.rescale=function(){if(tt(arguments[0],St))for(var l=arguments[0].iterator();l.hasNext();){var c=l.next();this.rescale(c.getCoordinates())}else if(arguments[0]instanceof Array){for(var _=arguments[0],w=0;w<_.length;w++)_[w].x=_[w].x/this._scaleFactor+this._offsetX,_[w].y=_[w].y/this._scaleFactor+this._offsetY;2===_.length&&_[0].equals2D(_[1])&&un.out.println(_)}},eu.prototype.scale=function(){if(tt(arguments[0],St)){for(var l=arguments[0],c=new me,_=l.iterator();_.hasNext();){var w=_.next();c.add(new xs(this.scale(w.getCoordinates()),w.getData()))}return c}if(arguments[0]instanceof Array){for(var I=arguments[0],W=new Array(I.length).fill(null),re=0;re<I.length;re++)W[re]=new se(Math.round((I[re].x-this._offsetX)*this._scaleFactor),Math.round((I[re].y-this._offsetY)*this._scaleFactor),I[re].z);return Me.removeRepeatedPoints(W)}},eu.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},eu.prototype.getNodedSubstrings=function(){var l=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(l),l},eu.prototype.computeNodes=function(l){var c=l;this._isScaled&&(c=this.scale(l)),this._noder.computeNodes(c)},eu.prototype.interfaces_=function(){return[$l]},eu.prototype.getClass=function(){return eu};var Ba=function(){this._li=new zr,this._segStrings=null,this._segStrings=arguments[0]},ro={fact:{configurable:!0}};Ba.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var l=this._segStrings.iterator();l.hasNext();){var c=l.next().getCoordinates();this.checkEndPtVertexIntersections(c[0],this._segStrings),this.checkEndPtVertexIntersections(c[c.length-1],this._segStrings)}else if(2===arguments.length)for(var _=arguments[0],w=arguments[1].iterator();w.hasNext();)for(var I=w.next().getCoordinates(),W=1;W<I.length-1;W++)if(I[W].equals(_))throw new en("found endpt/interior pt intersection at index "+W+" :pt "+_)},Ba.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var l=this._segStrings.iterator();l.hasNext();)for(var c=l.next(),_=this._segStrings.iterator();_.hasNext();){var w=_.next();this.checkInteriorIntersections(c,w)}else if(2===arguments.length)for(var I=arguments[0],W=arguments[1],re=I.getCoordinates(),x=W.getCoordinates(),o=0;o<re.length-1;o++)for(var g=0;g<x.length-1;g++)this.checkInteriorIntersections(I,o,W,g);else if(4===arguments.length){var M=arguments[0],S=arguments[1],A=arguments[2],Y=arguments[3];if(M===A&&S===Y)return null;var U=M.getCoordinates()[S],K=M.getCoordinates()[S+1],ge=A.getCoordinates()[Y],Ce=A.getCoordinates()[Y+1];if(this._li.computeIntersection(U,K,ge,Ce),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,U,K)||this.hasInteriorIntersection(this._li,ge,Ce)))throw new en("found non-noded intersection at "+U+"-"+K+" and "+ge+"-"+Ce)}},Ba.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Ba.prototype.checkCollapses=function(){if(0===arguments.length)for(var l=this._segStrings.iterator();l.hasNext();){var c=l.next();this.checkCollapses(c)}else if(1===arguments.length)for(var _=arguments[0].getCoordinates(),w=0;w<_.length-2;w++)this.checkCollapse(_[w],_[w+1],_[w+2])},Ba.prototype.hasInteriorIntersection=function(l,c,_){for(var w=0;w<l.getIntersectionNum();w++){var I=l.getIntersection(w);if(!I.equals(c)&&!I.equals(_))return!0}return!1},Ba.prototype.checkCollapse=function(l,c,_){if(l.equals(_))throw new en("found non-noded collapse at "+Ba.fact.createLineString([l,c,_]))},Ba.prototype.interfaces_=function(){return[]},Ba.prototype.getClass=function(){return Ba},ro.fact.get=function(){return new Cn},Object.defineProperties(Ba,ro);var qi=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var l=arguments[0],c=arguments[1],_=arguments[2];if(this._originalPt=l,this._pt=l,this._scaleFactor=c,this._li=_,c<=0)throw new J("Scale factor must be non-zero");1!==c&&(this._pt=new se(this.scale(l.x),this.scale(l.y)),this._p0Scaled=new se,this._p1Scaled=new se),this.initCorners(this._pt)},va={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};qi.prototype.intersectsScaled=function(l,c){var _=Math.min(l.x,c.x),w=Math.max(l.x,c.x),I=Math.min(l.y,c.y),W=Math.max(l.y,c.y),re=this._maxx<_||this._minx>w||this._maxy<I||this._miny>W;if(re)return!1;var x=this.intersectsToleranceSquare(l,c);return qt.isTrue(!(re&&x),"Found bad envelope test"),x},qi.prototype.initCorners=function(l){this._minx=l.x-.5,this._maxx=l.x+.5,this._miny=l.y-.5,this._maxy=l.y+.5,this._corner[0]=new se(this._maxx,this._maxy),this._corner[1]=new se(this._minx,this._maxy),this._corner[2]=new se(this._minx,this._miny),this._corner[3]=new se(this._maxx,this._miny)},qi.prototype.intersects=function(l,c){return 1===this._scaleFactor?this.intersectsScaled(l,c):(this.copyScaled(l,this._p0Scaled),this.copyScaled(c,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},qi.prototype.scale=function(l){return Math.round(l*this._scaleFactor)},qi.prototype.getCoordinate=function(){return this._originalPt},qi.prototype.copyScaled=function(l,c){c.x=this.scale(l.x),c.y=this.scale(l.y)},qi.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var l=qi.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Rn(this._originalPt.x-l,this._originalPt.x+l,this._originalPt.y-l,this._originalPt.y+l)}return this._safeEnv},qi.prototype.intersectsPixelClosure=function(l,c){return this._li.computeIntersection(l,c,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(l,c,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(l,c,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(l,c,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},qi.prototype.intersectsToleranceSquare=function(l,c){var _=!1,w=!1;return this._li.computeIntersection(l,c,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(l,c,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(_=!0),this._li.computeIntersection(l,c,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(w=!0),this._li.computeIntersection(l,c,this._corner[3],this._corner[0]),this._li.isProper()||_&&w||l.equals(this._pt)||c.equals(this._pt)))))},qi.prototype.addSnappedNode=function(l,c){var _=l.getCoordinate(c),w=l.getCoordinate(c+1);return!!this.intersects(_,w)&&(l.addIntersection(this.getCoordinate(),c),!0)},qi.prototype.interfaces_=function(){return[]},qi.prototype.getClass=function(){return qi},va.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(qi,va);var tu=function(){this.tempEnv1=new Rn,this.selectedSegment=new Ur};tu.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},tu.prototype.interfaces_=function(){return[]},tu.prototype.getClass=function(){return tu};var Cu=function(){this._index=null,this._index=arguments[0]},vd={HotPixelSnapAction:{configurable:!0}};Cu.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var c=arguments[0],_=arguments[1],w=arguments[2],I=c.getSafeEnvelope(),W=new El(c,_,w);return this._index.query(I,{interfaces_:function(){return[bs]},visitItem:function(re){re.select(I,W)}}),W.isNodeAdded()}},Cu.prototype.interfaces_=function(){return[]},Cu.prototype.getClass=function(){return Cu},vd.HotPixelSnapAction.get=function(){return El},Object.defineProperties(Cu,vd);var El=function(l){function c(){l.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var w=arguments[1],I=arguments[2];this._hotPixel=arguments[0],this._parentEdge=w,this._hotPixelVertexIndex=I}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.isNodeAdded=function(){return this._isNodeAdded},c.prototype.select=function(){if(2!==arguments.length)return l.prototype.select.apply(this,arguments);var w=arguments[1],I=arguments[0].getContext();if(null!==this._parentEdge&&I===this._parentEdge&&w===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(I,w)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(tu),Ka=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new me};Ka.prototype.processIntersections=function(l,c,_,w){if(l===_&&c===w)return null;var I=l.getCoordinates()[c],W=l.getCoordinates()[c+1],re=_.getCoordinates()[w],x=_.getCoordinates()[w+1];if(this._li.computeIntersection(I,W,re,x),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var o=0;o<this._li.getIntersectionNum();o++)this._interiorIntersections.add(this._li.getIntersection(o));l.addIntersections(this._li,c,0),_.addIntersections(this._li,w,1)}},Ka.prototype.isDone=function(){return!1},Ka.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Ka.prototype.interfaces_=function(){return[tr]},Ka.prototype.getClass=function(){return Ka};var Bo=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var l=arguments[0];this._pm=l,this._li=new zr,this._li.setPrecisionModel(l),this._scaleFactor=l.getScale()};Bo.prototype.checkCorrectness=function(l){var c=xs.getNodedSubstrings(l),_=new Ba(c);try{_.checkValid()}catch(w){if(!(w instanceof fn))throw w;w.printStackTrace()}},Bo.prototype.getNodedSubstrings=function(){return xs.getNodedSubstrings(this._nodedSegStrings)},Bo.prototype.snapRound=function(l,c){var _=this.findInteriorIntersections(l,c);this.computeIntersectionSnaps(_),this.computeVertexSnaps(l)},Bo.prototype.findInteriorIntersections=function(l,c){var _=new Ka(c);return this._noder.setSegmentIntersector(_),this._noder.computeNodes(l),_.getInteriorIntersections()},Bo.prototype.computeVertexSnaps=function(){if(tt(arguments[0],St))for(var l=arguments[0].iterator();l.hasNext();){var c=l.next();this.computeVertexSnaps(c)}else if(arguments[0]instanceof xs)for(var _=arguments[0],w=_.getCoordinates(),I=0;I<w.length;I++){var W=new qi(w[I],this._scaleFactor,this._li);this._pointSnapper.snap(W,_,I)&&_.addIntersection(w[I],I)}},Bo.prototype.computeNodes=function(l){this._nodedSegStrings=l,this._noder=new lo,this._pointSnapper=new Cu(this._noder.getIndex()),this.snapRound(l,this._li)},Bo.prototype.computeIntersectionSnaps=function(l){for(var c=l.iterator();c.hasNext();){var _=c.next(),w=new qi(_,this._scaleFactor,this._li);this._pointSnapper.snap(w)}},Bo.prototype.interfaces_=function(){return[$l]},Bo.prototype.getClass=function(){return Bo};var $a=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new _s,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var _=arguments[1];this._argGeom=arguments[0],this._bufParams=_}},kc={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};$a.prototype.bufferFixedPrecision=function(l){var c=new eu(new Bo(new $t(1)),l.getScale()),_=new mo(this._bufParams);_.setWorkingPrecisionModel(l),_.setNoder(c),this._resultGeometry=_.buffer(this._argGeom,this._distance)},$a.prototype.bufferReducedPrecision=function(){var l=this;if(0===arguments.length){for(var c=$a.MAX_PRECISION_DIGITS;c>=0;c--){try{l.bufferReducedPrecision(c)}catch(W){if(!(W instanceof An))throw W;l._saveException=W}if(null!==l._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var w=$a.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),I=new $t(w);this.bufferFixedPrecision(I)}},$a.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var l=this._argGeom.getFactory().getPrecisionModel();l.getType()===$t.FIXED?this.bufferFixedPrecision(l):this.bufferReducedPrecision()},$a.prototype.setQuadrantSegments=function(l){this._bufParams.setQuadrantSegments(l)},$a.prototype.bufferOriginalPrecision=function(){try{var l=new mo(this._bufParams);this._resultGeometry=l.buffer(this._argGeom,this._distance)}catch(c){if(!(c instanceof en))throw c;this._saveException=c}},$a.prototype.getResultGeometry=function(l){return this._distance=l,this.computeGeometry(),this._resultGeometry},$a.prototype.setEndCapStyle=function(l){this._bufParams.setEndCapStyle(l)},$a.prototype.interfaces_=function(){return[]},$a.prototype.getClass=function(){return $a},$a.bufferOp=function(){if(2===arguments.length){var c=arguments[1];return new $a(arguments[0]).getResultGeometry(c)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Nr&&"number"==typeof arguments[1]){var w=arguments[1],I=arguments[2],W=new $a(arguments[0]);return W.setQuadrantSegments(I),W.getResultGeometry(w)}if(arguments[2]instanceof _s&&arguments[0]instanceof Nr&&"number"==typeof arguments[1]){var x=arguments[1];return new $a(arguments[0],arguments[2]).getResultGeometry(x)}}else if(4===arguments.length){var M=arguments[1],S=arguments[2],A=arguments[3],Y=new $a(arguments[0]);return Y.setQuadrantSegments(S),Y.setEndCapStyle(A),Y.getResultGeometry(M)}},$a.precisionScaleFactor=function(l,c,_){var w=l.getEnvelopeInternal(),I=He.max(Math.abs(w.getMaxX()),Math.abs(w.getMaxY()),Math.abs(w.getMinX()),Math.abs(w.getMinY()))+2*(c>0?c:0),W=_-Math.trunc(Math.log(I)/Math.log(10)+1);return Math.pow(10,W)},kc.CAP_ROUND.get=function(){return _s.CAP_ROUND},kc.CAP_BUTT.get=function(){return _s.CAP_FLAT},kc.CAP_FLAT.get=function(){return _s.CAP_FLAT},kc.CAP_SQUARE.get=function(){return _s.CAP_SQUARE},kc.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties($a,kc);var hl=function(){this._pt=[new se,new se],this._distance=te.NaN,this._isNull=!0};hl.prototype.getCoordinates=function(){return this._pt},hl.prototype.getCoordinate=function(l){return this._pt[l]},hl.prototype.setMinimum=function(){if(1===arguments.length){var l=arguments[0];this.setMinimum(l._pt[0],l._pt[1])}else if(2===arguments.length){var c=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(c,_),null;var w=c.distance(_);w<this._distance&&this.initialize(c,_,w)}},hl.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var l=arguments[0],c=arguments[1];this._pt[0].setCoordinate(l),this._pt[1].setCoordinate(c),this._distance=l.distance(c),this._isNull=!1}else if(3===arguments.length){var w=arguments[1],I=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(w),this._distance=I,this._isNull=!1}},hl.prototype.getDistance=function(){return this._distance},hl.prototype.setMaximum=function(){if(1===arguments.length){var l=arguments[0];this.setMaximum(l._pt[0],l._pt[1])}else if(2===arguments.length){var c=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(c,_),null;var w=c.distance(_);w>this._distance&&this.initialize(c,_,w)}},hl.prototype.interfaces_=function(){return[]},hl.prototype.getClass=function(){return hl};var Du=function(){};Du.prototype.interfaces_=function(){return[]},Du.prototype.getClass=function(){return Du},Du.computeDistance=function(){if(arguments[2]instanceof hl&&arguments[0]instanceof Zi&&arguments[1]instanceof se)for(var c=arguments[1],_=arguments[2],w=arguments[0].getCoordinates(),I=new Ur,W=0;W<w.length-1;W++){I.setCoordinates(w[W],w[W+1]);var re=I.closestPoint(c);_.setMinimum(re,c)}else if(arguments[2]instanceof hl&&arguments[0]instanceof Ns&&arguments[1]instanceof se){var x=arguments[0],o=arguments[1],g=arguments[2];Du.computeDistance(x.getExteriorRing(),o,g);for(var M=0;M<x.getNumInteriorRing();M++)Du.computeDistance(x.getInteriorRingN(M),o,g)}else if(arguments[2]instanceof hl&&arguments[0]instanceof Nr&&arguments[1]instanceof se){var S=arguments[0],A=arguments[1],Y=arguments[2];if(S instanceof Zi)Du.computeDistance(S,A,Y);else if(S instanceof Ns)Du.computeDistance(S,A,Y);else if(S instanceof Ir)for(var U=S,K=0;K<U.getNumGeometries();K++){var ge=U.getGeometryN(K);Du.computeDistance(ge,A,Y)}else Y.setMinimum(S.getCoordinate(),A)}else if(arguments[2]instanceof hl&&arguments[0]instanceof Ur&&arguments[1]instanceof se){var Ne=arguments[1],ot=arguments[2],Pt=arguments[0].closestPoint(Ne);ot.setMinimum(Pt,Ne)}};var Iu=function(l){this._maxPtDist=new hl,this._inputGeom=l||null},Lu={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Iu.prototype.computeMaxMidpointDistance=function(l){var c=new yn(this._inputGeom);l.apply(c),this._maxPtDist.setMaximum(c.getMaxPointDistance())},Iu.prototype.computeMaxVertexDistance=function(l){var c=new nu(this._inputGeom);l.apply(c),this._maxPtDist.setMaximum(c.getMaxPointDistance())},Iu.prototype.findDistance=function(l){return this.computeMaxVertexDistance(l),this.computeMaxMidpointDistance(l),this._maxPtDist.getDistance()},Iu.prototype.getDistancePoints=function(){return this._maxPtDist},Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu},Lu.MaxPointDistanceFilter.get=function(){return nu},Lu.MaxMidpointDistanceFilter.get=function(){return yn},Object.defineProperties(Iu,Lu);var nu=function(l){this._maxPtDist=new hl,this._minPtDist=new hl,this._geom=l||null};nu.prototype.filter=function(l){this._minPtDist.initialize(),Du.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},nu.prototype.getMaxPointDistance=function(){return this._maxPtDist},nu.prototype.interfaces_=function(){return[ke]},nu.prototype.getClass=function(){return nu};var yn=function(l){this._maxPtDist=new hl,this._minPtDist=new hl,this._geom=l||null};yn.prototype.filter=function(l,c){if(0===c)return null;var _=l.getCoordinate(c-1),w=l.getCoordinate(c),I=new se((_.x+w.x)/2,(_.y+w.y)/2);this._minPtDist.initialize(),Du.computeDistance(this._geom,I,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},yn.prototype.isDone=function(){return!1},yn.prototype.isGeometryChanged=function(){return!1},yn.prototype.getMaxPointDistance=function(){return this._maxPtDist},yn.prototype.interfaces_=function(){return[Wr]},yn.prototype.getClass=function(){return yn};var er=function(l){this._comps=l||null};er.prototype.filter=function(l){l instanceof Ns&&this._comps.add(l)},er.prototype.interfaces_=function(){return[hr]},er.prototype.getClass=function(){return er},er.getPolygons=function(){if(1===arguments.length)return er.getPolygons(arguments[0],new me);if(2===arguments.length){var c=arguments[0],_=arguments[1];return c instanceof Ns?_.add(c):c instanceof Ir&&c.apply(new er(_)),_}};var zn=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var _=arguments[1];this._lines=arguments[0],this._isForcedToLineString=_}};zn.prototype.filter=function(l){if(this._isForcedToLineString&&l instanceof Xi){var c=l.getFactory().createLineString(l.getCoordinateSequence());return this._lines.add(c),null}l instanceof Zi&&this._lines.add(l)},zn.prototype.setForceToLineString=function(l){this._isForcedToLineString=l},zn.prototype.interfaces_=function(){return[Qi]},zn.prototype.getClass=function(){return zn},zn.getGeometry=function(){if(1===arguments.length){var l=arguments[0];return l.getFactory().buildGeometry(zn.getLines(l))}if(2===arguments.length){var c=arguments[0],_=arguments[1];return c.getFactory().buildGeometry(zn.getLines(c,_))}},zn.getLines=function(){if(1===arguments.length)return zn.getLines(arguments[0],!1);if(2===arguments.length){if(tt(arguments[0],St)&&tt(arguments[1],St)){for(var _=arguments[1],w=arguments[0].iterator();w.hasNext();){var I=w.next();zn.getLines(I,_)}return _}if(arguments[0]instanceof Nr&&"boolean"==typeof arguments[1]){var W=arguments[0],re=arguments[1],x=new me;return W.apply(new zn(x,re)),x}if(arguments[0]instanceof Nr&&tt(arguments[1],St)){var o=arguments[0],g=arguments[1];return o instanceof Zi?g.add(o):o.apply(new zn(g)),g}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&tt(arguments[0],St)&&tt(arguments[1],St)){for(var S=arguments[1],A=arguments[2],Y=arguments[0].iterator();Y.hasNext();){var U=Y.next();zn.getLines(U,S,A)}return S}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Nr&&tt(arguments[1],St)){var ge=arguments[1];return arguments[0].apply(new zn(ge,arguments[2])),ge}}};var ui=function(){if(this._boundaryRule=Ge.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var l=arguments[0];if(null===l)throw new J("Rule must be non-null");this._boundaryRule=l}};ui.prototype.locateInternal=function(){if(arguments[0]instanceof se&&arguments[1]instanceof Ns){var l=arguments[0],c=arguments[1];if(c.isEmpty())return Te.EXTERIOR;var _=c.getExteriorRing(),w=this.locateInPolygonRing(l,_);if(w===Te.EXTERIOR)return Te.EXTERIOR;if(w===Te.BOUNDARY)return Te.BOUNDARY;for(var I=0;I<c.getNumInteriorRing();I++){var W=c.getInteriorRingN(I),re=this.locateInPolygonRing(l,W);if(re===Te.INTERIOR)return Te.EXTERIOR;if(re===Te.BOUNDARY)return Te.BOUNDARY}return Te.INTERIOR}if(arguments[0]instanceof se&&arguments[1]instanceof Zi){var x=arguments[0],o=arguments[1];if(!o.getEnvelopeInternal().intersects(x))return Te.EXTERIOR;var g=o.getCoordinates();return o.isClosed()||!x.equals(g[0])&&!x.equals(g[g.length-1])?Zn.isOnLine(x,g)?Te.INTERIOR:Te.EXTERIOR:Te.BOUNDARY}if(arguments[0]instanceof se&&arguments[1]instanceof no){var M=arguments[0];return arguments[1].getCoordinate().equals2D(M)?Te.INTERIOR:Te.EXTERIOR}},ui.prototype.locateInPolygonRing=function(l,c){return c.getEnvelopeInternal().intersects(l)?Zn.locatePointInRing(l,c.getCoordinates()):Te.EXTERIOR},ui.prototype.intersects=function(l,c){return this.locate(l,c)!==Te.EXTERIOR},ui.prototype.updateLocationInfo=function(l){l===Te.INTERIOR&&(this._isIn=!0),l===Te.BOUNDARY&&this._numBoundaries++},ui.prototype.computeLocation=function(l,c){if(c instanceof no&&this.updateLocationInfo(this.locateInternal(l,c)),c instanceof Zi)this.updateLocationInfo(this.locateInternal(l,c));else if(c instanceof Ns)this.updateLocationInfo(this.locateInternal(l,c));else if(c instanceof wi)for(var _=c,w=0;w<_.getNumGeometries();w++){var I=_.getGeometryN(w);this.updateLocationInfo(this.locateInternal(l,I))}else if(c instanceof jn)for(var W=c,re=0;re<W.getNumGeometries();re++){var x=W.getGeometryN(re);this.updateLocationInfo(this.locateInternal(l,x))}else if(c instanceof Ir)for(var o=new Nl(c);o.hasNext();){var g=o.next();g!==c&&this.computeLocation(l,g)}},ui.prototype.locate=function(l,c){return c.isEmpty()?Te.EXTERIOR:c instanceof Zi||c instanceof Ns?this.locateInternal(l,c):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(l,c),this._boundaryRule.isInBoundary(this._numBoundaries)?Te.BOUNDARY:this._numBoundaries>0||this._isIn?Te.INTERIOR:Te.EXTERIOR)},ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui};var Ci=function l(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)l.call(this,arguments[0],l.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var I=arguments[1],W=arguments[2];this._component=arguments[0],this._segIndex=I,this._pt=W}},Zs={INSIDE_AREA:{configurable:!0}};Ci.prototype.isInsideArea=function(){return this._segIndex===Ci.INSIDE_AREA},Ci.prototype.getCoordinate=function(){return this._pt},Ci.prototype.getGeometryComponent=function(){return this._component},Ci.prototype.getSegmentIndex=function(){return this._segIndex},Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci},Zs.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Ci,Zs);var eo=function(l){this._pts=l||null};eo.prototype.filter=function(l){l instanceof no&&this._pts.add(l)},eo.prototype.interfaces_=function(){return[hr]},eo.prototype.getClass=function(){return eo},eo.getPoints=function(){if(1===arguments.length){var l=arguments[0];return l instanceof no?At.singletonList(l):eo.getPoints(l,new me)}if(2===arguments.length){var c=arguments[0],_=arguments[1];return c instanceof no?_.add(c):c instanceof Ir&&c.apply(new eo(_)),_}};var cs=function(){this._locations=null,this._locations=arguments[0]};cs.prototype.filter=function(l){(l instanceof no||l instanceof Zi||l instanceof Ns)&&this._locations.add(new Ci(l,0,l.getCoordinate()))},cs.prototype.interfaces_=function(){return[hr]},cs.prototype.getClass=function(){return cs},cs.getLocations=function(l){var c=new me;return l.apply(new cs(c)),c};var Po=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ui,this._minDistanceLocation=null,this._minDistance=te.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var _=arguments[0],w=arguments[1],I=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=_,this._geom[1]=w,this._terminateDistance=I}};Po.prototype.computeContainmentDistance=function(){if(0===arguments.length){var l=new Array(2).fill(null);if(this.computeContainmentDistance(0,l),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,l)}else if(2===arguments.length){var c=arguments[0],_=arguments[1],w=1-c,I=er.getPolygons(this._geom[c]);if(I.size()>0){var W=cs.getLocations(this._geom[w]);if(this.computeContainmentDistance(W,I,_),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[w]=_[0],this._minDistanceLocation[c]=_[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&tt(arguments[0],dn)&&tt(arguments[1],dn)){for(var re=arguments[0],x=arguments[1],o=arguments[2],g=0;g<re.size();g++)for(var M=re.get(g),S=0;S<x.size();S++)if(this.computeContainmentDistance(M,x.get(S),o),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ci&&arguments[1]instanceof Ns){var A=arguments[0],Y=arguments[1],U=arguments[2],K=A.getCoordinate();if(Te.EXTERIOR!==this._ptLocator.locate(K,Y))return this._minDistance=0,U[0]=A,U[1]=new Ci(Y,K),null}},Po.prototype.computeMinDistanceLinesPoints=function(l,c,_){for(var w=0;w<l.size();w++)for(var I=l.get(w),W=0;W<c.size();W++){var re=c.get(W);if(this.computeMinDistance(I,re,_),this._minDistance<=this._terminateDistance)return null}},Po.prototype.computeFacetDistance=function(){var l=new Array(2).fill(null),c=zn.getLines(this._geom[0]),_=zn.getLines(this._geom[1]),w=eo.getPoints(this._geom[0]),I=eo.getPoints(this._geom[1]);return this.computeMinDistanceLines(c,_,l),this.updateMinDistance(l,!1),this._minDistance<=this._terminateDistance?null:(l[0]=null,l[1]=null,this.computeMinDistanceLinesPoints(c,I,l),this.updateMinDistance(l,!1),this._minDistance<=this._terminateDistance?null:(l[0]=null,l[1]=null,this.computeMinDistanceLinesPoints(_,w,l),this.updateMinDistance(l,!0),this._minDistance<=this._terminateDistance?null:(l[0]=null,l[1]=null,this.computeMinDistancePoints(w,I,l),void this.updateMinDistance(l,!1))))},Po.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Po.prototype.updateMinDistance=function(l,c){if(null===l[0])return null;c?(this._minDistanceLocation[0]=l[1],this._minDistanceLocation[1]=l[0]):(this._minDistanceLocation[0]=l[0],this._minDistanceLocation[1]=l[1])},Po.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Po.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Zi&&arguments[1]instanceof no){var l=arguments[0],c=arguments[1],_=arguments[2];if(l.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var w=l.getCoordinates(),I=c.getCoordinate(),W=0;W<w.length-1;W++){var re=Zn.distancePointLine(I,w[W],w[W+1]);if(re<this._minDistance){this._minDistance=re;var x=new Ur(w[W],w[W+1]).closestPoint(I);_[0]=new Ci(l,W,x),_[1]=new Ci(c,0,I)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Zi&&arguments[1]instanceof Zi){var o=arguments[0],g=arguments[1],M=arguments[2];if(o.getEnvelopeInternal().distance(g.getEnvelopeInternal())>this._minDistance)return null;for(var S=o.getCoordinates(),A=g.getCoordinates(),Y=0;Y<S.length-1;Y++)for(var U=0;U<A.length-1;U++){var K=Zn.distanceLineLine(S[Y],S[Y+1],A[U],A[U+1]);if(K<this._minDistance){this._minDistance=K;var ge=new Ur(S[Y],S[Y+1]),Ce=new Ur(A[U],A[U+1]),Ne=ge.closestPoints(Ce);M[0]=new Ci(o,Y,Ne[0]),M[1]=new Ci(g,U,Ne[1])}if(this._minDistance<=this._terminateDistance)return null}}},Po.prototype.computeMinDistancePoints=function(l,c,_){for(var w=0;w<l.size();w++)for(var I=l.get(w),W=0;W<c.size();W++){var re=c.get(W),x=I.getCoordinate().distance(re.getCoordinate());if(x<this._minDistance&&(this._minDistance=x,_[0]=new Ci(I,0,I.getCoordinate()),_[1]=new Ci(re,0,re.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Po.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new J("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Po.prototype.computeMinDistanceLines=function(l,c,_){for(var w=0;w<l.size();w++)for(var I=l.get(w),W=0;W<c.size();W++){var re=c.get(W);if(this.computeMinDistance(I,re,_),this._minDistance<=this._terminateDistance)return null}},Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po},Po.distance=function(l,c){return new Po(l,c).distance()},Po.isWithinDistance=function(l,c,_){return new Po(l,c,_).distance()<=_},Po.nearestPoints=function(l,c){return new Po(l,c).nearestPoints()};var Ja=function(){this._pt=[new se,new se],this._distance=te.NaN,this._isNull=!0};Ja.prototype.getCoordinates=function(){return this._pt},Ja.prototype.getCoordinate=function(l){return this._pt[l]},Ja.prototype.setMinimum=function(){if(1===arguments.length){var l=arguments[0];this.setMinimum(l._pt[0],l._pt[1])}else if(2===arguments.length){var c=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(c,_),null;var w=c.distance(_);w<this._distance&&this.initialize(c,_,w)}},Ja.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var l=arguments[0],c=arguments[1];this._pt[0].setCoordinate(l),this._pt[1].setCoordinate(c),this._distance=l.distance(c),this._isNull=!1}else if(3===arguments.length){var w=arguments[1],I=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(w),this._distance=I,this._isNull=!1}},Ja.prototype.toString=function(){return $r.toLineString(this._pt[0],this._pt[1])},Ja.prototype.getDistance=function(){return this._distance},Ja.prototype.setMaximum=function(){if(1===arguments.length){var l=arguments[0];this.setMaximum(l._pt[0],l._pt[1])}else if(2===arguments.length){var c=arguments[0],_=arguments[1];if(this._isNull)return this.initialize(c,_),null;var w=c.distance(_);w>this._distance&&this.initialize(c,_,w)}},Ja.prototype.interfaces_=function(){return[]},Ja.prototype.getClass=function(){return Ja};var Do=function(){};Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do},Do.computeDistance=function(){if(arguments[2]instanceof Ja&&arguments[0]instanceof Zi&&arguments[1]instanceof se)for(var l=arguments[0],c=arguments[1],_=arguments[2],w=new Ur,I=l.getCoordinates(),W=0;W<I.length-1;W++){w.setCoordinates(I[W],I[W+1]);var re=w.closestPoint(c);_.setMinimum(re,c)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Ns&&arguments[1]instanceof se){var x=arguments[0],o=arguments[1],g=arguments[2];Do.computeDistance(x.getExteriorRing(),o,g);for(var M=0;M<x.getNumInteriorRing();M++)Do.computeDistance(x.getInteriorRingN(M),o,g)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Nr&&arguments[1]instanceof se){var S=arguments[0],A=arguments[1],Y=arguments[2];if(S instanceof Zi)Do.computeDistance(S,A,Y);else if(S instanceof Ns)Do.computeDistance(S,A,Y);else if(S instanceof Ir)for(var U=S,K=0;K<U.getNumGeometries();K++){var ge=U.getGeometryN(K);Do.computeDistance(ge,A,Y)}else Y.setMinimum(S.getCoordinate(),A)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Ur&&arguments[1]instanceof se){var Ne=arguments[1],ot=arguments[2],Pt=arguments[0].closestPoint(Ne);ot.setMinimum(Pt,Ne)}};var wa=function(){this._g0=null,this._g1=null,this._ptDist=new Ja,this._densifyFrac=0;var c=arguments[1];this._g0=arguments[0],this._g1=c},bh={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};wa.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},wa.prototype.setDensifyFraction=function(l){if(l>1||l<=0)throw new J("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=l},wa.prototype.compute=function(l,c){this.computeOrientedDistance(l,c,this._ptDist),this.computeOrientedDistance(c,l,this._ptDist)},wa.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},wa.prototype.computeOrientedDistance=function(l,c,_){var w=new yu(c);if(l.apply(w),_.setMaximum(w.getMaxPointDistance()),this._densifyFrac>0){var I=new vu(c,this._densifyFrac);l.apply(I),_.setMaximum(I.getMaxPointDistance())}},wa.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},wa.prototype.interfaces_=function(){return[]},wa.prototype.getClass=function(){return wa},wa.distance=function(){if(2===arguments.length)return new wa(arguments[0],arguments[1]).distance();if(3===arguments.length){var I=arguments[2],W=new wa(arguments[0],arguments[1]);return W.setDensifyFraction(I),W.distance()}},bh.MaxPointDistanceFilter.get=function(){return yu},bh.MaxDensifiedByFractionDistanceFilter.get=function(){return vu},Object.defineProperties(wa,bh);var yu=function(){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._euclideanDist=new Do,this._geom=null,this._geom=arguments[0]};yu.prototype.filter=function(l){this._minPtDist.initialize(),Do.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},yu.prototype.getMaxPointDistance=function(){return this._maxPtDist},yu.prototype.interfaces_=function(){return[ke]},yu.prototype.getClass=function(){return yu};var vu=function(){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._geom=null,this._numSubSegs=0;var c=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/c))};vu.prototype.filter=function(l,c){if(0===c)return null;for(var _=l.getCoordinate(c-1),w=l.getCoordinate(c),I=(w.x-_.x)/this._numSubSegs,W=(w.y-_.y)/this._numSubSegs,re=0;re<this._numSubSegs;re++){var g=new se(_.x+re*I,_.y+re*W);this._minPtDist.initialize(),Do.computeDistance(this._geom,g,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},vu.prototype.isDone=function(){return!1},vu.prototype.isGeometryChanged=function(){return!1},vu.prototype.getMaxPointDistance=function(){return this._maxPtDist},vu.prototype.interfaces_=function(){return[Wr]},vu.prototype.getClass=function(){return vu};var Qn=function(l,c,_){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=l||null,this._bufDistance=c||null,this._result=_||null},uo={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Qn.prototype.checkMaximumDistance=function(l,c,_){var w=new wa(c,l);if(w.setDensifyFraction(.25),this._maxDistanceFound=w.orientedDistance(),this._maxDistanceFound>_){this._isValid=!1;var I=w.getCoordinates();this._errorLocation=I[1],this._errorIndicator=l.getFactory().createLineString(I),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+$r.toLineString(I[0],I[1])+")"}},Qn.prototype.isValid=function(){var l=Math.abs(this._bufDistance),c=Qn.MAX_DISTANCE_DIFF_FRAC*l;return this._minValidDistance=l-c,this._maxValidDistance=l+c,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Qn.VERBOSE&&un.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Qn.prototype.checkNegativeValid=function(){if(!(this._input instanceof Ns||this._input instanceof jn||this._input instanceof Ir))return null;var l=this.getPolygonLines(this._input);if(this.checkMinimumDistance(l,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(l,this._result,this._maxValidDistance)},Qn.prototype.getErrorIndicator=function(){return this._errorIndicator},Qn.prototype.checkMinimumDistance=function(l,c,_){var w=new Po(l,c,_);if(this._minDistanceFound=w.distance(),this._minDistanceFound<_){this._isValid=!1;var I=w.nearestPoints();this._errorLocation=w.nearestPoints()[1],this._errorIndicator=l.getFactory().createLineString(I),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+$r.toLineString(I[0],I[1])+" )"}},Qn.prototype.checkPositiveValid=function(){var l=this._result.getBoundary();if(this.checkMinimumDistance(this._input,l,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,l,this._maxValidDistance)},Qn.prototype.getErrorLocation=function(){return this._errorLocation},Qn.prototype.getPolygonLines=function(l){for(var c=new me,_=new zn(c),w=er.getPolygons(l).iterator();w.hasNext();)w.next().apply(_);return l.getFactory().buildGeometry(c)},Qn.prototype.getErrorMessage=function(){return this._errMsg},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},uo.VERBOSE.get=function(){return!1},uo.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Qn,uo);var ha=function(l,c,_){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=l||null,this._distance=c||null,this._result=_||null},hi={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};ha.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},ha.prototype.checkEnvelope=function(){if(this._distance<0)return null;var l=this._distance*ha.MAX_ENV_DIFF_FRAC;0===l&&(l=.001);var c=new Rn(this._input.getEnvelopeInternal());c.expandBy(this._distance);var _=new Rn(this._result.getEnvelopeInternal());_.expandBy(l),_.contains(c)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(_)),this.report("Envelope")},ha.prototype.checkDistance=function(){var l=new Qn(this._input,this._distance,this._result);l.isValid()||(this._isValid=!1,this._errorMsg=l.getErrorMessage(),this._errorLocation=l.getErrorLocation(),this._errorIndicator=l.getErrorIndicator()),this.report("Distance")},ha.prototype.checkArea=function(){var l=this._input.getArea(),c=this._result.getArea();this._distance>0&&l>c&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&l<c&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},ha.prototype.checkPolygonal=function(){this._result instanceof Ns||this._result instanceof jn||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},ha.prototype.getErrorIndicator=function(){return this._errorIndicator},ha.prototype.getErrorLocation=function(){return this._errorLocation},ha.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},ha.prototype.report=function(l){if(!ha.VERBOSE)return null;un.out.println("Check "+l+": "+(this._isValid?"passed":"FAILED"))},ha.prototype.getErrorMessage=function(){return this._errorMsg},ha.prototype.interfaces_=function(){return[]},ha.prototype.getClass=function(){return ha},ha.isValidMsg=function(l,c,_){var w=new ha(l,c,_);return w.isValid()?null:w.getErrorMessage()},ha.isValid=function(l,c,_){return!!new ha(l,c,_).isValid()},hi.VERBOSE.get=function(){return!1},hi.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(ha,hi);var go=function(){this._pts=null,this._data=null;var c=arguments[1];this._pts=arguments[0],this._data=c};go.prototype.getCoordinates=function(){return this._pts},go.prototype.size=function(){return this._pts.length},go.prototype.getCoordinate=function(l){return this._pts[l]},go.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},go.prototype.getSegmentOctant=function(l){return l===this._pts.length-1?-1:Vs.octant(this.getCoordinate(l),this.getCoordinate(l+1))},go.prototype.setData=function(l){this._data=l},go.prototype.getData=function(){return this._data},go.prototype.toString=function(){return $r.toLineString(new Ds(this._pts))},go.prototype.interfaces_=function(){return[Eo]},go.prototype.getClass=function(){return go};var fa=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new me,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};fa.prototype.getInteriorIntersection=function(){return this._interiorIntersection},fa.prototype.setCheckEndSegmentsOnly=function(l){this._isCheckEndSegmentsOnly=l},fa.prototype.getIntersectionSegments=function(){return this._intSegments},fa.prototype.count=function(){return this._intersectionCount},fa.prototype.getIntersections=function(){return this._intersections},fa.prototype.setFindAllIntersections=function(l){this._findAllIntersections=l},fa.prototype.setKeepIntersections=function(l){this._keepIntersections=l},fa.prototype.processIntersections=function(l,c,_,w){if(!this._findAllIntersections&&this.hasIntersection()||l===_&&c===w||this._isCheckEndSegmentsOnly&&!this.isEndSegment(l,c)&&!this.isEndSegment(_,w))return null;var I=l.getCoordinates()[c],W=l.getCoordinates()[c+1],re=_.getCoordinates()[w],x=_.getCoordinates()[w+1];this._li.computeIntersection(I,W,re,x),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=I,this._intSegments[1]=W,this._intSegments[2]=re,this._intSegments[3]=x,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},fa.prototype.isEndSegment=function(l,c){return 0===c||c>=l.size()-2},fa.prototype.hasIntersection=function(){return null!==this._interiorIntersection},fa.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},fa.prototype.interfaces_=function(){return[tr]},fa.prototype.getClass=function(){return fa},fa.createAllIntersectionsFinder=function(l){var c=new fa(l);return c.setFindAllIntersections(!0),c},fa.createAnyIntersectionFinder=function(l){return new fa(l)},fa.createIntersectionCounter=function(l){var c=new fa(l);return c.setFindAllIntersections(!0),c.setKeepIntersections(!1),c};var yl=function(){this._li=new zr,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};yl.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},yl.prototype.getIntersections=function(){return this._segInt.getIntersections()},yl.prototype.isValid=function(){return this.execute(),this._isValid},yl.prototype.setFindAllIntersections=function(l){this._findAllIntersections=l},yl.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new fa(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var l=new lo;if(l.setSegmentIntersector(this._segInt),l.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},yl.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new An(this.getErrorMessage(),this._segInt.getInteriorIntersection())},yl.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var l=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+$r.toLineString(l[0],l[1])+" and "+$r.toLineString(l[2],l[3])},yl.prototype.interfaces_=function(){return[]},yl.prototype.getClass=function(){return yl},yl.computeIntersections=function(l){var c=new yl(l);return c.setFindAllIntersections(!0),c.isValid(),c.getIntersections()};var Ti=function l(){this._nv=null,this._nv=new yl(l.toSegmentStrings(arguments[0]))};Ti.prototype.checkValid=function(){this._nv.checkValid()},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.toSegmentStrings=function(l){for(var c=new me,_=l.iterator();_.hasNext();){var w=_.next();c.add(new go(w.getCoordinates(),w))}return c},Ti.checkValid=function(l){new Ti(l).checkValid()};var Kn=function(l){this._mapOp=l};Kn.prototype.map=function(l){for(var c=new me,_=0;_<l.getNumGeometries();_++){var w=this._mapOp.map(l.getGeometryN(_));w.isEmpty()||c.add(w)}return l.getFactory().createGeometryCollection(Cn.toGeometryArray(c))},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn},Kn.map=function(l,c){return new Kn(c).map(l)};var es=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new me,this._resultLineList=new me;var c=arguments[1],_=arguments[2];this._op=arguments[0],this._geometryFactory=c,this._ptLocator=_};es.prototype.collectLines=function(l){for(var c=this._op.getGraph().getEdgeEnds().iterator();c.hasNext();){var _=c.next();this.collectLineEdge(_,l,this._lineEdgesList),this.collectBoundaryTouchEdge(_,l,this._lineEdgesList)}},es.prototype.labelIsolatedLine=function(l,c){var _=this._ptLocator.locate(l.getCoordinate(),this._op.getArgGeometry(c));l.getLabel().setLocation(c,_)},es.prototype.build=function(l){return this.findCoveredLineEdges(),this.collectLines(l),this.buildLines(l),this._resultLineList},es.prototype.collectLineEdge=function(l,c,_){var w=l.getLabel(),I=l.getEdge();l.isLineEdge()&&(l.isVisited()||!ci.isResultOfOp(w,c)||I.isCovered()||(_.add(I),l.setVisitedEdge(!0)))},es.prototype.findCoveredLineEdges=function(){for(var l=this._op.getGraph().getNodes().iterator();l.hasNext();)l.next().getEdges().findCoveredLineEdges();for(var c=this._op.getGraph().getEdgeEnds().iterator();c.hasNext();){var _=c.next(),w=_.getEdge();if(_.isLineEdge()&&!w.isCoveredSet()){var I=this._op.isCoveredByA(_.getCoordinate());w.setCovered(I)}}},es.prototype.labelIsolatedLines=function(l){for(var c=l.iterator();c.hasNext();){var _=c.next(),w=_.getLabel();_.isIsolated()&&(w.isNull(0)?this.labelIsolatedLine(_,0):this.labelIsolatedLine(_,1))}},es.prototype.buildLines=function(l){for(var c=this._lineEdgesList.iterator();c.hasNext();){var _=c.next(),w=this._geometryFactory.createLineString(_.getCoordinates());this._resultLineList.add(w),_.setInResult(!0)}},es.prototype.collectBoundaryTouchEdge=function(l,c,_){var w=l.getLabel();return l.isLineEdge()||l.isVisited()||l.isInteriorAreaEdge()||l.getEdge().isInResult()?null:(qt.isTrue(!(l.isInResult()||l.getSym().isInResult())||!l.getEdge().isInResult()),void(ci.isResultOfOp(w,c)&&c===ci.INTERSECTION&&(_.add(l.getEdge()),l.setVisitedEdge(!0))))},es.prototype.interfaces_=function(){return[]},es.prototype.getClass=function(){return es};var pa=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new me;var c=arguments[1];this._op=arguments[0],this._geometryFactory=c};pa.prototype.filterCoveredNodeToPoint=function(l){var c=l.getCoordinate();if(!this._op.isCoveredByLA(c)){var _=this._geometryFactory.createPoint(c);this._resultPointList.add(_)}},pa.prototype.extractNonCoveredResultNodes=function(l){for(var c=this._op.getGraph().getNodes().iterator();c.hasNext();){var _=c.next();if(!(_.isInResult()||_.isIncidentEdgeInResult()||0!==_.getEdges().getDegree()&&l!==ci.INTERSECTION)){var w=_.getLabel();ci.isResultOfOp(w,l)&&this.filterCoveredNodeToPoint(_)}}},pa.prototype.build=function(l){return this.extractNonCoveredResultNodes(l),this._resultPointList},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa};var Io=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Io.prototype.transformPoint=function(l,c){return this._factory.createPoint(this.transformCoordinates(l.getCoordinateSequence(),l))},Io.prototype.transformPolygon=function(l,c){var _=!0,w=this.transformLinearRing(l.getExteriorRing(),l);null!==w&&w instanceof Xi&&!w.isEmpty()||(_=!1);for(var I=new me,W=0;W<l.getNumInteriorRing();W++){var re=this.transformLinearRing(l.getInteriorRingN(W),l);null===re||re.isEmpty()||(re instanceof Xi||(_=!1),I.add(re))}if(_)return this._factory.createPolygon(w,I.toArray([]));var x=new me;return null!==w&&x.add(w),x.addAll(I),this._factory.buildGeometry(x)},Io.prototype.createCoordinateSequence=function(l){return this._factory.getCoordinateSequenceFactory().create(l)},Io.prototype.getInputGeometry=function(){return this._inputGeom},Io.prototype.transformMultiLineString=function(l,c){for(var _=new me,w=0;w<l.getNumGeometries();w++){var I=this.transformLineString(l.getGeometryN(w),l);null!==I&&(I.isEmpty()||_.add(I))}return this._factory.buildGeometry(_)},Io.prototype.transformCoordinates=function(l,c){return this.copy(l)},Io.prototype.transformLineString=function(l,c){return this._factory.createLineString(this.transformCoordinates(l.getCoordinateSequence(),l))},Io.prototype.transformMultiPoint=function(l,c){for(var _=new me,w=0;w<l.getNumGeometries();w++){var I=this.transformPoint(l.getGeometryN(w),l);null!==I&&(I.isEmpty()||_.add(I))}return this._factory.buildGeometry(_)},Io.prototype.transformMultiPolygon=function(l,c){for(var _=new me,w=0;w<l.getNumGeometries();w++){var I=this.transformPolygon(l.getGeometryN(w),l);null!==I&&(I.isEmpty()||_.add(I))}return this._factory.buildGeometry(_)},Io.prototype.copy=function(l){return l.copy()},Io.prototype.transformGeometryCollection=function(l,c){for(var _=new me,w=0;w<l.getNumGeometries();w++){var I=this.transform(l.getGeometryN(w));null!==I&&(this._pruneEmptyGeometry&&I.isEmpty()||_.add(I))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Cn.toGeometryArray(_)):this._factory.buildGeometry(_)},Io.prototype.transform=function(l){if(this._inputGeom=l,this._factory=l.getFactory(),l instanceof no)return this.transformPoint(l,null);if(l instanceof Wi)return this.transformMultiPoint(l,null);if(l instanceof Xi)return this.transformLinearRing(l,null);if(l instanceof Zi)return this.transformLineString(l,null);if(l instanceof wi)return this.transformMultiLineString(l,null);if(l instanceof Ns)return this.transformPolygon(l,null);if(l instanceof jn)return this.transformMultiPolygon(l,null);if(l instanceof Ir)return this.transformGeometryCollection(l,null);throw new J("Unknown Geometry subtype: "+l.getClass().getName())},Io.prototype.transformLinearRing=function(l,c){var _=this.transformCoordinates(l.getCoordinateSequence(),l);if(null===_)return this._factory.createLinearRing(null);var w=_.size();return w>0&&w<4&&!this._preserveType?this._factory.createLineString(_):this._factory.createLinearRing(_)},Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io};var al=function l(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Ur,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Zi&&"number"==typeof arguments[1]){var _=arguments[1];l.call(this,arguments[0].getCoordinates(),_)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var w=arguments[0],I=arguments[1];this._srcPts=w,this._isClosed=l.isClosed(w),this._snapTolerance=I}};al.prototype.snapVertices=function(l,c){for(var _=this._isClosed?l.size()-1:l.size(),w=0;w<_;w++){var I=l.get(w),W=this.findSnapForVertex(I,c);null!==W&&(l.set(w,new se(W)),0===w&&this._isClosed&&l.set(l.size()-1,new se(W)))}},al.prototype.findSnapForVertex=function(l,c){for(var _=0;_<c.length;_++){if(l.equals2D(c[_]))return null;if(l.distance(c[_])<this._snapTolerance)return c[_]}return null},al.prototype.snapTo=function(l){var c=new Se(this._srcPts);return this.snapVertices(c,l),this.snapSegments(c,l),c.toCoordinateArray()},al.prototype.snapSegments=function(l,c){if(0===c.length)return null;var _=c.length;c[0].equals2D(c[c.length-1])&&(_=c.length-1);for(var w=0;w<_;w++){var I=c[w],W=this.findSegmentIndexToSnap(I,l);W>=0&&l.add(W+1,new se(I),!1)}},al.prototype.findSegmentIndexToSnap=function(l,c){for(var _=te.MAX_VALUE,w=-1,I=0;I<c.size()-1;I++){if(this._seg.p0=c.get(I),this._seg.p1=c.get(I+1),this._seg.p0.equals2D(l)||this._seg.p1.equals2D(l)){if(this._allowSnappingToSourceVertices)continue;return-1}var W=this._seg.distance(l);W<this._snapTolerance&&W<_&&(_=W,w=I)}return w},al.prototype.setAllowSnappingToSourceVertices=function(l){this._allowSnappingToSourceVertices=l},al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al},al.isClosed=function(l){return!(l.length<=1)&&l[0].equals2D(l[l.length-1])};var to=function(l){this._srcGeom=l||null},Vc={SNAP_PRECISION_FACTOR:{configurable:!0}};to.prototype.snapTo=function(l,c){var _=this.extractTargetCoordinates(l);return new id(c,_).transform(this._srcGeom)},to.prototype.snapToSelf=function(l,c){var _=this.extractTargetCoordinates(this._srcGeom),w=new id(l,_,!0).transform(this._srcGeom),I=w;return c&&tt(I,Oo)&&(I=w.buffer(0)),I},to.prototype.computeSnapTolerance=function(l){return this.computeMinimumSegmentLength(l)/10},to.prototype.extractTargetCoordinates=function(l){for(var c=new Ie,_=l.getCoordinates(),w=0;w<_.length;w++)c.add(_[w]);return c.toArray(new Array(0).fill(null))},to.prototype.computeMinimumSegmentLength=function(l){for(var c=te.MAX_VALUE,_=0;_<l.length-1;_++){var w=l[_].distance(l[_+1]);w<c&&(c=w)}return c},to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to},to.snap=function(l,c,_){var w=new Array(2).fill(null),I=new to(l);w[0]=I.snapTo(c,_);var W=new to(c);return w[1]=W.snapTo(w[0],_),w},to.computeOverlaySnapTolerance=function(){if(1===arguments.length){var l=arguments[0],c=to.computeSizeBasedSnapTolerance(l),_=l.getPrecisionModel();if(_.getType()===$t.FIXED){var w=1/_.getScale()*2/1.415;w>c&&(c=w)}return c}if(2===arguments.length){var W=arguments[1];return Math.min(to.computeOverlaySnapTolerance(arguments[0]),to.computeOverlaySnapTolerance(W))}},to.computeSizeBasedSnapTolerance=function(l){var c=l.getEnvelopeInternal();return Math.min(c.getHeight(),c.getWidth())*to.SNAP_PRECISION_FACTOR},to.snapToSelf=function(l,c,_){return new to(l).snapToSelf(c,_)},Vc.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(to,Vc);var id=function(l){function c(_,w,I){l.call(this),this._snapTolerance=_||null,this._snapPts=w||null,this._isSelfSnap=void 0!==I&&I}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.snapLine=function(_,w){var I=new al(_,this._snapTolerance);return I.setAllowSnappingToSourceVertices(this._isSelfSnap),I.snapTo(w)},c.prototype.transformCoordinates=function(_,w){var I=_.toCoordinateArray(),W=this.snapLine(I,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(W)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(Io),Qa=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Qa.prototype.getCommon=function(){return te.longBitsToDouble(this._commonBits)},Qa.prototype.add=function(l){var c=te.doubleToLongBits(l);return this._isFirst?(this._commonBits=c,this._commonSignExp=Qa.signExpBits(this._commonBits),this._isFirst=!1,null):Qa.signExpBits(c)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Qa.numCommonMostSigMantissaBits(this._commonBits,c),void(this._commonBits=Qa.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Qa.prototype.toString=function(){if(1===arguments.length){var l=arguments[0],c=te.longBitsToDouble(l),_="0000000000000000000000000000000000000000000000000000000000000000"+te.toBinaryString(l),w=_.substring(_.length-64);return w.substring(0,1)+"  "+w.substring(1,12)+"(exp) "+w.substring(12)+" [ "+c+" ]"}},Qa.prototype.interfaces_=function(){return[]},Qa.prototype.getClass=function(){return Qa},Qa.getBit=function(l,c){return l&1<<c?1:0},Qa.signExpBits=function(l){return l>>52},Qa.zeroLowerBits=function(l,c){return l&~((1<<c)-1)},Qa.numCommonMostSigMantissaBits=function(l,c){for(var _=0,w=52;w>=0;w--){if(Qa.getBit(l,w)!==Qa.getBit(c,w))return _;_++}return 52};var ru=function(){this._commonCoord=null,this._ccFilter=new wo},ec={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ru.prototype.addCommonBits=function(l){var c=new si(this._commonCoord);l.apply(c),l.geometryChanged()},ru.prototype.removeCommonBits=function(l){if(0===this._commonCoord.x&&0===this._commonCoord.y)return l;var c=new se(this._commonCoord);c.x=-c.x,c.y=-c.y;var _=new si(c);return l.apply(_),l.geometryChanged(),l},ru.prototype.getCommonCoordinate=function(){return this._commonCoord},ru.prototype.add=function(l){l.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ru.prototype.interfaces_=function(){return[]},ru.prototype.getClass=function(){return ru},ec.CommonCoordinateFilter.get=function(){return wo},ec.Translater.get=function(){return si},Object.defineProperties(ru,ec);var wo=function(){this._commonBitsX=new Qa,this._commonBitsY=new Qa};wo.prototype.filter=function(l){this._commonBitsX.add(l.x),this._commonBitsY.add(l.y)},wo.prototype.getCommonCoordinate=function(){return new se(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},wo.prototype.interfaces_=function(){return[ke]},wo.prototype.getClass=function(){return wo};var si=function(){this.trans=null,this.trans=arguments[0]};si.prototype.filter=function(l,c){var _=l.getOrdinate(c,0)+this.trans.x,w=l.getOrdinate(c,1)+this.trans.y;l.setOrdinate(c,0,_),l.setOrdinate(c,1,w)},si.prototype.isDone=function(){return!1},si.prototype.isGeometryChanged=function(){return!0},si.prototype.interfaces_=function(){return[Wr]},si.prototype.getClass=function(){return si};var _i=function(l,c){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=l,this._geom[1]=c,this.computeSnapTolerance()};_i.prototype.selfSnap=function(l){return new to(l).snapTo(l,this._snapTolerance)},_i.prototype.removeCommonBits=function(l){this._cbr=new ru,this._cbr.add(l[0]),this._cbr.add(l[1]);var c=new Array(2).fill(null);return c[0]=this._cbr.removeCommonBits(l[0].copy()),c[1]=this._cbr.removeCommonBits(l[1].copy()),c},_i.prototype.prepareResult=function(l){return this._cbr.addCommonBits(l),l},_i.prototype.getResultGeometry=function(l){var c=this.snap(this._geom),_=ci.overlayOp(c[0],c[1],l);return this.prepareResult(_)},_i.prototype.checkValid=function(l){l.isValid()||un.out.println("Snapped geometry is invalid")},_i.prototype.computeSnapTolerance=function(){this._snapTolerance=to.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},_i.prototype.snap=function(l){var c=this.removeCommonBits(l);return to.snap(c[0],c[1],this._snapTolerance)},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i},_i.overlayOp=function(l,c,_){return new _i(l,c).getResultGeometry(_)},_i.union=function(l,c){return _i.overlayOp(l,c,ci.UNION)},_i.intersection=function(l,c){return _i.overlayOp(l,c,ci.INTERSECTION)},_i.symDifference=function(l,c){return _i.overlayOp(l,c,ci.SYMDIFFERENCE)},_i.difference=function(l,c){return _i.overlayOp(l,c,ci.DIFFERENCE)};var ms=function(l,c){this._geom=new Array(2).fill(null),this._geom[0]=l,this._geom[1]=c};ms.prototype.getResultGeometry=function(l){var c=null,_=!1,w=null;try{c=ci.overlayOp(this._geom[0],this._geom[1],l),_=!0}catch(I){if(!(I instanceof en))throw I;w=I}if(!_)try{c=_i.overlayOp(this._geom[0],this._geom[1],l)}catch(I){throw I instanceof en?w:I}return c},ms.prototype.interfaces_=function(){return[]},ms.prototype.getClass=function(){return ms},ms.overlayOp=function(l,c,_){return new ms(l,c).getResultGeometry(_)},ms.union=function(l,c){return ms.overlayOp(l,c,ci.UNION)},ms.intersection=function(l,c){return ms.overlayOp(l,c,ci.INTERSECTION)},ms.symDifference=function(l,c){return ms.overlayOp(l,c,ci.SYMDIFFERENCE)},ms.difference=function(l,c){return ms.overlayOp(l,c,ci.DIFFERENCE)};var Ua=function(){this.mce=null,this.chainIndex=null;var c=arguments[1];this.mce=arguments[0],this.chainIndex=c};Ua.prototype.computeIntersections=function(l,c){this.mce.computeIntersectsForChain(this.chainIndex,l.mce,l.chainIndex,c)},Ua.prototype.interfaces_=function(){return[]},Ua.prototype.getClass=function(){return Ua};var Ca=function l(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var c=arguments[0],_=arguments[1];this._eventType=l.DELETE,this._xValue=c,this._insertEvent=_}else if(3===arguments.length){var w=arguments[0],I=arguments[1],W=arguments[2];this._eventType=l.INSERT,this._label=w,this._xValue=I,this._obj=W}},Na={INSERT:{configurable:!0},DELETE:{configurable:!0}};Ca.prototype.isDelete=function(){return this._eventType===Ca.DELETE},Ca.prototype.setDeleteEventIndex=function(l){this._deleteEventIndex=l},Ca.prototype.getObject=function(){return this._obj},Ca.prototype.compareTo=function(l){return this._xValue<l._xValue?-1:this._xValue>l._xValue?1:this._eventType<l._eventType?-1:this._eventType>l._eventType?1:0},Ca.prototype.getInsertEvent=function(){return this._insertEvent},Ca.prototype.isInsert=function(){return this._eventType===Ca.INSERT},Ca.prototype.isSameLabel=function(l){return null!==this._label&&this._label===l._label},Ca.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Ca.prototype.interfaces_=function(){return[ee]},Ca.prototype.getClass=function(){return Ca},Na.INSERT.get=function(){return 1},Na.DELETE.get=function(){return 2},Object.defineProperties(Ca,Na);var wu=function(){};wu.prototype.interfaces_=function(){return[]},wu.prototype.getClass=function(){return wu};var ys=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var c=arguments[1],_=arguments[2];this._li=arguments[0],this._includeProper=c,this._recordIsolated=_};ys.prototype.isTrivialIntersection=function(l,c,_,w){if(l===_&&1===this._li.getIntersectionNum()){if(ys.isAdjacentSegments(c,w))return!0;if(l.isClosed()){var I=l.getNumPoints()-1;if(0===c&&w===I||0===w&&c===I)return!0}}return!1},ys.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ys.prototype.setIsDoneIfProperInt=function(l){this._isDoneWhenProperInt=l},ys.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ys.prototype.isBoundaryPointInternal=function(l,c){for(var _=c.iterator();_.hasNext();){var w=_.next().getCoordinate();if(l.isIntersection(w))return!0}return!1},ys.prototype.hasProperIntersection=function(){return this._hasProper},ys.prototype.hasIntersection=function(){return this._hasIntersection},ys.prototype.isDone=function(){return this._isDone},ys.prototype.isBoundaryPoint=function(l,c){return!(null===c||!this.isBoundaryPointInternal(l,c[0])&&!this.isBoundaryPointInternal(l,c[1]))},ys.prototype.setBoundaryNodes=function(l,c){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=l,this._bdyNodes[1]=c},ys.prototype.addIntersections=function(l,c,_,w){if(l===_&&c===w)return null;this.numTests++;var I=l.getCoordinates()[c],W=l.getCoordinates()[c+1],re=_.getCoordinates()[w],x=_.getCoordinates()[w+1];this._li.computeIntersection(I,W,re,x),this._li.hasIntersection()&&(this._recordIsolated&&(l.setIsolated(!1),_.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(l,c,_,w)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(l.addIntersections(this._li,c,0),_.addIntersections(this._li,w,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ys.prototype.interfaces_=function(){return[]},ys.prototype.getClass=function(){return ys},ys.isAdjacentSegments=function(l,c){return 1===Math.abs(l-c)};var Va=function(l){function c(){l.call(this),this.events=new me,this.nOverlaps=null}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.prepareEvents=function(){At.sort(this.events);for(var _=0;_<this.events.size();_++){var w=this.events.get(_);w.isDelete()&&w.getInsertEvent().setDeleteEventIndex(_)}},c.prototype.computeIntersections=function(){if(1===arguments.length){var _=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var w=0;w<this.events.size();w++){var I=this.events.get(w);if(I.isInsert()&&this.processOverlaps(w,I.getDeleteEventIndex(),I,_),_.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ys&&tt(arguments[0],dn)&&tt(arguments[1],dn)){var W=arguments[0],re=arguments[1],x=arguments[2];this.addEdges(W,W),this.addEdges(re,re),this.computeIntersections(x)}else if("boolean"==typeof arguments[2]&&tt(arguments[0],dn)&&arguments[1]instanceof ys){var o=arguments[0],g=arguments[1];arguments[2]?this.addEdges(o,null):this.addEdges(o),this.computeIntersections(g)}},c.prototype.addEdge=function(_,w){for(var I=_.getMonotoneChainEdge(),W=I.getStartIndexes(),re=0;re<W.length-1;re++){var x=new Ua(I,re),o=new Ca(w,I.getMinX(re),x);this.events.add(o),this.events.add(new Ca(I.getMaxX(re),o))}},c.prototype.processOverlaps=function(_,w,I,W){for(var re=I.getObject(),x=_;x<w;x++){var o=this.events.get(x);if(o.isInsert()){var g=o.getObject();I.isSameLabel(o)||(re.computeIntersections(g,W),this.nOverlaps++)}}},c.prototype.addEdges=function(){if(1===arguments.length)for(var _=arguments[0].iterator();_.hasNext();){var w=_.next();this.addEdge(w,w)}else if(2===arguments.length)for(var W=arguments[1],re=arguments[0].iterator();re.hasNext();){var x=re.next();this.addEdge(x,W)}},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(wu),js=function(){this._min=te.POSITIVE_INFINITY,this._max=te.NEGATIVE_INFINITY},Di={NodeComparator:{configurable:!0}};js.prototype.getMin=function(){return this._min},js.prototype.intersects=function(l,c){return!(this._min>c||this._max<l)},js.prototype.getMax=function(){return this._max},js.prototype.toString=function(){return $r.toLineString(new se(this._min,0),new se(this._max,0))},js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js},Di.NodeComparator.get=function(){return ba},Object.defineProperties(js,Di);var ba=function(){};ba.prototype.compare=function(l,c){var I=(l._min+l._max)/2,W=(c._min+c._max)/2;return I<W?-1:I>W?1:0},ba.prototype.interfaces_=function(){return[ne]},ba.prototype.getClass=function(){return ba};var Jd=function(l){function c(){l.call(this),this._item=null;var w=arguments[1],I=arguments[2];this._min=arguments[0],this._max=w,this._item=I}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.query=function(_,w,I){if(!this.intersects(_,w))return null;I.visitItem(this._item)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(js),sd=function(l){function c(){l.call(this),this._node1=null,this._node2=null;var w=arguments[1];this._node1=arguments[0],this._node2=w,this.buildExtent(this._node1,this._node2)}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.buildExtent=function(_,w){this._min=Math.min(_._min,w._min),this._max=Math.max(_._max,w._max)},c.prototype.query=function(_,w,I){if(!this.intersects(_,w))return null;null!==this._node1&&this._node1.query(_,w,I),null!==this._node2&&this._node2.query(_,w,I)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(js),bo=function(){this._leaves=new me,this._root=null,this._level=0};bo.prototype.buildTree=function(){At.sort(this._leaves,new js.NodeComparator);for(var l=this._leaves,c=null,_=new me;;){if(this.buildLevel(l,_),1===_.size())return _.get(0);c=l,l=_,_=c}},bo.prototype.insert=function(l,c,_){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Jd(l,c,_))},bo.prototype.query=function(l,c,_){this.init(),this._root.query(l,c,_)},bo.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},bo.prototype.printNode=function(l){un.out.println($r.toLineString(new se(l._min,this._level),new se(l._max,this._level)))},bo.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},bo.prototype.buildLevel=function(l,c){this._level++,c.clear();for(var _=0;_<l.size();_+=2){var w=l.get(_);if(null===(_+1<l.size()?l.get(_):null))c.add(w);else{var I=new sd(l.get(_),l.get(_+1));c.add(I)}}},bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo};var wc=function(){this._items=new me};wc.prototype.visitItem=function(l){this._items.add(l)},wc.prototype.getItems=function(){return this._items},wc.prototype.interfaces_=function(){return[bs]},wc.prototype.getClass=function(){return wc};var xa=function(){this._index=null;var l=arguments[0];if(!tt(l,Oo))throw new J("Argument must be Polygonal");this._index=new ki(l)},vl={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};xa.prototype.locate=function(l){var c=new ai(l),_=new yi(c);return this._index.query(l.y,l.y,_),c.getLocation()},xa.prototype.interfaces_=function(){return[Qu]},xa.prototype.getClass=function(){return xa},vl.SegmentVisitor.get=function(){return yi},vl.IntervalIndexedGeometry.get=function(){return ki},Object.defineProperties(xa,vl);var yi=function(){this._counter=null,this._counter=arguments[0]};yi.prototype.visitItem=function(l){var c=l;this._counter.countSegment(c.getCoordinate(0),c.getCoordinate(1))},yi.prototype.interfaces_=function(){return[bs]},yi.prototype.getClass=function(){return yi};var ki=function(){this._index=new bo,this.init(arguments[0])};ki.prototype.init=function(l){for(var c=zn.getLines(l).iterator();c.hasNext();){var _=c.next().getCoordinates();this.addLine(_)}},ki.prototype.addLine=function(l){for(var c=1;c<l.length;c++){var _=new Ur(l[c-1],l[c]),w=Math.min(_.p0.y,_.p1.y),I=Math.max(_.p0.y,_.p1.y);this._index.insert(w,I,_)}},ki.prototype.query=function(){if(2===arguments.length){var l=arguments[0],c=arguments[1],_=new wc;return this._index.query(l,c,_),_.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki};var fl=function(l){function c(){if(l.call(this),this._parentGeom=null,this._lineEdgeMap=new Ot,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ui,2===arguments.length){var w=arguments[1],I=Ge.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=w,this._boundaryNodeRule=I,null!==w&&this.add(w)}else if(3===arguments.length){var re=arguments[1],x=arguments[2];this._argIndex=arguments[0],this._parentGeom=re,this._boundaryNodeRule=x,null!==re&&this.add(re)}}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.insertBoundaryPoint=function(_,w){var I=this._nodes.addNode(w).getLabel(),W=1;I.getLocation(_,Re.ON)===Te.BOUNDARY&&W++;var re=c.determineBoundary(this._boundaryNodeRule,W);I.setLocation(_,re)},c.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var W=arguments[1],re=arguments[2],x=new ys(arguments[0],!0,!1);return x.setIsDoneIfProperInt(re),this.createEdgeSetIntersector().computeIntersections(this._edges,x,W||!(this._parentGeom instanceof Xi||this._parentGeom instanceof Ns||this._parentGeom instanceof jn)),this.addSelfIntersectionNodes(this._argIndex),x}},c.prototype.computeSplitEdges=function(_){for(var w=this._edges.iterator();w.hasNext();)w.next().eiList.addSplitEdges(_)},c.prototype.computeEdgeIntersections=function(_,w,I){var W=new ys(w,I,!0);return W.setBoundaryNodes(this.getBoundaryNodes(),_.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,_._edges,W),W},c.prototype.getGeometry=function(){return this._parentGeom},c.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},c.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},c.prototype.addPoint=function(){if(arguments[0]instanceof no){var _=arguments[0].getCoordinate();this.insertPoint(this._argIndex,_,Te.INTERIOR)}else arguments[0]instanceof se&&this.insertPoint(this._argIndex,arguments[0],Te.INTERIOR)},c.prototype.addPolygon=function(_){this.addPolygonRing(_.getExteriorRing(),Te.EXTERIOR,Te.INTERIOR);for(var w=0;w<_.getNumInteriorRing();w++){var I=_.getInteriorRingN(w);this.addPolygonRing(I,Te.INTERIOR,Te.EXTERIOR)}},c.prototype.addEdge=function(_){this.insertEdge(_);var w=_.getCoordinates();this.insertPoint(this._argIndex,w[0],Te.BOUNDARY),this.insertPoint(this._argIndex,w[w.length-1],Te.BOUNDARY)},c.prototype.addLineString=function(_){var w=Me.removeRepeatedPoints(_.getCoordinates());if(w.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=w[0],null;var I=new Hu(w,new zi(this._argIndex,Te.INTERIOR));this._lineEdgeMap.put(_,I),this.insertEdge(I),qt.isTrue(w.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,w[0]),this.insertBoundaryPoint(this._argIndex,w[w.length-1])},c.prototype.getInvalidPoint=function(){return this._invalidPoint},c.prototype.getBoundaryPoints=function(){for(var _=this.getBoundaryNodes(),w=new Array(_.size()).fill(null),I=0,W=_.iterator();W.hasNext();){var re=W.next();w[I++]=re.getCoordinate().copy()}return w},c.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},c.prototype.addSelfIntersectionNode=function(_,w,I){if(this.isBoundaryNode(_,w))return null;I===Te.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(_,w):this.insertPoint(_,w,I)},c.prototype.addPolygonRing=function(_,w,I){if(_.isEmpty())return null;var W=Me.removeRepeatedPoints(_.getCoordinates());if(W.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=W[0],null;var re=w,x=I;Zn.isCCW(W)&&(re=I,x=w);var o=new Hu(W,new zi(this._argIndex,Te.BOUNDARY,re,x));this._lineEdgeMap.put(_,o),this.insertEdge(o),this.insertPoint(this._argIndex,W[0],Te.BOUNDARY)},c.prototype.insertPoint=function(_,w,I){var W=this._nodes.addNode(w),re=W.getLabel();null===re?W._label=new zi(_,I):re.setLocation(_,I)},c.prototype.createEdgeSetIntersector=function(){return new Va},c.prototype.addSelfIntersectionNodes=function(_){for(var w=this._edges.iterator();w.hasNext();)for(var I=w.next(),W=I.getLabel().getLocation(_),re=I.eiList.iterator();re.hasNext();){var x=re.next();this.addSelfIntersectionNode(_,x.coord,W)}},c.prototype.add=function(){if(1!==arguments.length)return l.prototype.add.apply(this,arguments);var _=arguments[0];if(_.isEmpty())return null;if(_ instanceof jn&&(this._useBoundaryDeterminationRule=!1),_ instanceof Ns)this.addPolygon(_);else if(_ instanceof Zi)this.addLineString(_);else if(_ instanceof no)this.addPoint(_);else if(_ instanceof Wi)this.addCollection(_);else if(_ instanceof wi)this.addCollection(_);else if(_ instanceof jn)this.addCollection(_);else{if(!(_ instanceof Ir))throw new Error(_.getClass().getName());this.addCollection(_)}},c.prototype.addCollection=function(_){for(var w=0;w<_.getNumGeometries();w++){var I=_.getGeometryN(w);this.add(I)}},c.prototype.locate=function(_){return tt(this._parentGeom,Oo)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new xa(this._parentGeom)),this._areaPtLocator.locate(_)):this._ptLocator.locate(_,this._parentGeom)},c.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):l.prototype.findEdge.apply(this,arguments)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c.determineBoundary=function(_,w){return _.isInBoundary(w)?Te.BOUNDARY:Te.INTERIOR},c}(Ao),pl=function(){if(this._li=new zr,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var l=arguments[0];this.setComputationPrecision(l.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new fl(0,l)}else if(2===arguments.length){var c=arguments[0],_=arguments[1],w=Ge.OGC_SFS_BOUNDARY_RULE;c.getPrecisionModel().compareTo(_.getPrecisionModel())>=0?this.setComputationPrecision(c.getPrecisionModel()):this.setComputationPrecision(_.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new fl(0,c,w),this._arg[1]=new fl(1,_,w)}else if(3===arguments.length){var I=arguments[0],W=arguments[1],re=arguments[2];I.getPrecisionModel().compareTo(W.getPrecisionModel())>=0?this.setComputationPrecision(I.getPrecisionModel()):this.setComputationPrecision(W.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new fl(0,I,re),this._arg[1]=new fl(1,W,re)}};pl.prototype.getArgGeometry=function(l){return this._arg[l].getGeometry()},pl.prototype.setComputationPrecision=function(l){this._resultPrecisionModel=l,this._li.setPrecisionModel(this._resultPrecisionModel)},pl.prototype.interfaces_=function(){return[]},pl.prototype.getClass=function(){return pl};var Fl=function(){};Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl},Fl.map=function(){if(arguments[0]instanceof Nr&&tt(arguments[1],Fl.MapOp)){for(var l=arguments[0],c=arguments[1],_=new me,w=0;w<l.getNumGeometries();w++){var I=c.map(l.getGeometryN(w));null!==I&&_.add(I)}return l.getFactory().buildGeometry(_)}if(tt(arguments[0],St)&&tt(arguments[1],Fl.MapOp)){for(var W=arguments[0],re=arguments[1],x=new me,o=W.iterator();o.hasNext();){var g=o.next(),M=re.map(g);null!==M&&x.add(M)}return x}},Fl.MapOp=function(){};var ci=function(l){function c(){var _=arguments[0];l.call(this,_,arguments[1]),this._ptLocator=new ui,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Fo,this._resultPolyList=new me,this._resultLineList=new me,this._resultPointList=new me,this._graph=new Ao(new yd),this._geomFact=_.getFactory()}return l&&(c.__proto__=l),(c.prototype=Object.create(l&&l.prototype)).constructor=c,c.prototype.insertUniqueEdge=function(_){var w=this._edgeList.findEqualEdge(_);if(null!==w){var I=w.getLabel(),W=_.getLabel();w.isPointwiseEqual(_)||(W=new zi(_.getLabel())).flip();var re=w.getDepth();re.isNull()&&re.add(I),re.add(W),I.merge(W)}else this._edgeList.add(_)},c.prototype.getGraph=function(){return this._graph},c.prototype.cancelDuplicateResultEdges=function(){for(var _=this._graph.getEdgeEnds().iterator();_.hasNext();){var w=_.next(),I=w.getSym();w.isInResult()&&I.isInResult()&&(w.setInResult(!1),I.setInResult(!1))}},c.prototype.isCoveredByLA=function(_){return!!this.isCovered(_,this._resultLineList)||!!this.isCovered(_,this._resultPolyList)},c.prototype.computeGeometry=function(_,w,I,W){var re=new me;return re.addAll(_),re.addAll(w),re.addAll(I),re.isEmpty()?c.createEmptyResult(W,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(re)},c.prototype.mergeSymLabels=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();)_.next().getEdges().mergeSymLabels()},c.prototype.isCovered=function(_,w){for(var I=w.iterator();I.hasNext();){var W=I.next();if(this._ptLocator.locate(_,W)!==Te.EXTERIOR)return!0}return!1},c.prototype.replaceCollapsedEdges=function(){for(var _=new me,w=this._edgeList.iterator();w.hasNext();){var I=w.next();I.isCollapsed()&&(w.remove(),_.add(I.getCollapsedEdge()))}this._edgeList.addAll(_)},c.prototype.updateNodeLabelling=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();){var w=_.next(),I=w.getEdges().getLabel();w.getLabel().merge(I)}},c.prototype.getResultGeometry=function(_){return this.computeOverlay(_),this._resultGeom},c.prototype.insertUniqueEdges=function(_){for(var w=_.iterator();w.hasNext();){var I=w.next();this.insertUniqueEdge(I)}},c.prototype.computeOverlay=function(_){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var w=new me;this._arg[0].computeSplitEdges(w),this._arg[1].computeSplitEdges(w),this.insertUniqueEdges(w),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ti.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(_),this.cancelDuplicateResultEdges();var I=new ja(this._geomFact);I.add(this._graph),this._resultPolyList=I.getPolygons();var W=new es(this,this._geomFact,this._ptLocator);this._resultLineList=W.build(_);var re=new pa(this,this._geomFact,this._ptLocator);this._resultPointList=re.build(_),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,_)},c.prototype.labelIncompleteNode=function(_,w){var I=this._ptLocator.locate(_.getCoordinate(),this._arg[w].getGeometry());_.getLabel().setLocation(w,I)},c.prototype.copyPoints=function(_){for(var w=this._arg[_].getNodeIterator();w.hasNext();){var I=w.next();this._graph.addNode(I.getCoordinate()).setLabel(_,I.getLabel().getLocation(_))}},c.prototype.findResultAreaEdges=function(_){for(var w=this._graph.getEdgeEnds().iterator();w.hasNext();){var I=w.next(),W=I.getLabel();W.isArea()&&!I.isInteriorAreaEdge()&&c.isResultOfOp(W.getLocation(0,Re.RIGHT),W.getLocation(1,Re.RIGHT),_)&&I.setInResult(!0)}},c.prototype.computeLabelsFromDepths=function(){for(var _=this._edgeList.iterator();_.hasNext();){var w=_.next(),I=w.getLabel(),W=w.getDepth();if(!W.isNull()){W.normalize();for(var re=0;re<2;re++)I.isNull(re)||!I.isArea()||W.isNull(re)||(0===W.getDelta(re)?I.toLine(re):(qt.isTrue(!W.isNull(re,Re.LEFT),"depth of LEFT side has not been initialized"),I.setLocation(re,Re.LEFT,W.getLocation(re,Re.LEFT)),qt.isTrue(!W.isNull(re,Re.RIGHT),"depth of RIGHT side has not been initialized"),I.setLocation(re,Re.RIGHT,W.getLocation(re,Re.RIGHT))))}}},c.prototype.computeLabelling=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();)_.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},c.prototype.labelIncompleteNodes=function(){for(var _=this._graph.getNodes().iterator();_.hasNext();){var w=_.next(),I=w.getLabel();w.isIsolated()&&(I.isNull(0)?this.labelIncompleteNode(w,0):this.labelIncompleteNode(w,1)),w.getEdges().updateLabelling(I)}},c.prototype.isCoveredByA=function(_){return!!this.isCovered(_,this._resultPolyList)},c.prototype.interfaces_=function(){return[]},c.prototype.getClass=function(){return c},c}(pl);ci.overlayOp=function(l,c,_){return new ci(l,c).getResultGeometry(_)},ci.intersection=function(l,c){if(l.isEmpty()||c.isEmpty())return ci.createEmptyResult(ci.INTERSECTION,l,c,l.getFactory());if(l.isGeometryCollection()){var _=c;return Kn.map(l,{interfaces_:function(){return[Fl.MapOp]},map:function(w){return w.intersection(_)}})}return l.checkNotGeometryCollection(l),l.checkNotGeometryCollection(c),ms.overlayOp(l,c,ci.INTERSECTION)},ci.symDifference=function(l,c){if(l.isEmpty()||c.isEmpty()){if(l.isEmpty()&&c.isEmpty())return ci.createEmptyResult(ci.SYMDIFFERENCE,l,c,l.getFactory());if(l.isEmpty())return c.copy();if(c.isEmpty())return l.copy()}return l.checkNotGeometryCollection(l),l.checkNotGeometryCollection(c),ms.overlayOp(l,c,ci.SYMDIFFERENCE)},ci.resultDimension=function(l,c,_){var w=c.getDimension(),I=_.getDimension(),W=-1;switch(l){case ci.INTERSECTION:W=Math.min(w,I);break;case ci.UNION:W=Math.max(w,I);break;case ci.DIFFERENCE:W=w;break;case ci.SYMDIFFERENCE:W=Math.max(w,I)}return W},ci.createEmptyResult=function(l,c,_,w){var I=null;switch(ci.resultDimension(l,c,_)){case-1:I=w.createGeometryCollection(new Array(0).fill(null));break;case 0:I=w.createPoint();break;case 1:I=w.createLineString();break;case 2:I=w.createPolygon()}return I},ci.difference=function(l,c){return l.isEmpty()?ci.createEmptyResult(ci.DIFFERENCE,l,c,l.getFactory()):c.isEmpty()?l.copy():(l.checkNotGeometryCollection(l),l.checkNotGeometryCollection(c),ms.overlayOp(l,c,ci.DIFFERENCE))},ci.isResultOfOp=function(){if(2===arguments.length){var l=arguments[0],c=arguments[1],_=l.getLocation(0),w=l.getLocation(1);return ci.isResultOfOp(_,w,c)}if(3===arguments.length){var I=arguments[0],W=arguments[1];switch(I===Te.BOUNDARY&&(I=Te.INTERIOR),W===Te.BOUNDARY&&(W=Te.INTERIOR),arguments[2]){case ci.INTERSECTION:return I===Te.INTERIOR&&W===Te.INTERIOR;case ci.UNION:return I===Te.INTERIOR||W===Te.INTERIOR;case ci.DIFFERENCE:return I===Te.INTERIOR&&W!==Te.INTERIOR;case ci.SYMDIFFERENCE:return I===Te.INTERIOR&&W!==Te.INTERIOR||I!==Te.INTERIOR&&W===Te.INTERIOR}return!1}},ci.INTERSECTION=1,ci.UNION=2,ci.DIFFERENCE=3,ci.SYMDIFFERENCE=4;var vs=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ui,this._seg=new Ur;var l=arguments[0],c=arguments[1];this._g=l,this._boundaryDistanceTolerance=c,this._linework=this.extractLinework(l)};vs.prototype.isWithinToleranceOfBoundary=function(l){for(var c=0;c<this._linework.getNumGeometries();c++)for(var _=this._linework.getGeometryN(c).getCoordinateSequence(),w=0;w<_.size()-1;w++)if(_.getCoordinate(w,this._seg.p0),_.getCoordinate(w+1,this._seg.p1),this._seg.distance(l)<=this._boundaryDistanceTolerance)return!0;return!1},vs.prototype.getLocation=function(l){return this.isWithinToleranceOfBoundary(l)?Te.BOUNDARY:this._ptLocator.locate(l,this._g)},vs.prototype.extractLinework=function(l){var c=new Gl;l.apply(c);var _=c.getLinework(),w=Cn.toLineStringArray(_);return l.getFactory().createMultiLineString(w)},vs.prototype.interfaces_=function(){return[]},vs.prototype.getClass=function(){return vs};var Gl=function(){this._linework=null,this._linework=new me};Gl.prototype.getLinework=function(){return this._linework},Gl.prototype.filter=function(l){if(l instanceof Ns){var c=l;this._linework.add(c.getExteriorRing());for(var _=0;_<c.getNumInteriorRing();_++)this._linework.add(c.getInteriorRingN(_))}},Gl.prototype.interfaces_=function(){return[hr]},Gl.prototype.getClass=function(){return Gl};var tc=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};tc.prototype.extractPoints=function(l,c,_){for(var w=l.getCoordinates(),I=0;I<w.length-1;I++)this.computeOffsetPoints(w[I],w[I+1],c,_)},tc.prototype.setSidesToGenerate=function(l,c){this._doLeft=l,this._doRight=c},tc.prototype.getPoints=function(l){for(var c=new me,_=zn.getLines(this._g).iterator();_.hasNext();){var w=_.next();this.extractPoints(w,l,c)}return c},tc.prototype.computeOffsetPoints=function(l,c,_,w){var I=c.x-l.x,W=c.y-l.y,re=Math.sqrt(I*I+W*W),x=_*I/re,o=_*W/re,g=(c.x+l.x)/2,M=(c.y+l.y)/2;if(this._doLeft){var S=new se(g-o,M+x);w.add(S)}if(this._doRight){var A=new se(g+o,M-x);w.add(A)}},tc.prototype.interfaces_=function(){return[]},tc.prototype.getClass=function(){return tc};var el=function l(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=l.TOLERANCE,this._testCoords=new me;var c=arguments[0],_=arguments[1],w=arguments[2];this._boundaryDistanceTolerance=l.computeBoundaryDistanceTolerance(c,_),this._geom=[c,_,w],this._locFinder=[new vs(this._geom[0],this._boundaryDistanceTolerance),new vs(this._geom[1],this._boundaryDistanceTolerance),new vs(this._geom[2],this._boundaryDistanceTolerance)]},xo={TOLERANCE:{configurable:!0}};el.prototype.reportResult=function(l,c,_){un.out.println("Overlay result invalid - A:"+Te.toLocationSymbol(c[0])+" B:"+Te.toLocationSymbol(c[1])+" expected:"+(_?"i":"e")+" actual:"+Te.toLocationSymbol(c[2]))},el.prototype.isValid=function(l){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(l)},el.prototype.checkValid=function(){if(1===arguments.length){for(var l=arguments[0],c=0;c<this._testCoords.size();c++){var _=this._testCoords.get(c);if(!this.checkValid(l,_))return this._invalidLocation=_,!1}return!0}if(2===arguments.length){var w=arguments[0],I=arguments[1];return this._location[0]=this._locFinder[0].getLocation(I),this._location[1]=this._locFinder[1].getLocation(I),this._location[2]=this._locFinder[2].getLocation(I),!!el.hasLocation(this._location,Te.BOUNDARY)||this.isValidResult(w,this._location)}},el.prototype.addTestPts=function(l){var c=new tc(l);this._testCoords.addAll(c.getPoints(5*this._boundaryDistanceTolerance))},el.prototype.isValidResult=function(l,c){var _=ci.isResultOfOp(c[0],c[1],l),w=!(_^c[2]===Te.INTERIOR);return w||this.reportResult(l,c,_),w},el.prototype.getInvalidLocation=function(){return this._invalidLocation},el.prototype.interfaces_=function(){return[]},el.prototype.getClass=function(){return el},el.hasLocation=function(l,c){for(var _=0;_<3;_++)if(l[_]===c)return!0;return!1},el.computeBoundaryDistanceTolerance=function(l,c){return Math.min(to.computeSizeBasedSnapTolerance(l),to.computeSizeBasedSnapTolerance(c))},el.isValid=function(l,c,_,w){return new el(l,c,w).isValid(_)},xo.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(el,xo);var ks=function l(c){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=l.extractFactory(c),this._inputGeoms=c};ks.prototype.extractElements=function(l,c){if(null===l)return null;for(var _=0;_<l.getNumGeometries();_++){var w=l.getGeometryN(_);this._skipEmpty&&w.isEmpty()||c.add(w)}},ks.prototype.combine=function(){for(var l=new me,c=this._inputGeoms.iterator();c.hasNext();){var _=c.next();this.extractElements(_,l)}return 0===l.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(l)},ks.prototype.interfaces_=function(){return[]},ks.prototype.getClass=function(){return ks},ks.combine=function(){return 1===arguments.length?new ks(arguments[0]).combine():2===arguments.length?new ks(ks.createList(arguments[0],arguments[1])).combine():3===arguments.length?new ks(ks.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},ks.extractFactory=function(l){return l.isEmpty()?null:l.iterator().next().getFactory()},ks.createList=function(){if(2===arguments.length){var l=arguments[0],c=arguments[1],_=new me;return _.add(l),_.add(c),_}if(3===arguments.length){var w=arguments[0],I=arguments[1],W=arguments[2],re=new me;return re.add(w),re.add(I),re.add(W),re}};var io=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new me)},nc={STRTREE_NODE_CAPACITY:{configurable:!0}};io.prototype.reduceToGeometries=function(l){for(var c=new me,_=l.iterator();_.hasNext();){var w=_.next(),I=null;tt(w,dn)?I=this.unionTree(w):w instanceof Nr&&(I=w),c.add(I)}return c},io.prototype.extractByEnvelope=function(l,c,_){for(var w=new me,I=0;I<c.getNumGeometries();I++){var W=c.getGeometryN(I);W.getEnvelopeInternal().intersects(l)?w.add(W):_.add(W)}return this._geomFactory.buildGeometry(w)},io.prototype.unionOptimized=function(l,c){var _=l.getEnvelopeInternal(),w=c.getEnvelopeInternal();if(!_.intersects(w))return ks.combine(l,c);if(l.getNumGeometries()<=1&&c.getNumGeometries()<=1)return this.unionActual(l,c);var I=_.intersection(w);return this.unionUsingEnvelopeIntersection(l,c,I)},io.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var l=new nr(io.STRTREE_NODE_CAPACITY),c=this._inputPolys.iterator();c.hasNext();){var _=c.next();l.insert(_.getEnvelopeInternal(),_)}this._inputPolys=null;var w=l.itemsTree();return this.unionTree(w)},io.prototype.binaryUnion=function(){if(1===arguments.length){var l=arguments[0];return this.binaryUnion(l,0,l.size())}if(3===arguments.length){var c=arguments[0],_=arguments[1],w=arguments[2];if(w-_<=1){var I=io.getGeometry(c,_);return this.unionSafe(I,null)}if(w-_==2)return this.unionSafe(io.getGeometry(c,_),io.getGeometry(c,_+1));var W=Math.trunc((w+_)/2),re=this.binaryUnion(c,_,W),x=this.binaryUnion(c,W,w);return this.unionSafe(re,x)}},io.prototype.repeatedUnion=function(l){for(var c=null,_=l.iterator();_.hasNext();){var w=_.next();c=null===c?w.copy():c.union(w)}return c},io.prototype.unionSafe=function(l,c){return null===l&&null===c?null:null===l?c.copy():null===c?l.copy():this.unionOptimized(l,c)},io.prototype.unionActual=function(l,c){return io.restrictToPolygons(l.union(c))},io.prototype.unionTree=function(l){var c=this.reduceToGeometries(l);return this.binaryUnion(c)},io.prototype.unionUsingEnvelopeIntersection=function(l,c,_){var w=new me,I=this.extractByEnvelope(_,l,w),W=this.extractByEnvelope(_,c,w),re=this.unionActual(I,W);return w.add(re),ks.combine(w)},io.prototype.bufferUnion=function(){if(1===arguments.length){var l=arguments[0];return l.get(0).getFactory().buildGeometry(l).buffer(0)}if(2===arguments.length){var c=arguments[0],_=arguments[1];return c.getFactory().createGeometryCollection([c,_]).buffer(0)}},io.prototype.interfaces_=function(){return[]},io.prototype.getClass=function(){return io},io.restrictToPolygons=function(l){if(tt(l,Oo))return l;var c=er.getPolygons(l);return 1===c.size()?c.get(0):l.getFactory().createMultiPolygon(Cn.toPolygonArray(c))},io.getGeometry=function(l,c){return c>=l.size()?null:l.get(c)},io.union=function(l){return new io(l).union()},nc.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(io,nc);var yt=function(){};yt.prototype.interfaces_=function(){return[]},yt.prototype.getClass=function(){return yt},yt.union=function(l,c){if(l.isEmpty()||c.isEmpty()){if(l.isEmpty()&&c.isEmpty())return ci.createEmptyResult(ci.UNION,l,c,l.getFactory());if(l.isEmpty())return c.copy();if(c.isEmpty())return l.copy()}return l.checkNotGeometryCollection(l),l.checkNotGeometryCollection(c),ms.overlayOp(l,c,ci.UNION)},X.GeoJSONReader=ss,X.GeoJSONWriter=Ps,X.OverlayOp=ci,X.UnionOp=yt,X.BufferOp=$a,Object.defineProperty(X,"__esModule",{value:!0})}(Ze)},7794:()=>{Array.prototype.equals=function(pt){if(!pt||this.length!=pt.length)return!1;for(var Ze=0,X=this.length;Ze<X;Ze++)if(this[Ze]instanceof Array&&pt[Ze]instanceof Array){if(!this[Ze].equals(pt[Ze]))return!1}else if(this[Ze]!=pt[Ze])return!1;return!0},Array.prototype.contains=function(pt){for(var Ze=this.length;Ze--;)if(this[Ze]===pt)return!0;return!1}},5753:pt=>{pt.exports={DAYS:{MONDAY:0,TUESDAY:1,WEDNESDAY:2,THURSDAY:3,FRIDAY:4,SATURDAY:5,SUNDAY:6},OSM_DAYS:["Mo","Tu","We","Th","Fr","Sa","Su"],IRL_DAYS:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],OSM_MONTHS:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],IRL_MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"],MONTH_END_DAY:[31,28,31,30,31,30,31,31,30,31,30,31],MINUTES_MAX:1440,DAYS_MAX:6,PH_WEEKDAY:-2}},2273:(pt,Ze,X)=>{let B=X(9257),E=X(4102),z=X(9620);pt.exports=class p{constructor(R){this._wideInterval=null,this._typical=void 0,this.updateRange(R)}definesTypicalDay(){return this._typical instanceof B}definesTypicalWeek(){return this._typical instanceof E}getTypical(){return this._typical}getInterval(){return this._wideInterval}updateRange(R){if(this._wideInterval=R??(new z).always(),null==this._typical)switch(this._wideInterval.getType()){case"day":this._typical=null==this._wideInterval.getEnd()?new B:new E;break;case"week":case"month":case"always":this._typical=new E;break;case"holiday":this._typical="SH"==this._wideInterval.getStart().holiday?new E:new B;break;default:throw Error("Invalid interval type: "+this._wideInterval.getType())}}hasSameTypical(R){return this.definesTypicalDay()==R.definesTypicalDay()&&this._typical.sameAs(R.getTypical())}isGeneralFor(R){return R.definesTypicalDay()==this.definesTypicalDay()&&this._wideInterval.contains(R.getInterval())}}},9257:(pt,Ze,X)=>{let B=X(6797),E=X(5753);pt.exports=class z{constructor(){this._intervals=[],this._nextInterval=0}getAsMinutesArray(){let O=[];for(let R=0;R<=E.MINUTES_MAX;R++)O[R]=!1;for(let R=0,H=this._intervals.length;R<H;R++)if(null!=this._intervals[R]){let G=null,ie=null;if((this._intervals[R].getStartDay()==this._intervals[R].getEndDay()||this._intervals[R].getEndDay()==E.DAYS_MAX&&this._intervals[R].getTo()==E.MINUTES_MAX)&&(G=this._intervals[R].getFrom(),ie=this._intervals[R].getTo()),null==G||null==ie)throw console.log(this._intervals[R].getFrom()+" "+this._intervals[R].getTo()+" "+this._intervals[R].getStartDay()+" "+this._intervals[R].getEndDay()),new Error("Invalid interval");for(let Ee=G;Ee<=ie;Ee++)O[Ee]=!0}return O}getIntervals(O){if(O=O||!1){let R=this.getAsMinutesArray(),H=[],G=-1;for(let Ee=0,he=R.length;Ee<he;Ee++)0==Ee?R[Ee]&&(G=Ee):Ee==he-1?R[Ee]&&H.push(new B(0,0,G,Ee)):R[Ee]&&G<0?G=Ee:!R[Ee]&&G>=0&&(H.push(new B(0,0,G,Ee-1)),G=-1);return H}return this._intervals}addInterval(O){return this._intervals[this._nextInterval]=O,this._nextInterval++,this._nextInterval-1}editInterval(O,R){this._intervals[O]=R}removeInterval(O){this._intervals[O]=void 0}copyIntervals(O){this._intervals=[];for(let R=0;R<O.length;R++)null!=O[R]&&0==O[R].getStartDay()&&0==O[R].getEndDay()&&this._intervals.push(O[R].clone());this._intervals=this.getIntervals(!0)}clearIntervals(){this._intervals=[]}sameAs(O){return O.getAsMinutesArray().equals(this.getAsMinutesArray())}}},6797:(pt,Ze,X)=>{let B=X(5753);pt.exports=class E{constructor(p,O,R,H){this._dayStart=p,this._dayEnd=O,this._start=R,this._end=H,0==this._dayEnd&&0==this._end&&(this._dayEnd=B.DAYS_MAX,this._end=B.MINUTES_MAX)}getStartDay(){return this._dayStart}getEndDay(){return this._dayEnd}getFrom(){return this._start}getTo(){return this._end}clone(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}}},3961:(pt,Ze,X)=>{X(7794);let B=X(5753);class E{constructor(p,O,R){if(this._wideType=O,this._wide=p,this._weekdays=R.sort(),this._wdOver=[],null==p||null==O||null==R)throw Error("Missing parameter")}getWideType(){return this._wideType}getWideValue(){return this._wide}getWd(){return this._weekdays}getWdOver(){return this._wdOver}sameWd(p){return p.equals(this._weekdays)}getWeekdays(){let p="",O=this._weekdays.concat(this._wdOver).sort();if(O.length>0&&O[0]==B.PH_WEEKDAY&&(p="PH",O.shift()),O.length>0&&O.contains(6)&&O.contains(0)&&(O.contains(5)||O.contains(1))){let R=6,H=O.length-2,G=!1;for(;!G&&H>=0;)O[H]==O[H+1]-1?(R=O[H],H--):G=!0;H=1,G=!1;let ie=0;for(;!G&&H<O.length;)O[H-1]==O[H]-1?(ie=O[H],H++):G=!0;if(7-R+ie+1>=3&&R>ie){p.length>0&&(p+=","),p+=B.OSM_DAYS[R]+"-"+B.OSM_DAYS[ie];let he=0;for(;he<O.length;)O[he]<=ie||O[he]>=R?O.splice(he,1):he++}}if(O.length>1||1==O.length&&-1!=O[0]){p+=p.length>0?","+B.OSM_DAYS[O[0]]:B.OSM_DAYS[O[0]];let R=O[0];for(let H=1;H<O.length;H++)O[H-1]!=O[H]-1?(R!=O[H-1]&&(p+=O[H-1]-R==1?","+B.OSM_DAYS[O[H-1]]:"-"+B.OSM_DAYS[O[H-1]]),p+=","+B.OSM_DAYS[O[H]],R=O[H]):H==O.length-1&&(p+=O[H]-R==1?","+B.OSM_DAYS[O[H]]:"-"+B.OSM_DAYS[O[H]])}return"Mo-Su"==p&&(p=""),p}sameKindAs(p){return this._wideType==p.getWideType()&&p.sameWd(this._weekdays)}equals(p){return p instanceof E&&this._wideType==p.getWideType()&&this._wide==p.getWideValue()&&p.sameWd(this._weekdays)}addWeekday(p){!this._weekdays.contains(p)&&!this._wdOver.contains(p)&&(this._weekdays.push(p),this._weekdays=this._weekdays.sort())}addPhWeekday(){this.addWeekday(B.PH_WEEKDAY)}addOverwrittenWeekday(p){!this._wdOver.contains(p)&&!this._weekdays.contains(p)&&(this._wdOver.push(p),this._wdOver=this._wdOver.sort())}}pt.exports=E},7343:(pt,Ze,X)=>{let B=X(3961);X(4822),pt.exports=class z{constructor(){this._date=[],this._time=[]}getDate(){return this._date}getTime(){return this._time}get(){let O="";if(this._date.length>1||""!=this._date[0].getWideValue())for(let R=0,H=this._date.length;R<H;R++)R>0&&(O+=","),O+=this._date[R].getWideValue();if(this._date.length>0){let R=this._date[0].getWeekdays();R.length>0&&(O+=" "+R)}if(this._time.length>0){O+=" ";for(let R=0,H=this._time.length;R<H;R++)R>0&&(O+=","),O+=this._time[R].get()}else O+=" off";return"00:00-24:00"==O.trim()&&(O="24/7"),O.trim()}sameTime(O){if(null==O||null==O||O.getTime().length!=this._time.length)return!1;for(let R=0,H=this._time.length;R<H;R++)if(!this._time[R].equals(O.getTime()[R]))return!1;return!0}isOff(){return 0==this._time.length||1==this._time.length&&null==this._time[0].getStart()}hasOverwrittenWeekday(){return this._date.length>0&&this._date[0]._wdOver.length>0}addWeekday(O){for(let R=0;R<this._date.length;R++)this._date[R].addWeekday(O)}addPhWeekday(){for(let O=0;O<this._date.length;O++)this._date[O].addPhWeekday()}addOverwrittenWeekday(O){for(let R=0;R<this._date.length;R++)this._date[R].addOverwrittenWeekday(O)}addDate(O){if(null==O||null==O||!O instanceof B)throw Error("Invalid parameter");if(0==this._date.length||"always"!=this._date[0].getWideType()&&this._date[0].sameKindAs(O))this._date.push(O);else if(1!=this._date.length||"always"!=this._date[0].getWideType()||!this._date[0].sameWd(O.getWd()))throw Error("This date can't be added to this rule")}addTime(O){if(0!=this._time.length&&"off"==this._time[0].get()||this._time.contains(O))throw Error("This time can't be added to this rule");this._time.push(O)}}},4822:pt=>{pt.exports=class Ze{constructor(B,E){this._start=B>=0?B:null,this._end=E>=0&&E!=B?E:null}get(){return null===this._start&&null===this._end?"off":this._timeString(this._start)+(null==this._end?"":"-"+this._timeString(this._end))}getStart(){return this._start}getEnd(){return this._end}equals(B){return this._start==B.getStart()&&this._end==B.getEnd()}_timeString(B){var E=Math.floor(B/60),p=B%60;return(E<10?"0":"")+E+":"+(p<10?"0":"")+p}}},9819:(pt,Ze,X)=>{let B=X(3961),E=X(4822),z=X(7343),p=X(5753);pt.exports=class O{build(H){let ie,Ee,he,Pe,Ie,it,pe,ve,G=[];for(let J=0,te=H.length;J<te;J++)if(ie=H[J],null!=ie){it=null,pe=null;let be=J-1;for(;be>=0&&null==it;)null!=H[be]&&(ve=H[be].isGeneralFor(ie),H[be].hasSameTypical(ie)&&(H[be].getInterval().equals(ie.getInterval())||ve)?it=be:ve&&H[be].definesTypicalWeek()&&ie.definesTypicalWeek()&&(pe=be)),be--;if(0==J||null==it){Ee=ie.definesTypicalWeek()?null!=pe?this._buildWeekDiff(ie,H[pe]):this._buildWeek(ie):this._buildDay(ie);for(let ee=0,ae=Ee.length;ee<ae;ee++){for(he=Ee[ee],Pe=!1,Ie=0;!Pe&&Ie<G.length;)if(G[Ie].sameTime(he))try{for(let ne=0,se=he.getDate().length;ne<se;ne++)G[Ie].addDate(he.getDate()[ne]);Pe=!0}catch{"holiday"==he.getDate()[0].getWideType()&&"PH"==he.getDate()[0].getWideValue()&&"always"==G[Ie].getDate()[0].getWideType()?(G[Ie].addPhWeekday(),Pe=!0):"holiday"==G[Ie].getDate()[0].getWideType()&&"PH"==G[Ie].getDate()[0].getWideValue()&&"always"==he.getDate()[0].getWideType()?(he.addPhWeekday(),G[Ie]=he,Pe=!0):Ie++}else Ie++;if(Pe||G.push(he),ee==ae-1&&he.hasOverwrittenWeekday()){let ne=new z;for(let se=0;se<he.getDate().length;se++)ne.addDate(new B(he.getDate()[se].getWideValue(),he.getDate()[se].getWideType(),he.getDate()[se].getWdOver()));ne.addTime(new E),Ee.push(ne),ae++}}}}let de="";for(let J=0,te=G.length;J<te;J++)J>0&&(de+="; "),de+=G[J].get();return de}_buildDay(H){let ie,G=H.getTypical().getIntervals(!0),Ee=new z,he=new B(H.getInterval().getTimeSelector(),H.getInterval().getType(),[-1]);Ee.addDate(he);for(let Pe=0,Ie=G.length;Pe<Ie;Pe++)ie=G[Pe],null!=ie&&Ee.addTime(new E(ie.getFrom(),ie.getTo()));return[Ee]}_buildWeek(H){let G=[],ie=H.getTypical().getIntervals(!0),Ie=this._createTimeIntervals(H.getInterval().getTimeSelector(),H.getInterval().getType(),ie),ve=Ie[2];ve=this._nightMonSun(ve,Ie[0],Ie[1]);let de=[];for(let J=0;J<p.OSM_DAYS.length;J++)de[J]=0;for(let J=0;J<ve.length;J++)if(ve[J].isOff()&&0==de[J])de[J]=8;else if(ve[J].isOff()&&de[J]<0&&de[J]>-8){de[J]=-8;let te=!1,be=0;for(;!te&&be<J;)ve[be].isOff()?(ve[be].addWeekday(J),te=!0):be++;te||G.push(ve[J])}else if(de[J]<=0&&de[J]>-8){de[J]=J+1;let te=J,be=1;for(let ee=J+1;ee<ve.length;ee++)ve[J].sameTime(ve[ee])&&(de[ee]=J+1,ve[J].addWeekday(ee),te=ee,be++);if(1==be)G.push(ve[J]);else if(2==be)ve[J].addWeekday(te),G.push(ve[J]);else if(be>2){for(let ee=J+1;ee<te;ee++)0==de[ee]&&(de[ee]=-J-1,ve[J].addOverwrittenWeekday(ee));ve[J].addWeekday(te),G.push(ve[J])}}return G=this._mergeDays(G),G}_buildWeekDiff(H,G){let Ee,ie=H.getTypical().getIntervalsDiff(G.getTypical()),he=this._createTimeIntervals(H.getInterval().getTimeSelector(),H.getInterval().getType(),ie.open),Pe=he[0],Ie=he[1],it=he[2];for(let de=0,J=ie.closed.length;de<J;de++){Ee=ie.closed[de];for(let te=Ee.getStartDay();te<=Ee.getEndDay();te++)it[te].addTime(new E)}it=this._nightMonSun(it,Pe,Ie);let pe=[];for(let de=0;de<p.OSM_DAYS.length;de++)pe[de]=0;let ve=[];for(let de=0;de<it.length;de++)if(it[de].isOff()&&1==it[de].getTime().length){pe[de]=-8;let J=!1,te=0;for(;!J&&te<de;)it[te].isOff()&&1==it[te].getTime().length?(it[te].addWeekday(de),J=!0):te++;J||ve.push(it[de])}else if(it[de].isOff()&&0==it[de].getTime().length)pe[de]=8;else if(pe[de]<=0&&pe[de]>-8){pe[de]=de+1;let J=1,te=de;ve.push(it[de]);for(let be=de+1;be<it.length;be++)it[de].sameTime(it[be])&&(pe[be]=de+1,it[de].addWeekday(be),te=be,J++);if(1==J)ve.push(it[de]);else if(2==J)it[de].addWeekday(te),ve.push(it[de]);else if(J>2){for(let be=de+1;be<te;be++)0==pe[be]&&(pe[be]=-de-1,it[be].getTime().length>0&&it[de].addOverwrittenWeekday(be));it[de].addWeekday(te),ve.push(it[de])}}return ve=this._mergeDays(ve),ve}_mergeDays(H){if(0==H.length)return H;let ie,G=[];G.push(H[0]);let he,Ee=0;for(let Pe=1;Pe<H.length;Pe++){for(ie=!1,Ee=0;!ie&&Ee<Pe;){if(H[Ee].sameTime(H[Pe])){he=H[Pe].getDate()[0].getWd();for(let Ie=0;Ie<he.length;Ie++)H[Ee].addWeekday(he[Ie]);ie=!0}Ee++}ie||G.push(H[Pe])}return G}_createTimeIntervals(H,G,ie){let Ie,Ee=-1,he=-1,Pe=[];for(let it=0;it<7;it++)Pe.push(new z),Pe[it].addDate(new B(H,G,[it]));for(let it=0,pe=ie.length;it<pe;it++)if(Ie=ie[it],null!=Ie){Ie.getStartDay()==p.DAYS_MAX&&Ie.getEndDay()==p.DAYS_MAX&&Ie.getTo()==p.MINUTES_MAX&&(he=Ie.getFrom()),0==Ie.getStartDay()&&0==Ie.getEndDay()&&0==Ie.getFrom()&&(Ee=Ie.getTo());try{if(Ie.getStartDay()==Ie.getEndDay())Pe[Ie.getStartDay()].addTime(new E(Ie.getFrom(),Ie.getTo()));else if(Ie.getEndDay()-Ie.getStartDay()==1)Ie.getFrom()>Ie.getTo()?Pe[Ie.getStartDay()].addTime(new E(Ie.getFrom(),Ie.getTo())):(Pe[Ie.getStartDay()].addTime(new E(Ie.getFrom(),p.MINUTES_MAX)),Pe[Ie.getEndDay()].addTime(new E(0,Ie.getTo())));else for(let ve=Ie.getStartDay(),de=Ie.getEndDay();ve<=de;ve++)ve==Ie.getStartDay()?Pe[ve].addTime(new E(Ie.getFrom(),p.MINUTES_MAX)):ve==Ie.getEndDay()?Pe[ve].addTime(new E(0,Ie.getTo())):Pe[ve].addTime(new E(0,p.MINUTES_MAX))}catch(ve){console.warn(ve)}}return[Ee,he,Pe]}_nightMonSun(H,G,ie){return G>=0&&ie>=0&&G<ie&&(H[0].getTime().sort(this._sortOhTime),H[6].getTime().sort(this._sortOhTime),H[6].getTime()[H[6].getTime().length-1]=new E(ie,G),H[0].getTime().shift()),H}_sortOhTime(H,G){return H.getStart()-G.getStart()}}},133:(pt,Ze,X)=>{let B=X(5753),E=X(2273),z=X(9257),p=X(6797),O=X(9620);const R=/^(open|closed|off)$/i,ie=/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)(\-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec))?\:?$/,Ee=/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ([012]?[0-9]|3[01])(\-((Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) )?([012]?[0-9]|3[01]))?\:?$/,he=/^((([01]?[0-9]|2[01234])\:[012345][0-9](\-([01]?[0-9]|2[01234])\:[012345][0-9])?(,([01]?[0-9]|2[01234])\:[012345][0-9](\-([01]?[0-9]|2[01234])\:[012345][0-9])?)*)|(24\/7))$/,Pe=/^(((Mo|Tu|We|Th|Fr|Sa|Su)(\-(Mo|Tu|We|Th|Fr|Sa|Su))?)|(PH|SH|easter))(,(((Mo|Tu|We|Th|Fr|Sa|Su)(\-(Mo|Tu|We|Th|Fr|Sa|Su))?)|(PH|SH|easter)))*$/,Ie=/^(PH|SH|easter)$/,it=/^(Mo|Tu|We|Th|Fr|Sa|Su)(\-(Mo|Tu|We|Th|Fr|Sa|Su))?$/;pt.exports=class pe{parse(de){let be,ee,ae,ne,se,st,$e,rt,Te,ht,tt,He,Xe,De,le,ze,Ve,Yt,Ct,bn,fn,kn,un,Xn,Rn,dr,Xr,Ln,ir,xr,$r,J=[],te=de.split(";");for(let en=0,Wn=te.length;en<Wn;en++)if(be=te[en].trim(),0!=be.length){if(ee=this._tokenize(be),ae=ee.length-1,ne=null,se=null,st=null,$e=null,ae>=0&&this._isRuleModifier(ee[ae])&&(ne=ee[ae].toLowerCase(),ae--),Te=null,ht=null,tt=[],ae>=0&&this._isTime(ee[ae])){if(se=ee[ae],"24/7"==se)tt.push({from:0,to:1440});else{se=se.split(",");for(let qt=0,rn=se.length;qt<rn;qt++)rt=se[qt].split("-"),Te=this._asMinutes(rt[0]),ht=rt.length>1?this._asMinutes(rt[1]):Te,tt.push({from:Te,to:ht})}ae--}if(Xe=[],De=[],"24/7"==se)De.push({from:0,to:6});else if(ae>=0&&this._isWeekday(ee[ae])){st=ee[ae],st=st.split(",");for(let qt=0,rn=st.length;qt<rn;qt++)if(He=st[qt],Ie.test(He))Xe.push(He);else{if(!it.test(He))throw new Error("Invalid weekday interval: "+He);He=He.split("-"),Rn=B.OSM_DAYS.indexOf(He[0]),dr=He.length>1?B.OSM_DAYS.indexOf(He[1]):Rn,De.push({from:Rn,to:dr})}ae--}if(Ve=[],kn=[],ae>=0){$e=ee[0];for(let qt=1;qt<=ae;qt++)$e+=" "+ee[qt];if($e.length>0){if($e=$e.replace(/\:$/g,"").split("week"),le=$e[0].trim(),0==le.length&&(le=null),$e.length>1?(ze=$e[1].trim(),0==ze.length&&(ze=null)):ze=null,null!=le&&null!=ze)throw new Error("Unsupported simultaneous month and week selector");if(null!=le){le=le.split(",");for(let qt=0,rn=le.length;qt<rn;qt++)if(fn=le[qt],"SH"==fn)kn.push({holiday:"SH"});else if(ie.test(fn)){if(fn=fn.split("-"),un=B.OSM_MONTHS.indexOf(fn[0])+1,un<1)throw new Error("Invalid month: "+fn[0]);if(fn.length>1){if(Xn=B.OSM_MONTHS.indexOf(fn[1])+1,Xn<1)throw new Error("Invalid month: "+fn[1])}else Xn=null;kn.push({from:un,to:Xn})}else{if(!Ee.test(fn))throw new Error("Unsupported month selector: "+fn);if(fn=fn.replace(/\:/g,"").split("-"),un=fn[0].split(" "),un={day:parseInt(un[1],10),month:B.OSM_MONTHS.indexOf(un[0])+1},un.month<1)throw new Error("Invalid month: "+un[0]);if(fn.length>1){if(Xn=fn[1].split(" "),1==Xn.length)Xn={day:parseInt(Xn[0],10),month:un.month};else if(Xn={day:parseInt(Xn[1],10),month:B.OSM_MONTHS.indexOf(Xn[0])+1},Xn.month<1)throw new Error("Invalid month: "+Xn[0])}else Xn=null;kn.push({fromDay:un,toDay:Xn})}}else{if(null==ze)throw Error("Invalid date selector");ze=ze.split(",");for(let qt=0,rn=ze.length;qt<rn;qt++)Yt=ze[qt].split("-"),Ct=parseInt(Yt[0],10),bn=Yt.length>1?parseInt(Yt[1],10):null,Ve.push({from:Ct,to:bn})}}}if(ae==ee.length-1)throw Error("Unreadable string");if(Xr=[],kn.length>0)for(let qt=0,rn=kn.length;qt<rn;qt++)fn=kn[qt],null!=fn.holiday?Xr.push((new O).holiday(fn.holiday)):null!=fn.fromDay?(Ln=null!=fn.toDay?(new O).day(fn.fromDay.day,fn.fromDay.month,fn.toDay.day,fn.toDay.month):(new O).day(fn.fromDay.day,fn.fromDay.month),Xr.push(Ln)):(Ln=null!=fn.to?(new O).month(fn.from,fn.to):(new O).month(fn.from),Xr.push(Ln));else if(Ve.length>0)for(let qt=0,rn=Ve.length;qt<rn;qt++)Ln=null!=Ve[qt].to?(new O).week(Ve[qt].from,Ve[qt].to):(new O).week(Ve[qt].from),Xr.push(Ln);else if(Xe.length>0)for(let qt=0,rn=Xe.length;qt<rn;qt++)Xr.push((new O).holiday(Xe[qt])),"PH"==Xe[qt]&&De.length>0&&0==kn.length&&0==Ve.length&&Xr.push((new O).always());else Xr.push((new O).always());0==De.length&&De.push(0==Xe.length||1==Xe.length&&"SH"==Xe[0]?{from:0,to:B.OSM_DAYS.length-1}:{from:0,to:0}),0==tt.length&&tt.push({from:0,to:1440});for(let qt=0,rn=Xr.length;qt<rn;qt++){for(xr=!1,$r=0;$r<J.length&&!xr;)J[$r].getInterval().equals(Xr[qt])?xr=!0:$r++;if(xr)ir=J[$r];else{ir=new E(Xr[qt]);let Fn=-1;for($r=0;$r<J.length;$r++)J[$r].isGeneralFor(new E(Xr[qt]))&&(Fn=$r);Fn>=0&&ir.definesTypicalWeek()&&ir.getTypical().copyIntervals(J[Fn].getTypical().getIntervals()),J.push(ir)}for(let Fn=0,zr=De.length;Fn<zr;Fn++){if(De[Fn].from<=De[Fn].to)for(let Li=De[Fn].from;Li<=De[Fn].to;Li++)ir.definesTypicalWeek()?ir.getTypical().removeIntervalsDuringDay(Li):ir.getTypical().clearIntervals();else{for(let Li=De[Fn].from;Li<=6;Li++)ir.definesTypicalWeek()?ir.getTypical().removeIntervalsDuringDay(Li):ir.getTypical().clearIntervals();for(let Li=0;Li<=De[Fn].to;Li++)ir.definesTypicalWeek()?ir.getTypical().removeIntervalsDuringDay(Li):ir.getTypical().clearIntervals()}for(let Li=0,ai=tt.length;Li<ai;Li++)"closed"==ne||"off"==ne?this._removeInterval(ir.getTypical(),De[Fn],tt[Li]):this._addInterval(ir.getTypical(),De[Fn],tt[Li])}}}return J}_removeInterval(de,J,te){if(J.from<=J.to)for(let be=J.from;be<=J.to;be++)this._removeIntervalWd(de,te,be);else{for(let be=J.from;be<=6;be++)this._removeIntervalWd(de,te,be);for(let be=0;be<=J.to;be++)this._removeIntervalWd(de,te,be)}}_removeIntervalWd(de,J,te){J.to>=J.from?de.removeInterval(new p(te,te,J.from,J.to)):te<6?de.removeInterval(new p(te,te+1,J.from,J.to)):(de.removeInterval(new p(te,te,J.from,1440)),de.removeInterval(new p(0,0,0,J.to)))}_addInterval(de,J,te){if(de instanceof z&&(0!=J.from||0!=J.to&&te.from<=te.to)&&((J=Object.assign({},J)).from=0,J.to=te.from<=te.to?0:1),J.from<=J.to)for(let be=J.from;be<=J.to;be++)this._addIntervalWd(de,te,be);else{for(let be=J.from;be<=6;be++)this._addIntervalWd(de,te,be);for(let be=0;be<=J.to;be++)this._addIntervalWd(de,te,be)}}_addIntervalWd(de,J,te){J.to>=J.from?de.addInterval(new p(te,te,J.from,J.to)):te<6?de.addInterval(new p(te,te+1,J.from,J.to)):(de.addInterval(new p(te,te,J.from,1440)),de.addInterval(new p(0,0,0,J.to)))}_asMinutes(de){let J=de.split(":");return 60*parseInt(J[0],10)+parseInt(J[1],10)}_isWeekday(de){return Pe.test(de)}_isTime(de){return he.test(de)}_isRuleModifier(de){return R.test(de)}_tokenize(de){let J=de.trim().split(" "),te=J.indexOf("");for(;~te;)J.splice(te,1),te=J.indexOf("");return J}_printIntervals(de,J){if(console.log("From: "+de),J.length>0){console.log("-------------------------");for(let te=0;te<J.length;te++)null==J[te]?console.log(te+": "+void 0):console.log(te+": "+J[te].getStartDay()+", "+J[te].getEndDay()+", "+J[te].getFrom()+", "+J[te].getTo());console.log("-------------------------")}else console.log("Empty intervals")}}},4102:(pt,Ze,X)=>{let B=X(6797),E=X(5753);pt.exports=class z{constructor(){this._intervals=[]}getAsMinutesArray(){let O=[];for(let R=0;R<=E.DAYS_MAX;R++){O[R]=[];for(let H=0;H<=E.MINUTES_MAX;H++)O[R][H]=!1}for(let R=0,H=this._intervals.length;R<H;R++)if(null!=this._intervals[R])for(let G=this._intervals[R].getStartDay();G<=this._intervals[R].getEndDay();G++){let ie=G==this._intervals[R].getStartDay()?this._intervals[R].getFrom():0,Ee=G==this._intervals[R].getEndDay()?this._intervals[R].getTo():E.MINUTES_MAX;if(null!=ie&&null!=Ee)for(let he=ie;he<=Ee;he++)O[G][he]=!0}return O}getIntervals(O){if(O=O||!1){let R=this.getAsMinutesArray(),H=[],G=-1,ie=-1;for(let he=0,Pe=R.length;he<Pe;he++)for(let Ie=0,it=R[he].length;Ie<it;Ie++)0==he&&0==Ie?R[he][Ie]&&(G=he,ie=Ie):he==E.DAYS_MAX&&Ie==it-1?G>=0&&R[he][Ie]&&H.push(new B(G,he,ie,Ie)):R[he][Ie]&&G<0?(G=he,ie=Ie):!R[he][Ie]&&G>=0&&(H.push(0==Ie?new B(G,he-1,ie,E.MINUTES_MAX):new B(G,he,ie,Ie-1)),G=-1,ie=-1);return H}return this._intervals}getIntervalsDiff(O){let Pe,Ie,it,R=this.getAsMinutesArray(),H=O.getAsMinutesArray(),G={open:[],closed:[]},ie=-1,Ee=-1;for(let pe=0;pe<=E.DAYS_MAX;pe++){for(Pe=!1,Ie=0,it=G.open.length;Ie<=E.MINUTES_MAX;)Pe?(0==pe&&0==Ie?R[pe][Ie]&&(ie=pe,Ee=Ie):pe==E.DAYS_MAX&&Ie==E.MINUTES_MAX?ie>=0&&R[pe][Ie]&&G.open.push(new B(ie,pe,Ee,Ie)):R[pe][Ie]&&ie<0?(ie=pe,Ee=Ie):!R[pe][Ie]&&ie>=0&&(G.open.push(0==Ie?new B(ie,pe-1,Ee,E.MINUTES_MAX):new B(ie,pe,Ee,Ie-1)),ie=-1,Ee=-1),Ie++):(Pe=R[pe][Ie]?!H[pe][Ie]:H[pe][Ie],Pe?Ie=0:Ie++);!Pe&&ie>-1&&(G.open.push(new B(ie,pe-1,Ee,E.MINUTES_MAX)),ie=-1,Ee=-1),Pe&&-1==ie&&it==G.open.length&&(G.closed.length>0&&G.closed[G.closed.length-1].getEndDay()==pe-1?G.closed[G.closed.length-1]=new B(G.closed[G.closed.length-1].getStartDay(),pe,0,E.MINUTES_MAX):G.closed.push(new B(pe,pe,0,E.MINUTES_MAX)))}return G}addInterval(O){return this._intervals[this._intervals.length]=O,this._intervals.length-1}editInterval(O,R){this._intervals[O]=R}removeInterval(O){this._intervals[O]=void 0}removeIntervalsDuringDay(O){let R,G,H=this._intervals.length;for(let ie=0;ie<H;ie++)R=this._intervals[ie],null!=R&&R.getStartDay()<=O&&R.getEndDay()>=O&&(G=R.getEndDay()-R.getStartDay(),(G>1||0==G||R.getStartDay()==O||R.getFrom()<=R.getTo())&&(R.getEndDay()-R.getStartDay()>=1&&R.getFrom()<=R.getTo()&&(R.getStartDay()<O&&this.addInterval(new B(R.getStartDay(),O-1,R.getFrom(),1440)),R.getEndDay()>O&&this.addInterval(new B(O+1,R.getEndDay(),0,R.getTo()))),this.removeInterval(ie)))}copyIntervals(O){this._intervals=[];for(let R=0;R<O.length;R++)null!=O[R]&&this._intervals.push(O[R].clone())}sameAs(O){return O.getAsMinutesArray().equals(this.getAsMinutesArray())}}},9620:(pt,Ze,X)=>{let B=X(5753);class E{constructor(){this._start=null,this._end=null,this._type=null}day(p,O,R,H){if(null==p||null==O)throw Error("Start day and month can't be null");return this._start={day:p,month:O},this._end=null==R||null==H||R==p&&H==O?null:{day:R,month:H},this._type="day",this}week(p,O){if(null==p)throw Error("Start week can't be null");return this._start={week:p},this._end=null!=O&&O!=p?{week:O}:null,this._type="week",this}month(p,O){if(null==p)throw Error("Start month can't be null");return this._start={month:p},this._end=null!=O&&O!=p?{month:O}:null,this._type="month",this}holiday(p){if(null==p||"PH"!=p&&"SH"!=p&&"easter"!=p)throw Error("Invalid holiday, must be PH, SH or easter");return this._start={holiday:p},this._end=null,this._type="holiday",this}always(){return this._start=null,this._end=null,this._type="always",this}getType(){return this._type}getStart(){return this._start}getEnd(){return this._end}equals(p){if(!p instanceof E)return!1;if(this===p)return!0;if("always"==p._type)return"always"==this._type;let O=!1;switch(this._type){case"always":O=null==p._start;break;case"day":O="day"==p._type&&p._start.month==this._start.month&&p._start.day==this._start.day&&(null==p._end&&null==this._end||null!=p._end&&null!=this._end&&this._end.month==p._end.month&&this._end.day==p._end.day)||"month"==p._type&&p._start.month==this._start.month&&this.isFullMonth()&&p.isFullMonth()||null!=p._end&&null!=this._end&&this._end.month==p._end.month&&this.endsMonth()&&p.endsMonth();break;case"week":O=p._start.week==this._start.week&&(p._end==this._end||null!=this._end&&null!=p._end&&p._end.week==this._end.week);break;case"month":O="day"==p._type&&this._start.month==p._start.month&&p.startsMonth()&&(null==this._end&&null!=p._end&&this._start.month==p._end.month&&p.endsMonth()||null!=this._end&&null!=p._end&&this._end.month==p._end.month&&p.endsMonth())||"month"==p._type&&p._start.month==this._start.month&&(null==this._end&&null==p._end||null!=this._end&&null!=p._end&&this._end.month==p._end.month);break;case"holiday":O=p._start.holiday==this._start.holiday}return O}getTimeForHumans(){let p;switch(this._type){case"day":null!=this._end?(p="every week from "+B.IRL_MONTHS[this._start.month-1]+" "+this._start.day+" to ",this._start.month!=this._end.month&&(p+=B.IRL_MONTHS[this._end.month-1]+" "),p+=this._end.day):p="day "+B.IRL_MONTHS[this._start.month-1]+" "+this._start.day;break;case"week":p=null!=this._end?"every week from week "+this._start.week+" to "+this._end.week:"week "+this._start.week;break;case"month":p=null!=this._end?"every week from "+B.IRL_MONTHS[this._start.month-1]+" to "+B.IRL_MONTHS[this._end.month-1]:"every week in "+B.IRL_MONTHS[this._start.month-1];break;case"holiday":if("SH"==this._start.holiday)p="every week during school holidays";else if("PH"==this._start.holiday)p="every public holidays";else{if("easter"!=this._start.holiday)throw new Error("Invalid holiday type: "+this._start.holiday);p="each easter day"}break;case"always":p="every week of year";break;default:p="invalid time"}return p}getTimeSelector(){let p;switch(this._type){case"day":p=B.OSM_MONTHS[this._start.month-1]+" "+(this._start.day<10?"0":"")+this._start.day,null!=this._end&&(p+=this._start.month==this._end.month?"-"+(this._end.day<10?"0":"")+this._end.day:"-"+B.OSM_MONTHS[this._end.month-1]+" "+(this._end.day<10?"0":"")+this._end.day);break;case"week":p="week "+(this._start.week<10?"0":"")+this._start.week,null!=this._end&&(p+="-"+(this._end.week<10?"0":"")+this._end.week);break;case"month":p=B.OSM_MONTHS[this._start.month-1],null!=this._end&&(p+="-"+B.OSM_MONTHS[this._end.month-1]);break;case"holiday":p=this._start.holiday;break;default:p=""}return p}isFullMonth(){return"month"==this._type&&null==this._end||"day"==this._type&&1==this._start.day&&null!=this._end&&this._end.month==this._start.month&&null!=this._end.day&&this._end.day==B.MONTH_END_DAY[this._end.month-1]}startsMonth(){return"month"==this._type||"always"==this._type||"day"==this._type&&1==this._start.day}endsMonth(){return"month"==this._type||"always"==this._type||"day"==this._type&&null!=this._end&&this._end.day==B.MONTH_END_DAY[this._end.month-1]}contains(p){let O=!1;return this.equals(p)?O=!1:"always"==this._type?O=!0:"day"==this._type?"day"==p._type?(p._start.month>this._start.month||p._start.month==this._start.month&&p._start.day>=this._start.day)&&(null!=p._end?null!=this._end&&(p._end.month<this._end.month||p._end.month==this._end.month&&p._end.day<=this._end.day)&&(O=!0):null!=this._end&&(p._start.month<this._end.month||p._start.month==this._end.month&&p._start.day<=this._end.day)&&(O=!0)):"month"==p._type&&(p._start.month>this._start.month||p._start.month==this._start.month&&1==this._start.day)&&(null!=p._end&&null!=this._end&&(p._end.month<this._end.month||p._end.month==this._end.month&&this._end.day==B.MONTH_END_DAY[end.month-1])||null==p._end&&null!=this._end&&p._start.month<this._end.month)&&(O=!0):"week"==this._type?"week"==p._type&&p._start.week>=this._start.week&&(null!=p._end&&null!=this._end&&p._end.week<=this._end.week||null==p._end&&(null!=this._end&&p._start.week<=this._end.week||p._start.week==this._start.week))&&(O=!0):"month"==this._type&&("month"==p._type?p._start.month>=this._start.month&&(null!=p._end&&null!=this._end&&p._end.month<=this._end.month||null==p._end&&(null!=this._end&&p._start.month<=this._end.month||p._start.month==this._start.month))&&(O=!0):"day"==p._type&&(null!=p._end?null==this._end?p._start.month==this._start.month&&p._end.month==this._start.month&&(p._start.day>=1&&p._end.day<B.MONTH_END_DAY[p._start.month-1]||p._start.day>1&&p._end.day<=B.MONTH_END_DAY[p._start.month-1])&&(O=!0):p._start.month>=this._start.month&&p._end.month<=this._end.month&&(p._start.month>this._start.month&&p._end.month<this._end.month||p._start.month==this._start.month&&p._end.month<this._end.month&&p._start.day>1||p._start.month>this._start.month&&p._end.month==this._end.month&&p._end.day<B.MONTH_END_DAY[p._end.month-1]||p._start.day>=1&&p._end.day<B.MONTH_END_DAY[p._end.month-1]||p._start.day>1&&p._end.day<=B.MONTH_END_DAY[p._end.month-1])&&(O=!0):null==this._end?this._start.month==p._start.month&&(O=!0):p._start.month>=this._start.month&&p._start.month<=this._end.month&&(O=!0))),O}}pt.exports=E},863:(pt,Ze,X)=>{var B={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[8126,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,7225,433],"./ion-datetime_3.entry.js":[7059,7225,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input-password-toggle.entry.js":[1449,8592,1449],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[8382,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-option.entry.js":[5909,5909],"./ion-picker-column.entry.js":[7274,8592,7274],"./ion-picker.entry.js":[9134,9134],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function E(z){if(!X.o(B,z))return Promise.resolve().then(()=>{var R=new Error("Cannot find module '"+z+"'");throw R.code="MODULE_NOT_FOUND",R});var p=B[z],O=p[0];return Promise.all(p.slice(1).map(X.e)).then(()=>X(O))}E.keys=()=>Object.keys(B),E.id=863,pt.exports=E},6700:(pt,Ze,X)=>{var B={"./af":3274,"./af.js":3274,"./ar":2097,"./ar-dz":1867,"./ar-dz.js":1867,"./ar-kw":7078,"./ar-kw.js":7078,"./ar-ly":7776,"./ar-ly.js":7776,"./ar-ma":6789,"./ar-ma.js":6789,"./ar-ps":3807,"./ar-ps.js":3807,"./ar-sa":6897,"./ar-sa.js":6897,"./ar-tn":1585,"./ar-tn.js":1585,"./ar.js":2097,"./az":5611,"./az.js":5611,"./be":2459,"./be.js":2459,"./bg":1825,"./bg.js":1825,"./bm":5918,"./bm.js":5918,"./bn":4065,"./bn-bd":9683,"./bn-bd.js":9683,"./bn.js":4065,"./bo":1034,"./bo.js":1034,"./br":7671,"./br.js":7671,"./bs":8153,"./bs.js":8153,"./ca":4287,"./ca.js":4287,"./cs":2616,"./cs.js":2616,"./cv":7049,"./cv.js":7049,"./cy":9172,"./cy.js":9172,"./da":605,"./da.js":605,"./de":4013,"./de-at":3395,"./de-at.js":3395,"./de-ch":9835,"./de-ch.js":9835,"./de.js":4013,"./dv":4570,"./dv.js":4570,"./el":1859,"./el.js":1859,"./en-au":5785,"./en-au.js":5785,"./en-ca":3792,"./en-ca.js":3792,"./en-gb":7651,"./en-gb.js":7651,"./en-ie":1929,"./en-ie.js":1929,"./en-il":9818,"./en-il.js":9818,"./en-in":6612,"./en-in.js":6612,"./en-nz":4900,"./en-nz.js":4900,"./en-sg":2721,"./en-sg.js":2721,"./eo":5159,"./eo.js":5159,"./es":1954,"./es-do":1780,"./es-do.js":1780,"./es-mx":3468,"./es-mx.js":3468,"./es-us":4938,"./es-us.js":4938,"./es.js":1954,"./et":1453,"./et.js":1453,"./eu":4697,"./eu.js":4697,"./fa":2900,"./fa.js":2900,"./fi":9775,"./fi.js":9775,"./fil":4282,"./fil.js":4282,"./fo":4236,"./fo.js":4236,"./fr":9361,"./fr-ca":2830,"./fr-ca.js":2830,"./fr-ch":1412,"./fr-ch.js":1412,"./fr.js":9361,"./fy":6984,"./fy.js":6984,"./ga":2681,"./ga.js":2681,"./gd":8849,"./gd.js":8849,"./gl":4273,"./gl.js":4273,"./gom-deva":623,"./gom-deva.js":623,"./gom-latn":2696,"./gom-latn.js":2696,"./gu":6928,"./gu.js":6928,"./he":4804,"./he.js":4804,"./hi":3015,"./hi.js":3015,"./hr":7134,"./hr.js":7134,"./hu":670,"./hu.js":670,"./hy-am":4523,"./hy-am.js":4523,"./id":9233,"./id.js":9233,"./is":4693,"./is.js":4693,"./it":3936,"./it-ch":8118,"./it-ch.js":8118,"./it.js":3936,"./ja":6871,"./ja.js":6871,"./jv":8710,"./jv.js":8710,"./ka":7125,"./ka.js":7125,"./kk":2461,"./kk.js":2461,"./km":7399,"./km.js":7399,"./kn":8720,"./kn.js":8720,"./ko":5306,"./ko.js":5306,"./ku":2995,"./ku-kmr":4852,"./ku-kmr.js":4852,"./ku.js":2995,"./ky":8779,"./ky.js":8779,"./lb":2057,"./lb.js":2057,"./lo":7192,"./lo.js":7192,"./lt":5430,"./lt.js":5430,"./lv":3363,"./lv.js":3363,"./me":2939,"./me.js":2939,"./mi":8212,"./mi.js":8212,"./mk":9718,"./mk.js":9718,"./ml":561,"./ml.js":561,"./mn":8929,"./mn.js":8929,"./mr":4880,"./mr.js":4880,"./ms":3193,"./ms-my":2074,"./ms-my.js":2074,"./ms.js":3193,"./mt":4082,"./mt.js":4082,"./my":2261,"./my.js":2261,"./nb":5273,"./nb.js":5273,"./ne":9874,"./ne.js":9874,"./nl":1667,"./nl-be":1484,"./nl-be.js":1484,"./nl.js":1667,"./nn":7262,"./nn.js":7262,"./oc-lnc":9679,"./oc-lnc.js":9679,"./pa-in":6830,"./pa-in.js":6830,"./pl":3616,"./pl.js":3616,"./pt":5138,"./pt-br":2751,"./pt-br.js":2751,"./pt.js":5138,"./ro":7968,"./ro.js":7968,"./ru":1828,"./ru.js":1828,"./sd":2188,"./sd.js":2188,"./se":6562,"./se.js":6562,"./si":7172,"./si.js":7172,"./sk":9966,"./sk.js":9966,"./sl":7520,"./sl.js":7520,"./sq":5291,"./sq.js":5291,"./sr":450,"./sr-cyrl":7603,"./sr-cyrl.js":7603,"./sr.js":450,"./ss":383,"./ss.js":383,"./sv":7221,"./sv.js":7221,"./sw":1743,"./sw.js":1743,"./ta":6351,"./ta.js":6351,"./te":2645,"./te.js":2645,"./tet":6278,"./tet.js":6278,"./tg":6987,"./tg.js":6987,"./th":9325,"./th.js":9325,"./tk":3485,"./tk.js":3485,"./tl-ph":8148,"./tl-ph.js":8148,"./tlh":9616,"./tlh.js":9616,"./tr":4040,"./tr.js":4040,"./tzl":594,"./tzl.js":594,"./tzm":673,"./tzm-latn":3226,"./tzm-latn.js":3226,"./tzm.js":673,"./ug-cn":9580,"./ug-cn.js":9580,"./uk":7270,"./uk.js":7270,"./ur":1656,"./ur.js":1656,"./uz":8364,"./uz-latn":8744,"./uz-latn.js":8744,"./uz.js":8364,"./vi":5049,"./vi.js":5049,"./x-pseudo":5106,"./x-pseudo.js":5106,"./yo":6199,"./yo.js":6199,"./zh-cn":7280,"./zh-cn.js":7280,"./zh-hk":6860,"./zh-hk.js":6860,"./zh-mo":2335,"./zh-mo.js":2335,"./zh-tw":482,"./zh-tw.js":482};function E(p){var O=z(p);return X(O)}function z(p){if(!X.o(B,p)){var O=new Error("Cannot find module '"+p+"'");throw O.code="MODULE_NOT_FOUND",O}return B[p]}E.keys=function(){return Object.keys(B)},E.resolve=z,pt.exports=E,E.id=6700},5624:function(pt){pt.exports=function(){"use strict";var Ze,X,B;function E(p,O){if(Ze)if(X){var R="var sharedChunk = {}; ("+Ze+")(sharedChunk); ("+X+")(sharedChunk);",H={};Ze(H),B=O(H),typeof window<"u"&&(B.workerUrl=window.URL.createObjectURL(new Blob([R],{type:"text/javascript"})))}else X=O;else Ze=O}return E(0,function(p){function O(d,u,f,v){return new(f||(f=Promise))(function(T,P){function N(ue){try{Z(v.next(ue))}catch(Le){P(Le)}}function V(ue){try{Z(v.throw(ue))}catch(Le){P(Le)}}function Z(ue){var Le;ue.done?T(ue.value):(Le=ue.value,Le instanceof f?Le:new f(function(Ye){Ye(Le)})).then(N,V)}Z((v=v.apply(d,u||[])).next())})}function R(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}"function"==typeof SuppressedError&&SuppressedError;var H=G;function G(d,u){this.x=d,this.y=u}G.prototype={clone:function(){return new G(this.x,this.y)},add:function(d){return this.clone()._add(d)},sub:function(d){return this.clone()._sub(d)},multByPoint:function(d){return this.clone()._multByPoint(d)},divByPoint:function(d){return this.clone()._divByPoint(d)},mult:function(d){return this.clone()._mult(d)},div:function(d){return this.clone()._div(d)},rotate:function(d){return this.clone()._rotate(d)},rotateAround:function(d,u){return this.clone()._rotateAround(d,u)},matMult:function(d){return this.clone()._matMult(d)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(d){return this.x===d.x&&this.y===d.y},dist:function(d){return Math.sqrt(this.distSqr(d))},distSqr:function(d){var u=d.x-this.x,f=d.y-this.y;return u*u+f*f},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(d){return Math.atan2(this.y-d.y,this.x-d.x)},angleWith:function(d){return this.angleWithSep(d.x,d.y)},angleWithSep:function(d,u){return Math.atan2(this.x*u-this.y*d,this.x*d+this.y*u)},_matMult:function(d){var u=d[2]*this.x+d[3]*this.y;return this.x=d[0]*this.x+d[1]*this.y,this.y=u,this},_add:function(d){return this.x+=d.x,this.y+=d.y,this},_sub:function(d){return this.x-=d.x,this.y-=d.y,this},_mult:function(d){return this.x*=d,this.y*=d,this},_div:function(d){return this.x/=d,this.y/=d,this},_multByPoint:function(d){return this.x*=d.x,this.y*=d.y,this},_divByPoint:function(d){return this.x/=d.x,this.y/=d.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var d=this.y;return this.y=this.x,this.x=-d,this},_rotate:function(d){var u=Math.cos(d),f=Math.sin(d),v=f*this.x+u*this.y;return this.x=u*this.x-f*this.y,this.y=v,this},_rotateAround:function(d,u){var f=Math.cos(d),v=Math.sin(d),T=u.y+v*(this.x-u.x)+f*(this.y-u.y);return this.x=u.x+f*(this.x-u.x)-v*(this.y-u.y),this.y=T,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},G.convert=function(d){return d instanceof G?d:Array.isArray(d)?new G(d[0],d[1]):d};var ie=R(H),Ee=he;function he(d,u,f,v){this.cx=3*d,this.bx=3*(f-d)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(v-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=d,this.p1y=u,this.p2x=f,this.p2y=v}he.prototype={sampleCurveX:function(d){return((this.ax*d+this.bx)*d+this.cx)*d},sampleCurveY:function(d){return((this.ay*d+this.by)*d+this.cy)*d},sampleCurveDerivativeX:function(d){return(3*this.ax*d+2*this.bx)*d+this.cx},solveCurveX:function(d,u){if(void 0===u&&(u=1e-6),d<0)return 0;if(d>1)return 1;for(var f=d,v=0;v<8;v++){var T=this.sampleCurveX(f)-d;if(Math.abs(T)<u)return f;var P=this.sampleCurveDerivativeX(f);if(Math.abs(P)<1e-6)break;f-=T/P}var N=0,V=1;for(f=d,v=0;v<20&&(T=this.sampleCurveX(f),!(Math.abs(T-d)<u));v++)d>T?N=f:V=f,f=.5*(V-N)+N;return f},solve:function(d,u){return this.sampleCurveY(this.solveCurveX(d,u))}};var Pe=R(Ee);let Ie,it;function pe(){return null==Ie&&(Ie=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),Ie}function ve(){if(null==it&&(it=!1,pe())){const u=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(u){for(let v=0;v<25;v++){const T=4*v;u.fillStyle=`rgb(${T},${T+1},${T+2})`,u.fillRect(v%5,Math.floor(v/5),1,1)}const f=u.getImageData(0,0,5,5).data;for(let v=0;v<100;v++)if(v%4!=3&&f[v]!==v){it=!0;break}}}return it||!1}function de(d,u,f,v){const T=new Pe(d,u,f,v);return function(P){return T.solve(P)}}const J=de(.25,.1,.25,1);function te(d,u,f){return Math.min(f,Math.max(u,d))}function be(d,u,f){const v=f-u,T=((d-u)%v+v)%v+u;return T===u?f:T}function ee(d,...u){for(const f of u)for(const v in f)d[v]=f[v];return d}let ae=1;function ne(d,u,f){const v={};for(const T in d)v[T]=u.call(f||this,d[T],T,d);return v}function se(d,u,f){const v={};for(const T in d)u.call(f||this,d[T],T,d)&&(v[T]=d[T]);return v}function st(d){return Array.isArray(d)?d.map(st):"object"==typeof d&&d?ne(d,st):d}const $e={};function rt(d){$e[d]||(typeof console<"u"&&console.warn(d),$e[d]=!0)}function Te(d,u,f){return(f.y-d.y)*(u.x-d.x)>(u.y-d.y)*(f.x-d.x)}function ht(d){let u=0;for(let f,v,T=0,P=d.length,N=P-1;T<P;N=T++)f=d[T],v=d[N],u+=(v.x-f.x)*(f.y+v.y);return u}function tt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let He=null;function _t(d){return typeof ImageBitmap<"u"&&d instanceof ImageBitmap}const et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Xe(d,u,f,v,T){return O(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const P=new VideoFrame(d,{timestamp:0});try{const N=P?.format;if(!N||!N.startsWith("BGR")&&!N.startsWith("RGB"))throw new Error(`Unrecognized format ${N}`);const V=N.startsWith("BGR"),Z=new Uint8ClampedArray(v*T*4);if(yield P.copyTo(Z,function(ue,Le,Ye,Qe,ft){const vt=4*Math.max(-Le,0),Rt=(Math.max(0,Ye)-Ye)*Qe*4+vt,Vt=4*Qe,Zt=Math.max(0,Le),Sn=Math.max(0,Ye);return{rect:{x:Zt,y:Sn,width:Math.min(ue.width,Le+Qe)-Zt,height:Math.min(ue.height,Ye+ft)-Sn},layout:[{offset:Rt,stride:Vt}]}}(d,u,f,v,T)),V)for(let ue=0;ue<Z.length;ue+=4){const Le=Z[ue];Z[ue]=Z[ue+2],Z[ue+2]=Le}return Z}finally{P.close()}})}let De,le,ze,Ve;const Yt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(d){const u=requestAnimationFrame(d);return{cancel:()=>cancelAnimationFrame(u)}},getImageData(d,u=0){return this.getImageCanvasContext(d).getImageData(-u,-u,d.width+2*u,d.height+2*u)},getImageCanvasContext(d){const u=window.document.createElement("canvas"),f=u.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return u.width=d.width,u.height=d.height,f.drawImage(d,0,0,d.width,d.height),f},resolveURL:d=>(ze||(ze=document.createElement("a")),ze.href=d,ze.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==Ve&&(Ve=matchMedia("(prefers-reduced-motion: reduce)")),Ve.matches)}},Ct={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class bn extends Error{constructor(u,f,v,T){super(`AJAXError: ${f} (${u}): ${v}`),this.status=u,this.statusText=f,this.url=v,this.body=T}}const fn=tt()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,kn=d=>Ct.REGISTERED_PROTOCOLS[d.substring(0,d.indexOf("://"))];function un(d,u){const f=new AbortController,v=new Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,cache:d.cache,referrer:fn(),signal:f.signal});let T=!1,P=!1;return"json"===d.type&&v.headers.set("Accept","application/json"),P||fetch(v).then(N=>{return N.ok?(V=N,void("arrayBuffer"===d.type||"image"===d.type?V.arrayBuffer():"json"===d.type?V.json():V.text()).then(Z=>{P||(T=!0,u(null,Z,V.headers.get("Cache-Control"),V.headers.get("Expires")))}).catch(Z=>{P||u(new Error(Z.message))})):N.blob().then(V=>u(new bn(N.status,N.statusText,d.url,V)));var V}).catch(N=>{20!==N.code&&u(new Error(N.message))}),{cancel:()=>{P=!0,T||f.abort()}}}const Xn=function(d,u){if(/:\/\//.test(d.url)&&!/^https?:|^file:/.test(d.url)){if(tt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",d,u);if(!tt())return(kn(d.url)||un)(d,u)}if(!(/^file:/.test(f=d.url)||/^file:/.test(fn())&&!/^\w+:/.test(f))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return un(d,u);if(tt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",d,u,void 0,!0)}var f;return function(v,T){const P=new XMLHttpRequest;P.open(v.method||"GET",v.url,!0),"arrayBuffer"!==v.type&&"image"!==v.type||(P.responseType="arraybuffer");for(const N in v.headers)P.setRequestHeader(N,v.headers[N]);return"json"===v.type&&(P.responseType="text",P.setRequestHeader("Accept","application/json")),P.withCredentials="include"===v.credentials,P.onerror=()=>{T(new Error(P.statusText))},P.onload=()=>{if((P.status>=200&&P.status<300||0===P.status)&&null!==P.response){let N=P.response;if("json"===v.type)try{N=JSON.parse(P.response)}catch(V){return T(V)}T(null,N,P.getResponseHeader("Cache-Control"),P.getResponseHeader("Expires"))}else{const N=new Blob([P.response],{type:P.getResponseHeader("Content-Type")});T(new bn(P.status,P.statusText,v.url,N))}},P.send(v.body),{cancel:()=>P.abort()}}(d,u)},Rn=function(d,u){return Xn(ee(d,{type:"arrayBuffer"}),u)};function dr(d){if(!d||d.indexOf("://")<=0||0===d.indexOf("data:image/")||0===d.indexOf("blob:"))return!0;const u=new URL(d),f=window.location;return u.protocol===f.protocol&&u.host===f.host}function Xr(d,u,f){f[d]&&-1!==f[d].indexOf(u)||(f[d]=f[d]||[],f[d].push(u))}function Ln(d,u,f){if(f&&f[d]){const v=f[d].indexOf(u);-1!==v&&f[d].splice(v,1)}}class ir{constructor(u,f={}){ee(this,f),this.type=u}}class xr extends ir{constructor(u,f={}){super("error",ee({error:u},f))}}class $r{on(u,f){return this._listeners=this._listeners||{},Xr(u,f,this._listeners),this}off(u,f){return Ln(u,f,this._listeners),Ln(u,f,this._oneTimeListeners),this}once(u,f){return f?(this._oneTimeListeners=this._oneTimeListeners||{},Xr(u,f,this._oneTimeListeners),this):new Promise(v=>this.once(u,v))}fire(u,f){"string"==typeof u&&(u=new ir(u,f||{}));const v=u.type;if(this.listens(v)){u.target=this;const T=this._listeners&&this._listeners[v]?this._listeners[v].slice():[];for(const V of T)V.call(this,u);const P=this._oneTimeListeners&&this._oneTimeListeners[v]?this._oneTimeListeners[v].slice():[];for(const V of P)Ln(v,V,this._oneTimeListeners),V.call(this,u);const N=this._eventedParent;N&&(ee(u,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),N.fire(u))}else u instanceof xr&&console.error(u.error);return this}listens(u){return this._listeners&&this._listeners[u]&&this._listeners[u].length>0||this._oneTimeListeners&&this._oneTimeListeners[u]&&this._oneTimeListeners[u].length>0||this._eventedParent&&this._eventedParent.listens(u)}setEventedParent(u,f){return this._eventedParent=u,this._eventedParentData=f,this}}var en={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Wn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function qt(d,u){const f={};for(const v in d)"ref"!==v&&(f[v]=d[v]);return Wn.forEach(v=>{v in u&&(f[v]=u[v])}),f}function rn(d,u){if(Array.isArray(d)){if(!Array.isArray(u)||d.length!==u.length)return!1;for(let f=0;f<d.length;f++)if(!rn(d[f],u[f]))return!1;return!0}if("object"==typeof d&&null!==d&&null!==u){if("object"!=typeof u||Object.keys(d).length!==Object.keys(u).length)return!1;for(const f in d)if(!rn(d[f],u[f]))return!1;return!0}return d===u}const Fn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function zr(d,u,f){f.push({command:Fn.addSource,args:[d,u[d]]})}function Li(d,u,f){u.push({command:Fn.removeSource,args:[d]}),f[d]=!0}function ai(d,u,f,v){Li(d,f,v),zr(d,u,f)}function Zn(d,u,f){let v;for(v in d[f])if(Object.prototype.hasOwnProperty.call(d[f],v)&&"data"!==v&&!rn(d[f][v],u[f][v]))return!1;for(v in u[f])if(Object.prototype.hasOwnProperty.call(u[f],v)&&"data"!==v&&!rn(d[f][v],u[f][v]))return!1;return!0}function is(d,u,f,v,T,P){let N;for(N in u=u||{},d=d||{})Object.prototype.hasOwnProperty.call(d,N)&&(rn(d[N],u[N])||f.push({command:P,args:[v,N,u[N],T]}));for(N in u)Object.prototype.hasOwnProperty.call(u,N)&&!Object.prototype.hasOwnProperty.call(d,N)&&(rn(d[N],u[N])||f.push({command:P,args:[v,N,u[N],T]}))}function Qi(d){return d.id}function Nr(d,u){return d[u.id]=u,d}class Dn{constructor(u,f,v,T){this.message=(u?`${u}: `:"")+v,T&&(this.identifier=T),null!=f&&f.__line__&&(this.line=f.__line__)}}function nn(d,...u){for(const f of u)for(const v in f)d[v]=f[v];return d}class ke extends Error{constructor(u,f){super(f),this.message=f,this.key=u}}class Ge{constructor(u,f=[]){this.parent=u,this.bindings={};for(const[v,T]of f)this.bindings[v]=T}concat(u){return new Ge(this,u)}get(u){if(this.bindings[u])return this.bindings[u];if(this.parent)return this.parent.get(u);throw new Error(`${u} not found in scope.`)}has(u){return!!this.bindings[u]||!!this.parent&&this.parent.has(u)}}const xe={kind:"null"},Q={kind:"number"},oe={kind:"string"},We={kind:"boolean"},Mt={kind:"color"},St={kind:"object"},kt={kind:"value"},dn={kind:"collator"},me={kind:"formatted"},ce={kind:"padding"},Se={kind:"resolvedImage"},Me={kind:"variableAnchorOffsetCollection"};function Je(d,u){return{kind:"array",itemType:d,N:u}}function gt(d){if("array"===d.kind){const u=gt(d.itemType);return"number"==typeof d.N?`array<${u}, ${d.N}>`:"value"===d.itemType.kind?"array":`array<${u}>`}return d.kind}const Ft=[xe,Q,oe,We,Mt,me,St,Je(kt),ce,Se,Me];function Tt(d,u){if("error"===u.kind)return null;if("array"===d.kind){if("array"===u.kind&&(0===u.N&&"value"===u.itemType.kind||!Tt(d.itemType,u.itemType))&&("number"!=typeof d.N||d.N===u.N))return null}else{if(d.kind===u.kind)return null;if("value"===d.kind)for(const f of Ft)if(!Tt(f,u))return null}return`Expected ${gt(d)} but found ${gt(u)} instead.`}function xt(d,u){return u.some(f=>f.kind===d.kind)}function Bt(d,u){return u.some(f=>"null"===f?null===d:"array"===f?Array.isArray(d):"object"===f?d&&!Array.isArray(d)&&"object"==typeof d:f===typeof d)}function hn(d,u){return"array"===d.kind&&"array"===u.kind?d.itemType.kind===u.itemType.kind&&"number"==typeof d.N:d.kind===u.kind}const sr=4/29,fr=6/29,Gn=3*fr*fr,lr=fr*fr*fr,hr=Math.PI/180,Wr=180/Math.PI;function Ir(d){return(d%=360)<0&&(d+=360),d}function wi([d,u,f,v]){let T,P;const N=Js((.2225045*(d=li(d))+.7168786*(u=li(u))+.0606169*(f=li(f)))/1);d===u&&u===f?T=P=N:(T=Js((.4360747*d+.3850649*u+.1430804*f)/.96422),P=Js((.0139322*d+.0971045*u+.7141733*f)/.82521));const V=116*N-16;return[V<0?0:V,500*(T-N),200*(N-P),v]}function li(d){return d<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)}function Js(d){return d>lr?Math.pow(d,1/3):d/Gn+sr}function mi([d,u,f,v]){let T=(d+16)/116,P=isNaN(u)?T:T+u/500,N=isNaN(f)?T:T-f/200;return T=1*Yi(T),P=.96422*Yi(P),N=.82521*Yi(N),[Cs(3.1338561*P-1.6168667*T-.4906146*N),Cs(-.9787684*P+1.9161415*T+.033454*N),Cs(.0719453*P-.2289914*T+1.4052427*N),v]}function Cs(d){return(d=d<=.00304?12.92*d:1.055*Math.pow(d,1/2.4)-.055)<0?0:d>1?1:d}function Yi(d){return d>fr?d*d*d:Gn*(d-sr)}function Zi(d){return parseInt(d.padEnd(2,d),16)/255}function za(d,u){return no(u?d/100:d,0,1)}function no(d,u,f){return Math.min(Math.max(u,d),f)}function Oo(d){return!d.some(Number.isNaN)}const Ns={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Wi{constructor(u,f,v,T=1,P=!0){this.r=u,this.g=f,this.b=v,this.a=T,P||(this.r*=T,this.g*=T,this.b*=T,T||this.overwriteGetter("rgb",[u,f,v,T]))}static parse(u){if(u instanceof Wi)return u;if("string"!=typeof u)return;const f=function(v){if("transparent"===(v=v.toLowerCase().trim()))return[0,0,0,0];const T=Ns[v];if(T){const[N,V,Z]=T;return[N/255,V/255,Z/255,1]}if(v.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(v)){const N=v.length<6?1:2;let V=1;return[Zi(v.slice(V,V+=N)),Zi(v.slice(V,V+=N)),Zi(v.slice(V,V+=N)),Zi(v.slice(V,V+N)||"ff")]}if(v.startsWith("rgb")){const N=v.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(N){const[V,Z,ue,Le,Ye,Qe,ft,vt,Rt,Vt,Zt,Sn]=N,Jt=[Le||" ",ft||" ",Vt].join("");if("  "===Jt||"  /"===Jt||",,"===Jt||",,,"===Jt){const mn=[ue,Qe,Rt].join(""),Un="%%%"===mn?100:""===mn?255:0;if(Un){const ur=[no(+Z/Un,0,1),no(+Ye/Un,0,1),no(+vt/Un,0,1),Zt?za(+Zt,Sn):1];if(Oo(ur))return ur}}return}}const P=v.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(P){const[N,V,Z,ue,Le,Ye,Qe,ft,vt]=P,Rt=[Z||" ",Le||" ",Qe].join("");if("  "===Rt||"  /"===Rt||",,"===Rt||",,,"===Rt){const Vt=[+V,no(+ue,0,100),no(+Ye,0,100),ft?za(+ft,vt):1];if(Oo(Vt))return function([Zt,Sn,Jt,mn]){function Un(ur){const di=(ur+Zt/30)%12,Ri=Sn*Math.min(Jt,1-Jt);return Jt-Ri*Math.max(-1,Math.min(di-3,9-di,1))}return Zt=Ir(Zt),Sn/=100,Jt/=100,[Un(0),Un(8),Un(4),mn]}(Vt)}}}(u);return f?new Wi(...f,!1):void 0}get rgb(){const{r:u,g:f,b:v,a:T}=this,P=T||1/0;return this.overwriteGetter("rgb",[u/P,f/P,v/P,T])}get hcl(){return this.overwriteGetter("hcl",function(u){const[f,v,T,P]=wi(u),N=Math.sqrt(v*v+T*T);return[Math.round(1e4*N)?Ir(Math.atan2(T,v)*Wr):NaN,N,f,P]}(this.rgb))}get lab(){return this.overwriteGetter("lab",wi(this.rgb))}overwriteGetter(u,f){return Object.defineProperty(this,u,{value:f}),f}toString(){const[u,f,v,T]=this.rgb;return`rgba(${[u,f,v].map(P=>Math.round(255*P)).join(",")},${T})`}}Wi.black=new Wi(0,0,0,1),Wi.white=new Wi(1,1,1,1),Wi.transparent=new Wi(0,0,0,0),Wi.red=new Wi(1,0,0,1);class Xi{constructor(u,f,v){this.sensitivity=u?f?"variant":"case":f?"accent":"base",this.locale=v,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(u,f){return this.collator.compare(u,f)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class jn{constructor(u,f,v,T,P){this.text=u,this.image=f,this.scale=v,this.fontStack=T,this.textColor=P}}class vr{constructor(u){this.sections=u}static fromString(u){return new vr([new jn(u,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(u=>0!==u.text.length||u.image&&0!==u.image.name.length)}static factory(u){return u instanceof vr?u:vr.fromString(u)}toString(){return 0===this.sections.length?"":this.sections.map(u=>u.text).join("")}}class Qr{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof Qr)return u;if("number"==typeof u)return new Qr([u,u,u,u]);if(Array.isArray(u)&&!(u.length<1||u.length>4)){for(const f of u)if("number"!=typeof f)return;switch(u.length){case 1:u=[u[0],u[0],u[0],u[0]];break;case 2:u=[u[0],u[1],u[0],u[1]];break;case 3:u=[u[0],u[1],u[2],u[1]]}return new Qr(u)}}toString(){return JSON.stringify(this.values)}}const Xs=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class hs{constructor(u){this.values=u.slice()}static parse(u){if(u instanceof hs)return u;if(Array.isArray(u)&&!(u.length<1)&&u.length%2==0){for(let f=0;f<u.length;f+=2){const v=u[f],T=u[f+1];if("string"!=typeof v||!Xs.has(v)||!Array.isArray(T)||2!==T.length||"number"!=typeof T[0]||"number"!=typeof T[1])return}return new hs(u)}}toString(){return JSON.stringify(this.values)}}class ps{constructor(u){this.name=u.name,this.available=u.available}toString(){return this.name}static fromString(u){return u?new ps({name:u,available:!1}):null}}function Ds(d,u,f,v){return"number"==typeof d&&d>=0&&d<=255&&"number"==typeof u&&u>=0&&u<=255&&"number"==typeof f&&f>=0&&f<=255?void 0===v||"number"==typeof v&&v>=0&&v<=1?null:`Invalid rgba value [${[d,u,f,v].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof v?[d,u,f,v]:[d,u,f]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function kl(d){if(null===d||"string"==typeof d||"boolean"==typeof d||"number"==typeof d||d instanceof Wi||d instanceof Xi||d instanceof vr||d instanceof Qr||d instanceof hs||d instanceof ps)return!0;if(Array.isArray(d)){for(const u of d)if(!kl(u))return!1;return!0}if("object"==typeof d){for(const u in d)if(!kl(d[u]))return!1;return!0}return!1}function mt(d){if(null===d)return xe;if("string"==typeof d)return oe;if("boolean"==typeof d)return We;if("number"==typeof d)return Q;if(d instanceof Wi)return Mt;if(d instanceof Xi)return dn;if(d instanceof vr)return me;if(d instanceof Qr)return ce;if(d instanceof hs)return Me;if(d instanceof ps)return Se;if(Array.isArray(d)){const u=d.length;let f;for(const v of d){const T=mt(v);if(f){if(f===T)continue;f=kt;break}f=T}return Je(f||kt,u)}return St}function It(d){const u=typeof d;return null===d?"":"string"===u||"number"===u||"boolean"===u?String(d):d instanceof Wi||d instanceof vr||d instanceof Qr||d instanceof hs||d instanceof ps?d.toString():JSON.stringify(d)}class Ot{constructor(u,f){this.type=u,this.value=f}static parse(u,f){if(2!==u.length)return f.error(`'literal' expression requires exactly one argument, but found ${u.length-1} instead.`);if(!kl(u[1]))return f.error("invalid value");const v=u[1];let T=mt(v);const P=f.expectedType;return"array"!==T.kind||0!==T.N||!P||"array"!==P.kind||"number"==typeof P.N&&0!==P.N||(T=P),new Ot(T,v)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class $t{constructor(u){this.name="ExpressionEvaluationError",this.message=u}toJSON(){return this.message}}const Xt={string:oe,number:Q,boolean:We,object:St};class on{constructor(u,f){this.type=u,this.args=f}static parse(u,f){if(u.length<2)return f.error("Expected at least one argument.");let v,T=1;const P=u[0];if("array"===P){let V,Z;if(u.length>2){const ue=u[1];if("string"!=typeof ue||!(ue in Xt)||"object"===ue)return f.error('The item type argument of "array" must be one of string, number, boolean',1);V=Xt[ue],T++}else V=kt;if(u.length>3){if(null!==u[2]&&("number"!=typeof u[2]||u[2]<0||u[2]!==Math.floor(u[2])))return f.error('The length argument to "array" must be a positive integer literal',2);Z=u[2],T++}v=Je(V,Z)}else{if(!Xt[P])throw new Error(`Types doesn't contain name = ${P}`);v=Xt[P]}const N=[];for(;T<u.length;T++){const V=f.parse(u[T],T,kt);if(!V)return null;N.push(V)}return new on(v,N)}evaluate(u){for(let f=0;f<this.args.length;f++){const v=this.args[f].evaluate(u);if(!Tt(this.type,mt(v)))return v;if(f===this.args.length-1)throw new $t(`Expected value to be of type ${gt(this.type)}, but found ${gt(mt(v))} instead.`)}throw new Error}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const rr={"to-boolean":We,"to-color":Mt,"to-number":Q,"to-string":oe};class Cn{constructor(u,f){this.type=u,this.args=f}static parse(u,f){if(u.length<2)return f.error("Expected at least one argument.");const v=u[0];if(!rr[v])throw new Error(`Can't parse ${v} as it is not part of the known types`);if(("to-boolean"===v||"to-string"===v)&&2!==u.length)return f.error("Expected one argument.");const T=rr[v],P=[];for(let N=1;N<u.length;N++){const V=f.parse(u[N],N,kt);if(!V)return null;P.push(V)}return new Cn(T,P)}evaluate(u){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(u);case"color":{let f,v;for(const T of this.args){if(f=T.evaluate(u),v=null,f instanceof Wi)return f;if("string"==typeof f){const P=u.parseColor(f);if(P)return P}else if(Array.isArray(f)&&(v=f.length<3||f.length>4?`Invalid rbga value ${JSON.stringify(f)}: expected an array containing either three or four numeric values.`:Ds(f[0],f[1],f[2],f[3]),!v))return new Wi(f[0]/255,f[1]/255,f[2]/255,f[3])}throw new $t(v||`Could not parse color from value '${"string"==typeof f?f:JSON.stringify(f)}'`)}case"padding":{let f;for(const v of this.args){f=v.evaluate(u);const T=Qr.parse(f);if(T)return T}throw new $t(`Could not parse padding from value '${"string"==typeof f?f:JSON.stringify(f)}'`)}case"variableAnchorOffsetCollection":{let f;for(const v of this.args){f=v.evaluate(u);const T=hs.parse(f);if(T)return T}throw new $t(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof f?f:JSON.stringify(f)}'`)}case"number":{let f=null;for(const v of this.args){if(f=v.evaluate(u),null===f)return 0;const T=Number(f);if(!isNaN(T))return T}throw new $t(`Could not convert ${JSON.stringify(f)} to number.`)}case"formatted":return vr.fromString(It(this.args[0].evaluate(u)));case"resolvedImage":return ps.fromString(It(this.args[0].evaluate(u)));default:return It(this.args[0].evaluate(u))}}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}const wr=["Unknown","Point","LineString","Polygon"];class Lr{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?wr[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(u){let f=this._parseColorCache[u];return f||(f=this._parseColorCache[u]=Wi.parse(u)),f}}class ar{constructor(u,f,v=[],T,P=new Ge,N=[]){this.registry=u,this.path=v,this.key=v.map(V=>`[${V}]`).join(""),this.scope=P,this.errors=N,this.expectedType=T,this._isConstant=f}parse(u,f,v,T,P={}){return f?this.concat(f,v,T)._parse(u,P):this._parse(u,P)}_parse(u,f){function v(T,P,N){return"assert"===N?new on(P,[T]):"coerce"===N?new Cn(P,[T]):T}if(null!==u&&"string"!=typeof u&&"boolean"!=typeof u&&"number"!=typeof u||(u=["literal",u]),Array.isArray(u)){if(0===u.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const T=u[0];if("string"!=typeof T)return this.error(`Expression name must be a string, but found ${typeof T} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const P=this.registry[T];if(P){let N=P.parse(u,this);if(!N)return null;if(this.expectedType){const V=this.expectedType,Z=N.type;if("string"!==V.kind&&"number"!==V.kind&&"boolean"!==V.kind&&"object"!==V.kind&&"array"!==V.kind||"value"!==Z.kind)if("color"!==V.kind&&"formatted"!==V.kind&&"resolvedImage"!==V.kind||"value"!==Z.kind&&"string"!==Z.kind)if("padding"!==V.kind||"value"!==Z.kind&&"number"!==Z.kind&&"array"!==Z.kind)if("variableAnchorOffsetCollection"!==V.kind||"value"!==Z.kind&&"array"!==Z.kind){if(this.checkSubtype(V,Z))return null}else N=v(N,V,f.typeAnnotation||"coerce");else N=v(N,V,f.typeAnnotation||"coerce");else N=v(N,V,f.typeAnnotation||"coerce");else N=v(N,V,f.typeAnnotation||"assert")}if(!(N instanceof Ot)&&"resolvedImage"!==N.type.kind&&this._isConstant(N)){const V=new Lr;try{N=new Ot(N.type,N.evaluate(V))}catch(Z){return this.error(Z.message),null}}return N}return this.error(`Unknown expression "${T}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===u?"'undefined' value invalid. Use null instead.":"object"==typeof u?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof u} instead.`)}concat(u,f,v){const T="number"==typeof u?this.path.concat(u):this.path,P=v?this.scope.concat(v):this.scope;return new ar(this.registry,this._isConstant,T,f||null,P,this.errors)}error(u,...f){const v=`${this.key}${f.map(T=>`[${T}]`).join("")}`;this.errors.push(new ke(v,u))}checkSubtype(u,f){const v=Tt(u,f);return v&&this.error(v),v}}class qr{constructor(u,f,v){this.type=dn,this.locale=v,this.caseSensitive=u,this.diacriticSensitive=f}static parse(u,f){if(2!==u.length)return f.error("Expected one argument.");const v=u[1];if("object"!=typeof v||Array.isArray(v))return f.error("Collator options argument must be an object.");const T=f.parse(void 0!==v["case-sensitive"]&&v["case-sensitive"],1,We);if(!T)return null;const P=f.parse(void 0!==v["diacritic-sensitive"]&&v["diacritic-sensitive"],1,We);if(!P)return null;let N=null;return v.locale&&(N=f.parse(v.locale,1,oe),!N)?null:new qr(T,P,N)}evaluate(u){return new Xi(this.caseSensitive.evaluate(u),this.diacriticSensitive.evaluate(u),this.locale?this.locale.evaluate(u):null)}eachChild(u){u(this.caseSensitive),u(this.diacriticSensitive),this.locale&&u(this.locale)}outputDefined(){return!1}}const ei=8192;function ss(d,u){d[0]=Math.min(d[0],u[0]),d[1]=Math.min(d[1],u[1]),d[2]=Math.max(d[2],u[0]),d[3]=Math.max(d[3],u[1])}function Ps(d,u){return!(d[0]<=u[0]||d[2]>=u[2]||d[1]<=u[1]||d[3]>=u[3])}function Re(d,u){const f=(180+d[0])/360,v=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d[1]*Math.PI/360)))/360,T=Math.pow(2,u.z);return[Math.round(f*T*ei),Math.round(v*T*ei)]}function ut(d,u,f){const v=d[0]-u[0],T=d[1]-u[1],P=d[0]-f[0],N=d[1]-f[1];return v*N-P*T==0&&v*P<=0&&T*N<=0}function Wt(d,u){let f=!1;for(let N=0,V=u.length;N<V;N++){const Z=u[N];for(let ue=0,Le=Z.length;ue<Le-1;ue++){if(ut(d,Z[ue],Z[ue+1]))return!1;(T=Z[ue])[1]>(v=d)[1]!=(P=Z[ue+1])[1]>v[1]&&v[0]<(P[0]-T[0])*(v[1]-T[1])/(P[1]-T[1])+T[0]&&(f=!f)}}var v,T,P;return f}function An(d,u){for(let f=0;f<u.length;f++)if(Wt(d,u[f]))return!0;return!1}function Mr(d,u,f,v){const T=v[0]-f[0],P=v[1]-f[1],N=(d[0]-f[0])*P-T*(d[1]-f[1]),V=(u[0]-f[0])*P-T*(u[1]-f[1]);return N>0&&V<0||N<0&&V>0}function Hr(d,u,f){for(const ue of f)for(let Le=0;Le<ue.length-1;++Le)if((V=[(N=ue[Le+1])[0]-(P=ue[Le])[0],N[1]-P[1]])[0]*(Z=[(T=u)[0]-(v=d)[0],T[1]-v[1]])[1]-V[1]*Z[0]!=0&&Mr(v,T,P,N)&&Mr(P,N,v,T))return!0;var v,T,P,N,V,Z;return!1}function gn(d,u){for(let f=0;f<d.length;++f)if(!Wt(d[f],u))return!1;for(let f=0;f<d.length-1;++f)if(Hr(d[f],d[f+1],u))return!1;return!0}function zi(d,u){for(let f=0;f<u.length;f++)if(gn(d,u[f]))return!0;return!1}function jr(d,u,f){const v=[];for(let T=0;T<d.length;T++){const P=[];for(let N=0;N<d[T].length;N++){const V=Re(d[T][N],f);ss(u,V),P.push(V)}v.push(P)}return v}function ns(d,u,f){const v=[];for(let T=0;T<d.length;T++){const P=jr(d[T],u,f);v.push(P)}return v}function Ml(d,u,f,v){if(d[0]<f[0]||d[0]>f[2]){const T=.5*v;let P=d[0]-f[0]>T?-v:f[0]-d[0]>T?v:0;0===P&&(P=d[0]-f[2]>T?-v:f[2]-d[0]>T?v:0),d[0]+=P}ss(u,d)}function Sl(d,u,f,v){const T=Math.pow(2,v.z)*ei,P=[v.x*ei,v.y*ei],N=[];for(const V of d)for(const Z of V){const ue=[Z.x+P[0],Z.y+P[1]];Ml(ue,u,f,T),N.push(ue)}return N}function Ac(d,u,f,v){const T=Math.pow(2,v.z)*ei,P=[v.x*ei,v.y*ei],N=[];for(const Z of d){const ue=[];for(const Le of Z){const Ye=[Le.x+P[0],Le.y+P[1]];ss(u,Ye),ue.push(Ye)}N.push(ue)}if(u[2]-u[0]<=T/2){(V=u)[0]=V[1]=1/0,V[2]=V[3]=-1/0;for(const Z of N)for(const ue of Z)Ml(ue,u,f,T)}var V;return N}class qa{constructor(u,f){this.type=We,this.geojson=u,this.geometries=f}static parse(u,f){if(2!==u.length)return f.error(`'within' expression requires exactly one argument, but found ${u.length-1} instead.`);if(kl(u[1])){const v=u[1];if("FeatureCollection"===v.type)for(let T=0;T<v.features.length;++T){const P=v.features[T].geometry.type;if("Polygon"===P||"MultiPolygon"===P)return new qa(v,v.features[T].geometry)}else if("Feature"===v.type){const T=v.geometry.type;if("Polygon"===T||"MultiPolygon"===T)return new qa(v,v.geometry)}else if("Polygon"===v.type||"MultiPolygon"===v.type)return new qa(v,v)}return f.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(u){if(null!=u.geometry()&&null!=u.canonicalID()){if("Point"===u.geometryType())return function(f,v){const T=[1/0,1/0,-1/0,-1/0],P=[1/0,1/0,-1/0,-1/0],N=f.canonicalID();if("Polygon"===v.type){const V=jr(v.coordinates,P,N),Z=Sl(f.geometry(),T,P,N);if(!Ps(T,P))return!1;for(const ue of Z)if(!Wt(ue,V))return!1}if("MultiPolygon"===v.type){const V=ns(v.coordinates,P,N),Z=Sl(f.geometry(),T,P,N);if(!Ps(T,P))return!1;for(const ue of Z)if(!An(ue,V))return!1}return!0}(u,this.geometries);if("LineString"===u.geometryType())return function(f,v){const T=[1/0,1/0,-1/0,-1/0],P=[1/0,1/0,-1/0,-1/0],N=f.canonicalID();if("Polygon"===v.type){const V=jr(v.coordinates,P,N),Z=Ac(f.geometry(),T,P,N);if(!Ps(T,P))return!1;for(const ue of Z)if(!gn(ue,V))return!1}if("MultiPolygon"===v.type){const V=ns(v.coordinates,P,N),Z=Ac(f.geometry(),T,P,N);if(!Ps(T,P))return!1;for(const ue of Z)if(!zi(ue,V))return!1}return!0}(u,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class us{constructor(u,f){this.type=f.type,this.name=u,this.boundExpression=f}static parse(u,f){if(2!==u.length||"string"!=typeof u[1])return f.error("'var' expression requires exactly one string literal argument.");const v=u[1];return f.scope.has(v)?new us(v,f.scope.get(v)):f.error(`Unknown variable "${v}". Make sure "${v}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(u){return this.boundExpression.evaluate(u)}eachChild(){}outputDefined(){return!1}}class _l{constructor(u,f,v,T){this.name=u,this.type=f,this._evaluate=v,this.args=T}evaluate(u){return this._evaluate(u,this.args)}eachChild(u){this.args.forEach(u)}outputDefined(){return!1}static parse(u,f){const v=u[0],T=_l.definitions[v];if(!T)return f.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0);const P=Array.isArray(T)?T[0]:T.type,N=Array.isArray(T)?[[T[1],T[2]]]:T.overloads,V=N.filter(([ue])=>!Array.isArray(ue)||ue.length===u.length-1);let Z=null;for(const[ue,Le]of V){Z=new ar(f.registry,Aa,f.path,null,f.scope);const Ye=[];let Qe=!1;for(let ft=1;ft<u.length;ft++){const vt=u[ft],Rt=Array.isArray(ue)?ue[ft-1]:ue.type,Vt=Z.parse(vt,1+Ye.length,Rt);if(!Vt){Qe=!0;break}Ye.push(Vt)}if(!Qe)if(Array.isArray(ue)&&ue.length!==Ye.length)Z.error(`Expected ${ue.length} arguments, but found ${Ye.length} instead.`);else{for(let ft=0;ft<Ye.length;ft++){const vt=Array.isArray(ue)?ue[ft]:ue.type,Rt=Ye[ft];Z.concat(ft+1).checkSubtype(vt,Rt.type)}if(0===Z.errors.length)return new _l(v,P,Le,Ye)}}if(1===V.length)f.errors.push(...Z.errors);else{const ue=(V.length?V:N).map(([Ye])=>{return Qe=Ye,Array.isArray(Qe)?`(${Qe.map(gt).join(", ")})`:`(${gt(Qe.type)}...)`;var Qe}).join(" | "),Le=[];for(let Ye=1;Ye<u.length;Ye++){const Qe=f.parse(u[Ye],1+Le.length);if(!Qe)return null;Le.push(gt(Qe.type))}f.error(`Expected arguments of type ${ue}, but found (${Le.join(", ")}) instead.`)}return null}static register(u,f){_l.definitions=f;for(const v in f)u[v]=_l}}function Aa(d){if(d instanceof us)return Aa(d.boundExpression);if(d instanceof _l&&"error"===d.name||d instanceof qr||d instanceof qa)return!1;const u=d instanceof Cn||d instanceof on;let f=!0;return d.eachChild(v=>{f=u?f&&Aa(v):f&&v instanceof Ot}),!!f&&ju(d)&&Ao(d,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function ju(d){if(d instanceof _l&&("get"===d.name&&1===d.args.length||"feature-state"===d.name||"has"===d.name&&1===d.args.length||"properties"===d.name||"geometry-type"===d.name||"id"===d.name||/^filter-/.test(d.name))||d instanceof qa)return!1;let u=!0;return d.eachChild(f=>{u&&!ju(f)&&(u=!1)}),u}function dl(d){if(d instanceof _l&&"feature-state"===d.name)return!1;let u=!0;return d.eachChild(f=>{u&&!dl(f)&&(u=!1)}),u}function Ao(d,u){if(d instanceof _l&&u.indexOf(d.name)>=0)return!1;let f=!0;return d.eachChild(v=>{f&&!Ao(v,u)&&(f=!1)}),f}function ja(d,u){const f=d.length-1;let v,T,P=0,N=f,V=0;for(;P<=N;)if(V=Math.floor((P+N)/2),v=d[V],T=d[V+1],v<=u){if(V===f||u<T)return V;P=V+1}else{if(!(v>u))throw new $t("Input is not a number.");N=V-1}return 0}class gu{constructor(u,f,v){this.type=u,this.input=f,this.labels=[],this.outputs=[];for(const[T,P]of v)this.labels.push(T),this.outputs.push(P)}static parse(u,f){if(u.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return f.error("Expected an even number of arguments.");const v=f.parse(u[1],1,Q);if(!v)return null;const T=[];let P=null;f.expectedType&&"value"!==f.expectedType.kind&&(P=f.expectedType);for(let N=1;N<u.length;N+=2){const V=1===N?-1/0:u[N],Z=u[N+1],ue=N,Le=N+1;if("number"!=typeof V)return f.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ue);if(T.length&&T[T.length-1][0]>=V)return f.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ue);const Ye=f.parse(Z,Le,P);if(!Ye)return null;P=P||Ye.type,T.push([V,Ye])}return new gu(P,v,T)}evaluate(u){const f=this.labels,v=this.outputs;if(1===f.length)return v[0].evaluate(u);const T=this.input.evaluate(u);if(T<=f[0])return v[0].evaluate(u);const P=f.length;return T>=f[P-1]?v[P-1].evaluate(u):v[ja(f,T)].evaluate(u)}eachChild(u){u(this.input);for(const f of this.outputs)u(f)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function os(d,u,f){return d+f*(u-d)}function Qs(d,u,f){return d.map((v,T)=>os(v,u[T],f))}const bs={number:os,color:function(d,u,f,v="rgb"){switch(v){case"rgb":{const[T,P,N,V]=Qs(d.rgb,u.rgb,f);return new Wi(T,P,N,V,!1)}case"hcl":{const[T,P,N,V]=d.hcl,[Z,ue,Le,Ye]=u.hcl;let Qe,ft;if(isNaN(T)||isNaN(Z))isNaN(T)?isNaN(Z)?Qe=NaN:(Qe=Z,1!==N&&0!==N||(ft=ue)):(Qe=T,1!==Le&&0!==Le||(ft=P));else{let Sn=Z-T;Z>T&&Sn>180?Sn-=360:Z<T&&T-Z>180&&(Sn+=360),Qe=T+f*Sn}const[vt,Rt,Vt,Zt]=function([Sn,Jt,mn,Un]){return Sn=isNaN(Sn)?0:Sn*hr,mi([mn,Math.cos(Sn)*Jt,Math.sin(Sn)*Jt,Un])}([Qe,ft??os(P,ue,f),os(N,Le,f),os(V,Ye,f)]);return new Wi(vt,Rt,Vt,Zt,!1)}case"lab":{const[T,P,N,V]=mi(Qs(d.lab,u.lab,f));return new Wi(T,P,N,V,!1)}}},array:Qs,padding:function(d,u,f){return new Qr(Qs(d.values,u.values,f))},variableAnchorOffsetCollection:function(d,u,f){const v=d.values,T=u.values;if(v.length!==T.length)throw new $t(`Cannot interpolate values of different length. from: ${d.toString()}, to: ${u.toString()}`);const P=[];for(let N=0;N<v.length;N+=2){if(v[N]!==T[N])throw new $t(`Cannot interpolate values containing mismatched anchors. from[${N}]: ${v[N]}, to[${N}]: ${T[N]}`);P.push(v[N]);const[V,Z]=v[N+1],[ue,Le]=T[N+1];P.push([os(V,ue,f),os(Z,Le,f)])}return new hs(P)}};class Be{constructor(u,f,v,T,P){this.type=u,this.operator=f,this.interpolation=v,this.input=T,this.labels=[],this.outputs=[];for(const[N,V]of P)this.labels.push(N),this.outputs.push(V)}static interpolationFactor(u,f,v,T){let P=0;if("exponential"===u.name)P=at(f,u.base,v,T);else if("linear"===u.name)P=at(f,1,v,T);else if("cubic-bezier"===u.name){const N=u.controlPoints;P=new Pe(N[0],N[1],N[2],N[3]).solve(at(f,1,v,T))}return P}static parse(u,f){let[v,T,P,...N]=u;if(!Array.isArray(T)||0===T.length)return f.error("Expected an interpolation type expression.",1);if("linear"===T[0])T={name:"linear"};else if("exponential"===T[0]){const ue=T[1];if("number"!=typeof ue)return f.error("Exponential interpolation requires a numeric base.",1,1);T={name:"exponential",base:ue}}else{if("cubic-bezier"!==T[0])return f.error(`Unknown interpolation type ${String(T[0])}`,1,0);{const ue=T.slice(1);if(4!==ue.length||ue.some(Le=>"number"!=typeof Le||Le<0||Le>1))return f.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);T={name:"cubic-bezier",controlPoints:ue}}}if(u.length-1<4)return f.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if((u.length-1)%2!=0)return f.error("Expected an even number of arguments.");if(P=f.parse(P,2,Q),!P)return null;const V=[];let Z=null;"interpolate-hcl"===v||"interpolate-lab"===v?Z=Mt:f.expectedType&&"value"!==f.expectedType.kind&&(Z=f.expectedType);for(let ue=0;ue<N.length;ue+=2){const Le=N[ue],Ye=N[ue+1],Qe=ue+3,ft=ue+4;if("number"!=typeof Le)return f.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Qe);if(V.length&&V[V.length-1][0]>=Le)return f.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Qe);const vt=f.parse(Ye,ft,Z);if(!vt)return null;Z=Z||vt.type,V.push([Le,vt])}return hn(Z,Q)||hn(Z,Mt)||hn(Z,ce)||hn(Z,Me)||hn(Z,Je(Q))?new Be(Z,v,T,P,V):f.error(`Type ${gt(Z)} is not interpolatable.`)}evaluate(u){const f=this.labels,v=this.outputs;if(1===f.length)return v[0].evaluate(u);const T=this.input.evaluate(u);if(T<=f[0])return v[0].evaluate(u);const P=f.length;if(T>=f[P-1])return v[P-1].evaluate(u);const N=ja(f,T),V=Be.interpolationFactor(this.interpolation,T,f[N],f[N+1]),Z=v[N].evaluate(u),ue=v[N+1].evaluate(u);switch(this.operator){case"interpolate":return bs[this.type.kind](Z,ue,V);case"interpolate-hcl":return bs.color(Z,ue,V,"hcl");case"interpolate-lab":return bs.color(Z,ue,V,"lab")}}eachChild(u){u(this.input);for(const f of this.outputs)u(f)}outputDefined(){return this.outputs.every(u=>u.outputDefined())}}function at(d,u,f,v){const T=v-f,P=d-f;return 0===T?0:1===u?P/T:(Math.pow(u,P)-1)/(Math.pow(u,T)-1)}class zt{constructor(u,f){this.type=u,this.args=f}static parse(u,f){if(u.length<2)return f.error("Expectected at least one argument.");let v=null;const T=f.expectedType;T&&"value"!==T.kind&&(v=T);const P=[];for(const V of u.slice(1)){const Z=f.parse(V,1+P.length,v,void 0,{typeAnnotation:"omit"});if(!Z)return null;v=v||Z.type,P.push(Z)}if(!v)throw new Error("No output type");const N=T&&P.some(V=>Tt(T,V.type));return new zt(N?kt:v,P)}evaluate(u){let f,v=null,T=0;for(const P of this.args)if(T++,v=P.evaluate(u),v&&v instanceof ps&&!v.available&&(f||(f=v.name),v=null,T===this.args.length&&(v=f)),null!==v)break;return v}eachChild(u){this.args.forEach(u)}outputDefined(){return this.args.every(u=>u.outputDefined())}}class At{constructor(u,f){this.type=f.type,this.bindings=[].concat(u),this.result=f}evaluate(u){return this.result.evaluate(u)}eachChild(u){for(const f of this.bindings)u(f[1]);u(this.result)}static parse(u,f){if(u.length<4)return f.error(`Expected at least 3 arguments, but found ${u.length-1} instead.`);const v=[];for(let P=1;P<u.length-1;P+=2){const N=u[P];if("string"!=typeof N)return f.error(`Expected string, but found ${typeof N} instead.`,P);if(/[^a-zA-Z0-9_]/.test(N))return f.error("Variable names must contain only alphanumeric characters or '_'.",P);const V=f.parse(u[P+1],P+1);if(!V)return null;v.push([N,V])}const T=f.parse(u[u.length-1],u.length-1,f.expectedType,v);return T?new At(v,T):null}outputDefined(){return this.result.outputDefined()}}class an{constructor(u,f,v){this.type=u,this.index=f,this.input=v}static parse(u,f){if(3!==u.length)return f.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const v=f.parse(u[1],1,Q),T=f.parse(u[2],2,Je(f.expectedType||kt));return v&&T?new an(T.type.itemType,v,T):null}evaluate(u){const f=this.index.evaluate(u),v=this.input.evaluate(u);if(f<0)throw new $t(`Array index out of bounds: ${f} < 0.`);if(f>=v.length)throw new $t(`Array index out of bounds: ${f} > ${v.length-1}.`);if(f!==Math.floor(f))throw new $t(`Array index must be an integer, but found ${f} instead.`);return v[f]}eachChild(u){u(this.index),u(this.input)}outputDefined(){return!1}}class ln{constructor(u,f){this.type=We,this.needle=u,this.haystack=f}static parse(u,f){if(3!==u.length)return f.error(`Expected 2 arguments, but found ${u.length-1} instead.`);const v=f.parse(u[1],1,kt),T=f.parse(u[2],2,kt);return v&&T?xt(v.type,[We,oe,Q,xe,kt])?new ln(v,T):f.error(`Expected first argument to be of type boolean, string, number or null, but found ${gt(v.type)} instead`):null}evaluate(u){const f=this.needle.evaluate(u),v=this.haystack.evaluate(u);if(!v)return!1;if(!Bt(f,["boolean","string","number","null"]))throw new $t(`Expected first argument to be of type boolean, string, number or null, but found ${gt(mt(f))} instead.`);if(!Bt(v,["string","array"]))throw new $t(`Expected second argument to be of type array or string, but found ${gt(mt(v))} instead.`);return v.indexOf(f)>=0}eachChild(u){u(this.needle),u(this.haystack)}outputDefined(){return!0}}class or{constructor(u,f,v){this.type=Q,this.needle=u,this.haystack=f,this.fromIndex=v}static parse(u,f){if(u.length<=2||u.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const v=f.parse(u[1],1,kt),T=f.parse(u[2],2,kt);if(!v||!T)return null;if(!xt(v.type,[We,oe,Q,xe,kt]))return f.error(`Expected first argument to be of type boolean, string, number or null, but found ${gt(v.type)} instead`);if(4===u.length){const P=f.parse(u[3],3,Q);return P?new or(v,T,P):null}return new or(v,T)}evaluate(u){const f=this.needle.evaluate(u),v=this.haystack.evaluate(u);if(!Bt(f,["boolean","string","number","null"]))throw new $t(`Expected first argument to be of type boolean, string, number or null, but found ${gt(mt(f))} instead.`);if(!Bt(v,["string","array"]))throw new $t(`Expected second argument to be of type array or string, but found ${gt(mt(v))} instead.`);if(this.fromIndex){const T=this.fromIndex.evaluate(u);return v.indexOf(f,T)}return v.indexOf(f)}eachChild(u){u(this.needle),u(this.haystack),this.fromIndex&&u(this.fromIndex)}outputDefined(){return!1}}class _n{constructor(u,f,v,T,P,N){this.inputType=u,this.type=f,this.input=v,this.cases=T,this.outputs=P,this.otherwise=N}static parse(u,f){if(u.length<5)return f.error(`Expected at least 4 arguments, but found only ${u.length-1}.`);if(u.length%2!=1)return f.error("Expected an even number of arguments.");let v,T;f.expectedType&&"value"!==f.expectedType.kind&&(T=f.expectedType);const P={},N=[];for(let ue=2;ue<u.length-1;ue+=2){let Le=u[ue];const Ye=u[ue+1];Array.isArray(Le)||(Le=[Le]);const Qe=f.concat(ue);if(0===Le.length)return Qe.error("Expected at least one branch label.");for(const vt of Le){if("number"!=typeof vt&&"string"!=typeof vt)return Qe.error("Branch labels must be numbers or strings.");if("number"==typeof vt&&Math.abs(vt)>Number.MAX_SAFE_INTEGER)return Qe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof vt&&Math.floor(vt)!==vt)return Qe.error("Numeric branch labels must be integer values.");if(v){if(Qe.checkSubtype(v,mt(vt)))return null}else v=mt(vt);if(void 0!==P[String(vt)])return Qe.error("Branch labels must be unique.");P[String(vt)]=N.length}const ft=f.parse(Ye,ue,T);if(!ft)return null;T=T||ft.type,N.push(ft)}const V=f.parse(u[1],1,kt);if(!V)return null;const Z=f.parse(u[u.length-1],u.length-1,T);return Z?"value"!==V.type.kind&&f.concat(1).checkSubtype(v,V.type)?null:new _n(v,T,V,P,N,Z):null}evaluate(u){const f=this.input.evaluate(u);return(mt(f)===this.inputType&&this.outputs[this.cases[f]]||this.otherwise).evaluate(u)}eachChild(u){u(this.input),this.outputs.forEach(u),u(this.otherwise)}outputDefined(){return this.outputs.every(u=>u.outputDefined())&&this.otherwise.outputDefined()}}class Jn{constructor(u,f,v){this.type=u,this.branches=f,this.otherwise=v}static parse(u,f){if(u.length<4)return f.error(`Expected at least 3 arguments, but found only ${u.length-1}.`);if(u.length%2!=0)return f.error("Expected an odd number of arguments.");let v;f.expectedType&&"value"!==f.expectedType.kind&&(v=f.expectedType);const T=[];for(let N=1;N<u.length-1;N+=2){const V=f.parse(u[N],N,We);if(!V)return null;const Z=f.parse(u[N+1],N+1,v);if(!Z)return null;T.push([V,Z]),v=v||Z.type}const P=f.parse(u[u.length-1],u.length-1,v);if(!P)return null;if(!v)throw new Error("Can't infer output type");return new Jn(v,T,P)}evaluate(u){for(const[f,v]of this.branches)if(f.evaluate(u))return v.evaluate(u);return this.otherwise.evaluate(u)}eachChild(u){for(const[f,v]of this.branches)u(f),u(v);u(this.otherwise)}outputDefined(){return this.branches.every(([u,f])=>f.outputDefined())&&this.otherwise.outputDefined()}}class nr{constructor(u,f,v,T){this.type=u,this.input=f,this.beginIndex=v,this.endIndex=T}static parse(u,f){if(u.length<=2||u.length>=5)return f.error(`Expected 3 or 4 arguments, but found ${u.length-1} instead.`);const v=f.parse(u[1],1,kt),T=f.parse(u[2],2,Q);if(!v||!T)return null;if(!xt(v.type,[Je(kt),oe,kt]))return f.error(`Expected first argument to be of type array or string, but found ${gt(v.type)} instead`);if(4===u.length){const P=f.parse(u[3],3,Q);return P?new nr(v.type,v,T,P):null}return new nr(v.type,v,T)}evaluate(u){const f=this.input.evaluate(u),v=this.beginIndex.evaluate(u);if(!Bt(f,["string","array"]))throw new $t(`Expected first argument to be of type array or string, but found ${gt(mt(f))} instead.`);if(this.endIndex){const T=this.endIndex.evaluate(u);return f.slice(v,T)}return f.slice(v)}eachChild(u){u(this.input),u(this.beginIndex),this.endIndex&&u(this.endIndex)}outputDefined(){return!1}}function br(d,u){return"=="===d||"!="===d?"boolean"===u.kind||"string"===u.kind||"number"===u.kind||"null"===u.kind||"value"===u.kind:"string"===u.kind||"number"===u.kind||"value"===u.kind}function Rr(d,u,f,v){return 0===v.compare(u,f)}function ri(d,u,f){const v="=="!==d&&"!="!==d;return class j6{constructor(P,N,V){this.type=We,this.lhs=P,this.rhs=N,this.collator=V,this.hasUntypedArgument="value"===P.type.kind||"value"===N.type.kind}static parse(P,N){if(3!==P.length&&4!==P.length)return N.error("Expected two or three arguments.");const V=P[0];let Z=N.parse(P[1],1,kt);if(!Z)return null;if(!br(V,Z.type))return N.concat(1).error(`"${V}" comparisons are not supported for type '${gt(Z.type)}'.`);let ue=N.parse(P[2],2,kt);if(!ue)return null;if(!br(V,ue.type))return N.concat(2).error(`"${V}" comparisons are not supported for type '${gt(ue.type)}'.`);if(Z.type.kind!==ue.type.kind&&"value"!==Z.type.kind&&"value"!==ue.type.kind)return N.error(`Cannot compare types '${gt(Z.type)}' and '${gt(ue.type)}'.`);v&&("value"===Z.type.kind&&"value"!==ue.type.kind?Z=new on(ue.type,[Z]):"value"!==Z.type.kind&&"value"===ue.type.kind&&(ue=new on(Z.type,[ue])));let Le=null;if(4===P.length){if("string"!==Z.type.kind&&"string"!==ue.type.kind&&"value"!==Z.type.kind&&"value"!==ue.type.kind)return N.error("Cannot use collator to compare non-string types.");if(Le=N.parse(P[3],3,dn),!Le)return null}return new j6(Z,ue,Le)}evaluate(P){const N=this.lhs.evaluate(P),V=this.rhs.evaluate(P);if(v&&this.hasUntypedArgument){const Z=mt(N),ue=mt(V);if(Z.kind!==ue.kind||"string"!==Z.kind&&"number"!==Z.kind)throw new $t(`Expected arguments for "${d}" to be (string, string) or (number, number), but found (${Z.kind}, ${ue.kind}) instead.`)}if(this.collator&&!v&&this.hasUntypedArgument){const Z=mt(N),ue=mt(V);if("string"!==Z.kind||"string"!==ue.kind)return u(P,N,V)}return this.collator?f(P,N,V,this.collator.evaluate(P)):u(P,N,V)}eachChild(P){P(this.lhs),P(this.rhs),this.collator&&P(this.collator)}outputDefined(){return!0}}}const ii=ri("==",function(d,u,f){return u===f},Rr),Vs=ri("!=",function(d,u,f){return u!==f},function(d,u,f,v){return!Rr(0,u,f,v)}),Eo=ri("<",function(d,u,f){return u<f},function(d,u,f,v){return v.compare(u,f)<0}),To=ri(">",function(d,u,f){return u>f},function(d,u,f,v){return v.compare(u,f)>0}),xs=ri("<=",function(d,u,f){return u<=f},function(d,u,f,v){return v.compare(u,f)<=0}),Ur=ri(">=",function(d,u,f){return u>=f},function(d,u,f,v){return v.compare(u,f)>=0});class Gi{constructor(u,f,v,T,P){this.type=oe,this.number=u,this.locale=f,this.currency=v,this.minFractionDigits=T,this.maxFractionDigits=P}static parse(u,f){if(3!==u.length)return f.error("Expected two arguments.");const v=f.parse(u[1],1,Q);if(!v)return null;const T=u[2];if("object"!=typeof T||Array.isArray(T))return f.error("NumberFormat options argument must be an object.");let P=null;if(T.locale&&(P=f.parse(T.locale,1,oe),!P))return null;let N=null;if(T.currency&&(N=f.parse(T.currency,1,oe),!N))return null;let V=null;if(T["min-fraction-digits"]&&(V=f.parse(T["min-fraction-digits"],1,Q),!V))return null;let Z=null;return T["max-fraction-digits"]&&(Z=f.parse(T["max-fraction-digits"],1,Q),!Z)?null:new Gi(v,P,N,V,Z)}evaluate(u){return new Intl.NumberFormat(this.locale?this.locale.evaluate(u):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(u):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(u):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(u):void 0}).format(this.number.evaluate(u))}eachChild(u){u(this.number),this.locale&&u(this.locale),this.currency&&u(this.currency),this.minFractionDigits&&u(this.minFractionDigits),this.maxFractionDigits&&u(this.maxFractionDigits)}outputDefined(){return!1}}class ya{constructor(u){this.type=me,this.sections=u}static parse(u,f){if(u.length<2)return f.error("Expected at least one argument.");const v=u[1];if(!Array.isArray(v)&&"object"==typeof v)return f.error("First argument must be an image or text section.");const T=[];let P=!1;for(let N=1;N<=u.length-1;++N){const V=u[N];if(P&&"object"==typeof V&&!Array.isArray(V)){P=!1;let Z=null;if(V["font-scale"]&&(Z=f.parse(V["font-scale"],1,Q),!Z))return null;let ue=null;if(V["text-font"]&&(ue=f.parse(V["text-font"],1,Je(oe)),!ue))return null;let Le=null;if(V["text-color"]&&(Le=f.parse(V["text-color"],1,Mt),!Le))return null;const Ye=T[T.length-1];Ye.scale=Z,Ye.font=ue,Ye.textColor=Le}else{const Z=f.parse(u[N],1,kt);if(!Z)return null;const ue=Z.type.kind;if("string"!==ue&&"value"!==ue&&"null"!==ue&&"resolvedImage"!==ue)return f.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");P=!0,T.push({content:Z,scale:null,font:null,textColor:null})}}return new ya(T)}evaluate(u){return new vr(this.sections.map(f=>{const v=f.content.evaluate(u);return mt(v)===Se?new jn("",v,null,null,null):new jn(It(v),null,f.scale?f.scale.evaluate(u):null,f.font?f.font.evaluate(u).join(","):null,f.textColor?f.textColor.evaluate(u):null)}))}eachChild(u){for(const f of this.sections)u(f.content),f.scale&&u(f.scale),f.font&&u(f.font),f.textColor&&u(f.textColor)}outputDefined(){return!1}}class No{constructor(u){this.type=Se,this.input=u}static parse(u,f){if(2!==u.length)return f.error("Expected two arguments.");const v=f.parse(u[1],1,oe);return v?new No(v):f.error("No image name provided.")}evaluate(u){const f=this.input.evaluate(u),v=ps.fromString(f);return v&&u.availableImages&&(v.available=u.availableImages.indexOf(f)>-1),v}eachChild(u){u(this.input)}outputDefined(){return!1}}class gs{constructor(u){this.type=Q,this.input=u}static parse(u,f){if(2!==u.length)return f.error(`Expected 1 argument, but found ${u.length-1} instead.`);const v=f.parse(u[1],1);return v?"array"!==v.type.kind&&"string"!==v.type.kind&&"value"!==v.type.kind?f.error(`Expected argument of type string or array, but found ${gt(v.type)} instead.`):new gs(v):null}evaluate(u){const f=this.input.evaluate(u);if("string"==typeof f||Array.isArray(f))return f.length;throw new $t(`Expected value to be of type string or array, but found ${gt(mt(f))} instead.`)}eachChild(u){u(this.input)}outputDefined(){return!1}}const $l={"==":ii,"!=":Vs,">":To,"<":Eo,">=":Ur,"<=":xs,array:on,at:an,boolean:on,case:Jn,coalesce:zt,collator:qr,format:ya,image:No,in:ln,"index-of":or,interpolate:Be,"interpolate-hcl":Be,"interpolate-lab":Be,length:gs,let:At,literal:Ot,match:_n,number:on,"number-format":Gi,object:on,slice:nr,step:gu,string:on,"to-boolean":Cn,"to-color":Cn,"to-number":Cn,"to-string":Cn,var:us,within:qa};function md(d,[u,f,v,T]){u=u.evaluate(d),f=f.evaluate(d),v=v.evaluate(d);const P=T?T.evaluate(d):1,N=Ds(u,f,v,P);if(N)throw new $t(N);return new Wi(u/255,f/255,v/255,P,!1)}function lo(d,u){return d in u}function _d(d,u){const f=u[d];return void 0===f?null:f}function _s(d){return{type:d}}function mr(d){return{result:"success",value:d}}function Ys(d){return{result:"error",value:d}}function mu(d){return"data-driven"===d["property-type"]||"cross-faded-data-driven"===d["property-type"]}function Ol(d){return!!d.expression&&d.expression.parameters.indexOf("zoom")>-1}function Pc(d){return!!d.expression&&d.expression.interpolated}function Ei(d){return d instanceof Number?"number":d instanceof String?"string":d instanceof Boolean?"boolean":Array.isArray(d)?"array":null===d?"null":typeof d}function Co(d){return"object"==typeof d&&null!==d&&!Array.isArray(d)}function da(d){return d}function zs(d,u){const f="color"===u.type,v=d.stops&&"object"==typeof d.stops[0][0],T=v||!(v||void 0!==d.property),P=d.type||(Pc(u)?"exponential":"interval");if(f||"padding"===u.type){const Le=f?Wi.parse:Qr.parse;(d=nn({},d)).stops&&(d.stops=d.stops.map(Ye=>[Ye[0],Le(Ye[1])])),d.default=Le(d.default?d.default:u.default)}if(d.colorSpace&&"rgb"!==(N=d.colorSpace)&&"hcl"!==N&&"lab"!==N)throw new Error(`Unknown color space: "${d.colorSpace}"`);var N;let V,Z,ue;if("exponential"===P)V=Xa;else if("interval"===P)V=ka;else if("categorical"===P){V=po,Z=Object.create(null);for(const Le of d.stops)Z[Le[0]]=Le[1];ue=typeof d.stops[0][0]}else{if("identity"!==P)throw new Error(`Unknown function type "${P}"`);V=Gs}if(v){const Le={},Ye=[];for(let vt=0;vt<d.stops.length;vt++){const Rt=d.stops[vt],Vt=Rt[0].zoom;void 0===Le[Vt]&&(Le[Vt]={zoom:Vt,type:d.type,property:d.property,default:d.default,stops:[]},Ye.push(Vt)),Le[Vt].stops.push([Rt[0].value,Rt[1]])}const Qe=[];for(const vt of Ye)Qe.push([Le[vt].zoom,zs(Le[vt],u)]);const ft={name:"linear"};return{kind:"composite",interpolationType:ft,interpolationFactor:Be.interpolationFactor.bind(void 0,ft),zoomStops:Qe.map(vt=>vt[0]),evaluate:({zoom:vt},Rt)=>Xa({stops:Qe,base:d.base},u,vt).evaluate(vt,Rt)}}if(T){const Le="exponential"===P?{name:"exponential",base:void 0!==d.base?d.base:1}:null;return{kind:"camera",interpolationType:Le,interpolationFactor:Be.interpolationFactor.bind(void 0,Le),zoomStops:d.stops.map(Ye=>Ye[0]),evaluate:({zoom:Ye})=>V(d,u,Ye,Z,ue)}}return{kind:"source",evaluate(Le,Ye){const Qe=Ye&&Ye.properties?Ye.properties[d.property]:void 0;return void 0===Qe?Pa(d.default,u.default):V(d,u,Qe,Z,ue)}}}function Pa(d,u,f){return void 0!==d?d:void 0!==u?u:void 0!==f?f:void 0}function po(d,u,f,v,T){return Pa(typeof f===T?v[f]:void 0,d.default,u.default)}function ka(d,u,f){if("number"!==Ei(f))return Pa(d.default,u.default);const v=d.stops.length;if(1===v||f<=d.stops[0][0])return d.stops[0][1];if(f>=d.stops[v-1][0])return d.stops[v-1][1];const T=ja(d.stops.map(P=>P[0]),f);return d.stops[T][1]}function Xa(d,u,f){const v=void 0!==d.base?d.base:1;if("number"!==Ei(f))return Pa(d.default,u.default);const T=d.stops.length;if(1===T||f<=d.stops[0][0])return d.stops[0][1];if(f>=d.stops[T-1][0])return d.stops[T-1][1];const P=ja(d.stops.map(Le=>Le[0]),f),N=function(Le,Ye,Qe,ft){const vt=ft-Qe,Rt=Le-Qe;return 0===vt?0:1===Ye?Rt/vt:(Math.pow(Ye,Rt)-1)/(Math.pow(Ye,vt)-1)}(f,v,d.stops[P][0],d.stops[P+1][0]),V=d.stops[P][1],Z=d.stops[P+1][1],ue=bs[u.type]||da;return"function"==typeof V.evaluate?{evaluate(...Le){const Ye=V.evaluate.apply(void 0,Le),Qe=Z.evaluate.apply(void 0,Le);if(void 0!==Ye&&void 0!==Qe)return ue(Ye,Qe,N,d.colorSpace)}}:ue(V,Z,N,d.colorSpace)}function Gs(d,u,f){switch(u.type){case"color":f=Wi.parse(f);break;case"formatted":f=vr.fromString(f.toString());break;case"resolvedImage":f=ps.fromString(f.toString());break;case"padding":f=Qr.parse(f);break;default:Ei(f)===u.type||"enum"===u.type&&u.values[f]||(f=void 0)}return Pa(f,d.default,u.default)}_l.register($l,{error:[{kind:"error"},[oe],(d,[u])=>{throw new $t(u.evaluate(d))}],typeof:[oe,[kt],(d,[u])=>gt(mt(u.evaluate(d)))],"to-rgba":[Je(Q,4),[Mt],(d,[u])=>{const[f,v,T,P]=u.evaluate(d).rgb;return[255*f,255*v,255*T,P]}],rgb:[Mt,[Q,Q,Q],md],rgba:[Mt,[Q,Q,Q,Q],md],has:{type:We,overloads:[[[oe],(d,[u])=>lo(u.evaluate(d),d.properties())],[[oe,St],(d,[u,f])=>lo(u.evaluate(d),f.evaluate(d))]]},get:{type:kt,overloads:[[[oe],(d,[u])=>_d(u.evaluate(d),d.properties())],[[oe,St],(d,[u,f])=>_d(u.evaluate(d),f.evaluate(d))]]},"feature-state":[kt,[oe],(d,[u])=>_d(u.evaluate(d),d.featureState||{})],properties:[St,[],d=>d.properties()],"geometry-type":[oe,[],d=>d.geometryType()],id:[kt,[],d=>d.id()],zoom:[Q,[],d=>d.globals.zoom],"heatmap-density":[Q,[],d=>d.globals.heatmapDensity||0],"line-progress":[Q,[],d=>d.globals.lineProgress||0],accumulated:[kt,[],d=>void 0===d.globals.accumulated?null:d.globals.accumulated],"+":[Q,_s(Q),(d,u)=>{let f=0;for(const v of u)f+=v.evaluate(d);return f}],"*":[Q,_s(Q),(d,u)=>{let f=1;for(const v of u)f*=v.evaluate(d);return f}],"-":{type:Q,overloads:[[[Q,Q],(d,[u,f])=>u.evaluate(d)-f.evaluate(d)],[[Q],(d,[u])=>-u.evaluate(d)]]},"/":[Q,[Q,Q],(d,[u,f])=>u.evaluate(d)/f.evaluate(d)],"%":[Q,[Q,Q],(d,[u,f])=>u.evaluate(d)%f.evaluate(d)],ln2:[Q,[],()=>Math.LN2],pi:[Q,[],()=>Math.PI],e:[Q,[],()=>Math.E],"^":[Q,[Q,Q],(d,[u,f])=>Math.pow(u.evaluate(d),f.evaluate(d))],sqrt:[Q,[Q],(d,[u])=>Math.sqrt(u.evaluate(d))],log10:[Q,[Q],(d,[u])=>Math.log(u.evaluate(d))/Math.LN10],ln:[Q,[Q],(d,[u])=>Math.log(u.evaluate(d))],log2:[Q,[Q],(d,[u])=>Math.log(u.evaluate(d))/Math.LN2],sin:[Q,[Q],(d,[u])=>Math.sin(u.evaluate(d))],cos:[Q,[Q],(d,[u])=>Math.cos(u.evaluate(d))],tan:[Q,[Q],(d,[u])=>Math.tan(u.evaluate(d))],asin:[Q,[Q],(d,[u])=>Math.asin(u.evaluate(d))],acos:[Q,[Q],(d,[u])=>Math.acos(u.evaluate(d))],atan:[Q,[Q],(d,[u])=>Math.atan(u.evaluate(d))],min:[Q,_s(Q),(d,u)=>Math.min(...u.map(f=>f.evaluate(d)))],max:[Q,_s(Q),(d,u)=>Math.max(...u.map(f=>f.evaluate(d)))],abs:[Q,[Q],(d,[u])=>Math.abs(u.evaluate(d))],round:[Q,[Q],(d,[u])=>{const f=u.evaluate(d);return f<0?-Math.round(-f):Math.round(f)}],floor:[Q,[Q],(d,[u])=>Math.floor(u.evaluate(d))],ceil:[Q,[Q],(d,[u])=>Math.ceil(u.evaluate(d))],"filter-==":[We,[oe,kt],(d,[u,f])=>d.properties()[u.value]===f.value],"filter-id-==":[We,[kt],(d,[u])=>d.id()===u.value],"filter-type-==":[We,[oe],(d,[u])=>d.geometryType()===u.value],"filter-<":[We,[oe,kt],(d,[u,f])=>{const v=d.properties()[u.value],T=f.value;return typeof v==typeof T&&v<T}],"filter-id-<":[We,[kt],(d,[u])=>{const f=d.id(),v=u.value;return typeof f==typeof v&&f<v}],"filter->":[We,[oe,kt],(d,[u,f])=>{const v=d.properties()[u.value],T=f.value;return typeof v==typeof T&&v>T}],"filter-id->":[We,[kt],(d,[u])=>{const f=d.id(),v=u.value;return typeof f==typeof v&&f>v}],"filter-<=":[We,[oe,kt],(d,[u,f])=>{const v=d.properties()[u.value],T=f.value;return typeof v==typeof T&&v<=T}],"filter-id-<=":[We,[kt],(d,[u])=>{const f=d.id(),v=u.value;return typeof f==typeof v&&f<=v}],"filter->=":[We,[oe,kt],(d,[u,f])=>{const v=d.properties()[u.value],T=f.value;return typeof v==typeof T&&v>=T}],"filter-id->=":[We,[kt],(d,[u])=>{const f=d.id(),v=u.value;return typeof f==typeof v&&f>=v}],"filter-has":[We,[kt],(d,[u])=>u.value in d.properties()],"filter-has-id":[We,[],d=>null!==d.id()&&void 0!==d.id()],"filter-type-in":[We,[Je(oe)],(d,[u])=>u.value.indexOf(d.geometryType())>=0],"filter-id-in":[We,[Je(kt)],(d,[u])=>u.value.indexOf(d.id())>=0],"filter-in-small":[We,[oe,Je(kt)],(d,[u,f])=>f.value.indexOf(d.properties()[u.value])>=0],"filter-in-large":[We,[oe,Je(kt)],(d,[u,f])=>function(v,T,P,N){for(;P<=N;){const V=P+N>>1;if(T[V]===v)return!0;T[V]>v?N=V-1:P=V+1}return!1}(d.properties()[u.value],f.value,0,f.value.length-1)],all:{type:We,overloads:[[[We,We],(d,[u,f])=>u.evaluate(d)&&f.evaluate(d)],[_s(We),(d,u)=>{for(const f of u)if(!f.evaluate(d))return!1;return!0}]]},any:{type:We,overloads:[[[We,We],(d,[u,f])=>u.evaluate(d)||f.evaluate(d)],[_s(We),(d,u)=>{for(const f of u)if(f.evaluate(d))return!0;return!1}]]},"!":[We,[We],(d,[u])=>!u.evaluate(d)],"is-supported-script":[We,[oe],(d,[u])=>{const f=d.globals&&d.globals.isSupportedScript;return!f||f(u.evaluate(d))}],upcase:[oe,[oe],(d,[u])=>u.evaluate(d).toUpperCase()],downcase:[oe,[oe],(d,[u])=>u.evaluate(d).toLowerCase()],concat:[oe,_s(kt),(d,u)=>u.map(f=>It(f.evaluate(d))).join("")],"resolved-locale":[oe,[dn],(d,[u])=>u.evaluate(d).resolvedLocale()]});class Ha{constructor(u,f){var v;this.expression=u,this._warningHistory={},this._evaluator=new Lr,this._defaultValue=f?"color"===(v=f).type&&Co(v.default)?new Wi(0,0,0,0):"color"===v.type?Wi.parse(v.default)||null:"padding"===v.type?Qr.parse(v.default)||null:"variableAnchorOffsetCollection"===v.type?hs.parse(v.default)||null:void 0===v.default?null:v.default:null,this._enumValues=f&&"enum"===f.type?f.values:null}evaluateWithoutErrorHandling(u,f,v,T,P,N){return this._evaluator.globals=u,this._evaluator.feature=f,this._evaluator.featureState=v,this._evaluator.canonical=T,this._evaluator.availableImages=P||null,this._evaluator.formattedSection=N,this.expression.evaluate(this._evaluator)}evaluate(u,f,v,T,P,N){this._evaluator.globals=u,this._evaluator.feature=f||null,this._evaluator.featureState=v||null,this._evaluator.canonical=T,this._evaluator.availableImages=P||null,this._evaluator.formattedSection=N||null;try{const V=this.expression.evaluate(this._evaluator);if(null==V||"number"==typeof V&&V!=V)return this._defaultValue;if(this._enumValues&&!(V in this._enumValues))throw new $t(`Expected value to be one of ${Object.keys(this._enumValues).map(Z=>JSON.stringify(Z)).join(", ")}, but found ${JSON.stringify(V)} instead.`);return V}catch(V){return this._warningHistory[V.message]||(this._warningHistory[V.message]=!0,typeof console<"u"&&console.warn(V.message)),this._defaultValue}}}function Qu(d){return Array.isArray(d)&&d.length>0&&"string"==typeof d[0]&&d[0]in $l}function Nl(d,u){const f=new ar($l,Aa,[],u?function(T){const P={color:Mt,string:oe,number:Q,enum:oe,boolean:We,formatted:me,padding:ce,resolvedImage:Se,variableAnchorOffsetCollection:Me};return"array"===T.type?Je(P[T.value]||kt,T.length):P[T.type]}(u):void 0),v=f.parse(d,void 0,void 0,void 0,u&&"string"===u.type?{typeAnnotation:"coerce"}:void 0);return v?mr(new Ha(v,u)):Ys(f.errors)}class Rl{constructor(u,f){this.kind=u,this._styleExpression=f,this.isStateDependent="constant"!==u&&!dl(f.expression)}evaluateWithoutErrorHandling(u,f,v,T,P,N){return this._styleExpression.evaluateWithoutErrorHandling(u,f,v,T,P,N)}evaluate(u,f,v,T,P,N){return this._styleExpression.evaluate(u,f,v,T,P,N)}}class Oa{constructor(u,f,v,T){this.kind=u,this.zoomStops=v,this._styleExpression=f,this.isStateDependent="camera"!==u&&!dl(f.expression),this.interpolationType=T}evaluateWithoutErrorHandling(u,f,v,T,P,N){return this._styleExpression.evaluateWithoutErrorHandling(u,f,v,T,P,N)}evaluate(u,f,v,T,P,N){return this._styleExpression.evaluate(u,f,v,T,P,N)}interpolationFactor(u,f,v){return this.interpolationType?Be.interpolationFactor(this.interpolationType,u,f,v):0}}function vc(d,u){const f=Nl(d,u);if("error"===f.result)return f;const v=f.value.expression,T=ju(v);if(!T&&!mu(u))return Ys([new ke("","data expressions not supported")]);const P=Ao(v,["zoom"]);if(!P&&!Ol(u))return Ys([new ke("","zoom expressions not supported")]);const N=Za(v);return N||P?N instanceof ke?Ys([N]):N instanceof Be&&!Pc(u)?Ys([new ke("",'"interpolate" expressions cannot be used with this property')]):mr(N?new Oa(T?"camera":"composite",f.value,N.labels,N instanceof Be?N.interpolation:void 0):new Rl(T?"constant":"source",f.value)):Ys([new ke("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class yd{constructor(u,f){this._parameters=u,this._specification=f,nn(this,zs(this._parameters,this._specification))}static deserialize(u){return new yd(u._parameters,u._specification)}static serialize(u){return{_parameters:u._parameters,_specification:u._specification}}}function Za(d){let u=null;if(d instanceof At)u=Za(d.result);else if(d instanceof zt){for(const f of d.args)if(u=Za(f),u)break}else(d instanceof gu||d instanceof Be)&&d.input instanceof _l&&"zoom"===d.input.name&&(u=d);return u instanceof ke||d.eachChild(f=>{const v=Za(f);v instanceof ke?u=v:!u&&v?u=new ke("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):u&&v&&u!==v&&(u=new ke("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),u}function Fo(d){if(!0===d||!1===d)return!0;if(!Array.isArray(d)||0===d.length)return!1;switch(d[0]){case"has":return d.length>=2&&"$id"!==d[1]&&"$type"!==d[1];case"in":return d.length>=3&&("string"!=typeof d[1]||Array.isArray(d[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==d.length||Array.isArray(d[1])||Array.isArray(d[2]);case"any":case"all":for(const u of d.slice(1))if(!Fo(u)&&"boolean"!=typeof u)return!1;return!0;default:return!0}}const tr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ms(d){if(null==d)return{filter:()=>!0,needGeometry:!1};Fo(d)||(d=_u(d));const u=Nl(d,tr);if("error"===u.result)throw new Error(u.value.map(f=>`${f.key}: ${f.message}`).join(", "));return{filter:(f,v,T)=>u.value.evaluate(f,v,{},T),needGeometry:Ul(d)}}function Pr(d,u){return d<u?-1:d>u?1:0}function Ul(d){if(!Array.isArray(d))return!1;if("within"===d[0])return!0;for(let u=1;u<d.length;u++)if(Ul(d[u]))return!0;return!1}function _u(d){if(!d)return!0;const u=d[0];return d.length<=1?"any"!==u:"=="===u?Vl(d[1],d[2],"=="):"!="===u?Hu(Vl(d[1],d[2],"==")):"<"===u||">"===u||"<="===u||">="===u?Vl(d[1],d[2],u):"any"===u?(f=d.slice(1),["any"].concat(f.map(_u))):"all"===u?["all"].concat(d.slice(1).map(_u)):"none"===u?["all"].concat(d.slice(1).map(_u).map(Hu)):"in"===u?ol(d[1],d.slice(2)):"!in"===u?Hu(ol(d[1],d.slice(2))):"has"===u?wh(d[1]):"!has"===u?Hu(wh(d[1])):"within"!==u||d;var f}function Vl(d,u,f){switch(d){case"$type":return[`filter-type-${f}`,u];case"$id":return[`filter-id-${f}`,u];default:return[`filter-${f}`,d,u]}}function ol(d,u){if(0===u.length)return!1;switch(d){case"$type":return["filter-type-in",["literal",u]];case"$id":return["filter-id-in",["literal",u]];default:return u.length>200&&!u.some(f=>typeof f!=typeof u[0])?["filter-in-large",d,["literal",u.sort(Pr)]]:["filter-in-small",d,["literal",u]]}}function wh(d){switch(d){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",d]}}function Hu(d){return["!",d]}function mo(d){const u=typeof d;if("number"===u||"boolean"===u||"string"===u||null==d)return JSON.stringify(d);if(Array.isArray(d)){let T="[";for(const P of d)T+=`${mo(P)},`;return`${T}]`}const f=Object.keys(d).sort();let v="{";for(let T=0;T<f.length;T++)v+=`${JSON.stringify(f[T])}:${mo(d[f[T]])},`;return`${v}}`}function eu(d){let u="";for(const f of Wn)u+=`/${mo(d[f])}`;return u}function Ba(d){const u=d.value;return u?[new Dn(d.key,u,"constants have been deprecated as of v8")]:[]}function ro(d){return d instanceof Number||d instanceof String||d instanceof Boolean?d.valueOf():d}function qi(d){if(Array.isArray(d))return d.map(qi);if(d instanceof Object&&!(d instanceof Number||d instanceof String||d instanceof Boolean)){const u={};for(const f in d)u[f]=qi(d[f]);return u}return ro(d)}function va(d){const u=d.key,f=d.value,v=d.valueSpec||{},T=d.objectElementValidators||{},P=d.style,N=d.styleSpec,V=d.validateSpec;let Z=[];const ue=Ei(f);if("object"!==ue)return[new Dn(u,f,`object expected, ${ue} found`)];for(const Le in f){const Ye=Le.split(".")[0],Qe=v[Ye]||v["*"];let ft;if(T[Ye])ft=T[Ye];else if(v[Ye])ft=V;else if(T["*"])ft=T["*"];else{if(!v["*"]){Z.push(new Dn(u,f[Le],`unknown property "${Le}"`));continue}ft=V}Z=Z.concat(ft({key:(u&&`${u}.`)+Le,value:f[Le],valueSpec:Qe,style:P,styleSpec:N,object:f,objectKey:Le,validateSpec:V},f))}for(const Le in v)T[Le]||v[Le].required&&void 0===v[Le].default&&void 0===f[Le]&&Z.push(new Dn(u,f,`missing required property "${Le}"`));return Z}function tu(d){const u=d.value,f=d.valueSpec,v=d.style,T=d.styleSpec,P=d.key,N=d.arrayElementValidator||d.validateSpec;if("array"!==Ei(u))return[new Dn(P,u,`array expected, ${Ei(u)} found`)];if(f.length&&u.length!==f.length)return[new Dn(P,u,`array length ${f.length} expected, length ${u.length} found`)];if(f["min-length"]&&u.length<f["min-length"])return[new Dn(P,u,`array length at least ${f["min-length"]} expected, length ${u.length} found`)];let V={type:f.value,values:f.values};T.$version<7&&(V.function=f.function),"object"===Ei(f.value)&&(V=f.value);let Z=[];for(let ue=0;ue<u.length;ue++)Z=Z.concat(N({array:u,arrayIndex:ue,value:u[ue],valueSpec:V,validateSpec:d.validateSpec,style:v,styleSpec:T,key:`${P}[${ue}]`}));return Z}function Cu(d){const u=d.key,f=d.value,v=d.valueSpec;let T=Ei(f);return"number"===T&&f!=f&&(T="NaN"),"number"!==T?[new Dn(u,f,`number expected, ${T} found`)]:"minimum"in v&&f<v.minimum?[new Dn(u,f,`${f} is less than the minimum value ${v.minimum}`)]:"maximum"in v&&f>v.maximum?[new Dn(u,f,`${f} is greater than the maximum value ${v.maximum}`)]:[]}function vd(d){const u=d.valueSpec,f=ro(d.value.type);let v,T,P,N={};const V="categorical"!==f&&void 0===d.value.property,Z=!V,ue="array"===Ei(d.value.stops)&&"array"===Ei(d.value.stops[0])&&"object"===Ei(d.value.stops[0][0]),Le=va({key:d.key,value:d.value,valueSpec:d.styleSpec.function,validateSpec:d.validateSpec,style:d.style,styleSpec:d.styleSpec,objectElementValidators:{stops:function(ft){if("identity"===f)return[new Dn(ft.key,ft.value,'identity function may not have a "stops" property')];let vt=[];const Rt=ft.value;return vt=vt.concat(tu({key:ft.key,value:Rt,valueSpec:ft.valueSpec,validateSpec:ft.validateSpec,style:ft.style,styleSpec:ft.styleSpec,arrayElementValidator:Ye})),"array"===Ei(Rt)&&0===Rt.length&&vt.push(new Dn(ft.key,Rt,"array must have at least one stop")),vt},default:function(ft){return ft.validateSpec({key:ft.key,value:ft.value,valueSpec:u,validateSpec:ft.validateSpec,style:ft.style,styleSpec:ft.styleSpec})}}});return"identity"===f&&V&&Le.push(new Dn(d.key,d.value,'missing required property "property"')),"identity"===f||d.value.stops||Le.push(new Dn(d.key,d.value,'missing required property "stops"')),"exponential"===f&&d.valueSpec.expression&&!Pc(d.valueSpec)&&Le.push(new Dn(d.key,d.value,"exponential functions not supported")),d.styleSpec.$version>=8&&(Z&&!mu(d.valueSpec)?Le.push(new Dn(d.key,d.value,"property functions not supported")):V&&!Ol(d.valueSpec)&&Le.push(new Dn(d.key,d.value,"zoom functions not supported"))),"categorical"!==f&&!ue||void 0!==d.value.property||Le.push(new Dn(d.key,d.value,'"property" property is required')),Le;function Ye(ft){let vt=[];const Rt=ft.value,Vt=ft.key;if("array"!==Ei(Rt))return[new Dn(Vt,Rt,`array expected, ${Ei(Rt)} found`)];if(2!==Rt.length)return[new Dn(Vt,Rt,`array length 2 expected, length ${Rt.length} found`)];if(ue){if("object"!==Ei(Rt[0]))return[new Dn(Vt,Rt,`object expected, ${Ei(Rt[0])} found`)];if(void 0===Rt[0].zoom)return[new Dn(Vt,Rt,"object stop key must have zoom")];if(void 0===Rt[0].value)return[new Dn(Vt,Rt,"object stop key must have value")];if(P&&P>ro(Rt[0].zoom))return[new Dn(Vt,Rt[0].zoom,"stop zoom values must appear in ascending order")];ro(Rt[0].zoom)!==P&&(P=ro(Rt[0].zoom),T=void 0,N={}),vt=vt.concat(va({key:`${Vt}[0]`,value:Rt[0],valueSpec:{zoom:{}},validateSpec:ft.validateSpec,style:ft.style,styleSpec:ft.styleSpec,objectElementValidators:{zoom:Cu,value:Qe}}))}else vt=vt.concat(Qe({key:`${Vt}[0]`,value:Rt[0],valueSpec:{},validateSpec:ft.validateSpec,style:ft.style,styleSpec:ft.styleSpec},Rt));return Qu(qi(Rt[1]))?vt.concat([new Dn(`${Vt}[1]`,Rt[1],"expressions are not allowed in function stops.")]):vt.concat(ft.validateSpec({key:`${Vt}[1]`,value:Rt[1],valueSpec:u,validateSpec:ft.validateSpec,style:ft.style,styleSpec:ft.styleSpec}))}function Qe(ft,vt){const Rt=Ei(ft.value),Vt=ro(ft.value),Zt=null!==ft.value?ft.value:vt;if(v){if(Rt!==v)return[new Dn(ft.key,Zt,`${Rt} stop domain type must match previous stop domain type ${v}`)]}else v=Rt;if("number"!==Rt&&"string"!==Rt&&"boolean"!==Rt)return[new Dn(ft.key,Zt,"stop domain value must be a number, string, or boolean")];if("number"!==Rt&&"categorical"!==f){let Sn=`number expected, ${Rt} found`;return mu(u)&&void 0===f&&(Sn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Dn(ft.key,Zt,Sn)]}return"categorical"!==f||"number"!==Rt||isFinite(Vt)&&Math.floor(Vt)===Vt?"categorical"!==f&&"number"===Rt&&void 0!==T&&Vt<T?[new Dn(ft.key,Zt,"stop domain values must appear in ascending order")]:(T=Vt,"categorical"===f&&Vt in N?[new Dn(ft.key,Zt,"stop domain values must be unique")]:(N[Vt]=!0,[])):[new Dn(ft.key,Zt,`integer expected, found ${Vt}`)]}}function El(d){const u=("property"===d.expressionContext?vc:Nl)(qi(d.value),d.valueSpec);if("error"===u.result)return u.value.map(v=>new Dn(`${d.key}${v.key}`,d.value,v.message));const f=u.value.expression||u.value._styleExpression.expression;if("property"===d.expressionContext&&"text-font"===d.propertyKey&&!f.outputDefined())return[new Dn(d.key,d.value,`Invalid data expression for "${d.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===d.expressionContext&&"layout"===d.propertyType&&!dl(f))return[new Dn(d.key,d.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===d.expressionContext&&!dl(f))return[new Dn(d.key,d.value,'"feature-state" data expressions are not supported with filters.')];if(d.expressionContext&&0===d.expressionContext.indexOf("cluster")){if(!Ao(f,["zoom","feature-state"]))return[new Dn(d.key,d.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===d.expressionContext&&!ju(f))return[new Dn(d.key,d.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ka(d){const u=d.key,f=d.value,v=d.valueSpec,T=[];return Array.isArray(v.values)?-1===v.values.indexOf(ro(f))&&T.push(new Dn(u,f,`expected one of [${v.values.join(", ")}], ${JSON.stringify(f)} found`)):-1===Object.keys(v.values).indexOf(ro(f))&&T.push(new Dn(u,f,`expected one of [${Object.keys(v.values).join(", ")}], ${JSON.stringify(f)} found`)),T}function Bo(d){return Fo(qi(d.value))?El(nn({},d,{expressionContext:"filter",valueSpec:{value:"boolean"}})):$a(d)}function $a(d){const u=d.value,f=d.key;if("array"!==Ei(u))return[new Dn(f,u,`array expected, ${Ei(u)} found`)];const v=d.styleSpec;let T,P=[];if(u.length<1)return[new Dn(f,u,"filter array must have at least 1 element")];switch(P=P.concat(Ka({key:`${f}[0]`,value:u[0],valueSpec:v.filter_operator,style:d.style,styleSpec:d.styleSpec})),ro(u[0])){case"<":case"<=":case">":case">=":u.length>=2&&"$type"===ro(u[1])&&P.push(new Dn(f,u,`"$type" cannot be use with operator "${u[0]}"`));case"==":case"!=":3!==u.length&&P.push(new Dn(f,u,`filter array for operator "${u[0]}" must have 3 elements`));case"in":case"!in":u.length>=2&&(T=Ei(u[1]),"string"!==T&&P.push(new Dn(`${f}[1]`,u[1],`string expected, ${T} found`)));for(let N=2;N<u.length;N++)T=Ei(u[N]),"$type"===ro(u[1])?P=P.concat(Ka({key:`${f}[${N}]`,value:u[N],valueSpec:v.geometry_type,style:d.style,styleSpec:d.styleSpec})):"string"!==T&&"number"!==T&&"boolean"!==T&&P.push(new Dn(`${f}[${N}]`,u[N],`string, number, or boolean expected, ${T} found`));break;case"any":case"all":case"none":for(let N=1;N<u.length;N++)P=P.concat($a({key:`${f}[${N}]`,value:u[N],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":T=Ei(u[1]),2!==u.length?P.push(new Dn(f,u,`filter array for "${u[0]}" operator must have 2 elements`)):"string"!==T&&P.push(new Dn(`${f}[1]`,u[1],`string expected, ${T} found`));break;case"within":T=Ei(u[1]),2!==u.length?P.push(new Dn(f,u,`filter array for "${u[0]}" operator must have 2 elements`)):"object"!==T&&P.push(new Dn(`${f}[1]`,u[1],`object expected, ${T} found`))}return P}function kc(d,u){const f=d.key,v=d.validateSpec,T=d.style,P=d.styleSpec,N=d.value,V=d.objectKey,Z=P[`${u}_${d.layerType}`];if(!Z)return[];const ue=V.match(/^(.*)-transition$/);if("paint"===u&&ue&&Z[ue[1]]&&Z[ue[1]].transition)return v({key:f,value:N,valueSpec:P.transition,style:T,styleSpec:P});const Le=d.valueSpec||Z[V];if(!Le)return[new Dn(f,N,`unknown property "${V}"`)];let Ye;if("string"===Ei(N)&&mu(Le)&&!Le.tokens&&(Ye=/^{([^}]+)}$/.exec(N)))return[new Dn(f,N,`"${V}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ye[1])} }\`.`)];const Qe=[];return"symbol"===d.layerType&&("text-field"===V&&T&&!T.glyphs&&Qe.push(new Dn(f,N,'use of "text-field" requires a style "glyphs" property')),"text-font"===V&&Co(qi(N))&&"identity"===ro(N.type)&&Qe.push(new Dn(f,N,'"text-font" does not support identity functions'))),Qe.concat(v({key:d.key,value:N,valueSpec:Le,style:T,styleSpec:P,expressionContext:"property",propertyType:u,propertyKey:V}))}function hl(d){return kc(d,"paint")}function Du(d){return kc(d,"layout")}function Iu(d){let u=[];const f=d.value,v=d.key,T=d.style,P=d.styleSpec;f.type||f.ref||u.push(new Dn(v,f,'either "type" or "ref" is required'));let N=ro(f.type);const V=ro(f.ref);if(f.id){const Z=ro(f.id);for(let ue=0;ue<d.arrayIndex;ue++){const Le=T.layers[ue];ro(Le.id)===Z&&u.push(new Dn(v,f.id,`duplicate layer id "${f.id}", previously used at line ${Le.id.__line__}`))}}if("ref"in f){let Z;["type","source","source-layer","filter","layout"].forEach(ue=>{ue in f&&u.push(new Dn(v,f[ue],`"${ue}" is prohibited for ref layers`))}),T.layers.forEach(ue=>{ro(ue.id)===V&&(Z=ue)}),Z?Z.ref?u.push(new Dn(v,f.ref,"ref cannot reference another ref layer")):N=ro(Z.type):u.push(new Dn(v,f.ref,`ref layer "${V}" not found`))}else if("background"!==N)if(f.source){const Z=T.sources&&T.sources[f.source],ue=Z&&ro(Z.type);Z?"vector"===ue&&"raster"===N?u.push(new Dn(v,f.source,`layer "${f.id}" requires a raster source`)):"raster-dem"!==ue&&"hillshade"===N?u.push(new Dn(v,f.source,`layer "${f.id}" requires a raster-dem source`)):"raster"===ue&&"raster"!==N?u.push(new Dn(v,f.source,`layer "${f.id}" requires a vector source`)):"vector"!==ue||f["source-layer"]?"raster-dem"===ue&&"hillshade"!==N?u.push(new Dn(v,f.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==N||!f.paint||!f.paint["line-gradient"]||"geojson"===ue&&Z.lineMetrics||u.push(new Dn(v,f,`layer "${f.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):u.push(new Dn(v,f,`layer "${f.id}" must specify a "source-layer"`)):u.push(new Dn(v,f.source,`source "${f.source}" not found`))}else u.push(new Dn(v,f,'missing required property "source"'));return u=u.concat(va({key:v,value:f,valueSpec:P.layer,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,objectElementValidators:{"*":()=>[],type:()=>d.validateSpec({key:`${v}.type`,value:f.type,valueSpec:P.layer.type,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,object:f,objectKey:"type"}),filter:Bo,layout:Z=>va({layer:f,key:Z.key,value:Z.value,style:Z.style,styleSpec:Z.styleSpec,validateSpec:Z.validateSpec,objectElementValidators:{"*":ue=>Du(nn({layerType:N},ue))}}),paint:Z=>va({layer:f,key:Z.key,value:Z.value,style:Z.style,styleSpec:Z.styleSpec,validateSpec:Z.validateSpec,objectElementValidators:{"*":ue=>hl(nn({layerType:N},ue))}})}})),u}function Lu(d){const u=d.value,f=d.key,v=Ei(u);return"string"!==v?[new Dn(f,u,`string expected, ${v} found`)]:[]}const nu={promoteId:function({key:d,value:u}){if("string"===Ei(u))return Lu({key:d,value:u});{const f=[];for(const v in u)f.push(...Lu({key:`${d}.${v}`,value:u[v]}));return f}}};function yn(d){const u=d.value,f=d.key,v=d.styleSpec,T=d.style,P=d.validateSpec;if(!u.type)return[new Dn(f,u,'"type" is required')];const N=ro(u.type);let V;switch(N){case"vector":case"raster":return V=va({key:f,value:u,valueSpec:v[`source_${N.replace("-","_")}`],style:d.style,styleSpec:v,objectElementValidators:nu,validateSpec:P}),V;case"raster-dem":return V=function(Z){var ue;const Le=null!==(ue=Z.sourceName)&&void 0!==ue?ue:"",Ye=Z.value,Qe=Z.styleSpec,ft=Qe.source_raster_dem,vt=Z.style;let Rt=[];const Vt=Ei(Ye);if(void 0===Ye)return Rt;if("object"!==Vt)return Rt.push(new Dn("source_raster_dem",Ye,`object expected, ${Vt} found`)),Rt;const Zt="custom"===ro(Ye.encoding),Sn=["redFactor","greenFactor","blueFactor","baseShift"],Jt=Z.value.encoding?`"${Z.value.encoding}"`:"Default";for(const mn in Ye)!Zt&&Sn.includes(mn)?Rt.push(new Dn(mn,Ye[mn],`In "${Le}": "${mn}" is only valid when "encoding" is set to "custom". ${Jt} encoding found`)):ft[mn]?Rt=Rt.concat(Z.validateSpec({key:mn,value:Ye[mn],valueSpec:ft[mn],validateSpec:Z.validateSpec,style:vt,styleSpec:Qe})):Rt.push(new Dn(mn,Ye[mn],`unknown property "${mn}"`));return Rt}({sourceName:f,value:u,style:d.style,styleSpec:v,validateSpec:P}),V;case"geojson":if(V=va({key:f,value:u,valueSpec:v.source_geojson,style:T,styleSpec:v,validateSpec:P,objectElementValidators:nu}),u.cluster)for(const Z in u.clusterProperties){const[ue,Le]=u.clusterProperties[Z],Ye="string"==typeof ue?[ue,["accumulated"],["get",Z]]:ue;V.push(...El({key:`${f}.${Z}.map`,value:Le,validateSpec:P,expressionContext:"cluster-map"})),V.push(...El({key:`${f}.${Z}.reduce`,value:Ye,validateSpec:P,expressionContext:"cluster-reduce"}))}return V;case"video":return va({key:f,value:u,valueSpec:v.source_video,style:T,validateSpec:P,styleSpec:v});case"image":return va({key:f,value:u,valueSpec:v.source_image,style:T,validateSpec:P,styleSpec:v});case"canvas":return[new Dn(f,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ka({key:`${f}.type`,value:u.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:T,validateSpec:P,styleSpec:v})}}function er(d){const u=d.value,f=d.styleSpec,v=f.light,T=d.style;let P=[];const N=Ei(u);if(void 0===u)return P;if("object"!==N)return P=P.concat([new Dn("light",u,`object expected, ${N} found`)]),P;for(const V in u){const Z=V.match(/^(.*)-transition$/);P=P.concat(Z&&v[Z[1]]&&v[Z[1]].transition?d.validateSpec({key:V,value:u[V],valueSpec:f.transition,validateSpec:d.validateSpec,style:T,styleSpec:f}):v[V]?d.validateSpec({key:V,value:u[V],valueSpec:v[V],validateSpec:d.validateSpec,style:T,styleSpec:f}):[new Dn(V,u[V],`unknown property "${V}"`)])}return P}function zn(d){const u=d.value,f=d.styleSpec,v=f.terrain,T=d.style;let P=[];const N=Ei(u);if(void 0===u)return P;if("object"!==N)return P=P.concat([new Dn("terrain",u,`object expected, ${N} found`)]),P;for(const V in u)P=P.concat(v[V]?d.validateSpec({key:V,value:u[V],valueSpec:v[V],validateSpec:d.validateSpec,style:T,styleSpec:f}):[new Dn(V,u[V],`unknown property "${V}"`)]);return P}function ui(d){let u=[];const f=d.value,v=d.key;if(Array.isArray(f)){const T=[],P=[];for(const N in f)f[N].id&&T.includes(f[N].id)&&u.push(new Dn(v,f,`all the sprites' ids must be unique, but ${f[N].id} is duplicated`)),T.push(f[N].id),f[N].url&&P.includes(f[N].url)&&u.push(new Dn(v,f,`all the sprites' URLs must be unique, but ${f[N].url} is duplicated`)),P.push(f[N].url),u=u.concat(va({key:`${v}[${N}]`,value:f[N],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:d.validateSpec}));return u}return Lu({key:v,value:f})}const Ci={"*":()=>[],array:tu,boolean:function(d){const u=d.value,f=d.key,v=Ei(u);return"boolean"!==v?[new Dn(f,u,`boolean expected, ${v} found`)]:[]},number:Cu,color:function(d){const u=d.key,f=d.value,v=Ei(f);return"string"!==v?[new Dn(u,f,`color expected, ${v} found`)]:Wi.parse(String(f))?[]:[new Dn(u,f,`color expected, "${f}" found`)]},constants:Ba,enum:Ka,filter:Bo,function:vd,layer:Iu,object:va,source:yn,light:er,terrain:zn,string:Lu,formatted:function(d){return 0===Lu(d).length?[]:El(d)},resolvedImage:function(d){return 0===Lu(d).length?[]:El(d)},padding:function(d){const u=d.key,f=d.value;if("array"===Ei(f)){if(f.length<1||f.length>4)return[new Dn(u,f,`padding requires 1 to 4 values; ${f.length} values found`)];const v={type:"number"};let T=[];for(let P=0;P<f.length;P++)T=T.concat(d.validateSpec({key:`${u}[${P}]`,value:f[P],validateSpec:d.validateSpec,valueSpec:v}));return T}return Cu({key:u,value:f,valueSpec:{}})},variableAnchorOffsetCollection:function(d){const u=d.key,f=d.value,v=Ei(f),T=d.styleSpec;if("array"!==v||f.length<1||f.length%2!=0)return[new Dn(u,f,"variableAnchorOffsetCollection requires a non-empty array of even length")];let P=[];for(let N=0;N<f.length;N+=2)P=P.concat(Ka({key:`${u}[${N}]`,value:f[N],valueSpec:T.layout_symbol["text-anchor"]})),P=P.concat(tu({key:`${u}[${N+1}]`,value:f[N+1],valueSpec:{length:2,value:"number"},validateSpec:d.validateSpec,style:d.style,styleSpec:T}));return P},sprite:ui};function Zs(d){const u=d.value,f=d.valueSpec,v=d.styleSpec;return d.validateSpec=Zs,f.expression&&Co(ro(u))?vd(d):f.expression&&Qu(qi(u))?El(d):f.type&&Ci[f.type]?Ci[f.type](d):va(nn({},d,{valueSpec:f.type?v[f.type]:f}))}function eo(d){const u=d.value,f=d.key,v=Lu(d);return v.length||(-1===u.indexOf("{fontstack}")&&v.push(new Dn(f,u,'"glyphs" url must include a "{fontstack}" token')),-1===u.indexOf("{range}")&&v.push(new Dn(f,u,'"glyphs" url must include a "{range}" token'))),v}function cs(d,u=en){let f=[];return f=f.concat(Zs({key:"",value:d,valueSpec:u.$root,styleSpec:u,style:d,validateSpec:Zs,objectElementValidators:{glyphs:eo,"*":()=>[]}})),d.constants&&(f=f.concat(Ba({key:"constants",value:d.constants,style:d,styleSpec:u,validateSpec:Zs}))),Ja(f)}function Po(d){return function(u){return d({...u,validateSpec:Zs})}}function Ja(d){return[].concat(d).sort((u,f)=>u.line-f.line)}function Do(d){return function(...u){return Ja(d.apply(this,u))}}cs.source=Do(Po(yn)),cs.sprite=Do(Po(ui)),cs.glyphs=Do(Po(eo)),cs.light=Do(Po(er)),cs.terrain=Do(Po(zn)),cs.layer=Do(Po(Iu)),cs.filter=Do(Po(Bo)),cs.paintProperty=Do(Po(hl)),cs.layoutProperty=Do(Po(Du));const wa=cs,bh=wa.light,yu=wa.paintProperty,vu=wa.layoutProperty;function Qn(d,u){let f=!1;if(u&&u.length)for(const v of u)d.fire(new xr(new Error(v.message))),f=!0;return f}class uo{constructor(u,f,v){const T=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;const N=new Int32Array(this.arrayBuffer);u=N[0],this.d=(f=N[1])+2*(v=N[2]);for(let Z=0;Z<this.d*this.d;Z++){const ue=N[3+Z],Le=N[3+Z+1];T.push(ue===Le?null:N.subarray(ue,Le))}const V=N[3+T.length+1];this.keys=N.subarray(N[3+T.length],V),this.bboxes=N.subarray(V),this.insert=this._insertReadonly}else{this.d=f+2*v;for(let N=0;N<this.d*this.d;N++)T.push([]);this.keys=[],this.bboxes=[]}this.n=f,this.extent=u,this.padding=v,this.scale=f/u,this.uid=0;const P=v/f*u;this.min=-P,this.max=u+P}insert(u,f,v,T,P){this._forEachCell(f,v,T,P,this._insertCell,this.uid++,void 0,void 0),this.keys.push(u),this.bboxes.push(f),this.bboxes.push(v),this.bboxes.push(T),this.bboxes.push(P)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(u,f,v,T,P,N){this.cells[P].push(N)}query(u,f,v,T,P){const N=this.min,V=this.max;if(u<=N&&f<=N&&V<=v&&V<=T&&!P)return Array.prototype.slice.call(this.keys);{const Z=[];return this._forEachCell(u,f,v,T,this._queryCell,Z,{},P),Z}}_queryCell(u,f,v,T,P,N,V,Z){const ue=this.cells[P];if(null!==ue){const Le=this.keys,Ye=this.bboxes;for(let Qe=0;Qe<ue.length;Qe++){const ft=ue[Qe];if(void 0===V[ft]){const vt=4*ft;(Z?Z(Ye[vt+0],Ye[vt+1],Ye[vt+2],Ye[vt+3]):u<=Ye[vt+2]&&f<=Ye[vt+3]&&v>=Ye[vt+0]&&T>=Ye[vt+1])?(V[ft]=!0,N.push(Le[ft])):V[ft]=!1}}}}_forEachCell(u,f,v,T,P,N,V,Z){const ue=this._convertToCellCoord(u),Le=this._convertToCellCoord(f),Ye=this._convertToCellCoord(v),Qe=this._convertToCellCoord(T);for(let ft=ue;ft<=Ye;ft++)for(let vt=Le;vt<=Qe;vt++){const Rt=this.d*vt+ft;if((!Z||Z(this._convertFromCellCoord(ft),this._convertFromCellCoord(vt),this._convertFromCellCoord(ft+1),this._convertFromCellCoord(vt+1)))&&P.call(this,u,f,v,T,Rt,N,V,Z))return}}_convertFromCellCoord(u){return(u-this.padding)/this.scale}_convertToCellCoord(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const u=this.cells,f=3+this.cells.length+1+1;let v=0;for(let N=0;N<this.cells.length;N++)v+=this.cells[N].length;const T=new Int32Array(f+v+this.keys.length+this.bboxes.length);T[0]=this.extent,T[1]=this.n,T[2]=this.padding;let P=f;for(let N=0;N<u.length;N++){const V=u[N];T[3+N]=P,T.set(V,P),P+=V.length}return T[3+u.length]=P,T.set(this.keys,P),P+=this.keys.length,T[3+u.length+1]=P,T.set(this.bboxes,P),P+=this.bboxes.length,T.buffer}static serialize(u,f){const v=u.toArrayBuffer();return f&&f.push(v),{buffer:v}}static deserialize(u){return new uo(u.buffer)}}const ha={};function hi(d,u,f={}){if(ha[d])throw new Error(`${d} is already registered.`);Object.defineProperty(u,"_classRegistryKey",{value:d,writeable:!1}),ha[d]={klass:u,omit:f.omit||[],shallow:f.shallow||[]}}hi("Object",Object),hi("TransferableGridIndex",uo),hi("Color",Wi),hi("Error",Error),hi("AJAXError",bn),hi("ResolvedImage",ps),hi("StylePropertyFunction",yd),hi("StyleExpression",Ha,{omit:["_evaluator"]}),hi("ZoomDependentExpression",Oa),hi("ZoomConstantExpression",Rl),hi("CompoundExpression",_l,{omit:["_evaluate"]});for(const d in $l)$l[d]._classRegistryKey||hi(`Expression_${d}`,$l[d]);function go(d){return d&&typeof ArrayBuffer<"u"&&(d instanceof ArrayBuffer||d.constructor&&"ArrayBuffer"===d.constructor.name)}function fa(d,u){if(null==d||"boolean"==typeof d||"number"==typeof d||"string"==typeof d||d instanceof Boolean||d instanceof Number||d instanceof String||d instanceof Date||d instanceof RegExp||d instanceof Blob)return d;if(go(d)||_t(d))return u&&u.push(d),d;if(ArrayBuffer.isView(d)){const f=d;return u&&u.push(f.buffer),f}if(d instanceof ImageData)return u&&u.push(d.data.buffer),d;if(Array.isArray(d)){const f=[];for(const v of d)f.push(fa(v,u));return f}if("object"==typeof d){const f=d.constructor,v=f._classRegistryKey;if(!v)throw new Error("can't serialize object of unregistered class");if(!ha[v])throw new Error(`${v} is not registered.`);const T=f.serialize?f.serialize(d,u):{};if(f.serialize){if(u&&T===u[u.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const P in d){if(!d.hasOwnProperty(P)||ha[v].omit.indexOf(P)>=0)continue;const N=d[P];T[P]=ha[v].shallow.indexOf(P)>=0?N:fa(N,u)}d instanceof Error&&(T.message=d.message)}if(T.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==v&&(T.$name=v),T}throw new Error("can't serialize object of type "+typeof d)}function yl(d){if(null==d||"boolean"==typeof d||"number"==typeof d||"string"==typeof d||d instanceof Boolean||d instanceof Number||d instanceof String||d instanceof Date||d instanceof RegExp||d instanceof Blob||go(d)||_t(d)||ArrayBuffer.isView(d)||d instanceof ImageData)return d;if(Array.isArray(d))return d.map(yl);if("object"==typeof d){const u=d.$name||"Object";if(!ha[u])throw new Error(`can't deserialize unregistered class ${u}`);const{klass:f}=ha[u];if(!f)throw new Error(`can't deserialize unregistered class ${u}`);if(f.deserialize)return f.deserialize(d);const v=Object.create(f.prototype);for(const T of Object.keys(d)){if("$name"===T)continue;const P=d[T];v[T]=ha[u].shallow.indexOf(T)>=0?P:yl(P)}return v}throw new Error("can't deserialize object of type "+typeof d)}class Ti{constructor(){this.first=!0}update(u,f){const v=Math.floor(u);return this.first?(this.first=!1,this.lastIntegerZoom=v,this.lastIntegerZoomTime=0,this.lastZoom=u,this.lastFloorZoom=v,!0):(this.lastFloorZoom>v?(this.lastIntegerZoom=v+1,this.lastIntegerZoomTime=f):this.lastFloorZoom<v&&(this.lastIntegerZoom=v,this.lastIntegerZoomTime=f),u!==this.lastZoom&&(this.lastZoom=u,this.lastFloorZoom=v,!0))}}const Kn={"Latin-1 Supplement":d=>d>=128&&d<=255,Arabic:d=>d>=1536&&d<=1791,"Arabic Supplement":d=>d>=1872&&d<=1919,"Arabic Extended-A":d=>d>=2208&&d<=2303,"Hangul Jamo":d=>d>=4352&&d<=4607,"Unified Canadian Aboriginal Syllabics":d=>d>=5120&&d<=5759,Khmer:d=>d>=6016&&d<=6143,"Unified Canadian Aboriginal Syllabics Extended":d=>d>=6320&&d<=6399,"General Punctuation":d=>d>=8192&&d<=8303,"Letterlike Symbols":d=>d>=8448&&d<=8527,"Number Forms":d=>d>=8528&&d<=8591,"Miscellaneous Technical":d=>d>=8960&&d<=9215,"Control Pictures":d=>d>=9216&&d<=9279,"Optical Character Recognition":d=>d>=9280&&d<=9311,"Enclosed Alphanumerics":d=>d>=9312&&d<=9471,"Geometric Shapes":d=>d>=9632&&d<=9727,"Miscellaneous Symbols":d=>d>=9728&&d<=9983,"Miscellaneous Symbols and Arrows":d=>d>=11008&&d<=11263,"CJK Radicals Supplement":d=>d>=11904&&d<=12031,"Kangxi Radicals":d=>d>=12032&&d<=12255,"Ideographic Description Characters":d=>d>=12272&&d<=12287,"CJK Symbols and Punctuation":d=>d>=12288&&d<=12351,Hiragana:d=>d>=12352&&d<=12447,Katakana:d=>d>=12448&&d<=12543,Bopomofo:d=>d>=12544&&d<=12591,"Hangul Compatibility Jamo":d=>d>=12592&&d<=12687,Kanbun:d=>d>=12688&&d<=12703,"Bopomofo Extended":d=>d>=12704&&d<=12735,"CJK Strokes":d=>d>=12736&&d<=12783,"Katakana Phonetic Extensions":d=>d>=12784&&d<=12799,"Enclosed CJK Letters and Months":d=>d>=12800&&d<=13055,"CJK Compatibility":d=>d>=13056&&d<=13311,"CJK Unified Ideographs Extension A":d=>d>=13312&&d<=19903,"Yijing Hexagram Symbols":d=>d>=19904&&d<=19967,"CJK Unified Ideographs":d=>d>=19968&&d<=40959,"Yi Syllables":d=>d>=40960&&d<=42127,"Yi Radicals":d=>d>=42128&&d<=42191,"Hangul Jamo Extended-A":d=>d>=43360&&d<=43391,"Hangul Syllables":d=>d>=44032&&d<=55215,"Hangul Jamo Extended-B":d=>d>=55216&&d<=55295,"Private Use Area":d=>d>=57344&&d<=63743,"CJK Compatibility Ideographs":d=>d>=63744&&d<=64255,"Arabic Presentation Forms-A":d=>d>=64336&&d<=65023,"Vertical Forms":d=>d>=65040&&d<=65055,"CJK Compatibility Forms":d=>d>=65072&&d<=65103,"Small Form Variants":d=>d>=65104&&d<=65135,"Arabic Presentation Forms-B":d=>d>=65136&&d<=65279,"Halfwidth and Fullwidth Forms":d=>d>=65280&&d<=65519};function es(d){for(const u of d)if(al(u.charCodeAt(0)))return!0;return!1}function pa(d){for(const u of d)if(!Io(u.charCodeAt(0)))return!1;return!0}function Io(d){return!(Kn.Arabic(d)||Kn["Arabic Supplement"](d)||Kn["Arabic Extended-A"](d)||Kn["Arabic Presentation Forms-A"](d)||Kn["Arabic Presentation Forms-B"](d))}function al(d){return!(746!==d&&747!==d&&(d<4352||!(Kn["Bopomofo Extended"](d)||Kn.Bopomofo(d)||Kn["CJK Compatibility Forms"](d)&&!(d>=65097&&d<=65103)||Kn["CJK Compatibility Ideographs"](d)||Kn["CJK Compatibility"](d)||Kn["CJK Radicals Supplement"](d)||Kn["CJK Strokes"](d)||!(!Kn["CJK Symbols and Punctuation"](d)||d>=12296&&d<=12305||d>=12308&&d<=12319||12336===d)||Kn["CJK Unified Ideographs Extension A"](d)||Kn["CJK Unified Ideographs"](d)||Kn["Enclosed CJK Letters and Months"](d)||Kn["Hangul Compatibility Jamo"](d)||Kn["Hangul Jamo Extended-A"](d)||Kn["Hangul Jamo Extended-B"](d)||Kn["Hangul Jamo"](d)||Kn["Hangul Syllables"](d)||Kn.Hiragana(d)||Kn["Ideographic Description Characters"](d)||Kn.Kanbun(d)||Kn["Kangxi Radicals"](d)||Kn["Katakana Phonetic Extensions"](d)||Kn.Katakana(d)&&12540!==d||!(!Kn["Halfwidth and Fullwidth Forms"](d)||65288===d||65289===d||65293===d||d>=65306&&d<=65310||65339===d||65341===d||65343===d||d>=65371&&d<=65503||65507===d||d>=65512&&d<=65519)||!(!Kn["Small Form Variants"](d)||d>=65112&&d<=65118||d>=65123&&d<=65126)||Kn["Unified Canadian Aboriginal Syllabics"](d)||Kn["Unified Canadian Aboriginal Syllabics Extended"](d)||Kn["Vertical Forms"](d)||Kn["Yijing Hexagram Symbols"](d)||Kn["Yi Syllables"](d)||Kn["Yi Radicals"](d))))}function to(d){return!(al(d)||(u=d,Kn["Latin-1 Supplement"](u)&&(167===u||169===u||174===u||177===u||188===u||189===u||190===u||215===u||247===u)||Kn["General Punctuation"](u)&&(8214===u||8224===u||8225===u||8240===u||8241===u||8251===u||8252===u||8258===u||8263===u||8264===u||8265===u||8273===u)||Kn["Letterlike Symbols"](u)||Kn["Number Forms"](u)||Kn["Miscellaneous Technical"](u)&&(u>=8960&&u<=8967||u>=8972&&u<=8991||u>=8996&&u<=9e3||9003===u||u>=9085&&u<=9114||u>=9150&&u<=9165||9167===u||u>=9169&&u<=9179||u>=9186&&u<=9215)||Kn["Control Pictures"](u)&&9251!==u||Kn["Optical Character Recognition"](u)||Kn["Enclosed Alphanumerics"](u)||Kn["Geometric Shapes"](u)||Kn["Miscellaneous Symbols"](u)&&!(u>=9754&&u<=9759)||Kn["Miscellaneous Symbols and Arrows"](u)&&(u>=11026&&u<=11055||u>=11088&&u<=11097||u>=11192&&u<=11243)||Kn["CJK Symbols and Punctuation"](u)||Kn.Katakana(u)||Kn["Private Use Area"](u)||Kn["CJK Compatibility Forms"](u)||Kn["Small Form Variants"](u)||Kn["Halfwidth and Fullwidth Forms"](u)||8734===u||8756===u||8757===u||u>=9984&&u<=10087||u>=10102&&u<=10131||65532===u||65533===u));var u}function Vc(d){return d>=1424&&d<=2303||Kn["Arabic Presentation Forms-A"](d)||Kn["Arabic Presentation Forms-B"](d)}function id(d,u){return!(!u&&Vc(d)||d>=2304&&d<=3583||d>=3840&&d<=4255||Kn.Khmer(d))}function Qa(d){for(const u of d)if(Vc(u.charCodeAt(0)))return!0;return!1}const ru="deferred",ec="loading",wo="loaded";let si=null,_i="unavailable",ms=null;const Ua=function(d){d&&"string"==typeof d&&d.indexOf("NetworkError")>-1&&(_i="error"),si&&si(d)};function Ca(){Na.fire(new ir("pluginStateChange",{pluginStatus:_i,pluginURL:ms}))}const Na=new $r,wu=function(){return _i},ys=function(){if(_i!==ru||!ms)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");_i=ec,Ca(),ms&&Rn({url:ms},d=>{d?Ua(d):(_i=wo,Ca())})},Va={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>_i===wo||null!=Va.applyArabicShaping,isLoading:()=>_i===ec,setState(d){if(!tt())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");_i=d.pluginStatus,ms=d.pluginURL},isParsed(){if(!tt())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=Va.applyArabicShaping&&null!=Va.processBidirectionalText&&null!=Va.processStyledBidirectionalText},getPluginURL(){if(!tt())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return ms}};class js{constructor(u,f){this.zoom=u,f?(this.now=f.now,this.fadeDuration=f.fadeDuration,this.zoomHistory=f.zoomHistory,this.transition=f.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ti,this.transition={})}isSupportedScript(u){return function(f,v){for(const T of f)if(!id(T.charCodeAt(0),v))return!1;return!0}(u,Va.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const u=this.zoom,f=u-Math.floor(u),v=this.crossFadingFactor();return u>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:f+(1-f)*v}:{fromScale:.5,toScale:1,t:1-(1-v)*f}}}class Di{constructor(u,f){this.property=u,this.value=f,this.expression=function(v,T){if(Co(v))return new yd(v,T);if(Qu(v)){const P=vc(v,T);if("error"===P.result)throw new Error(P.value.map(N=>`${N.key}: ${N.message}`).join(", "));return P.value}{let P=v;return"color"===T.type&&"string"==typeof v?P=Wi.parse(v):"padding"!==T.type||"number"!=typeof v&&!Array.isArray(v)?"variableAnchorOffsetCollection"===T.type&&Array.isArray(v)&&(P=hs.parse(v)):P=Qr.parse(v),{kind:"constant",evaluate:()=>P}}}(void 0===f?u.specification.default:f,u.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(u,f,v){return this.property.possiblyEvaluate(this,u,f,v)}}class ba{constructor(u){this.property=u,this.value=new Di(u,void 0)}transitioned(u,f){return new sd(this.property,this.value,f,ee({},u.transition,this.transition),u.now)}untransitioned(){return new sd(this.property,this.value,null,{},0)}}class Jd{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitionablePropertyValues)}getValue(u){return st(this._values[u].value.value)}setValue(u,f){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new ba(this._values[u].property)),this._values[u].value=new Di(this._values[u].property,null===f?void 0:st(f))}getTransition(u){return st(this._values[u].transition)}setTransition(u,f){Object.prototype.hasOwnProperty.call(this._values,u)||(this._values[u]=new ba(this._values[u].property)),this._values[u].transition=st(f)||void 0}serialize(){const u={};for(const f of Object.keys(this._values)){const v=this.getValue(f);void 0!==v&&(u[f]=v);const T=this.getTransition(f);void 0!==T&&(u[`${f}-transition`]=T)}return u}transitioned(u,f){const v=new bo(this._properties);for(const T of Object.keys(this._values))v._values[T]=this._values[T].transitioned(u,f._values[T]);return v}untransitioned(){const u=new bo(this._properties);for(const f of Object.keys(this._values))u._values[f]=this._values[f].untransitioned();return u}}class sd{constructor(u,f,v,T,P){this.property=u,this.value=f,this.begin=P+T.delay||0,this.end=this.begin+T.duration||0,u.specification.transition&&(T.delay||T.duration)&&(this.prior=v)}possiblyEvaluate(u,f,v){const T=u.now||0,P=this.value.possiblyEvaluate(u,f,v),N=this.prior;if(N){if(T>this.end)return this.prior=null,P;if(this.value.isDataDriven())return this.prior=null,P;if(T<this.begin)return N.possiblyEvaluate(u,f,v);{const V=(T-this.begin)/(this.end-this.begin);return this.property.interpolate(N.possiblyEvaluate(u,f,v),P,function(Z){if(Z<=0)return 0;if(Z>=1)return 1;const ue=Z*Z,Le=ue*Z;return 4*(Z<.5?Le:3*(Z-ue)+Le-.75)}(V))}}return P}}class bo{constructor(u){this._properties=u,this._values=Object.create(u.defaultTransitioningPropertyValues)}possiblyEvaluate(u,f,v){const T=new vl(this._properties);for(const P of Object.keys(this._values))T._values[P]=this._values[P].possiblyEvaluate(u,f,v);return T}hasTransition(){for(const u of Object.keys(this._values))if(this._values[u].prior)return!0;return!1}}class wc{constructor(u){this._properties=u,this._values=Object.create(u.defaultPropertyValues)}hasValue(u){return void 0!==this._values[u].value}getValue(u){return st(this._values[u].value)}setValue(u,f){this._values[u]=new Di(this._values[u].property,null===f?void 0:st(f))}serialize(){const u={};for(const f of Object.keys(this._values)){const v=this.getValue(f);void 0!==v&&(u[f]=v)}return u}possiblyEvaluate(u,f,v){const T=new vl(this._properties);for(const P of Object.keys(this._values))T._values[P]=this._values[P].possiblyEvaluate(u,f,v);return T}}class xa{constructor(u,f,v){this.property=u,this.value=f,this.parameters=v}isConstant(){return"constant"===this.value.kind}constantOr(u){return"constant"===this.value.kind?this.value.value:u}evaluate(u,f,v,T){return this.property.evaluate(this.value,this.parameters,u,f,v,T)}}class vl{constructor(u){this._properties=u,this._values=Object.create(u.defaultPossiblyEvaluatedValues)}get(u){return this._values[u]}}class yi{constructor(u){this.specification=u}possiblyEvaluate(u,f){if(u.isDataDriven())throw new Error("Value should not be data driven");return u.expression.evaluate(f)}interpolate(u,f,v){const T=bs[this.specification.type];return T?T(u,f,v):u}}class ki{constructor(u,f){this.specification=u,this.overrides=f}possiblyEvaluate(u,f,v,T){return new xa(this,"constant"===u.expression.kind||"camera"===u.expression.kind?{kind:"constant",value:u.expression.evaluate(f,null,{},v,T)}:u.expression,f)}interpolate(u,f,v){if("constant"!==u.value.kind||"constant"!==f.value.kind)return u;if(void 0===u.value.value||void 0===f.value.value)return new xa(this,{kind:"constant",value:void 0},u.parameters);const T=bs[this.specification.type];if(T){const P=T(u.value.value,f.value.value,v);return new xa(this,{kind:"constant",value:P},u.parameters)}return u}evaluate(u,f,v,T,P,N){return"constant"===u.kind?u.value:u.evaluate(f,v,T,P,N)}}class fl extends ki{possiblyEvaluate(u,f,v,T){if(void 0===u.value)return new xa(this,{kind:"constant",value:void 0},f);if("constant"===u.expression.kind){const P=u.expression.evaluate(f,null,{},v,T),N="resolvedImage"===u.property.specification.type&&"string"!=typeof P?P.name:P,V=this._calculate(N,N,N,f);return new xa(this,{kind:"constant",value:V},f)}if("camera"===u.expression.kind){const P=this._calculate(u.expression.evaluate({zoom:f.zoom-1}),u.expression.evaluate({zoom:f.zoom}),u.expression.evaluate({zoom:f.zoom+1}),f);return new xa(this,{kind:"constant",value:P},f)}return new xa(this,u.expression,f)}evaluate(u,f,v,T,P,N){if("source"===u.kind){const V=u.evaluate(f,v,T,P,N);return this._calculate(V,V,V,f)}return"composite"===u.kind?this._calculate(u.evaluate({zoom:Math.floor(f.zoom)-1},v,T),u.evaluate({zoom:Math.floor(f.zoom)},v,T),u.evaluate({zoom:Math.floor(f.zoom)+1},v,T),f):u.value}_calculate(u,f,v,T){return T.zoom>T.zoomHistory.lastIntegerZoom?{from:u,to:f}:{from:v,to:f}}interpolate(u){return u}}class pl{constructor(u){this.specification=u}possiblyEvaluate(u,f,v,T){if(void 0!==u.value){if("constant"===u.expression.kind){const P=u.expression.evaluate(f,null,{},v,T);return this._calculate(P,P,P,f)}return this._calculate(u.expression.evaluate(new js(Math.floor(f.zoom-1),f)),u.expression.evaluate(new js(Math.floor(f.zoom),f)),u.expression.evaluate(new js(Math.floor(f.zoom+1),f)),f)}}_calculate(u,f,v,T){return T.zoom>T.zoomHistory.lastIntegerZoom?{from:u,to:f}:{from:v,to:f}}interpolate(u){return u}}class Fl{constructor(u){this.specification=u}possiblyEvaluate(u,f,v,T){return!!u.expression.evaluate(f,null,{},v,T)}interpolate(){return!1}}class ci{constructor(u){this.properties=u,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const f in u){const v=u[f];v.specification.overridable&&this.overridableProperties.push(f);const T=this.defaultPropertyValues[f]=new Di(v,void 0),P=this.defaultTransitionablePropertyValues[f]=new ba(v);this.defaultTransitioningPropertyValues[f]=P.untransitioned(),this.defaultPossiblyEvaluatedValues[f]=T.possiblyEvaluate({})}}}hi("DataDrivenProperty",ki),hi("DataConstantProperty",yi),hi("CrossFadedDataDrivenProperty",fl),hi("CrossFadedProperty",pl),hi("ColorRampProperty",Fl);const vs="-transition";class Gl extends $r{constructor(u,f){if(super(),this.id=u.id,this.type=u.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==u.type&&(this.metadata=u.metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,"background"!==u.type&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),f.layout&&(this._unevaluatedLayout=new wc(f.layout)),f.paint)){this._transitionablePaint=new Jd(f.paint);for(const v in u.paint)this.setPaintProperty(v,u.paint[v],{validate:!1});for(const v in u.layout)this.setLayoutProperty(v,u.layout[v],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new vl(f.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(u){return"visibility"===u?this.visibility:this._unevaluatedLayout.getValue(u)}setLayoutProperty(u,f,v={}){null!=f&&this._validate(vu,`layers.${this.id}.layout.${u}`,u,f,v)||("visibility"!==u?this._unevaluatedLayout.setValue(u,f):this.visibility=f)}getPaintProperty(u){return u.endsWith(vs)?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)}setPaintProperty(u,f,v={}){if(null!=f&&this._validate(yu,`layers.${this.id}.paint.${u}`,u,f,v))return!1;if(u.endsWith(vs))return this._transitionablePaint.setTransition(u.slice(0,-11),f||void 0),!1;{const T=this._transitionablePaint._values[u],P="cross-faded-data-driven"===T.property.specification["property-type"],N=T.value.isDataDriven(),V=T.value;this._transitionablePaint.setValue(u,f),this._handleSpecialPaintPropertyUpdate(u);const Z=this._transitionablePaint._values[u].value;return Z.isDataDriven()||N||P||this._handleOverridablePaintPropertyUpdate(u,V,Z)}}_handleSpecialPaintPropertyUpdate(u){}_handleOverridablePaintPropertyUpdate(u,f,v){return!1}isHidden(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||"none"===this.visibility}updateTransitions(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(u,f){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,f)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,f)}serialize(){const u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),se(u,(f,v)=>!(void 0===f||"layout"===v&&!Object.keys(f).length||"paint"===v&&!Object.keys(f).length))}_validate(u,f,v,T,P={}){return(!P||!1!==P.validate)&&Qn(this,u.call(wa,{key:f,layerType:this.type,objectKey:v,value:T,styleSpec:en,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const u in this.paint._values){const f=this.paint.get(u);if(f instanceof xa&&mu(f.property.specification)&&("source"===f.value.kind||"composite"===f.value.kind)&&f.value.isStateDependent)return!0}return!1}}const tc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class el{constructor(u,f){this._structArray=u,this._pos1=f*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class xo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(u,f){return u._trim(),f&&(u.isTransferred=!0,f.push(u.arrayBuffer)),{length:u.length,arrayBuffer:u.arrayBuffer}}static deserialize(u){const f=Object.create(this.prototype);return f.arrayBuffer=u.arrayBuffer,f.length=u.length,f.capacity=u.arrayBuffer.byteLength/f.bytesPerElement,f._refreshViews(),f}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(u){this.reserve(u),this.length=u}reserve(u){if(u>this.capacity){this.capacity=Math.max(u,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const f=this.uint8;this._refreshViews(),f&&this.uint8.set(f)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ks(d,u=1){let f=0,v=0;return{members:d.map(T=>{const P=tc[T.type].BYTES_PER_ELEMENT,N=f=io(f,Math.max(u,P)),V=T.components||1;return v=Math.max(v,P),f+=P*V,{name:T.name,type:T.type,components:V,offset:N}}),size:io(f,Math.max(v,u)),alignment:u}}function io(d,u){return Math.ceil(d/u)*u}class nc extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,f){const v=this.length;return this.resize(v+1),this.emplace(v,u,f)}emplace(u,f,v){const T=2*u;return this.int16[T+0]=f,this.int16[T+1]=v,u}}nc.prototype.bytesPerElement=4,hi("StructArrayLayout2i4",nc);class yt extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,f,v){const T=this.length;return this.resize(T+1),this.emplace(T,u,f,v)}emplace(u,f,v,T){const P=3*u;return this.int16[P+0]=f,this.int16[P+1]=v,this.int16[P+2]=T,u}}yt.prototype.bytesPerElement=6,hi("StructArrayLayout3i6",yt);class l extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,f,v,T){const P=this.length;return this.resize(P+1),this.emplace(P,u,f,v,T)}emplace(u,f,v,T,P){const N=4*u;return this.int16[N+0]=f,this.int16[N+1]=v,this.int16[N+2]=T,this.int16[N+3]=P,u}}l.prototype.bytesPerElement=8,hi("StructArrayLayout4i8",l);class c extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,f,v,T,P,N){const V=this.length;return this.resize(V+1),this.emplace(V,u,f,v,T,P,N)}emplace(u,f,v,T,P,N,V){const Z=6*u;return this.int16[Z+0]=f,this.int16[Z+1]=v,this.int16[Z+2]=T,this.int16[Z+3]=P,this.int16[Z+4]=N,this.int16[Z+5]=V,u}}c.prototype.bytesPerElement=12,hi("StructArrayLayout2i4i12",c);class _ extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,f,v,T,P,N){const V=this.length;return this.resize(V+1),this.emplace(V,u,f,v,T,P,N)}emplace(u,f,v,T,P,N,V){const Z=4*u,ue=8*u;return this.int16[Z+0]=f,this.int16[Z+1]=v,this.uint8[ue+4]=T,this.uint8[ue+5]=P,this.uint8[ue+6]=N,this.uint8[ue+7]=V,u}}_.prototype.bytesPerElement=8,hi("StructArrayLayout2i4ub8",_);class w extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,f){const v=this.length;return this.resize(v+1),this.emplace(v,u,f)}emplace(u,f,v){const T=2*u;return this.float32[T+0]=f,this.float32[T+1]=v,u}}w.prototype.bytesPerElement=8,hi("StructArrayLayout2f8",w);class I extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,f,v,T,P,N,V,Z,ue,Le){const Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,u,f,v,T,P,N,V,Z,ue,Le)}emplace(u,f,v,T,P,N,V,Z,ue,Le,Ye){const Qe=10*u;return this.uint16[Qe+0]=f,this.uint16[Qe+1]=v,this.uint16[Qe+2]=T,this.uint16[Qe+3]=P,this.uint16[Qe+4]=N,this.uint16[Qe+5]=V,this.uint16[Qe+6]=Z,this.uint16[Qe+7]=ue,this.uint16[Qe+8]=Le,this.uint16[Qe+9]=Ye,u}}I.prototype.bytesPerElement=20,hi("StructArrayLayout10ui20",I);class W extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe){const ft=this.length;return this.resize(ft+1),this.emplace(ft,u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe)}emplace(u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe,ft){const vt=12*u;return this.int16[vt+0]=f,this.int16[vt+1]=v,this.int16[vt+2]=T,this.int16[vt+3]=P,this.uint16[vt+4]=N,this.uint16[vt+5]=V,this.uint16[vt+6]=Z,this.uint16[vt+7]=ue,this.int16[vt+8]=Le,this.int16[vt+9]=Ye,this.int16[vt+10]=Qe,this.int16[vt+11]=ft,u}}W.prototype.bytesPerElement=24,hi("StructArrayLayout4i4ui4i24",W);class re extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,f,v){const T=this.length;return this.resize(T+1),this.emplace(T,u,f,v)}emplace(u,f,v,T){const P=3*u;return this.float32[P+0]=f,this.float32[P+1]=v,this.float32[P+2]=T,u}}re.prototype.bytesPerElement=12,hi("StructArrayLayout3f12",re);class x extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(u){const f=this.length;return this.resize(f+1),this.emplace(f,u)}emplace(u,f){return this.uint32[1*u+0]=f,u}}x.prototype.bytesPerElement=4,hi("StructArrayLayout1ul4",x);class o extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,f,v,T,P,N,V,Z,ue){const Le=this.length;return this.resize(Le+1),this.emplace(Le,u,f,v,T,P,N,V,Z,ue)}emplace(u,f,v,T,P,N,V,Z,ue,Le){const Ye=10*u,Qe=5*u;return this.int16[Ye+0]=f,this.int16[Ye+1]=v,this.int16[Ye+2]=T,this.int16[Ye+3]=P,this.int16[Ye+4]=N,this.int16[Ye+5]=V,this.uint32[Qe+3]=Z,this.uint16[Ye+8]=ue,this.uint16[Ye+9]=Le,u}}o.prototype.bytesPerElement=20,hi("StructArrayLayout6i1ul2ui20",o);class g extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,f,v,T,P,N){const V=this.length;return this.resize(V+1),this.emplace(V,u,f,v,T,P,N)}emplace(u,f,v,T,P,N,V){const Z=6*u;return this.int16[Z+0]=f,this.int16[Z+1]=v,this.int16[Z+2]=T,this.int16[Z+3]=P,this.int16[Z+4]=N,this.int16[Z+5]=V,u}}g.prototype.bytesPerElement=12,hi("StructArrayLayout2i2i2i12",g);class M extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(u,f,v,T,P){const N=this.length;return this.resize(N+1),this.emplace(N,u,f,v,T,P)}emplace(u,f,v,T,P,N){const V=4*u,Z=8*u;return this.float32[V+0]=f,this.float32[V+1]=v,this.float32[V+2]=T,this.int16[Z+6]=P,this.int16[Z+7]=N,u}}M.prototype.bytesPerElement=16,hi("StructArrayLayout2f1f2i16",M);class S extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,f,v,T){const P=this.length;return this.resize(P+1),this.emplace(P,u,f,v,T)}emplace(u,f,v,T,P){const N=12*u,V=3*u;return this.uint8[N+0]=f,this.uint8[N+1]=v,this.float32[V+1]=T,this.float32[V+2]=P,u}}S.prototype.bytesPerElement=12,hi("StructArrayLayout2ub2f12",S);class A extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,f,v){const T=this.length;return this.resize(T+1),this.emplace(T,u,f,v)}emplace(u,f,v,T){const P=3*u;return this.uint16[P+0]=f,this.uint16[P+1]=v,this.uint16[P+2]=T,u}}A.prototype.bytesPerElement=6,hi("StructArrayLayout3ui6",A);class Y extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe,ft,vt,Rt,Vt,Zt){const Sn=this.length;return this.resize(Sn+1),this.emplace(Sn,u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe,ft,vt,Rt,Vt,Zt)}emplace(u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe,ft,vt,Rt,Vt,Zt,Sn){const Jt=24*u,mn=12*u,Un=48*u;return this.int16[Jt+0]=f,this.int16[Jt+1]=v,this.uint16[Jt+2]=T,this.uint16[Jt+3]=P,this.uint32[mn+2]=N,this.uint32[mn+3]=V,this.uint32[mn+4]=Z,this.uint16[Jt+10]=ue,this.uint16[Jt+11]=Le,this.uint16[Jt+12]=Ye,this.float32[mn+7]=Qe,this.float32[mn+8]=ft,this.uint8[Un+36]=vt,this.uint8[Un+37]=Rt,this.uint8[Un+38]=Vt,this.uint32[mn+10]=Zt,this.int16[Jt+22]=Sn,u}}Y.prototype.bytesPerElement=48,hi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Y);class U extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe,ft,vt,Rt,Vt,Zt,Sn,Jt,mn,Un,ur,di,Ri,oi,ni,Gr,xi){const Vr=this.length;return this.resize(Vr+1),this.emplace(Vr,u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe,ft,vt,Rt,Vt,Zt,Sn,Jt,mn,Un,ur,di,Ri,oi,ni,Gr,xi)}emplace(u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe,ft,vt,Rt,Vt,Zt,Sn,Jt,mn,Un,ur,di,Ri,oi,ni,Gr,xi,Vr){const Dr=32*u,Vi=16*u;return this.int16[Dr+0]=f,this.int16[Dr+1]=v,this.int16[Dr+2]=T,this.int16[Dr+3]=P,this.int16[Dr+4]=N,this.int16[Dr+5]=V,this.int16[Dr+6]=Z,this.int16[Dr+7]=ue,this.uint16[Dr+8]=Le,this.uint16[Dr+9]=Ye,this.uint16[Dr+10]=Qe,this.uint16[Dr+11]=ft,this.uint16[Dr+12]=vt,this.uint16[Dr+13]=Rt,this.uint16[Dr+14]=Vt,this.uint16[Dr+15]=Zt,this.uint16[Dr+16]=Sn,this.uint16[Dr+17]=Jt,this.uint16[Dr+18]=mn,this.uint16[Dr+19]=Un,this.uint16[Dr+20]=ur,this.uint16[Dr+21]=di,this.uint16[Dr+22]=Ri,this.uint32[Vi+12]=oi,this.float32[Vi+13]=ni,this.float32[Vi+14]=Gr,this.uint16[Dr+30]=xi,this.uint16[Dr+31]=Vr,u}}U.prototype.bytesPerElement=64,hi("StructArrayLayout8i15ui1ul2f2ui64",U);class K extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u){const f=this.length;return this.resize(f+1),this.emplace(f,u)}emplace(u,f){return this.float32[1*u+0]=f,u}}K.prototype.bytesPerElement=4,hi("StructArrayLayout1f4",K);class ge extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,f,v){const T=this.length;return this.resize(T+1),this.emplace(T,u,f,v)}emplace(u,f,v,T){const P=3*u;return this.uint16[6*u+0]=f,this.float32[P+1]=v,this.float32[P+2]=T,u}}ge.prototype.bytesPerElement=12,hi("StructArrayLayout1ui2f12",ge);class Ce extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,f,v){const T=this.length;return this.resize(T+1),this.emplace(T,u,f,v)}emplace(u,f,v,T){const P=4*u;return this.uint32[2*u+0]=f,this.uint16[P+2]=v,this.uint16[P+3]=T,u}}Ce.prototype.bytesPerElement=8,hi("StructArrayLayout1ul2ui8",Ce);class Ne extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u,f){const v=this.length;return this.resize(v+1),this.emplace(v,u,f)}emplace(u,f,v){const T=2*u;return this.uint16[T+0]=f,this.uint16[T+1]=v,u}}Ne.prototype.bytesPerElement=4,hi("StructArrayLayout2ui4",Ne);class ot extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(u){const f=this.length;return this.resize(f+1),this.emplace(f,u)}emplace(u,f){return this.uint16[1*u+0]=f,u}}ot.prototype.bytesPerElement=2,hi("StructArrayLayout1ui2",ot);class Pt extends xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(u,f,v,T){const P=this.length;return this.resize(P+1),this.emplace(P,u,f,v,T)}emplace(u,f,v,T,P){const N=4*u;return this.float32[N+0]=f,this.float32[N+1]=v,this.float32[N+2]=T,this.float32[N+3]=P,u}}Pt.prototype.bytesPerElement=16,hi("StructArrayLayout4f16",Pt);class Lt extends el{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new ie(this.anchorPointX,this.anchorPointY)}}Lt.prototype.size=20;class jt extends o{get(u){return new Lt(this,u)}}hi("CollisionBoxArray",jt);class Nt extends el{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(u){this._structArray.uint8[this._pos1+37]=u}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(u){this._structArray.uint8[this._pos1+38]=u}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(u){this._structArray.uint32[this._pos4+10]=u}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Nt.prototype.size=48;class vn extends Y{get(u){return new Nt(this,u)}}hi("PlacedSymbolArray",vn);class Pn extends el{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(u){this._structArray.uint32[this._pos4+12]=u}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Pn.prototype.size=64;class bt extends U{get(u){return new Pn(this,u)}}hi("SymbolInstanceArray",bt);class Mn extends K{getoffsetX(u){return this.float32[1*u+0]}}hi("GlyphOffsetArray",Mn);class Bn extends yt{getx(u){return this.int16[3*u+0]}gety(u){return this.int16[3*u+1]}gettileUnitDistanceFromAnchor(u){return this.int16[3*u+2]}}hi("SymbolLineVertexArray",Bn);class qn extends el{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}qn.prototype.size=12;class Hn extends ge{get(u){return new qn(this,u)}}hi("TextAnchorOffsetArray",Hn);class _r extends el{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}_r.prototype.size=8;class yr extends Ce{get(u){return new _r(this,u)}}hi("FeatureIndexArray",yr);class Fr extends nc{}class ti extends nc{}class Hs extends nc{}class Br extends c{}class Ki extends _{}class Oi extends w{}class Ws extends I{}class Rs extends W{}class Ss extends re{}class Ks extends x{}class tl extends g{}class co extends S{}class Tl extends A{}class Ra extends Ne{}const Mo=ks([{name:"a_pos",components:2,type:"Int16"}],4),{members:bu}=Mo;class ao{constructor(u=[]){this.segments=u}prepareSegment(u,f,v,T){let P=this.segments[this.segments.length-1];return u>ao.MAX_VERTEX_ARRAY_LENGTH&&rt(`Max vertices per segment is ${ao.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${u}`),(!P||P.vertexLength+u>ao.MAX_VERTEX_ARRAY_LENGTH||P.sortKey!==T)&&(P={vertexOffset:f.length,primitiveOffset:v.length,vertexLength:0,primitiveLength:0},void 0!==T&&(P.sortKey=T),this.segments.push(P)),P}get(){return this.segments}destroy(){for(const u of this.segments)for(const f in u.vaos)u.vaos[f].destroy()}static simpleSegment(u,f,v,T){return new ao([{vertexOffset:u,primitiveOffset:f,vertexLength:v,primitiveLength:T,vaos:{},sortKey:0}])}}function iu(d,u){return 256*(d=te(Math.floor(d),0,255))+te(Math.floor(u),0,255)}ao.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,hi("SegmentVector",ao);const Au=ks([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var $u={exports:{}},su=function(d,u){var f,v,T,P,N,V,Z,ue;for(v=d.length-(f=3&d.length),T=u,N=3432918353,V=461845907,ue=0;ue<v;)Z=255&d.charCodeAt(ue)|(255&d.charCodeAt(++ue))<<8|(255&d.charCodeAt(++ue))<<16|(255&d.charCodeAt(++ue))<<24,++ue,T=27492+(65535&(P=5*(65535&(T=(T^=Z=(65535&(Z=(Z=(65535&Z)*N+(((Z>>>16)*N&65535)<<16)&4294967295)<<15|Z>>>17))*V+(((Z>>>16)*V&65535)<<16)&4294967295)<<13|T>>>19))+((5*(T>>>16)&65535)<<16)&4294967295))+((58964+(P>>>16)&65535)<<16);switch(Z=0,f){case 3:Z^=(255&d.charCodeAt(ue+2))<<16;case 2:Z^=(255&d.charCodeAt(ue+1))<<8;case 1:T^=Z=(65535&(Z=(Z=(65535&(Z^=255&d.charCodeAt(ue)))*N+(((Z>>>16)*N&65535)<<16)&4294967295)<<15|Z>>>17))*V+(((Z>>>16)*V&65535)<<16)&4294967295}return T^=d.length,T=2246822507*(65535&(T^=T>>>16))+((2246822507*(T>>>16)&65535)<<16)&4294967295,T=3266489909*(65535&(T^=T>>>13))+((3266489909*(T>>>16)&65535)<<16)&4294967295,(T^=T>>>16)>>>0},Pu=function(d,u){for(var f,v=d.length,T=u^v,P=0;v>=4;)f=1540483477*(65535&(f=255&d.charCodeAt(P)|(255&d.charCodeAt(++P))<<8|(255&d.charCodeAt(++P))<<16|(255&d.charCodeAt(++P))<<24))+((1540483477*(f>>>16)&65535)<<16),T=1540483477*(65535&T)+((1540483477*(T>>>16)&65535)<<16)^(f=1540483477*(65535&(f^=f>>>24))+((1540483477*(f>>>16)&65535)<<16)),v-=4,++P;switch(v){case 3:T^=(255&d.charCodeAt(P+2))<<16;case 2:T^=(255&d.charCodeAt(P+1))<<8;case 1:T=1540483477*(65535&(T^=255&d.charCodeAt(P)))+((1540483477*(T>>>16)&65535)<<16)}return T=1540483477*(65535&(T^=T>>>13))+((1540483477*(T>>>16)&65535)<<16),(T^=T>>>15)>>>0};$u.exports=su,$u.exports.murmur3=su,$u.exports.murmur2=Pu;var nl=R($u.exports);class Ya{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(u,f,v,T){this.ids.push(Cl(u)),this.positions.push(f,v,T)}getPositions(u){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const f=Cl(u);let v=0,T=this.ids.length-1;for(;v<T;){const N=v+T>>1;this.ids[N]>=f?T=N:v=N+1}const P=[];for(;this.ids[v]===f;)P.push({index:this.positions[3*v],start:this.positions[3*v+1],end:this.positions[3*v+2]}),v++;return P}static serialize(u,f){const v=new Float64Array(u.ids),T=new Uint32Array(u.positions);return Ga(v,T,0,v.length-1),f&&f.push(v.buffer,T.buffer),{ids:v,positions:T}}static deserialize(u){const f=new Ya;return f.ids=u.ids,f.positions=u.positions,f.indexed=!0,f}}function Cl(d){const u=+d;return!isNaN(u)&&u<=Number.MAX_SAFE_INTEGER?u:nl(String(d))}function Ga(d,u,f,v){for(;f<v;){const T=d[f+v>>1];let P=f-1,N=v+1;for(;;){do{P++}while(d[P]<T);do{N--}while(d[N]>T);if(P>=N)break;Ma(d,P,N),Ma(u,3*P,3*N),Ma(u,3*P+1,3*N+1),Ma(u,3*P+2,3*N+2)}N-f<v-N?(Ga(d,u,f,N),f=N+1):(Ga(d,u,N+1,v),v=N)}}function Ma(d,u,f){const v=d[u];d[u]=d[f],d[f]=v}hi("FeaturePositionMap",Ya);class od{constructor(u,f){this.gl=u.gl,this.location=f}}class Gc extends od{constructor(u,f){super(u,f),this.current=0}set(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class qh extends od{constructor(u,f){super(u,f),this.current=[0,0,0,0]}set(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))}}class ou extends od{constructor(u,f){super(u,f),this.current=Wi.transparent}set(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))}}const yf=new Float32Array(16);function vf(d){return[iu(255*d.r,255*d.g),iu(255*d.b,255*d.a)]}class Wc{constructor(u,f,v){this.value=u,this.uniformNames=f.map(T=>`u_${T}`),this.type=v}setUniform(u,f,v){u.set(v.constantOr(this.value))}getBinding(u,f,v){return"color"===this.type?new ou(u,f):new Gc(u,f)}}class wd{constructor(u,f){this.uniformNames=f.map(v=>`u_${v}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(u,f){this.pixelRatioFrom=f.pixelRatio,this.pixelRatioTo=u.pixelRatio,this.patternFrom=f.tlbr,this.patternTo=u.tlbr}setUniform(u,f,v,T){const P="u_pattern_to"===T?this.patternTo:"u_pattern_from"===T?this.patternFrom:"u_pixel_ratio_to"===T?this.pixelRatioTo:"u_pixel_ratio_from"===T?this.pixelRatioFrom:null;P&&u.set(P)}getBinding(u,f,v){return"u_pattern"===v.substr(0,9)?new qh(u,f):new Gc(u,f)}}class Dl{constructor(u,f,v,T){this.expression=u,this.type=v,this.maxValue=0,this.paintVertexAttributes=f.map(P=>({name:`a_${P}`,type:"Float32",components:"color"===v?2:1,offset:0})),this.paintVertexArray=new T}populatePaintArray(u,f,v,T,P){const N=this.paintVertexArray.length,V=this.expression.evaluate(new js(0),f,{},T,[],P);this.paintVertexArray.resize(u),this._setPaintValue(N,u,V)}updatePaintArray(u,f,v,T){const P=this.expression.evaluate({zoom:0},v,T);this._setPaintValue(u,f,P)}_setPaintValue(u,f,v){if("color"===this.type){const T=vf(v);for(let P=u;P<f;P++)this.paintVertexArray.emplace(P,T[0],T[1])}else{for(let T=u;T<f;T++)this.paintVertexArray.emplace(T,v);this.maxValue=Math.max(this.maxValue,Math.abs(v))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Wl{constructor(u,f,v,T,P,N){this.expression=u,this.uniformNames=f.map(V=>`u_${V}_t`),this.type=v,this.useIntegerZoom=T,this.zoom=P,this.maxValue=0,this.paintVertexAttributes=f.map(V=>({name:`a_${V}`,type:"Float32",components:"color"===v?4:2,offset:0})),this.paintVertexArray=new N}populatePaintArray(u,f,v,T,P){const N=this.expression.evaluate(new js(this.zoom),f,{},T,[],P),V=this.expression.evaluate(new js(this.zoom+1),f,{},T,[],P),Z=this.paintVertexArray.length;this.paintVertexArray.resize(u),this._setPaintValue(Z,u,N,V)}updatePaintArray(u,f,v,T){const P=this.expression.evaluate({zoom:this.zoom},v,T),N=this.expression.evaluate({zoom:this.zoom+1},v,T);this._setPaintValue(u,f,P,N)}_setPaintValue(u,f,v,T){if("color"===this.type){const P=vf(v),N=vf(T);for(let V=u;V<f;V++)this.paintVertexArray.emplace(V,P[0],P[1],N[0],N[1])}else{for(let P=u;P<f;P++)this.paintVertexArray.emplace(P,v,T);this.maxValue=Math.max(this.maxValue,Math.abs(v),Math.abs(T))}}upload(u){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=u.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(u,f){const v=this.useIntegerZoom?Math.floor(f.zoom):f.zoom,T=te(this.expression.interpolationFactor(v,this.zoom,this.zoom+1),0,1);u.set(T)}getBinding(u,f,v){return new Gc(u,f)}}class Uu{constructor(u,f,v,T,P,N){this.expression=u,this.type=f,this.useIntegerZoom=v,this.zoom=T,this.layerId=N,this.zoomInPaintVertexArray=new P,this.zoomOutPaintVertexArray=new P}populatePaintArray(u,f,v){const T=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(u),this.zoomOutPaintVertexArray.resize(u),this._setPaintValues(T,u,f.patterns&&f.patterns[this.layerId],v)}updatePaintArray(u,f,v,T,P){this._setPaintValues(u,f,v.patterns&&v.patterns[this.layerId],P)}_setPaintValues(u,f,v,T){if(!T||!v)return;const{min:P,mid:N,max:V}=v,Z=T[P],ue=T[N],Le=T[V];if(Z&&ue&&Le)for(let Ye=u;Ye<f;Ye++)this.zoomInPaintVertexArray.emplace(Ye,ue.tl[0],ue.tl[1],ue.br[0],ue.br[1],Z.tl[0],Z.tl[1],Z.br[0],Z.br[1],ue.pixelRatio,Z.pixelRatio),this.zoomOutPaintVertexArray.emplace(Ye,ue.tl[0],ue.tl[1],ue.br[0],ue.br[1],Le.tl[0],Le.tl[1],Le.br[0],Le.br[1],ue.pixelRatio,Le.pixelRatio)}upload(u){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=u.createVertexBuffer(this.zoomInPaintVertexArray,Au.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=u.createVertexBuffer(this.zoomOutPaintVertexArray,Au.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class wf{constructor(u,f,v){this.binders={},this._buffers=[];const T=[];for(const P in u.paint._values){if(!v(P))continue;const N=u.paint.get(P);if(!(N instanceof xa&&mu(N.property.specification)))continue;const V=bc(P,u.type),Z=N.value,ue=N.property.specification.type,Le=N.property.useIntegerZoom,Ye=N.property.specification["property-type"],Qe="cross-faded"===Ye||"cross-faded-data-driven"===Ye;if("constant"===Z.kind)this.binders[P]=Qe?new wd(Z.value,V):new Wc(Z.value,V,ue),T.push(`/u_${P}`);else if("source"===Z.kind||Qe){const ft=Mh(P,ue,"source");this.binders[P]=Qe?new Uu(Z,ue,Le,f,ft,u.id):new Dl(Z,V,ue,ft),T.push(`/a_${P}`)}else{const ft=Mh(P,ue,"composite");this.binders[P]=new Wl(Z,V,ue,Le,f,ft),T.push(`/z_${P}`)}}this.cacheKey=T.sort().join("")}getMaxValue(u){const f=this.binders[u];return f instanceof Dl||f instanceof Wl?f.maxValue:0}populatePaintArrays(u,f,v,T,P){for(const N in this.binders){const V=this.binders[N];(V instanceof Dl||V instanceof Wl||V instanceof Uu)&&V.populatePaintArray(u,f,v,T,P)}}setConstantPatternPositions(u,f){for(const v in this.binders){const T=this.binders[v];T instanceof wd&&T.setConstantPatternPositions(u,f)}}updatePaintArrays(u,f,v,T,P){let N=!1;for(const V in u){const Z=f.getPositions(V);for(const ue of Z){const Le=v.feature(ue.index);for(const Ye in this.binders){const Qe=this.binders[Ye];if((Qe instanceof Dl||Qe instanceof Wl||Qe instanceof Uu)&&!0===Qe.expression.isStateDependent){const ft=T.paint.get(Ye);Qe.expression=ft.value,Qe.updatePaintArray(ue.start,ue.end,Le,u[V],P),N=!0}}}}return N}defines(){const u=[];for(const f in this.binders){const v=this.binders[f];(v instanceof Wc||v instanceof wd)&&u.push(...v.uniformNames.map(T=>`#define HAS_UNIFORM_${T}`))}return u}getBinderAttributes(){const u=[];for(const f in this.binders){const v=this.binders[f];if(v instanceof Dl||v instanceof Wl)for(let T=0;T<v.paintVertexAttributes.length;T++)u.push(v.paintVertexAttributes[T].name);else if(v instanceof Uu)for(let T=0;T<Au.members.length;T++)u.push(Au.members[T].name)}return u}getBinderUniforms(){const u=[];for(const f in this.binders){const v=this.binders[f];if(v instanceof Wc||v instanceof wd||v instanceof Wl)for(const T of v.uniformNames)u.push(T)}return u}getPaintVertexBuffers(){return this._buffers}getUniforms(u,f){const v=[];for(const T in this.binders){const P=this.binders[T];if(P instanceof Wc||P instanceof wd||P instanceof Wl)for(const N of P.uniformNames)if(f[N]){const V=P.getBinding(u,f[N],N);v.push({name:N,property:T,binding:V})}}return v}setUniforms(u,f,v,T){for(const{name:P,property:N,binding:V}of f)this.binders[N].setUniform(V,T,v.get(N),P)}updatePaintBuffers(u){this._buffers=[];for(const f in this.binders){const v=this.binders[f];if(u&&v instanceof Uu){const T=2===u.fromScale?v.zoomInPaintVertexBuffer:v.zoomOutPaintVertexBuffer;T&&this._buffers.push(T)}else(v instanceof Dl||v instanceof Wl)&&v.paintVertexBuffer&&this._buffers.push(v.paintVertexBuffer)}}upload(u){for(const f in this.binders){const v=this.binders[f];(v instanceof Dl||v instanceof Wl||v instanceof Uu)&&v.upload(u)}this.updatePaintBuffers()}destroy(){for(const u in this.binders){const f=this.binders[u];(f instanceof Dl||f instanceof Wl||f instanceof Uu)&&f.destroy()}}}class ad{constructor(u,f,v=(()=>!0)){this.programConfigurations={};for(const T of u)this.programConfigurations[T.id]=new wf(T,f,v);this.needsUpload=!1,this._featureMap=new Ya,this._bufferOffset=0}populatePaintArrays(u,f,v,T,P,N){for(const V in this.programConfigurations)this.programConfigurations[V].populatePaintArrays(u,f,T,P,N);void 0!==f.id&&this._featureMap.add(f.id,v,this._bufferOffset,u),this._bufferOffset=u,this.needsUpload=!0}updatePaintArrays(u,f,v,T){for(const P of v)this.needsUpload=this.programConfigurations[P.id].updatePaintArrays(u,this._featureMap,f,P,T)||this.needsUpload}get(u){return this.programConfigurations[u]}upload(u){if(this.needsUpload){for(const f in this.programConfigurations)this.programConfigurations[f].upload(u);this.needsUpload=!1}}destroy(){for(const u in this.programConfigurations)this.programConfigurations[u].destroy()}}function bc(d,u){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[d]||[d.replace(`${u}-`,"").replace(/-/g,"_")]}function Mh(d,u,f){const T={"line-pattern":{source:Ws,composite:Ws},"fill-pattern":{source:Ws,composite:Ws},"fill-extrusion-pattern":{source:Ws,composite:Ws}}[d];return T&&T[f]||{color:{source:w,composite:Pt},number:{source:K,composite:w}}[u][f]}hi("ConstantBinder",Wc),hi("CrossFadedConstantBinder",wd),hi("SourceExpressionBinder",Dl),hi("CrossFadedCompositeBinder",Uu),hi("CompositeExpressionBinder",Wl),hi("ProgramConfiguration",wf,{omit:["_buffers"]}),hi("ProgramConfigurationSet",ad);const gl=8192,Qd=Math.pow(2,14)-1,eh=-Qd-1;function so(d){const u=gl/d.extent,f=d.loadGeometry();for(let v=0;v<f.length;v++){const T=f[v];for(let P=0;P<T.length;P++){const N=T[P],V=Math.round(N.x*u),Z=Math.round(N.y*u);N.x=te(V,eh,Qd),N.y=te(Z,eh,Qd),(V<N.x||V>N.x+1||Z<N.y||Z>N.y+1)&&rt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return f}function k(d,u){return{type:d.type,id:d.id,properties:d.properties,geometry:u?so(d):[]}}function q(d,u,f,v,T){d.emplaceBack(2*u+(v+1)/2,2*f+(T+1)/2)}class _e{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(f=>f.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new ti,this.indexArray=new Tl,this.segments=new ao,this.programConfigurations=new ad(u.layers,u.zoom),this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(u,f,v){const T=this.layers[0],P=[];let N=null,V=!1;"circle"===T.type&&(N=T.layout.get("circle-sort-key"),V=!N.isConstant());for(const{feature:Z,id:ue,index:Le,sourceLayerIndex:Ye}of u){const Qe=this.layers[0]._featureFilter.needGeometry,ft=k(Z,Qe);if(!this.layers[0]._featureFilter.filter(new js(this.zoom),ft,v))continue;const vt=V?N.evaluate(ft,{},v):void 0,Rt={id:ue,properties:Z.properties,type:Z.type,sourceLayerIndex:Ye,index:Le,geometry:Qe?ft.geometry:so(Z),patterns:{},sortKey:vt};P.push(Rt)}V&&P.sort((Z,ue)=>Z.sortKey-ue.sortKey);for(const Z of P){const{geometry:ue,index:Le,sourceLayerIndex:Ye}=Z,Qe=u[Le].feature;this.addFeature(Z,ue,Le,v),f.featureIndex.insert(Qe,ue,Le,Ye,this.index)}}update(u,f,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,f,this.stateDependentLayers,v)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,bu),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(u,f,v,T){for(const P of f)for(const N of P){const V=N.x,Z=N.y;if(V<0||V>=gl||Z<0||Z>=gl)continue;const ue=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,u.sortKey),Le=ue.vertexLength;q(this.layoutVertexArray,V,Z,-1,-1),q(this.layoutVertexArray,V,Z,1,-1),q(this.layoutVertexArray,V,Z,1,1),q(this.layoutVertexArray,V,Z,-1,1),this.indexArray.emplaceBack(Le,Le+1,Le+2),this.indexArray.emplaceBack(Le,Le+3,Le+2),ue.vertexLength+=4,ue.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,v,{},T)}}function Fe(d,u){for(let f=0;f<d.length;f++)if(lu(u,d[f]))return!0;for(let f=0;f<u.length;f++)if(lu(d,u[f]))return!0;return!!Ni(d,u)}function wt(d,u,f){return!!lu(d,u)||!!ws(u,d,f)}function pn(d,u){if(1===d.length)return ld(u,d[0]);for(let f=0;f<u.length;f++){const v=u[f];for(let T=0;T<v.length;T++)if(lu(d,v[T]))return!0}for(let f=0;f<d.length;f++)if(ld(u,d[f]))return!0;for(let f=0;f<u.length;f++)if(Ni(d,u[f]))return!0;return!1}function Vn(d,u,f){if(d.length>1){if(Ni(d,u))return!0;for(let v=0;v<u.length;v++)if(ws(u[v],d,f))return!0}for(let v=0;v<d.length;v++)if(ws(d[v],u,f))return!0;return!1}function Ni(d,u){if(0===d.length||0===u.length)return!1;for(let f=0;f<d.length-1;f++){const v=d[f],T=d[f+1];for(let P=0;P<u.length-1;P++)if(Es(v,T,u[P],u[P+1]))return!0}return!1}function Es(d,u,f,v){return Te(d,f,v)!==Te(u,f,v)&&Te(d,u,f)!==Te(d,u,v)}function ws(d,u,f){const v=f*f;if(1===u.length)return d.distSqr(u[0])<v;for(let T=1;T<u.length;T++)if(au(d,u[T-1],u[T])<v)return!0;return!1}function au(d,u,f){const v=u.distSqr(f);if(0===v)return d.distSqr(u);const T=((d.x-u.x)*(f.x-u.x)+(d.y-u.y)*(f.y-u.y))/v;return d.distSqr(T<0?u:T>1?f:f.sub(u)._mult(T)._add(u))}function ld(d,u){let f,v,T,P=!1;for(let N=0;N<d.length;N++){f=d[N];for(let V=0,Z=f.length-1;V<f.length;Z=V++)v=f[V],T=f[Z],v.y>u.y!=T.y>u.y&&u.x<(T.x-v.x)*(u.y-v.y)/(T.y-v.y)+v.x&&(P=!P)}return P}function lu(d,u){let f=!1;for(let v=0,T=d.length-1;v<d.length;T=v++){const P=d[v],N=d[T];P.y>u.y!=N.y>u.y&&u.x<(N.x-P.x)*(u.y-P.y)/(N.y-P.y)+P.x&&(f=!f)}return f}function qc(d,u,f){const v=f[0],T=f[2];if(d.x<v.x&&u.x<v.x||d.x>T.x&&u.x>T.x||d.y<v.y&&u.y<v.y||d.y>T.y&&u.y>T.y)return!1;const P=Te(d,u,f[0]);return P!==Te(d,u,f[1])||P!==Te(d,u,f[2])||P!==Te(d,u,f[3])}function Bp(d,u,f){const v=u.paint.get(d).value;return"constant"===v.kind?v.value:f.programConfigurations.get(u.id).getMaxValue(d)}function Yp(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1])}function Lg(d,u,f,v,T){if(!u[0]&&!u[1])return d;const P=ie.convert(u)._mult(T);"viewport"===f&&P._rotate(-v);const N=[];for(let V=0;V<d.length;V++)N.push(d[V].sub(P));return N}let Id,Ag;hi("CircleBucket",_e,{omit:["layers"]});var Rm={get paint(){return Ag=Ag||new ci({"circle-radius":new ki(en.paint_circle["circle-radius"]),"circle-color":new ki(en.paint_circle["circle-color"]),"circle-blur":new ki(en.paint_circle["circle-blur"]),"circle-opacity":new ki(en.paint_circle["circle-opacity"]),"circle-translate":new yi(en.paint_circle["circle-translate"]),"circle-translate-anchor":new yi(en.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yi(en.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yi(en.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ki(en.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ki(en.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ki(en.paint_circle["circle-stroke-opacity"])})},get layout(){return Id=Id||new ci({"circle-sort-key":new ki(en.layout_circle["circle-sort-key"])})}},rc=1e-6,Sh=typeof Float32Array<"u"?Float32Array:Array;function ho(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}function dy(d,u,f){var v=u[0],T=u[1],P=u[2],N=u[3],V=u[4],Z=u[5],ue=u[6],Le=u[7],Ye=u[8],Qe=u[9],ft=u[10],vt=u[11],Rt=u[12],Vt=u[13],Zt=u[14],Sn=u[15],Jt=f[0],mn=f[1],Un=f[2],ur=f[3];return d[0]=Jt*v+mn*V+Un*Ye+ur*Rt,d[1]=Jt*T+mn*Z+Un*Qe+ur*Vt,d[2]=Jt*P+mn*ue+Un*ft+ur*Zt,d[3]=Jt*N+mn*Le+Un*vt+ur*Sn,d[4]=(Jt=f[4])*v+(mn=f[5])*V+(Un=f[6])*Ye+(ur=f[7])*Rt,d[5]=Jt*T+mn*Z+Un*Qe+ur*Vt,d[6]=Jt*P+mn*ue+Un*ft+ur*Zt,d[7]=Jt*N+mn*Le+Un*vt+ur*Sn,d[8]=(Jt=f[8])*v+(mn=f[9])*V+(Un=f[10])*Ye+(ur=f[11])*Rt,d[9]=Jt*T+mn*Z+Un*Qe+ur*Vt,d[10]=Jt*P+mn*ue+Un*ft+ur*Zt,d[11]=Jt*N+mn*Le+Un*vt+ur*Sn,d[12]=(Jt=f[12])*v+(mn=f[13])*V+(Un=f[14])*Ye+(ur=f[15])*Rt,d[13]=Jt*T+mn*Z+Un*Qe+ur*Vt,d[14]=Jt*P+mn*ue+Un*ft+ur*Zt,d[15]=Jt*N+mn*Le+Un*vt+ur*Sn,d}Math.hypot||(Math.hypot=function(){for(var d=0,u=arguments.length;u--;)d+=arguments[u]*arguments[u];return Math.sqrt(d)});var Ts,Jf=dy;function Pg(d,u,f){var v=u[0],T=u[1],P=u[2],N=u[3];return d[0]=f[0]*v+f[4]*T+f[8]*P+f[12]*N,d[1]=f[1]*v+f[5]*T+f[9]*P+f[13]*N,d[2]=f[2]*v+f[6]*T+f[10]*P+f[14]*N,d[3]=f[3]*v+f[7]*T+f[11]*P+f[15]*N,d}Ts=new Sh(4),Sh!=Float32Array&&(Ts[0]=0,Ts[1]=0,Ts[2]=0,Ts[3]=0);class s0 extends Gl{constructor(u){super(u,Rm)}createBucket(u){return new _e(u)}queryRadius(u){const f=u;return Bp("circle-radius",this,f)+Bp("circle-stroke-width",this,f)+Yp(this.paint.get("circle-translate"))}queryIntersectsFeature(u,f,v,T,P,N,V,Z){const ue=Lg(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),N.angle,V),Le=this.paint.get("circle-radius").evaluate(f,v)+this.paint.get("circle-stroke-width").evaluate(f,v),Ye="map"===this.paint.get("circle-pitch-alignment"),Qe=Ye?ue:(Rt=Z,ue.map(Vt=>hy(Vt,Rt))),ft=Ye?Le*V:Le;var Rt;for(const vt of T)for(const Rt of vt){const Vt=Ye?Rt:hy(Rt,Z);let Zt=ft;const Sn=Pg([],[Rt.x,Rt.y,0,1],Z);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Zt*=Sn[3]/N.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Zt*=N.cameraToCenterDistance/Sn[3]),wt(Qe,Vt,Zt))return!0}return!1}}function hy(d,u){const f=Pg([],[d.x,d.y,0,1],u);return new ie(f[0]/f[3],f[1]/f[3])}class ud extends _e{}let Fm;hi("HeatmapBucket",ud,{omit:["layers"]});var Eh={get paint(){return Fm=Fm||new ci({"heatmap-radius":new ki(en.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ki(en.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yi(en.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Fl(en.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yi(en.paint_heatmap["heatmap-opacity"])})}};function zp(d,{width:u,height:f},v,T){if(T){if(T instanceof Uint8ClampedArray)T=new Uint8Array(T.buffer);else if(T.length!==u*f*v)throw new RangeError(`mismatched image size. expected: ${T.length} but got: ${u*f*v}`)}else T=new Uint8Array(u*f*v);return d.width=u,d.height=f,d.data=T,d}function Bm(d,{width:u,height:f},v){if(u===d.width&&f===d.height)return;const T=zp({},{width:u,height:f},v);kg(d,T,{x:0,y:0},{x:0,y:0},{width:Math.min(d.width,u),height:Math.min(d.height,f)},v),d.width=u,d.height=f,d.data=T.data}function kg(d,u,f,v,T,P){if(0===T.width||0===T.height)return u;if(T.width>d.width||T.height>d.height||f.x>d.width-T.width||f.y>d.height-T.height)throw new RangeError("out of range source coordinates for image copy");if(T.width>u.width||T.height>u.height||v.x>u.width-T.width||v.y>u.height-T.height)throw new RangeError("out of range destination coordinates for image copy");const N=d.data,V=u.data;if(N===V)throw new Error("srcData equals dstData, so image is already copied");for(let Z=0;Z<T.height;Z++){const ue=((f.y+Z)*d.width+f.x)*P,Le=((v.y+Z)*u.width+v.x)*P;for(let Ye=0;Ye<T.width*P;Ye++)V[Le+Ye]=N[ue+Ye]}return u}class ic{constructor(u,f){zp(this,u,1,f)}resize(u){Bm(this,u,1)}clone(){return new ic({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,f,v,T,P){kg(u,f,v,T,P,1)}}class xu{constructor(u,f){zp(this,u,4,f)}resize(u){Bm(this,u,4)}replace(u,f){f?this.data.set(u):this.data=u instanceof Uint8ClampedArray?new Uint8Array(u.buffer):u}clone(){return new xu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(u,f,v,T,P){kg(u,f,v,T,P,4)}}function Cr(d){const u={},f=d.resolution||256,v=d.clips?d.clips.length:1,T=d.image||new xu({width:f,height:v});if(Math.log(f)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${f}`);const P=(N,V,Z)=>{u[d.evaluationKey]=Z;const ue=d.expression.evaluate(u);T.data[N+V+0]=Math.floor(255*ue.r/ue.a),T.data[N+V+1]=Math.floor(255*ue.g/ue.a),T.data[N+V+2]=Math.floor(255*ue.b/ue.a),T.data[N+V+3]=Math.floor(255*ue.a)};if(d.clips)for(let N=0,V=0;N<v;++N,V+=4*f)for(let Z=0,ue=0;Z<f;Z++,ue+=4){const Le=Z/(f-1),{start:Ye,end:Qe}=d.clips[N];P(V,ue,Ye*(1-Le)+Qe*Le)}else for(let N=0,V=0;N<f;N++,V+=4)P(0,V,N/(f-1));return T}hi("AlphaImage",ic),hi("RGBAImage",xu);class Yo extends Gl{createBucket(u){return new ud(u)}constructor(u){super(u,Eh),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){"heatmap-color"===u&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Cr({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let Ar;var kr={get paint(){return Ar=Ar||new ci({"hillshade-illumination-direction":new yi(en.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new yi(en.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yi(en.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yi(en.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yi(en.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yi(en.paint_hillshade["hillshade-accent-color"])})}};class ku extends Gl{constructor(u){super(u,kr)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const Ym=ks([{name:"a_pos",components:2,type:"Int16"}],4),{members:bf}=Ym;var Xc={exports:{}};function cd(d,u,f){f=f||2;var v,T,P,N,V,Z,ue,Le=u&&u.length,Ye=Le?u[0]*f:d.length,Qe=Og(d,0,Ye,f,!0),ft=[];if(!Qe||Qe.next===Qe.prev)return ft;if(Le&&(Qe=function(Rt,Vt,Zt,Sn){var Jt,mn,Un,ur=[];for(Jt=0,mn=Vt.length;Jt<mn;Jt++)(Un=Og(Rt,Vt[Jt]*Sn,Jt<mn-1?Vt[Jt+1]*Sn:Rt.length,Sn,!1))===Un.next&&(Un.steiner=!0),ur.push(gy(Un));for(ur.sort(Qf),Jt=0;Jt<ur.length;Jt++)Zt=th(ur[Jt],Zt);return Zt}(d,u,Qe,f)),d.length>80*f){v=P=d[0],T=N=d[1];for(var vt=f;vt<Ye;vt+=f)(V=d[vt])<v&&(v=V),(Z=d[vt+1])<T&&(T=Z),V>P&&(P=V),Z>N&&(N=Z);ue=0!==(ue=Math.max(P-v,N-T))?32767/ue:0}return jp(Qe,ft,f,v,T,ue,0),ft}function Og(d,u,f,v,T){var P,N;if(T===Dh(d,u,f,v)>0)for(P=u;P<f;P+=v)N=jm(P,d[P],d[P+1],N);else for(P=f-v;P>=u;P-=v)N=jm(P,d[P],d[P+1],N);return N&&Hp(N,N.next)&&(Sf(N),N=N.next),N}function Zc(d,u){if(!d)return d;u||(u=d);var f,v=d;do{if(f=!1,v.steiner||!Hp(v,v.next)&&0!==ga(v.prev,v,v.next))v=v.next;else{if(Sf(v),(v=u=v.prev)===v.next)break;f=!0}}while(f||v!==u);return u}function jp(d,u,f,v,T,P,N){if(d){!N&&P&&function(Le,Ye,Qe,ft){var vt=Le;do{0===vt.z&&(vt.z=Ng(vt.x,vt.y,Ye,Qe,ft)),vt.prevZ=vt.prev,vt.nextZ=vt.next,vt=vt.next}while(vt!==Le);vt.prevZ.nextZ=null,vt.prevZ=null,function(Rt){var Vt,Zt,Sn,Jt,mn,Un,ur,di,Ri=1;do{for(Zt=Rt,Rt=null,mn=null,Un=0;Zt;){for(Un++,Sn=Zt,ur=0,Vt=0;Vt<Ri&&(ur++,Sn=Sn.nextZ);Vt++);for(di=Ri;ur>0||di>0&&Sn;)0!==ur&&(0===di||!Sn||Zt.z<=Sn.z)?(Jt=Zt,Zt=Zt.nextZ,ur--):(Jt=Sn,Sn=Sn.nextZ,di--),mn?mn.nextZ=Jt:Rt=Jt,Jt.prevZ=mn,mn=Jt;Zt=Sn}mn.nextZ=null,Ri*=2}while(Un>1)}(vt)}(d,v,T,P);for(var V,Z,ue=d;d.prev!==d.next;)if(V=d.prev,Z=d.next,P?sc(d,v,T,P):zm(d))u.push(V.i/f|0),u.push(d.i/f|0),u.push(Z.i/f|0),Sf(d),d=Z.next,ue=Z.next;else if((d=Z)===ue){N?1===N?jp(d=Th(Zc(d),u,f),u,f,v,T,P,2):2===N&&fy(d,u,f,v,T,P):jp(Zc(d),u,f,v,T,P,1);break}}}function zm(d){var u=d.prev,f=d,v=d.next;if(ga(u,f,v)>=0)return!1;for(var T=u.x,P=f.x,N=v.x,V=u.y,Z=f.y,ue=v.y,Le=T<P?T<N?T:N:P<N?P:N,Ye=V<Z?V<ue?V:ue:Z<ue?Z:ue,Qe=T>P?T>N?T:N:P>N?P:N,ft=V>Z?V>ue?V:ue:Z>ue?Z:ue,vt=v.next;vt!==u;){if(vt.x>=Le&&vt.x<=Qe&&vt.y>=Ye&&vt.y<=ft&&xf(T,V,P,Z,N,ue,vt.x,vt.y)&&ga(vt.prev,vt,vt.next)>=0)return!1;vt=vt.next}return!0}function sc(d,u,f,v){var T=d.prev,P=d,N=d.next;if(ga(T,P,N)>=0)return!1;for(var V=T.x,Z=P.x,ue=N.x,Le=T.y,Ye=P.y,Qe=N.y,ft=V<Z?V<ue?V:ue:Z<ue?Z:ue,vt=Le<Ye?Le<Qe?Le:Qe:Ye<Qe?Ye:Qe,Rt=V>Z?V>ue?V:ue:Z>ue?Z:ue,Vt=Le>Ye?Le>Qe?Le:Qe:Ye>Qe?Ye:Qe,Zt=Ng(ft,vt,u,f,v),Sn=Ng(Rt,Vt,u,f,v),Jt=d.prevZ,mn=d.nextZ;Jt&&Jt.z>=Zt&&mn&&mn.z<=Sn;){if(Jt.x>=ft&&Jt.x<=Rt&&Jt.y>=vt&&Jt.y<=Vt&&Jt!==T&&Jt!==N&&xf(V,Le,Z,Ye,ue,Qe,Jt.x,Jt.y)&&ga(Jt.prev,Jt,Jt.next)>=0||(Jt=Jt.prevZ,mn.x>=ft&&mn.x<=Rt&&mn.y>=vt&&mn.y<=Vt&&mn!==T&&mn!==N&&xf(V,Le,Z,Ye,ue,Qe,mn.x,mn.y)&&ga(mn.prev,mn,mn.next)>=0))return!1;mn=mn.nextZ}for(;Jt&&Jt.z>=Zt;){if(Jt.x>=ft&&Jt.x<=Rt&&Jt.y>=vt&&Jt.y<=Vt&&Jt!==T&&Jt!==N&&xf(V,Le,Z,Ye,ue,Qe,Jt.x,Jt.y)&&ga(Jt.prev,Jt,Jt.next)>=0)return!1;Jt=Jt.prevZ}for(;mn&&mn.z<=Sn;){if(mn.x>=ft&&mn.x<=Rt&&mn.y>=vt&&mn.y<=Vt&&mn!==T&&mn!==N&&xf(V,Le,Z,Ye,ue,Qe,mn.x,mn.y)&&ga(mn.prev,mn,mn.next)>=0)return!1;mn=mn.nextZ}return!0}function Th(d,u,f){var v=d;do{var T=v.prev,P=v.next.next;!Hp(T,P)&&Rg(T,v,v.next,P)&&Xh(T,P)&&Xh(P,T)&&(u.push(T.i/f|0),u.push(v.i/f|0),u.push(P.i/f|0),Sf(v),Sf(v.next),v=d=P),v=v.next}while(v!==d);return Zc(v)}function fy(d,u,f,v,T,P){var N=d;do{for(var V=N.next.next;V!==N.prev;){if(N.i!==V.i&&xc(N,V)){var Z=Fg(N,V);return N=Zc(N,N.next),Z=Zc(Z,Z.next),jp(N,u,f,v,T,P,0),void jp(Z,u,f,v,T,P,0)}V=V.next}N=N.next}while(N!==d)}function Qf(d,u){return d.x-u.x}function th(d,u){var f=function(T,P){var N,V=P,Z=T.x,ue=T.y,Le=-1/0;do{if(ue<=V.y&&ue>=V.next.y&&V.next.y!==V.y){var Ye=V.x+(ue-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(Ye<=Z&&Ye>Le&&(Le=Ye,N=V.x<V.next.x?V:V.next,Ye===Z))return N}V=V.next}while(V!==P);if(!N)return null;var Qe,ft=N,vt=N.x,Rt=N.y,Vt=1/0;V=N;do{Z>=V.x&&V.x>=vt&&Z!==V.x&&xf(ue<Rt?Z:Le,ue,vt,Rt,ue<Rt?Le:Z,ue,V.x,V.y)&&(Qe=Math.abs(ue-V.y)/(Z-V.x),Xh(V,T)&&(Qe<Vt||Qe===Vt&&(V.x>N.x||V.x===N.x&&py(N,V)))&&(N=V,Vt=Qe)),V=V.next}while(V!==ft);return N}(d,u);if(!f)return u;var v=Fg(f,d);return Zc(v,v.next),Zc(f,f.next)}function py(d,u){return ga(d.prev,d,u.prev)<0&&ga(u.next,d,d.next)<0}function Ng(d,u,f,v,T){return(d=1431655765&((d=858993459&((d=252645135&((d=16711935&((d=(d-f)*T|0)|d<<8))|d<<4))|d<<2))|d<<1))|(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-v)*T|0)|u<<8))|u<<4))|u<<2))|u<<1))<<1}function gy(d){var u=d,f=d;do{(u.x<f.x||u.x===f.x&&u.y<f.y)&&(f=u),u=u.next}while(u!==d);return f}function xf(d,u,f,v,T,P,N,V){return(T-N)*(u-V)>=(d-N)*(P-V)&&(d-N)*(v-V)>=(f-N)*(u-V)&&(f-N)*(P-V)>=(T-N)*(v-V)}function xc(d,u){return d.next.i!==u.i&&d.prev.i!==u.i&&!function(f,v){var T=f;do{if(T.i!==f.i&&T.next.i!==f.i&&T.i!==v.i&&T.next.i!==v.i&&Rg(T,T.next,f,v))return!0;T=T.next}while(T!==f);return!1}(d,u)&&(Xh(d,u)&&Xh(u,d)&&function(f,v){var T=f,P=!1,N=(f.x+v.x)/2,V=(f.y+v.y)/2;do{T.y>V!=T.next.y>V&&T.next.y!==T.y&&N<(T.next.x-T.x)*(V-T.y)/(T.next.y-T.y)+T.x&&(P=!P),T=T.next}while(T!==f);return P}(d,u)&&(ga(d.prev,d,u.prev)||ga(d,u.prev,u))||Hp(d,u)&&ga(d.prev,d,d.next)>0&&ga(u.prev,u,u.next)>0)}function ga(d,u,f){return(u.y-d.y)*(f.x-u.x)-(u.x-d.x)*(f.y-u.y)}function Hp(d,u){return d.x===u.x&&d.y===u.y}function Rg(d,u,f,v){var T=nh(ga(d,u,f)),P=nh(ga(d,u,v)),N=nh(ga(f,v,d)),V=nh(ga(f,v,u));return T!==P&&N!==V||!(0!==T||!Mf(d,f,u))||!(0!==P||!Mf(d,v,u))||!(0!==N||!Mf(f,d,v))||!(0!==V||!Mf(f,u,v))}function Mf(d,u,f){return u.x<=Math.max(d.x,f.x)&&u.x>=Math.min(d.x,f.x)&&u.y<=Math.max(d.y,f.y)&&u.y>=Math.min(d.y,f.y)}function nh(d){return d>0?1:d<0?-1:0}function Xh(d,u){return ga(d.prev,d,d.next)<0?ga(d,u,d.next)>=0&&ga(d,d.prev,u)>=0:ga(d,u,d.prev)<0||ga(d,d.next,u)<0}function Fg(d,u){var f=new Ch(d.i,d.x,d.y),v=new Ch(u.i,u.x,u.y),T=d.next,P=u.prev;return d.next=u,u.prev=d,f.next=T,T.prev=f,v.next=f,f.prev=v,P.next=v,v.prev=P,v}function jm(d,u,f,v){var T=new Ch(d,u,f);return v?(T.next=v.next,T.prev=v,v.next.prev=T,v.next=T):(T.prev=T,T.next=T),T}function Sf(d){d.next.prev=d.prev,d.prev.next=d.next,d.prevZ&&(d.prevZ.nextZ=d.nextZ),d.nextZ&&(d.nextZ.prevZ=d.prevZ)}function Ch(d,u,f){this.i=d,this.x=u,this.y=f,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Dh(d,u,f,v){for(var T=0,P=u,N=f-v;P<f;P+=v)T+=(d[N]-d[P])*(d[P+1]+d[N+1]),N=P;return T}Xc.exports=cd,Xc.exports.default=cd,cd.deviation=function(d,u,f,v){var T=u&&u.length,P=Math.abs(Dh(d,0,T?u[0]*f:d.length,f));if(T)for(var N=0,V=u.length;N<V;N++)P-=Math.abs(Dh(d,u[N]*f,N<V-1?u[N+1]*f:d.length,f));var Z=0;for(N=0;N<v.length;N+=3){var ue=v[N]*f,Le=v[N+1]*f,Ye=v[N+2]*f;Z+=Math.abs((d[ue]-d[Ye])*(d[Le+1]-d[ue+1])-(d[ue]-d[Le])*(d[Ye+1]-d[ue+1]))}return 0===P&&0===Z?0:Math.abs((Z-P)/P)},cd.flatten=function(d){for(var u=d[0][0].length,f={vertices:[],holes:[],dimensions:u},v=0,T=0;T<d.length;T++){for(var P=0;P<d[T].length;P++)for(var N=0;N<u;N++)f.vertices.push(d[T][P][N]);T>0&&f.holes.push(v+=d[T-1].length)}return f};var my=R(Xc.exports);function _y(d,u,f,v,T){oc(d,u,f||0,v||d.length-1,T||Il)}function oc(d,u,f,v,T){for(;v>f;){if(v-f>600){var P=v-f+1,N=u-f+1,V=Math.log(P),Z=.5*Math.exp(2*V/3),ue=.5*Math.sqrt(V*Z*(P-Z)/P)*(N-P/2<0?-1:1);oc(d,u,Math.max(f,Math.floor(u-N*Z/P+ue)),Math.min(v,Math.floor(u+(P-N)*Z/P+ue)),T)}var Le=d[u],Ye=f,Qe=v;for(Kc(d,f,u),T(d[v],Le)>0&&Kc(d,f,v);Ye<Qe;){for(Kc(d,Ye,Qe),Ye++,Qe--;T(d[Ye],Le)<0;)Ye++;for(;T(d[Qe],Le)>0;)Qe--}0===T(d[f],Le)?Kc(d,f,Qe):Kc(d,++Qe,v),Qe<=u&&(f=Qe+1),u<=Qe&&(v=Qe-1)}}function Kc(d,u,f){var v=d[u];d[u]=d[f],d[f]=v}function Il(d,u){return d<u?-1:d>u?1:0}function ep(d,u){const f=d.length;if(f<=1)return[d];const v=[];let T,P;for(let N=0;N<f;N++){const V=ht(d[N]);0!==V&&(d[N].area=Math.abs(V),void 0===P&&(P=V<0),P===V<0?(T&&v.push(T),T=[d[N]]):T.push(d[N]))}if(T&&v.push(T),u>1)for(let N=0;N<v.length;N++)v[N].length<=u||(_y(v[N],u,1,v[N].length-1,Hm),v[N]=v[N].slice(0,u));return v}function Hm(d,u){return u.area-d.area}function tp(d,u,f){const v=f.patternDependencies;let T=!1;for(const P of u){const N=P.paint.get(`${d}-pattern`);N.isConstant()||(T=!0);const V=N.constantOr(null);V&&(T=!0,v[V.to]=!0,v[V.from]=!0)}return T}function $m(d,u,f,v,T){const P=T.patternDependencies;for(const N of u){const V=N.paint.get(`${d}-pattern`).value;if("constant"!==V.kind){let Z=V.evaluate({zoom:v-1},f,{},T.availableImages),ue=V.evaluate({zoom:v},f,{},T.availableImages),Le=V.evaluate({zoom:v+1},f,{},T.availableImages);Z=Z&&Z.name?Z.name:Z,ue=ue&&ue.name?ue.name:ue,Le=Le&&Le.name?Le.name:Le,P[Z]=!0,P[ue]=!0,P[Le]=!0,f.patterns[N.id]={min:Z,mid:ue,max:Le}}}return f}class $p{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(f=>f.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Hs,this.indexArray=new Tl,this.indexArray2=new Ra,this.programConfigurations=new ad(u.layers,u.zoom),this.segments=new ao,this.segments2=new ao,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(u,f,v){this.hasPattern=tp("fill",this.layers,f);const T=this.layers[0].layout.get("fill-sort-key"),P=!T.isConstant(),N=[];for(const{feature:V,id:Z,index:ue,sourceLayerIndex:Le}of u){const Ye=this.layers[0]._featureFilter.needGeometry,Qe=k(V,Ye);if(!this.layers[0]._featureFilter.filter(new js(this.zoom),Qe,v))continue;const ft=P?T.evaluate(Qe,{},v,f.availableImages):void 0,vt={id:Z,properties:V.properties,type:V.type,sourceLayerIndex:Le,index:ue,geometry:Ye?Qe.geometry:so(V),patterns:{},sortKey:ft};N.push(vt)}P&&N.sort((V,Z)=>V.sortKey-Z.sortKey);for(const V of N){const{geometry:Z,index:ue,sourceLayerIndex:Le}=V;if(this.hasPattern){const Ye=$m("fill",this.layers,V,this.zoom,f);this.patternFeatures.push(Ye)}else this.addFeature(V,Z,ue,v,{});f.featureIndex.insert(u[ue].feature,Z,ue,Le,this.index)}}update(u,f,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,f,this.stateDependentLayers,v)}addFeatures(u,f,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,f,v)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,bf),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.indexBuffer2=u.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(u,f,v,T,P){for(const N of ep(f,500)){let V=0;for(const ft of N)V+=ft.length;const Z=this.segments.prepareSegment(V,this.layoutVertexArray,this.indexArray),ue=Z.vertexLength,Le=[],Ye=[];for(const ft of N){if(0===ft.length)continue;ft!==N[0]&&Ye.push(Le.length/2);const vt=this.segments2.prepareSegment(ft.length,this.layoutVertexArray,this.indexArray2),Rt=vt.vertexLength;this.layoutVertexArray.emplaceBack(ft[0].x,ft[0].y),this.indexArray2.emplaceBack(Rt+ft.length-1,Rt),Le.push(ft[0].x),Le.push(ft[0].y);for(let Vt=1;Vt<ft.length;Vt++)this.layoutVertexArray.emplaceBack(ft[Vt].x,ft[Vt].y),this.indexArray2.emplaceBack(Rt+Vt-1,Rt+Vt),Le.push(ft[Vt].x),Le.push(ft[Vt].y);vt.vertexLength+=ft.length,vt.primitiveLength+=ft.length}const Qe=my(Le,Ye);for(let ft=0;ft<Qe.length;ft+=3)this.indexArray.emplaceBack(ue+Qe[ft],ue+Qe[ft+1],ue+Qe[ft+2]);Z.vertexLength+=V,Z.primitiveLength+=Qe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,v,P,T)}}let np,rp;hi("FillBucket",$p,{omit:["layers","patternFeatures"]});var rh={get paint(){return rp=rp||new ci({"fill-antialias":new yi(en.paint_fill["fill-antialias"]),"fill-opacity":new ki(en.paint_fill["fill-opacity"]),"fill-color":new ki(en.paint_fill["fill-color"]),"fill-outline-color":new ki(en.paint_fill["fill-outline-color"]),"fill-translate":new yi(en.paint_fill["fill-translate"]),"fill-translate-anchor":new yi(en.paint_fill["fill-translate-anchor"]),"fill-pattern":new fl(en.paint_fill["fill-pattern"])})},get layout(){return np=np||new ci({"fill-sort-key":new ki(en.layout_fill["fill-sort-key"])})}};class o0 extends Gl{constructor(u){super(u,rh)}recalculate(u,f){super.recalculate(u,f);const v=this.paint._values["fill-outline-color"];"constant"===v.value.kind&&void 0===v.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new $p(u)}queryRadius(){return Yp(this.paint.get("fill-translate"))}queryIntersectsFeature(u,f,v,T,P,N,V){return pn(Lg(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),N.angle,V),T)}isTileClipped(){return!0}}const Up=ks([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),bd=ks([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Vp}=Up;var Ld={},yy=H,Bg=ip;function ip(d,u,f,v,T){this.properties={},this.extent=f,this.type=0,this._pbf=d,this._geometry=-1,this._keys=v,this._values=T,d.readFields(sp,this,u)}function sp(d,u,f){1==d?u.id=f.readVarint():2==d?function(v,T){for(var P=v.readVarint()+v.pos;v.pos<P;){var N=T._keys[v.readVarint()],V=T._values[v.readVarint()];T.properties[N]=V}}(f,u):3==d?u.type=f.readVarint():4==d&&(u._geometry=f.pos)}function dd(d){for(var u,f,v=0,T=0,P=d.length,N=P-1;T<P;N=T++)v+=((f=d[N]).x-(u=d[T]).x)*(u.y+f.y);return v}ip.types=["Unknown","Point","LineString","Polygon"],ip.prototype.loadGeometry=function(){var d=this._pbf;d.pos=this._geometry;for(var u,f=d.readVarint()+d.pos,v=1,T=0,P=0,N=0,V=[];d.pos<f;){if(T<=0){var Z=d.readVarint();v=7&Z,T=Z>>3}if(T--,1===v||2===v)P+=d.readSVarint(),N+=d.readSVarint(),1===v&&(u&&V.push(u),u=[]),u.push(new yy(P,N));else{if(7!==v)throw new Error("unknown command "+v);u&&u.push(u[0].clone())}}return u&&V.push(u),V},ip.prototype.bbox=function(){var d=this._pbf;d.pos=this._geometry;for(var u=d.readVarint()+d.pos,f=1,v=0,T=0,P=0,N=1/0,V=-1/0,Z=1/0,ue=-1/0;d.pos<u;){if(v<=0){var Le=d.readVarint();f=7&Le,v=Le>>3}if(v--,1===f||2===f)(T+=d.readSVarint())<N&&(N=T),T>V&&(V=T),(P+=d.readSVarint())<Z&&(Z=P),P>ue&&(ue=P);else if(7!==f)throw new Error("unknown command "+f)}return[N,Z,V,ue]},ip.prototype.toGeoJSON=function(d,u,f){var v,T,P=this.extent*Math.pow(2,f),N=this.extent*d,V=this.extent*u,Z=this.loadGeometry(),ue=ip.types[this.type];function Le(ft){for(var vt=0;vt<ft.length;vt++){var Rt=ft[vt];ft[vt]=[360*(Rt.x+N)/P-180,360/Math.PI*Math.atan(Math.exp((180-360*(Rt.y+V)/P)*Math.PI/180))-90]}}switch(this.type){case 1:var Ye=[];for(v=0;v<Z.length;v++)Ye[v]=Z[v][0];Le(Z=Ye);break;case 2:for(v=0;v<Z.length;v++)Le(Z[v]);break;case 3:for(Z=function(ft){var vt=ft.length;if(vt<=1)return[ft];for(var Rt,Vt,Zt=[],Sn=0;Sn<vt;Sn++){var Jt=dd(ft[Sn]);0!==Jt&&(void 0===Vt&&(Vt=Jt<0),Vt===Jt<0?(Rt&&Zt.push(Rt),Rt=[ft[Sn]]):Rt.push(ft[Sn]))}return Rt&&Zt.push(Rt),Zt}(Z),v=0;v<Z.length;v++)for(T=0;T<Z[v].length;T++)Le(Z[v][T])}1===Z.length?Z=Z[0]:ue="Multi"+ue;var Qe={type:"Feature",geometry:{type:ue,coordinates:Z},properties:this.properties};return"id"in this&&(Qe.id=this.id),Qe};var Um=Bg,Vm=op;function op(d,u){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=d,this._keys=[],this._values=[],this._features=[],d.readFields(Gm,this,u),this.length=this._features.length}function Gm(d,u,f){15===d?u.version=f.readVarint():1===d?u.name=f.readString():5===d?u.extent=f.readVarint():2===d?u._features.push(f.pos):3===d?u._keys.push(f.readString()):4===d&&u._values.push(function(v){for(var T=null,P=v.readVarint()+v.pos;v.pos<P;){var N=v.readVarint()>>3;T=1===N?v.readString():2===N?v.readFloat():3===N?v.readDouble():4===N?v.readVarint64():5===N?v.readVarint():6===N?v.readSVarint():7===N?v.readBoolean():null}return T}(f))}op.prototype.feature=function(d){if(d<0||d>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[d];var u=this._pbf.readVarint()+this._pbf.pos;return new Um(this._pbf,u,this.extent,this._keys,this._values)};var ap=Vm;function Is(d,u,f){if(3===d){var v=new ap(f,f.readVarint()+f.pos);v.length&&(u[v.name]=v)}}Ld.VectorTile=function(d,u){this.layers=d.readFields(Is,{},u)},Ld.VectorTileFeature=Bg,Ld.VectorTileLayer=Vm;const Wm=Ld.VectorTileFeature.types,Yg=Math.pow(2,13);function hd(d,u,f,v,T,P,N,V){d.emplaceBack(u,f,2*Math.floor(v*Yg)+N,T*Yg*2,P*Yg*2,Math.round(V))}class Ef{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(f=>f.id),this.index=u.index,this.hasPattern=!1,this.layoutVertexArray=new Br,this.centroidVertexArray=new Fr,this.indexArray=new Tl,this.programConfigurations=new ad(u.layers,u.zoom),this.segments=new ao,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(u,f,v){this.features=[],this.hasPattern=tp("fill-extrusion",this.layers,f);for(const{feature:T,id:P,index:N,sourceLayerIndex:V}of u){const Z=this.layers[0]._featureFilter.needGeometry,ue=k(T,Z);if(!this.layers[0]._featureFilter.filter(new js(this.zoom),ue,v))continue;const Le={id:P,sourceLayerIndex:V,index:N,geometry:Z?ue.geometry:so(T),properties:T.properties,type:T.type,patterns:{}};this.hasPattern?this.features.push($m("fill-extrusion",this.layers,Le,this.zoom,f)):this.addFeature(Le,Le.geometry,N,v,{}),f.featureIndex.insert(T,Le.geometry,N,V,this.index,!0)}}addFeatures(u,f,v){for(const T of this.features){const{geometry:P}=T;this.addFeature(T,P,T.index,f,v)}}update(u,f,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,f,this.stateDependentLayers,v)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Vp),this.centroidVertexBuffer=u.createVertexBuffer(this.centroidVertexArray,bd.members,!0),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(u,f,v,T,P){const N={x:0,y:0,vertexCount:0};for(const V of ep(f,500)){let Z=0;for(const vt of V)Z+=vt.length;let ue=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const vt of V){if(0===vt.length||((d=vt).every(u=>u.x<0)||d.every(u=>u.x>gl)||d.every(u=>u.y<0)||d.every(u=>u.y>gl)))continue;let Rt=0;for(let Vt=0;Vt<vt.length;Vt++){const Zt=vt[Vt];if(Vt>=1){const Sn=vt[Vt-1];if(!qm(Zt,Sn)){ue.vertexLength+4>ao.MAX_VERTEX_ARRAY_LENGTH&&(ue=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Jt=Zt.sub(Sn)._perp()._unit(),mn=Sn.dist(Zt);Rt+mn>32768&&(Rt=0),hd(this.layoutVertexArray,Zt.x,Zt.y,Jt.x,Jt.y,0,0,Rt),hd(this.layoutVertexArray,Zt.x,Zt.y,Jt.x,Jt.y,0,1,Rt),N.x+=2*Zt.x,N.y+=2*Zt.y,N.vertexCount+=2,Rt+=mn,hd(this.layoutVertexArray,Sn.x,Sn.y,Jt.x,Jt.y,0,0,Rt),hd(this.layoutVertexArray,Sn.x,Sn.y,Jt.x,Jt.y,0,1,Rt),N.x+=2*Sn.x,N.y+=2*Sn.y,N.vertexCount+=2;const Un=ue.vertexLength;this.indexArray.emplaceBack(Un,Un+2,Un+1),this.indexArray.emplaceBack(Un+1,Un+2,Un+3),ue.vertexLength+=4,ue.primitiveLength+=2}}}}if(ue.vertexLength+Z>ao.MAX_VERTEX_ARRAY_LENGTH&&(ue=this.segments.prepareSegment(Z,this.layoutVertexArray,this.indexArray)),"Polygon"!==Wm[u.type])continue;const Le=[],Ye=[],Qe=ue.vertexLength;for(const vt of V)if(0!==vt.length){vt!==V[0]&&Ye.push(Le.length/2);for(let Rt=0;Rt<vt.length;Rt++){const Vt=vt[Rt];hd(this.layoutVertexArray,Vt.x,Vt.y,0,0,1,1,0),N.x+=Vt.x,N.y+=Vt.y,N.vertexCount+=1,Le.push(Vt.x),Le.push(Vt.y)}}const ft=my(Le,Ye);for(let vt=0;vt<ft.length;vt+=3)this.indexArray.emplaceBack(Qe+ft[vt],Qe+ft[vt+2],Qe+ft[vt+1]);ue.primitiveLength+=ft.length/3,ue.vertexLength+=Z}var d;for(let V=0;V<N.vertexCount;V++)this.centroidVertexArray.emplaceBack(Math.floor(N.x/N.vertexCount),Math.floor(N.y/N.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,v,P,T)}}function qm(d,u){return d.x===u.x&&(d.x<0||d.x>gl)||d.y===u.y&&(d.y<0||d.y>gl)}let Ou;hi("FillExtrusionBucket",Ef,{omit:["layers","features"]});var zg={get paint(){return Ou=Ou||new ci({"fill-extrusion-opacity":new yi(en["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ki(en["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yi(en["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yi(en["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new fl(en["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ki(en["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ki(en["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new yi(en["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class Sw extends Gl{constructor(u){super(u,zg)}createBucket(u){return new Ef(u)}queryRadius(){return Yp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(u,f,v,T,P,N,V,Z){const ue=Lg(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),N.angle,V),Le=this.paint.get("fill-extrusion-height").evaluate(f,v),Ye=this.paint.get("fill-extrusion-base").evaluate(f,v),Qe=function(vt,Rt,Vt,Zt){const Sn=[];for(const Jt of vt){const mn=[Jt.x,Jt.y,0,1];Pg(mn,mn,Rt),Sn.push(new ie(mn[0]/mn[3],mn[1]/mn[3]))}return Sn}(ue,Z),ft=function(vt,Rt,Vt,Zt){const Sn=[],Jt=[],mn=Zt[8]*Rt,Un=Zt[9]*Rt,ur=Zt[10]*Rt,di=Zt[11]*Rt,Ri=Zt[8]*Vt,oi=Zt[9]*Vt,ni=Zt[10]*Vt,Gr=Zt[11]*Vt;for(const xi of vt){const Vr=[],Dr=[];for(const Vi of xi){const ji=Vi.x,$s=Vi.y,_o=Zt[0]*ji+Zt[4]*$s+Zt[12],Ia=Zt[1]*ji+Zt[5]*$s+Zt[13],cu=Zt[2]*ji+Zt[6]*$s+Zt[14],Rc=Zt[3]*ji+Zt[7]*$s+Zt[15],uc=cu+ur,wl=Rc+di,du=_o+Ri,Ll=Ia+oi,Al=cu+ni,ds=Rc+Gr,hu=new ie((_o+mn)/wl,(Ia+Un)/wl);hu.z=uc/wl,Vr.push(hu);const La=new ie(du/ds,Ll/ds);La.z=Al/ds,Dr.push(La)}Sn.push(Vr),Jt.push(Dr)}return[Sn,Jt]}(T,Ye,Le,Z);return function(vt,Rt,Vt){let Zt=1/0;pn(Vt,Rt)&&(Zt=Xm(Vt,Rt[0]));for(let Sn=0;Sn<Rt.length;Sn++){const Jt=Rt[Sn],mn=vt[Sn];for(let Un=0;Un<Jt.length-1;Un++){const ur=Jt[Un],di=[ur,Jt[Un+1],mn[Un+1],mn[Un],ur];Fe(Vt,di)&&(Zt=Math.min(Zt,Xm(Vt,di)))}}return Zt!==1/0&&Zt}(ft[0],ft[1],Qe)}}function Tf(d,u){return d.x*u.x+d.y*u.y}function Xm(d,u){if(1===d.length){let f=0;const v=u[f++];let T;for(;!T||v.equals(T);)if(T=u[f++],!T)return 1/0;for(;f<u.length;f++){const P=u[f],N=d[0],V=T.sub(v),Z=P.sub(v),ue=N.sub(v),Le=Tf(V,V),Ye=Tf(V,Z),Qe=Tf(Z,Z),ft=Tf(ue,V),vt=Tf(ue,Z),Rt=Le*Qe-Ye*Ye,Vt=(Qe*ft-Ye*vt)/Rt,Zt=(Le*vt-Ye*ft)/Rt,Sn=v.z*(1-Vt-Zt)+T.z*Vt+P.z*Zt;if(isFinite(Sn))return Sn}return 1/0}{let f=1/0;for(const v of u)f=Math.min(f,v.z);return f}}const vy=ks([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:ih}=vy,a0=ks([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:jg}=a0,Ad=Ld.VectorTileFeature.types,Mc=Math.cos(Math.PI/180*37.5),Cf=Math.pow(2,14)/.5;class Gp{constructor(u){this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(f=>f.id),this.index=u.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(f=>{this.gradients[f.id]={}}),this.layoutVertexArray=new Ki,this.layoutVertexArray2=new Oi,this.indexArray=new Tl,this.programConfigurations=new ad(u.layers,u.zoom),this.segments=new ao,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(f=>f.isStateDependent()).map(f=>f.id)}populate(u,f,v){this.hasPattern=tp("line",this.layers,f);const T=this.layers[0].layout.get("line-sort-key"),P=!T.isConstant(),N=[];for(const{feature:V,id:Z,index:ue,sourceLayerIndex:Le}of u){const Ye=this.layers[0]._featureFilter.needGeometry,Qe=k(V,Ye);if(!this.layers[0]._featureFilter.filter(new js(this.zoom),Qe,v))continue;const ft=P?T.evaluate(Qe,{},v):void 0,vt={id:Z,properties:V.properties,type:V.type,sourceLayerIndex:Le,index:ue,geometry:Ye?Qe.geometry:so(V),patterns:{},sortKey:ft};N.push(vt)}P&&N.sort((V,Z)=>V.sortKey-Z.sortKey);for(const V of N){const{geometry:Z,index:ue,sourceLayerIndex:Le}=V;if(this.hasPattern){const Ye=$m("line",this.layers,V,this.zoom,f);this.patternFeatures.push(Ye)}else this.addFeature(V,Z,ue,v,{});f.featureIndex.insert(u[ue].feature,Z,ue,Le,this.index)}}update(u,f,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(u,f,this.stateDependentLayers,v)}addFeatures(u,f,v){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,f,v)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(u){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=u.createVertexBuffer(this.layoutVertexArray2,jg)),this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,ih),this.indexBuffer=u.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(u),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(u){if(u.properties&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(u.properties,"mapbox_clip_end"))return{start:+u.properties.mapbox_clip_start,end:+u.properties.mapbox_clip_end}}addFeature(u,f,v,T,P){const N=this.layers[0].layout,V=N.get("line-join").evaluate(u,{}),Z=N.get("line-cap"),ue=N.get("line-miter-limit"),Le=N.get("line-round-limit");this.lineClips=this.lineFeatureClips(u);for(const Ye of f)this.addLine(Ye,u,V,Z,ue,Le);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,u,v,P,T)}addLine(u,f,v,T,P,N){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Zt=0;Zt<u.length-1;Zt++)this.totalDistance+=u[Zt].dist(u[Zt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const V="Polygon"===Ad[f.type];let Z=u.length;for(;Z>=2&&u[Z-1].equals(u[Z-2]);)Z--;let ue=0;for(;ue<Z-1&&u[ue].equals(u[ue+1]);)ue++;if(Z<(V?3:2))return;"bevel"===v&&(P=1.05);const Le=this.overscaling<=16?15*gl/(512*this.overscaling):0,Ye=this.segments.prepareSegment(10*Z,this.layoutVertexArray,this.indexArray);let Qe,ft,vt,Rt,Vt;this.e1=this.e2=-1,V&&(Qe=u[Z-2],Vt=u[ue].sub(Qe)._unit()._perp());for(let Zt=ue;Zt<Z;Zt++){if(vt=Zt===Z-1?V?u[ue+1]:void 0:u[Zt+1],vt&&u[Zt].equals(vt))continue;Vt&&(Rt=Vt),Qe&&(ft=Qe),Qe=u[Zt],Vt=vt?vt.sub(Qe)._unit()._perp():Rt,Rt=Rt||Vt;let Sn=Rt.add(Vt);0===Sn.x&&0===Sn.y||Sn._unit();const Jt=Rt.x*Vt.x+Rt.y*Vt.y,mn=Sn.x*Vt.x+Sn.y*Vt.y,Un=0!==mn?1/mn:1/0,ur=2*Math.sqrt(2-2*mn),di=mn<Mc&&ft&&vt,Ri=Rt.x*Vt.y-Rt.y*Vt.x>0;if(di&&Zt>ue){const Gr=Qe.dist(ft);if(Gr>2*Le){const xi=Qe.sub(Qe.sub(ft)._mult(Le/Gr)._round());this.updateDistance(ft,xi),this.addCurrentVertex(xi,Rt,0,0,Ye),ft=xi}}const oi=ft&&vt;let ni=oi?v:V?"butt":T;if(oi&&"round"===ni&&(Un<N?ni="miter":Un<=2&&(ni="fakeround")),"miter"===ni&&Un>P&&(ni="bevel"),"bevel"===ni&&(Un>2&&(ni="flipbevel"),Un<P&&(ni="miter")),ft&&this.updateDistance(ft,Qe),"miter"===ni)Sn._mult(Un),this.addCurrentVertex(Qe,Sn,0,0,Ye);else if("flipbevel"===ni){if(Un>100)Sn=Vt.mult(-1);else{const Gr=Un*Rt.add(Vt).mag()/Rt.sub(Vt).mag();Sn._perp()._mult(Gr*(Ri?-1:1))}this.addCurrentVertex(Qe,Sn,0,0,Ye),this.addCurrentVertex(Qe,Sn.mult(-1),0,0,Ye)}else if("bevel"===ni||"fakeround"===ni){const Gr=-Math.sqrt(Un*Un-1),xi=Ri?Gr:0,Vr=Ri?0:Gr;if(ft&&this.addCurrentVertex(Qe,Rt,xi,Vr,Ye),"fakeround"===ni){const Dr=Math.round(180*ur/Math.PI/20);for(let Vi=1;Vi<Dr;Vi++){let ji=Vi/Dr;if(.5!==ji){const _o=ji-.5;ji+=ji*_o*(ji-1)*((1.0904+Jt*(Jt*(3.55645-1.43519*Jt)-3.2452))*_o*_o+(.848013+Jt*(.215638*Jt-1.06021)))}const $s=Vt.sub(Rt)._mult(ji)._add(Rt)._unit()._mult(Ri?-1:1);this.addHalfVertex(Qe,$s.x,$s.y,!1,Ri,0,Ye)}}vt&&this.addCurrentVertex(Qe,Vt,-xi,-Vr,Ye)}else if("butt"===ni)this.addCurrentVertex(Qe,Sn,0,0,Ye);else if("square"===ni){const Gr=ft?1:-1;this.addCurrentVertex(Qe,Sn,Gr,Gr,Ye)}else"round"===ni&&(ft&&(this.addCurrentVertex(Qe,Rt,0,0,Ye),this.addCurrentVertex(Qe,Rt,1,1,Ye,!0)),vt&&(this.addCurrentVertex(Qe,Vt,-1,-1,Ye,!0),this.addCurrentVertex(Qe,Vt,0,0,Ye)));if(di&&Zt<Z-1){const Gr=Qe.dist(vt);if(Gr>2*Le){const xi=Qe.add(vt.sub(Qe)._mult(Le/Gr)._round());this.updateDistance(Qe,xi),this.addCurrentVertex(xi,Vt,0,0,Ye),Qe=xi}}}}addCurrentVertex(u,f,v,T,P,N=!1){const V=f.y*T-f.x,Z=-f.y-f.x*T;this.addHalfVertex(u,f.x+f.y*v,f.y-f.x*v,N,!1,v,P),this.addHalfVertex(u,V,Z,N,!0,-T,P),this.distance>Cf/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(u,f,v,T,P,N))}addHalfVertex({x:u,y:f},v,T,P,N,V,Z){const ue=.5*(this.lineClips?this.scaledDistance*(Cf-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((u<<1)+(P?1:0),(f<<1)+(N?1:0),Math.round(63*v)+128,Math.round(63*T)+128,1+(0===V?0:V<0?-1:1)|(63&ue)<<2,ue>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const Le=Z.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Le),Z.primitiveLength++),N?this.e2=Le:this.e1=Le}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(u,f){this.distance+=u.dist(f),this.updateScaledDistance()}}let Hg,Zm;hi("LineBucket",Gp,{omit:["layers","patternFeatures"]});var Km={get paint(){return Zm=Zm||new ci({"line-opacity":new ki(en.paint_line["line-opacity"]),"line-color":new ki(en.paint_line["line-color"]),"line-translate":new yi(en.paint_line["line-translate"]),"line-translate-anchor":new yi(en.paint_line["line-translate-anchor"]),"line-width":new ki(en.paint_line["line-width"]),"line-gap-width":new ki(en.paint_line["line-gap-width"]),"line-offset":new ki(en.paint_line["line-offset"]),"line-blur":new ki(en.paint_line["line-blur"]),"line-dasharray":new pl(en.paint_line["line-dasharray"]),"line-pattern":new fl(en.paint_line["line-pattern"]),"line-gradient":new Fl(en.paint_line["line-gradient"])})},get layout(){return Hg=Hg||new ci({"line-cap":new yi(en.layout_line["line-cap"]),"line-join":new ki(en.layout_line["line-join"]),"line-miter-limit":new yi(en.layout_line["line-miter-limit"]),"line-round-limit":new yi(en.layout_line["line-round-limit"]),"line-sort-key":new ki(en.layout_line["line-sort-key"])})}};class up extends ki{possiblyEvaluate(u,f){return f=new js(Math.floor(f.zoom),{now:f.now,fadeDuration:f.fadeDuration,zoomHistory:f.zoomHistory,transition:f.transition}),super.possiblyEvaluate(u,f)}evaluate(u,f,v,T){return f=ee({},f,{zoom:Math.floor(f.zoom)}),super.evaluate(u,f,v,T)}}let cp;class wy extends Gl{constructor(u){super(u,Km),this.gradientVersion=0,cp||(cp=new up(Km.paint.properties["line-width"].specification),cp.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(u){if("line-gradient"===u){const f=this.gradientExpression();this.stepInterpolant=!(void 0===f._styleExpression)&&f._styleExpression.expression instanceof gu,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(u,f){super.recalculate(u,f),this.paint._values["line-floorwidth"]=cp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new Gp(u)}queryRadius(u){const f=u,v=Wp(Bp("line-width",this,f),Bp("line-gap-width",this,f)),T=Bp("line-offset",this,f);return v/2+Math.abs(T)+Yp(this.paint.get("line-translate"))}queryIntersectsFeature(u,f,v,T,P,N,V){const Z=Lg(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),N.angle,V),ue=V/2*Wp(this.paint.get("line-width").evaluate(f,v),this.paint.get("line-gap-width").evaluate(f,v)),Le=this.paint.get("line-offset").evaluate(f,v);return Le&&(T=function(Ye,Qe){const ft=[];for(let vt=0;vt<Ye.length;vt++){const Rt=Ye[vt],Vt=[];for(let Zt=0;Zt<Rt.length;Zt++){const Sn=Rt[Zt-1],Jt=Rt[Zt],mn=Rt[Zt+1],Un=0===Zt?new ie(0,0):Jt.sub(Sn)._unit()._perp(),ur=Zt===Rt.length-1?new ie(0,0):mn.sub(Jt)._unit()._perp(),di=Un._add(ur)._unit(),Ri=di.x*ur.x+di.y*ur.y;0!==Ri&&di._mult(1/Ri),Vt.push(di._mult(Qe)._add(Jt))}ft.push(Vt)}return ft}(T,Le*V)),function(Ye,Qe,ft){for(let vt=0;vt<Qe.length;vt++){const Rt=Qe[vt];if(Ye.length>=3)for(let Vt=0;Vt<Rt.length;Vt++)if(lu(Ye,Rt[Vt]))return!0;if(Vn(Ye,Rt,ft))return!0}return!1}(Z,T,ue)}isTileClipped(){return!0}}function Wp(d,u){return u>0?u+2*d:d}const Df=ks([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),l0=ks([{name:"a_projected_pos",components:3,type:"Float32"}],4);ks([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const by=ks([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);ks([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const $g=ks([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),dp=ks([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function u0(d,u,f){return d.sections.forEach(v=>{v.text=function(T,P,N){const V=P.layout.get("text-transform").evaluate(N,{});return"uppercase"===V?T=T.toLocaleUpperCase():"lowercase"===V&&(T=T.toLocaleLowerCase()),Va.applyArabicShaping&&(T=Va.applyArabicShaping(T)),T}(v.text,u,f)}),d}ks([{name:"triangle",components:3,type:"Uint16"}]),ks([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ks([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ks([{type:"Float32",name:"offsetX"}]),ks([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ks([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const uu={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var ql=24,Da=Sa,hp=function(d,u,f,v,T){var P,N,V=8*T-v-1,Z=(1<<V)-1,ue=Z>>1,Le=-7,Ye=f?T-1:0,Qe=f?-1:1,ft=d[u+Ye];for(Ye+=Qe,P=ft&(1<<-Le)-1,ft>>=-Le,Le+=V;Le>0;P=256*P+d[u+Ye],Ye+=Qe,Le-=8);for(N=P&(1<<-Le)-1,P>>=-Le,Le+=v;Le>0;N=256*N+d[u+Ye],Ye+=Qe,Le-=8);if(0===P)P=1-ue;else{if(P===Z)return N?NaN:1/0*(ft?-1:1);N+=Math.pow(2,v),P-=ue}return(ft?-1:1)*N*Math.pow(2,P-v)},Jm=function(d,u,f,v,T,P){var N,V,Z,ue=8*P-T-1,Le=(1<<ue)-1,Ye=Le>>1,Qe=23===T?Math.pow(2,-24)-Math.pow(2,-77):0,ft=v?0:P-1,vt=v?1:-1,Rt=u<0||0===u&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(V=isNaN(u)?1:0,N=Le):(N=Math.floor(Math.log(u)/Math.LN2),u*(Z=Math.pow(2,-N))<1&&(N--,Z*=2),(u+=N+Ye>=1?Qe/Z:Qe*Math.pow(2,1-Ye))*Z>=2&&(N++,Z/=2),N+Ye>=Le?(V=0,N=Le):N+Ye>=1?(V=(u*Z-1)*Math.pow(2,T),N+=Ye):(V=u*Math.pow(2,Ye-1)*Math.pow(2,T),N=0));T>=8;d[f+ft]=255&V,ft+=vt,V/=256,T-=8);for(N=N<<T|V,ue+=T;ue>0;d[f+ft]=255&N,ft+=vt,N/=256,ue-=8);d[f+ft-vt]|=128*Rt};function Sa(d){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(d)?d:new Uint8Array(d||0),this.pos=0,this.type=0,this.length=this.buf.length}Sa.Varint=0,Sa.Fixed64=1,Sa.Bytes=2,Sa.Fixed32=5;var fd=4294967296,Zh=1/fd,Sc=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Mu(d){return d.type===Sa.Bytes?d.readVarint()+d.pos:d.pos+1}function qp(d,u,f){var v=u<=16383?1:u<=2097151?2:u<=268435455?3:Math.floor(Math.log(u)/(7*Math.LN2));f.realloc(v);for(var T=f.pos-1;T>=d;T--)f.buf[T+v]=f.buf[T]}function fp(d,u){for(var f=0;f<d.length;f++)u.writeVarint(d[f])}function Ew(d,u){for(var f=0;f<d.length;f++)u.writeSVarint(d[f])}function c0(d,u){for(var f=0;f<d.length;f++)u.writeFloat(d[f])}function Tw(d,u){for(var f=0;f<d.length;f++)u.writeDouble(d[f])}function Cw(d,u){for(var f=0;f<d.length;f++)u.writeBoolean(d[f])}function Dw(d,u){for(var f=0;f<d.length;f++)u.writeFixed32(d[f])}function Iw(d,u){for(var f=0;f<d.length;f++)u.writeSFixed32(d[f])}function Lw(d,u){for(var f=0;f<d.length;f++)u.writeFixed64(d[f])}function Aw(d,u){for(var f=0;f<d.length;f++)u.writeSFixed64(d[f])}function Ih(d,u){return(d[u]|d[u+1]<<8|d[u+2]<<16)+16777216*d[u+3]}function pp(d,u,f){d[f]=u,d[f+1]=u>>>8,d[f+2]=u>>>16,d[f+3]=u>>>24}function Qm(d,u){return(d[u]|d[u+1]<<8|d[u+2]<<16)+(d[u+3]<<24)}Sa.prototype={destroy:function(){this.buf=null},readFields:function(d,u,f){for(f=f||this.length;this.pos<f;){var v=this.readVarint(),T=v>>3,P=this.pos;this.type=7&v,d(T,u,this),this.pos===P&&this.skip(v)}return u},readMessage:function(d,u){return this.readFields(d,u,this.readVarint()+this.pos)},readFixed32:function(){var d=Ih(this.buf,this.pos);return this.pos+=4,d},readSFixed32:function(){var d=Qm(this.buf,this.pos);return this.pos+=4,d},readFixed64:function(){var d=Ih(this.buf,this.pos)+Ih(this.buf,this.pos+4)*fd;return this.pos+=8,d},readSFixed64:function(){var d=Ih(this.buf,this.pos)+Qm(this.buf,this.pos+4)*fd;return this.pos+=8,d},readFloat:function(){var d=hp(this.buf,this.pos,!0,23,4);return this.pos+=4,d},readDouble:function(){var d=hp(this.buf,this.pos,!0,52,8);return this.pos+=8,d},readVarint:function(d){var u,f,v=this.buf;return u=127&(f=v[this.pos++]),f<128?u:(u|=(127&(f=v[this.pos++]))<<7,f<128?u:(u|=(127&(f=v[this.pos++]))<<14,f<128?u:(u|=(127&(f=v[this.pos++]))<<21,f<128?u:function(T,P,N){var V,Z,ue=N.buf;if(V=(112&(Z=ue[N.pos++]))>>4,Z<128||(V|=(127&(Z=ue[N.pos++]))<<3,Z<128)||(V|=(127&(Z=ue[N.pos++]))<<10,Z<128)||(V|=(127&(Z=ue[N.pos++]))<<17,Z<128)||(V|=(127&(Z=ue[N.pos++]))<<24,Z<128)||(V|=(1&(Z=ue[N.pos++]))<<31,Z<128))return function If(d,u,f){return f?4294967296*u+(d>>>0):4294967296*(u>>>0)+(d>>>0)}(T,V,P);throw new Error("Expected varint not more than 10 bytes")}(u|=(15&(f=v[this.pos]))<<28,d,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var d=this.readVarint();return d%2==1?(d+1)/-2:d/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var d=this.readVarint()+this.pos,u=this.pos;return this.pos=d,d-u>=12&&Sc?Sc.decode(this.buf.subarray(u,d)):function(f,v,T){for(var P="",N=v;N<T;){var V,Z,ue,Le=f[N],Ye=null,Qe=Le>239?4:Le>223?3:Le>191?2:1;if(N+Qe>T)break;1===Qe?Le<128&&(Ye=Le):2===Qe?128==(192&(V=f[N+1]))&&(Ye=(31&Le)<<6|63&V)<=127&&(Ye=null):3===Qe?(Z=f[N+2],128==(192&(V=f[N+1]))&&128==(192&Z)&&((Ye=(15&Le)<<12|(63&V)<<6|63&Z)<=2047||Ye>=55296&&Ye<=57343)&&(Ye=null)):4===Qe&&(Z=f[N+2],ue=f[N+3],128==(192&(V=f[N+1]))&&128==(192&Z)&&128==(192&ue)&&((Ye=(15&Le)<<18|(63&V)<<12|(63&Z)<<6|63&ue)<=65535||Ye>=1114112)&&(Ye=null)),null===Ye?(Ye=65533,Qe=1):Ye>65535&&(Ye-=65536,P+=String.fromCharCode(Ye>>>10&1023|55296),Ye=56320|1023&Ye),P+=String.fromCharCode(Ye),N+=Qe}return P}(this.buf,u,d)},readBytes:function(){var d=this.readVarint()+this.pos,u=this.buf.subarray(this.pos,d);return this.pos=d,u},readPackedVarint:function(d,u){if(this.type!==Sa.Bytes)return d.push(this.readVarint(u));var f=Mu(this);for(d=d||[];this.pos<f;)d.push(this.readVarint(u));return d},readPackedSVarint:function(d){if(this.type!==Sa.Bytes)return d.push(this.readSVarint());var u=Mu(this);for(d=d||[];this.pos<u;)d.push(this.readSVarint());return d},readPackedBoolean:function(d){if(this.type!==Sa.Bytes)return d.push(this.readBoolean());var u=Mu(this);for(d=d||[];this.pos<u;)d.push(this.readBoolean());return d},readPackedFloat:function(d){if(this.type!==Sa.Bytes)return d.push(this.readFloat());var u=Mu(this);for(d=d||[];this.pos<u;)d.push(this.readFloat());return d},readPackedDouble:function(d){if(this.type!==Sa.Bytes)return d.push(this.readDouble());var u=Mu(this);for(d=d||[];this.pos<u;)d.push(this.readDouble());return d},readPackedFixed32:function(d){if(this.type!==Sa.Bytes)return d.push(this.readFixed32());var u=Mu(this);for(d=d||[];this.pos<u;)d.push(this.readFixed32());return d},readPackedSFixed32:function(d){if(this.type!==Sa.Bytes)return d.push(this.readSFixed32());var u=Mu(this);for(d=d||[];this.pos<u;)d.push(this.readSFixed32());return d},readPackedFixed64:function(d){if(this.type!==Sa.Bytes)return d.push(this.readFixed64());var u=Mu(this);for(d=d||[];this.pos<u;)d.push(this.readFixed64());return d},readPackedSFixed64:function(d){if(this.type!==Sa.Bytes)return d.push(this.readSFixed64());var u=Mu(this);for(d=d||[];this.pos<u;)d.push(this.readSFixed64());return d},skip:function(d){var u=7&d;if(u===Sa.Varint)for(;this.buf[this.pos++]>127;);else if(u===Sa.Bytes)this.pos=this.readVarint()+this.pos;else if(u===Sa.Fixed32)this.pos+=4;else{if(u!==Sa.Fixed64)throw new Error("Unimplemented type: "+u);this.pos+=8}},writeTag:function(d,u){this.writeVarint(d<<3|u)},realloc:function(d){for(var u=this.length||16;u<this.pos+d;)u*=2;if(u!==this.length){var f=new Uint8Array(u);f.set(this.buf),this.buf=f,this.length=u}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(d){this.realloc(4),pp(this.buf,d,this.pos),this.pos+=4},writeSFixed32:function(d){this.realloc(4),pp(this.buf,d,this.pos),this.pos+=4},writeFixed64:function(d){this.realloc(8),pp(this.buf,-1&d,this.pos),pp(this.buf,Math.floor(d*Zh),this.pos+4),this.pos+=8},writeSFixed64:function(d){this.realloc(8),pp(this.buf,-1&d,this.pos),pp(this.buf,Math.floor(d*Zh),this.pos+4),this.pos+=8},writeVarint:function(d){(d=+d||0)>268435455||d<0?function(u,f){var v,T,P,V;if(u>=0?(v=u%4294967296|0,T=u/4294967296|0):(T=~(-u/4294967296),4294967295^(v=~(-u%4294967296))?v=v+1|0:(v=0,T=T+1|0)),u>=0x10000000000000000||u<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");f.realloc(10),P=v,(V=f).buf[V.pos++]=127&P|128,P>>>=7,V.buf[V.pos++]=127&P|128,P>>>=7,V.buf[V.pos++]=127&P|128,P>>>=7,V.buf[V.pos++]=127&P|128,V.buf[V.pos]=127&(P>>>=7),function(P,N){var V=(7&P)<<4;N.buf[N.pos++]|=V|((P>>>=3)?128:0),P&&(N.buf[N.pos++]=127&P|((P>>>=7)?128:0),P&&(N.buf[N.pos++]=127&P|((P>>>=7)?128:0),P&&(N.buf[N.pos++]=127&P|((P>>>=7)?128:0),P&&(N.buf[N.pos++]=127&P|((P>>>=7)?128:0),P&&(N.buf[N.pos++]=127&P)))))}(T,f)}(d,this):(this.realloc(4),this.buf[this.pos++]=127&d|(d>127?128:0),d<=127||(this.buf[this.pos++]=127&(d>>>=7)|(d>127?128:0),d<=127||(this.buf[this.pos++]=127&(d>>>=7)|(d>127?128:0),d<=127||(this.buf[this.pos++]=d>>>7&127))))},writeSVarint:function(d){this.writeVarint(d<0?2*-d-1:2*d)},writeBoolean:function(d){this.writeVarint(!!d)},writeString:function(d){d=String(d),this.realloc(4*d.length),this.pos++;var u=this.pos;this.pos=function(v,T,P){for(var N,V,Z=0;Z<T.length;Z++){if((N=T.charCodeAt(Z))>55295&&N<57344){if(!V){N>56319||Z+1===T.length?(v[P++]=239,v[P++]=191,v[P++]=189):V=N;continue}if(N<56320){v[P++]=239,v[P++]=191,v[P++]=189,V=N;continue}N=V-55296<<10|N-56320|65536,V=null}else V&&(v[P++]=239,v[P++]=191,v[P++]=189,V=null);N<128?v[P++]=N:(N<2048?v[P++]=N>>6|192:(N<65536?v[P++]=N>>12|224:(v[P++]=N>>18|240,v[P++]=N>>12&63|128),v[P++]=N>>6&63|128),v[P++]=63&N|128)}return P}(this.buf,d,this.pos);var f=this.pos-u;f>=128&&qp(u,f,this),this.pos=u-1,this.writeVarint(f),this.pos+=f},writeFloat:function(d){this.realloc(4),Jm(this.buf,d,this.pos,!0,23,4),this.pos+=4},writeDouble:function(d){this.realloc(8),Jm(this.buf,d,this.pos,!0,52,8),this.pos+=8},writeBytes:function(d){var u=d.length;this.writeVarint(u),this.realloc(u);for(var f=0;f<u;f++)this.buf[this.pos++]=d[f]},writeRawMessage:function(d,u){this.pos++;var f=this.pos;d(u,this);var v=this.pos-f;v>=128&&qp(f,v,this),this.pos=f-1,this.writeVarint(v),this.pos+=v},writeMessage:function(d,u,f){this.writeTag(d,Sa.Bytes),this.writeRawMessage(u,f)},writePackedVarint:function(d,u){u.length&&this.writeMessage(d,fp,u)},writePackedSVarint:function(d,u){u.length&&this.writeMessage(d,Ew,u)},writePackedBoolean:function(d,u){u.length&&this.writeMessage(d,Cw,u)},writePackedFloat:function(d,u){u.length&&this.writeMessage(d,c0,u)},writePackedDouble:function(d,u){u.length&&this.writeMessage(d,Tw,u)},writePackedFixed32:function(d,u){u.length&&this.writeMessage(d,Dw,u)},writePackedSFixed32:function(d,u){u.length&&this.writeMessage(d,Iw,u)},writePackedFixed64:function(d,u){u.length&&this.writeMessage(d,Lw,u)},writePackedSFixed64:function(d,u){u.length&&this.writeMessage(d,Aw,u)},writeBytesField:function(d,u){this.writeTag(d,Sa.Bytes),this.writeBytes(u)},writeFixed32Field:function(d,u){this.writeTag(d,Sa.Fixed32),this.writeFixed32(u)},writeSFixed32Field:function(d,u){this.writeTag(d,Sa.Fixed32),this.writeSFixed32(u)},writeFixed64Field:function(d,u){this.writeTag(d,Sa.Fixed64),this.writeFixed64(u)},writeSFixed64Field:function(d,u){this.writeTag(d,Sa.Fixed64),this.writeSFixed64(u)},writeVarintField:function(d,u){this.writeTag(d,Sa.Varint),this.writeVarint(u)},writeSVarintField:function(d,u){this.writeTag(d,Sa.Varint),this.writeSVarint(u)},writeStringField:function(d,u){this.writeTag(d,Sa.Bytes),this.writeString(u)},writeFloatField:function(d,u){this.writeTag(d,Sa.Fixed32),this.writeFloat(u)},writeDoubleField:function(d,u){this.writeTag(d,Sa.Fixed64),this.writeDouble(u)},writeBooleanField:function(d,u){this.writeVarintField(d,!!u)}};var Xl=R(Da);const Ug=3;function Xp(d,u,f){1===d&&f.readMessage(d0,u)}function d0(d,u,f){if(3===d){const{id:v,bitmap:T,width:P,height:N,left:V,top:Z,advance:ue}=f.readMessage(xd,{});u.push({id:v,bitmap:new ic({width:P+2*Ug,height:N+2*Ug},T),metrics:{width:P,height:N,left:V,top:Z,advance:ue}})}}function xd(d,u,f){1===d?u.id=f.readVarint():2===d?u.bitmap=f.readBytes():3===d?u.width=f.readVarint():4===d?u.height=f.readVarint():5===d?u.left=f.readSVarint():6===d?u.top=f.readSVarint():7===d&&(u.advance=f.readVarint())}const Kh=Ug;function e_(d){let u=0,f=0;for(const N of d)u+=N.w*N.h,f=Math.max(f,N.w);d.sort((N,V)=>V.h-N.h);const v=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(u/.95)),f),h:1/0}];let T=0,P=0;for(const N of d)for(let V=v.length-1;V>=0;V--){const Z=v[V];if(!(N.w>Z.w||N.h>Z.h)){if(N.x=Z.x,N.y=Z.y,P=Math.max(P,N.y+N.h),T=Math.max(T,N.x+N.w),N.w===Z.w&&N.h===Z.h){const ue=v.pop();V<v.length&&(v[V]=ue)}else N.h===Z.h?(Z.x+=N.w,Z.w-=N.w):N.w===Z.w?(Z.y+=N.h,Z.h-=N.h):(v.push({x:Z.x+N.w,y:Z.y,w:Z.w-N.w,h:N.h}),Z.y+=N.h,Z.h-=N.h);break}}return{w:T,h:P,fill:u/(T*P)||0}}const Vu=1;class Lf{constructor(u,{pixelRatio:f,version:v,stretchX:T,stretchY:P,content:N}){this.paddedRect=u,this.pixelRatio=f,this.stretchX=T,this.stretchY=P,this.content=N,this.version=v}get tl(){return[this.paddedRect.x+Vu,this.paddedRect.y+Vu]}get br(){return[this.paddedRect.x+this.paddedRect.w-Vu,this.paddedRect.y+this.paddedRect.h-Vu]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Vu)/this.pixelRatio,(this.paddedRect.h-2*Vu)/this.pixelRatio]}}class xy{constructor(u,f){const v={},T={};this.haveRenderCallbacks=[];const P=[];this.addImages(u,v,P),this.addImages(f,T,P);const{w:N,h:V}=e_(P),Z=new xu({width:N||1,height:V||1});for(const ue in u){const Le=u[ue],Ye=v[ue].paddedRect;xu.copy(Le.data,Z,{x:0,y:0},{x:Ye.x+Vu,y:Ye.y+Vu},Le.data)}for(const ue in f){const Le=f[ue],Ye=T[ue].paddedRect,Qe=Ye.x+Vu,ft=Ye.y+Vu,vt=Le.data.width,Rt=Le.data.height;xu.copy(Le.data,Z,{x:0,y:0},{x:Qe,y:ft},Le.data),xu.copy(Le.data,Z,{x:0,y:Rt-1},{x:Qe,y:ft-1},{width:vt,height:1}),xu.copy(Le.data,Z,{x:0,y:0},{x:Qe,y:ft+Rt},{width:vt,height:1}),xu.copy(Le.data,Z,{x:vt-1,y:0},{x:Qe-1,y:ft},{width:1,height:Rt}),xu.copy(Le.data,Z,{x:0,y:0},{x:Qe+vt,y:ft},{width:1,height:Rt})}this.image=Z,this.iconPositions=v,this.patternPositions=T}addImages(u,f,v){for(const T in u){const P=u[T],N={x:0,y:0,w:P.data.width+2*Vu,h:P.data.height+2*Vu};v.push(N),f[T]=new Lf(N,P),P.hasRenderCallback&&this.haveRenderCallbacks.push(T)}}patchUpdatedImages(u,f){u.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const v in u.updatedImages)this.patchUpdatedImage(this.iconPositions[v],u.getImage(v),f),this.patchUpdatedImage(this.patternPositions[v],u.getImage(v),f)}patchUpdatedImage(u,f,v){if(!u||!f||u.version===f.version)return;u.version=f.version;const[T,P]=u.tl;v.update(f.data,void 0,{x:T,y:P})}}var Af;hi("ImagePosition",Lf),hi("ImageAtlas",xy),p.ai=void 0,(Af=p.ai||(p.ai={}))[Af.none=0]="none",Af[Af.horizontal=1]="horizontal",Af[Af.vertical=2]="vertical",Af[Af.horizontalOnly=3]="horizontalOnly";const Zp=-17;class Oc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(u,f){const v=new Oc;return v.scale=u||1,v.fontStack=f,v}static forImage(u){const f=new Oc;return f.imageName=u,f}}class Gu{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(u,f){const v=new Gu;for(let T=0;T<u.sections.length;T++){const P=u.sections[T];P.image?v.addImageSection(P):v.addTextSection(P,f)}return v}length(){return this.text.length}getSection(u){return this.sections[this.sectionIndex[u]]}getSectionIndex(u){return this.sectionIndex[u]}getCharCode(u){return this.text.charCodeAt(u)}verticalizePunctuation(){this.text=function(u){let f="";for(let v=0;v<u.length;v++){const T=u.charCodeAt(v+1)||null,P=u.charCodeAt(v-1)||null;f+=T&&to(T)&&!uu[u[v+1]]||P&&to(P)&&!uu[u[v-1]]||!uu[u[v]]?u[v]:uu[u[v]]}return f}(this.text)}trim(){let u=0;for(let v=0;v<this.text.length&&Lh[this.text.charCodeAt(v)];v++)u++;let f=this.text.length;for(let v=this.text.length-1;v>=0&&v>=u&&Lh[this.text.charCodeAt(v)];v--)f--;this.text=this.text.substring(u,f),this.sectionIndex=this.sectionIndex.slice(u,f)}substring(u,f){const v=new Gu;return v.text=this.text.substring(u,f),v.sectionIndex=this.sectionIndex.slice(u,f),v.sections=this.sections,v}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((u,f)=>Math.max(u,this.sections[f].scale),0)}addTextSection(u,f){this.text+=u.text,this.sections.push(Oc.forText(u.scale,u.fontStack||f));const v=this.sections.length-1;for(let T=0;T<u.text.length;++T)this.sectionIndex.push(v)}addImageSection(u){const f=u.image?u.image.name:"";if(0===f.length)return void rt("Can't add FormattedSection with an empty image.");const v=this.getNextImageSectionCharCode();v?(this.text+=String.fromCharCode(v),this.sections.push(Oc.forImage(f)),this.sectionIndex.push(this.sections.length-1)):rt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function gp(d,u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe,ft,vt,Rt){const Vt=Gu.fromFeature(d,T);let Zt;Ye===p.ai.vertical&&Vt.verticalizePunctuation();const{processBidirectionalText:Sn,processStyledBidirectionalText:Jt}=Va;if(Sn&&1===Vt.sections.length){Zt=[];const ur=Sn(Vt.toString(),n_(Vt,ue,P,u,v,ft,vt));for(const di of ur){const Ri=new Gu;Ri.text=di,Ri.sections=Vt.sections;for(let oi=0;oi<di.length;oi++)Ri.sectionIndex.push(0);Zt.push(Ri)}}else if(Jt){Zt=[];const ur=Jt(Vt.text,Vt.sectionIndex,n_(Vt,ue,P,u,v,ft,vt));for(const di of ur){const Ri=new Gu;Ri.text=di[0],Ri.sectionIndex=di[1],Ri.sections=Vt.sections,Zt.push(Ri)}}else Zt=function(ur,di){const Ri=[],oi=ur.text;let ni=0;for(const Gr of di)Ri.push(ur.substring(ni,Gr)),ni=Gr;return ni<oi.length&&Ri.push(ur.substring(ni,oi.length)),Ri}(Vt,n_(Vt,ue,P,u,v,ft,vt));const mn=[],Un={positionedLines:mn,text:Vt.toString(),top:Le[1],bottom:Le[1],left:Le[0],right:Le[0],writingMode:Ye,iconsInText:!1,verticalizable:!1};return function(ur,di,Ri,oi,ni,Gr,xi,Vr,Dr,Vi,ji,$s){let _o=0,Ia=Zp,cu=0,Rc=0;const uc="right"===Vr?1:"left"===Vr?0:.5;let wl=0;for(const hu of ni){hu.trim();const La=hu.getMaxScale(),Su=(La-1)*ql,Tc={positionedGlyphs:[],lineOffset:0};ur.positionedLines[wl]=Tc;const Ls=Tc.positionedGlyphs;let Wu=0;if(!hu.length()){Ia+=Gr,++wl;continue}for(let bl=0;bl<hu.length();bl++){const fo=hu.getSection(bl),Xu=hu.getSectionIndex(bl),Ru=hu.getCharCode(bl);let fu=0,Md=null,Nd=null,Rd=null,kh=ql;const Fu=!(Dr===p.ai.horizontal||!ji&&!al(Ru)||ji&&(Lh[Ru]||(du=Ru,Kn.Arabic(du)||Kn["Arabic Supplement"](du)||Kn["Arabic Extended-A"](du)||Kn["Arabic Presentation Forms-A"](du)||Kn["Arabic Presentation Forms-B"](du))));if(fo.imageName){const cc=oi[fo.imageName];if(!cc)continue;Rd=fo.imageName,ur.iconsInText=ur.iconsInText||!0,Nd=cc.paddedRect;const Fc=cc.displaySize;fo.scale=fo.scale*ql/$s,Md={width:Fc[0],height:Fc[1],left:Vu,top:-Kh,advance:Fu?Fc[1]:Fc[0]},fu=Su+(ql-Fc[1]*fo.scale),kh=Md.advance;const rf=Fu?Fc[0]*fo.scale-ql*La:Fc[1]*fo.scale-ql*La;rf>0&&rf>Wu&&(Wu=rf)}else{const cc=Ri[fo.fontStack],Fc=cc&&cc[Ru];if(Fc&&Fc.rect)Nd=Fc.rect,Md=Fc.metrics;else{const rf=di[fo.fontStack],om=rf&&rf[Ru];if(!om)continue;Md=om.metrics}fu=(La-fo.scale)*ql}Fu?(ur.verticalizable=!0,Ls.push({glyph:Ru,imageName:Rd,x:_o,y:Ia+fu,vertical:Fu,scale:fo.scale,fontStack:fo.fontStack,sectionIndex:Xu,metrics:Md,rect:Nd}),_o+=kh*fo.scale+Vi):(Ls.push({glyph:Ru,imageName:Rd,x:_o,y:Ia+fu,vertical:Fu,scale:fo.scale,fontStack:fo.fontStack,sectionIndex:Xu,metrics:Md,rect:Nd}),_o+=Md.advance*fo.scale+Vi)}0!==Ls.length&&(cu=Math.max(_o-Vi,cu),i_(Ls,0,Ls.length-1,uc,Wu)),_o=0;const qu=Gr*La+Wu;Tc.lineOffset=Math.max(Wu,Su),Ia+=qu,Rc=Math.max(qu,Rc),++wl}var du;const Ll=Ia-Zp,{horizontalAlign:Al,verticalAlign:ds}=r_(xi);(function(hu,La,Su,Tc,Ls,Wu,qu,bl,fo){const Xu=(La-Su)*Ls;let Ru=0;Ru=Wu!==qu?-bl*Tc-Zp:(-Tc*fo+.5)*qu;for(const fu of hu)for(const Md of fu.positionedGlyphs)Md.x+=Xu,Md.y+=Ru})(ur.positionedLines,uc,Al,ds,cu,Rc,Gr,Ll,ni.length),ur.top+=-ds*Ll,ur.bottom=ur.top+Ll,ur.left+=-Al*cu,ur.right=ur.left+cu}(Un,u,f,v,Zt,N,V,Z,Ye,ue,Qe,Rt),!function(ur){for(const di of ur)if(0!==di.positionedGlyphs.length)return!1;return!0}(mn)&&Un}const Lh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},h0={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function t_(d,u,f,v,T,P){if(u.imageName){const N=v[u.imageName];return N?N.displaySize[0]*u.scale*ql/P+T:0}{const N=f[u.fontStack],V=N&&N[d];return V?V.metrics.advance*u.scale+T:0}}function My(d,u,f,v){const T=Math.pow(d-u,2);return v?d<u?T/2:2*T:T+Math.abs(f)*f}function f0(d,u,f){let v=0;return 10===d&&(v-=1e4),f&&(v+=150),40!==d&&65288!==d||(v+=50),41!==u&&65289!==u||(v+=50),v}function Sy(d,u,f,v,T,P){let N=null,V=My(u,f,T,P);for(const Z of v){const ue=My(u-Z.x,f,T,P)+Z.badness;ue<=V&&(N=Z,V=ue)}return{index:d,x:u,priorBreak:N,badness:V}}function Vg(d){return d?Vg(d.priorBreak).concat(d.index):[]}function n_(d,u,f,v,T,P,N){if("point"!==P)return[];if(!d)return[];const V=[],Z=function(Qe,ft,vt,Rt,Vt,Zt){let Sn=0;for(let Jt=0;Jt<Qe.length();Jt++){const mn=Qe.getSection(Jt);Sn+=t_(Qe.getCharCode(Jt),mn,Rt,Vt,ft,Zt)}return Sn/Math.max(1,Math.ceil(Sn/vt))}(d,u,f,v,T,N),ue=d.text.indexOf("\u200b")>=0;let Le=0;for(let Qe=0;Qe<d.length();Qe++){const ft=d.getSection(Qe),vt=d.getCharCode(Qe);if(Lh[vt]||(Le+=t_(vt,ft,v,T,u,N)),Qe<d.length()-1){const Rt=!((Ye=vt)<11904||!(Kn["Bopomofo Extended"](Ye)||Kn.Bopomofo(Ye)||Kn["CJK Compatibility Forms"](Ye)||Kn["CJK Compatibility Ideographs"](Ye)||Kn["CJK Compatibility"](Ye)||Kn["CJK Radicals Supplement"](Ye)||Kn["CJK Strokes"](Ye)||Kn["CJK Symbols and Punctuation"](Ye)||Kn["CJK Unified Ideographs Extension A"](Ye)||Kn["CJK Unified Ideographs"](Ye)||Kn["Enclosed CJK Letters and Months"](Ye)||Kn["Halfwidth and Fullwidth Forms"](Ye)||Kn.Hiragana(Ye)||Kn["Ideographic Description Characters"](Ye)||Kn["Kangxi Radicals"](Ye)||Kn["Katakana Phonetic Extensions"](Ye)||Kn.Katakana(Ye)||Kn["Vertical Forms"](Ye)||Kn["Yi Radicals"](Ye)||Kn["Yi Syllables"](Ye)));(h0[vt]||Rt||ft.imageName)&&V.push(Sy(Qe+1,Le,Z,V,f0(vt,d.getCharCode(Qe+1),Rt&&ue),!1))}}var Ye;return Vg(Sy(d.length(),Le,Z,V,0,!0))}function r_(d){let u=.5,f=.5;switch(d){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(d){case"bottom":case"bottom-right":case"bottom-left":f=1;break;case"top":case"top-right":case"top-left":f=0}return{horizontalAlign:u,verticalAlign:f}}function i_(d,u,f,v,T){if(!v&&!T)return;const P=d[f],N=(d[f].x+P.metrics.advance*P.scale)*v;for(let V=u;V<=f;V++)d[V].x-=N,d[V].y+=T}function Gg(d,u,f){const{horizontalAlign:v,verticalAlign:T}=r_(f),P=u[0]-d.displaySize[0]*v,N=u[1]-d.displaySize[1]*T;return{image:d,top:N,bottom:N+d.displaySize[1],left:P,right:P+d.displaySize[0]}}function Ey(d,u,f,v,T,P){const N=d.image;let V;if(N.content){const Vt=N.content,Zt=N.pixelRatio||1;V=[Vt[0]/Zt,Vt[1]/Zt,N.displaySize[0]-Vt[2]/Zt,N.displaySize[1]-Vt[3]/Zt]}const Z=u.left*P,ue=u.right*P;let Le,Ye,Qe,ft;"width"===f||"both"===f?(ft=T[0]+Z-v[3],Ye=T[0]+ue+v[1]):(ft=T[0]+(Z+ue-N.displaySize[0])/2,Ye=ft+N.displaySize[0]);const vt=u.top*P,Rt=u.bottom*P;return"height"===f||"both"===f?(Le=T[1]+vt-v[0],Qe=T[1]+Rt+v[2]):(Le=T[1]+(vt+Rt-N.displaySize[1])/2,Qe=Le+N.displaySize[1]),{image:N,top:Le,right:Ye,bottom:Qe,left:ft,collisionPadding:V}}const Ah=255,sh=128,Pd=Ah*sh;function Ty(d,u){const{expression:f}=u;if("constant"===f.kind)return{kind:"constant",layoutSize:f.evaluate(new js(d+1))};if("source"===f.kind)return{kind:"source"};{const{zoomStops:v,interpolationType:T}=f;let P=0;for(;P<v.length&&v[P]<=d;)P++;P=Math.max(0,P-1);let N=P;for(;N<v.length&&v[N]<d+1;)N++;N=Math.min(v.length-1,N);const V=v[P],Z=v[N];return"composite"===f.kind?{kind:"composite",minZoom:V,maxZoom:Z,interpolationType:T}:{kind:"camera",minZoom:V,maxZoom:Z,minSize:f.evaluate(new js(V)),maxSize:f.evaluate(new js(Z)),interpolationType:T}}}function Wg(d,u,f){let v="never";const T=d.get(u);return T?v=T:d.get(f)&&(v="always"),v}const s_=Ld.VectorTileFeature.types,qg=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Kp(d,u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe){const ft=V?Math.min(Pd,Math.round(V[0])):0,vt=V?Math.min(Pd,Math.round(V[1])):0;d.emplaceBack(u,f,Math.round(32*v),Math.round(32*T),P,N,(ft<<1)+(Z?1:0),vt,16*ue,16*Le,256*Ye,256*Qe)}function o_(d,u,f){d.emplaceBack(u.x,u.y,f),d.emplaceBack(u.x,u.y,f),d.emplaceBack(u.x,u.y,f),d.emplaceBack(u.x,u.y,f)}function p0(d){for(const u of d.sections)if(Qa(u.text))return!0;return!1}class Jh{constructor(u){this.layoutVertexArray=new Rs,this.indexArray=new Tl,this.programConfigurations=u,this.segments=new ao,this.dynamicLayoutVertexArray=new Ss,this.opacityVertexArray=new Ks,this.hasVisibleVertices=!1,this.placedSymbolArray=new vn}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(u,f,v,T){this.isEmpty()||(v&&(this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,Df.members),this.indexBuffer=u.createIndexBuffer(this.indexArray,f),this.dynamicLayoutVertexBuffer=u.createVertexBuffer(this.dynamicLayoutVertexArray,l0.members,!0),this.opacityVertexBuffer=u.createVertexBuffer(this.opacityVertexArray,qg,!0),this.opacityVertexBuffer.itemSize=1),(v||T)&&this.programConfigurations.upload(u))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}hi("SymbolBuffers",Jh);class Pf{constructor(u,f,v){this.layoutVertexArray=new u,this.layoutAttributes=f,this.indexArray=new v,this.segments=new ao,this.collisionVertexArray=new co}upload(u){this.layoutVertexBuffer=u.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=u.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=u.createVertexBuffer(this.collisionVertexArray,by.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}hi("CollisionBuffers",Pf);class mp{constructor(u){this.collisionBoxArray=u.collisionBoxArray,this.zoom=u.zoom,this.overscaling=u.overscaling,this.layers=u.layers,this.layerIds=this.layers.map(N=>N.id),this.index=u.index,this.pixelRatio=u.pixelRatio,this.sourceLayerIndex=u.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ho([]),this.placementViewportMatrix=ho([]);const f=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ty(this.zoom,f["text-size"]),this.iconSizeData=Ty(this.zoom,f["icon-size"]);const v=this.layers[0].layout,T=v.get("symbol-sort-key"),P=v.get("symbol-z-order");this.canOverlap="never"!==Wg(v,"text-overlap","text-allow-overlap")||"never"!==Wg(v,"icon-overlap","icon-allow-overlap")||v.get("text-ignore-placement")||v.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==P&&!T.isConstant(),this.sortFeaturesByY=("viewport-y"===P||"auto"===P&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===v.get("symbol-placement")&&(this.writingModes=v.get("text-writing-mode").map(N=>p.ai[N])),this.stateDependentLayerIds=this.layers.filter(N=>N.isStateDependent()).map(N=>N.id),this.sourceID=u.sourceID}createArrays(){this.text=new Jh(new ad(this.layers,this.zoom,u=>/^text/.test(u))),this.icon=new Jh(new ad(this.layers,this.zoom,u=>/^icon/.test(u))),this.glyphOffsetArray=new Mn,this.lineVertexArray=new Bn,this.symbolInstances=new bt,this.textAnchorOffsets=new Hn}calculateGlyphDependencies(u,f,v,T,P){for(let N=0;N<u.length;N++)if(f[u.charCodeAt(N)]=!0,(v||T)&&P){const V=uu[u.charAt(N)];V&&(f[V.charCodeAt(0)]=!0)}}populate(u,f,v){const T=this.layers[0],P=T.layout,N=P.get("text-font"),V=P.get("text-field"),Z=P.get("icon-image"),ue=("constant"!==V.value.kind||V.value.value instanceof vr&&!V.value.value.isEmpty()||V.value.value.toString().length>0)&&("constant"!==N.value.kind||N.value.value.length>0),Le="constant"!==Z.value.kind||!!Z.value.value||Object.keys(Z.parameters).length>0,Ye=P.get("symbol-sort-key");if(this.features=[],!ue&&!Le)return;const Qe=f.iconDependencies,ft=f.glyphDependencies,vt=f.availableImages,Rt=new js(this.zoom);for(const{feature:Vt,id:Zt,index:Sn,sourceLayerIndex:Jt}of u){const mn=T._featureFilter.needGeometry,Un=k(Vt,mn);if(!T._featureFilter.filter(Rt,Un,v))continue;let ur,di;if(mn||(Un.geometry=so(Vt)),ue){const oi=T.getValueAndResolveTokens("text-field",Un,v,vt),ni=vr.factory(oi);p0(ni)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===wu()||this.hasRTLText&&Va.isParsed())&&(ur=u0(ni,T,Un))}if(Le){const oi=T.getValueAndResolveTokens("icon-image",Un,v,vt);di=oi instanceof ps?oi:ps.fromString(oi)}if(!ur&&!di)continue;const Ri=this.sortFeaturesByKey?Ye.evaluate(Un,{},v):void 0;if(this.features.push({id:Zt,text:ur,icon:di,index:Sn,sourceLayerIndex:Jt,geometry:Un.geometry,properties:Vt.properties,type:s_[Vt.type],sortKey:Ri}),di&&(Qe[di.name]=!0),ur){const oi=N.evaluate(Un,{},v).join(","),ni="viewport"!==P.get("text-rotation-alignment")&&"point"!==P.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(p.ai.vertical)>=0;for(const Gr of ur.sections)if(Gr.image)Qe[Gr.image.name]=!0;else{const xi=es(ur.toString()),Vr=Gr.fontStack||oi,Dr=ft[Vr]=ft[Vr]||{};this.calculateGlyphDependencies(Gr.text,Dr,ni,this.allowVerticalPlacement,xi)}}}"line"===P.get("symbol-placement")&&(this.features=function(Vt){const Zt={},Sn={},Jt=[];let mn=0;function Un(oi){Jt.push(Vt[oi]),mn++}function ur(oi,ni,Gr){const xi=Sn[oi];return delete Sn[oi],Sn[ni]=xi,Jt[xi].geometry[0].pop(),Jt[xi].geometry[0]=Jt[xi].geometry[0].concat(Gr[0]),xi}function di(oi,ni,Gr){const xi=Zt[ni];return delete Zt[ni],Zt[oi]=xi,Jt[xi].geometry[0].shift(),Jt[xi].geometry[0]=Gr[0].concat(Jt[xi].geometry[0]),xi}function Ri(oi,ni,Gr){const xi=Gr?ni[0][ni[0].length-1]:ni[0][0];return`${oi}:${xi.x}:${xi.y}`}for(let oi=0;oi<Vt.length;oi++){const ni=Vt[oi],Gr=ni.geometry,xi=ni.text?ni.text.toString():null;if(!xi){Un(oi);continue}const Vr=Ri(xi,Gr),Dr=Ri(xi,Gr,!0);if(Vr in Sn&&Dr in Zt&&Sn[Vr]!==Zt[Dr]){const Vi=di(Vr,Dr,Gr),ji=ur(Vr,Dr,Jt[Vi].geometry);delete Zt[Vr],delete Sn[Dr],Sn[Ri(xi,Jt[ji].geometry,!0)]=ji,Jt[Vi].geometry=null}else Vr in Sn?ur(Vr,Dr,Gr):Dr in Zt?di(Vr,Dr,Gr):(Un(oi),Zt[Vr]=mn-1,Sn[Dr]=mn-1)}return Jt.filter(oi=>oi.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Vt,Zt)=>Vt.sortKey-Zt.sortKey)}update(u,f,v){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(u,f,this.layers,v),this.icon.programConfigurations.updatePaintArrays(u,f,this.layers,v))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(u){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(u),this.iconCollisionBox.upload(u)),this.text.upload(u,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(u,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(u,f){const v=this.lineVertexArray.length;if(void 0!==u.segment){let T=u.dist(f[u.segment+1]),P=u.dist(f[u.segment]);const N={};for(let V=u.segment+1;V<f.length;V++)N[V]={x:f[V].x,y:f[V].y,tileUnitDistanceFromAnchor:T},V<f.length-1&&(T+=f[V+1].dist(f[V]));for(let V=u.segment||0;V>=0;V--)N[V]={x:f[V].x,y:f[V].y,tileUnitDistanceFromAnchor:P},V>0&&(P+=f[V-1].dist(f[V]));for(let V=0;V<f.length;V++){const Z=N[V];this.lineVertexArray.emplaceBack(Z.x,Z.y,Z.tileUnitDistanceFromAnchor)}}return{lineStartIndex:v,lineLength:this.lineVertexArray.length-v}}addSymbols(u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe){const ft=u.indexArray,vt=u.layoutVertexArray,Rt=u.segments.prepareSegment(4*f.length,vt,ft,this.canOverlap?N.sortKey:void 0),Vt=this.glyphOffsetArray.length,Zt=Rt.vertexLength,Sn=this.allowVerticalPlacement&&V===p.ai.vertical?Math.PI/2:0,Jt=N.text&&N.text.sections;for(let mn=0;mn<f.length;mn++){const{tl:Un,tr:ur,bl:di,br:Ri,tex:oi,pixelOffsetTL:ni,pixelOffsetBR:Gr,minFontScaleX:xi,minFontScaleY:Vr,glyphOffset:Dr,isSDF:Vi,sectionIndex:ji}=f[mn],$s=Rt.vertexLength,_o=Dr[1];Kp(vt,Z.x,Z.y,Un.x,_o+Un.y,oi.x,oi.y,v,Vi,ni.x,ni.y,xi,Vr),Kp(vt,Z.x,Z.y,ur.x,_o+ur.y,oi.x+oi.w,oi.y,v,Vi,Gr.x,ni.y,xi,Vr),Kp(vt,Z.x,Z.y,di.x,_o+di.y,oi.x,oi.y+oi.h,v,Vi,ni.x,Gr.y,xi,Vr),Kp(vt,Z.x,Z.y,Ri.x,_o+Ri.y,oi.x+oi.w,oi.y+oi.h,v,Vi,Gr.x,Gr.y,xi,Vr),o_(u.dynamicLayoutVertexArray,Z,Sn),ft.emplaceBack($s,$s+1,$s+2),ft.emplaceBack($s+1,$s+2,$s+3),Rt.vertexLength+=4,Rt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Dr[0]),mn!==f.length-1&&ji===f[mn+1].sectionIndex||u.programConfigurations.populatePaintArrays(vt.length,N,N.index,{},Qe,Jt&&Jt[ji])}u.placedSymbolArray.emplaceBack(Z.x,Z.y,Vt,this.glyphOffsetArray.length-Vt,Zt,ue,Le,Z.segment,v?v[0]:0,v?v[1]:0,T[0],T[1],V,0,!1,0,Ye)}_addCollisionDebugVertex(u,f,v,T,P,N){return f.emplaceBack(0,0),u.emplaceBack(v.x,v.y,T,P,Math.round(N.x),Math.round(N.y))}addCollisionDebugVertices(u,f,v,T,P,N,V){const Z=P.segments.prepareSegment(4,P.layoutVertexArray,P.indexArray),ue=Z.vertexLength,Le=P.layoutVertexArray,Ye=P.collisionVertexArray,Qe=V.anchorX,ft=V.anchorY;this._addCollisionDebugVertex(Le,Ye,N,Qe,ft,new ie(u,f)),this._addCollisionDebugVertex(Le,Ye,N,Qe,ft,new ie(v,f)),this._addCollisionDebugVertex(Le,Ye,N,Qe,ft,new ie(v,T)),this._addCollisionDebugVertex(Le,Ye,N,Qe,ft,new ie(u,T)),Z.vertexLength+=4;const vt=P.indexArray;vt.emplaceBack(ue,ue+1),vt.emplaceBack(ue+1,ue+2),vt.emplaceBack(ue+2,ue+3),vt.emplaceBack(ue+3,ue),Z.primitiveLength+=4}addDebugCollisionBoxes(u,f,v,T){for(let P=u;P<f;P++){const N=this.collisionBoxArray.get(P);this.addCollisionDebugVertices(N.x1,N.y1,N.x2,N.y2,T?this.textCollisionBox:this.iconCollisionBox,N.anchorPoint,v)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Pf(tl,$g.members,Ra),this.iconCollisionBox=new Pf(tl,$g.members,Ra);for(let u=0;u<this.symbolInstances.length;u++){const f=this.symbolInstances.get(u);this.addDebugCollisionBoxes(f.textBoxStartIndex,f.textBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f,!0),this.addDebugCollisionBoxes(f.iconBoxStartIndex,f.iconBoxEndIndex,f,!1),this.addDebugCollisionBoxes(f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex,f,!1)}}_deserializeCollisionBoxesForSymbol(u,f,v,T,P,N,V,Z,ue){const Le={};for(let Ye=f;Ye<v;Ye++){const Qe=u.get(Ye);Le.textBox={x1:Qe.x1,y1:Qe.y1,x2:Qe.x2,y2:Qe.y2,anchorPointX:Qe.anchorPointX,anchorPointY:Qe.anchorPointY},Le.textFeatureIndex=Qe.featureIndex;break}for(let Ye=T;Ye<P;Ye++){const Qe=u.get(Ye);Le.verticalTextBox={x1:Qe.x1,y1:Qe.y1,x2:Qe.x2,y2:Qe.y2,anchorPointX:Qe.anchorPointX,anchorPointY:Qe.anchorPointY},Le.verticalTextFeatureIndex=Qe.featureIndex;break}for(let Ye=N;Ye<V;Ye++){const Qe=u.get(Ye);Le.iconBox={x1:Qe.x1,y1:Qe.y1,x2:Qe.x2,y2:Qe.y2,anchorPointX:Qe.anchorPointX,anchorPointY:Qe.anchorPointY},Le.iconFeatureIndex=Qe.featureIndex;break}for(let Ye=Z;Ye<ue;Ye++){const Qe=u.get(Ye);Le.verticalIconBox={x1:Qe.x1,y1:Qe.y1,x2:Qe.x2,y2:Qe.y2,anchorPointX:Qe.anchorPointX,anchorPointY:Qe.anchorPointY},Le.verticalIconFeatureIndex=Qe.featureIndex;break}return Le}deserializeCollisionBoxes(u){this.collisionArrays=[];for(let f=0;f<this.symbolInstances.length;f++){const v=this.symbolInstances.get(f);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(u,v.textBoxStartIndex,v.textBoxEndIndex,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v.iconBoxStartIndex,v.iconBoxEndIndex,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(u,f){const v=u.placedSymbolArray.get(f),T=v.vertexStartIndex+4*v.numGlyphs;for(let P=v.vertexStartIndex;P<T;P+=4)u.indexArray.emplaceBack(P,P+1,P+2),u.indexArray.emplaceBack(P+1,P+2,P+3)}getSortedSymbolIndexes(u){if(this.sortedAngle===u&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const f=Math.sin(u),v=Math.cos(u),T=[],P=[],N=[];for(let V=0;V<this.symbolInstances.length;++V){N.push(V);const Z=this.symbolInstances.get(V);T.push(0|Math.round(f*Z.anchorX+v*Z.anchorY)),P.push(Z.featureIndex)}return N.sort((V,Z)=>T[V]-T[Z]||P[Z]-P[V]),N}addToSortKeyRanges(u,f){const v=this.sortKeyRanges[this.sortKeyRanges.length-1];v&&v.sortKey===f?v.symbolInstanceEnd=u+1:this.sortKeyRanges.push({sortKey:f,symbolInstanceStart:u,symbolInstanceEnd:u+1})}sortFeatures(u){if(this.sortFeaturesByY&&this.sortedAngle!==u&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(u),this.sortedAngle=u,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const f of this.symbolInstanceIndexes){const v=this.symbolInstances.get(f);this.featureSortOrder.push(v.featureIndex),[v.rightJustifiedTextSymbolIndex,v.centerJustifiedTextSymbolIndex,v.leftJustifiedTextSymbolIndex].forEach((T,P,N)=>{T>=0&&N.indexOf(T)===P&&this.addIndicesForPlacedSymbol(this.text,T)}),v.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,v.verticalPlacedTextSymbolIndex),v.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,v.placedIconSymbolIndex),v.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,v.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let g0,a_;hi("SymbolBucket",mp,{omit:["layers","collisionBoxArray","features","compareText"]}),mp.MAX_GLYPHS=65535,mp.addDynamicAttributes=o_;var Jp={get paint(){return a_=a_||new ci({"icon-opacity":new ki(en.paint_symbol["icon-opacity"]),"icon-color":new ki(en.paint_symbol["icon-color"]),"icon-halo-color":new ki(en.paint_symbol["icon-halo-color"]),"icon-halo-width":new ki(en.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ki(en.paint_symbol["icon-halo-blur"]),"icon-translate":new yi(en.paint_symbol["icon-translate"]),"icon-translate-anchor":new yi(en.paint_symbol["icon-translate-anchor"]),"text-opacity":new ki(en.paint_symbol["text-opacity"]),"text-color":new ki(en.paint_symbol["text-color"],{runtimeType:Mt,getOverride:d=>d.textColor,hasOverride:d=>!!d.textColor}),"text-halo-color":new ki(en.paint_symbol["text-halo-color"]),"text-halo-width":new ki(en.paint_symbol["text-halo-width"]),"text-halo-blur":new ki(en.paint_symbol["text-halo-blur"]),"text-translate":new yi(en.paint_symbol["text-translate"]),"text-translate-anchor":new yi(en.paint_symbol["text-translate-anchor"])})},get layout(){return g0=g0||new ci({"symbol-placement":new yi(en.layout_symbol["symbol-placement"]),"symbol-spacing":new yi(en.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yi(en.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ki(en.layout_symbol["symbol-sort-key"]),"symbol-z-order":new yi(en.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new yi(en.layout_symbol["icon-allow-overlap"]),"icon-overlap":new yi(en.layout_symbol["icon-overlap"]),"icon-ignore-placement":new yi(en.layout_symbol["icon-ignore-placement"]),"icon-optional":new yi(en.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yi(en.layout_symbol["icon-rotation-alignment"]),"icon-size":new ki(en.layout_symbol["icon-size"]),"icon-text-fit":new yi(en.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yi(en.layout_symbol["icon-text-fit-padding"]),"icon-image":new ki(en.layout_symbol["icon-image"]),"icon-rotate":new ki(en.layout_symbol["icon-rotate"]),"icon-padding":new ki(en.layout_symbol["icon-padding"]),"icon-keep-upright":new yi(en.layout_symbol["icon-keep-upright"]),"icon-offset":new ki(en.layout_symbol["icon-offset"]),"icon-anchor":new ki(en.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yi(en.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yi(en.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yi(en.layout_symbol["text-rotation-alignment"]),"text-field":new ki(en.layout_symbol["text-field"]),"text-font":new ki(en.layout_symbol["text-font"]),"text-size":new ki(en.layout_symbol["text-size"]),"text-max-width":new ki(en.layout_symbol["text-max-width"]),"text-line-height":new yi(en.layout_symbol["text-line-height"]),"text-letter-spacing":new ki(en.layout_symbol["text-letter-spacing"]),"text-justify":new ki(en.layout_symbol["text-justify"]),"text-radial-offset":new ki(en.layout_symbol["text-radial-offset"]),"text-variable-anchor":new yi(en.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new ki(en.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new ki(en.layout_symbol["text-anchor"]),"text-max-angle":new yi(en.layout_symbol["text-max-angle"]),"text-writing-mode":new yi(en.layout_symbol["text-writing-mode"]),"text-rotate":new ki(en.layout_symbol["text-rotate"]),"text-padding":new yi(en.layout_symbol["text-padding"]),"text-keep-upright":new yi(en.layout_symbol["text-keep-upright"]),"text-transform":new ki(en.layout_symbol["text-transform"]),"text-offset":new ki(en.layout_symbol["text-offset"]),"text-allow-overlap":new yi(en.layout_symbol["text-allow-overlap"]),"text-overlap":new yi(en.layout_symbol["text-overlap"]),"text-ignore-placement":new yi(en.layout_symbol["text-ignore-placement"]),"text-optional":new yi(en.layout_symbol["text-optional"])})}};class Cy{constructor(u){if(void 0===u.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=u.property.overrides?u.property.overrides.runtimeType:xe,this.defaultValue=u}evaluate(u){if(u.formattedSection){const f=this.defaultValue.property.overrides;if(f&&f.hasOverride(u.formattedSection))return f.getOverride(u.formattedSection)}return u.feature&&u.featureState?this.defaultValue.evaluate(u.feature,u.featureState):this.defaultValue.property.specification.default}eachChild(u){this.defaultValue.isConstant()||u(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}hi("FormatSectionOverride",Cy,{omit:["defaultValue"]});class Xg extends Gl{constructor(u){super(u,Jp)}recalculate(u,f){if(super.recalculate(u,f),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const v=this.layout.get("text-writing-mode");if(v){const T=[];for(const P of v)T.indexOf(P)<0&&T.push(P);this.layout._values["text-writing-mode"]=T}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(u,f,v,T){const P=this.layout.get(u).evaluate(f,{},v,T),N=this._unevaluatedLayout._values[u];return N.isDataDriven()||Qu(N.value)||!P?P:(V=f.properties,P.replace(/{([^{}]+)}/g,(ue,Le)=>V&&Le in V?String(V[Le]):""));var V}createBucket(u){return new mp(u)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const u of Jp.paint.overridableProperties){if(!Xg.hasPaintOverride(this.layout,u))continue;const f=this.paint.get(u),v=new Cy(f),T=new Ha(v,f.property.specification);let P=null;P="constant"===f.value.kind||"source"===f.value.kind?new Rl("source",T):new Oa("composite",T,f.value.zoomStops),this.paint._values[u]=new xa(f.property,P,f.parameters)}}_handleOverridablePaintPropertyUpdate(u,f,v){return!(!this.layout||f.isDataDriven()||v.isDataDriven())&&Xg.hasPaintOverride(this.layout,u)}static hasPaintOverride(u,f){const v=u.get("text-field"),T=Jp.paint.properties[f];let P=!1;const N=V=>{for(const Z of V)if(T.overrides&&T.overrides.hasOverride(Z))return void(P=!0)};if("constant"===v.value.kind&&v.value.value instanceof vr)N(v.value.value.sections);else if("source"===v.value.kind){const V=ue=>{P||(ue instanceof Ot&&mt(ue.value)===me?N(ue.value.sections):ue instanceof ya?N(ue.sections):ue.eachChild(V))},Z=v.value;Z._styleExpression&&V(Z._styleExpression.expression)}return P}}let Dy;var m0={get paint(){return Dy=Dy||new ci({"background-color":new yi(en.paint_background["background-color"]),"background-pattern":new pl(en.paint_background["background-pattern"]),"background-opacity":new yi(en.paint_background["background-opacity"])})}};class Zg extends Gl{constructor(u){super(u,m0)}}let l_;var _0={get paint(){return l_=l_||new ci({"raster-opacity":new yi(en.paint_raster["raster-opacity"]),"raster-hue-rotate":new yi(en.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yi(en.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yi(en.paint_raster["raster-brightness-max"]),"raster-saturation":new yi(en.paint_raster["raster-saturation"]),"raster-contrast":new yi(en.paint_raster["raster-contrast"]),"raster-resampling":new yi(en.paint_raster["raster-resampling"]),"raster-fade-duration":new yi(en.paint_raster["raster-fade-duration"])})}};class Iy extends Gl{constructor(u){super(u,_0)}}class Pw extends Gl{constructor(u){super(u,{}),this.onAdd=f=>{this.implementation.onAdd&&this.implementation.onAdd(f,f.painter.context.gl)},this.onRemove=f=>{this.implementation.onRemove&&this.implementation.onRemove(f,f.painter.context.gl)},this.implementation=u}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class u_{constructor(u){this._callback=u,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Ly=6371008.8;class kd{constructor(u,f){if(isNaN(u)||isNaN(f))throw new Error(`Invalid LngLat object: (${u}, ${f})`);if(this.lng=+u,this.lat=+f,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new kd(be(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(u){const f=Math.PI/180,v=this.lat*f,T=u.lat*f,P=Math.sin(v)*Math.sin(T)+Math.cos(v)*Math.cos(T)*Math.cos((u.lng-this.lng)*f);return Ly*Math.acos(Math.min(P,1))}static convert(u){if(u instanceof kd)return u;if(Array.isArray(u)&&(2===u.length||3===u.length))return new kd(Number(u[0]),Number(u[1]));if(!Array.isArray(u)&&"object"==typeof u&&null!==u)return new kd(Number("lng"in u?u.lng:u.lon),Number(u.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ay=2*Math.PI*Ly;function Kg(d){return Ay*Math.cos(d*Math.PI/180)}function y0(d){return(180+d)/360}function v0(d){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d*Math.PI/360)))/360}function Jg(d,u){return d/Kg(u)}function w0(d){return 360*d-180}function Py(d){return 360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90}class c_{constructor(u,f,v=0){this.x=+u,this.y=+f,this.z=+v}static fromLngLat(u,f=0){const v=kd.convert(u);return new c_(y0(v.lng),v0(v.lat),Jg(f,v.lat))}toLngLat(){return new kd(w0(this.x),Py(this.y))}toAltitude(){return this.z*Kg(Py(this.y))}meterInMercatorCoordinateUnits(){return 1/Ay*(u=Py(this.y),1/Math.cos(u*Math.PI/180));var u}}function b0(d,u,f){var v=2*Math.PI*6378137/256/Math.pow(2,f);return[d*v-2*Math.PI*6378137/2,u*v-2*Math.PI*6378137/2]}class ky{constructor(u,f,v){if(u<0||u>25||v<0||v>=Math.pow(2,u)||f<0||f>=Math.pow(2,u))throw new Error(`x=${f}, y=${v}, z=${u} outside of bounds. 0<=x<${Math.pow(2,u)}, 0<=y<${Math.pow(2,u)} 0<=z<=25 `);this.z=u,this.x=f,this.y=v,this.key=Qh(0,u,u,f,v)}equals(u){return this.z===u.z&&this.x===u.x&&this.y===u.y}url(u,f,v){const T=(N=this.y,V=this.z,Z=b0(256*(P=this.x),256*(N=Math.pow(2,V)-N-1),V),ue=b0(256*(P+1),256*(N+1),V),Z[0]+","+Z[1]+","+ue[0]+","+ue[1]);var P,N,V,Z,ue;const Le=function(Ye,Qe,ft){let vt,Rt="";for(let Vt=Ye;Vt>0;Vt--)vt=1<<Vt-1,Rt+=(Qe&vt?1:0)+(ft&vt?2:0);return Rt}(this.z,this.x,this.y);return u[(this.x+this.y)%u.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===v?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,f>1?"@2x":"").replace(/{quadkey}/g,Le).replace(/{bbox-epsg-3857}/g,T)}isChildOf(u){const f=this.z-u.z;return f>0&&u.x===this.x>>f&&u.y===this.y>>f}getTilePoint(u){const f=Math.pow(2,this.z);return new ie((u.x*f-this.x)*gl,(u.y*f-this.y)*gl)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Oy{constructor(u,f){this.wrap=u,this.canonical=f,this.key=Qh(u,f.z,f.z,f.x,f.y)}}class Ec{constructor(u,f,v,T,P){if(u<v)throw new Error(`overscaledZ should be >= z; overscaledZ = ${u}; z = ${v}`);this.overscaledZ=u,this.wrap=f,this.canonical=new ky(v,+T,+P),this.key=Qh(f,u,v,T,P)}clone(){return new Ec(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(u){return this.overscaledZ===u.overscaledZ&&this.wrap===u.wrap&&this.canonical.equals(u.canonical)}scaledTo(u){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-u;return u>this.canonical.z?new Ec(u,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ec(u,this.wrap,u,this.canonical.x>>f,this.canonical.y>>f)}calculateScaledKey(u,f){if(u>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${u}; overscaledZ = ${this.overscaledZ}`);const v=this.canonical.z-u;return u>this.canonical.z?Qh(this.wrap*+f,u,this.canonical.z,this.canonical.x,this.canonical.y):Qh(this.wrap*+f,u,u,this.canonical.x>>v,this.canonical.y>>v)}isChildOf(u){if(u.wrap!==this.wrap)return!1;const f=this.canonical.z-u.canonical.z;return 0===u.overscaledZ||u.overscaledZ<this.overscaledZ&&u.canonical.x===this.canonical.x>>f&&u.canonical.y===this.canonical.y>>f}children(u){if(this.overscaledZ>=u)return[new Ec(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const f=this.canonical.z+1,v=2*this.canonical.x,T=2*this.canonical.y;return[new Ec(f,this.wrap,f,v,T),new Ec(f,this.wrap,f,v+1,T),new Ec(f,this.wrap,f,v,T+1),new Ec(f,this.wrap,f,v+1,T+1)]}isLessThan(u){return this.wrap<u.wrap||!(this.wrap>u.wrap)&&(this.overscaledZ<u.overscaledZ||!(this.overscaledZ>u.overscaledZ)&&(this.canonical.x<u.canonical.x||!(this.canonical.x>u.canonical.x)&&this.canonical.y<u.canonical.y))}wrapped(){return new Ec(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(u){return new Ec(this.overscaledZ,u,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Oy(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(u){return this.canonical.getTilePoint(new c_(u.x-this.wrap,u.y))}}function Qh(d,u,f,v,T){(d*=2)<0&&(d=-1*d-1);const P=1<<f;return(P*P*d+P*T+v).toString(36)+f.toString(36)+u.toString(36)}hi("CanonicalTileID",ky),hi("OverscaledTileID",Ec,{omit:["posMatrix"]});class d_{constructor(u,f,v,T=1,P=1,N=1,V=0){if(this.uid=u,f.height!==f.width)throw new RangeError("DEM tiles must be square");if(v&&!["mapbox","terrarium","custom"].includes(v))return void rt(`"${v}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=f.height;const Z=this.dim=f.height-2;switch(this.data=new Uint32Array(f.data.buffer),v){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=T,this.greenFactor=P,this.blueFactor=N,this.baseShift=V;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let ue=0;ue<Z;ue++)this.data[this._idx(-1,ue)]=this.data[this._idx(0,ue)],this.data[this._idx(Z,ue)]=this.data[this._idx(Z-1,ue)],this.data[this._idx(ue,-1)]=this.data[this._idx(ue,0)],this.data[this._idx(ue,Z)]=this.data[this._idx(ue,Z-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(Z,-1)]=this.data[this._idx(Z-1,0)],this.data[this._idx(-1,Z)]=this.data[this._idx(0,Z-1)],this.data[this._idx(Z,Z)]=this.data[this._idx(Z-1,Z-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let ue=0;ue<Z;ue++)for(let Le=0;Le<Z;Le++){const Ye=this.get(ue,Le);Ye>this.max&&(this.max=Ye),Ye<this.min&&(this.min=Ye)}}get(u,f){const v=new Uint8Array(this.data.buffer),T=4*this._idx(u,f);return this.unpack(v[T],v[T+1],v[T+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(u,f){if(u<-1||u>=this.dim+1||f<-1||f>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(f+1)*this.stride+(u+1)}unpack(u,f,v){return u*this.redFactor+f*this.greenFactor+v*this.blueFactor-this.baseShift}getPixels(){return new xu({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(u,f,v){if(this.dim!==u.dim)throw new Error("dem dimension mismatch");let T=f*this.dim,P=f*this.dim+this.dim,N=v*this.dim,V=v*this.dim+this.dim;switch(f){case-1:T=P-1;break;case 1:P=T+1}switch(v){case-1:N=V-1;break;case 1:V=N+1}const Z=-f*this.dim,ue=-v*this.dim;for(let Le=N;Le<V;Le++)for(let Ye=T;Ye<P;Ye++)this.data[this._idx(Ye,Le)]=u.data[this._idx(Ye+Z,Le+ue)]}}hi("DEMData",d_);class h_{constructor(u){this._stringToNumber={},this._numberToString=[];for(let f=0;f<u.length;f++){const v=u[f];this._stringToNumber[v]=f,this._numberToString[f]=v}}encode(u){return this._stringToNumber[u]}decode(u){if(u>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${u} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[u]}}class f_{constructor(u,f,v,T,P){this.type="Feature",this._vectorTileFeature=u,u._z=f,u._x=v,u._y=T,this.properties=u.properties,this.id=P}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(u){this._geometry=u}toJSON(){const u={geometry:this.geometry};for(const f in this)"_geometry"!==f&&"_vectorTileFeature"!==f&&(u[f]=this[f]);return u}}class ef{constructor(u,f){this.tileID=u,this.x=u.canonical.x,this.y=u.canonical.y,this.z=u.canonical.z,this.grid=new uo(gl,16,0),this.grid3D=new uo(gl,16,0),this.featureIndexArray=new yr,this.promoteId=f}insert(u,f,v,T,P,N){const V=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(v,T,P);const Z=N?this.grid3D:this.grid;for(let ue=0;ue<f.length;ue++){const Le=f[ue],Ye=[1/0,1/0,-1/0,-1/0];for(let Qe=0;Qe<Le.length;Qe++){const ft=Le[Qe];Ye[0]=Math.min(Ye[0],ft.x),Ye[1]=Math.min(Ye[1],ft.y),Ye[2]=Math.max(Ye[2],ft.x),Ye[3]=Math.max(Ye[3],ft.y)}Ye[0]<gl&&Ye[1]<gl&&Ye[2]>=0&&Ye[3]>=0&&Z.insert(V,Ye[0],Ye[1],Ye[2],Ye[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Ld.VectorTile(new Xl(this.rawTileData)).layers,this.sourceLayerCoder=new h_(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(u,f,v,T){this.loadVTLayers();const P=u.params||{},N=gl/u.tileSize/u.scale,V=Ms(P.filter),Z=u.queryGeometry,ue=u.queryPadding*N,Le=p_(Z),Ye=this.grid.query(Le.minX-ue,Le.minY-ue,Le.maxX+ue,Le.maxY+ue),Qe=p_(u.cameraQueryGeometry),ft=this.grid3D.query(Qe.minX-ue,Qe.minY-ue,Qe.maxX+ue,Qe.maxY+ue,(Vt,Zt,Sn,Jt)=>function(mn,Un,ur,di,Ri){for(const ni of mn)if(Un<=ni.x&&ur<=ni.y&&di>=ni.x&&Ri>=ni.y)return!0;const oi=[new ie(Un,ur),new ie(Un,Ri),new ie(di,Ri),new ie(di,ur)];if(mn.length>2)for(const ni of oi)if(lu(mn,ni))return!0;for(let ni=0;ni<mn.length-1;ni++)if(qc(mn[ni],mn[ni+1],oi))return!0;return!1}(u.cameraQueryGeometry,Vt-ue,Zt-ue,Sn+ue,Jt+ue));for(const Vt of ft)Ye.push(Vt);Ye.sort(em);const vt={};let Rt;for(let Vt=0;Vt<Ye.length;Vt++){const Zt=Ye[Vt];if(Zt===Rt)continue;Rt=Zt;const Sn=this.featureIndexArray.get(Zt);let Jt=null;this.loadMatchingFeature(vt,Sn.bucketIndex,Sn.sourceLayerIndex,Sn.featureIndex,V,P.layers,P.availableImages,f,v,T,(mn,Un,ur)=>(Jt||(Jt=so(mn)),Un.queryIntersectsFeature(Z,mn,ur,Jt,this.z,u.transform,N,u.pixelPosMatrix)))}return vt}loadMatchingFeature(u,f,v,T,P,N,V,Z,ue,Le,Ye){const Qe=this.bucketLayerIDs[f];if(N&&!function(Vt,Zt){for(let Sn=0;Sn<Vt.length;Sn++)if(Zt.indexOf(Vt[Sn])>=0)return!0;return!1}(N,Qe))return;const ft=this.sourceLayerCoder.decode(v),vt=this.vtLayers[ft].feature(T);if(P.needGeometry){const Vt=k(vt,!0);if(!P.filter(new js(this.tileID.overscaledZ),Vt,this.tileID.canonical))return}else if(!P.filter(new js(this.tileID.overscaledZ),vt))return;const Rt=this.getId(vt,ft);for(let Vt=0;Vt<Qe.length;Vt++){const Zt=Qe[Vt];if(N&&N.indexOf(Zt)<0)continue;const Sn=Z[Zt];if(!Sn)continue;let Jt={};Rt&&Le&&(Jt=Le.getState(Sn.sourceLayer||"_geojsonTileLayer",Rt));const mn=ee({},ue[Zt]);mn.paint=Qg(mn.paint,Sn.paint,vt,Jt,V),mn.layout=Qg(mn.layout,Sn.layout,vt,Jt,V);const Un=!Ye||Ye(vt,Sn,Jt);if(!Un)continue;const ur=new f_(vt,this.z,this.x,this.y,Rt);ur.layer=mn;let di=u[Zt];void 0===di&&(di=u[Zt]=[]),di.push({featureIndex:T,feature:ur,intersectionZ:Un})}}lookupSymbolFeatures(u,f,v,T,P,N,V,Z){const ue={};this.loadVTLayers();const Le=Ms(P);for(const Ye of u)this.loadMatchingFeature(ue,v,T,Ye,Le,N,V,Z,f);return ue}hasLayer(u){for(const f of this.bucketLayerIDs)for(const v of f)if(u===v)return!0;return!1}getId(u,f){let v=u.id;return this.promoteId&&(v=u.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[f]],"boolean"==typeof v&&(v=Number(v))),v}}function Qg(d,u,f,v,T){return ne(d,(P,N)=>{const V=u instanceof vl?u.get(N):null;return V&&V.evaluate?V.evaluate(f,v,T):V})}function p_(d){let u=1/0,f=1/0,v=-1/0,T=-1/0;for(const P of d)u=Math.min(u,P.x),f=Math.min(f,P.y),v=Math.max(v,P.x),T=Math.max(T,P.y);return{minX:u,minY:f,maxX:v,maxY:T}}function em(d,u){return u-d}function Qp(d,u,f,v,T){const P=[];for(let N=0;N<d.length;N++){const V=d[N];let Z;for(let ue=0;ue<V.length-1;ue++){let Le=V[ue],Ye=V[ue+1];Le.x<u&&Ye.x<u||(Le.x<u?Le=new ie(u,Le.y+(u-Le.x)/(Ye.x-Le.x)*(Ye.y-Le.y))._round():Ye.x<u&&(Ye=new ie(u,Le.y+(u-Le.x)/(Ye.x-Le.x)*(Ye.y-Le.y))._round()),Le.y<f&&Ye.y<f||(Le.y<f?Le=new ie(Le.x+(f-Le.y)/(Ye.y-Le.y)*(Ye.x-Le.x),f)._round():Ye.y<f&&(Ye=new ie(Le.x+(f-Le.y)/(Ye.y-Le.y)*(Ye.x-Le.x),f)._round()),Le.x>=v&&Ye.x>=v||(Le.x>=v?Le=new ie(v,Le.y+(v-Le.x)/(Ye.x-Le.x)*(Ye.y-Le.y))._round():Ye.x>=v&&(Ye=new ie(v,Le.y+(v-Le.x)/(Ye.x-Le.x)*(Ye.y-Le.y))._round()),Le.y>=T&&Ye.y>=T||(Le.y>=T?Le=new ie(Le.x+(T-Le.y)/(Ye.y-Le.y)*(Ye.x-Le.x),T)._round():Ye.y>=T&&(Ye=new ie(Le.x+(T-Le.y)/(Ye.y-Le.y)*(Ye.x-Le.x),T)._round()),Z&&Le.equals(Z[Z.length-1])||(Z=[Le],P.push(Z)),Z.push(Ye)))))}}return P}hi("FeatureIndex",ef,{omit:["rawTileData","sourceLayerCoder"]});class Nc extends ie{constructor(u,f,v,T){super(u,f),this.angle=v,void 0!==T&&(this.segment=T)}clone(){return new Nc(this.x,this.y,this.angle,this.segment)}}function eg(d,u,f,v,T){if(void 0===u.segment||0===f)return!0;let P=u,N=u.segment+1,V=0;for(;V>-f/2;){if(N--,N<0)return!1;V-=d[N].dist(P),P=d[N]}V+=d[N].dist(d[N+1]),N++;const Z=[];let ue=0;for(;V<f/2;){const Le=d[N],Ye=d[N+1];if(!Ye)return!1;let Qe=d[N-1].angleTo(Le)-Le.angleTo(Ye);for(Qe=Math.abs((Qe+3*Math.PI)%(2*Math.PI)-Math.PI),Z.push({distance:V,angleDelta:Qe}),ue+=Qe;V-Z[0].distance>v;)ue-=Z.shift().angleDelta;if(ue>T)return!1;N++,V+=Le.dist(Ye)}return!0}function Ny(d){let u=0;for(let f=0;f<d.length-1;f++)u+=d[f].dist(d[f+1]);return u}function Ry(d,u,f){return d?.6*u*f:0}function g_(d,u){return Math.max(d?d.right-d.left:0,u?u.right-u.left:0)}function m_(d,u,f,v,T,P){const N=Ry(f,T,P),V=g_(f,v)*P;let Z=0;const ue=Ny(d)/2;for(let Le=0;Le<d.length-1;Le++){const Ye=d[Le],Qe=d[Le+1],ft=Ye.dist(Qe);if(Z+ft>ue){const vt=(ue-Z)/ft,Rt=bs.number(Ye.x,Qe.x,vt),Vt=bs.number(Ye.y,Qe.y,vt),Zt=new Nc(Rt,Vt,Qe.angleTo(Ye),Le);return Zt._round(),!N||eg(d,Zt,V,N,u)?Zt:void 0}Z+=ft}}function x0(d,u,f,v,T,P,N,V,Z){const ue=Ry(v,P,N),Le=g_(v,T),Ye=Le*N,Qe=0===d[0].x||d[0].x===Z||0===d[0].y||d[0].y===Z;return u-Ye<u/4&&(u=Ye+u/4),Fy(d,Qe?u/2*V%u:(Le/2+2*P)*N*V%u,u,ue,f,Ye,Qe,!1,Z)}function Fy(d,u,f,v,T,P,N,V,Z){const ue=P/2,Le=Ny(d);let Ye=0,Qe=u-f,ft=[];for(let vt=0;vt<d.length-1;vt++){const Rt=d[vt],Vt=d[vt+1],Zt=Rt.dist(Vt),Sn=Vt.angleTo(Rt);for(;Qe+f<Ye+Zt;){Qe+=f;const Jt=(Qe-Ye)/Zt,mn=bs.number(Rt.x,Vt.x,Jt),Un=bs.number(Rt.y,Vt.y,Jt);if(mn>=0&&mn<Z&&Un>=0&&Un<Z&&Qe-ue>=0&&Qe+ue<=Le){const ur=new Nc(mn,Un,Sn,vt);ur._round(),v&&!eg(d,ur,P,v,T)||ft.push(ur)}}Ye+=Zt}return V||ft.length||N||(ft=Fy(d,Ye/2,f,v,T,P,N,!0,Z)),ft}hi("Anchor",Nc);const _p=Vu;function __(d,u,f,v){const T=[],P=d.image,N=P.pixelRatio,V=P.paddedRect.w-2*_p,Z=P.paddedRect.h-2*_p,ue=d.right-d.left,Le=d.bottom-d.top,Ye=P.stretchX||[[0,V]],Qe=P.stretchY||[[0,Z]],ft=(Gr,xi)=>Gr+xi[1]-xi[0],vt=Ye.reduce(ft,0),Rt=Qe.reduce(ft,0),Vt=V-vt,Zt=Z-Rt;let Sn=0,Jt=vt,mn=0,Un=Rt,ur=0,di=Vt,Ri=0,oi=Zt;if(P.content&&v){const Gr=P.content;Sn=tm(Ye,0,Gr[0]),mn=tm(Qe,0,Gr[1]),Jt=tm(Ye,Gr[0],Gr[2]),Un=tm(Qe,Gr[1],Gr[3]),ur=Gr[0]-Sn,Ri=Gr[1]-mn,di=Gr[2]-Gr[0]-Jt,oi=Gr[3]-Gr[1]-Un}const ni=(Gr,xi,Vr,Dr)=>{const Vi=ac(Gr.stretch-Sn,Jt,ue,d.left),ji=Ph(Gr.fixed-ur,di,Gr.stretch,vt),$s=ac(xi.stretch-mn,Un,Le,d.top),_o=Ph(xi.fixed-Ri,oi,xi.stretch,Rt),Ia=ac(Vr.stretch-Sn,Jt,ue,d.left),cu=Ph(Vr.fixed-ur,di,Vr.stretch,vt),Rc=ac(Dr.stretch-mn,Un,Le,d.top),uc=Ph(Dr.fixed-Ri,oi,Dr.stretch,Rt),wl=new ie(Vi,$s),du=new ie(Ia,$s),Ll=new ie(Ia,Rc),Al=new ie(Vi,Rc),ds=new ie(ji/N,_o/N),hu=new ie(cu/N,uc/N),La=u*Math.PI/180;if(La){const Ls=Math.sin(La),Wu=Math.cos(La),qu=[Wu,-Ls,Ls,Wu];wl._matMult(qu),du._matMult(qu),Al._matMult(qu),Ll._matMult(qu)}const Su=Gr.stretch+Gr.fixed,Tc=xi.stretch+xi.fixed;return{tl:wl,tr:du,bl:Al,br:Ll,tex:{x:P.paddedRect.x+_p+Su,y:P.paddedRect.y+_p+Tc,w:Vr.stretch+Vr.fixed-Su,h:Dr.stretch+Dr.fixed-Tc},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ds,pixelOffsetBR:hu,minFontScaleX:di/N/ue,minFontScaleY:oi/N/Le,isSDF:f}};if(v&&(P.stretchX||P.stretchY)){const Gr=By(Ye,Vt,vt),xi=By(Qe,Zt,Rt);for(let Vr=0;Vr<Gr.length-1;Vr++){const Dr=Gr[Vr],Vi=Gr[Vr+1];for(let ji=0;ji<xi.length-1;ji++)T.push(ni(Dr,xi[ji],Vi,xi[ji+1]))}}else T.push(ni({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:V+1},{fixed:0,stretch:Z+1}));return T}function tm(d,u,f){let v=0;for(const T of d)v+=Math.max(u,Math.min(f,T[1]))-Math.max(u,Math.min(f,T[0]));return v}function By(d,u,f){const v=[{fixed:-_p,stretch:0}];for(const[T,P]of d){const N=v[v.length-1];v.push({fixed:T-N.stretch,stretch:N.stretch}),v.push({fixed:T-N.stretch,stretch:N.stretch+(P-T)})}return v.push({fixed:u+_p,stretch:f}),v}function ac(d,u,f,v){return d/u*f+v}function Ph(d,u,f,v){return d-u*f/v}class tg{constructor(u,f,v,T,P,N,V,Z,ue,Le){if(this.boxStartIndex=u.length,ue){let Ye=N.top,Qe=N.bottom;const ft=N.collisionPadding;ft&&(Ye-=ft[1],Qe+=ft[3]);let vt=Qe-Ye;vt>0&&(vt=Math.max(10,vt),this.circleDiameter=vt)}else{let Ye=N.top*V-Z[0],Qe=N.bottom*V+Z[2],ft=N.left*V-Z[3],vt=N.right*V+Z[1];const Rt=N.collisionPadding;if(Rt&&(ft-=Rt[0]*V,Ye-=Rt[1]*V,vt+=Rt[2]*V,Qe+=Rt[3]*V),Le){const Vt=new ie(ft,Ye),Zt=new ie(vt,Ye),Sn=new ie(ft,Qe),Jt=new ie(vt,Qe),mn=Le*Math.PI/180;Vt._rotate(mn),Zt._rotate(mn),Sn._rotate(mn),Jt._rotate(mn),ft=Math.min(Vt.x,Zt.x,Sn.x,Jt.x),vt=Math.max(Vt.x,Zt.x,Sn.x,Jt.x),Ye=Math.min(Vt.y,Zt.y,Sn.y,Jt.y),Qe=Math.max(Vt.y,Zt.y,Sn.y,Jt.y)}u.emplaceBack(f.x,f.y,ft,Ye,vt,Qe,v,T,P)}this.boxEndIndex=u.length}}class nm{constructor(u=[],f=lc){if(this.data=u,this.length=this.data.length,this.compare=f,this.length>0)for(let v=(this.length>>1)-1;v>=0;v--)this._down(v)}push(u){this.data.push(u),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const u=this.data[0],f=this.data.pop();return this.length--,this.length>0&&(this.data[0]=f,this._down(0)),u}peek(){return this.data[0]}_up(u){const{data:f,compare:v}=this,T=f[u];for(;u>0;){const P=u-1>>1,N=f[P];if(v(T,N)>=0)break;f[u]=N,u=P}f[u]=T}_down(u){const{data:f,compare:v}=this,T=this.length>>1,P=f[u];for(;u<T;){let N=1+(u<<1),V=f[N];const Z=N+1;if(Z<this.length&&v(f[Z],V)<0&&(N=Z,V=f[Z]),v(V,P)>=0)break;f[u]=V,u=N}f[u]=P}}function lc(d,u){return d<u?-1:d>u?1:0}function kf(d,u=1,f=!1){let v=1/0,T=1/0,P=-1/0,N=-1/0;const V=d[0];for(let ft=0;ft<V.length;ft++){const vt=V[ft];(!ft||vt.x<v)&&(v=vt.x),(!ft||vt.y<T)&&(T=vt.y),(!ft||vt.x>P)&&(P=vt.x),(!ft||vt.y>N)&&(N=vt.y)}const Z=Math.min(P-v,N-T);let ue=Z/2;const Le=new nm([],y_);if(0===Z)return new ie(v,T);for(let ft=v;ft<P;ft+=Z)for(let vt=T;vt<N;vt+=Z)Le.push(new tf(ft+ue,vt+ue,ue,d));let Ye=function(ft){let vt=0,Rt=0,Vt=0;const Zt=ft[0];for(let Sn=0,Jt=Zt.length,mn=Jt-1;Sn<Jt;mn=Sn++){const Un=Zt[Sn],ur=Zt[mn],di=Un.x*ur.y-ur.x*Un.y;Rt+=(Un.x+ur.x)*di,Vt+=(Un.y+ur.y)*di,vt+=3*di}return new tf(Rt/vt,Vt/vt,0,ft)}(d),Qe=Le.length;for(;Le.length;){const ft=Le.pop();(ft.d>Ye.d||!Ye.d)&&(Ye=ft,f&&console.log("found best %d after %d probes",Math.round(1e4*ft.d)/1e4,Qe)),ft.max-Ye.d<=u||(ue=ft.h/2,Le.push(new tf(ft.p.x-ue,ft.p.y-ue,ue,d)),Le.push(new tf(ft.p.x+ue,ft.p.y-ue,ue,d)),Le.push(new tf(ft.p.x-ue,ft.p.y+ue,ue,d)),Le.push(new tf(ft.p.x+ue,ft.p.y+ue,ue,d)),Qe+=4)}return f&&(console.log(`num probes: ${Qe}`),console.log(`best distance: ${Ye.d}`)),Ye.p}function y_(d,u){return u.max-d.max}function tf(d,u,f,v){this.p=new ie(d,u),this.h=f,this.d=function(T,P){let N=!1,V=1/0;for(let Z=0;Z<P.length;Z++){const ue=P[Z];for(let Le=0,Ye=ue.length,Qe=Ye-1;Le<Ye;Qe=Le++){const ft=ue[Le],vt=ue[Qe];ft.y>T.y!=vt.y>T.y&&T.x<(vt.x-ft.x)*(T.y-ft.y)/(vt.y-ft.y)+ft.x&&(N=!N),V=Math.min(V,au(T,ft,vt))}}return(N?1:-1)*Math.sqrt(V)}(this.p,v),this.max=this.d+this.h*Math.SQRT2}var Nu;p.aq=void 0,(Nu=p.aq||(p.aq={}))[Nu.center=1]="center",Nu[Nu.left=2]="left",Nu[Nu.right=3]="right",Nu[Nu.top=4]="top",Nu[Nu.bottom=5]="bottom",Nu[Nu["top-left"]=6]="top-left",Nu[Nu["top-right"]=7]="top-right",Nu[Nu["bottom-left"]=8]="bottom-left",Nu[Nu["bottom-right"]=9]="bottom-right";const oh=7,v_=Number.POSITIVE_INFINITY;function w_(d,u){return u[1]!==v_?function(f,v,T){let P=0,N=0;switch(v=Math.abs(v),T=Math.abs(T),f){case"top-right":case"top-left":case"top":N=T-oh;break;case"bottom-right":case"bottom-left":case"bottom":N=-T+oh}switch(f){case"top-right":case"bottom-right":case"right":P=-v;break;case"top-left":case"bottom-left":case"left":P=v}return[P,N]}(d,u[0],u[1]):function(f,v){let T=0,P=0;v<0&&(v=0);const N=v/Math.SQRT2;switch(f){case"top-right":case"top-left":P=N-oh;break;case"bottom-right":case"bottom-left":P=-N+oh;break;case"bottom":P=-v+oh;break;case"top":P=v-oh}switch(f){case"top-right":case"bottom-right":T=-N;break;case"top-left":case"bottom-left":T=N;break;case"left":T=v;break;case"right":T=-v}return[T,P]}(d,u[0])}function Yy(d,u,f){var v;const T=d.layout,P=null===(v=T.get("text-variable-anchor-offset"))||void 0===v?void 0:v.evaluate(u,{},f);if(P){const V=P.values,Z=[];for(let ue=0;ue<V.length;ue+=2){const Le=Z[ue]=V[ue],Ye=V[ue+1].map(Qe=>Qe*ql);Le.startsWith("top")?Ye[1]-=oh:Le.startsWith("bottom")&&(Ye[1]+=oh),Z[ue+1]=Ye}return new hs(Z)}const N=T.get("text-variable-anchor");if(N){let V;V=void 0!==d._unevaluatedLayout.getValue("text-radial-offset")?[T.get("text-radial-offset").evaluate(u,{},f)*ql,v_]:T.get("text-offset").evaluate(u,{},f).map(ue=>ue*ql);const Z=[];for(const ue of N)Z.push(ue,w_(ue,V));return new hs(Z)}return null}function Of(d){switch(d){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function rm(d,u,f,v,T,P,N,V,Z,ue,Le){let Ye=P.textMaxSize.evaluate(u,{});void 0===Ye&&(Ye=N);const Qe=d.layers[0].layout,ft=Qe.get("icon-offset").evaluate(u,{},Le),vt=im(f.horizontal),Rt=N/24,Vt=d.tilePixelRatio*Rt,Zt=d.tilePixelRatio*Ye/24,Sn=d.tilePixelRatio*V,Jt=d.tilePixelRatio*Qe.get("symbol-spacing"),mn=Qe.get("text-padding")*d.tilePixelRatio,Un=function(Dr,Vi,ji,$s=1){const _o=Dr.get("icon-padding").evaluate(Vi,{},ji),Ia=_o&&_o.values;return[Ia[0]*$s,Ia[1]*$s,Ia[2]*$s,Ia[3]*$s]}(Qe,u,Le,d.tilePixelRatio),ur=Qe.get("text-max-angle")/180*Math.PI,di="viewport"!==Qe.get("text-rotation-alignment")&&"point"!==Qe.get("symbol-placement"),Ri="map"===Qe.get("icon-rotation-alignment")&&"point"!==Qe.get("symbol-placement"),oi=Qe.get("symbol-placement"),ni=Jt/2,Gr=Qe.get("icon-text-fit");let xi;v&&"none"!==Gr&&(d.allowVerticalPlacement&&f.vertical&&(xi=Ey(v,f.vertical,Gr,Qe.get("icon-text-fit-padding"),ft,Rt)),vt&&(v=Ey(v,vt,Gr,Qe.get("icon-text-fit-padding"),ft,Rt)));const Vr=(Dr,Vi)=>{Vi.x<0||Vi.x>=gl||Vi.y<0||Vi.y>=gl||function(ji,$s,_o,Ia,cu,Rc,uc,wl,du,Ll,Al,ds,hu,La,Su,Tc,Ls,Wu,qu,bl,fo,Xu,Ru,fu,Md){const Nd=ji.addToLineVertexArray($s,_o);let Rd,kh,Fu,cc,Fc=0,rf=0,om=0,E_=0,Hy=-1,am=-1;const ah={};let $y=nl("");if(ji.allowVerticalPlacement&&Ia.vertical){const dc=wl.layout.get("text-rotate").evaluate(fo,{},fu)+90;Fu=new tg(du,$s,Ll,Al,ds,Ia.vertical,hu,La,Su,dc),uc&&(cc=new tg(du,$s,Ll,Al,ds,uc,Ls,Wu,Su,dc))}if(cu){const dc=wl.layout.get("icon-rotate").evaluate(fo,{}),Qc="none"!==wl.layout.get("icon-text-fit"),Ff=__(cu,dc,Ru,Qc),Fd=uc?__(uc,dc,Ru,Qc):void 0;kh=new tg(du,$s,Ll,Al,ds,cu,Ls,Wu,!1,dc),Fc=4*Ff.length;const Bf=ji.iconSizeData;let Bc=null;"source"===Bf.kind?(Bc=[sh*wl.layout.get("icon-size").evaluate(fo,{})],Bc[0]>Pd&&rt(`${ji.layerIds[0]}: Value for "icon-size" is >= ${Ah}. Reduce your "icon-size".`)):"composite"===Bf.kind&&(Bc=[sh*Xu.compositeIconSizes[0].evaluate(fo,{},fu),sh*Xu.compositeIconSizes[1].evaluate(fo,{},fu)],(Bc[0]>Pd||Bc[1]>Pd)&&rt(`${ji.layerIds[0]}: Value for "icon-size" is >= ${Ah}. Reduce your "icon-size".`)),ji.addSymbols(ji.icon,Ff,Bc,bl,qu,fo,p.ai.none,$s,Nd.lineStartIndex,Nd.lineLength,-1,fu),Hy=ji.icon.placedSymbolArray.length-1,Fd&&(rf=4*Fd.length,ji.addSymbols(ji.icon,Fd,Bc,bl,qu,fo,p.ai.vertical,$s,Nd.lineStartIndex,Nd.lineLength,-1,fu),am=ji.icon.placedSymbolArray.length-1)}const Uy=Object.keys(Ia.horizontal);for(const dc of Uy){const Qc=Ia.horizontal[dc];if(!Rd){$y=nl(Qc.text);const Fd=wl.layout.get("text-rotate").evaluate(fo,{},fu);Rd=new tg(du,$s,Ll,Al,ds,Qc,hu,La,Su,Fd)}const Ff=1===Qc.positionedLines.length;if(om+=zy(ji,$s,Qc,Rc,wl,Su,fo,Tc,Nd,Ia.vertical?p.ai.horizontal:p.ai.horizontalOnly,Ff?Uy:[dc],ah,Hy,Xu,fu),Ff)break}Ia.vertical&&(E_+=zy(ji,$s,Ia.vertical,Rc,wl,Su,fo,Tc,Nd,p.ai.vertical,["vertical"],ah,am,Xu,fu));const Zu=Rd?Rd.boxStartIndex:ji.collisionBoxArray.length,Jc=Rd?Rd.boxEndIndex:ji.collisionBoxArray.length,T_=Fu?Fu.boxStartIndex:ji.collisionBoxArray.length,Oh=Fu?Fu.boxEndIndex:ji.collisionBoxArray.length,ig=kh?kh.boxStartIndex:ji.collisionBoxArray.length,C_=kh?kh.boxEndIndex:ji.collisionBoxArray.length,Vy=cc?cc.boxStartIndex:ji.collisionBoxArray.length,Gy=cc?cc.boxEndIndex:ji.collisionBoxArray.length;let lh=-1;const lm=(dc,Qc)=>dc&&dc.circleDiameter?Math.max(dc.circleDiameter,Qc):Qc;lh=lm(Rd,lh),lh=lm(Fu,lh),lh=lm(kh,lh),lh=lm(cc,lh);const M0=lh>-1?1:0;M0&&(lh*=Md/ql),ji.glyphOffsetArray.length>=mp.MAX_GLYPHS&&rt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==fo.sortKey&&ji.addToSortKeyRanges(ji.symbolInstances.length,fo.sortKey);const D_=Yy(wl,fo,fu),[I_,S0]=function(dc,Qc){const Ff=dc.length,Fd=Qc?.values;if(Fd?.length>0)for(let Bf=0;Bf<Fd.length;Bf+=2){const Bc=Fd[Bf+1];dc.emplaceBack(p.aq[Fd[Bf]],Bc[0],Bc[1])}return[Ff,dc.length]}(ji.textAnchorOffsets,D_);ji.symbolInstances.emplaceBack($s.x,$s.y,ah.right>=0?ah.right:-1,ah.center>=0?ah.center:-1,ah.left>=0?ah.left:-1,ah.vertical||-1,Hy,am,$y,Zu,Jc,T_,Oh,ig,C_,Vy,Gy,Ll,om,E_,Fc,rf,M0,0,hu,lh,I_,S0)}(d,Vi,Dr,f,v,T,xi,d.layers[0],d.collisionBoxArray,u.index,u.sourceLayerIndex,d.index,Vt,[mn,mn,mn,mn],di,Z,Sn,Un,Ri,ft,u,P,ue,Le,N)};if("line"===oi)for(const Dr of Qp(u.geometry,0,0,gl,gl)){const Vi=x0(Dr,Jt,ur,f.vertical||vt,v,24,Zt,d.overscaling,gl);for(const ji of Vi)vt&&ng(d,vt.text,ni,ji)||Vr(Dr,ji)}else if("line-center"===oi){for(const Dr of u.geometry)if(Dr.length>1){const Vi=m_(Dr,ur,f.vertical||vt,v,24,Zt);Vi&&Vr(Dr,Vi)}}else if("Polygon"===u.type)for(const Dr of ep(u.geometry,0)){const Vi=kf(Dr,16);Vr(Dr[0],new Nc(Vi.x,Vi.y,0))}else if("LineString"===u.type)for(const Dr of u.geometry)Vr(Dr,new Nc(Dr[0].x,Dr[0].y,0));else if("Point"===u.type)for(const Dr of u.geometry)for(const Vi of Dr)Vr([Vi],new Nc(Vi.x,Vi.y,0))}function zy(d,u,f,v,T,P,N,V,Z,ue,Le,Ye,Qe,ft,vt){const Rt=function(Sn,Jt,mn,Un,ur,di,Ri,oi){const ni=Un.layout.get("text-rotate").evaluate(di,{})*Math.PI/180,Gr=[];for(const xi of Jt.positionedLines)for(const Vr of xi.positionedGlyphs){if(!Vr.rect)continue;const Dr=Vr.rect||{};let Vi=Kh+1,ji=!0,$s=1,_o=0;const Ia=(ur||oi)&&Vr.vertical,cu=Vr.metrics.advance*Vr.scale/2;if(oi&&Jt.verticalizable&&(_o=xi.lineOffset/2-(Vr.imageName?-(ql-Vr.metrics.width*Vr.scale)/2:(Vr.scale-1)*ql)),Vr.imageName){const bl=Ri[Vr.imageName];ji=bl.sdf,$s=bl.pixelRatio,Vi=Vu/$s}const Rc=ur?[Vr.x+cu,Vr.y]:[0,0];let uc=ur?[0,0]:[Vr.x+cu+mn[0],Vr.y+mn[1]-_o],wl=[0,0];Ia&&(wl=uc,uc=[0,0]);const du=Vr.metrics.isDoubleResolution?2:1,Ll=(Vr.metrics.left-Vi)*Vr.scale-cu+uc[0],Al=(-Vr.metrics.top-Vi)*Vr.scale+uc[1],ds=Ll+Dr.w/du*Vr.scale/$s,hu=Al+Dr.h/du*Vr.scale/$s,La=new ie(Ll,Al),Su=new ie(ds,Al),Tc=new ie(Ll,hu),Ls=new ie(ds,hu);if(Ia){const bl=new ie(-cu,cu-Zp),fo=-Math.PI/2,Xu=ql/2-cu,Ru=new ie(5-Zp-Xu,-(Vr.imageName?Xu:0)),fu=new ie(...wl);La._rotateAround(fo,bl)._add(Ru)._add(fu),Su._rotateAround(fo,bl)._add(Ru)._add(fu),Tc._rotateAround(fo,bl)._add(Ru)._add(fu),Ls._rotateAround(fo,bl)._add(Ru)._add(fu)}if(ni){const bl=Math.sin(ni),fo=Math.cos(ni),Xu=[fo,-bl,bl,fo];La._matMult(Xu),Su._matMult(Xu),Tc._matMult(Xu),Ls._matMult(Xu)}const Wu=new ie(0,0),qu=new ie(0,0);Gr.push({tl:La,tr:Su,bl:Tc,br:Ls,tex:Dr,writingMode:Jt.writingMode,glyphOffset:Rc,sectionIndex:Vr.sectionIndex,isSDF:ji,pixelOffsetTL:Wu,pixelOffsetBR:qu,minFontScaleX:0,minFontScaleY:0})}return Gr}(0,f,V,T,P,N,v,d.allowVerticalPlacement),Vt=d.textSizeData;let Zt=null;"source"===Vt.kind?(Zt=[sh*T.layout.get("text-size").evaluate(N,{})],Zt[0]>Pd&&rt(`${d.layerIds[0]}: Value for "text-size" is >= ${Ah}. Reduce your "text-size".`)):"composite"===Vt.kind&&(Zt=[sh*ft.compositeTextSizes[0].evaluate(N,{},vt),sh*ft.compositeTextSizes[1].evaluate(N,{},vt)],(Zt[0]>Pd||Zt[1]>Pd)&&rt(`${d.layerIds[0]}: Value for "text-size" is >= ${Ah}. Reduce your "text-size".`)),d.addSymbols(d.text,Rt,Zt,V,P,N,ue,u,Z.lineStartIndex,Z.lineLength,Qe,vt);for(const Sn of Le)Ye[Sn]=d.text.placedSymbolArray.length-1;return 4*Rt.length}function im(d){for(const u in d)return d[u];return null}function ng(d,u,f,v){const T=d.compareText;if(u in T){const P=T[u];for(let N=P.length-1;N>=0;N--)if(v.dist(P[N])<f)return!0}else T[u]=[];return T[u].push(v),!1}const b_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Nf{static from(u){if(!(u instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[f,v]=new Uint8Array(u,0,2);if(219!==f)throw new Error("Data does not appear to be in a KDBush format.");const T=v>>4;if(1!==T)throw new Error(`Got v${T} data when expected v1.`);const P=b_[15&v];if(!P)throw new Error("Unrecognized array type.");const[N]=new Uint16Array(u,2,1),[V]=new Uint32Array(u,4,1);return new Nf(V,N,P,u)}constructor(u,f=64,v=Float64Array,T){if(isNaN(u)||u<0)throw new Error(`Unpexpected numItems value: ${u}.`);this.numItems=+u,this.nodeSize=Math.min(Math.max(+f,2),65535),this.ArrayType=v,this.IndexArrayType=u<65536?Uint16Array:Uint32Array;const P=b_.indexOf(this.ArrayType),N=2*u*this.ArrayType.BYTES_PER_ELEMENT,V=u*this.IndexArrayType.BYTES_PER_ELEMENT,Z=(8-V%8)%8;if(P<0)throw new Error(`Unexpected typed array class: ${v}.`);T&&T instanceof ArrayBuffer?(this.data=T,this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+V+Z,2*u),this._pos=2*u,this._finished=!0):(this.data=new ArrayBuffer(8+N+V+Z),this.ids=new this.IndexArrayType(this.data,8,u),this.coords=new this.ArrayType(this.data,8+V+Z,2*u),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+P]),new Uint16Array(this.data,2,1)[0]=f,new Uint32Array(this.data,4,1)[0]=u)}add(u,f){const v=this._pos>>1;return this.ids[v]=v,this.coords[this._pos++]=u,this.coords[this._pos++]=f,v}finish(){const u=this._pos>>1;if(u!==this.numItems)throw new Error(`Added ${u} items when expected ${this.numItems}.`);return x_(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(u,f,v,T){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:P,coords:N,nodeSize:V}=this,Z=[0,P.length-1,0],ue=[];for(;Z.length;){const Le=Z.pop()||0,Ye=Z.pop()||0,Qe=Z.pop()||0;if(Ye-Qe<=V){for(let Vt=Qe;Vt<=Ye;Vt++){const Zt=N[2*Vt],Sn=N[2*Vt+1];Zt>=u&&Zt<=v&&Sn>=f&&Sn<=T&&ue.push(P[Vt])}continue}const ft=Qe+Ye>>1,vt=N[2*ft],Rt=N[2*ft+1];vt>=u&&vt<=v&&Rt>=f&&Rt<=T&&ue.push(P[ft]),(0===Le?u<=vt:f<=Rt)&&(Z.push(Qe),Z.push(ft-1),Z.push(1-Le)),(0===Le?v>=vt:T>=Rt)&&(Z.push(ft+1),Z.push(Ye),Z.push(1-Le))}return ue}within(u,f,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:T,coords:P,nodeSize:N}=this,V=[0,T.length-1,0],Z=[],ue=v*v;for(;V.length;){const Le=V.pop()||0,Ye=V.pop()||0,Qe=V.pop()||0;if(Ye-Qe<=N){for(let Vt=Qe;Vt<=Ye;Vt++)M_(P[2*Vt],P[2*Vt+1],u,f)<=ue&&Z.push(T[Vt]);continue}const ft=Qe+Ye>>1,vt=P[2*ft],Rt=P[2*ft+1];M_(vt,Rt,u,f)<=ue&&Z.push(T[ft]),(0===Le?u-v<=vt:f-v<=Rt)&&(V.push(Qe),V.push(ft-1),V.push(1-Le)),(0===Le?u+v>=vt:f+v>=Rt)&&(V.push(ft+1),V.push(Ye),V.push(1-Le))}return Z}}function x_(d,u,f,v,T,P){if(T-v<=f)return;const N=v+T>>1;jy(d,u,N,v,T,P),x_(d,u,f,v,N-1,1-P),x_(d,u,f,N+1,T,1-P)}function jy(d,u,f,v,T,P){for(;T>v;){if(T-v>600){const ue=T-v+1,Le=f-v+1,Ye=Math.log(ue),Qe=.5*Math.exp(2*Ye/3),ft=.5*Math.sqrt(Ye*Qe*(ue-Qe)/ue)*(Le-ue/2<0?-1:1);jy(d,u,f,Math.max(v,Math.floor(f-Le*Qe/ue+ft)),Math.min(T,Math.floor(f+(ue-Le)*Qe/ue+ft)),P)}const N=u[2*f+P];let V=v,Z=T;for(yp(d,u,v,f),u[2*T+P]>N&&yp(d,u,v,T);V<Z;){for(yp(d,u,V,Z),V++,Z--;u[2*V+P]<N;)V++;for(;u[2*Z+P]>N;)Z--}u[2*v+P]===N?yp(d,u,v,Z):(Z++,yp(d,u,Z,T)),Z<=f&&(v=Z+1),f<=Z&&(T=Z-1)}}function yp(d,u,f,v){sm(d,f,v),sm(u,2*f,2*v),sm(u,2*f+1,2*v+1)}function sm(d,u,f){const v=d[u];d[u]=d[f],d[f]=v}function M_(d,u,f,v){const T=d-f,P=u-v;return T*T+P*P}var nf;p.bh=void 0,(nf=p.bh||(p.bh={})).create="create",nf.load="load",nf.fullLoad="fullLoad";let Rf=null,vp=[];const rg=1e3/60,wp="loadTime",S_="fullLoadTime",Od={mark(d){performance.mark(d)},frame(d){const u=d;null!=Rf&&vp.push(u-Rf),Rf=u},clearMetrics(){Rf=null,vp=[],performance.clearMeasures(wp),performance.clearMeasures(S_);for(const d in p.bh)performance.clearMarks(p.bh[d])},getPerformanceMetrics(){performance.measure(wp,p.bh.create,p.bh.load),performance.measure(S_,p.bh.create,p.bh.fullLoad);const d=performance.getEntriesByName(wp)[0].duration,u=performance.getEntriesByName(S_)[0].duration,f=vp.length,v=1/(vp.reduce((P,N)=>P+N,0)/f/1e3),T=vp.filter(P=>P>rg).reduce((P,N)=>P+(N-rg)/rg,0);return{loadTime:d,fullLoadTime:u,fps:v,percentDroppedFrames:T/(f+T)*100,totalFrames:f}}};p.$=function(d,u,f){var v,T,P,N,V,Z,ue,Le,Ye,Qe,ft,vt,Rt=f[0],Vt=f[1],Zt=f[2];return u===d?(d[12]=u[0]*Rt+u[4]*Vt+u[8]*Zt+u[12],d[13]=u[1]*Rt+u[5]*Vt+u[9]*Zt+u[13],d[14]=u[2]*Rt+u[6]*Vt+u[10]*Zt+u[14],d[15]=u[3]*Rt+u[7]*Vt+u[11]*Zt+u[15]):(T=u[1],P=u[2],N=u[3],V=u[4],Z=u[5],ue=u[6],Le=u[7],Ye=u[8],Qe=u[9],ft=u[10],vt=u[11],d[0]=v=u[0],d[1]=T,d[2]=P,d[3]=N,d[4]=V,d[5]=Z,d[6]=ue,d[7]=Le,d[8]=Ye,d[9]=Qe,d[10]=ft,d[11]=vt,d[12]=v*Rt+V*Vt+Ye*Zt+u[12],d[13]=T*Rt+Z*Vt+Qe*Zt+u[13],d[14]=P*Rt+ue*Vt+ft*Zt+u[14],d[15]=N*Rt+Le*Vt+vt*Zt+u[15]),d},p.A=Sh,p.B=bs,p.C=class{constructor(d,u,f){this.receive=v=>{const T=v.data,P=T.id;if(P&&(!T.targetMapId||this.mapId===T.targetMapId))if("<cancel>"===T.type){delete this.tasks[P];const N=this.cancelCallbacks[P];delete this.cancelCallbacks[P],N&&N()}else tt()||T.mustQueue?(this.tasks[P]=T,this.taskQueue.push(P),this.invoker.trigger()):this.processTask(P,T)},this.process=()=>{if(!this.taskQueue.length)return;const v=this.taskQueue.shift(),T=this.tasks[v];delete this.tasks[v],this.taskQueue.length&&this.invoker.trigger(),T&&this.processTask(v,T)},this.target=d,this.parent=u,this.mapId=f,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new u_(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=tt()?d:window}send(d,u,f,v,T=!1){const P=Math.round(1e18*Math.random()).toString(36).substring(0,10);f&&(this.callbacks[P]=f);const N=[],V={id:P,type:d,hasCallback:!!f,targetMapId:v,mustQueue:T,sourceMapId:this.mapId,data:fa(u,N)};return this.target.postMessage(V,{transfer:N}),{cancel:()=>{f&&delete this.callbacks[P],this.target.postMessage({id:P,type:"<cancel>",targetMapId:v,sourceMapId:this.mapId})}}}processTask(d,u){if("<response>"===u.type){const f=this.callbacks[d];delete this.callbacks[d],f&&(u.error?f(yl(u.error)):f(null,yl(u.data)))}else{let f=!1;const v=[],T=u.hasCallback?(V,Z)=>{f=!0,delete this.cancelCallbacks[d];const ue={id:d,type:"<response>",sourceMapId:this.mapId,error:V?fa(V):null,data:fa(Z,v)};this.target.postMessage(ue,{transfer:v})}:V=>{f=!0};let P=null;const N=yl(u.data);if(this.parent[u.type])P=this.parent[u.type](u.sourceMapId,N,T);else if("getWorkerSource"in this.parent){const V=u.type.split(".");P=this.parent.getWorkerSource(u.sourceMapId,V[0],N.source)[V[1]](N,T)}else T(new Error(`Could not find function ${u.type}`));!f&&P&&P.cancel&&(this.cancelCallbacks[d]=P.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},p.D=yi,p.E=$r,p.F=function(d,u){const f={};for(let v=0;v<u.length;v++){const T=u[v];T in d&&(f[T]=d[T])}return f},p.G=y0,p.H=v0,p.I=Lf,p.J=pe,p.K=ve,p.L=kd,p.M=Xe,p.N=gl,p.O=Ec,p.P=ie,p.Q=ks,p.R=xu,p.S=ao,p.T=Jd,p.U=c_,p.V=class extends l{},p.W=ky,p.X=function(d,u){const f=window.document.createElement("video");f.muted=!0,f.onloadstart=function(){u(null,f)};for(let v=0;v<d.length;v++){const T=window.document.createElement("source");dr(d[v])||(f.crossOrigin="Anonymous"),T.src=d[v],f.appendChild(T)}return{cancel:()=>{}}},p.Y=Dn,p.Z=function(){var d=new Sh(16);return Sh!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0),d[0]=1,d[5]=1,d[10]=1,d[15]=1,d},p._=O,p.a=_t,p.a$=class extends ot{},p.a0=function(d,u,f){var v=f[0],T=f[1],P=f[2];return d[0]=u[0]*v,d[1]=u[1]*v,d[2]=u[2]*v,d[3]=u[3]*v,d[4]=u[4]*T,d[5]=u[5]*T,d[6]=u[6]*T,d[7]=u[7]*T,d[8]=u[8]*P,d[9]=u[9]*P,d[10]=u[10]*P,d[11]=u[11]*P,d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15],d},p.a1=dy,p.a2=function(){return ae++},p.a3=jt,p.a4=mp,p.a5=function(){Va.isLoading()||Va.isLoaded()||"deferred"!==wu()||ys()},p.a6=Ms,p.a7=k,p.a8=js,p.a9=f_,p.aA=Ua,p.aB=function(d){d=d.slice();const u=Object.create(null);for(let f=0;f<d.length;f++)u[d[f].id]=d[f];for(let f=0;f<d.length;f++)"ref"in d[f]&&(d[f]=qt(d[f],u[d[f].ref]));return d},p.aC=function(d){if("custom"===d.type)return new Pw(d);switch(d.type){case"background":return new Zg(d);case"circle":return new s0(d);case"fill":return new o0(d);case"fill-extrusion":return new Sw(d);case"heatmap":return new Yo(d);case"hillshade":return new ku(d);case"line":return new wy(d);case"raster":return new Iy(d);case"symbol":return new Xg(d)}},p.aD=st,p.aE=function(d,u){if(!d)return[{command:Fn.setStyle,args:[u]}];let f=[];try{if(!rn(d.version,u.version))return[{command:Fn.setStyle,args:[u]}];rn(d.center,u.center)||f.push({command:Fn.setCenter,args:[u.center]}),rn(d.zoom,u.zoom)||f.push({command:Fn.setZoom,args:[u.zoom]}),rn(d.bearing,u.bearing)||f.push({command:Fn.setBearing,args:[u.bearing]}),rn(d.pitch,u.pitch)||f.push({command:Fn.setPitch,args:[u.pitch]}),rn(d.sprite,u.sprite)||f.push({command:Fn.setSprite,args:[u.sprite]}),rn(d.glyphs,u.glyphs)||f.push({command:Fn.setGlyphs,args:[u.glyphs]}),rn(d.transition,u.transition)||f.push({command:Fn.setTransition,args:[u.transition]}),rn(d.light,u.light)||f.push({command:Fn.setLight,args:[u.light]});const v={},T=[];!function(N,V,Z,ue){let Le;for(Le in V=V||{},N=N||{})Object.prototype.hasOwnProperty.call(N,Le)&&(Object.prototype.hasOwnProperty.call(V,Le)||Li(Le,Z,ue));for(Le in V)Object.prototype.hasOwnProperty.call(V,Le)&&(Object.prototype.hasOwnProperty.call(N,Le)?rn(N[Le],V[Le])||("geojson"===N[Le].type&&"geojson"===V[Le].type&&Zn(N,V,Le)?Z.push({command:Fn.setGeoJSONSourceData,args:[Le,V[Le].data]}):ai(Le,V,Z,ue)):zr(Le,V,Z))}(d.sources,u.sources,T,v);const P=[];d.layers&&d.layers.forEach(N=>{v[N.source]?f.push({command:Fn.removeLayer,args:[N.id]}):P.push(N)}),f=f.concat(T),function(N,V,Z){V=V||[];const ue=(N=N||[]).map(Qi),Le=V.map(Qi),Ye=N.reduce(Nr,{}),Qe=V.reduce(Nr,{}),ft=ue.slice(),vt=Object.create(null);let Rt,Vt,Zt,Sn,Jt,mn,Un;for(Rt=0,Vt=0;Rt<ue.length;Rt++)Zt=ue[Rt],Object.prototype.hasOwnProperty.call(Qe,Zt)?Vt++:(Z.push({command:Fn.removeLayer,args:[Zt]}),ft.splice(ft.indexOf(Zt,Vt),1));for(Rt=0,Vt=0;Rt<Le.length;Rt++)Zt=Le[Le.length-1-Rt],ft[ft.length-1-Rt]!==Zt&&(Object.prototype.hasOwnProperty.call(Ye,Zt)?(Z.push({command:Fn.removeLayer,args:[Zt]}),ft.splice(ft.lastIndexOf(Zt,ft.length-Vt),1)):Vt++,mn=ft[ft.length-Rt],Z.push({command:Fn.addLayer,args:[Qe[Zt],mn]}),ft.splice(ft.length-Rt,0,Zt),vt[Zt]=!0);for(Rt=0;Rt<Le.length;Rt++)if(Zt=Le[Rt],Sn=Ye[Zt],Jt=Qe[Zt],!vt[Zt]&&!rn(Sn,Jt))if(rn(Sn.source,Jt.source)&&rn(Sn["source-layer"],Jt["source-layer"])&&rn(Sn.type,Jt.type)){for(Un in is(Sn.layout,Jt.layout,Z,Zt,null,Fn.setLayoutProperty),is(Sn.paint,Jt.paint,Z,Zt,null,Fn.setPaintProperty),rn(Sn.filter,Jt.filter)||Z.push({command:Fn.setFilter,args:[Zt,Jt.filter]}),rn(Sn.minzoom,Jt.minzoom)&&rn(Sn.maxzoom,Jt.maxzoom)||Z.push({command:Fn.setLayerZoomRange,args:[Zt,Jt.minzoom,Jt.maxzoom]}),Sn)Object.prototype.hasOwnProperty.call(Sn,Un)&&"layout"!==Un&&"paint"!==Un&&"filter"!==Un&&"metadata"!==Un&&"minzoom"!==Un&&"maxzoom"!==Un&&(0===Un.indexOf("paint.")?is(Sn[Un],Jt[Un],Z,Zt,Un.slice(6),Fn.setPaintProperty):rn(Sn[Un],Jt[Un])||Z.push({command:Fn.setLayerProperty,args:[Zt,Un,Jt[Un]]}));for(Un in Jt)Object.prototype.hasOwnProperty.call(Jt,Un)&&!Object.prototype.hasOwnProperty.call(Sn,Un)&&"layout"!==Un&&"paint"!==Un&&"filter"!==Un&&"metadata"!==Un&&"minzoom"!==Un&&"maxzoom"!==Un&&(0===Un.indexOf("paint.")?is(Sn[Un],Jt[Un],Z,Zt,Un.slice(6),Fn.setPaintProperty):rn(Sn[Un],Jt[Un])||Z.push({command:Fn.setLayerProperty,args:[Zt,Un,Jt[Un]]}))}else Z.push({command:Fn.removeLayer,args:[Zt]}),mn=ft[ft.lastIndexOf(Zt)+1],Z.push({command:Fn.addLayer,args:[Jt,mn]})}(P,u.layers,f)}catch(v){console.warn("Unable to compute style diff:",v),f=[{command:Fn.setStyle,args:[u]}]}return f},p.aF=function(d){const u=[],f=d.id;return void 0===f&&u.push({message:`layers.${f}: missing required property "id"`}),void 0===d.render&&u.push({message:`layers.${f}: missing required method "render"`}),d.renderingMode&&"2d"!==d.renderingMode&&"3d"!==d.renderingMode&&u.push({message:`layers.${f}: property "renderingMode" must be either "2d" or "3d"`}),u},p.aG=function d(u,f){if(Array.isArray(u)){if(!Array.isArray(f)||u.length!==f.length)return!1;for(let v=0;v<u.length;v++)if(!d(u[v],f[v]))return!1;return!0}if("object"==typeof u&&null!==u&&null!==f){if("object"!=typeof f||Object.keys(u).length!==Object.keys(f).length)return!1;for(const v in u)if(!d(u[v],f[v]))return!1;return!0}return u===f},p.aH=ne,p.aI=se,p.aJ=Na,p.aK=function(d){return d({pluginStatus:_i,pluginURL:ms}),Na.on("pluginStateChange",d),d},p.aL=class extends od{constructor(d,u){super(d,u),this.current=0}set(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}},p.aM=Gc,p.aN=class extends od{constructor(d,u){super(d,u),this.current=yf}set(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(let u=1;u<16;u++)if(d[u]!==this.current[u]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}},p.aO=qh,p.aP=class extends od{constructor(d,u){super(d,u),this.current=[0,0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))}},p.aQ=class extends od{constructor(d,u){super(d,u),this.current=[0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))}},p.aR=ou,p.aS=function(d,u,f,v,T,P,N){var V=1/(u-f),Z=1/(v-T),ue=1/(P-N);return d[0]=-2*V,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=-2*Z,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=2*ue,d[11]=0,d[12]=(u+f)*V,d[13]=(T+v)*Z,d[14]=(N+P)*ue,d[15]=1,d},p.aT=Wi,p.aU=Jf,p.aV=class extends M{},p.aW=dp,p.aX=class extends A{},p.aY=function(d){return d<=1?1:Math.pow(2,Math.ceil(Math.log(d)/Math.LN2))},p.aZ=Cr,p.a_=Fr,p.aa=function(d){const u={};if(d.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(f,v,T,P)=>{const N=T||P;return u[v]=!N||N.toLowerCase(),""}),u["max-age"]){const f=parseInt(u["max-age"],10);isNaN(f)?delete u["max-age"]:u["max-age"]=f}return u},p.ab=function(d,u){const f=[];for(const v in d)v in u||f.push(v);return f},p.ac=function(d){if(null==He){const u=d.navigator?d.navigator.userAgent:null;He=!!d.safari||!(!u||!(/\b(iPad|iPhone|iPod)\b/.test(u)||u.match("Safari")&&!u.match("Chrome")))}return He},p.ad=te,p.ae=function(d,u,f){var v=Math.sin(f),T=Math.cos(f),P=u[0],N=u[1],V=u[2],Z=u[3],ue=u[4],Le=u[5],Ye=u[6],Qe=u[7];return u!==d&&(d[8]=u[8],d[9]=u[9],d[10]=u[10],d[11]=u[11],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[0]=P*T+ue*v,d[1]=N*T+Le*v,d[2]=V*T+Ye*v,d[3]=Z*T+Qe*v,d[4]=ue*T-P*v,d[5]=Le*T-N*v,d[6]=Ye*T-V*v,d[7]=Qe*T-Z*v,d},p.af=function(d){var u=new Sh(16);return u[0]=d[0],u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=d[6],u[7]=d[7],u[8]=d[8],u[9]=d[9],u[10]=d[10],u[11]=d[11],u[12]=d[12],u[13]=d[13],u[14]=d[14],u[15]=d[15],u},p.ag=Pg,p.ah=function(d,u){let f=0,v=0;if("constant"===d.kind)v=d.layoutSize;else if("source"!==d.kind){const{interpolationType:T,minZoom:P,maxZoom:N}=d,V=T?te(Be.interpolationFactor(T,u,P,N),0,1):0;"camera"===d.kind?v=bs.number(d.minSize,d.maxSize,V):f=V}return{uSizeT:f,uSize:v}},p.aj=function(d,{uSize:u,uSizeT:f},{lowerSize:v,upperSize:T}){return"source"===d.kind?v/sh:"composite"===d.kind?bs.number(v/sh,T/sh,f):u},p.ak=o_,p.al=function(d,u,f,v){const T=u.y-d.y,P=u.x-d.x,N=v.y-f.y,V=v.x-f.x,Z=N*P-V*T;if(0===Z)return null;const ue=(V*(d.y-f.y)-N*(d.x-f.x))/Z;return new ie(d.x+ue*P,d.y+ue*T)},p.am=Qp,p.an=Fe,p.ao=ho,p.ap=ql,p.ar=Wg,p.as=function(d,u){var f=u[0],v=u[1],T=u[2],P=u[3],N=u[4],V=u[5],Z=u[6],ue=u[7],Le=u[8],Ye=u[9],Qe=u[10],ft=u[11],vt=u[12],Rt=u[13],Vt=u[14],Zt=u[15],Sn=f*V-v*N,Jt=f*Z-T*N,mn=f*ue-P*N,Un=v*Z-T*V,ur=v*ue-P*V,di=T*ue-P*Z,Ri=Le*Rt-Ye*vt,oi=Le*Vt-Qe*vt,ni=Le*Zt-ft*vt,Gr=Ye*Vt-Qe*Rt,xi=Ye*Zt-ft*Rt,Vr=Qe*Zt-ft*Vt,Dr=Sn*Vr-Jt*xi+mn*Gr+Un*ni-ur*oi+di*Ri;return Dr?(d[0]=(V*Vr-Z*xi+ue*Gr)*(Dr=1/Dr),d[1]=(T*xi-v*Vr-P*Gr)*Dr,d[2]=(Rt*di-Vt*ur+Zt*Un)*Dr,d[3]=(Qe*ur-Ye*di-ft*Un)*Dr,d[4]=(Z*ni-N*Vr-ue*oi)*Dr,d[5]=(f*Vr-T*ni+P*oi)*Dr,d[6]=(Vt*mn-vt*di-Zt*Jt)*Dr,d[7]=(Le*di-Qe*mn+ft*Jt)*Dr,d[8]=(N*xi-V*ni+ue*Ri)*Dr,d[9]=(v*ni-f*xi-P*Ri)*Dr,d[10]=(vt*ur-Rt*mn+Zt*Sn)*Dr,d[11]=(Ye*mn-Le*ur-ft*Sn)*Dr,d[12]=(V*oi-N*Gr-Z*Ri)*Dr,d[13]=(f*Gr-v*oi+T*Ri)*Dr,d[14]=(Rt*Jt-vt*Un-Vt*Sn)*Dr,d[15]=(Le*Un-Ye*Jt+Qe*Sn)*Dr,d):null},p.at=Of,p.au=r_,p.av=Nf,p.aw=function(){const d={},u=en.$version;for(const f in en.$root){const v=en.$root[f];if(v.required){let T=null;T="version"===f?u:"array"===v.type?[]:{},null!=T&&(d[f]=T)}}return d},p.ax=Fn,p.ay=Ti,p.az=fn,p.b=function(d,u){const f=new Blob([new Uint8Array(d)],{type:"image/png"});createImageBitmap(f).then(v=>{u(null,v)}).catch(v=>{u(new Error(`Could not load image because of ${v.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},p.b0=Tl,p.b1=function(d,u){var f=d[0],v=d[1],T=d[2],P=d[3],N=d[4],V=d[5],Z=d[6],ue=d[7],Le=d[8],Ye=d[9],Qe=d[10],ft=d[11],vt=d[12],Rt=d[13],Vt=d[14],Zt=d[15],Sn=u[0],Jt=u[1],mn=u[2],Un=u[3],ur=u[4],di=u[5],Ri=u[6],oi=u[7],ni=u[8],Gr=u[9],xi=u[10],Vr=u[11],Dr=u[12],Vi=u[13],ji=u[14],$s=u[15];return Math.abs(f-Sn)<=rc*Math.max(1,Math.abs(f),Math.abs(Sn))&&Math.abs(v-Jt)<=rc*Math.max(1,Math.abs(v),Math.abs(Jt))&&Math.abs(T-mn)<=rc*Math.max(1,Math.abs(T),Math.abs(mn))&&Math.abs(P-Un)<=rc*Math.max(1,Math.abs(P),Math.abs(Un))&&Math.abs(N-ur)<=rc*Math.max(1,Math.abs(N),Math.abs(ur))&&Math.abs(V-di)<=rc*Math.max(1,Math.abs(V),Math.abs(di))&&Math.abs(Z-Ri)<=rc*Math.max(1,Math.abs(Z),Math.abs(Ri))&&Math.abs(ue-oi)<=rc*Math.max(1,Math.abs(ue),Math.abs(oi))&&Math.abs(Le-ni)<=rc*Math.max(1,Math.abs(Le),Math.abs(ni))&&Math.abs(Ye-Gr)<=rc*Math.max(1,Math.abs(Ye),Math.abs(Gr))&&Math.abs(Qe-xi)<=rc*Math.max(1,Math.abs(Qe),Math.abs(xi))&&Math.abs(ft-Vr)<=rc*Math.max(1,Math.abs(ft),Math.abs(Vr))&&Math.abs(vt-Dr)<=rc*Math.max(1,Math.abs(vt),Math.abs(Dr))&&Math.abs(Rt-Vi)<=rc*Math.max(1,Math.abs(Rt),Math.abs(Vi))&&Math.abs(Vt-ji)<=rc*Math.max(1,Math.abs(Vt),Math.abs(ji))&&Math.abs(Zt-$s)<=rc*Math.max(1,Math.abs(Zt),Math.abs($s))},p.b2=function(d,u){return d[0]=u[0],d[1]=u[1],d[2]=u[2],d[3]=u[3],d[4]=u[4],d[5]=u[5],d[6]=u[6],d[7]=u[7],d[8]=u[8],d[9]=u[9],d[10]=u[10],d[11]=u[11],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15],d},p.b3=function(d,u,f){return d[0]=u[0]*f[0],d[1]=u[1]*f[1],d[2]=u[2]*f[2],d[3]=u[3]*f[3],d},p.b4=function(d,u){return d[0]*u[0]+d[1]*u[1]+d[2]*u[2]+d[3]*u[3]},p.b5=be,p.b6=Oy,p.b7=Jg,p.b8=function(d,u,f,v,T){var P,N=1/Math.tan(u/2);return d[0]=N/f,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=N,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=-1,d[12]=0,d[13]=0,d[15]=0,null!=T&&T!==1/0?(d[10]=(T+v)*(P=1/(v-T)),d[14]=2*T*v*P):(d[10]=-1,d[14]=-2*v),d},p.b9=function(d,u,f){var v=Math.sin(f),T=Math.cos(f),P=u[4],N=u[5],V=u[6],Z=u[7],ue=u[8],Le=u[9],Ye=u[10],Qe=u[11];return u!==d&&(d[0]=u[0],d[1]=u[1],d[2]=u[2],d[3]=u[3],d[12]=u[12],d[13]=u[13],d[14]=u[14],d[15]=u[15]),d[4]=P*T+ue*v,d[5]=N*T+Le*v,d[6]=V*T+Ye*v,d[7]=Z*T+Qe*v,d[8]=ue*T-P*v,d[9]=Le*T-N*v,d[10]=Ye*T-V*v,d[11]=Qe*T-Z*v,d},p.bA=H,p.bB=Da,p.bC=Nl,p.bD=Va,p.ba=de,p.bb=J,p.bc=function(d,u){return d[0]=u[0],d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=u[1],d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=u[2],d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d},p.bd=class extends yt{},p.be=Ly,p.bf=w0,p.bg=Od,p.bi=bn,p.bj=function(d,u,f=!1){if(_i===ru||_i===ec||_i===wo)throw new Error("setRTLTextPlugin cannot be called multiple times.");ms=Yt.resolveURL(d),_i=ru,si=u,Ca(),f||ys()},p.bk=wu,p.bl=function(d,u){const f={};for(let T=0;T<d.length;T++){const P=u&&u[d[T].id]||eu(d[T]);u&&(u[d[T].id]=P);let N=f[P];N||(N=f[P]=[]),N.push(d[T])}const v=[];for(const T in f)v.push(f[T]);return v},p.bm=hi,p.bn=h_,p.bo=ef,p.bp=xy,p.bq=function(d){d.bucket.createArrays(),d.bucket.tilePixelRatio=gl/(512*d.bucket.overscaling),d.bucket.compareText={},d.bucket.iconsNeedLinear=!1;const u=d.bucket.layers[0],f=u.layout,v=u._unevaluatedLayout._values,T={layoutIconSize:v["icon-size"].possiblyEvaluate(new js(d.bucket.zoom+1),d.canonical),layoutTextSize:v["text-size"].possiblyEvaluate(new js(d.bucket.zoom+1),d.canonical),textMaxSize:v["text-size"].possiblyEvaluate(new js(18))};if("composite"===d.bucket.textSizeData.kind){const{minZoom:ue,maxZoom:Le}=d.bucket.textSizeData;T.compositeTextSizes=[v["text-size"].possiblyEvaluate(new js(ue),d.canonical),v["text-size"].possiblyEvaluate(new js(Le),d.canonical)]}if("composite"===d.bucket.iconSizeData.kind){const{minZoom:ue,maxZoom:Le}=d.bucket.iconSizeData;T.compositeIconSizes=[v["icon-size"].possiblyEvaluate(new js(ue),d.canonical),v["icon-size"].possiblyEvaluate(new js(Le),d.canonical)]}const P=f.get("text-line-height")*ql,N="viewport"!==f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),V=f.get("text-keep-upright"),Z=f.get("text-size");for(const ue of d.bucket.features){const Le=f.get("text-font").evaluate(ue,{},d.canonical).join(","),Ye=Z.evaluate(ue,{},d.canonical),Qe=T.layoutTextSize.evaluate(ue,{},d.canonical),ft=T.layoutIconSize.evaluate(ue,{},d.canonical),vt={horizontal:{},vertical:void 0},Rt=ue.text;let Vt,Zt=[0,0];if(Rt){const mn=Rt.toString(),Un=f.get("text-letter-spacing").evaluate(ue,{},d.canonical)*ql,ur=pa(mn)?Un:0,di=f.get("text-anchor").evaluate(ue,{},d.canonical),Ri=Yy(u,ue,d.canonical);if(!Ri){const Vr=f.get("text-radial-offset").evaluate(ue,{},d.canonical);Zt=Vr?w_(di,[Vr*ql,v_]):f.get("text-offset").evaluate(ue,{},d.canonical).map(Dr=>Dr*ql)}let oi=N?"center":f.get("text-justify").evaluate(ue,{},d.canonical);const ni=f.get("symbol-placement"),Gr="point"===ni?f.get("text-max-width").evaluate(ue,{},d.canonical)*ql:0,xi=()=>{d.bucket.allowVerticalPlacement&&es(mn)&&(vt.vertical=gp(Rt,d.glyphMap,d.glyphPositions,d.imagePositions,Le,Gr,P,di,"left",ur,Zt,p.ai.vertical,!0,ni,Qe,Ye))};if(!N&&Ri){const Vr=new Set;if("auto"===oi)for(let Vi=0;Vi<Ri.values.length;Vi+=2)Vr.add(Of(Ri.values[Vi]));else Vr.add(oi);let Dr=!1;for(const Vi of Vr)if(!vt.horizontal[Vi])if(Dr)vt.horizontal[Vi]=vt.horizontal[0];else{const ji=gp(Rt,d.glyphMap,d.glyphPositions,d.imagePositions,Le,Gr,P,"center",Vi,ur,Zt,p.ai.horizontal,!1,ni,Qe,Ye);ji&&(vt.horizontal[Vi]=ji,Dr=1===ji.positionedLines.length)}xi()}else{"auto"===oi&&(oi=Of(di));const Vr=gp(Rt,d.glyphMap,d.glyphPositions,d.imagePositions,Le,Gr,P,di,oi,ur,Zt,p.ai.horizontal,!1,ni,Qe,Ye);Vr&&(vt.horizontal[oi]=Vr),xi(),es(mn)&&N&&V&&(vt.vertical=gp(Rt,d.glyphMap,d.glyphPositions,d.imagePositions,Le,Gr,P,di,oi,ur,Zt,p.ai.vertical,!1,ni,Qe,Ye))}}let Sn=!1;if(ue.icon&&ue.icon.name){const mn=d.imageMap[ue.icon.name];mn&&(Vt=Gg(d.imagePositions[ue.icon.name],f.get("icon-offset").evaluate(ue,{},d.canonical),f.get("icon-anchor").evaluate(ue,{},d.canonical)),Sn=!!mn.sdf,void 0===d.bucket.sdfIcons?d.bucket.sdfIcons=Sn:d.bucket.sdfIcons!==Sn&&rt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(mn.pixelRatio!==d.bucket.pixelRatio||0!==f.get("icon-rotate").constantOr(1))&&(d.bucket.iconsNeedLinear=!0))}const Jt=im(vt.horizontal)||vt.vertical;d.bucket.iconsInText=!!Jt&&Jt.iconsInText,(Jt||Vt)&&rm(d.bucket,ue,vt,Vt,d.imageMap,T,Qe,ft,Zt,Sn,d.canonical)}d.showCollisionBoxes&&d.bucket.generateCollisionDebugBuffers()},p.br=Gp,p.bs=$p,p.bt=Ef,p.bu=class{constructor(d){this._marks={start:[d.url,"start"].join("#"),end:[d.url,"end"].join("#"),measure:d.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let d=performance.getEntriesByName(this._marks.measure);return 0===d.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),d=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),d}},p.bv=Xl,p.bw=Ld,p.bx=function(d,u,f,v,T){return O(this,void 0,void 0,function*(){if(ve())try{return yield Xe(d,u,f,v,T)}catch{}return function(P,N,V,Z,ue){const Le=P.width,Ye=P.height;De&&le||(De=new OffscreenCanvas(Le,Ye),le=De.getContext("2d",{willReadFrequently:!0})),De.width=Le,De.height=Ye,le.drawImage(P,0,0,Le,Ye);const Qe=le.getImageData(N,V,Z,ue);return le.clearRect(0,0,Le,Ye),Qe.data}(d,u,f,v,T)})},p.by=d_,p.bz=R,p.c=Ct,p.d=function(d,u){const f=new Image;f.onload=()=>{u(null,f),URL.revokeObjectURL(f.src),f.onload=null,window.requestAnimationFrame(()=>{f.src=et})},f.onerror=()=>u(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const v=new Blob([new Uint8Array(d)],{type:"image/png"});f.src=d.byteLength?URL.createObjectURL(v):et},p.e=ee,p.f=function(d,u){return Xn(ee(d,{type:"json"}),u)},p.g=kn,p.h=Yt,p.i=tt,p.j=xr,p.k=ir,p.l=Rn,p.m=Xn,p.n=function(d){return new Xl(d).readFields(Xp,[])},p.o=function(d,u,f){if(!d.length)return f(null,[]);let v=d.length;const T=new Array(d.length);let P=null;d.forEach((N,V)=>{u(N,(Z,ue)=>{Z&&(P=Z),T[V]=ue,0==--v&&f(P,T)})})},p.p=e_,p.q=ic,p.r=ci,p.s=dr,p.t=bh,p.u=Kn,p.v=en,p.w=rt,p.x=Qn,p.y=wa,p.z=function([d,u,f]){return u+=90,u*=Math.PI/180,f*=Math.PI/180,{x:d*Math.cos(u)*Math.sin(f),y:d*Math.sin(u)*Math.sin(f),z:d*Math.cos(f)}}}),E(0,function(p){class O{constructor(ce){this.keyCache={},ce&&this.replace(ce)}replace(ce){this._layerConfigs={},this._layers={},this.update(ce,[])}update(ce,Se){for(const Je of ce){this._layerConfigs[Je.id]=Je;const gt=this._layers[Je.id]=p.aC(Je);gt._featureFilter=p.a6(gt.filter),this.keyCache[Je.id]&&delete this.keyCache[Je.id]}for(const Je of Se)delete this.keyCache[Je],delete this._layerConfigs[Je],delete this._layers[Je];this.familiesBySource={};const Me=p.bl(Object.values(this._layerConfigs),this.keyCache);for(const Je of Me){const gt=Je.map(En=>this._layers[En.id]),Ft=gt[0];if("none"===Ft.visibility)continue;const Tt=Ft.source||"";let xt=this.familiesBySource[Tt];xt||(xt=this.familiesBySource[Tt]={});const Bt=Ft.sourceLayer||"_geojsonTileLayer";let hn=xt[Bt];hn||(hn=xt[Bt]=[]),hn.push(gt)}}}class R{constructor(ce){const Se={},Me=[];for(const Tt in ce){const xt=ce[Tt],Bt=Se[Tt]={};for(const hn in xt){const En=xt[+hn];if(!En||0===En.bitmap.width||0===En.bitmap.height)continue;const In={x:0,y:0,w:En.bitmap.width+2,h:En.bitmap.height+2};Me.push(In),Bt[hn]={rect:In,metrics:En.metrics}}}const{w:Je,h:gt}=p.p(Me),Ft=new p.q({width:Je||1,height:gt||1});for(const Tt in ce){const xt=ce[Tt];for(const Bt in xt){const hn=xt[+Bt];if(!hn||0===hn.bitmap.width||0===hn.bitmap.height)continue;const En=Se[Tt][Bt].rect;p.q.copy(hn.bitmap,Ft,{x:0,y:0},{x:En.x+1,y:En.y+1},hn.bitmap)}}this.image=Ft,this.positions=Se}}p.bm("GlyphAtlas",R);class H{constructor(ce){this.tileID=new p.O(ce.tileID.overscaledZ,ce.tileID.wrap,ce.tileID.canonical.z,ce.tileID.canonical.x,ce.tileID.canonical.y),this.uid=ce.uid,this.zoom=ce.zoom,this.pixelRatio=ce.pixelRatio,this.tileSize=ce.tileSize,this.source=ce.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ce.showCollisionBoxes,this.collectResourceTiming=!!ce.collectResourceTiming,this.returnDependencies=!!ce.returnDependencies,this.promoteId=ce.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(ce,Se,Me,Je,gt){this.status="parsing",this.data=ce,this.collisionBoxArray=new p.a3;const Ft=new p.bn(Object.keys(ce.layers).sort()),Tt=new p.bo(this.tileID,this.promoteId);Tt.bucketLayerIDs=[];const xt={},Bt={featureIndex:Tt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Me},hn=Se.familiesBySource[this.source];for(const wi in hn){const li=ce.layers[wi];if(!li)continue;1===li.version&&p.w(`Vector tile source "${this.source}" layer "${wi}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Js=Ft.encode(wi),mi=[];for(let Cs=0;Cs<li.length;Cs++){const Yi=li.feature(Cs),Zi=Tt.getId(Yi,wi);mi.push({feature:Yi,id:Zi,index:Cs,sourceLayerIndex:Js})}for(const Cs of hn[wi]){const Yi=Cs[0];Yi.source!==this.source&&p.w(`layer.source = ${Yi.source} does not equal this.source = ${this.source}`),Yi.minzoom&&this.zoom<Math.floor(Yi.minzoom)||Yi.maxzoom&&this.zoom>=Yi.maxzoom||"none"!==Yi.visibility&&(G(Cs,this.zoom,Me),(xt[Yi.id]=Yi.createBucket({index:Tt.bucketLayerIDs.length,layers:Cs,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Js,sourceID:this.source})).populate(mi,Bt,this.tileID.canonical),Tt.bucketLayerIDs.push(Cs.map(Zi=>Zi.id)))}}let En,In,sr,fr;const Gn=p.aH(Bt.glyphDependencies,wi=>Object.keys(wi).map(Number));this.inFlightDependencies.forEach(wi=>wi?.cancel()),this.inFlightDependencies=[];const lr=++this.dependencySentinel;Object.keys(Gn).length?this.inFlightDependencies.push(Je.send("getGlyphs",{uid:this.uid,stacks:Gn,source:this.source,tileID:this.tileID,type:"glyphs"},(wi,li)=>{lr===this.dependencySentinel&&(En||(En=wi,In=li,Ir.call(this)))})):In={};const hr=Object.keys(Bt.iconDependencies);hr.length?this.inFlightDependencies.push(Je.send("getImages",{icons:hr,source:this.source,tileID:this.tileID,type:"icons"},(wi,li)=>{lr===this.dependencySentinel&&(En||(En=wi,sr=li,Ir.call(this)))})):sr={};const Wr=Object.keys(Bt.patternDependencies);function Ir(){if(En)return gt(En);if(In&&sr&&fr){const wi=new R(In),li=new p.bp(sr,fr);for(const Js in xt){const mi=xt[Js];mi instanceof p.a4?(G(mi.layers,this.zoom,Me),p.bq({bucket:mi,glyphMap:In,glyphPositions:wi.positions,imageMap:sr,imagePositions:li.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):mi.hasPattern&&(mi instanceof p.br||mi instanceof p.bs||mi instanceof p.bt)&&(G(mi.layers,this.zoom,Me),mi.addFeatures(Bt,this.tileID.canonical,li.patternPositions))}this.status="done",gt(null,{buckets:Object.values(xt).filter(Js=>!Js.isEmpty()),featureIndex:Tt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:wi.image,imageAtlas:li,glyphMap:this.returnDependencies?In:null,iconMap:this.returnDependencies?sr:null,glyphPositions:this.returnDependencies?wi.positions:null})}}Wr.length?this.inFlightDependencies.push(Je.send("getImages",{icons:Wr,source:this.source,tileID:this.tileID,type:"patterns"},(wi,li)=>{lr===this.dependencySentinel&&(En||(En=wi,fr=li,Ir.call(this)))})):fr={},Ir.call(this)}}function G(me,ce,Se){const Me=new p.a8(ce);for(const Je of me)Je.recalculate(Me,Se)}function ie(me,ce){const Se=p.l(me.request,(Me,Je,gt,Ft)=>{if(Me)ce(Me);else if(Je)try{const Tt=new p.bw.VectorTile(new p.bv(Je));ce(null,{vectorTile:Tt,rawData:Je,cacheControl:gt,expires:Ft})}catch(Tt){const xt=new Uint8Array(Je);let Bt=`Unable to parse the tile at ${me.request.url}, `;Bt+=31===xt[0]&&139===xt[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Tt.messge}`,ce(new Error(Bt))}});return()=>{Se.cancel(),ce()}}class Ee{constructor(ce,Se,Me,Je){this.actor=ce,this.layerIndex=Se,this.availableImages=Me,this.loadVectorData=Je||ie,this.fetching={},this.loading={},this.loaded={}}loadTile(ce,Se){const Me=ce.uid;this.loading||(this.loading={});const Je=!!(ce&&ce.request&&ce.request.collectResourceTiming)&&new p.bu(ce.request),gt=this.loading[Me]=new H(ce);gt.abort=this.loadVectorData(ce,(Ft,Tt)=>{if(delete this.loading[Me],Ft||!Tt)return gt.status="done",this.loaded[Me]=gt,Se(Ft);const xt=Tt.rawData,Bt={};Tt.expires&&(Bt.expires=Tt.expires),Tt.cacheControl&&(Bt.cacheControl=Tt.cacheControl);const hn={};if(Je){const En=Je.finish();En&&(hn.resourceTiming=JSON.parse(JSON.stringify(En)))}gt.vectorTile=Tt.vectorTile,gt.parse(Tt.vectorTile,this.layerIndex,this.availableImages,this.actor,(En,In)=>{if(delete this.fetching[Me],En||!In)return Se(En);Se(null,p.e({rawTileData:xt.slice(0)},In,Bt,hn))}),this.loaded=this.loaded||{},this.loaded[Me]=gt,this.fetching[Me]={rawTileData:xt,cacheControl:Bt,resourceTiming:hn}})}reloadTile(ce,Se){const Me=this.loaded,Je=ce.uid;if(Me&&Me[Je]){const gt=Me[Je];gt.showCollisionBoxes=ce.showCollisionBoxes,"parsing"===gt.status?gt.parse(gt.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ft,Tt)=>{if(Ft||!Tt)return Se(Ft,Tt);let xt;if(this.fetching[Je]){const{rawTileData:Bt,cacheControl:hn,resourceTiming:En}=this.fetching[Je];delete this.fetching[Je],xt=p.e({rawTileData:Bt.slice(0)},Tt,hn,En)}else xt=Tt;Se(null,xt)}):"done"===gt.status&&(gt.vectorTile?gt.parse(gt.vectorTile,this.layerIndex,this.availableImages,this.actor,Se):Se())}}abortTile(ce,Se){const Me=this.loading,Je=ce.uid;Me&&Me[Je]&&Me[Je].abort&&(Me[Je].abort(),delete Me[Je]),Se()}removeTile(ce,Se){const Me=this.loaded,Je=ce.uid;Me&&Me[Je]&&delete Me[Je],Se()}}class he{constructor(){this.loaded={}}loadTile(ce,Se){return p._(this,void 0,void 0,function*(){const{uid:Me,encoding:Je,rawImageData:gt,redFactor:Ft,greenFactor:Tt,blueFactor:xt,baseShift:Bt}=ce,hn=gt.width+2,En=gt.height+2,In=p.a(gt)?new p.R({width:hn,height:En},yield p.bx(gt,-1,-1,hn,En)):gt,sr=new p.by(Me,In,Je,Ft,Tt,xt,Bt);this.loaded=this.loaded||{},this.loaded[Me]=sr,Se(null,sr)})}removeTile(ce){const Se=this.loaded,Me=ce.uid;Se&&Se[Me]&&delete Se[Me]}}function Pe(me,ce){if(0!==me.length){Ie(me[0],ce);for(var Se=1;Se<me.length;Se++)Ie(me[Se],!ce)}}function Ie(me,ce){for(var Se=0,Me=0,Je=0,gt=me.length,Ft=gt-1;Je<gt;Ft=Je++){var Tt=(me[Je][0]-me[Ft][0])*(me[Ft][1]+me[Je][1]),xt=Se+Tt;Me+=Math.abs(Se)>=Math.abs(Tt)?Se-xt+Tt:Tt-xt+Se,Se=xt}Se+Me>=0!=!!ce&&me.reverse()}var it=p.bz(function me(ce,Se){var Me,Je=ce&&ce.type;if("FeatureCollection"===Je)for(Me=0;Me<ce.features.length;Me++)me(ce.features[Me],Se);else if("GeometryCollection"===Je)for(Me=0;Me<ce.geometries.length;Me++)me(ce.geometries[Me],Se);else if("Feature"===Je)me(ce.geometry,Se);else if("Polygon"===Je)Pe(ce.coordinates,Se);else if("MultiPolygon"===Je)for(Me=0;Me<ce.coordinates.length;Me++)Pe(ce.coordinates[Me],Se);return ce});const pe=p.bw.VectorTileFeature.prototype.toGeoJSON;var ve={exports:{}},de=p.bA,J=p.bw.VectorTileFeature,te=be;function be(me,ce){this.options=ce||{},this.features=me,this.length=me.length}function ee(me,ce){this.id="number"==typeof me.id?me.id:void 0,this.type=me.type,this.rawGeometry=1===me.type?[me.geometry]:me.geometry,this.properties=me.tags,this.extent=ce||4096}be.prototype.feature=function(me){return new ee(this.features[me],this.options.extent)},ee.prototype.loadGeometry=function(){var me=this.rawGeometry;this.geometry=[];for(var ce=0;ce<me.length;ce++){for(var Se=me[ce],Me=[],Je=0;Je<Se.length;Je++)Me.push(new de(Se[Je][0],Se[Je][1]));this.geometry.push(Me)}return this.geometry},ee.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var me=this.geometry,ce=1/0,Se=-1/0,Me=1/0,Je=-1/0,gt=0;gt<me.length;gt++)for(var Ft=me[gt],Tt=0;Tt<Ft.length;Tt++){var xt=Ft[Tt];ce=Math.min(ce,xt.x),Se=Math.max(Se,xt.x),Me=Math.min(Me,xt.y),Je=Math.max(Je,xt.y)}return[ce,Me,Se,Je]},ee.prototype.toGeoJSON=J.prototype.toGeoJSON;var ae=p.bB,ne=te;function se(me){var ce=new ae;return function(Se,Me){for(var Je in Se.layers)Me.writeMessage(3,st,Se.layers[Je])}(me,ce),ce.finish()}function st(me,ce){var Se;ce.writeVarintField(15,me.version||1),ce.writeStringField(1,me.name||""),ce.writeVarintField(5,me.extent||4096);var Me={keys:[],values:[],keycache:{},valuecache:{}};for(Se=0;Se<me.length;Se++)Me.feature=me.feature(Se),ce.writeMessage(2,$e,Me);var Je=Me.keys;for(Se=0;Se<Je.length;Se++)ce.writeStringField(3,Je[Se]);var gt=Me.values;for(Se=0;Se<gt.length;Se++)ce.writeMessage(4,He,gt[Se])}function $e(me,ce){var Se=me.feature;void 0!==Se.id&&ce.writeVarintField(1,Se.id),ce.writeMessage(2,rt,me),ce.writeVarintField(3,Se.type),ce.writeMessage(4,tt,Se)}function rt(me,ce){var Se=me.feature,Me=me.keys,Je=me.values,gt=me.keycache,Ft=me.valuecache;for(var Tt in Se.properties){var xt=Se.properties[Tt],Bt=gt[Tt];if(null!==xt){void 0===Bt&&(Me.push(Tt),gt[Tt]=Bt=Me.length-1),ce.writeVarint(Bt);var hn=typeof xt;"string"!==hn&&"boolean"!==hn&&"number"!==hn&&(xt=JSON.stringify(xt));var En=hn+":"+xt,In=Ft[En];void 0===In&&(Je.push(xt),Ft[En]=In=Je.length-1),ce.writeVarint(In)}}}function Te(me,ce){return(ce<<3)+(7&me)}function ht(me){return me<<1^me>>31}function tt(me,ce){for(var Se=me.loadGeometry(),Me=me.type,Je=0,gt=0,Ft=Se.length,Tt=0;Tt<Ft;Tt++){var xt=Se[Tt],Bt=1;1===Me&&(Bt=xt.length),ce.writeVarint(Te(1,Bt));for(var hn=3===Me?xt.length-1:xt.length,En=0;En<hn;En++){1===En&&1!==Me&&ce.writeVarint(Te(2,hn-1));var In=xt[En].x-Je,sr=xt[En].y-gt;ce.writeVarint(ht(In)),ce.writeVarint(ht(sr)),Je+=In,gt+=sr}3===Me&&ce.writeVarint(Te(7,1))}}function He(me,ce){var Se=typeof me;"string"===Se?ce.writeStringField(1,me):"boolean"===Se?ce.writeBooleanField(7,me):"number"===Se&&(me%1!=0?ce.writeDoubleField(3,me):me<0?ce.writeSVarintField(6,me):ce.writeVarintField(5,me))}ve.exports=se,ve.exports.fromVectorTileJs=se,ve.exports.fromGeojsonVt=function(me,ce){ce=ce||{};var Se={};for(var Me in me)Se[Me]=new ne(me[Me].features,ce),Se[Me].name=Me,Se[Me].version=ce.version,Se[Me].extent=ce.extent;return se({layers:Se})},ve.exports.GeoJSONWrapper=ne;var _t=p.bz(ve.exports);const et={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:me=>me},Xe=Math.fround||(De=new Float32Array(1),me=>(De[0]=+me,De[0]));var De;const le=3,ze=5,Ve=6;class Yt{constructor(ce){this.options=Object.assign(Object.create(et),ce),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ce){const{log:Se,minZoom:Me,maxZoom:Je}=this.options;Se&&console.time("total time");const gt=`prepare ${ce.length} points`;Se&&console.time(gt),this.points=ce;const Ft=[];for(let xt=0;xt<ce.length;xt++){const Bt=ce[xt];if(!Bt.geometry)continue;const[hn,En]=Bt.geometry.coordinates,In=Xe(fn(hn)),sr=Xe(kn(En));Ft.push(In,sr,1/0,xt,-1,1),this.options.reduce&&Ft.push(0)}let Tt=this.trees[Je+1]=this._createTree(Ft);Se&&console.timeEnd(gt);for(let xt=Je;xt>=Me;xt--){const Bt=+Date.now();Tt=this.trees[xt]=this._createTree(this._cluster(Tt,xt)),Se&&console.log("z%d: %d clusters in %dms",xt,Tt.numItems,+Date.now()-Bt)}return Se&&console.timeEnd("total time"),this}getClusters(ce,Se){let Me=((ce[0]+180)%360+360)%360-180;const Je=Math.max(-90,Math.min(90,ce[1]));let gt=180===ce[2]?180:((ce[2]+180)%360+360)%360-180;const Ft=Math.max(-90,Math.min(90,ce[3]));if(ce[2]-ce[0]>=360)Me=-180,gt=180;else if(Me>gt){const En=this.getClusters([Me,Je,180,Ft],Se),In=this.getClusters([-180,Je,gt,Ft],Se);return En.concat(In)}const Tt=this.trees[this._limitZoom(Se)],xt=Tt.range(fn(Me),kn(Ft),fn(gt),kn(Je)),Bt=Tt.data,hn=[];for(const En of xt){const In=this.stride*En;hn.push(Bt[In+ze]>1?Ct(Bt,In,this.clusterProps):this.points[Bt[In+le]])}return hn}getChildren(ce){const Se=this._getOriginId(ce),Me=this._getOriginZoom(ce),Je="No cluster with the specified id.",gt=this.trees[Me];if(!gt)throw new Error(Je);const Ft=gt.data;if(Se*this.stride>=Ft.length)throw new Error(Je);const Tt=this.options.radius/(this.options.extent*Math.pow(2,Me-1)),xt=gt.within(Ft[Se*this.stride],Ft[Se*this.stride+1],Tt),Bt=[];for(const hn of xt){const En=hn*this.stride;Ft[En+4]===ce&&Bt.push(Ft[En+ze]>1?Ct(Ft,En,this.clusterProps):this.points[Ft[En+le]])}if(0===Bt.length)throw new Error(Je);return Bt}getLeaves(ce,Se,Me){const Je=[];return this._appendLeaves(Je,ce,Se=Se||10,Me=Me||0,0),Je}getTile(ce,Se,Me){const Je=this.trees[this._limitZoom(ce)],gt=Math.pow(2,ce),{extent:Ft,radius:Tt}=this.options,xt=Tt/Ft,Bt=(Me-xt)/gt,hn=(Me+1+xt)/gt,En={features:[]};return this._addTileFeatures(Je.range((Se-xt)/gt,Bt,(Se+1+xt)/gt,hn),Je.data,Se,Me,gt,En),0===Se&&this._addTileFeatures(Je.range(1-xt/gt,Bt,1,hn),Je.data,gt,Me,gt,En),Se===gt-1&&this._addTileFeatures(Je.range(0,Bt,xt/gt,hn),Je.data,-1,Me,gt,En),En.features.length?En:null}getClusterExpansionZoom(ce){let Se=this._getOriginZoom(ce)-1;for(;Se<=this.options.maxZoom;){const Me=this.getChildren(ce);if(Se++,1!==Me.length)break;ce=Me[0].properties.cluster_id}return Se}_appendLeaves(ce,Se,Me,Je,gt){const Ft=this.getChildren(Se);for(const Tt of Ft){const xt=Tt.properties;if(xt&&xt.cluster?gt+xt.point_count<=Je?gt+=xt.point_count:gt=this._appendLeaves(ce,xt.cluster_id,Me,Je,gt):gt<Je?gt++:ce.push(Tt),ce.length===Me)break}return gt}_createTree(ce){const Se=new p.av(ce.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Me=0;Me<ce.length;Me+=this.stride)Se.add(ce[Me],ce[Me+1]);return Se.finish(),Se.data=ce,Se}_addTileFeatures(ce,Se,Me,Je,gt,Ft){for(const Tt of ce){const xt=Tt*this.stride,Bt=Se[xt+ze]>1;let hn,En,In;if(Bt)hn=bn(Se,xt,this.clusterProps),En=Se[xt],In=Se[xt+1];else{const Gn=this.points[Se[xt+le]];hn=Gn.properties;const[lr,hr]=Gn.geometry.coordinates;En=fn(lr),In=kn(hr)}const sr={type:1,geometry:[[Math.round(this.options.extent*(En*gt-Me)),Math.round(this.options.extent*(In*gt-Je))]],tags:hn};let fr;fr=Bt||this.options.generateId?Se[xt+le]:this.points[Se[xt+le]].id,void 0!==fr&&(sr.id=fr),Ft.features.push(sr)}}_limitZoom(ce){return Math.max(this.options.minZoom,Math.min(Math.floor(+ce),this.options.maxZoom+1))}_cluster(ce,Se){const{radius:Me,extent:Je,reduce:gt,minPoints:Ft}=this.options,Tt=Me/(Je*Math.pow(2,Se)),xt=ce.data,Bt=[],hn=this.stride;for(let En=0;En<xt.length;En+=hn){if(xt[En+2]<=Se)continue;xt[En+2]=Se;const In=xt[En],sr=xt[En+1],fr=ce.within(xt[En],xt[En+1],Tt),Gn=xt[En+ze];let lr=Gn;for(const hr of fr){const Wr=hr*hn;xt[Wr+2]>Se&&(lr+=xt[Wr+ze])}if(lr>Gn&&lr>=Ft){let hr,Wr=In*Gn,Ir=sr*Gn,wi=-1;const li=((En/hn|0)<<5)+(Se+1)+this.points.length;for(const Js of fr){const mi=Js*hn;if(xt[mi+2]<=Se)continue;xt[mi+2]=Se;const Cs=xt[mi+ze];Wr+=xt[mi]*Cs,Ir+=xt[mi+1]*Cs,xt[mi+4]=li,gt&&(hr||(hr=this._map(xt,En,!0),wi=this.clusterProps.length,this.clusterProps.push(hr)),gt(hr,this._map(xt,mi)))}xt[En+4]=li,Bt.push(Wr/lr,Ir/lr,1/0,li,-1,lr),gt&&Bt.push(wi)}else{for(let hr=0;hr<hn;hr++)Bt.push(xt[En+hr]);if(lr>1)for(const hr of fr){const Wr=hr*hn;if(!(xt[Wr+2]<=Se)){xt[Wr+2]=Se;for(let Ir=0;Ir<hn;Ir++)Bt.push(xt[Wr+Ir])}}}}return Bt}_getOriginId(ce){return ce-this.points.length>>5}_getOriginZoom(ce){return(ce-this.points.length)%32}_map(ce,Se,Me){if(ce[Se+ze]>1){const Ft=this.clusterProps[ce[Se+Ve]];return Me?Object.assign({},Ft):Ft}const Je=this.points[ce[Se+le]].properties,gt=this.options.map(Je);return Me&&gt===Je?Object.assign({},gt):gt}}function Ct(me,ce,Se){return{type:"Feature",id:me[ce+le],properties:bn(me,ce,Se),geometry:{type:"Point",coordinates:[(Me=me[ce],360*(Me-.5)),un(me[ce+1])]}};var Me}function bn(me,ce,Se){const Me=me[ce+ze],Je=Me>=1e4?`${Math.round(Me/1e3)}k`:Me>=1e3?Math.round(Me/100)/10+"k":Me,gt=me[ce+Ve],Ft=-1===gt?{}:Object.assign({},Se[gt]);return Object.assign(Ft,{cluster:!0,cluster_id:me[ce+le],point_count:Me,point_count_abbreviated:Je})}function fn(me){return me/360+.5}function kn(me){const ce=Math.sin(me*Math.PI/180),Se=.5-.25*Math.log((1+ce)/(1-ce))/Math.PI;return Se<0?0:Se>1?1:Se}function un(me){const ce=(180-360*me)*Math.PI/180;return 360*Math.atan(Math.exp(ce))/Math.PI-90}function Xn(me,ce,Se,Me){for(var Je,gt=Me,Ft=Se-ce>>1,Tt=Se-ce,xt=me[ce],Bt=me[ce+1],hn=me[Se],En=me[Se+1],In=ce+3;In<Se;In+=3){var sr=Rn(me[In],me[In+1],xt,Bt,hn,En);if(sr>gt)Je=In,gt=sr;else if(sr===gt){var fr=Math.abs(In-Ft);fr<Tt&&(Je=In,Tt=fr)}}gt>Me&&(Je-ce>3&&Xn(me,ce,Je,Me),me[Je+2]=gt,Se-Je>3&&Xn(me,Je,Se,Me))}function Rn(me,ce,Se,Me,Je,gt){var Ft=Je-Se,Tt=gt-Me;if(0!==Ft||0!==Tt){var xt=((me-Se)*Ft+(ce-Me)*Tt)/(Ft*Ft+Tt*Tt);xt>1?(Se=Je,Me=gt):xt>0&&(Se+=Ft*xt,Me+=Tt*xt)}return(Ft=me-Se)*Ft+(Tt=ce-Me)*Tt}function dr(me,ce,Se,Me){var Je={id:void 0===me?null:me,type:ce,geometry:Se,tags:Me,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(gt){var Ft=gt.geometry,Tt=gt.type;if("Point"===Tt||"MultiPoint"===Tt||"LineString"===Tt)Xr(gt,Ft);else if("Polygon"===Tt||"MultiLineString"===Tt)for(var xt=0;xt<Ft.length;xt++)Xr(gt,Ft[xt]);else if("MultiPolygon"===Tt)for(xt=0;xt<Ft.length;xt++)for(var Bt=0;Bt<Ft[xt].length;Bt++)Xr(gt,Ft[xt][Bt])}(Je),Je}function Xr(me,ce){for(var Se=0;Se<ce.length;Se+=3)me.minX=Math.min(me.minX,ce[Se]),me.minY=Math.min(me.minY,ce[Se+1]),me.maxX=Math.max(me.maxX,ce[Se]),me.maxY=Math.max(me.maxY,ce[Se+1])}function Ln(me,ce,Se,Me){if(ce.geometry){var Je=ce.geometry.coordinates,gt=ce.geometry.type,Ft=Math.pow(Se.tolerance/((1<<Se.maxZoom)*Se.extent),2),Tt=[],xt=ce.id;if(Se.promoteId?xt=ce.properties[Se.promoteId]:Se.generateId&&(xt=Me||0),"Point"===gt)ir(Je,Tt);else if("MultiPoint"===gt)for(var Bt=0;Bt<Je.length;Bt++)ir(Je[Bt],Tt);else if("LineString"===gt)xr(Je,Tt,Ft,!1);else if("MultiLineString"===gt){if(Se.lineMetrics){for(Bt=0;Bt<Je.length;Bt++)xr(Je[Bt],Tt=[],Ft,!1),me.push(dr(xt,"LineString",Tt,ce.properties));return}$r(Je,Tt,Ft,!1)}else if("Polygon"===gt)$r(Je,Tt,Ft,!0);else{if("MultiPolygon"!==gt){if("GeometryCollection"===gt){for(Bt=0;Bt<ce.geometry.geometries.length;Bt++)Ln(me,{id:xt,geometry:ce.geometry.geometries[Bt],properties:ce.properties},Se,Me);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Bt=0;Bt<Je.length;Bt++){var hn=[];$r(Je[Bt],hn,Ft,!0),Tt.push(hn)}}me.push(dr(xt,gt,Tt,ce.properties))}}function ir(me,ce){ce.push(en(me[0])),ce.push(Wn(me[1])),ce.push(0)}function xr(me,ce,Se,Me){for(var Je,gt,Ft=0,Tt=0;Tt<me.length;Tt++){var xt=en(me[Tt][0]),Bt=Wn(me[Tt][1]);ce.push(xt),ce.push(Bt),ce.push(0),Tt>0&&(Ft+=Me?(Je*Bt-xt*gt)/2:Math.sqrt(Math.pow(xt-Je,2)+Math.pow(Bt-gt,2))),Je=xt,gt=Bt}var hn=ce.length-3;ce[2]=1,Xn(ce,0,hn,Se),ce[hn+2]=1,ce.size=Math.abs(Ft),ce.start=0,ce.end=ce.size}function $r(me,ce,Se,Me){for(var Je=0;Je<me.length;Je++){var gt=[];xr(me[Je],gt,Se,Me),ce.push(gt)}}function en(me){return me/360+.5}function Wn(me){var ce=Math.sin(me*Math.PI/180),Se=.5-.25*Math.log((1+ce)/(1-ce))/Math.PI;return Se<0?0:Se>1?1:Se}function qt(me,ce,Se,Me,Je,gt,Ft,Tt){if(Me/=ce,gt>=(Se/=ce)&&Ft<Me)return me;if(Ft<Se||gt>=Me)return null;for(var xt=[],Bt=0;Bt<me.length;Bt++){var hn=me[Bt],En=hn.geometry,In=hn.type,sr=0===Je?hn.minX:hn.minY,fr=0===Je?hn.maxX:hn.maxY;if(sr>=Se&&fr<Me)xt.push(hn);else if(!(fr<Se||sr>=Me)){var Gn=[];if("Point"===In||"MultiPoint"===In)rn(En,Gn,Se,Me,Je);else if("LineString"===In)Fn(En,Gn,Se,Me,Je,!1,Tt.lineMetrics);else if("MultiLineString"===In)Li(En,Gn,Se,Me,Je,!1);else if("Polygon"===In)Li(En,Gn,Se,Me,Je,!0);else if("MultiPolygon"===In)for(var lr=0;lr<En.length;lr++){var hr=[];Li(En[lr],hr,Se,Me,Je,!0),hr.length&&Gn.push(hr)}if(Gn.length){if(Tt.lineMetrics&&"LineString"===In){for(lr=0;lr<Gn.length;lr++)xt.push(dr(hn.id,In,Gn[lr],hn.tags));continue}"LineString"!==In&&"MultiLineString"!==In||(1===Gn.length?(In="LineString",Gn=Gn[0]):In="MultiLineString"),"Point"!==In&&"MultiPoint"!==In||(In=3===Gn.length?"Point":"MultiPoint"),xt.push(dr(hn.id,In,Gn,hn.tags))}}}return xt.length?xt:null}function rn(me,ce,Se,Me,Je){for(var gt=0;gt<me.length;gt+=3){var Ft=me[gt+Je];Ft>=Se&&Ft<=Me&&(ce.push(me[gt]),ce.push(me[gt+1]),ce.push(me[gt+2]))}}function Fn(me,ce,Se,Me,Je,gt,Ft){for(var Tt,xt,Bt=zr(me),hn=0===Je?Zn:is,En=me.start,In=0;In<me.length-3;In+=3){var sr=me[In],fr=me[In+1],Gn=me[In+2],lr=me[In+3],hr=me[In+4],Wr=0===Je?sr:fr,Ir=0===Je?lr:hr,wi=!1;Ft&&(Tt=Math.sqrt(Math.pow(sr-lr,2)+Math.pow(fr-hr,2))),Wr<Se?Ir>Se&&(xt=hn(Bt,sr,fr,lr,hr,Se),Ft&&(Bt.start=En+Tt*xt)):Wr>Me?Ir<Me&&(xt=hn(Bt,sr,fr,lr,hr,Me),Ft&&(Bt.start=En+Tt*xt)):ai(Bt,sr,fr,Gn),Ir<Se&&Wr>=Se&&(xt=hn(Bt,sr,fr,lr,hr,Se),wi=!0),Ir>Me&&Wr<=Me&&(xt=hn(Bt,sr,fr,lr,hr,Me),wi=!0),!gt&&wi&&(Ft&&(Bt.end=En+Tt*xt),ce.push(Bt),Bt=zr(me)),Ft&&(En+=Tt)}var li=me.length-3;sr=me[li],fr=me[li+1],Gn=me[li+2],(Wr=0===Je?sr:fr)>=Se&&Wr<=Me&&ai(Bt,sr,fr,Gn),li=Bt.length-3,gt&&li>=3&&(Bt[li]!==Bt[0]||Bt[li+1]!==Bt[1])&&ai(Bt,Bt[0],Bt[1],Bt[2]),Bt.length&&ce.push(Bt)}function zr(me){var ce=[];return ce.size=me.size,ce.start=me.start,ce.end=me.end,ce}function Li(me,ce,Se,Me,Je,gt){for(var Ft=0;Ft<me.length;Ft++)Fn(me[Ft],ce,Se,Me,Je,gt,!1)}function ai(me,ce,Se,Me){me.push(ce),me.push(Se),me.push(Me)}function Zn(me,ce,Se,Me,Je,gt){var Ft=(gt-ce)/(Me-ce);return me.push(gt),me.push(Se+(Je-Se)*Ft),me.push(1),Ft}function is(me,ce,Se,Me,Je,gt){var Ft=(gt-Se)/(Je-Se);return me.push(ce+(Me-ce)*Ft),me.push(gt),me.push(1),Ft}function Qi(me,ce){for(var Se=[],Me=0;Me<me.length;Me++){var Je,gt=me[Me],Ft=gt.type;if("Point"===Ft||"MultiPoint"===Ft||"LineString"===Ft)Je=Nr(gt.geometry,ce);else if("MultiLineString"===Ft||"Polygon"===Ft){Je=[];for(var Tt=0;Tt<gt.geometry.length;Tt++)Je.push(Nr(gt.geometry[Tt],ce))}else if("MultiPolygon"===Ft)for(Je=[],Tt=0;Tt<gt.geometry.length;Tt++){for(var xt=[],Bt=0;Bt<gt.geometry[Tt].length;Bt++)xt.push(Nr(gt.geometry[Tt][Bt],ce));Je.push(xt)}Se.push(dr(gt.id,Ft,Je,gt.tags))}return Se}function Nr(me,ce){var Se=[];Se.size=me.size,void 0!==me.start&&(Se.start=me.start,Se.end=me.end);for(var Me=0;Me<me.length;Me+=3)Se.push(me[Me]+ce,me[Me+1],me[Me+2]);return Se}function Dn(me,ce){if(me.transformed)return me;var Se,Me,Je,gt=1<<me.z,Ft=me.x,Tt=me.y;for(Se=0;Se<me.features.length;Se++){var xt=me.features[Se],Bt=xt.geometry,hn=xt.type;if(xt.geometry=[],1===hn)for(Me=0;Me<Bt.length;Me+=2)xt.geometry.push(nn(Bt[Me],Bt[Me+1],ce,gt,Ft,Tt));else for(Me=0;Me<Bt.length;Me++){var En=[];for(Je=0;Je<Bt[Me].length;Je+=2)En.push(nn(Bt[Me][Je],Bt[Me][Je+1],ce,gt,Ft,Tt));xt.geometry.push(En)}}return me.transformed=!0,me}function nn(me,ce,Se,Me,Je,gt){return[Math.round(Se*(me*Me-Je)),Math.round(Se*(ce*Me-gt))]}function ke(me,ce,Se,Me,Je){for(var gt=ce===Je.maxZoom?0:Je.tolerance/((1<<ce)*Je.extent),Ft={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Se,y:Me,z:ce,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Tt=0;Tt<me.length;Tt++){Ft.numFeatures++,Ge(Ft,me[Tt],gt,Je);var xt=me[Tt].minX,Bt=me[Tt].minY,hn=me[Tt].maxX,En=me[Tt].maxY;xt<Ft.minX&&(Ft.minX=xt),Bt<Ft.minY&&(Ft.minY=Bt),hn>Ft.maxX&&(Ft.maxX=hn),En>Ft.maxY&&(Ft.maxY=En)}return Ft}function Ge(me,ce,Se,Me){var Je=ce.geometry,gt=ce.type,Ft=[];if("Point"===gt||"MultiPoint"===gt)for(var Tt=0;Tt<Je.length;Tt+=3)Ft.push(Je[Tt]),Ft.push(Je[Tt+1]),me.numPoints++,me.numSimplified++;else if("LineString"===gt)xe(Ft,Je,me,Se,!1,!1);else if("MultiLineString"===gt||"Polygon"===gt)for(Tt=0;Tt<Je.length;Tt++)xe(Ft,Je[Tt],me,Se,"Polygon"===gt,0===Tt);else if("MultiPolygon"===gt)for(var xt=0;xt<Je.length;xt++){var Bt=Je[xt];for(Tt=0;Tt<Bt.length;Tt++)xe(Ft,Bt[Tt],me,Se,!0,0===Tt)}if(Ft.length){var hn=ce.tags||null;if("LineString"===gt&&Me.lineMetrics){for(var En in hn={},ce.tags)hn[En]=ce.tags[En];hn.mapbox_clip_start=Je.start/Je.size,hn.mapbox_clip_end=Je.end/Je.size}var In={geometry:Ft,type:"Polygon"===gt||"MultiPolygon"===gt?3:"LineString"===gt||"MultiLineString"===gt?2:1,tags:hn};null!==ce.id&&(In.id=ce.id),me.features.push(In)}}function xe(me,ce,Se,Me,Je,gt){var Ft=Me*Me;if(Me>0&&ce.size<(Je?Ft:Me))Se.numPoints+=ce.length/3;else{for(var Tt=[],xt=0;xt<ce.length;xt+=3)(0===Me||ce[xt+2]>Ft)&&(Se.numSimplified++,Tt.push(ce[xt]),Tt.push(ce[xt+1])),Se.numPoints++;Je&&function(Bt,hn){for(var En=0,In=0,sr=Bt.length,fr=sr-2;In<sr;fr=In,In+=2)En+=(Bt[In]-Bt[fr])*(Bt[In+1]+Bt[fr+1]);if(En>0===hn)for(In=0,sr=Bt.length;In<sr/2;In+=2){var Gn=Bt[In],lr=Bt[In+1];Bt[In]=Bt[sr-2-In],Bt[In+1]=Bt[sr-1-In],Bt[sr-2-In]=Gn,Bt[sr-1-In]=lr}}(Tt,gt),me.push(Tt)}}function Q(me,ce){var Se=(ce=this.options=function(Je,gt){for(var Ft in gt)Je[Ft]=gt[Ft];return Je}(Object.create(this.options),ce)).debug;if(Se&&console.time("preprocess data"),ce.maxZoom<0||ce.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ce.promoteId&&ce.generateId)throw new Error("promoteId and generateId cannot be used together.");var Je,gt,Ft,Tt,xt,Bt,Me=function(Je,gt){var Ft=[];if("FeatureCollection"===Je.type)for(var Tt=0;Tt<Je.features.length;Tt++)Ln(Ft,Je.features[Tt],gt,Tt);else Ln(Ft,"Feature"===Je.type?Je:{geometry:Je},gt);return Ft}(me,ce);this.tiles={},this.tileCoords=[],Se&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ce.indexMaxZoom,ce.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Tt=Je=Me,xt=qt(Je,1,-1-(Ft=(gt=ce).buffer/gt.extent),Ft,0,-1,2,gt),Bt=qt(Je,1,1-Ft,2+Ft,0,-1,2,gt),(xt||Bt)&&(Tt=qt(Je,1,-Ft,1+Ft,0,-1,2,gt)||[],xt&&(Tt=Qi(xt,1).concat(Tt)),Bt&&(Tt=Tt.concat(Qi(Bt,-1)))),(Me=Tt).length&&this.splitTile(Me,0,0,0),Se&&(Me.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function oe(me,ce,Se){return 32*((1<<me)*Se+ce)+me}function We(me,ce){return ce?me.properties[ce]:me.id}function Mt(me,ce){if(null==me)return!0;if("Feature"===me.type)return null!=We(me,ce);if("FeatureCollection"===me.type){const Se=new Set;for(const Me of me.features){const Je=We(Me,ce);if(null==Je||Se.has(Je))return!1;Se.add(Je)}return!0}return!1}function St(me,ce){const Se=new Map;if(null!=me)if("Feature"===me.type)Se.set(We(me,ce),me);else for(const Me of me.features)Se.set(We(Me,ce),Me);return Se}Q.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Q.prototype.splitTile=function(me,ce,Se,Me,Je,gt,Ft){for(var Tt=[me,ce,Se,Me],xt=this.options,Bt=xt.debug;Tt.length;){Me=Tt.pop(),Se=Tt.pop(),ce=Tt.pop(),me=Tt.pop();var hn=1<<ce,En=oe(ce,Se,Me),In=this.tiles[En];if(!In&&(Bt>1&&console.time("creation"),In=this.tiles[En]=ke(me,ce,Se,Me,xt),this.tileCoords.push({z:ce,x:Se,y:Me}),Bt)){Bt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ce,Se,Me,In.numFeatures,In.numPoints,In.numSimplified),console.timeEnd("creation"));var sr="z"+ce;this.stats[sr]=(this.stats[sr]||0)+1,this.total++}if(In.source=me,Je){if(ce===xt.maxZoom||ce===Je)continue;var fr=1<<Je-ce;if(Se!==Math.floor(gt/fr)||Me!==Math.floor(Ft/fr))continue}else if(ce===xt.indexMaxZoom||In.numPoints<=xt.indexMaxPoints)continue;if(In.source=null,0!==me.length){Bt>1&&console.time("clipping");var Gn,lr,hr,Wr,Ir,wi,li=.5*xt.buffer/xt.extent,Js=.5-li,mi=.5+li,Cs=1+li;Gn=lr=hr=Wr=null,Ir=qt(me,hn,Se-li,Se+mi,0,In.minX,In.maxX,xt),wi=qt(me,hn,Se+Js,Se+Cs,0,In.minX,In.maxX,xt),me=null,Ir&&(Gn=qt(Ir,hn,Me-li,Me+mi,1,In.minY,In.maxY,xt),lr=qt(Ir,hn,Me+Js,Me+Cs,1,In.minY,In.maxY,xt),Ir=null),wi&&(hr=qt(wi,hn,Me-li,Me+mi,1,In.minY,In.maxY,xt),Wr=qt(wi,hn,Me+Js,Me+Cs,1,In.minY,In.maxY,xt),wi=null),Bt>1&&console.timeEnd("clipping"),Tt.push(Gn||[],ce+1,2*Se,2*Me),Tt.push(lr||[],ce+1,2*Se,2*Me+1),Tt.push(hr||[],ce+1,2*Se+1,2*Me),Tt.push(Wr||[],ce+1,2*Se+1,2*Me+1)}}},Q.prototype.getTile=function(me,ce,Se){var Me=this.options,Je=Me.extent,gt=Me.debug;if(me<0||me>24)return null;var Ft=1<<me,Tt=oe(me,ce=(ce%Ft+Ft)%Ft,Se);if(this.tiles[Tt])return Dn(this.tiles[Tt],Je);gt>1&&console.log("drilling down to z%d-%d-%d",me,ce,Se);for(var xt,Bt=me,hn=ce,En=Se;!xt&&Bt>0;)Bt--,hn=Math.floor(hn/2),En=Math.floor(En/2),xt=this.tiles[oe(Bt,hn,En)];return xt&&xt.source?(gt>1&&console.log("found parent tile z%d-%d-%d",Bt,hn,En),gt>1&&console.time("drilling down"),this.splitTile(xt.source,Bt,hn,En,me,ce,Se),gt>1&&console.timeEnd("drilling down"),this.tiles[Tt]?Dn(this.tiles[Tt],Je):null):null};class kt extends Ee{constructor(ce,Se,Me,Je){super(ce,Se,Me),this._dataUpdateable=new Map,this.loadGeoJSON=(gt,Ft)=>{const{promoteId:Tt}=gt;if(gt.request)return p.f(gt.request,(xt,Bt,hn,En)=>{this._dataUpdateable=Mt(Bt,Tt)?St(Bt,Tt):void 0,Ft(xt,Bt,hn,En)});if("string"==typeof gt.data)try{const xt=JSON.parse(gt.data);this._dataUpdateable=Mt(xt,Tt)?St(xt,Tt):void 0,Ft(null,xt)}catch{Ft(new Error(`Input data given to '${gt.source}' is not a valid GeoJSON object.`))}else gt.dataDiff?this._dataUpdateable?(function(xt,Bt,hn){var En,In,sr,fr;if(Bt.removeAll&&xt.clear(),Bt.remove)for(const Gn of Bt.remove)xt.delete(Gn);if(Bt.add)for(const Gn of Bt.add){const lr=We(Gn,hn);null!=lr&&xt.set(lr,Gn)}if(Bt.update)for(const Gn of Bt.update){let lr=xt.get(Gn.id);if(null==lr)continue;const hr=!Gn.removeAllProperties&&((null===(En=Gn.removeProperties)||void 0===En?void 0:En.length)>0||(null===(In=Gn.addOrUpdateProperties)||void 0===In?void 0:In.length)>0);if((Gn.newGeometry||Gn.removeAllProperties||hr)&&(lr=Object.assign({},lr),xt.set(Gn.id,lr),hr&&(lr.properties=Object.assign({},lr.properties))),Gn.newGeometry&&(lr.geometry=Gn.newGeometry),Gn.removeAllProperties)lr.properties={};else if((null===(sr=Gn.removeProperties)||void 0===sr?void 0:sr.length)>0)for(const Wr of Gn.removeProperties)Object.prototype.hasOwnProperty.call(lr.properties,Wr)&&delete lr.properties[Wr];if((null===(fr=Gn.addOrUpdateProperties)||void 0===fr?void 0:fr.length)>0)for(const{key:Wr,value:Ir}of Gn.addOrUpdateProperties)lr.properties[Wr]=Ir}}(this._dataUpdateable,gt.dataDiff,Tt),Ft(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Ft(new Error(`Cannot update existing geojson data in ${gt.source}`)):Ft(new Error(`Input data given to '${gt.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,Je&&(this.loadGeoJSON=Je)}loadGeoJSONTile(ce,Se){const Me=ce.tileID.canonical;if(!this._geoJSONIndex)return Se(null,null);const Je=this._geoJSONIndex.getTile(Me.z,Me.x,Me.y);if(!Je)return Se(null,null);const gt=new class{constructor(Tt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=p.N,this.length=Tt.length,this._features=Tt}feature(Tt){return new class{constructor(xt){this._feature=xt,this.extent=p.N,this.type=xt.type,this.properties=xt.tags,"id"in xt&&!isNaN(xt.id)&&(this.id=parseInt(xt.id,10))}loadGeometry(){if(1===this._feature.type){const xt=[];for(const Bt of this._feature.geometry)xt.push([new p.P(Bt[0],Bt[1])]);return xt}{const xt=[];for(const Bt of this._feature.geometry){const hn=[];for(const En of Bt)hn.push(new p.P(En[0],En[1]));xt.push(hn)}return xt}}toGeoJSON(xt,Bt,hn){return pe.call(this,xt,Bt,hn)}}(this._features[Tt])}}(Je.features);let Ft=_t(gt);0===Ft.byteOffset&&Ft.byteLength===Ft.buffer.byteLength||(Ft=new Uint8Array(Ft)),Se(null,{vectorTile:gt,rawData:Ft.buffer})}loadData(ce,Se){var Me;null===(Me=this._pendingRequest)||void 0===Me||Me.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const Je=!!(ce&&ce.request&&ce.request.collectResourceTiming)&&new p.bu(ce.request);this._pendingCallback=Se,this._pendingRequest=this.loadGeoJSON(ce,(gt,Ft)=>{if(delete this._pendingCallback,delete this._pendingRequest,gt||!Ft)return Se(gt);if("object"!=typeof Ft)return Se(new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`));{it(Ft,!0);try{if(ce.filter){const xt=p.bC(ce.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===xt.result)throw new Error(xt.value.map(hn=>`${hn.key}: ${hn.message}`).join(", "));Ft={type:"FeatureCollection",features:Ft.features.filter(hn=>xt.value.evaluate({zoom:0},hn))}}this._geoJSONIndex=ce.cluster?new Yt(function({superclusterOptions:xt,clusterProperties:Bt}){if(!Bt||!xt)return xt;const hn={},En={},In={accumulated:null,zoom:0},sr={properties:null},fr=Object.keys(Bt);for(const Gn of fr){const[lr,hr]=Bt[Gn],Wr=p.bC(hr),Ir=p.bC("string"==typeof lr?[lr,["accumulated"],["get",Gn]]:lr);hn[Gn]=Wr.value,En[Gn]=Ir.value}return xt.map=Gn=>{sr.properties=Gn;const lr={};for(const hr of fr)lr[hr]=hn[hr].evaluate(In,sr);return lr},xt.reduce=(Gn,lr)=>{sr.properties=lr;for(const hr of fr)In.accumulated=Gn[hr],Gn[hr]=En[hr].evaluate(In,sr)},xt}(ce)).load(Ft.features):new Q(xt=Ft,ce.geojsonVtOptions)}catch(xt){return Se(xt)}this.loaded={};const Tt={};if(Je){const xt=Je.finish();xt&&(Tt.resourceTiming={},Tt.resourceTiming[ce.source]=JSON.parse(JSON.stringify(xt)))}Se(null,Tt)}var xt})}reloadTile(ce,Se){const Me=this.loaded;return Me&&Me[ce.uid]?super.reloadTile(ce,Se):this.loadTile(ce,Se)}removeSource(ce,Se){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Se()}getClusterExpansionZoom(ce,Se){try{Se(null,this._geoJSONIndex.getClusterExpansionZoom(ce.clusterId))}catch(Me){Se(Me)}}getClusterChildren(ce,Se){try{Se(null,this._geoJSONIndex.getChildren(ce.clusterId))}catch(Me){Se(Me)}}getClusterLeaves(ce,Se){try{Se(null,this._geoJSONIndex.getLeaves(ce.clusterId,ce.limit,ce.offset))}catch(Me){Se(Me)}}}class dn{constructor(ce){this.self=ce,this.actor=new p.C(ce,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Ee,geojson:kt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Se,Me)=>{if(this.workerSourceTypes[Se])throw new Error(`Worker source with name "${Se}" already registered.`);this.workerSourceTypes[Se]=Me},this.self.registerRTLTextPlugin=Se=>{if(p.bD.isParsed())throw new Error("RTL text plugin already registered.");p.bD.applyArabicShaping=Se.applyArabicShaping,p.bD.processBidirectionalText=Se.processBidirectionalText,p.bD.processStyledBidirectionalText=Se.processStyledBidirectionalText}}setReferrer(ce,Se){this.referrer=Se}setImages(ce,Se,Me){this.availableImages[ce]=Se;for(const Je in this.workerSources[ce]){const gt=this.workerSources[ce][Je];for(const Ft in gt)gt[Ft].availableImages=Se}Me()}setLayers(ce,Se,Me){this.getLayerIndex(ce).replace(Se),Me()}updateLayers(ce,Se,Me){this.getLayerIndex(ce).update(Se.layers,Se.removedIds),Me()}loadTile(ce,Se,Me){this.getWorkerSource(ce,Se.type,Se.source).loadTile(Se,Me)}loadDEMTile(ce,Se,Me){this.getDEMWorkerSource(ce,Se.source).loadTile(Se,Me)}reloadTile(ce,Se,Me){this.getWorkerSource(ce,Se.type,Se.source).reloadTile(Se,Me)}abortTile(ce,Se,Me){this.getWorkerSource(ce,Se.type,Se.source).abortTile(Se,Me)}removeTile(ce,Se,Me){this.getWorkerSource(ce,Se.type,Se.source).removeTile(Se,Me)}removeDEMTile(ce,Se){this.getDEMWorkerSource(ce,Se.source).removeTile(Se)}removeSource(ce,Se,Me){if(!this.workerSources[ce]||!this.workerSources[ce][Se.type]||!this.workerSources[ce][Se.type][Se.source])return;const Je=this.workerSources[ce][Se.type][Se.source];delete this.workerSources[ce][Se.type][Se.source],void 0!==Je.removeSource?Je.removeSource(Se,Me):Me()}loadWorkerSource(ce,Se,Me){try{this.self.importScripts(Se.url),Me()}catch(Je){Me(Je.toString())}}syncRTLPluginState(ce,Se,Me){try{p.bD.setState(Se);const Je=p.bD.getPluginURL();if(p.bD.isLoaded()&&!p.bD.isParsed()&&null!=Je){this.self.importScripts(Je);const gt=p.bD.isParsed();Me(gt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Je}`),gt)}}catch(Je){Me(Je.toString())}}getAvailableImages(ce){let Se=this.availableImages[ce];return Se||(Se=[]),Se}getLayerIndex(ce){let Se=this.layerIndexes[ce];return Se||(Se=this.layerIndexes[ce]=new O),Se}getWorkerSource(ce,Se,Me){return this.workerSources[ce]||(this.workerSources[ce]={}),this.workerSources[ce][Se]||(this.workerSources[ce][Se]={}),this.workerSources[ce][Se][Me]||(this.workerSources[ce][Se][Me]=new this.workerSourceTypes[Se]({send:(Je,gt,Ft)=>{this.actor.send(Je,gt,Ft,ce)}},this.getLayerIndex(ce),this.getAvailableImages(ce))),this.workerSources[ce][Se][Me]}getDEMWorkerSource(ce,Se){return this.demWorkerSources[ce]||(this.demWorkerSources[ce]={}),this.demWorkerSources[ce][Se]||(this.demWorkerSources[ce][Se]=new he),this.demWorkerSources[ce][Se]}}return p.i()&&(self.worker=new dn(self)),dn}),E(0,function(p){var O="3.6.2";class R{static testProp(o){if(!R.docStyle)return o[0];for(let g=0;g<o.length;g++)if(o[g]in R.docStyle)return o[g];return o[0]}static create(o,g,M){const S=window.document.createElement(o);return void 0!==g&&(S.className=g),M&&M.appendChild(S),S}static createNS(o,g){return window.document.createElementNS(o,g)}static disableDrag(){R.docStyle&&R.selectProp&&(R.userSelect=R.docStyle[R.selectProp],R.docStyle[R.selectProp]="none")}static enableDrag(){R.docStyle&&R.selectProp&&(R.docStyle[R.selectProp]=R.userSelect)}static setTransform(o,g){o.style[R.transformProp]=g}static addEventListener(o,g,M,S={}){o.addEventListener(g,M,"passive"in S?S:S.capture)}static removeEventListener(o,g,M,S={}){o.removeEventListener(g,M,"passive"in S?S:S.capture)}static suppressClickInternal(o){o.preventDefault(),o.stopPropagation(),window.removeEventListener("click",R.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",R.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",R.suppressClickInternal,!0)},0)}static mousePos(o,g){const M=o.getBoundingClientRect();return new p.P(g.clientX-M.left-o.clientLeft,g.clientY-M.top-o.clientTop)}static touchPos(o,g){const M=o.getBoundingClientRect(),S=[];for(let A=0;A<g.length;A++)S.push(new p.P(g[A].clientX-M.left-o.clientLeft,g[A].clientY-M.top-o.clientTop));return S}static mouseButton(o){return o.button}static remove(o){o.parentNode&&o.parentNode.removeChild(o)}}R.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,R.selectProp=R.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),R.transformProp=R.testProp(["transform","WebkitTransform"]);const H={supported:!1,testSupport:function(x){!Ee&&ie&&(he?Pe(x):G=x)}};let G,ie,Ee=!1,he=!1;function Pe(x){const o=x.createTexture();x.bindTexture(x.TEXTURE_2D,o);try{if(x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,ie),x.isContextLost())return;H.supported=!0}catch{}x.deleteTexture(o),Ee=!0}var Ie,it,x;typeof document<"u"&&(ie=document.createElement("img"),ie.onload=function(){G&&Pe(G),G=null,he=!0},ie.onerror=function(){Ee=!0,G=null},ie.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(x){let o,g,M,S;x.resetRequestQueue=()=>{o=[],g=0,M=0,S={}},x.addThrottleControl=ge=>{const Ce=M++;return S[Ce]=ge,Ce},x.removeThrottleControl=ge=>{delete S[ge],U()},x.getImage=(ge,Ce,Ne=!0)=>{H.supported&&(ge.headers||(ge.headers={}),ge.headers.accept="image/webp,*/*");const ot={requestParameters:ge,supportImageRefresh:Ne,callback:Ce,cancelled:!1,completed:!1,cancel:()=>{ot.completed||ot.cancelled||(ot.cancelled=!0,ot.innerRequest&&(ot.innerRequest.cancel(),g--),U())}};return o.push(ot),U(),ot};const A=ge=>{const{requestParameters:Ce,supportImageRefresh:Ne,callback:ot}=ge;return p.e(Ce,{type:"image"}),(!1!==Ne||p.i()||p.g(Ce.url)||Ce.headers&&!Object.keys(Ce.headers).reduce((Pt,Lt)=>Pt&&"accept"===Lt,!0)?p.m:K)(Ce,(Pt,Lt,jt,Nt)=>{Y(ge,ot,Pt,Lt,jt,Nt)})},Y=(ge,Ce,Ne,ot,Pt,Lt)=>{var jt,Nt;Ne?Ce(Ne):ot instanceof HTMLImageElement||p.a(ot)?Ce(null,ot):ot&&(jt=ot,Nt=(jt,Nt)=>{null!=jt?Ce(jt):null!=Nt&&Ce(null,Nt,{cacheControl:Pt,expires:Lt})},"function"==typeof createImageBitmap?p.b(jt,Nt):p.d(jt,Nt)),ge.cancelled||(ge.completed=!0,g--,U())},U=()=>{const ge=(()=>{const Ce=Object.keys(S);let Ne=!1;if(Ce.length>0)for(const ot of Ce)if(Ne=S[ot](),Ne)break;return Ne})()?p.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:p.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let Ce=g;Ce<ge&&o.length>0;Ce++){const Ne=o.shift();if(Ne.cancelled){Ce--;continue}const ot=A(Ne);g++,Ne.innerRequest=ot}},K=(ge,Ce)=>{const Ne=new Image,ot=ge.url;let Pt=!1;const Lt=ge.credentials;return Lt&&"include"===Lt?Ne.crossOrigin="use-credentials":(Lt&&"same-origin"===Lt||!p.s(ot))&&(Ne.crossOrigin="anonymous"),Ne.fetchPriority="high",Ne.onload=()=>{Ce(null,Ne),Ne.onerror=Ne.onload=null},Ne.onerror=()=>{Pt||Ce(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),Ne.onerror=Ne.onload=null},Ne.src=ot,{cancel:()=>{Pt=!0,Ne.src=""}}}}(Ie||(Ie={})),Ie.resetRequestQueue(),(x=it||(it={})).Glyphs="Glyphs",x.Image="Image",x.Source="Source",x.SpriteImage="SpriteImage",x.SpriteJSON="SpriteJSON",x.Style="Style",x.Tile="Tile",x.Unknown="Unknown";class pe{constructor(o){this._transformRequestFn=o}transformRequest(o,g){return this._transformRequestFn&&this._transformRequestFn(o,g)||{url:o}}normalizeSpriteURL(o,g,M){const S=function(A){const Y=A.match(ve);if(!Y)throw new Error(`Unable to parse URL "${A}"`);return{protocol:Y[1],authority:Y[2],path:Y[3]||"/",params:Y[4]?Y[4].split("&"):[]}}(o);return S.path+=`${g}${M}`,function(A){const Y=A.params.length?`?${A.params.join("&")}`:"";return`${A.protocol}://${A.authority}${A.path}${Y}`}(S)}setTransformRequest(o){this._transformRequestFn=o}}const ve=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function de(x){var o=new p.A(3);return o[0]=x[0],o[1]=x[1],o[2]=x[2],o}var J,te=function(x,o,g){return x[0]=o[0]-g[0],x[1]=o[1]-g[1],x[2]=o[2]-g[2],x};J=new p.A(3),p.A!=Float32Array&&(J[0]=0,J[1]=0,J[2]=0);var be=function(x){var o=x[0],g=x[1];return o*o+g*g};function ee(x){const o=[];if("string"==typeof x)o.push({id:"default",url:x});else if(x&&x.length>0){const g=[];for(const{id:M,url:S}of x){const A=`${M}${S}`;-1===g.indexOf(A)&&(g.push(A),o.push({id:M,url:S}))}}return o}function ae(x,o,g,M,S){if(M)return void x(M);if(S!==Object.values(o).length||S!==Object.values(g).length)return;const A={};for(const Y in o){A[Y]={};const U=p.h.getImageCanvasContext(g[Y]),K=o[Y];for(const ge in K){const{width:Ce,height:Ne,x:ot,y:Pt,sdf:Lt,pixelRatio:jt,stretchX:Nt,stretchY:vn,content:Pn}=K[ge];A[Y][ge]={data:null,pixelRatio:jt,sdf:Lt,stretchX:Nt,stretchY:vn,content:Pn,spriteData:{width:Ce,height:Ne,x:ot,y:Pt,context:U}}}}x(null,A)}!function(){var x=new p.A(2);p.A!=Float32Array&&(x[0]=0,x[1]=0)}();class ne{constructor(o,g,M,S){this.context=o,this.format=M,this.texture=o.gl.createTexture(),this.update(g,S)}update(o,g,M){const{width:S,height:A}=o,Y=!(this.size&&this.size[0]===S&&this.size[1]===A||M),{context:U}=this,{gl:K}=U;if(this.useMipmap=!(!g||!g.useMipmap),K.bindTexture(K.TEXTURE_2D,this.texture),U.pixelStoreUnpackFlipY.set(!1),U.pixelStoreUnpack.set(1),U.pixelStoreUnpackPremultiplyAlpha.set(this.format===K.RGBA&&(!g||!1!==g.premultiply)),Y)this.size=[S,A],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||p.a(o)?K.texImage2D(K.TEXTURE_2D,0,this.format,this.format,K.UNSIGNED_BYTE,o):K.texImage2D(K.TEXTURE_2D,0,this.format,S,A,0,this.format,K.UNSIGNED_BYTE,o.data);else{const{x:ge,y:Ce}=M||{x:0,y:0};o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||p.a(o)?K.texSubImage2D(K.TEXTURE_2D,0,ge,Ce,K.RGBA,K.UNSIGNED_BYTE,o):K.texSubImage2D(K.TEXTURE_2D,0,ge,Ce,S,A,K.RGBA,K.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&K.generateMipmap(K.TEXTURE_2D)}bind(o,g,M){const{context:S}=this,{gl:A}=S;A.bindTexture(A.TEXTURE_2D,this.texture),M!==A.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(M=A.LINEAR),o!==this.filter&&(A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,o),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,M||o),this.filter=o),g!==this.wrap&&(A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,g),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,g),this.wrap=g)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}function se(x){const{userImage:o}=x;return!!(o&&o.render&&o.render())&&(x.data.replace(new Uint8Array(o.data.buffer)),!0)}class st extends p.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new p.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(o){if(this.loaded!==o&&(this.loaded=o,o)){for(const{ids:g,callback:M}of this.requestors)this._notify(g,M);this.requestors=[]}}getImage(o){const g=this.images[o];if(g&&!g.data&&g.spriteData){const M=g.spriteData;g.data=new p.R({width:M.width,height:M.height},M.context.getImageData(M.x,M.y,M.width,M.height).data),g.spriteData=null}return g}addImage(o,g){if(this.images[o])throw new Error(`Image id ${o} already exist, use updateImage instead`);this._validate(o,g)&&(this.images[o]=g)}_validate(o,g){let M=!0;const S=g.data||g.spriteData;return this._validateStretch(g.stretchX,S&&S.width)||(this.fire(new p.j(new Error(`Image "${o}" has invalid "stretchX" value`))),M=!1),this._validateStretch(g.stretchY,S&&S.height)||(this.fire(new p.j(new Error(`Image "${o}" has invalid "stretchY" value`))),M=!1),this._validateContent(g.content,g)||(this.fire(new p.j(new Error(`Image "${o}" has invalid "content" value`))),M=!1),M}_validateStretch(o,g){if(!o)return!0;let M=0;for(const S of o){if(S[0]<M||S[1]<S[0]||g<S[1])return!1;M=S[1]}return!0}_validateContent(o,g){if(!o)return!0;if(4!==o.length)return!1;const M=g.spriteData,S=M&&M.width||g.data.width,A=M&&M.height||g.data.height;return!(o[0]<0||S<o[0]||o[1]<0||A<o[1]||o[2]<0||S<o[2]||o[3]<0||A<o[3]||o[2]<o[0]||o[3]<o[1])}updateImage(o,g,M=!0){const S=this.getImage(o);if(M&&(S.data.width!==g.data.width||S.data.height!==g.data.height))throw new Error(`size mismatch between old image (${S.data.width}x${S.data.height}) and new image (${g.data.width}x${g.data.height}).`);g.version=S.version+1,this.images[o]=g,this.updatedImages[o]=!0}removeImage(o){const g=this.images[o];delete this.images[o],delete this.patterns[o],g.userImage&&g.userImage.onRemove&&g.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(o,g){let M=!0;if(!this.isLoaded())for(const S of o)this.images[S]||(M=!1);this.isLoaded()||M?this._notify(o,g):this.requestors.push({ids:o,callback:g})}_notify(o,g){const M={};for(const S of o){let A=this.getImage(S);A||(this.fire(new p.k("styleimagemissing",{id:S})),A=this.getImage(S)),A?M[S]={data:A.data.clone(),pixelRatio:A.pixelRatio,sdf:A.sdf,version:A.version,stretchX:A.stretchX,stretchY:A.stretchY,content:A.content,hasRenderCallback:!(!A.userImage||!A.userImage.render)}:p.w(`Image "${S}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}g(null,M)}getPixelSize(){const{width:o,height:g}=this.atlasImage;return{width:o,height:g}}getPattern(o){const g=this.patterns[o],M=this.getImage(o);if(!M)return null;if(g&&g.position.version===M.version)return g.position;if(g)g.position.version=M.version;else{const S={w:M.data.width+2,h:M.data.height+2,x:0,y:0},A=new p.I(S,M);this.patterns[o]={bin:S,position:A}}return this._updatePatternAtlas(),this.patterns[o].position}bind(o){const g=o.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new ne(o,this.atlasImage,g.RGBA),this.atlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE)}_updatePatternAtlas(){const o=[];for(const A in this.patterns)o.push(this.patterns[A].bin);const{w:g,h:M}=p.p(o),S=this.atlasImage;S.resize({width:g||1,height:M||1});for(const A in this.patterns){const{bin:Y}=this.patterns[A],U=Y.x+1,K=Y.y+1,ge=this.getImage(A).data,Ce=ge.width,Ne=ge.height;p.R.copy(ge,S,{x:0,y:0},{x:U,y:K},{width:Ce,height:Ne}),p.R.copy(ge,S,{x:0,y:Ne-1},{x:U,y:K-1},{width:Ce,height:1}),p.R.copy(ge,S,{x:0,y:0},{x:U,y:K+Ne},{width:Ce,height:1}),p.R.copy(ge,S,{x:Ce-1,y:0},{x:U-1,y:K},{width:1,height:Ne}),p.R.copy(ge,S,{x:0,y:0},{x:U+Ce,y:K},{width:1,height:Ne})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(o){for(const g of o){if(this.callbackDispatchedThisFrame[g])continue;this.callbackDispatchedThisFrame[g]=!0;const M=this.getImage(g);M||p.w(`Image with ID: "${g}" was not found`),se(M)&&this.updateImage(g,M)}}}const $e=1e20;function rt(x,o,g,M,S,A,Y,U,K){for(let ge=o;ge<o+M;ge++)Te(x,g*A+ge,A,S,Y,U,K);for(let ge=g;ge<g+S;ge++)Te(x,ge*A+o,1,M,Y,U,K)}function Te(x,o,g,M,S,A,Y){A[0]=0,Y[0]=-$e,Y[1]=$e,S[0]=x[o];for(let U=1,K=0,ge=0;U<M;U++){S[U]=x[o+U*g];const Ce=U*U;do{const Ne=A[K];ge=(S[U]-S[Ne]+Ce-Ne*Ne)/(U-Ne)/2}while(ge<=Y[K]&&--K>-1);K++,A[K]=U,Y[K]=ge,Y[K+1]=$e}for(let U=0,K=0;U<M;U++){for(;Y[K+1]<U;)K++;const ge=A[K],Ce=U-ge;x[o+U*g]=S[ge]+Ce*Ce}}class ht{constructor(o,g){this.requestManager=o,this.localIdeographFontFamily=g,this.entries={}}setURL(o){this.url=o}getGlyphs(o,g){const M=[];for(const S in o)for(const A of o[S])M.push({stack:S,id:A});p.o(M,({stack:S,id:A},Y)=>{let U=this.entries[S];U||(U=this.entries[S]={glyphs:{},requests:{},ranges:{}});let K=U.glyphs[A];if(void 0!==K)return void Y(null,{stack:S,id:A,glyph:K});if(K=this._tinySDF(U,S,A),K)return U.glyphs[A]=K,void Y(null,{stack:S,id:A,glyph:K});const ge=Math.floor(A/256);if(256*ge>65535)return void Y(new Error("glyphs > 65535 not supported"));if(U.ranges[ge])return void Y(null,{stack:S,id:A,glyph:K});if(!this.url)return void Y(new Error("glyphsUrl is not set"));let Ce=U.requests[ge];Ce||(Ce=U.requests[ge]=[],ht.loadGlyphRange(S,ge,this.url,this.requestManager,(Ne,ot)=>{if(ot){for(const Pt in ot)this._doesCharSupportLocalGlyph(+Pt)||(U.glyphs[+Pt]=ot[+Pt]);U.ranges[ge]=!0}for(const Pt of Ce)Pt(Ne,ot);delete U.requests[ge]})),Ce.push((Ne,ot)=>{Ne?Y(Ne):ot&&Y(null,{stack:S,id:A,glyph:ot[A]||null})})},(S,A)=>{if(S)g(S);else if(A){const Y={};for(const{stack:U,id:K,glyph:ge}of A)(Y[U]||(Y[U]={}))[K]=ge&&{id:ge.id,bitmap:ge.bitmap.clone(),metrics:ge.metrics};g(null,Y)}})}_doesCharSupportLocalGlyph(o){return!!this.localIdeographFontFamily&&(p.u["CJK Unified Ideographs"](o)||p.u["Hangul Syllables"](o)||p.u.Hiragana(o)||p.u.Katakana(o))}_tinySDF(o,g,M){const S=this.localIdeographFontFamily;if(!S||!this._doesCharSupportLocalGlyph(M))return;let A=o.tinySDF;if(!A){let U="400";/bold/i.test(g)?U="900":/medium/i.test(g)?U="500":/light/i.test(g)&&(U="200"),A=o.tinySDF=new ht.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:S,fontWeight:U})}const Y=A.draw(String.fromCharCode(M));return{id:M,bitmap:new p.q({width:Y.width||60,height:Y.height||60},Y.data),metrics:{width:Y.glyphWidth/2||24,height:Y.glyphHeight/2||24,left:Y.glyphLeft/2+.5||0,top:Y.glyphTop/2-27.5||-8,advance:Y.glyphAdvance/2||24,isDoubleResolution:!0}}}}ht.loadGlyphRange=function(x,o,g,M,S){const A=256*o,Y=A+255,U=M.transformRequest(g.replace("{fontstack}",x).replace("{range}",`${A}-${Y}`),it.Glyphs);p.l(U,(K,ge)=>{if(K)S(K);else if(ge){const Ce={};for(const Ne of p.n(ge))Ce[Ne.id]=Ne;S(null,Ce)}})},ht.TinySDF=class{constructor({fontSize:x=24,buffer:o=3,radius:g=8,cutoff:M=.25,fontFamily:S="sans-serif",fontWeight:A="normal",fontStyle:Y="normal"}={}){this.buffer=o,this.cutoff=M,this.radius=g;const U=this.size=x+4*o,K=this._createCanvas(U),ge=this.ctx=K.getContext("2d",{willReadFrequently:!0});ge.font=`${Y} ${A} ${x}px ${S}`,ge.textBaseline="alphabetic",ge.textAlign="left",ge.fillStyle="black",this.gridOuter=new Float64Array(U*U),this.gridInner=new Float64Array(U*U),this.f=new Float64Array(U),this.z=new Float64Array(U+1),this.v=new Uint16Array(U)}_createCanvas(x){const o=document.createElement("canvas");return o.width=o.height=x,o}draw(x){const{width:o,actualBoundingBoxAscent:g,actualBoundingBoxDescent:M,actualBoundingBoxLeft:S,actualBoundingBoxRight:A}=this.ctx.measureText(x),Y=Math.ceil(g),U=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(A-S))),K=Math.min(this.size-this.buffer,Y+Math.ceil(M)),ge=U+2*this.buffer,Ce=K+2*this.buffer,Ne=Math.max(ge*Ce,0),ot=new Uint8ClampedArray(Ne),Pt={data:ot,width:ge,height:Ce,glyphWidth:U,glyphHeight:K,glyphTop:Y,glyphLeft:0,glyphAdvance:o};if(0===U||0===K)return Pt;const{ctx:Lt,buffer:jt,gridInner:Nt,gridOuter:vn}=this;Lt.clearRect(jt,jt,U,K),Lt.fillText(x,jt,jt+Y);const Pn=Lt.getImageData(jt,jt,U,K);vn.fill($e,0,Ne),Nt.fill(0,0,Ne);for(let bt=0;bt<K;bt++)for(let Mn=0;Mn<U;Mn++){const Bn=Pn.data[4*(bt*U+Mn)+3]/255;if(0===Bn)continue;const qn=(bt+jt)*ge+Mn+jt;if(1===Bn)vn[qn]=0,Nt[qn]=$e;else{const Hn=.5-Bn;vn[qn]=Hn>0?Hn*Hn:0,Nt[qn]=Hn<0?Hn*Hn:0}}rt(vn,0,0,ge,Ce,ge,this.f,this.v,this.z),rt(Nt,jt,jt,U,K,ge,this.f,this.v,this.z);for(let bt=0;bt<Ne;bt++){const Mn=Math.sqrt(vn[bt])-Math.sqrt(Nt[bt]);ot[bt]=Math.round(255-255*(Mn/this.radius+this.cutoff))}return Pt}};class tt{constructor(){this.specification=p.v.light.position}possiblyEvaluate(o,g){return p.z(o.expression.evaluate(g))}interpolate(o,g,M){return{x:p.B.number(o.x,g.x,M),y:p.B.number(o.y,g.y,M),z:p.B.number(o.z,g.z,M)}}}let He;class _t extends p.E{constructor(o){super(),He=He||new p.r({anchor:new p.D(p.v.light.anchor),position:new tt,color:new p.D(p.v.light.color),intensity:new p.D(p.v.light.intensity)}),this._transitionable=new p.T(He),this.setLight(o),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(o,g={}){if(!this._validate(p.t,o,g))for(const M in o){const S=o[M];M.endsWith("-transition")?this._transitionable.setTransition(M.slice(0,-11),S):this._transitionable.setValue(M,S)}}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,g,M){return(!M||!1!==M.validate)&&p.x(this,o.call(p.y,p.e({value:g,style:{glyphs:!0,sprite:!0},styleSpec:p.v})))}}class et{constructor(o,g){this.width=o,this.height=g,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(o,g){const M=o.join(",")+String(g);return this.dashEntry[M]||(this.dashEntry[M]=this.addDash(o,g)),this.dashEntry[M]}getDashRanges(o,g,M){const S=[];let A=o.length%2==1?-o[o.length-1]*M:0,Y=o[0]*M,U=!0;S.push({left:A,right:Y,isDash:U,zeroLength:0===o[0]});let K=o[0];for(let ge=1;ge<o.length;ge++){U=!U;const Ce=o[ge];A=K*M,K+=Ce,Y=K*M,S.push({left:A,right:Y,isDash:U,zeroLength:0===Ce})}return S}addRoundDash(o,g,M){const S=g/2;for(let A=-M;A<=M;A++){const Y=this.width*(this.nextRow+M+A);let U=0,K=o[U];for(let ge=0;ge<this.width;ge++){ge/K.right>1&&(K=o[++U]);const Ce=Math.abs(ge-K.left),Ne=Math.abs(ge-K.right),ot=Math.min(Ce,Ne);let Pt;const Lt=A/M*(S+1);if(K.isDash){const jt=S-Math.abs(Lt);Pt=Math.sqrt(ot*ot+jt*jt)}else Pt=S-Math.sqrt(ot*ot+Lt*Lt);this.data[Y+ge]=Math.max(0,Math.min(255,Pt+128))}}}addRegularDash(o){for(let U=o.length-1;U>=0;--U){const K=o[U],ge=o[U+1];K.zeroLength?o.splice(U,1):ge&&ge.isDash===K.isDash&&(ge.left=K.left,o.splice(U,1))}const g=o[0],M=o[o.length-1];g.isDash===M.isDash&&(g.left=M.left-this.width,M.right=g.right+this.width);const S=this.width*this.nextRow;let A=0,Y=o[A];for(let U=0;U<this.width;U++){U/Y.right>1&&(Y=o[++A]);const K=Math.abs(U-Y.left),ge=Math.abs(U-Y.right),Ce=Math.min(K,ge);this.data[S+U]=Math.max(0,Math.min(255,(Y.isDash?Ce:-Ce)+128))}}addDash(o,g){const M=g?7:0,S=2*M+1;if(this.nextRow+S>this.height)return p.w("LineAtlas out of space"),null;let A=0;for(let U=0;U<o.length;U++)A+=o[U];if(0!==A){const U=this.width/A,K=this.getDashRanges(o,this.width,U);g?this.addRoundDash(K,U,M):this.addRegularDash(K)}const Y={y:(this.nextRow+M+.5)/this.height,height:2*M/this.height,width:A};return this.nextRow+=S,this.dirty=!0,Y}bind(o){const g=o.gl;this.texture?(g.bindTexture(g.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,g.texSubImage2D(g.TEXTURE_2D,0,0,0,this.width,this.height,g.ALPHA,g.UNSIGNED_BYTE,this.data))):(this.texture=g.createTexture(),g.bindTexture(g.TEXTURE_2D,this.texture),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),g.texImage2D(g.TEXTURE_2D,0,g.ALPHA,this.width,this.height,0,g.ALPHA,g.UNSIGNED_BYTE,this.data))}}class Xe{constructor(o,g,M){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=M;const S=this.workerPool.acquire(M);for(let A=0;A<S.length;A++){const Y=new p.C(S[A],g,M);Y.name=`Worker ${A}`,this.actors.push(Y)}if(!this.actors.length)throw new Error("No actors found")}broadcast(o,g,M){p.o(this.actors,(S,A)=>{S.send(o,g,A)},M=M||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(o=!0){this.actors.forEach(g=>{g.remove()}),this.actors=[],o&&this.workerPool.release(this.id)}}function De(x,o,g){const M=function(S,A){if(S)return g(S);if(A){const Y=p.F(p.e(A,x),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);A.vector_layers&&(Y.vectorLayers=A.vector_layers,Y.vectorLayerIds=Y.vectorLayers.map(U=>U.id)),g(null,Y)}};return x.url?p.f(o.transformRequest(x.url,it.Source),M):p.h.frame(()=>M(null,x))}class le{constructor(o,g){o&&(g?this.setSouthWest(o).setNorthEast(g):Array.isArray(o)&&(4===o.length?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1])))}setNorthEast(o){return this._ne=o instanceof p.L?new p.L(o.lng,o.lat):p.L.convert(o),this}setSouthWest(o){return this._sw=o instanceof p.L?new p.L(o.lng,o.lat):p.L.convert(o),this}extend(o){const g=this._sw,M=this._ne;let S,A;if(o instanceof p.L)S=o,A=o;else{if(!(o instanceof le))return Array.isArray(o)?4===o.length||o.every(Array.isArray)?this.extend(le.convert(o)):this.extend(p.L.convert(o)):o&&("lng"in o||"lon"in o)&&"lat"in o?this.extend(p.L.convert(o)):this;if(S=o._sw,A=o._ne,!S||!A)return this}return g||M?(g.lng=Math.min(S.lng,g.lng),g.lat=Math.min(S.lat,g.lat),M.lng=Math.max(A.lng,M.lng),M.lat=Math.max(A.lat,M.lat)):(this._sw=new p.L(S.lng,S.lat),this._ne=new p.L(A.lng,A.lat)),this}getCenter(){return new p.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new p.L(this.getWest(),this.getNorth())}getSouthEast(){return new p.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:g,lat:M}=p.L.convert(o);let S=this._sw.lng<=g&&g<=this._ne.lng;return this._sw.lng>this._ne.lng&&(S=this._sw.lng>=g&&g>=this._ne.lng),this._sw.lat<=M&&M<=this._ne.lat&&S}static convert(o){return o instanceof le?o:o&&new le(o)}static fromLngLat(o,g=0){const M=360*g/40075017,S=M/Math.cos(Math.PI/180*o.lat);return new le(new p.L(o.lng-S,o.lat-M),new p.L(o.lng+S,o.lat+M))}}class ze{constructor(o,g,M){this.bounds=le.convert(this.validateBounds(o)),this.minzoom=g||0,this.maxzoom=M||24}validateBounds(o){return Array.isArray(o)&&4===o.length?[Math.max(-180,o[0]),Math.max(-90,o[1]),Math.min(180,o[2]),Math.min(90,o[3])]:[-180,-90,180,90]}contains(o){const g=Math.pow(2,o.z),M=Math.floor(p.G(this.bounds.getWest())*g),S=Math.floor(p.H(this.bounds.getNorth())*g),A=Math.ceil(p.G(this.bounds.getEast())*g),Y=Math.ceil(p.H(this.bounds.getSouth())*g);return o.x>=M&&o.x<A&&o.y>=S&&o.y<Y}}class Ve extends p.E{constructor(o,g,M,S){if(super(),this.load=()=>{this._loaded=!1,this.fire(new p.k("dataloading",{dataType:"source"})),this._tileJSONRequest=De(this._options,this.map._requestManager,(A,Y)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),A?this.fire(new p.j(A)):Y&&(p.e(this,Y),Y.bounds&&(this.tileBounds=new ze(Y.bounds,this.minzoom,this.maxzoom)),this.fire(new p.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new p.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>p.e({},this._options),this.id=o,this.dispatcher=M,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,p.e(this,p.F(g,["url","scheme","tileSize","promoteId"])),this._options=p.e({type:"vector"},g),this._collectResourceTiming=g.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(S)}loaded(){return this._loaded}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}onAdd(o){this.map=o,this.load()}setSourceProperty(o){this._tileJSONRequest&&this._tileJSONRequest.cancel(),o(),this.load()}setTiles(o){return this.setSourceProperty(()=>{this._options.tiles=o}),this}setUrl(o){return this.setSourceProperty(()=>{this.url=o,this._options.url=o}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(o,g){const M=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),S={request:this.map._requestManager.transformRequest(M,it.Tile),uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,tileSize:this.tileSize*o.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function A(Y,U){return delete o.request,o.aborted?g(null):Y&&404!==Y.status?g(Y):(U&&U.resourceTiming&&(o.resourceTiming=U.resourceTiming),this.map._refreshExpiredTiles&&U&&o.setExpiryData(U),o.loadVectorData(U,this.map.painter),g(null),void(o.reloadCallback&&(this.loadTile(o,o.reloadCallback),o.reloadCallback=null)))}S.request.collectResourceTiming=this._collectResourceTiming,o.actor&&"expired"!==o.state?"loading"===o.state?o.reloadCallback=g:o.request=o.actor.send("reloadTile",S,A.bind(this)):(o.actor=this.dispatcher.getActor(),o.request=o.actor.send("loadTile",S,A.bind(this)))}abortTile(o){o.request&&(o.request.cancel(),delete o.request),o.actor&&o.actor.send("abortTile",{uid:o.uid,type:this.type,source:this.id},void 0)}unloadTile(o){o.unloadVectorData(),o.actor&&o.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Yt extends p.E{constructor(o,g,M,S){super(),this.id=o,this.dispatcher=M,this.setEventedParent(S),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=p.e({type:"raster"},g),p.e(this,p.F(g,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new p.k("dataloading",{dataType:"source"})),this._tileJSONRequest=De(this._options,this.map._requestManager,(o,g)=>{this._tileJSONRequest=null,this._loaded=!0,o?this.fire(new p.j(o)):g&&(p.e(this,g),g.bounds&&(this.tileBounds=new ze(g.bounds,this.minzoom,this.maxzoom)),this.fire(new p.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new p.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(o){this.map=o,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(o){this._tileJSONRequest&&this._tileJSONRequest.cancel(),o(),this.load()}setTiles(o){return this.setSourceProperty(()=>{this._options.tiles=o}),this}serialize(){return p.e({},this._options)}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}loadTile(o,g){const M=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);o.request=Ie.getImage(this.map._requestManager.transformRequest(M,it.Tile),(S,A,Y)=>{if(delete o.request,o.aborted)o.state="unloaded",g(null);else if(S)o.state="errored",g(S);else if(A){this.map._refreshExpiredTiles&&Y&&o.setExpiryData(Y);const U=this.map.painter.context,K=U.gl;o.texture=this.map.painter.getTileTexture(A.width),o.texture?o.texture.update(A,{useMipmap:!0}):(o.texture=new ne(U,A,K.RGBA,{useMipmap:!0}),o.texture.bind(K.LINEAR,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),U.extTextureFilterAnisotropic&&K.texParameterf(K.TEXTURE_2D,U.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,U.extTextureFilterAnisotropicMax)),o.state="loaded",g(null)}},this.map._refreshExpiredTiles)}abortTile(o,g){o.request&&(o.request.cancel(),delete o.request),g()}unloadTile(o,g){o.texture&&this.map.painter.saveTileTexture(o.texture),g()}hasTransition(){return!1}}class Ct extends Yt{constructor(o,g,M,S){super(o,g,M,S),this.type="raster-dem",this.maxzoom=22,this._options=p.e({type:"raster-dem"},g),this.encoding=g.encoding||"mapbox",this.redFactor=g.redFactor,this.greenFactor=g.greenFactor,this.blueFactor=g.blueFactor,this.baseShift=g.baseShift}loadTile(o,g){const M=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),S=this.map._requestManager.transformRequest(M,it.Tile);function A(Y,U){Y&&(o.state="errored",g(Y)),U&&(o.dem=U,o.needsHillshadePrepare=!0,o.needsTerrainPrepare=!0,o.state="loaded",g(null))}o.neighboringTiles=this._getNeighboringTiles(o.tileID),o.request=Ie.getImage(S,(Y,U,K)=>p._(this,void 0,void 0,function*(){if(delete o.request,o.aborted)o.state="unloaded",g(null);else if(Y)o.state="errored",g(Y);else if(U){this.map._refreshExpiredTiles&&o.setExpiryData(K);const ge=p.a(U)&&p.J()?U:yield function(Ne){return p._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&p.K()){const ot=Ne.width+2,Pt=Ne.height+2;try{return new p.R({width:ot,height:Pt},yield p.M(Ne,-1,-1,ot,Pt))}catch{}}return p.h.getImageData(Ne,1)})}(U),Ce={uid:o.uid,coord:o.tileID,source:this.id,rawImageData:ge,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};o.actor&&"expired"!==o.state||(o.actor=this.dispatcher.getActor(),o.actor.send("loadDEMTile",Ce,A))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(o){const g=o.canonical,M=Math.pow(2,g.z),S=(g.x-1+M)%M,A=0===g.x?o.wrap-1:o.wrap,Y=(g.x+1+M)%M,U=g.x+1===M?o.wrap+1:o.wrap,K={};return K[new p.O(o.overscaledZ,A,g.z,S,g.y).key]={backfilled:!1},K[new p.O(o.overscaledZ,U,g.z,Y,g.y).key]={backfilled:!1},g.y>0&&(K[new p.O(o.overscaledZ,A,g.z,S,g.y-1).key]={backfilled:!1},K[new p.O(o.overscaledZ,o.wrap,g.z,g.x,g.y-1).key]={backfilled:!1},K[new p.O(o.overscaledZ,U,g.z,Y,g.y-1).key]={backfilled:!1}),g.y+1<M&&(K[new p.O(o.overscaledZ,A,g.z,S,g.y+1).key]={backfilled:!1},K[new p.O(o.overscaledZ,o.wrap,g.z,g.x,g.y+1).key]={backfilled:!1},K[new p.O(o.overscaledZ,U,g.z,Y,g.y+1).key]={backfilled:!1}),K}unloadTile(o){o.demTexture&&this.map.painter.saveTileTexture(o.demTexture),o.fbo&&(o.fbo.destroy(),delete o.fbo),o.dem&&delete o.dem,delete o.neighboringTiles,o.state="unloaded",o.actor&&o.actor.send("removeDEMTile",{uid:o.uid,source:this.id})}}class bn extends p.E{constructor(o,g,M,S){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>p.e({},this._options,{type:this.type,data:this._data}),this.id=o,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=M.getActor(),this.setEventedParent(S),this._data=g.data,this._options=p.e({},g),this._collectResourceTiming=g.collectResourceTiming,void 0!==g.maxzoom&&(this.maxzoom=g.maxzoom),g.type&&(this.type=g.type),g.attribution&&(this.attribution=g.attribution),this.promoteId=g.promoteId;const A=p.N/this.tileSize;this.workerOptions=p.e({source:this.id,cluster:g.cluster||!1,geojsonVtOptions:{buffer:(void 0!==g.buffer?g.buffer:128)*A,tolerance:(void 0!==g.tolerance?g.tolerance:.375)*A,extent:p.N,maxZoom:this.maxzoom,lineMetrics:g.lineMetrics||!1,generateId:g.generateId||!1},superclusterOptions:{maxZoom:void 0!==g.clusterMaxZoom?g.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,g.clusterMinPoints||2),extent:p.N,radius:(g.clusterRadius||50)*A,log:!1,generateId:g.generateId||!1},clusterProperties:g.clusterProperties,filter:g.filter},g.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(o){this.map=o,this.load()}setData(o){return this._data=o,this._updateWorkerData(),this}updateData(o){return this._updateWorkerData(o),this}setClusterOptions(o){return this.workerOptions.cluster=o.cluster,o&&(void 0!==o.clusterRadius&&(this.workerOptions.superclusterOptions.radius=o.clusterRadius),void 0!==o.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=o.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(o,g){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:o,source:this.id},g),this}getClusterChildren(o,g){return this.actor.send("geojson.getClusterChildren",{clusterId:o,source:this.id},g),this}getClusterLeaves(o,g,M,S){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:o,limit:g,offset:M},S),this}_updateWorkerData(o){const g=p.e({},this.workerOptions);o?g.dataDiff=o:"string"==typeof this._data?(g.request=this.map._requestManager.transformRequest(p.h.resolveURL(this._data),it.Source),g.request.collectResourceTiming=this._collectResourceTiming):g.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new p.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,g,(M,S)=>{if(this._pendingLoads--,this._removed||S&&S.abandoned)return void this.fire(new p.k("dataabort",{dataType:"source"}));let A=null;if(S&&S.resourceTiming&&S.resourceTiming[this.id]&&(A=S.resourceTiming[this.id].slice(0)),M)return void this.fire(new p.j(M));const Y={dataType:"source"};this._collectResourceTiming&&A&&A.length>0&&p.e(Y,{resourceTiming:A}),this.fire(new p.k("data",Object.assign(Object.assign({},Y),{sourceDataType:"metadata"}))),this.fire(new p.k("data",Object.assign(Object.assign({},Y),{sourceDataType:"content"})))})}loaded(){return 0===this._pendingLoads}loadTile(o,g){const M=o.actor?"reloadTile":"loadTile";o.actor=this.actor;const S={type:this.type,uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};o.request=this.actor.send(M,S,(A,Y)=>(delete o.request,o.unloadVectorData(),o.aborted?g(null):A?g(A):(o.loadVectorData(Y,this.map.painter,"reloadTile"===M),g(null))))}abortTile(o){o.request&&(o.request.cancel(),delete o.request),o.aborted=!0}unloadTile(o){o.unloadVectorData(),this.actor.send("removeTile",{uid:o.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var fn=p.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class kn extends p.E{constructor(o,g,M,S){super(),this.load=(A,Y)=>{this._loaded=!1,this.fire(new p.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=Ie.getImage(this.map._requestManager.transformRequest(this.url,it.Image),(U,K)=>{this._request=null,this._loaded=!0,U?this.fire(new p.j(U)):K&&(this.image=K,A&&(this.coordinates=A),Y&&Y(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||!this.image)return;const A=this.map.painter.context,Y=A.gl;this.boundsBuffer||(this.boundsBuffer=A.createVertexBuffer(this._boundsArray,fn.members)),this.boundsSegments||(this.boundsSegments=p.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new ne(A,this.image,Y.RGBA),this.texture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE));let U=!1;for(const K in this.tiles){const ge=this.tiles[K];"loaded"!==ge.state&&(ge.state="loaded",ge.texture=this.texture,U=!0)}U&&this.fire(new p.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=o,this.dispatcher=M,this.coordinates=g.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(S),this.options=g}loaded(){return this._loaded}updateImage(o){return o.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=o.url,this.load(o.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new p.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(o){this.coordinates=o;const g=o.map(p.U.fromLngLat);this.tileID=function(S){let A=1/0,Y=1/0,U=-1/0,K=-1/0;for(const ot of S)A=Math.min(A,ot.x),Y=Math.min(Y,ot.y),U=Math.max(U,ot.x),K=Math.max(K,ot.y);const ge=Math.max(U-A,K-Y),Ce=Math.max(0,Math.floor(-Math.log(ge)/Math.LN2)),Ne=Math.pow(2,Ce);return new p.W(Ce,Math.floor((A+U)/2*Ne),Math.floor((Y+K)/2*Ne))}(g),this.minzoom=this.maxzoom=this.tileID.z;const M=g.map(S=>this.tileID.getTilePoint(S)._round());return this._boundsArray=new p.V,this._boundsArray.emplaceBack(M[0].x,M[0].y,0,0),this._boundsArray.emplaceBack(M[1].x,M[1].y,p.N,0),this._boundsArray.emplaceBack(M[3].x,M[3].y,0,p.N),this._boundsArray.emplaceBack(M[2].x,M[2].y,p.N,p.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new p.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(o,g){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={},g(null)):(o.state="errored",g(null))}hasTransition(){return!1}}class un extends kn{constructor(o,g,M,S){super(o,g,M,S),this.load=()=>{this._loaded=!1;const A=this.options;this.urls=[];for(const Y of A.urls)this.urls.push(this.map._requestManager.transformRequest(Y,it.Source).url);p.X(this.urls,(Y,U)=>{this._loaded=!0,Y?this.fire(new p.j(Y)):U&&(this.video=U,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const A=this.map.painter.context,Y=A.gl;this.boundsBuffer||(this.boundsBuffer=A.createVertexBuffer(this._boundsArray,fn.members)),this.boundsSegments||(this.boundsSegments=p.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),Y.texSubImage2D(Y.TEXTURE_2D,0,0,0,Y.RGBA,Y.UNSIGNED_BYTE,this.video)):(this.texture=new ne(A,this.video,Y.RGBA),this.texture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE));let U=!1;for(const K in this.tiles){const ge=this.tiles[K];"loaded"!==ge.state&&(ge.state="loaded",ge.texture=this.texture,U=!0)}U&&this.fire(new p.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=g}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(o){if(this.video){const g=this.video.seekable;o<g.start(0)||o>g.end(0)?this.fire(new p.j(new p.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${g.start(0)} and ${g.end(0)}-second mark.`))):this.video.currentTime=o}}getVideo(){return this.video}onAdd(o){this.map||(this.map=o,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Xn extends kn{constructor(o,g,M,S){super(o,g,M,S),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new p.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let A=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,A=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,A=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const Y=this.map.painter.context,U=Y.gl;this.boundsBuffer||(this.boundsBuffer=Y.createVertexBuffer(this._boundsArray,fn.members)),this.boundsSegments||(this.boundsSegments=p.S.simpleSegment(0,0,4,2)),this.texture?(A||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new ne(Y,this.canvas,U.RGBA,{premultiply:!0});let K=!1;for(const ge in this.tiles){const Ce=this.tiles[ge];"loaded"!==Ce.state&&(Ce.state="loaded",Ce.texture=this.texture,K=!0)}K&&this.fire(new p.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),g.coordinates?Array.isArray(g.coordinates)&&4===g.coordinates.length&&!g.coordinates.some(A=>!Array.isArray(A)||2!==A.length||A.some(Y=>"number"!=typeof Y))||this.fire(new p.j(new p.Y(`sources.${o}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new p.j(new p.Y(`sources.${o}`,null,'missing required property "coordinates"'))),g.animate&&"boolean"!=typeof g.animate&&this.fire(new p.j(new p.Y(`sources.${o}`,null,'optional "animate" property must be a boolean value'))),g.canvas?"string"==typeof g.canvas||g.canvas instanceof HTMLCanvasElement||this.fire(new p.j(new p.Y(`sources.${o}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new p.j(new p.Y(`sources.${o}`,null,'missing required property "canvas"'))),this.options=g,this.animate=void 0===g.animate||g.animate}getCanvas(){return this.canvas}onAdd(o){this.map=o,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const o of[this.canvas.width,this.canvas.height])if(isNaN(o)||o<=0)return!0;return!1}}const Rn={},dr=x=>{switch(x){case"geojson":return bn;case"image":return kn;case"raster":return Yt;case"raster-dem":return Ct;case"vector":return Ve;case"video":return un;case"canvas":return Xn}return Rn[x]};function Xr(x,o){const g=p.Z();return p.$(g,g,[1,1,0]),p.a0(g,g,[.5*x.width,.5*x.height,1]),p.a1(g,g,x.calculatePosMatrix(o.toUnwrapped()))}function Ln(x,o,g,M,S,A){const Y=function(Ne,ot,Pt){if(Ne)for(const Lt of Ne){const jt=ot[Lt];if(jt&&jt.source===Pt&&"fill-extrusion"===jt.type)return!0}else for(const Lt in ot){const jt=ot[Lt];if(jt.source===Pt&&"fill-extrusion"===jt.type)return!0}return!1}(S&&S.layers,o,x.id),U=A.maxPitchScaleFactor(),K=x.tilesIn(M,U,Y);K.sort(ir);const ge=[];for(const Ne of K)ge.push({wrappedTileID:Ne.tileID.wrapped().key,queryResults:Ne.tile.queryRenderedFeatures(o,g,x._state,Ne.queryGeometry,Ne.cameraQueryGeometry,Ne.scale,S,A,U,Xr(x.transform,Ne.tileID))});const Ce=function(Ne){const ot={},Pt={};for(const Lt of Ne){const jt=Lt.queryResults,Nt=Lt.wrappedTileID,vn=Pt[Nt]=Pt[Nt]||{};for(const Pn in jt){const bt=jt[Pn],Mn=vn[Pn]=vn[Pn]||{},Bn=ot[Pn]=ot[Pn]||[];for(const qn of bt)Mn[qn.featureIndex]||(Mn[qn.featureIndex]=!0,Bn.push(qn))}}return ot}(ge);for(const Ne in Ce)Ce[Ne].forEach(ot=>{const Pt=ot.feature,Lt=x.getFeatureState(Pt.layer["source-layer"],Pt.id);Pt.source=Pt.layer.source,Pt.layer["source-layer"]&&(Pt.sourceLayer=Pt.layer["source-layer"]),Pt.state=Lt});return Ce}function ir(x,o){const g=x.tileID,M=o.tileID;return g.overscaledZ-M.overscaledZ||g.canonical.y-M.canonical.y||g.wrap-M.wrap||g.canonical.x-M.canonical.x}class xr{constructor(o,g){this.timeAdded=0,this.fadeEndTime=0,this.tileID=o,this.uid=p.a2(),this.uses=0,this.tileSize=g,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(o){const g=o+this.timeAdded;g<this.fadeEndTime||(this.fadeEndTime=g)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(o){this.demTexture&&o.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(o,g,M){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(S,A){const Y={};if(!A)return Y;for(const U of S){const K=U.layerIds.map(ge=>A.getLayer(ge)).filter(Boolean);if(0!==K.length){U.layers=K,U.stateDependentLayerIds&&(U.stateDependentLayers=U.stateDependentLayerIds.map(ge=>K.filter(Ce=>Ce.id===ge)[0]));for(const ge of K)Y[ge.id]=U}}return Y}(o.buckets,g.style),this.hasSymbolBuckets=!1;for(const S in this.buckets){const A=this.buckets[S];if(A instanceof p.a4){if(this.hasSymbolBuckets=!0,!M)break;A.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const S in this.buckets){const A=this.buckets[S];if(A instanceof p.a4&&A.hasRTLText){this.hasRTLText=!0,p.a5();break}}this.queryPadding=0;for(const S in this.buckets){const A=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,g.style.getLayer(S).queryRadius(A))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage)}else this.collisionBoxArray=new p.a3}unloadVectorData(){for(const o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(o){return this.buckets[o.id]}upload(o){for(const M in this.buckets){const S=this.buckets[M];S.uploadPending()&&S.upload(o)}const g=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ne(o,this.imageAtlas.image,g.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ne(o,this.glyphAtlasImage,g.ALPHA),this.glyphAtlasImage=null)}prepare(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)}queryRenderedFeatures(o,g,M,S,A,Y,U,K,ge,Ce){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:S,cameraQueryGeometry:A,scale:Y,tileSize:this.tileSize,pixelPosMatrix:Ce,transform:K,params:U,queryPadding:this.queryPadding*ge},o,g,M):{}}querySourceFeatures(o,g){const M=this.latestFeatureIndex;if(!M||!M.rawTileData)return;const S=M.loadVTLayers(),A=g&&g.sourceLayer?g.sourceLayer:"",Y=S._geojsonTileLayer||S[A];if(!Y)return;const U=p.a6(g&&g.filter),{z:K,x:ge,y:Ce}=this.tileID.canonical,Ne={z:K,x:ge,y:Ce};for(let ot=0;ot<Y.length;ot++){const Pt=Y.feature(ot);if(U.needGeometry){const Nt=p.a7(Pt,!0);if(!U.filter(new p.a8(this.tileID.overscaledZ),Nt,this.tileID.canonical))continue}else if(!U.filter(new p.a8(this.tileID.overscaledZ),Pt))continue;const Lt=M.getId(Pt,A),jt=new p.a9(Pt,K,ge,Ce,Lt);jt.tile=Ne,o.push(jt)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(o){const g=this.expirationTime;if(o.cacheControl){const M=p.aa(o.cacheControl);M["max-age"]&&(this.expirationTime=Date.now()+1e3*M["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){const M=Date.now();let S=!1;if(this.expirationTime>M)S=!1;else if(g)if(this.expirationTime<g)S=!0;else{const A=this.expirationTime-g;A?this.expirationTime=M+Math.max(A,3e4):S=!0}else S=!0;S?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(o,g){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(o).length)return;const M=this.latestFeatureIndex.loadVTLayers();for(const S in this.buckets){if(!g.style.hasLayer(S))continue;const A=this.buckets[S],Y=A.layers[0].sourceLayer||"_geojsonTileLayer",U=M[Y],K=o[Y];if(!U||!K||0===Object.keys(K).length)continue;A.update(K,U,this.imageAtlas&&this.imageAtlas.patternPositions||{});const ge=g&&g.style&&g.style.getLayer(S);ge&&(this.queryPadding=Math.max(this.queryPadding,ge.queryRadius(A)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<p.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(o){this.symbolFadeHoldUntil=p.h.now()+o}setDependencies(o,g){const M={};for(const S of g)M[S]=!0;this.dependencies[o]=M}hasDependency(o,g){for(const M of o){const S=this.dependencies[M];if(S)for(const A of g)if(S[A])return!0}return!1}}class $r{constructor(o,g){this.max=o,this.onRemove=g,this.reset()}reset(){for(const o in this.data)for(const g of this.data[o])g.timeout&&clearTimeout(g.timeout),this.onRemove(g.value);return this.data={},this.order=[],this}add(o,g,M){const S=o.wrapped().key;void 0===this.data[S]&&(this.data[S]=[]);const A={value:g,timeout:void 0};if(void 0!==M&&(A.timeout=setTimeout(()=>{this.remove(o,A)},M)),this.data[S].push(A),this.order.push(S),this.order.length>this.max){const Y=this._getAndRemoveByKey(this.order[0]);Y&&this.onRemove(Y)}return this}has(o){return o.wrapped().key in this.data}getAndRemove(o){return this.has(o)?this._getAndRemoveByKey(o.wrapped().key):null}_getAndRemoveByKey(o){const g=this.data[o].shift();return g.timeout&&clearTimeout(g.timeout),0===this.data[o].length&&delete this.data[o],this.order.splice(this.order.indexOf(o),1),g.value}getByKey(o){const g=this.data[o];return g?g[0].value:null}get(o){return this.has(o)?this.data[o.wrapped().key][0].value:null}remove(o,g){if(!this.has(o))return this;const M=o.wrapped().key,S=void 0===g?0:this.data[M].indexOf(g),A=this.data[M][S];return this.data[M].splice(S,1),A.timeout&&clearTimeout(A.timeout),0===this.data[M].length&&delete this.data[M],this.onRemove(A.value),this.order.splice(this.order.indexOf(M),1),this}setMaxSize(o){for(this.max=o;this.order.length>this.max;){const g=this._getAndRemoveByKey(this.order[0]);g&&this.onRemove(g)}return this}filter(o){const g=[];for(const M in this.data)for(const S of this.data[M])o(S.value)||g.push(S);for(const M of g)this.remove(M.value.tileID,M)}}class en{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(o,g,M){const S=String(g);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][S]=this.stateChanges[o][S]||{},p.e(this.stateChanges[o][S],M),null===this.deletedStates[o]){this.deletedStates[o]={};for(const A in this.state[o])A!==S&&(this.deletedStates[o][A]=null)}else if(this.deletedStates[o]&&null===this.deletedStates[o][S]){this.deletedStates[o][S]={};for(const A in this.state[o][S])M[A]||(this.deletedStates[o][S][A]=null)}else for(const A in M)this.deletedStates[o]&&this.deletedStates[o][S]&&null===this.deletedStates[o][S][A]&&delete this.deletedStates[o][S][A]}removeFeatureState(o,g,M){if(null===this.deletedStates[o])return;const S=String(g);if(this.deletedStates[o]=this.deletedStates[o]||{},M&&void 0!==g)null!==this.deletedStates[o][S]&&(this.deletedStates[o][S]=this.deletedStates[o][S]||{},this.deletedStates[o][S][M]=null);else if(void 0!==g)if(this.stateChanges[o]&&this.stateChanges[o][S])for(M in this.deletedStates[o][S]={},this.stateChanges[o][S])this.deletedStates[o][S][M]=null;else this.deletedStates[o][S]=null;else this.deletedStates[o]=null}getState(o,g){const M=String(g),S=p.e({},(this.state[o]||{})[M],(this.stateChanges[o]||{})[M]);if(null===this.deletedStates[o])return{};if(this.deletedStates[o]){const A=this.deletedStates[o][g];if(null===A)return{};for(const Y in A)delete S[Y]}return S}initializeTileState(o,g){o.setFeatureState(this.state,g)}coalesceChanges(o,g){const M={};for(const S in this.stateChanges){this.state[S]=this.state[S]||{};const A={};for(const Y in this.stateChanges[S])this.state[S][Y]||(this.state[S][Y]={}),p.e(this.state[S][Y],this.stateChanges[S][Y]),A[Y]=this.state[S][Y];M[S]=A}for(const S in this.deletedStates){this.state[S]=this.state[S]||{};const A={};if(null===this.deletedStates[S])for(const Y in this.state[S])A[Y]={},this.state[S][Y]={};else for(const Y in this.deletedStates[S]){if(null===this.deletedStates[S][Y])this.state[S][Y]={};else for(const U of Object.keys(this.deletedStates[S][Y]))delete this.state[S][Y][U];A[Y]=this.state[S][Y]}M[S]=M[S]||{},p.e(M[S],A)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(M).length)for(const S in o)o[S].setFeatureState(M,g)}}class Wn extends p.E{constructor(o,g,M){super(),this.id=o,this.dispatcher=M,this.on("data",S=>{"source"===S.dataType&&"metadata"===S.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===S.dataType&&"content"===S.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((S,A,Y,U)=>{const K=new(dr(A.type))(S,A,Y,U);if(K.id!==S)throw new Error(`Expected Source id to be ${S} instead of ${K.id}`);return K})(o,g,M,this),this._tiles={},this._cache=new $r(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new en,this._didEmitContent=!1,this._updated=!1}onAdd(o){this.map=o,this._maxTileCacheSize=o?o._maxTileCacheSize:null,this._maxTileCacheZoomLevels=o?o._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(o)}onRemove(o){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(o)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const o in this._tiles){const g=this._tiles[o];if("loaded"!==g.state&&"errored"!==g.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(o,g){return this._source.loadTile(o,g)}_unloadTile(o){if(this._source.unloadTile)return this._source.unloadTile(o,()=>{})}_abortTile(o){this._source.abortTile&&this._source.abortTile(o,()=>{}),this._source.fire(new p.k("dataabort",{tile:o,coord:o.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(o){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const g in this._tiles){const M=this._tiles[g];M.upload(o),M.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(o=>o.tileID).sort(qt).map(o=>o.key)}getRenderableIds(o){const g=[];for(const M in this._tiles)this._isIdRenderable(M,o)&&g.push(this._tiles[M]);return o?g.sort((M,S)=>{const A=M.tileID,Y=S.tileID,U=new p.P(A.canonical.x,A.canonical.y)._rotate(this.transform.angle),K=new p.P(Y.canonical.x,Y.canonical.y)._rotate(this.transform.angle);return A.overscaledZ-Y.overscaledZ||K.y-U.y||K.x-U.x}).map(M=>M.tileID.key):g.map(M=>M.tileID).sort(qt).map(M=>M.key)}hasRenderableParent(o){const g=this.findLoadedParent(o,0);return!!g&&this._isIdRenderable(g.tileID.key)}_isIdRenderable(o,g){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(g||!this._tiles[o].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)"errored"!==this._tiles[o].state&&this._reloadTile(o,"reloading")}}_reloadTile(o,g){const M=this._tiles[o];M&&("loading"!==M.state&&(M.state=g),this._loadTile(M,this._tileLoaded.bind(this,M,o,g)))}_tileLoaded(o,g,M,S){if(S)return o.state="errored",void(404!==S.status?this._source.fire(new p.j(S,{tile:o})):this.update(this.transform,this.terrain));o.timeAdded=p.h.now(),"expired"===M&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(g,o),"raster-dem"===this.getSource().type&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),o.aborted||this._source.fire(new p.k("data",{dataType:"source",tile:o,coord:o.tileID}))}_backfillDEM(o){const g=this.getRenderableIds();for(let S=0;S<g.length;S++){const A=g[S];if(o.neighboringTiles&&o.neighboringTiles[A]){const Y=this.getTileByID(A);M(o,Y),M(Y,o)}}function M(S,A){S.needsHillshadePrepare=!0,S.needsTerrainPrepare=!0;let Y=A.tileID.canonical.x-S.tileID.canonical.x;const U=A.tileID.canonical.y-S.tileID.canonical.y,K=Math.pow(2,S.tileID.canonical.z),ge=A.tileID.key;0===Y&&0===U||Math.abs(U)>1||(Math.abs(Y)>1&&(1===Math.abs(Y+K)?Y+=K:1===Math.abs(Y-K)&&(Y-=K)),A.dem&&S.dem&&(S.dem.backfillBorder(A.dem,Y,U),S.neighboringTiles&&S.neighboringTiles[ge]&&(S.neighboringTiles[ge].backfilled=!0)))}}getTile(o){return this.getTileByID(o.key)}getTileByID(o){return this._tiles[o]}_retainLoadedChildren(o,g,M,S){for(const A in this._tiles){let Y=this._tiles[A];if(S[A]||!Y.hasData()||Y.tileID.overscaledZ<=g||Y.tileID.overscaledZ>M)continue;let U=Y.tileID;for(;Y&&Y.tileID.overscaledZ>g+1;){const ge=Y.tileID.scaledTo(Y.tileID.overscaledZ-1);Y=this._tiles[ge.key],Y&&Y.hasData()&&(U=ge)}let K=U;for(;K.overscaledZ>g;)if(K=K.scaledTo(K.overscaledZ-1),o[K.key]){S[U.key]=U;break}}}findLoadedParent(o,g){if(o.key in this._loadedParentTiles){const M=this._loadedParentTiles[o.key];return M&&M.tileID.overscaledZ>=g?M:null}for(let M=o.overscaledZ-1;M>=g;M--){const S=o.scaledTo(M),A=this._getLoadedTile(S);if(A)return A}}_getLoadedTile(o){const g=this._tiles[o.key];return g&&g.hasData()?g:this._cache.getByKey(o.wrapped().key)}updateCacheSize(o){const g=Math.ceil(o.width/this._source.tileSize)+1,M=Math.ceil(o.height/this._source.tileSize)+1,S=Math.floor(g*M*(null===this._maxTileCacheZoomLevels?p.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),A="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,S):S;this._cache.setMaxSize(A)}handleWrapJump(o){const g=Math.round((o-(void 0===this._prevLng?o:this._prevLng))/360);if(this._prevLng=o,g){const M={};for(const S in this._tiles){const A=this._tiles[S];A.tileID=A.tileID.unwrapTo(A.tileID.wrap+g),M[A.tileID.key]=A}this._tiles=M;for(const S in this._timers)clearTimeout(this._timers[S]),delete this._timers[S];for(const S in this._tiles)this._setTileReloadTimer(S,this._tiles[S])}}update(o,g){if(this.transform=o,this.terrain=g,!this._sourceLoaded||this._paused)return;let M;this.updateCacheSize(o),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?M=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(Ce=>new p.O(Ce.canonical.z,Ce.wrap,Ce.canonical.z,Ce.canonical.x,Ce.canonical.y)):(M=o.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:g}),this._source.hasTile&&(M=M.filter(Ce=>this._source.hasTile(Ce)))):M=[];const S=o.coveringZoomLevel(this._source),A=Math.max(S-Wn.maxOverzooming,this._source.minzoom),Y=Math.max(S+Wn.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const Ce={};for(const Ne of M)if(Ne.canonical.z>this._source.minzoom){const ot=Ne.scaledTo(Ne.canonical.z-1);Ce[ot.key]=ot;const Pt=Ne.scaledTo(Math.max(this._source.minzoom,Math.min(Ne.canonical.z,5)));Ce[Pt.key]=Pt}M=M.concat(Object.values(Ce))}const U=0===M.length&&!this._updated&&this._didEmitContent;this._updated=!0,U&&this.fire(new p.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const K=this._updateRetainedTiles(M,S);if(rn(this._source.type)){const Ce={},Ne={},ot=Object.keys(K),Pt=p.h.now();for(const Lt of ot){const jt=K[Lt],Nt=this._tiles[Lt];if(!Nt||0!==Nt.fadeEndTime&&Nt.fadeEndTime<=Pt)continue;const vn=this.findLoadedParent(jt,A);vn&&(this._addTile(vn.tileID),Ce[vn.tileID.key]=vn.tileID),Ne[Lt]=jt}this._retainLoadedChildren(Ne,S,Y,K);for(const Lt in Ce)K[Lt]||(this._coveredTiles[Lt]=!0,K[Lt]=Ce[Lt]);if(g){const Lt={},jt={};for(const Nt of M)this._tiles[Nt.key].hasData()?Lt[Nt.key]=Nt:jt[Nt.key]=Nt;for(const Nt in jt){const vn=jt[Nt].children(this._source.maxzoom);this._tiles[vn[0].key]&&this._tiles[vn[1].key]&&this._tiles[vn[2].key]&&this._tiles[vn[3].key]&&(Lt[vn[0].key]=K[vn[0].key]=vn[0],Lt[vn[1].key]=K[vn[1].key]=vn[1],Lt[vn[2].key]=K[vn[2].key]=vn[2],Lt[vn[3].key]=K[vn[3].key]=vn[3],delete jt[Nt])}for(const Nt in jt){const vn=this.findLoadedParent(jt[Nt],this._source.minzoom);if(vn){Lt[vn.tileID.key]=K[vn.tileID.key]=vn.tileID;for(const Pn in Lt)Lt[Pn].isChildOf(vn.tileID)&&delete Lt[Pn]}}for(const Nt in this._tiles)Lt[Nt]||(this._coveredTiles[Nt]=!0)}}for(const Ce in K)this._tiles[Ce].clearFadeHold();const ge=p.ab(this._tiles,K);for(const Ce of ge){const Ne=this._tiles[Ce];Ne.hasSymbolBuckets&&!Ne.holdingForFade()?Ne.setHoldDuration(this.map._fadeDuration):Ne.hasSymbolBuckets&&!Ne.symbolFadeFinished()||this._removeTile(Ce)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(o)}_updateRetainedTiles(o,g){const M={},S={},A=Math.max(g-Wn.maxOverzooming,this._source.minzoom),Y=Math.max(g+Wn.maxUnderzooming,this._source.minzoom),U={};for(const K of o){const ge=this._addTile(K);M[K.key]=K,ge.hasData()||g<this._source.maxzoom&&(U[K.key]=K)}this._retainLoadedChildren(U,g,Y,M);for(const K of o){let ge=this._tiles[K.key];if(ge.hasData())continue;if(g+1>this._source.maxzoom){const Ne=K.children(this._source.maxzoom)[0],ot=this.getTile(Ne);if(ot&&ot.hasData()){M[Ne.key]=Ne;continue}}else{const Ne=K.children(this._source.maxzoom);if(M[Ne[0].key]&&M[Ne[1].key]&&M[Ne[2].key]&&M[Ne[3].key])continue}let Ce=ge.wasRequested();for(let Ne=K.overscaledZ-1;Ne>=A;--Ne){const ot=K.scaledTo(Ne);if(S[ot.key])break;if(S[ot.key]=!0,ge=this.getTile(ot),!ge&&Ce&&(ge=this._addTile(ot)),ge){const Pt=ge.hasData();if((Ce||Pt)&&(M[ot.key]=ot),Ce=ge.wasRequested(),Pt)break}}}return M}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const o in this._tiles){const g=[];let M,S=this._tiles[o].tileID;for(;S.overscaledZ>0;){if(S.key in this._loadedParentTiles){M=this._loadedParentTiles[S.key];break}g.push(S.key);const A=S.scaledTo(S.overscaledZ-1);if(M=this._getLoadedTile(A),M)break;S=A}for(const A of g)this._loadedParentTiles[A]=M}}_addTile(o){let g=this._tiles[o.key];if(g)return g;g=this._cache.getAndRemove(o),g&&(this._setTileReloadTimer(o.key,g),g.tileID=o,this._state.initializeTileState(g,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,g)));const M=g;return g||(g=new xr(o,this._source.tileSize*o.overscaleFactor()),this._loadTile(g,this._tileLoaded.bind(this,g,o.key,g.state))),g.uses++,this._tiles[o.key]=g,M||this._source.fire(new p.k("dataloading",{tile:g,coord:g.tileID,dataType:"source"})),g}_setTileReloadTimer(o,g){o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);const M=g.getExpiryTimeout();M&&(this._timers[o]=setTimeout(()=>{this._reloadTile(o,"expired"),delete this._timers[o]},M))}_removeTile(o){const g=this._tiles[o];g&&(g.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),g.uses>0||(g.hasData()&&"reloading"!==g.state?this._cache.add(g.tileID,g,g.getExpiryTimeout()):(g.aborted=!0,this._abortTile(g),this._unloadTile(g))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const o in this._tiles)this._removeTile(o);this._cache.reset()}tilesIn(o,g,M){const S=[],A=this.transform;if(!A)return S;const Y=M?A.getCameraQueryGeometry(o):o,U=o.map(Lt=>A.pointCoordinate(Lt,this.terrain)),K=Y.map(Lt=>A.pointCoordinate(Lt,this.terrain)),ge=this.getIds();let Ce=1/0,Ne=1/0,ot=-1/0,Pt=-1/0;for(const Lt of K)Ce=Math.min(Ce,Lt.x),Ne=Math.min(Ne,Lt.y),ot=Math.max(ot,Lt.x),Pt=Math.max(Pt,Lt.y);for(let Lt=0;Lt<ge.length;Lt++){const jt=this._tiles[ge[Lt]];if(jt.holdingForFade())continue;const Nt=jt.tileID,vn=Math.pow(2,A.zoom-jt.tileID.overscaledZ),Pn=g*jt.queryPadding*p.N/jt.tileSize/vn,bt=[Nt.getTilePoint(new p.U(Ce,Ne)),Nt.getTilePoint(new p.U(ot,Pt))];if(bt[0].x-Pn<p.N&&bt[0].y-Pn<p.N&&bt[1].x+Pn>=0&&bt[1].y+Pn>=0){const Mn=U.map(qn=>Nt.getTilePoint(qn)),Bn=K.map(qn=>Nt.getTilePoint(qn));S.push({tile:jt,tileID:Nt,queryGeometry:Mn,cameraQueryGeometry:Bn,scale:vn})}}return S}getVisibleCoordinates(o){const g=this.getRenderableIds(o).map(M=>this._tiles[M].tileID);for(const M of g)M.posMatrix=this.transform.calculatePosMatrix(M.toUnwrapped());return g}hasTransition(){if(this._source.hasTransition())return!0;if(rn(this._source.type)){const o=p.h.now();for(const g in this._tiles)if(this._tiles[g].fadeEndTime>=o)return!0}return!1}setFeatureState(o,g,M){this._state.updateState(o=o||"_geojsonTileLayer",g,M)}removeFeatureState(o,g,M){this._state.removeFeatureState(o=o||"_geojsonTileLayer",g,M)}getFeatureState(o,g){return this._state.getState(o=o||"_geojsonTileLayer",g)}setDependencies(o,g,M){const S=this._tiles[o];S&&S.setDependencies(g,M)}reloadTilesForDependencies(o,g){for(const M in this._tiles)this._tiles[M].hasDependency(o,g)&&this._reloadTile(M,"reloading");this._cache.filter(M=>!M.hasDependency(o,g))}}function qt(x,o){const g=Math.abs(2*x.wrap)-+(x.wrap<0),M=Math.abs(2*o.wrap)-+(o.wrap<0);return x.overscaledZ-o.overscaledZ||M-g||o.canonical.y-x.canonical.y||o.canonical.x-x.canonical.x}function rn(x){return"raster"===x||"image"===x||"video"===x}Wn.maxOverzooming=10,Wn.maxUnderzooming=3;const Fn="mapboxgl_preloaded_worker_pool";class zr{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<zr.workerCount;)this.workers.push(new Worker(p.c.WORKER_URL));return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],0===this.numActive()&&(this.workers.forEach(g=>{g.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Fn]}numActive(){return Object.keys(this.active).length}}const Li=Math.floor(p.h.hardwareConcurrency/2);let ai;function Zn(){return ai||(ai=new zr),ai}zr.workerCount=p.ac(globalThis)?Math.max(Math.min(Li,3),1):1;class is{constructor(o,g){this.reset(o,g)}reset(o,g){this.points=o||[],this._distances=[0];for(let M=1;M<this.points.length;M++)this._distances[M]=this._distances[M-1]+this.points[M].dist(this.points[M-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(g||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(o){if(1===this.points.length)return this.points[0];o=p.ad(o,0,1);let g=1,M=this._distances[g];const S=o*this.paddedLength+this.padding;for(;M<S&&g<this._distances.length;)M=this._distances[++g];const A=g-1,Y=this._distances[A],U=M-Y,K=U>0?(S-Y)/U:0;return this.points[A].mult(1-K).add(this.points[g].mult(K))}}function Qi(x,o){let g=!0;return"always"===x||"never"!==x&&"never"!==o||(g=!1),g}class Nr{constructor(o,g,M){const S=this.boxCells=[],A=this.circleCells=[];this.xCellCount=Math.ceil(o/M),this.yCellCount=Math.ceil(g/M);for(let Y=0;Y<this.xCellCount*this.yCellCount;Y++)S.push([]),A.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=o,this.height=g,this.xScale=this.xCellCount/o,this.yScale=this.yCellCount/g,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(o,g,M,S,A){this._forEachCell(g,M,S,A,this._insertBoxCell,this.boxUid++),this.boxKeys.push(o),this.bboxes.push(g),this.bboxes.push(M),this.bboxes.push(S),this.bboxes.push(A)}insertCircle(o,g,M,S){this._forEachCell(g-S,M-S,g+S,M+S,this._insertCircleCell,this.circleUid++),this.circleKeys.push(o),this.circles.push(g),this.circles.push(M),this.circles.push(S)}_insertBoxCell(o,g,M,S,A,Y){this.boxCells[A].push(Y)}_insertCircleCell(o,g,M,S,A,Y){this.circleCells[A].push(Y)}_query(o,g,M,S,A,Y,U){if(M<0||o>this.width||S<0||g>this.height)return[];const K=[];if(o<=0&&g<=0&&this.width<=M&&this.height<=S){if(A)return[{key:null,x1:o,y1:g,x2:M,y2:S}];for(let ge=0;ge<this.boxKeys.length;ge++)K.push({key:this.boxKeys[ge],x1:this.bboxes[4*ge],y1:this.bboxes[4*ge+1],x2:this.bboxes[4*ge+2],y2:this.bboxes[4*ge+3]});for(let ge=0;ge<this.circleKeys.length;ge++){const Ce=this.circles[3*ge],Ne=this.circles[3*ge+1],ot=this.circles[3*ge+2];K.push({key:this.circleKeys[ge],x1:Ce-ot,y1:Ne-ot,x2:Ce+ot,y2:Ne+ot})}}else this._forEachCell(o,g,M,S,this._queryCell,K,{hitTest:A,overlapMode:Y,seenUids:{box:{},circle:{}}},U);return K}query(o,g,M,S){return this._query(o,g,M,S,!1,null)}hitTest(o,g,M,S,A,Y){return this._query(o,g,M,S,!0,A,Y).length>0}hitTestCircle(o,g,M,S,A){const Y=o-M,U=o+M,K=g-M,ge=g+M;if(U<0||Y>this.width||ge<0||K>this.height)return!1;const Ce=[];return this._forEachCell(Y,K,U,ge,this._queryCellCircle,Ce,{hitTest:!0,overlapMode:S,circle:{x:o,y:g,radius:M},seenUids:{box:{},circle:{}}},A),Ce.length>0}_queryCell(o,g,M,S,A,Y,U,K){const{seenUids:ge,hitTest:Ce,overlapMode:Ne}=U,ot=this.boxCells[A];if(null!==ot){const Lt=this.bboxes;for(const jt of ot)if(!ge.box[jt]){ge.box[jt]=!0;const Nt=4*jt,vn=this.boxKeys[jt];if(o<=Lt[Nt+2]&&g<=Lt[Nt+3]&&M>=Lt[Nt+0]&&S>=Lt[Nt+1]&&(!K||K(vn))&&(!Ce||!Qi(Ne,vn.overlapMode))&&(Y.push({key:vn,x1:Lt[Nt],y1:Lt[Nt+1],x2:Lt[Nt+2],y2:Lt[Nt+3]}),Ce))return!0}}const Pt=this.circleCells[A];if(null!==Pt){const Lt=this.circles;for(const jt of Pt)if(!ge.circle[jt]){ge.circle[jt]=!0;const Nt=3*jt,vn=this.circleKeys[jt];if(this._circleAndRectCollide(Lt[Nt],Lt[Nt+1],Lt[Nt+2],o,g,M,S)&&(!K||K(vn))&&(!Ce||!Qi(Ne,vn.overlapMode))){const Pn=Lt[Nt],bt=Lt[Nt+1],Mn=Lt[Nt+2];if(Y.push({key:vn,x1:Pn-Mn,y1:bt-Mn,x2:Pn+Mn,y2:bt+Mn}),Ce)return!0}}}return!1}_queryCellCircle(o,g,M,S,A,Y,U,K){const{circle:ge,seenUids:Ce,overlapMode:Ne}=U,ot=this.boxCells[A];if(null!==ot){const Lt=this.bboxes;for(const jt of ot)if(!Ce.box[jt]){Ce.box[jt]=!0;const Nt=4*jt,vn=this.boxKeys[jt];if(this._circleAndRectCollide(ge.x,ge.y,ge.radius,Lt[Nt+0],Lt[Nt+1],Lt[Nt+2],Lt[Nt+3])&&(!K||K(vn))&&!Qi(Ne,vn.overlapMode))return Y.push(!0),!0}}const Pt=this.circleCells[A];if(null!==Pt){const Lt=this.circles;for(const jt of Pt)if(!Ce.circle[jt]){Ce.circle[jt]=!0;const Nt=3*jt,vn=this.circleKeys[jt];if(this._circlesCollide(Lt[Nt],Lt[Nt+1],Lt[Nt+2],ge.x,ge.y,ge.radius)&&(!K||K(vn))&&!Qi(Ne,vn.overlapMode))return Y.push(!0),!0}}}_forEachCell(o,g,M,S,A,Y,U,K){const ge=this._convertToXCellCoord(o),Ce=this._convertToYCellCoord(g),Ne=this._convertToXCellCoord(M),ot=this._convertToYCellCoord(S);for(let Pt=ge;Pt<=Ne;Pt++)for(let Lt=Ce;Lt<=ot;Lt++)if(A.call(this,o,g,M,S,this.xCellCount*Lt+Pt,Y,U,K))return}_convertToXCellCoord(o){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(o*this.xScale)))}_convertToYCellCoord(o){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(o*this.yScale)))}_circlesCollide(o,g,M,S,A,Y){const U=S-o,K=A-g,ge=M+Y;return ge*ge>U*U+K*K}_circleAndRectCollide(o,g,M,S,A,Y,U){const K=(Y-S)/2,ge=Math.abs(o-(S+K));if(ge>K+M)return!1;const Ce=(U-A)/2,Ne=Math.abs(g-(A+Ce));if(Ne>Ce+M)return!1;if(ge<=K||Ne<=Ce)return!0;const ot=ge-K,Pt=Ne-Ce;return ot*ot+Pt*Pt<=M*M}}function Dn(x,o,g,M,S){const A=p.Z();return o?(p.a0(A,A,[1/S,1/S,1]),g||p.ae(A,A,M.angle)):p.a1(A,M.labelPlaneMatrix,x),A}function nn(x,o,g,M,S){if(o){const A=p.af(x);return p.a0(A,A,[S,S,1]),g||p.ae(A,A,-M.angle),A}return M.glCoordMatrix}function ke(x,o,g){let M;g?(M=[x.x,x.y,g(x.x,x.y),1],p.ag(M,M,o)):(M=[x.x,x.y,0,1],Je(M,M,o));const S=M[3];return{point:new p.P(M[0]/S,M[1]/S),signedDistanceFromCamera:S}}function Ge(x,o){return.5+x/o*.5}function xe(x,o){const g=x[0]/x[3],M=x[1]/x[3];return g>=-o[0]&&g<=o[0]&&M>=-o[1]&&M<=o[1]}function Q(x,o,g,M,S,A,Y,U,K,ge){const Ce=M?x.textSizeData:x.iconSizeData,Ne=p.ah(Ce,g.transform.zoom),ot=[256/g.width*2+1,256/g.height*2+1],Pt=M?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;Pt.clear();const Lt=x.lineVertexArray,jt=M?x.text.placedSymbolArray:x.icon.placedSymbolArray,Nt=g.transform.width/g.transform.height;let vn=!1;for(let Pn=0;Pn<jt.length;Pn++){const bt=jt.get(Pn);if(bt.hidden||bt.writingMode===p.ai.vertical&&!vn){Me(bt.numGlyphs,Pt);continue}let Mn;if(vn=!1,ge?(Mn=[bt.anchorX,bt.anchorY,ge(bt.anchorX,bt.anchorY),1],p.ag(Mn,Mn,o)):(Mn=[bt.anchorX,bt.anchorY,0,1],Je(Mn,Mn,o)),!xe(Mn,ot)){Me(bt.numGlyphs,Pt);continue}const Bn=Ge(g.transform.cameraToCenterDistance,Mn[3]),qn=p.aj(Ce,Ne,bt),Hn=Y?qn/Bn:qn*Bn,_r=new p.P(bt.anchorX,bt.anchorY),yr=ke(_r,S,ge).point,Fr={projections:{},offsets:{}},ti=Mt(bt,Hn,!1,U,o,S,A,x.glyphOffsetArray,Lt,Pt,yr,_r,Fr,Nt,K,ge);vn=ti.useVertical,(ti.notEnoughRoom||vn||ti.needsFlipping&&Mt(bt,Hn,!0,U,o,S,A,x.glyphOffsetArray,Lt,Pt,yr,_r,Fr,Nt,K,ge).notEnoughRoom)&&Me(bt.numGlyphs,Pt)}M?x.text.dynamicLayoutVertexBuffer.updateData(Pt):x.icon.dynamicLayoutVertexBuffer.updateData(Pt)}function oe(x,o,g,M,S,A,Y,U,K,ge,Ce,Ne,ot){const Pt=U.glyphStartIndex+U.numGlyphs,Lt=U.lineStartIndex,jt=U.lineStartIndex+U.lineLength,Nt=o.getoffsetX(U.glyphStartIndex),vn=o.getoffsetX(Pt-1),Pn=ce(x*Nt,g,M,S,A,Y,U.segment,Lt,jt,K,ge,Ce,Ne,ot);if(!Pn)return null;const bt=ce(x*vn,g,M,S,A,Y,U.segment,Lt,jt,K,ge,Ce,Ne,ot);return bt?{first:Pn,last:bt}:null}function We(x,o,g,M){return x===p.ai.horizontal&&Math.abs(g.y-o.y)>Math.abs(g.x-o.x)*M?{useVertical:!0}:(x===p.ai.vertical?o.y<g.y:o.x>g.x)?{needsFlipping:!0}:null}function Mt(x,o,g,M,S,A,Y,U,K,ge,Ce,Ne,ot,Pt,Lt,jt){const Nt=o/24,vn=x.lineOffsetX*Nt,Pn=x.lineOffsetY*Nt;let bt;if(x.numGlyphs>1){const Mn=x.glyphStartIndex+x.numGlyphs,Bn=x.lineStartIndex,qn=x.lineStartIndex+x.lineLength,Hn=oe(Nt,U,vn,Pn,g,Ce,Ne,x,K,A,ot,Lt,jt);if(!Hn)return{notEnoughRoom:!0};const _r=ke(Hn.first.point,Y,jt).point,yr=ke(Hn.last.point,Y,jt).point;if(M&&!g){const Fr=We(x.writingMode,_r,yr,Pt);if(Fr)return Fr}bt=[Hn.first];for(let Fr=x.glyphStartIndex+1;Fr<Mn-1;Fr++)bt.push(ce(Nt*U.getoffsetX(Fr),vn,Pn,g,Ce,Ne,x.segment,Bn,qn,K,A,ot,Lt,jt));bt.push(Hn.last)}else{if(M&&!g){const Bn=ke(Ne,S,jt).point,qn=x.lineStartIndex+x.segment+1,Hn=new p.P(K.getx(qn),K.gety(qn)),_r=ke(Hn,S,jt),yr=_r.signedDistanceFromCamera>0?_r.point:St(Ne,Hn,Bn,1,S,jt),Fr=We(x.writingMode,Bn,yr,Pt);if(Fr)return Fr}const Mn=ce(Nt*U.getoffsetX(x.glyphStartIndex),vn,Pn,g,Ce,Ne,x.segment,x.lineStartIndex,x.lineStartIndex+x.lineLength,K,A,ot,Lt,jt);if(!Mn)return{notEnoughRoom:!0};bt=[Mn]}for(const Mn of bt)p.ak(ge,Mn.point,Mn.angle);return{}}function St(x,o,g,M,S,A){const Y=ke(x.add(x.sub(o)._unit()),S,A).point,U=g.sub(Y);return g.add(U._mult(M/U.mag()))}function kt(x,o){const{projectionCache:g,lineVertexArray:M,labelPlaneMatrix:S,tileAnchorPoint:A,distanceFromAnchor:Y,getElevation:U,previousVertex:K,direction:ge,absOffsetX:Ce}=o;if(g.projections[x])return g.projections[x];const Ne=new p.P(M.getx(x),M.gety(x)),ot=ke(Ne,S,U);if(ot.signedDistanceFromCamera>0)return g.projections[x]=ot.point,ot.point;const Pt=x-ge;return St(0===Y?A:new p.P(M.getx(Pt),M.gety(Pt)),Ne,K,Ce-Y+1,S,U)}function dn(x,o,g){return x._unit()._perp()._mult(o*g)}function me(x,o,g,M,S,A,Y,U){const{projectionCache:K,direction:ge}=U;if(K.offsets[x])return K.offsets[x];const Ce=g.add(o);if(x+ge<M||x+ge>=S)return K.offsets[x]=Ce,Ce;const Ne=kt(x+ge,U),ot=dn(Ne.sub(g),Y,ge),Pt=g.add(ot),Lt=Ne.add(ot);return K.offsets[x]=p.al(A,Ce,Pt,Lt)||Ce,K.offsets[x]}function ce(x,o,g,M,S,A,Y,U,K,ge,Ce,Ne,ot,Pt){const Lt=M?x-o:x+o;let jt=Lt>0?1:-1,Nt=0;M&&(jt*=-1,Nt=Math.PI),jt<0&&(Nt+=Math.PI);let vn,Pn,bt=jt>0?U+Y:U+Y+1,Mn=S,Bn=S,qn=0,Hn=0;const _r=Math.abs(Lt),yr=[];let Fr;for(;qn+Hn<=_r;){if(bt+=jt,bt<U||bt>=K)return null;qn+=Hn,Bn=Mn,Pn=vn;const Br={projectionCache:Ne,lineVertexArray:ge,labelPlaneMatrix:Ce,tileAnchorPoint:A,distanceFromAnchor:qn,getElevation:Pt,previousVertex:Bn,direction:jt,absOffsetX:_r};if(Mn=kt(bt,Br),0===g)yr.push(Bn),Fr=Mn.sub(Bn);else{let Ki;const Oi=Mn.sub(Bn);Ki=0===Oi.mag()?dn(kt(bt+jt,Br).sub(Mn),g,jt):dn(Oi,g,jt),Pn||(Pn=Bn.add(Ki)),vn=me(bt,Ki,Mn,U,K,Pn,g,Br),yr.push(Pn),Fr=vn.sub(Pn)}Hn=Fr.mag()}const ti=Fr._mult((_r-qn)/Hn)._add(Pn||Bn),Hs=Nt+Math.atan2(Mn.y-Bn.y,Mn.x-Bn.x);return yr.push(ti),{point:ti,angle:ot?Hs:0,path:yr}}const Se=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Me(x,o){for(let g=0;g<x;g++){const M=o.length;o.resize(M+4),o.float32.set(Se,3*M)}}function Je(x,o,g){const M=o[0],S=o[1];return x[0]=g[0]*M+g[4]*S+g[12],x[1]=g[1]*M+g[5]*S+g[13],x[3]=g[3]*M+g[7]*S+g[15],x}const gt=100;class Ft{constructor(o,g=new Nr(o.width+200,o.height+200,25),M=new Nr(o.width+200,o.height+200,25)){this.transform=o,this.grid=g,this.ignoredGrid=M,this.pitchfactor=Math.cos(o._pitch)*o.cameraToCenterDistance,this.screenRightBoundary=o.width+gt,this.screenBottomBoundary=o.height+gt,this.gridRightBoundary=o.width+200,this.gridBottomBoundary=o.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(o,g,M,S,A,Y){const U=this.projectAndGetPerspectiveRatio(S,o.anchorPointX,o.anchorPointY,Y),K=M*U.perspectiveRatio,ge=o.x1*K+U.point.x,Ce=o.y1*K+U.point.y,Ne=o.x2*K+U.point.x,ot=o.y2*K+U.point.y;return!this.isInsideGrid(ge,Ce,Ne,ot)||"always"!==g&&this.grid.hitTest(ge,Ce,Ne,ot,g,A)||U.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[ge,Ce,Ne,ot],offscreen:this.isOffscreen(ge,Ce,Ne,ot)}}placeCollisionCircles(o,g,M,S,A,Y,U,K,ge,Ce,Ne,ot,Pt,Lt){const jt=[],Nt=new p.P(g.anchorX,g.anchorY),vn=ke(Nt,Y,Lt),Pn=Ge(this.transform.cameraToCenterDistance,vn.signedDistanceFromCamera),bt=(Ce?A/Pn:A*Pn)/p.ap,Mn=ke(Nt,U,Lt).point,Bn=oe(bt,S,g.lineOffsetX*bt,g.lineOffsetY*bt,!1,Mn,Nt,g,M,U,{projections:{},offsets:{}},!1,Lt);let qn=!1,Hn=!1,_r=!0;if(Bn){const yr=.5*ot*Pn+Pt,Fr=new p.P(-100,-100),ti=new p.P(this.screenRightBoundary,this.screenBottomBoundary),Hs=new is,Br=Bn.first,Ki=Bn.last;let Oi=[];for(let Ss=Br.path.length-1;Ss>=1;Ss--)Oi.push(Br.path[Ss]);for(let Ss=1;Ss<Ki.path.length;Ss++)Oi.push(Ki.path[Ss]);const Ws=2.5*yr;if(K){const Ss=Oi.map(Ks=>ke(Ks,K,Lt));Oi=Ss.some(Ks=>Ks.signedDistanceFromCamera<=0)?[]:Ss.map(Ks=>Ks.point)}let Rs=[];if(Oi.length>0){const Ss=Oi[0].clone(),Ks=Oi[0].clone();for(let tl=1;tl<Oi.length;tl++)Ss.x=Math.min(Ss.x,Oi[tl].x),Ss.y=Math.min(Ss.y,Oi[tl].y),Ks.x=Math.max(Ks.x,Oi[tl].x),Ks.y=Math.max(Ks.y,Oi[tl].y);Rs=Ss.x>=Fr.x&&Ks.x<=ti.x&&Ss.y>=Fr.y&&Ks.y<=ti.y?[Oi]:Ks.x<Fr.x||Ss.x>ti.x||Ks.y<Fr.y||Ss.y>ti.y?[]:p.am([Oi],Fr.x,Fr.y,ti.x,ti.y)}for(const Ss of Rs){Hs.reset(Ss,.25*yr);let Ks=0;Ks=Hs.length<=.5*yr?1:Math.ceil(Hs.paddedLength/Ws)+1;for(let tl=0;tl<Ks;tl++){const co=tl/Math.max(Ks-1,1),Tl=Hs.lerp(co),Ra=Tl.x+gt,Mo=Tl.y+gt;jt.push(Ra,Mo,yr,0);const bu=Ra-yr,ao=Mo-yr,iu=Ra+yr,Au=Mo+yr;if(_r=_r&&this.isOffscreen(bu,ao,iu,Au),Hn=Hn||this.isInsideGrid(bu,ao,iu,Au),"always"!==o&&this.grid.hitTestCircle(Ra,Mo,yr,o,Ne)&&(qn=!0,!ge))return{circles:[],offscreen:!1,collisionDetected:qn}}}}return{circles:!ge&&qn||!Hn||Pn<this.perspectiveRatioCutoff?[]:jt,offscreen:_r,collisionDetected:qn}}queryRenderedSymbols(o){if(0===o.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const g=[];let M=1/0,S=1/0,A=-1/0,Y=-1/0;for(const Ce of o){const Ne=new p.P(Ce.x+gt,Ce.y+gt);M=Math.min(M,Ne.x),S=Math.min(S,Ne.y),A=Math.max(A,Ne.x),Y=Math.max(Y,Ne.y),g.push(Ne)}const U=this.grid.query(M,S,A,Y).concat(this.ignoredGrid.query(M,S,A,Y)),K={},ge={};for(const Ce of U){const Ne=Ce.key;if(void 0===K[Ne.bucketInstanceId]&&(K[Ne.bucketInstanceId]={}),K[Ne.bucketInstanceId][Ne.featureIndex])continue;const ot=[new p.P(Ce.x1,Ce.y1),new p.P(Ce.x2,Ce.y1),new p.P(Ce.x2,Ce.y2),new p.P(Ce.x1,Ce.y2)];p.an(g,ot)&&(K[Ne.bucketInstanceId][Ne.featureIndex]=!0,void 0===ge[Ne.bucketInstanceId]&&(ge[Ne.bucketInstanceId]=[]),ge[Ne.bucketInstanceId].push(Ne.featureIndex))}return ge}insertCollisionBox(o,g,M,S,A,Y){(M?this.ignoredGrid:this.grid).insert({bucketInstanceId:S,featureIndex:A,collisionGroupID:Y,overlapMode:g},o[0],o[1],o[2],o[3])}insertCollisionCircles(o,g,M,S,A,Y){const U=M?this.ignoredGrid:this.grid,K={bucketInstanceId:S,featureIndex:A,collisionGroupID:Y,overlapMode:g};for(let ge=0;ge<o.length;ge+=4)U.insertCircle(K,o[ge],o[ge+1],o[ge+2])}projectAndGetPerspectiveRatio(o,g,M,S){let A;return S?(A=[g,M,S(g,M),1],p.ag(A,A,o)):(A=[g,M,0,1],Je(A,A,o)),{point:new p.P((A[0]/A[3]+1)/2*this.transform.width+gt,(-A[1]/A[3]+1)/2*this.transform.height+gt),perspectiveRatio:.5+this.transform.cameraToCenterDistance/A[3]*.5}}isOffscreen(o,g,M,S){return M<gt||o>=this.screenRightBoundary||S<gt||g>this.screenBottomBoundary}isInsideGrid(o,g,M,S){return M>=0&&o<this.gridRightBoundary&&S>=0&&g<this.gridBottomBoundary}getViewportMatrix(){const o=p.ao([]);return p.$(o,o,[-100,-100,0]),o}}function Tt(x,o,g){return o*(p.N/(x.tileSize*Math.pow(2,g-x.tileID.overscaledZ)))}class xt{constructor(o,g,M,S){this.opacity=o?Math.max(0,Math.min(1,o.opacity+(o.placed?g:-g))):S&&M?1:0,this.placed=M}isHidden(){return 0===this.opacity&&!this.placed}}class Bt{constructor(o,g,M,S,A){this.text=new xt(o?o.text:null,g,M,A),this.icon=new xt(o?o.icon:null,g,S,A)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class hn{constructor(o,g,M){this.text=o,this.icon=g,this.skipFade=M}}class En{constructor(){this.invProjMatrix=p.Z(),this.viewportMatrix=p.Z(),this.circles=[]}}class In{constructor(o,g,M,S,A){this.bucketInstanceId=o,this.featureIndex=g,this.sourceLayerIndex=M,this.bucketIndex=S,this.tileID=A}}class sr{constructor(o){this.crossSourceCollisions=o,this.maxGroupID=0,this.collisionGroups={}}get(o){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[o]){const g=++this.maxGroupID;this.collisionGroups[o]={ID:g,predicate:M=>M.collisionGroupID===g}}return this.collisionGroups[o]}}function fr(x,o,g,M,S){const{horizontalAlign:A,verticalAlign:Y}=p.au(x);return new p.P(-(A-.5)*o+M[0]*S,-(Y-.5)*g+M[1]*S)}function Gn(x,o,g,M,S,A){const{x1:Y,x2:U,y1:K,y2:ge,anchorPointX:Ce,anchorPointY:Ne}=x,ot=new p.P(o,g);return M&&ot._rotate(S?A:-A),{x1:Y+ot.x,y1:K+ot.y,x2:U+ot.x,y2:ge+ot.y,anchorPointX:Ce,anchorPointY:Ne}}class lr{constructor(o,g,M,S,A){this.transform=o.clone(),this.terrain=g,this.collisionIndex=new Ft(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=M,this.retainedQueryData={},this.collisionGroups=new sr(S),this.collisionCircleArrays={},this.prevPlacement=A,A&&(A.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(o,g,M,S){const A=M.getBucket(g),Y=M.latestFeatureIndex;if(!A||!Y||g.id!==A.layerIds[0])return;const U=M.collisionBoxArray,K=A.layers[0].layout,ge=Math.pow(2,this.transform.zoom-M.tileID.overscaledZ),Ce=M.tileSize/p.N,Ne=this.transform.calculatePosMatrix(M.tileID.toUnwrapped()),ot="map"===K.get("text-pitch-alignment"),Pt="map"===K.get("text-rotation-alignment"),Lt=Tt(M,1,this.transform.zoom),jt=Dn(Ne,ot,Pt,this.transform,Lt);let Nt=null;if(ot){const Pn=nn(Ne,ot,Pt,this.transform,Lt);Nt=p.a1([],this.transform.labelPlaneMatrix,Pn)}this.retainedQueryData[A.bucketInstanceId]=new In(A.bucketInstanceId,Y,A.sourceLayerIndex,A.index,M.tileID);const vn={bucket:A,layout:K,posMatrix:Ne,textLabelPlaneMatrix:jt,labelToScreenMatrix:Nt,scale:ge,textPixelRatio:Ce,holdingForFade:M.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:p.ah(A.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(A.sourceID)};if(S)for(const Pn of A.sortKeyRanges){const{sortKey:bt,symbolInstanceStart:Mn,symbolInstanceEnd:Bn}=Pn;o.push({sortKey:bt,symbolInstanceStart:Mn,symbolInstanceEnd:Bn,parameters:vn})}else o.push({symbolInstanceStart:0,symbolInstanceEnd:A.symbolInstances.length,parameters:vn})}attemptAnchorPlacement(o,g,M,S,A,Y,U,K,ge,Ce,Ne,ot,Pt,Lt,jt,Nt){const vn=p.aq[o.textAnchor],Pn=[o.textOffset0,o.textOffset1],bt=fr(vn,M,S,Pn,A),Mn=this.collisionIndex.placeCollisionBox(Gn(g,bt.x,bt.y,Y,U,this.transform.angle),Ne,K,ge,Ce.predicate,Nt);if((!jt||0!==this.collisionIndex.placeCollisionBox(Gn(jt,bt.x,bt.y,Y,U,this.transform.angle),Ne,K,ge,Ce.predicate,Nt).box.length)&&Mn.box.length>0){let Bn;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ot.crossTileID]&&this.prevPlacement.placements[ot.crossTileID]&&this.prevPlacement.placements[ot.crossTileID].text&&(Bn=this.prevPlacement.variableOffsets[ot.crossTileID].anchor),0===ot.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ot.crossTileID]={textOffset:Pn,width:M,height:S,anchor:vn,textBoxScale:A,prevAnchor:Bn},this.markUsedJustification(Pt,vn,ot,Lt),Pt.allowVerticalPlacement&&(this.markUsedOrientation(Pt,Lt,ot),this.placedOrientations[ot.crossTileID]=Lt),{shift:bt,placedGlyphBoxes:Mn}}}placeLayerBucketPart(o,g,M){const{bucket:S,layout:A,posMatrix:Y,textLabelPlaneMatrix:U,labelToScreenMatrix:K,textPixelRatio:ge,holdingForFade:Ce,collisionBoxArray:Ne,partiallyEvaluatedTextSize:ot,collisionGroup:Pt}=o.parameters,Lt=A.get("text-optional"),jt=A.get("icon-optional"),Nt=p.ar(A,"text-overlap","text-allow-overlap"),vn="always"===Nt,Pn=p.ar(A,"icon-overlap","icon-allow-overlap"),bt="always"===Pn,Mn="map"===A.get("text-rotation-alignment"),Bn="map"===A.get("text-pitch-alignment"),qn="none"!==A.get("icon-text-fit"),Hn="viewport-y"===A.get("symbol-z-order"),_r=vn&&(bt||!S.hasIconData()||jt),yr=bt&&(vn||!S.hasTextData()||Lt);!S.collisionArrays&&Ne&&S.deserializeCollisionBoxes(Ne);const Fr=this.retainedQueryData[S.bucketInstanceId].tileID,ti=this.terrain?(Br,Ki)=>this.terrain.getElevation(Fr,Br,Ki):null,Hs=(Br,Ki)=>{var Oi,Ws;if(g[Br.crossTileID])return;if(Ce)return void(this.placements[Br.crossTileID]=new hn(!1,!1,!1));let Rs=!1,Ss=!1,Ks=!0,tl=null,co={box:null,offscreen:null},Tl={box:null,offscreen:null},Ra=null,Mo=null,bu=null,ao=0,iu=0,Au=0;Ki.textFeatureIndex?ao=Ki.textFeatureIndex:Br.useRuntimeCollisionCircles&&(ao=Br.featureIndex),Ki.verticalTextFeatureIndex&&(iu=Ki.verticalTextFeatureIndex);const $u=Ki.textBox;if($u){const Bl=Ya=>{let Cl=p.ai.horizontal;if(S.allowVerticalPlacement&&!Ya&&this.prevPlacement){const Ga=this.prevPlacement.placedOrientations[Br.crossTileID];Ga&&(this.placedOrientations[Br.crossTileID]=Ga,Cl=Ga,this.markUsedOrientation(S,Cl,Br))}return Cl},su=(Ya,Cl)=>{if(S.allowVerticalPlacement&&Br.numVerticalGlyphVertices>0&&Ki.verticalTextBox){for(const Ga of S.writingModes)if(Ga===p.ai.vertical?(co=Cl(),Tl=co):co=Ya(),co&&co.box&&co.box.length)break}else co=Ya()},Pu=Br.textAnchorOffsetStartIndex,nl=Br.textAnchorOffsetEndIndex;if(nl===Pu){const Ya=(Cl,Ga)=>{const Ma=this.collisionIndex.placeCollisionBox(Cl,Nt,ge,Y,Pt.predicate,ti);return Ma&&Ma.box&&Ma.box.length&&(this.markUsedOrientation(S,Ga,Br),this.placedOrientations[Br.crossTileID]=Ga),Ma};su(()=>Ya($u,p.ai.horizontal),()=>{const Cl=Ki.verticalTextBox;return S.allowVerticalPlacement&&Br.numVerticalGlyphVertices>0&&Cl?Ya(Cl,p.ai.vertical):{box:null,offscreen:null}}),Bl(co&&co.box&&co.box.length)}else{let Ya=p.aq[null===(Ws=null===(Oi=this.prevPlacement)||void 0===Oi?void 0:Oi.variableOffsets[Br.crossTileID])||void 0===Ws?void 0:Ws.anchor];const Cl=(Ma,od,Gc)=>{const qh=Ma.x2-Ma.x1,ou=Ma.y2-Ma.y1,yf=Br.textBoxScale,vf=qn&&"never"===Pn?od:null;let Wc={box:[],offscreen:!1},wd="never"===Nt?1:2,Dl="never";Ya&&wd++;for(let Wl=0;Wl<wd;Wl++){for(let Uu=Pu;Uu<nl;Uu++){const wf=S.textAnchorOffsets.get(Uu);if(Ya&&wf.textAnchor!==Ya)continue;const ad=this.attemptAnchorPlacement(wf,Ma,qh,ou,yf,Mn,Bn,ge,Y,Pt,Dl,Br,S,Gc,vf,ti);if(ad&&(Wc=ad.placedGlyphBoxes,Wc&&Wc.box&&Wc.box.length))return Rs=!0,tl=ad.shift,Wc}Ya?Ya=null:Dl=Nt}return Wc};su(()=>Cl($u,Ki.iconBox,p.ai.horizontal),()=>{const Ma=Ki.verticalTextBox;return S.allowVerticalPlacement&&!(co&&co.box&&co.box.length)&&Br.numVerticalGlyphVertices>0&&Ma?Cl(Ma,Ki.verticalIconBox,p.ai.vertical):{box:null,offscreen:null}}),co&&(Rs=co.box,Ks=co.offscreen);const Ga=Bl(co&&co.box);if(!Rs&&this.prevPlacement){const Ma=this.prevPlacement.variableOffsets[Br.crossTileID];Ma&&(this.variableOffsets[Br.crossTileID]=Ma,this.markUsedJustification(S,Ma.anchor,Br,Ga))}}}if(Ra=co,Rs=Ra&&Ra.box&&Ra.box.length>0,Ks=Ra&&Ra.offscreen,Br.useRuntimeCollisionCircles){const Bl=S.text.placedSymbolArray.get(Br.centerJustifiedTextSymbolIndex),su=p.aj(S.textSizeData,ot,Bl),Pu=A.get("text-padding");Mo=this.collisionIndex.placeCollisionCircles(Nt,Bl,S.lineVertexArray,S.glyphOffsetArray,su,Y,U,K,M,Bn,Pt.predicate,Br.collisionCircleDiameter,Pu,ti),Mo.circles.length&&Mo.collisionDetected&&!M&&p.w("Collisions detected, but collision boxes are not shown"),Rs=vn||Mo.circles.length>0&&!Mo.collisionDetected,Ks=Ks&&Mo.offscreen}if(Ki.iconFeatureIndex&&(Au=Ki.iconFeatureIndex),Ki.iconBox){const Bl=su=>{const Pu=qn&&tl?Gn(su,tl.x,tl.y,Mn,Bn,this.transform.angle):su;return this.collisionIndex.placeCollisionBox(Pu,Pn,ge,Y,Pt.predicate,ti)};Tl&&Tl.box&&Tl.box.length&&Ki.verticalIconBox?(bu=Bl(Ki.verticalIconBox),Ss=bu.box.length>0):(bu=Bl(Ki.iconBox),Ss=bu.box.length>0),Ks=Ks&&bu.offscreen}const Dd=Lt||0===Br.numHorizontalGlyphVertices&&0===Br.numVerticalGlyphVertices,xh=jt||0===Br.numIconVertices;if(Dd||xh?xh?Dd||(Ss=Ss&&Rs):Rs=Ss&&Rs:Ss=Rs=Ss&&Rs,Rs&&Ra&&Ra.box&&this.collisionIndex.insertCollisionBox(Ra.box,Nt,A.get("text-ignore-placement"),S.bucketInstanceId,Tl&&Tl.box&&iu?iu:ao,Pt.ID),Ss&&bu&&this.collisionIndex.insertCollisionBox(bu.box,Pn,A.get("icon-ignore-placement"),S.bucketInstanceId,Au,Pt.ID),Mo&&(Rs&&this.collisionIndex.insertCollisionCircles(Mo.circles,Nt,A.get("text-ignore-placement"),S.bucketInstanceId,ao,Pt.ID),M)){const Bl=S.bucketInstanceId;let su=this.collisionCircleArrays[Bl];void 0===su&&(su=this.collisionCircleArrays[Bl]=new En);for(let Pu=0;Pu<Mo.circles.length;Pu+=4)su.circles.push(Mo.circles[Pu+0]),su.circles.push(Mo.circles[Pu+1]),su.circles.push(Mo.circles[Pu+2]),su.circles.push(Mo.collisionDetected?1:0)}if(0===Br.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===S.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Br.crossTileID]=new hn(Rs||_r,Ss||yr,Ks||S.justReloaded),g[Br.crossTileID]=!0};if(Hn){if(0!==o.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const Br=S.getSortedSymbolIndexes(this.transform.angle);for(let Ki=Br.length-1;Ki>=0;--Ki){const Oi=Br[Ki];Hs(S.symbolInstances.get(Oi),S.collisionArrays[Oi])}}else for(let Br=o.symbolInstanceStart;Br<o.symbolInstanceEnd;Br++)Hs(S.symbolInstances.get(Br),S.collisionArrays[Br]);if(M&&S.bucketInstanceId in this.collisionCircleArrays){const Br=this.collisionCircleArrays[S.bucketInstanceId];p.as(Br.invProjMatrix,Y),Br.viewportMatrix=this.collisionIndex.getViewportMatrix()}S.justReloaded=!1}markUsedJustification(o,g,M,S){let A;A=S===p.ai.vertical?M.verticalPlacedTextSymbolIndex:{left:M.leftJustifiedTextSymbolIndex,center:M.centerJustifiedTextSymbolIndex,right:M.rightJustifiedTextSymbolIndex}[p.at(g)];const Y=[M.leftJustifiedTextSymbolIndex,M.centerJustifiedTextSymbolIndex,M.rightJustifiedTextSymbolIndex,M.verticalPlacedTextSymbolIndex];for(const U of Y)U>=0&&(o.text.placedSymbolArray.get(U).crossTileID=A>=0&&U!==A?0:M.crossTileID)}markUsedOrientation(o,g,M){const S=g===p.ai.horizontal||g===p.ai.horizontalOnly?g:0,A=g===p.ai.vertical?g:0,Y=[M.leftJustifiedTextSymbolIndex,M.centerJustifiedTextSymbolIndex,M.rightJustifiedTextSymbolIndex];for(const U of Y)o.text.placedSymbolArray.get(U).placedOrientation=S;M.verticalPlacedTextSymbolIndex&&(o.text.placedSymbolArray.get(M.verticalPlacedTextSymbolIndex).placedOrientation=A)}commit(o){this.commitTime=o,this.zoomAtLastRecencyCheck=this.transform.zoom;const g=this.prevPlacement;let M=!1;this.prevZoomAdjustment=g?g.zoomAdjustment(this.transform.zoom):0;const S=g?g.symbolFadeChange(o):1,A=g?g.opacities:{},Y=g?g.variableOffsets:{},U=g?g.placedOrientations:{};for(const K in this.placements){const ge=this.placements[K],Ce=A[K];Ce?(this.opacities[K]=new Bt(Ce,S,ge.text,ge.icon),M=M||ge.text!==Ce.text.placed||ge.icon!==Ce.icon.placed):(this.opacities[K]=new Bt(null,S,ge.text,ge.icon,ge.skipFade),M=M||ge.text||ge.icon)}for(const K in A){const ge=A[K];if(!this.opacities[K]){const Ce=new Bt(ge,S,!1,!1);Ce.isHidden()||(this.opacities[K]=Ce,M=M||ge.text.placed||ge.icon.placed)}}for(const K in Y)this.variableOffsets[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.variableOffsets[K]=Y[K]);for(const K in U)this.placedOrientations[K]||!this.opacities[K]||this.opacities[K].isHidden()||(this.placedOrientations[K]=U[K]);if(g&&void 0===g.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");M?this.lastPlacementChangeTime=o:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=g?g.lastPlacementChangeTime:o)}updateLayerOpacities(o,g){const M={};for(const S of g){const A=S.getBucket(o);A&&S.latestFeatureIndex&&o.id===A.layerIds[0]&&this.updateBucketOpacities(A,M,S.collisionBoxArray)}}updateBucketOpacities(o,g,M){o.hasTextData()&&(o.text.opacityVertexArray.clear(),o.text.hasVisibleVertices=!1),o.hasIconData()&&(o.icon.opacityVertexArray.clear(),o.icon.hasVisibleVertices=!1),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexArray.clear(),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexArray.clear();const S=o.layers[0],A=S.layout,Y=new Bt(null,0,!1,!1,!0),U=A.get("text-allow-overlap"),K=A.get("icon-allow-overlap"),ge=S._unevaluatedLayout.hasValue("text-variable-anchor")||S._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ce="map"===A.get("text-rotation-alignment"),Ne="map"===A.get("text-pitch-alignment"),ot="none"!==A.get("icon-text-fit"),Pt=new Bt(null,0,U&&(K||!o.hasIconData()||A.get("icon-optional")),K&&(U||!o.hasTextData()||A.get("text-optional")),!0);!o.collisionArrays&&M&&(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData())&&o.deserializeCollisionBoxes(M);const Lt=(jt,Nt,vn)=>{for(let Pn=0;Pn<Nt/4;Pn++)jt.opacityVertexArray.emplaceBack(vn);jt.hasVisibleVertices=jt.hasVisibleVertices||vn!==Zi};for(let jt=0;jt<o.symbolInstances.length;jt++){const Nt=o.symbolInstances.get(jt),{numHorizontalGlyphVertices:vn,numVerticalGlyphVertices:Pn,crossTileID:bt}=Nt;let Mn=this.opacities[bt];g[bt]?Mn=Y:Mn||(Mn=Pt,this.opacities[bt]=Mn),g[bt]=!0;const Bn=Nt.numIconVertices>0,qn=this.placedOrientations[Nt.crossTileID],Hn=qn===p.ai.vertical,_r=qn===p.ai.horizontal||qn===p.ai.horizontalOnly;if(vn>0||Pn>0){const yr=Yi(Mn.text);Lt(o.text,vn,Hn?Zi:yr),Lt(o.text,Pn,_r?Zi:yr);const Fr=Mn.text.isHidden();[Nt.rightJustifiedTextSymbolIndex,Nt.centerJustifiedTextSymbolIndex,Nt.leftJustifiedTextSymbolIndex].forEach(Br=>{Br>=0&&(o.text.placedSymbolArray.get(Br).hidden=Fr||Hn?1:0)}),Nt.verticalPlacedTextSymbolIndex>=0&&(o.text.placedSymbolArray.get(Nt.verticalPlacedTextSymbolIndex).hidden=Fr||_r?1:0);const ti=this.variableOffsets[Nt.crossTileID];ti&&this.markUsedJustification(o,ti.anchor,Nt,qn);const Hs=this.placedOrientations[Nt.crossTileID];Hs&&(this.markUsedJustification(o,"left",Nt,Hs),this.markUsedOrientation(o,Hs,Nt))}if(Bn){const yr=Yi(Mn.icon),Fr=!(ot&&Nt.verticalPlacedIconSymbolIndex&&Hn);Nt.placedIconSymbolIndex>=0&&(Lt(o.icon,Nt.numIconVertices,Fr?yr:Zi),o.icon.placedSymbolArray.get(Nt.placedIconSymbolIndex).hidden=Mn.icon.isHidden()),Nt.verticalPlacedIconSymbolIndex>=0&&(Lt(o.icon,Nt.numVerticalIconVertices,Fr?Zi:yr),o.icon.placedSymbolArray.get(Nt.verticalPlacedIconSymbolIndex).hidden=Mn.icon.isHidden())}if(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData()){const yr=o.collisionArrays[jt];if(yr){let Fr=new p.P(0,0);if(yr.textBox||yr.verticalTextBox){let Hs=!0;if(ge){const Br=this.variableOffsets[bt];Br?(Fr=fr(Br.anchor,Br.width,Br.height,Br.textOffset,Br.textBoxScale),Ce&&Fr._rotate(Ne?this.transform.angle:-this.transform.angle)):Hs=!1}yr.textBox&&hr(o.textCollisionBox.collisionVertexArray,Mn.text.placed,!Hs||Hn,Fr.x,Fr.y),yr.verticalTextBox&&hr(o.textCollisionBox.collisionVertexArray,Mn.text.placed,!Hs||_r,Fr.x,Fr.y)}const ti=!(_r||!yr.verticalIconBox);yr.iconBox&&hr(o.iconCollisionBox.collisionVertexArray,Mn.icon.placed,ti,ot?Fr.x:0,ot?Fr.y:0),yr.verticalIconBox&&hr(o.iconCollisionBox.collisionVertexArray,Mn.icon.placed,!ti,ot?Fr.x:0,ot?Fr.y:0)}}}if(o.sortFeatures(this.transform.angle),this.retainedQueryData[o.bucketInstanceId]&&(this.retainedQueryData[o.bucketInstanceId].featureSortOrder=o.featureSortOrder),o.hasTextData()&&o.text.opacityVertexBuffer&&o.text.opacityVertexBuffer.updateData(o.text.opacityVertexArray),o.hasIconData()&&o.icon.opacityVertexBuffer&&o.icon.opacityVertexBuffer.updateData(o.icon.opacityVertexArray),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexBuffer&&o.iconCollisionBox.collisionVertexBuffer.updateData(o.iconCollisionBox.collisionVertexArray),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexBuffer&&o.textCollisionBox.collisionVertexBuffer.updateData(o.textCollisionBox.collisionVertexArray),o.text.opacityVertexArray.length!==o.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${o.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${o.text.layoutVertexArray.length}) / 4`);if(o.icon.opacityVertexArray.length!==o.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${o.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${o.icon.layoutVertexArray.length}) / 4`);if(o.bucketInstanceId in this.collisionCircleArrays){const jt=this.collisionCircleArrays[o.bucketInstanceId];o.placementInvProjMatrix=jt.invProjMatrix,o.placementViewportMatrix=jt.viewportMatrix,o.collisionCircleArray=jt.circles,delete this.collisionCircleArrays[o.bucketInstanceId]}}symbolFadeChange(o){return 0===this.fadeDuration?1:(o-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(o){return Math.max(0,(this.transform.zoom-o)/1.5)}hasTransitions(o){return this.stale||o-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(o,g){const M=this.zoomAtLastRecencyCheck===g?1-this.zoomAdjustment(g):1;return this.zoomAtLastRecencyCheck=g,this.commitTime+this.fadeDuration*M>o}setStale(){this.stale=!0}}function hr(x,o,g,M,S){x.emplaceBack(o?1:0,g?1:0,M||0,S||0),x.emplaceBack(o?1:0,g?1:0,M||0,S||0),x.emplaceBack(o?1:0,g?1:0,M||0,S||0),x.emplaceBack(o?1:0,g?1:0,M||0,S||0)}const Wr=Math.pow(2,25),Ir=Math.pow(2,24),wi=Math.pow(2,17),li=Math.pow(2,16),Js=Math.pow(2,9),mi=Math.pow(2,8),Cs=Math.pow(2,1);function Yi(x){if(0===x.opacity&&!x.placed)return 0;if(1===x.opacity&&x.placed)return 4294967295;const o=x.placed?1:0,g=Math.floor(127*x.opacity);return g*Wr+o*Ir+g*wi+o*li+g*Js+o*mi+g*Cs+o}const Zi=0;class za{constructor(o){this._sortAcrossTiles="viewport-y"!==o.layout.get("symbol-z-order")&&!o.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(o,g,M,S,A){const Y=this._bucketParts;for(;this._currentTileIndex<o.length;)if(g.getBucketParts(Y,S,o[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,A())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Y.sort((U,K)=>U.sortKey-K.sortKey));this._currentPartIndex<Y.length;)if(g.placeLayerBucketPart(Y[this._currentPartIndex],this._seenCrossTileIDs,M),this._currentPartIndex++,A())return!0;return!1}}class no{constructor(o,g,M,S,A,Y,U,K){this.placement=new lr(o,g,Y,U,K),this._currentPlacementIndex=M.length-1,this._forceFullPlacement=S,this._showCollisionBoxes=A,this._done=!1}isDone(){return this._done}continuePlacement(o,g,M){const S=p.h.now(),A=()=>!this._forceFullPlacement&&p.h.now()-S>2;for(;this._currentPlacementIndex>=0;){const Y=g[o[this._currentPlacementIndex]],U=this.placement.collisionIndex.transform.zoom;if("symbol"===Y.type&&(!Y.minzoom||Y.minzoom<=U)&&(!Y.maxzoom||Y.maxzoom>U)){if(this._inProgressLayer||(this._inProgressLayer=new za(Y)),this._inProgressLayer.continuePlacement(M[Y.source],this.placement,this._showCollisionBoxes,Y,A))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(o){return this.placement.commit(o),this.placement}}const Oo=512/p.N/2;class Ns{constructor(o,g,M){this.tileID=o,this.bucketInstanceId=M,this._symbolsByKey={};const S=new Map;for(let A=0;A<g.length;A++){const Y=g.get(A),U=Y.key,K=S.get(U);K?K.push(Y):S.set(U,[Y])}for(const[A,Y]of S){const U={positions:Y.map(K=>({x:Math.floor(K.anchorX*Oo),y:Math.floor(K.anchorY*Oo)})),crossTileIDs:Y.map(K=>K.crossTileID)};if(U.positions.length>128){const K=new p.av(U.positions.length,16,Uint16Array);for(const{x:ge,y:Ce}of U.positions)K.add(ge,Ce);K.finish(),delete U.positions,U.index=K}this._symbolsByKey[A]=U}}getScaledCoordinates(o,g){const{x:M,y:S,z:A}=this.tileID.canonical,{x:Y,y:U,z:K}=g.canonical,ge=Oo/Math.pow(2,K-A),Ce=(U*p.N+o.anchorY)*ge,Ne=S*p.N*Oo;return{x:Math.floor((Y*p.N+o.anchorX)*ge-M*p.N*Oo),y:Math.floor(Ce-Ne)}}findMatches(o,g,M){const S=this.tileID.canonical.z<g.canonical.z?1:Math.pow(2,this.tileID.canonical.z-g.canonical.z);for(let A=0;A<o.length;A++){const Y=o.get(A);if(Y.crossTileID)continue;const U=this._symbolsByKey[Y.key];if(!U)continue;const K=this.getScaledCoordinates(Y,g);if(U.index){const ge=U.index.range(K.x-S,K.y-S,K.x+S,K.y+S).sort();for(const Ce of ge){const Ne=U.crossTileIDs[Ce];if(!M[Ne]){M[Ne]=!0,Y.crossTileID=Ne;break}}}else if(U.positions)for(let ge=0;ge<U.positions.length;ge++){const Ce=U.positions[ge],Ne=U.crossTileIDs[ge];if(Math.abs(Ce.x-K.x)<=S&&Math.abs(Ce.y-K.y)<=S&&!M[Ne]){M[Ne]=!0,Y.crossTileID=Ne;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:o})=>o)}}class Wi{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Xi{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(o){const g=Math.round((o-this.lng)/360);if(0!==g)for(const M in this.indexes){const S=this.indexes[M],A={};for(const Y in S){const U=S[Y];U.tileID=U.tileID.unwrapTo(U.tileID.wrap+g),A[U.tileID.key]=U}this.indexes[M]=A}this.lng=o}addBucket(o,g,M){if(this.indexes[o.overscaledZ]&&this.indexes[o.overscaledZ][o.key]){if(this.indexes[o.overscaledZ][o.key].bucketInstanceId===g.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(o.overscaledZ,this.indexes[o.overscaledZ][o.key])}for(let A=0;A<g.symbolInstances.length;A++)g.symbolInstances.get(A).crossTileID=0;this.usedCrossTileIDs[o.overscaledZ]||(this.usedCrossTileIDs[o.overscaledZ]={});const S=this.usedCrossTileIDs[o.overscaledZ];for(const A in this.indexes){const Y=this.indexes[A];if(Number(A)>o.overscaledZ)for(const U in Y){const K=Y[U];K.tileID.isChildOf(o)&&K.findMatches(g.symbolInstances,o,S)}else{const U=Y[o.scaledTo(Number(A)).key];U&&U.findMatches(g.symbolInstances,o,S)}}for(let A=0;A<g.symbolInstances.length;A++){const Y=g.symbolInstances.get(A);Y.crossTileID||(Y.crossTileID=M.generate(),S[Y.crossTileID]=!0)}return void 0===this.indexes[o.overscaledZ]&&(this.indexes[o.overscaledZ]={}),this.indexes[o.overscaledZ][o.key]=new Ns(o,g.symbolInstances,g.bucketInstanceId),!0}removeBucketCrossTileIDs(o,g){for(const M of g.getCrossTileIDsLists())for(const S of M)delete this.usedCrossTileIDs[o][S]}removeStaleBuckets(o){let g=!1;for(const M in this.indexes){const S=this.indexes[M];for(const A in S)o[S[A].bucketInstanceId]||(this.removeBucketCrossTileIDs(M,S[A]),delete S[A],g=!0)}return g}}class jn{constructor(){this.layerIndexes={},this.crossTileIDs=new Wi,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(o,g,M){let S=this.layerIndexes[o.id];void 0===S&&(S=this.layerIndexes[o.id]=new Xi);let A=!1;const Y={};S.handleWrapJump(M);for(const U of g){const K=U.getBucket(o);K&&o.id===K.layerIds[0]&&(K.bucketInstanceId||(K.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(U.tileID,K,this.crossTileIDs)&&(A=!0),Y[K.bucketInstanceId]=!0)}return S.removeStaleBuckets(Y)&&(A=!0),A}pruneUnusedLayers(o){const g={};o.forEach(M=>{g[M]=!0});for(const M in this.layerIndexes)g[M]||delete this.layerIndexes[M]}}const vr=(x,o)=>p.x(x,o&&o.filter(g=>"source.canvas"!==g.identifier)),Qr=p.F(p.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Xs=p.F(p.ax,["setCenter","setZoom","setBearing","setPitch"]),hs=p.aw();class ps extends p.E{constructor(o,g={}){super(),this.map=o,this.dispatcher=new Xe(Zn(),this,o._getMapId()),this.imageManager=new st,this.imageManager.setEventedParent(this),this.glyphManager=new ht(o._requestManager,g.localIdeographFontFamily),this.lineAtlas=new et(256,512),this.crossTileSymbolIndex=new jn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new p.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",p.az());const M=this;this._rtlTextPluginCallback=ps.registerForPluginStateChange(S=>{M.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:S.pluginStatus,pluginURL:S.pluginURL},(A,Y)=>{if(p.aA(A),Y&&Y.every(U=>U))for(const U in M.sourceCaches){const K=M.sourceCaches[U].getSource().type;"vector"!==K&&"geojson"!==K||M.sourceCaches[U].reload()}})}),this.on("data",S=>{if("source"!==S.dataType||"metadata"!==S.sourceDataType)return;const A=this.sourceCaches[S.sourceId];if(!A)return;const Y=A.getSource();if(Y&&Y.vectorLayerIds)for(const U in this._layers){const K=this._layers[U];K.source===Y.id&&this._validateLayer(K)}})}loadURL(o,g={},M){this.fire(new p.k("dataloading",{dataType:"style"})),g.validate="boolean"!=typeof g.validate||g.validate;const S=this.map._requestManager.transformRequest(o,it.Style);this._request=p.f(S,(A,Y)=>{this._request=null,A?this.fire(new p.j(A)):Y&&this._load(Y,g,M)})}loadJSON(o,g={},M){this.fire(new p.k("dataloading",{dataType:"style"})),this._request=p.h.frame(()=>{this._request=null,g.validate=!1!==g.validate,this._load(o,g,M)})}loadEmpty(){this.fire(new p.k("dataloading",{dataType:"style"})),this._load(hs,{validate:!1})}_load(o,g,M){var S;const A=g.transformStyle?g.transformStyle(M,o):o;if(!g.validate||!vr(this,p.y(A))){this._loaded=!0,this.stylesheet=A;for(const Y in A.sources)this.addSource(Y,A.sources[Y],{validate:!1});A.sprite?this._loadSprite(A.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(A.glyphs),this._createLayers(),this.light=new _t(this.stylesheet.light),this.map.setTerrain(null!==(S=this.stylesheet.terrain)&&void 0!==S?S:null),this.fire(new p.k("data",{dataType:"style"})),this.fire(new p.k("style.load"))}}_createLayers(){const o=p.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",o),this._order=o.map(g=>g.id),this._layers={},this._serializedLayers=null;for(const g of o){const M=p.aC(g);M.setEventedParent(this,{layer:{id:g.id}}),this._layers[g.id]=M}}_loadSprite(o,g=!1,M=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(S,A,Y,U){const K=ee(S),ge=K.length,Ce=Y>1?"@2x":"",Ne={},ot={},Pt={};for(const{id:Lt,url:jt}of K){const Nt=A.transformRequest(A.normalizeSpriteURL(jt,Ce,".json"),it.SpriteJSON),vn=`${Lt}_${Nt.url}`;Ne[vn]=p.f(Nt,(Mn,Bn)=>{delete Ne[vn],ot[Lt]=Bn,ae(U,ot,Pt,Mn,ge)});const Pn=A.transformRequest(A.normalizeSpriteURL(jt,Ce,".png"),it.SpriteImage),bt=`${Lt}_${Pn.url}`;Ne[bt]=Ie.getImage(Pn,(Mn,Bn)=>{delete Ne[bt],Pt[Lt]=Bn,ae(U,ot,Pt,Mn,ge)})}return{cancel(){for(const Lt of Object.values(Ne))Lt.cancel()}}}(o,this.map._requestManager,this.map.getPixelRatio(),(S,A)=>{if(this._spriteRequest=null,S)this.fire(new p.j(S));else if(A)for(const Y in A){this._spritesImagesIds[Y]=[];const U=this._spritesImagesIds[Y]?this._spritesImagesIds[Y].filter(K=>!(K in A)):[];for(const K of U)this.imageManager.removeImage(K),this._changedImages[K]=!0;for(const K in A[Y]){const ge="default"===Y?K:`${Y}:${K}`;this._spritesImagesIds[Y].push(ge),ge in this.imageManager.images?this.imageManager.updateImage(ge,A[Y][K],!1):this.imageManager.addImage(ge,A[Y][K]),g&&(this._changedImages[ge]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),g&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new p.k("data",{dataType:"style"})),M&&M(S)})}_unloadSprite(){for(const o of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(o),this._changedImages[o]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new p.k("data",{dataType:"style"}))}_validateLayer(o){const g=this.sourceCaches[o.source];if(!g)return;const M=o.sourceLayer;if(!M)return;const S=g.getSource();("geojson"===S.type||S.vectorLayerIds&&-1===S.vectorLayerIds.indexOf(M))&&this.fire(new p.j(new Error(`Source layer "${M}" does not exist on source "${S.id}" as specified by style layer "${o.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const o in this.sourceCaches)if(!this.sourceCaches[o].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(o){const g=this._serializedAllLayers();if(!o||0===o.length)return Object.values(g);const M=[];for(const S of o)g[S]&&M.push(g[S]);return M}_serializedAllLayers(){let o=this._serializedLayers;if(o)return o;o=this._serializedLayers={};const g=Object.keys(this._layers);for(const M of g){const S=this._layers[M];"custom"!==S.type&&(o[M]=S.serialize())}return o}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const o in this.sourceCaches)if(this.sourceCaches[o].hasTransition())return!0;for(const o in this._layers)if(this._layers[o].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(o){if(!this._loaded)return;const g=this._changed;if(this._changed){const S=Object.keys(this._updatedLayers),A=Object.keys(this._removedLayers);(S.length||A.length)&&this._updateWorkerLayers(S,A);for(const Y in this._updatedSources){const U=this._updatedSources[Y];if("reload"===U)this._reloadSource(Y);else{if("clear"!==U)throw new Error(`Invalid action ${U}`);this._clearSource(Y)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const Y in this._updatedPaintProps)this._layers[Y].updateTransitions(o);this.light.updateTransitions(o),this._resetUpdates()}const M={};for(const S in this.sourceCaches){const A=this.sourceCaches[S];M[S]=A.used,A.used=!1}for(const S of this._order){const A=this._layers[S];A.recalculate(o,this._availableImages),!A.isHidden(o.zoom)&&A.source&&(this.sourceCaches[A.source].used=!0)}for(const S in M){const A=this.sourceCaches[S];M[S]!==A.used&&A.fire(new p.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:S}))}this.light.recalculate(o),this.z=o.zoom,g&&this.fire(new p.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const o=Object.keys(this._changedImages);if(o.length){for(const g in this.sourceCaches)this.sourceCaches[g].reloadTilesForDependencies(["icons","patterns"],o);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const o in this.sourceCaches)this.sourceCaches[o].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(o,g){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(o),removedIds:g})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(o,g={}){this._checkLoaded();const M=this.serialize();if(o=g.transformStyle?g.transformStyle(M,o):o,vr(this,p.y(o)))return!1;(o=p.aD(o)).layers=p.aB(o.layers);const S=p.aE(M,o).filter(Y=>!(Y.command in Xs));if(0===S.length)return!1;const A=S.filter(Y=>!(Y.command in Qr));if(A.length>0)throw new Error(`Unimplemented: ${A.map(Y=>Y.command).join(", ")}.`);for(const Y of S)"setTransition"!==Y.command&&this[Y.command].apply(this,Y.args);return this.stylesheet=o,this._serializedLayers=null,!0}addImage(o,g){if(this.getImage(o))return this.fire(new p.j(new Error(`An image named "${o}" already exists.`)));this.imageManager.addImage(o,g),this._afterImageUpdated(o)}updateImage(o,g){this.imageManager.updateImage(o,g)}getImage(o){return this.imageManager.getImage(o)}removeImage(o){if(!this.getImage(o))return this.fire(new p.j(new Error(`An image named "${o}" does not exist.`)));this.imageManager.removeImage(o),this._afterImageUpdated(o)}_afterImageUpdated(o){this._availableImages=this.imageManager.listImages(),this._changedImages[o]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new p.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(o,g,M={}){if(this._checkLoaded(),void 0!==this.sourceCaches[o])throw new Error(`Source "${o}" already exists.`);if(!g.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(g).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(g.type)>=0&&this._validate(p.y.source,`sources.${o}`,g,null,M))return;this.map&&this.map._collectResourceTiming&&(g.collectResourceTiming=!0);const S=this.sourceCaches[o]=new Wn(o,g,this.dispatcher);S.style=this,S.setEventedParent(this,()=>({isSourceLoaded:S.loaded(),source:S.serialize(),sourceId:o})),S.onAdd(this.map),this._changed=!0}removeSource(o){if(this._checkLoaded(),void 0===this.sourceCaches[o])throw new Error("There is no source with this ID");for(const M in this._layers)if(this._layers[M].source===o)return this.fire(new p.j(new Error(`Source "${o}" cannot be removed while layer "${M}" is using it.`)));const g=this.sourceCaches[o];delete this.sourceCaches[o],delete this._updatedSources[o],g.fire(new p.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:o})),g.setEventedParent(null),g.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(o,g){if(this._checkLoaded(),void 0===this.sourceCaches[o])throw new Error(`There is no source with this ID=${o}`);const M=this.sourceCaches[o].getSource();if("geojson"!==M.type)throw new Error(`geojsonSource.type is ${M.type}, which is !== 'geojson`);M.setData(g),this._changed=!0}getSource(o){return this.sourceCaches[o]&&this.sourceCaches[o].getSource()}addLayer(o,g,M={}){this._checkLoaded();const S=o.id;if(this.getLayer(S))return void this.fire(new p.j(new Error(`Layer "${S}" already exists on this map.`)));let A;if("custom"===o.type){if(vr(this,p.aF(o)))return;A=p.aC(o)}else{if("source"in o&&"object"==typeof o.source&&(this.addSource(S,o.source),o=p.aD(o),o=p.e(o,{source:S})),this._validate(p.y.layer,`layers.${S}`,o,{arrayIndex:-1},M))return;A=p.aC(o),this._validateLayer(A),A.setEventedParent(this,{layer:{id:S}})}const Y=g?this._order.indexOf(g):this._order.length;if(g&&-1===Y)this.fire(new p.j(new Error(`Cannot add layer "${S}" before non-existing layer "${g}".`)));else{if(this._order.splice(Y,0,S),this._layerOrderChanged=!0,this._layers[S]=A,this._removedLayers[S]&&A.source&&"custom"!==A.type){const U=this._removedLayers[S];delete this._removedLayers[S],U.type!==A.type?this._updatedSources[A.source]="clear":(this._updatedSources[A.source]="reload",this.sourceCaches[A.source].pause())}this._updateLayer(A),A.onAdd&&A.onAdd(this.map)}}moveLayer(o,g){if(this._checkLoaded(),this._changed=!0,!this._layers[o])return void this.fire(new p.j(new Error(`The layer '${o}' does not exist in the map's style and cannot be moved.`)));if(o===g)return;const M=this._order.indexOf(o);this._order.splice(M,1);const S=g?this._order.indexOf(g):this._order.length;g&&-1===S?this.fire(new p.j(new Error(`Cannot move layer "${o}" before non-existing layer "${g}".`))):(this._order.splice(S,0,o),this._layerOrderChanged=!0)}removeLayer(o){this._checkLoaded();const g=this._layers[o];if(!g)return void this.fire(new p.j(new Error(`Cannot remove non-existing layer "${o}".`)));g.setEventedParent(null);const M=this._order.indexOf(o);this._order.splice(M,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[o]=g,delete this._layers[o],this._serializedLayers&&delete this._serializedLayers[o],delete this._updatedLayers[o],delete this._updatedPaintProps[o],g.onRemove&&g.onRemove(this.map)}getLayer(o){return this._layers[o]}getLayersOrder(){return[...this._order]}hasLayer(o){return o in this._layers}setLayerZoomRange(o,g,M){this._checkLoaded();const S=this.getLayer(o);S?S.minzoom===g&&S.maxzoom===M||(null!=g&&(S.minzoom=g),null!=M&&(S.maxzoom=M),this._updateLayer(S)):this.fire(new p.j(new Error(`Cannot set the zoom range of non-existing layer "${o}".`)))}setFilter(o,g,M={}){this._checkLoaded();const S=this.getLayer(o);if(S){if(!p.aG(S.filter,g))return null==g?(S.filter=void 0,void this._updateLayer(S)):void(this._validate(p.y.filter,`layers.${S.id}.filter`,g,null,M)||(S.filter=p.aD(g),this._updateLayer(S)))}else this.fire(new p.j(new Error(`Cannot filter non-existing layer "${o}".`)))}getFilter(o){return p.aD(this.getLayer(o).filter)}setLayoutProperty(o,g,M,S={}){this._checkLoaded();const A=this.getLayer(o);A?p.aG(A.getLayoutProperty(g),M)||(A.setLayoutProperty(g,M,S),this._updateLayer(A)):this.fire(new p.j(new Error(`Cannot style non-existing layer "${o}".`)))}getLayoutProperty(o,g){const M=this.getLayer(o);if(M)return M.getLayoutProperty(g);this.fire(new p.j(new Error(`Cannot get style of non-existing layer "${o}".`)))}setPaintProperty(o,g,M,S={}){this._checkLoaded();const A=this.getLayer(o);A?p.aG(A.getPaintProperty(g),M)||(A.setPaintProperty(g,M,S)&&this._updateLayer(A),this._changed=!0,this._updatedPaintProps[o]=!0):this.fire(new p.j(new Error(`Cannot style non-existing layer "${o}".`)))}getPaintProperty(o,g){return this.getLayer(o).getPaintProperty(g)}setFeatureState(o,g){this._checkLoaded();const M=o.source,S=o.sourceLayer,A=this.sourceCaches[M];if(void 0===A)return void this.fire(new p.j(new Error(`The source '${M}' does not exist in the map's style.`)));const Y=A.getSource().type;"geojson"===Y&&S?this.fire(new p.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==Y||S?(void 0===o.id&&this.fire(new p.j(new Error("The feature id parameter must be provided."))),A.setFeatureState(S,o.id,g)):this.fire(new p.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(o,g){this._checkLoaded();const M=o.source,S=this.sourceCaches[M];if(void 0===S)return void this.fire(new p.j(new Error(`The source '${M}' does not exist in the map's style.`)));const A=S.getSource().type,Y="vector"===A?o.sourceLayer:void 0;"vector"!==A||Y?g&&"string"!=typeof o.id&&"number"!=typeof o.id?this.fire(new p.j(new Error("A feature id is required to remove its specific state property."))):S.removeFeatureState(Y,o.id,g):this.fire(new p.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(o){this._checkLoaded();const g=o.source,M=o.sourceLayer,S=this.sourceCaches[g];if(void 0!==S)return"vector"!==S.getSource().type||M?(void 0===o.id&&this.fire(new p.j(new Error("The feature id parameter must be provided."))),S.getFeatureState(M,o.id)):void this.fire(new p.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new p.j(new Error(`The source '${g}' does not exist in the map's style.`)))}getTransition(){return p.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const o=p.aH(this.sourceCaches,A=>A.serialize()),g=this._serializeByIds(this._order),M=this.map.getTerrain()||void 0,S=this.stylesheet;return p.aI({version:S.version,name:S.name,metadata:S.metadata,light:S.light,center:S.center,zoom:S.zoom,bearing:S.bearing,pitch:S.pitch,sprite:S.sprite,glyphs:S.glyphs,transition:S.transition,sources:o,layers:g,terrain:M},A=>void 0!==A)}_updateLayer(o){this._updatedLayers[o.id]=!0,o.source&&!this._updatedSources[o.source]&&"raster"!==this.sourceCaches[o.source].getSource().type&&(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(o){const g=Y=>"fill-extrusion"===this._layers[Y].type,M={},S=[];for(let Y=this._order.length-1;Y>=0;Y--){const U=this._order[Y];if(g(U)){M[U]=Y;for(const K of o){const ge=K[U];if(ge)for(const Ce of ge)S.push(Ce)}}}S.sort((Y,U)=>U.intersectionZ-Y.intersectionZ);const A=[];for(let Y=this._order.length-1;Y>=0;Y--){const U=this._order[Y];if(g(U))for(let K=S.length-1;K>=0;K--){const ge=S[K].feature;if(M[ge.layer.id]<Y)break;A.push(ge),S.pop()}else for(const K of o){const ge=K[U];if(ge)for(const Ce of ge)A.push(Ce.feature)}}return A}queryRenderedFeatures(o,g,M){g&&g.filter&&this._validate(p.y.filter,"queryRenderedFeatures.filter",g.filter,null,g);const S={};if(g&&g.layers){if(!Array.isArray(g.layers))return this.fire(new p.j(new Error("parameters.layers must be an Array."))),[];for(const U of g.layers){const K=this._layers[U];if(!K)return this.fire(new p.j(new Error(`The layer '${U}' does not exist in the map's style and cannot be queried for features.`))),[];S[K.source]=!0}}const A=[];g.availableImages=this._availableImages;const Y=this._serializedAllLayers();for(const U in this.sourceCaches)g.layers&&!S[U]||A.push(Ln(this.sourceCaches[U],this._layers,Y,o,g,M));return this.placement&&A.push(function(U,K,ge,Ce,Ne,ot,Pt){const Lt={},jt=ot.queryRenderedSymbols(Ce),Nt=[];for(const vn of Object.keys(jt).map(Number))Nt.push(Pt[vn]);Nt.sort(ir);for(const vn of Nt){const Pn=vn.featureIndex.lookupSymbolFeatures(jt[vn.bucketInstanceId],K,vn.bucketIndex,vn.sourceLayerIndex,Ne.filter,Ne.layers,Ne.availableImages,U);for(const bt in Pn){const Mn=Lt[bt]=Lt[bt]||[],Bn=Pn[bt];Bn.sort((qn,Hn)=>{const _r=vn.featureSortOrder;if(_r){const yr=_r.indexOf(qn.featureIndex);return _r.indexOf(Hn.featureIndex)-yr}return Hn.featureIndex-qn.featureIndex});for(const qn of Bn)Mn.push(qn)}}for(const vn in Lt)Lt[vn].forEach(Pn=>{const bt=Pn.feature,Mn=ge[U[vn].source].getFeatureState(bt.layer["source-layer"],bt.id);bt.source=bt.layer.source,bt.layer["source-layer"]&&(bt.sourceLayer=bt.layer["source-layer"]),bt.state=Mn});return Lt}(this._layers,Y,this.sourceCaches,o,g,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(A)}querySourceFeatures(o,g){g&&g.filter&&this._validate(p.y.filter,"querySourceFeatures.filter",g.filter,null,g);const M=this.sourceCaches[o];return M?function(S,A){const Y=S.getRenderableIds().map(ge=>S.getTileByID(ge)),U=[],K={};for(let ge=0;ge<Y.length;ge++){const Ce=Y[ge],Ne=Ce.tileID.canonical.key;K[Ne]||(K[Ne]=!0,Ce.querySourceFeatures(U,A))}return U}(M,g):[]}addSourceType(o,g,M){return dr(o)?M(new Error(`A source type called "${o}" already exists.`)):(Rn[o]=g,g.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:o,url:g.workerSourceURL},M):M(null,null))}getLight(){return this.light.getLight()}setLight(o,g={}){this._checkLoaded();const M=this.light.getLight();let S=!1;for(const Y in o)if(!p.aG(o[Y],M[Y])){S=!0;break}if(!S)return;const A={now:p.h.now(),transition:p.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(o,g),this.light.updateTransitions(A)}_validate(o,g,M,S,A={}){return(!A||!1!==A.validate)&&vr(this,o.call(p.y,p.e({key:g,style:this.serialize(),value:M,styleSpec:p.v},S)))}_remove(o=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),p.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const g in this._layers)this._layers[g].setEventedParent(null);for(const g in this.sourceCaches){const M=this.sourceCaches[g];M.setEventedParent(null),M.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(o)}_clearSource(o){this.sourceCaches[o].clearTiles()}_reloadSource(o){this.sourceCaches[o].resume(),this.sourceCaches[o].reload()}_updateSources(o){for(const g in this.sourceCaches)this.sourceCaches[g].update(o,this.map.terrain)}_generateCollisionBoxes(){for(const o in this.sourceCaches)this._reloadSource(o)}_updatePlacement(o,g,M,S,A=!1){let Y=!1,U=!1;const K={};for(const ge of this._order){const Ce=this._layers[ge];if("symbol"!==Ce.type)continue;if(!K[Ce.source]){const ot=this.sourceCaches[Ce.source];K[Ce.source]=ot.getRenderableIds(!0).map(Pt=>ot.getTileByID(Pt)).sort((Pt,Lt)=>Lt.tileID.overscaledZ-Pt.tileID.overscaledZ||(Pt.tileID.isLessThan(Lt.tileID)?-1:1))}const Ne=this.crossTileSymbolIndex.addLayer(Ce,K[Ce.source],o.center.lng);Y=Y||Ne}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((A=A||this._layerOrderChanged||0===M)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(p.h.now(),o.zoom))&&(this.pauseablePlacement=new no(o,this.map.terrain,this._order,A,g,M,S,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,K),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(p.h.now()),U=!0),Y&&this.pauseablePlacement.placement.setStale()),U||Y)for(const ge of this._order){const Ce=this._layers[ge];"symbol"===Ce.type&&this.placement.updateLayerOpacities(Ce,K[Ce.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(p.h.now())}_releaseSymbolFadeTiles(){for(const o in this.sourceCaches)this.sourceCaches[o].releaseSymbolFadeTiles()}getImages(o,g,M){this.imageManager.getImages(g.icons,M),this._updateTilesForChangedImages();const S=this.sourceCaches[g.source];S&&S.setDependencies(g.tileID.key,g.type,g.icons)}getGlyphs(o,g,M){this.glyphManager.getGlyphs(g.stacks,M);const S=this.sourceCaches[g.source];S&&S.setDependencies(g.tileID.key,g.type,[""])}getResource(o,g,M){return p.m(g,M)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(o,g={}){this._checkLoaded(),o&&this._validate(p.y.glyphs,"glyphs",o,null,g)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=o,this.glyphManager.entries={},this.glyphManager.setURL(o))}addSprite(o,g,M={},S){this._checkLoaded();const A=[{id:o,url:g}],Y=[...ee(this.stylesheet.sprite),...A];this._validate(p.y.sprite,"sprite",Y,null,M)||(this.stylesheet.sprite=Y,this._loadSprite(A,!0,S))}removeSprite(o){this._checkLoaded();const g=ee(this.stylesheet.sprite);if(g.find(M=>M.id===o)){if(this._spritesImagesIds[o])for(const M of this._spritesImagesIds[o])this.imageManager.removeImage(M),this._changedImages[M]=!0;g.splice(g.findIndex(M=>M.id===o),1),this.stylesheet.sprite=g.length>0?g:void 0,delete this._spritesImagesIds[o],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new p.k("data",{dataType:"style"}))}else this.fire(new p.j(new Error(`Sprite "${o}" doesn't exists on this map.`)))}getSprite(){return ee(this.stylesheet.sprite)}setSprite(o,g={},M){this._checkLoaded(),o&&this._validate(p.y.sprite,"sprite",o,null,g)||(this.stylesheet.sprite=o,o?this._loadSprite(o,!0,M):(this._unloadSprite(),M&&M(null)))}}ps.registerForPluginStateChange=p.aK;var Ds=p.Q([{name:"a_pos",type:"Int16",components:2}]),kl="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const mt={prelude:It("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:It("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:It("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:It("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:It("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:It("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:It("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:It("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:It("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:It("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:It("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:It("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:It("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:It("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:It("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:It("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:It("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:It("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:It("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:It("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:It("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:It("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:It("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:It("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:It("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:It("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:It("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",kl),terrainDepth:It("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",kl),terrainCoords:It("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",kl)};function It(x,o){const g=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,M=o.match(/attribute ([\w]+) ([\w]+)/g),S=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),A=o.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Y=A?A.concat(S):S,U={};return{fragmentSource:x=x.replace(g,(K,ge,Ce,Ne,ot)=>(U[ot]=!0,"define"===ge?`\n#ifndef HAS_UNIFORM_u_${ot}\nvarying ${Ce} ${Ne} ${ot};\n#else\nuniform ${Ce} ${Ne} u_${ot};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${ot}\n    ${Ce} ${Ne} ${ot} = u_${ot};\n#endif\n`)),vertexSource:o=o.replace(g,(K,ge,Ce,Ne,ot)=>{const Pt="float"===Ne?"vec2":"vec4",Lt=ot.match(/color/)?"color":Pt;return U[ot]?"define"===ge?`\n#ifndef HAS_UNIFORM_u_${ot}\nuniform lowp float u_${ot}_t;\nattribute ${Ce} ${Pt} a_${ot};\nvarying ${Ce} ${Ne} ${ot};\n#else\nuniform ${Ce} ${Ne} u_${ot};\n#endif\n`:"vec4"===Lt?`\n#ifndef HAS_UNIFORM_u_${ot}\n    ${ot} = a_${ot};\n#else\n    ${Ce} ${Ne} ${ot} = u_${ot};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${ot}\n    ${ot} = unpack_mix_${Lt}(a_${ot}, u_${ot}_t);\n#else\n    ${Ce} ${Ne} ${ot} = u_${ot};\n#endif\n`:"define"===ge?`\n#ifndef HAS_UNIFORM_u_${ot}\nuniform lowp float u_${ot}_t;\nattribute ${Ce} ${Pt} a_${ot};\n#else\nuniform ${Ce} ${Ne} u_${ot};\n#endif\n`:"vec4"===Lt?`\n#ifndef HAS_UNIFORM_u_${ot}\n    ${Ce} ${Ne} ${ot} = a_${ot};\n#else\n    ${Ce} ${Ne} ${ot} = u_${ot};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${ot}\n    ${Ce} ${Ne} ${ot} = unpack_mix_${Lt}(a_${ot}, u_${ot}_t);\n#else\n    ${Ce} ${Ne} ${ot} = u_${ot};\n#endif\n`}),staticAttributes:M,staticUniforms:Y}}class Ot{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(o,g,M,S,A,Y,U,K,ge){this.context=o;let Ce=this.boundPaintVertexBuffers.length!==S.length;for(let Ne=0;!Ce&&Ne<S.length;Ne++)this.boundPaintVertexBuffers[Ne]!==S[Ne]&&(Ce=!0);!this.vao||this.boundProgram!==g||this.boundLayoutVertexBuffer!==M||Ce||this.boundIndexBuffer!==A||this.boundVertexOffset!==Y||this.boundDynamicVertexBuffer!==U||this.boundDynamicVertexBuffer2!==K||this.boundDynamicVertexBuffer3!==ge?this.freshBind(g,M,S,A,Y,U,K,ge):(o.bindVertexArray.set(this.vao),U&&U.bind(),A&&A.dynamicDraw&&A.bind(),K&&K.bind(),ge&&ge.bind())}freshBind(o,g,M,S,A,Y,U,K){const ge=o.numAttributes,Ce=this.context,Ne=Ce.gl;this.vao&&this.destroy(),this.vao=Ce.createVertexArray(),Ce.bindVertexArray.set(this.vao),this.boundProgram=o,this.boundLayoutVertexBuffer=g,this.boundPaintVertexBuffers=M,this.boundIndexBuffer=S,this.boundVertexOffset=A,this.boundDynamicVertexBuffer=Y,this.boundDynamicVertexBuffer2=U,this.boundDynamicVertexBuffer3=K,g.enableAttributes(Ne,o);for(const ot of M)ot.enableAttributes(Ne,o);Y&&Y.enableAttributes(Ne,o),U&&U.enableAttributes(Ne,o),K&&K.enableAttributes(Ne,o),g.bind(),g.setVertexAttribPointers(Ne,o,A);for(const ot of M)ot.bind(),ot.setVertexAttribPointers(Ne,o,A);Y&&(Y.bind(),Y.setVertexAttribPointers(Ne,o,A)),S&&S.bind(),U&&(U.bind(),U.setVertexAttribPointers(Ne,o,A)),K&&(K.bind(),K.setVertexAttribPointers(Ne,o,A)),Ce.currentNumAttributes=ge}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function $t(x){const o=[];for(let g=0;g<x.length;g++){if(null===x[g])continue;const M=x[g].split(" ");o.push(M.pop())}return o}class Xt{constructor(o,g,M,S,A,Y){const U=o.gl;this.program=U.createProgram();const K=$t(g.staticAttributes),ge=M?M.getBinderAttributes():[],Ce=K.concat(ge),Ne=mt.prelude.staticUniforms?$t(mt.prelude.staticUniforms):[],ot=g.staticUniforms?$t(g.staticUniforms):[],Pt=M?M.getBinderUniforms():[],Lt=Ne.concat(ot).concat(Pt),jt=[];for(const qn of Lt)jt.indexOf(qn)<0&&jt.push(qn);const Nt=M?M.defines():[];A&&Nt.push("#define OVERDRAW_INSPECTOR;"),Y&&Nt.push("#define TERRAIN3D;");const vn=Nt.concat(mt.prelude.fragmentSource,g.fragmentSource).join("\n"),Pn=Nt.concat(mt.prelude.vertexSource,g.vertexSource).join("\n"),bt=U.createShader(U.FRAGMENT_SHADER);if(U.isContextLost())return void(this.failedToCreate=!0);if(U.shaderSource(bt,vn),U.compileShader(bt),!U.getShaderParameter(bt,U.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${U.getShaderInfoLog(bt)}`);U.attachShader(this.program,bt);const Mn=U.createShader(U.VERTEX_SHADER);if(U.isContextLost())return void(this.failedToCreate=!0);if(U.shaderSource(Mn,Pn),U.compileShader(Mn),!U.getShaderParameter(Mn,U.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${U.getShaderInfoLog(Mn)}`);U.attachShader(this.program,Mn),this.attributes={};const Bn={};this.numAttributes=Ce.length;for(let qn=0;qn<this.numAttributes;qn++)Ce[qn]&&(U.bindAttribLocation(this.program,qn,Ce[qn]),this.attributes[Ce[qn]]=qn);if(U.linkProgram(this.program),!U.getProgramParameter(this.program,U.LINK_STATUS))throw new Error(`Program failed to link: ${U.getProgramInfoLog(this.program)}`);U.deleteShader(Mn),U.deleteShader(bt);for(let qn=0;qn<jt.length;qn++){const Hn=jt[qn];if(Hn&&!Bn[Hn]){const _r=U.getUniformLocation(this.program,Hn);_r&&(Bn[Hn]=_r)}}var qn,Hn;this.fixedUniforms=S(o,Bn),this.terrainUniforms={u_depth:new p.aL(qn=o,(Hn=Bn).u_depth),u_terrain:new p.aL(qn,Hn.u_terrain),u_terrain_dim:new p.aM(qn,Hn.u_terrain_dim),u_terrain_matrix:new p.aN(qn,Hn.u_terrain_matrix),u_terrain_unpack:new p.aO(qn,Hn.u_terrain_unpack),u_terrain_exaggeration:new p.aM(qn,Hn.u_terrain_exaggeration)},this.binderUniforms=M?M.getUniforms(o,Bn):[]}draw(o,g,M,S,A,Y,U,K,ge,Ce,Ne,ot,Pt,Lt,jt,Nt,vn,Pn){const bt=o.gl;if(this.failedToCreate)return;if(o.program.set(this.program),o.setDepthMode(M),o.setStencilMode(S),o.setColorMode(A),o.setCullFace(Y),K){o.activeTexture.set(bt.TEXTURE2),bt.bindTexture(bt.TEXTURE_2D,K.depthTexture),o.activeTexture.set(bt.TEXTURE3),bt.bindTexture(bt.TEXTURE_2D,K.texture);for(const Bn in this.terrainUniforms)this.terrainUniforms[Bn].set(K[Bn])}for(const Bn in this.fixedUniforms)this.fixedUniforms[Bn].set(U[Bn]);jt&&jt.setUniforms(o,this.binderUniforms,Pt,{zoom:Lt});let Mn=0;switch(g){case bt.LINES:Mn=2;break;case bt.TRIANGLES:Mn=3;break;case bt.LINE_STRIP:Mn=1}for(const Bn of ot.get()){const qn=Bn.vaos||(Bn.vaos={});(qn[ge]||(qn[ge]=new Ot)).bind(o,this,Ce,jt?jt.getPaintVertexBuffers():[],Ne,Bn.vertexOffset,Nt,vn,Pn),bt.drawElements(g,Bn.primitiveLength*Mn,bt.UNSIGNED_SHORT,Bn.primitiveOffset*Mn*2)}}}function on(x,o,g){const M=1/Tt(g,1,o.transform.tileZoom),S=Math.pow(2,g.tileID.overscaledZ),A=g.tileSize*Math.pow(2,o.transform.tileZoom)/S,Y=A*(g.tileID.canonical.x+g.tileID.wrap*S),U=A*g.tileID.canonical.y;return{u_image:0,u_texsize:g.imageAtlasTexture.size,u_scale:[M,x.fromScale,x.toScale],u_fade:x.t,u_pixel_coord_upper:[Y>>16,U>>16],u_pixel_coord_lower:[65535&Y,65535&U]}}const rr=(x,o,g,M)=>{const S=o.style.light,A=S.properties.get("position"),Y=[A.x,A.y,A.z],U=(ge=new p.A(9),p.A!=Float32Array&&(ge[1]=0,ge[2]=0,ge[3]=0,ge[5]=0,ge[6]=0,ge[7]=0),ge[0]=1,ge[4]=1,ge[8]=1,ge);var ge;"viewport"===S.properties.get("anchor")&&function(ge,Ce){var Ne=Math.sin(Ce),ot=Math.cos(Ce);ge[0]=ot,ge[1]=Ne,ge[2]=0,ge[3]=-Ne,ge[4]=ot,ge[5]=0,ge[6]=0,ge[7]=0,ge[8]=1}(U,-o.transform.angle),function(ge,Ce,Ne){var ot=Ce[0],Pt=Ce[1],Lt=Ce[2];ge[0]=ot*Ne[0]+Pt*Ne[3]+Lt*Ne[6],ge[1]=ot*Ne[1]+Pt*Ne[4]+Lt*Ne[7],ge[2]=ot*Ne[2]+Pt*Ne[5]+Lt*Ne[8]}(Y,Y,U);const K=S.properties.get("color");return{u_matrix:x,u_lightpos:Y,u_lightintensity:S.properties.get("intensity"),u_lightcolor:[K.r,K.g,K.b],u_vertical_gradient:+g,u_opacity:M}},Cn=(x,o,g,M,S,A,Y)=>p.e(rr(x,o,g,M),on(A,o,Y),{u_height_factor:-Math.pow(2,S.overscaledZ)/Y.tileSize/8}),wr=x=>({u_matrix:x}),Lr=(x,o,g,M)=>p.e(wr(x),on(g,o,M)),ar=(x,o)=>({u_matrix:x,u_world:o}),qr=(x,o,g,M,S)=>p.e(Lr(x,o,g,M),{u_world:S}),ei=(x,o,g,M)=>{const S=x.transform;let A,Y;if("map"===M.paint.get("circle-pitch-alignment")){const U=Tt(g,1,S.zoom);A=!0,Y=[U,U]}else A=!1,Y=S.pixelsToGLUnits;return{u_camera_to_center_distance:S.cameraToCenterDistance,u_scale_with_map:+("map"===M.paint.get("circle-pitch-scale")),u_matrix:x.translatePosMatrix(o.posMatrix,g,M.paint.get("circle-translate"),M.paint.get("circle-translate-anchor")),u_pitch_with_map:+A,u_device_pixel_ratio:x.pixelRatio,u_extrude_scale:Y}},ss=(x,o,g)=>{const M=Tt(g,1,o.zoom),S=Math.pow(2,o.zoom-g.tileID.overscaledZ),A=g.tileID.overscaleFactor();return{u_matrix:x,u_camera_to_center_distance:o.cameraToCenterDistance,u_pixels_to_tile_units:M,u_extrude_scale:[o.pixelsToGLUnits[0]/(M*S),o.pixelsToGLUnits[1]/(M*S)],u_overscale_factor:A}},Ps=(x,o,g=1)=>({u_matrix:x,u_color:o,u_overlay:0,u_overlay_scale:g}),Re=x=>({u_matrix:x}),ut=(x,o,g,M)=>({u_matrix:x,u_extrude_scale:Tt(o,1,g),u_intensity:M});function Wt(x,o){const g=Math.pow(2,o.canonical.z),M=o.canonical.y;return[new p.U(0,M/g).toLngLat().lat,new p.U(0,(M+1)/g).toLngLat().lat]}const An=(x,o,g,M)=>{const S=x.transform;return{u_matrix:jr(x,o,g,M),u_ratio:1/Tt(o,1,S.zoom),u_device_pixel_ratio:x.pixelRatio,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},Mr=(x,o,g,M,S)=>p.e(An(x,o,g,S),{u_image:0,u_image_height:M}),Hr=(x,o,g,M,S)=>{const A=x.transform,Y=zi(o,A);return{u_matrix:jr(x,o,g,S),u_texsize:o.imageAtlasTexture.size,u_ratio:1/Tt(o,1,A.zoom),u_device_pixel_ratio:x.pixelRatio,u_image:0,u_scale:[Y,M.fromScale,M.toScale],u_fade:M.t,u_units_to_pixels:[1/A.pixelsToGLUnits[0],1/A.pixelsToGLUnits[1]]}},gn=(x,o,g,M,S,A)=>{const Y=x.lineAtlas,U=zi(o,x.transform),K="round"===g.layout.get("line-cap"),ge=Y.getDash(M.from,K),Ce=Y.getDash(M.to,K),Ne=ge.width*S.fromScale,ot=Ce.width*S.toScale;return p.e(An(x,o,g,A),{u_patternscale_a:[U/Ne,-ge.height/2],u_patternscale_b:[U/ot,-Ce.height/2],u_sdfgamma:Y.width/(256*Math.min(Ne,ot)*x.pixelRatio)/2,u_image:0,u_tex_y_a:ge.y,u_tex_y_b:Ce.y,u_mix:S.t})};function zi(x,o){return 1/Tt(x,1,o.tileZoom)}function jr(x,o,g,M){return x.translatePosMatrix(M?M.posMatrix:o.tileID.posMatrix,o,g.paint.get("line-translate"),g.paint.get("line-translate-anchor"))}const ns=(x,o,g,M,S)=>{return{u_matrix:x,u_tl_parent:o,u_scale_parent:g,u_buffer_scale:1,u_fade_t:M.mix,u_opacity:M.opacity*S.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:S.paint.get("raster-brightness-min"),u_brightness_high:S.paint.get("raster-brightness-max"),u_saturation_factor:(Y=S.paint.get("raster-saturation"),Y>0?1-1/(1.001-Y):-Y),u_contrast_factor:(A=S.paint.get("raster-contrast"),A>0?1/(1-A):1+A),u_spin_weights:Ml(S.paint.get("raster-hue-rotate"))};var A,Y};function Ml(x){x*=Math.PI/180;const o=Math.sin(x),g=Math.cos(x);return[(2*g+1)/3,(-Math.sqrt(3)*o-g+1)/3,(Math.sqrt(3)*o-g+1)/3]}const Sl=(x,o,g,M,S,A,Y,U,K,ge)=>{const Ce=S.transform;return{u_is_size_zoom_constant:+("constant"===x||"source"===x),u_is_size_feature_constant:+("constant"===x||"camera"===x),u_size_t:o?o.uSizeT:0,u_size:o?o.uSize:0,u_camera_to_center_distance:Ce.cameraToCenterDistance,u_pitch:Ce.pitch/360*2*Math.PI,u_rotate_symbol:+g,u_aspect_ratio:Ce.width/Ce.height,u_fade_change:S.options.fadeDuration?S.symbolFadeChange:1,u_matrix:A,u_label_plane_matrix:Y,u_coord_matrix:U,u_is_text:+K,u_pitch_with_map:+M,u_texsize:ge,u_texture:0}},Ac=(x,o,g,M,S,A,Y,U,K,ge,Ce)=>{const Ne=S.transform;return p.e(Sl(x,o,g,M,S,A,Y,U,K,ge),{u_gamma_scale:M?Math.cos(Ne._pitch)*Ne.cameraToCenterDistance:1,u_device_pixel_ratio:S.pixelRatio,u_is_halo:+Ce})},qa=(x,o,g,M,S,A,Y,U,K,ge)=>p.e(Ac(x,o,g,M,S,A,Y,U,!0,K,!0),{u_texsize_icon:ge,u_texture_icon:1}),us=(x,o,g)=>({u_matrix:x,u_opacity:o,u_color:g}),_l=(x,o,g,M,S,A)=>p.e(function(Y,U,K,ge){const Ce=K.imageManager.getPattern(Y.from.toString()),Ne=K.imageManager.getPattern(Y.to.toString()),{width:ot,height:Pt}=K.imageManager.getPixelSize(),Lt=Math.pow(2,ge.tileID.overscaledZ),jt=ge.tileSize*Math.pow(2,K.transform.tileZoom)/Lt,Nt=jt*(ge.tileID.canonical.x+ge.tileID.wrap*Lt),vn=jt*ge.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Ce.tl,u_pattern_br_a:Ce.br,u_pattern_tl_b:Ne.tl,u_pattern_br_b:Ne.br,u_texsize:[ot,Pt],u_mix:U.t,u_pattern_size_a:Ce.displaySize,u_pattern_size_b:Ne.displaySize,u_scale_a:U.fromScale,u_scale_b:U.toScale,u_tile_units_to_pixels:1/Tt(ge,1,K.transform.tileZoom),u_pixel_coord_upper:[Nt>>16,vn>>16],u_pixel_coord_lower:[65535&Nt,65535&vn]}}(M,A,g,S),{u_matrix:x,u_opacity:o}),Aa={fillExtrusion:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_lightpos:new p.aP(x,o.u_lightpos),u_lightintensity:new p.aM(x,o.u_lightintensity),u_lightcolor:new p.aP(x,o.u_lightcolor),u_vertical_gradient:new p.aM(x,o.u_vertical_gradient),u_opacity:new p.aM(x,o.u_opacity)}),fillExtrusionPattern:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_lightpos:new p.aP(x,o.u_lightpos),u_lightintensity:new p.aM(x,o.u_lightintensity),u_lightcolor:new p.aP(x,o.u_lightcolor),u_vertical_gradient:new p.aM(x,o.u_vertical_gradient),u_height_factor:new p.aM(x,o.u_height_factor),u_image:new p.aL(x,o.u_image),u_texsize:new p.aQ(x,o.u_texsize),u_pixel_coord_upper:new p.aQ(x,o.u_pixel_coord_upper),u_pixel_coord_lower:new p.aQ(x,o.u_pixel_coord_lower),u_scale:new p.aP(x,o.u_scale),u_fade:new p.aM(x,o.u_fade),u_opacity:new p.aM(x,o.u_opacity)}),fill:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix)}),fillPattern:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_image:new p.aL(x,o.u_image),u_texsize:new p.aQ(x,o.u_texsize),u_pixel_coord_upper:new p.aQ(x,o.u_pixel_coord_upper),u_pixel_coord_lower:new p.aQ(x,o.u_pixel_coord_lower),u_scale:new p.aP(x,o.u_scale),u_fade:new p.aM(x,o.u_fade)}),fillOutline:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_world:new p.aQ(x,o.u_world)}),fillOutlinePattern:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_world:new p.aQ(x,o.u_world),u_image:new p.aL(x,o.u_image),u_texsize:new p.aQ(x,o.u_texsize),u_pixel_coord_upper:new p.aQ(x,o.u_pixel_coord_upper),u_pixel_coord_lower:new p.aQ(x,o.u_pixel_coord_lower),u_scale:new p.aP(x,o.u_scale),u_fade:new p.aM(x,o.u_fade)}),circle:(x,o)=>({u_camera_to_center_distance:new p.aM(x,o.u_camera_to_center_distance),u_scale_with_map:new p.aL(x,o.u_scale_with_map),u_pitch_with_map:new p.aL(x,o.u_pitch_with_map),u_extrude_scale:new p.aQ(x,o.u_extrude_scale),u_device_pixel_ratio:new p.aM(x,o.u_device_pixel_ratio),u_matrix:new p.aN(x,o.u_matrix)}),collisionBox:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_camera_to_center_distance:new p.aM(x,o.u_camera_to_center_distance),u_pixels_to_tile_units:new p.aM(x,o.u_pixels_to_tile_units),u_extrude_scale:new p.aQ(x,o.u_extrude_scale),u_overscale_factor:new p.aM(x,o.u_overscale_factor)}),collisionCircle:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_inv_matrix:new p.aN(x,o.u_inv_matrix),u_camera_to_center_distance:new p.aM(x,o.u_camera_to_center_distance),u_viewport_size:new p.aQ(x,o.u_viewport_size)}),debug:(x,o)=>({u_color:new p.aR(x,o.u_color),u_matrix:new p.aN(x,o.u_matrix),u_overlay:new p.aL(x,o.u_overlay),u_overlay_scale:new p.aM(x,o.u_overlay_scale)}),clippingMask:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix)}),heatmap:(x,o)=>({u_extrude_scale:new p.aM(x,o.u_extrude_scale),u_intensity:new p.aM(x,o.u_intensity),u_matrix:new p.aN(x,o.u_matrix)}),heatmapTexture:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_world:new p.aQ(x,o.u_world),u_image:new p.aL(x,o.u_image),u_color_ramp:new p.aL(x,o.u_color_ramp),u_opacity:new p.aM(x,o.u_opacity)}),hillshade:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_image:new p.aL(x,o.u_image),u_latrange:new p.aQ(x,o.u_latrange),u_light:new p.aQ(x,o.u_light),u_shadow:new p.aR(x,o.u_shadow),u_highlight:new p.aR(x,o.u_highlight),u_accent:new p.aR(x,o.u_accent)}),hillshadePrepare:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_image:new p.aL(x,o.u_image),u_dimension:new p.aQ(x,o.u_dimension),u_zoom:new p.aM(x,o.u_zoom),u_unpack:new p.aO(x,o.u_unpack)}),line:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_ratio:new p.aM(x,o.u_ratio),u_device_pixel_ratio:new p.aM(x,o.u_device_pixel_ratio),u_units_to_pixels:new p.aQ(x,o.u_units_to_pixels)}),lineGradient:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_ratio:new p.aM(x,o.u_ratio),u_device_pixel_ratio:new p.aM(x,o.u_device_pixel_ratio),u_units_to_pixels:new p.aQ(x,o.u_units_to_pixels),u_image:new p.aL(x,o.u_image),u_image_height:new p.aM(x,o.u_image_height)}),linePattern:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_texsize:new p.aQ(x,o.u_texsize),u_ratio:new p.aM(x,o.u_ratio),u_device_pixel_ratio:new p.aM(x,o.u_device_pixel_ratio),u_image:new p.aL(x,o.u_image),u_units_to_pixels:new p.aQ(x,o.u_units_to_pixels),u_scale:new p.aP(x,o.u_scale),u_fade:new p.aM(x,o.u_fade)}),lineSDF:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_ratio:new p.aM(x,o.u_ratio),u_device_pixel_ratio:new p.aM(x,o.u_device_pixel_ratio),u_units_to_pixels:new p.aQ(x,o.u_units_to_pixels),u_patternscale_a:new p.aQ(x,o.u_patternscale_a),u_patternscale_b:new p.aQ(x,o.u_patternscale_b),u_sdfgamma:new p.aM(x,o.u_sdfgamma),u_image:new p.aL(x,o.u_image),u_tex_y_a:new p.aM(x,o.u_tex_y_a),u_tex_y_b:new p.aM(x,o.u_tex_y_b),u_mix:new p.aM(x,o.u_mix)}),raster:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_tl_parent:new p.aQ(x,o.u_tl_parent),u_scale_parent:new p.aM(x,o.u_scale_parent),u_buffer_scale:new p.aM(x,o.u_buffer_scale),u_fade_t:new p.aM(x,o.u_fade_t),u_opacity:new p.aM(x,o.u_opacity),u_image0:new p.aL(x,o.u_image0),u_image1:new p.aL(x,o.u_image1),u_brightness_low:new p.aM(x,o.u_brightness_low),u_brightness_high:new p.aM(x,o.u_brightness_high),u_saturation_factor:new p.aM(x,o.u_saturation_factor),u_contrast_factor:new p.aM(x,o.u_contrast_factor),u_spin_weights:new p.aP(x,o.u_spin_weights)}),symbolIcon:(x,o)=>({u_is_size_zoom_constant:new p.aL(x,o.u_is_size_zoom_constant),u_is_size_feature_constant:new p.aL(x,o.u_is_size_feature_constant),u_size_t:new p.aM(x,o.u_size_t),u_size:new p.aM(x,o.u_size),u_camera_to_center_distance:new p.aM(x,o.u_camera_to_center_distance),u_pitch:new p.aM(x,o.u_pitch),u_rotate_symbol:new p.aL(x,o.u_rotate_symbol),u_aspect_ratio:new p.aM(x,o.u_aspect_ratio),u_fade_change:new p.aM(x,o.u_fade_change),u_matrix:new p.aN(x,o.u_matrix),u_label_plane_matrix:new p.aN(x,o.u_label_plane_matrix),u_coord_matrix:new p.aN(x,o.u_coord_matrix),u_is_text:new p.aL(x,o.u_is_text),u_pitch_with_map:new p.aL(x,o.u_pitch_with_map),u_texsize:new p.aQ(x,o.u_texsize),u_texture:new p.aL(x,o.u_texture)}),symbolSDF:(x,o)=>({u_is_size_zoom_constant:new p.aL(x,o.u_is_size_zoom_constant),u_is_size_feature_constant:new p.aL(x,o.u_is_size_feature_constant),u_size_t:new p.aM(x,o.u_size_t),u_size:new p.aM(x,o.u_size),u_camera_to_center_distance:new p.aM(x,o.u_camera_to_center_distance),u_pitch:new p.aM(x,o.u_pitch),u_rotate_symbol:new p.aL(x,o.u_rotate_symbol),u_aspect_ratio:new p.aM(x,o.u_aspect_ratio),u_fade_change:new p.aM(x,o.u_fade_change),u_matrix:new p.aN(x,o.u_matrix),u_label_plane_matrix:new p.aN(x,o.u_label_plane_matrix),u_coord_matrix:new p.aN(x,o.u_coord_matrix),u_is_text:new p.aL(x,o.u_is_text),u_pitch_with_map:new p.aL(x,o.u_pitch_with_map),u_texsize:new p.aQ(x,o.u_texsize),u_texture:new p.aL(x,o.u_texture),u_gamma_scale:new p.aM(x,o.u_gamma_scale),u_device_pixel_ratio:new p.aM(x,o.u_device_pixel_ratio),u_is_halo:new p.aL(x,o.u_is_halo)}),symbolTextAndIcon:(x,o)=>({u_is_size_zoom_constant:new p.aL(x,o.u_is_size_zoom_constant),u_is_size_feature_constant:new p.aL(x,o.u_is_size_feature_constant),u_size_t:new p.aM(x,o.u_size_t),u_size:new p.aM(x,o.u_size),u_camera_to_center_distance:new p.aM(x,o.u_camera_to_center_distance),u_pitch:new p.aM(x,o.u_pitch),u_rotate_symbol:new p.aL(x,o.u_rotate_symbol),u_aspect_ratio:new p.aM(x,o.u_aspect_ratio),u_fade_change:new p.aM(x,o.u_fade_change),u_matrix:new p.aN(x,o.u_matrix),u_label_plane_matrix:new p.aN(x,o.u_label_plane_matrix),u_coord_matrix:new p.aN(x,o.u_coord_matrix),u_is_text:new p.aL(x,o.u_is_text),u_pitch_with_map:new p.aL(x,o.u_pitch_with_map),u_texsize:new p.aQ(x,o.u_texsize),u_texsize_icon:new p.aQ(x,o.u_texsize_icon),u_texture:new p.aL(x,o.u_texture),u_texture_icon:new p.aL(x,o.u_texture_icon),u_gamma_scale:new p.aM(x,o.u_gamma_scale),u_device_pixel_ratio:new p.aM(x,o.u_device_pixel_ratio),u_is_halo:new p.aL(x,o.u_is_halo)}),background:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_opacity:new p.aM(x,o.u_opacity),u_color:new p.aR(x,o.u_color)}),backgroundPattern:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_opacity:new p.aM(x,o.u_opacity),u_image:new p.aL(x,o.u_image),u_pattern_tl_a:new p.aQ(x,o.u_pattern_tl_a),u_pattern_br_a:new p.aQ(x,o.u_pattern_br_a),u_pattern_tl_b:new p.aQ(x,o.u_pattern_tl_b),u_pattern_br_b:new p.aQ(x,o.u_pattern_br_b),u_texsize:new p.aQ(x,o.u_texsize),u_mix:new p.aM(x,o.u_mix),u_pattern_size_a:new p.aQ(x,o.u_pattern_size_a),u_pattern_size_b:new p.aQ(x,o.u_pattern_size_b),u_scale_a:new p.aM(x,o.u_scale_a),u_scale_b:new p.aM(x,o.u_scale_b),u_pixel_coord_upper:new p.aQ(x,o.u_pixel_coord_upper),u_pixel_coord_lower:new p.aQ(x,o.u_pixel_coord_lower),u_tile_units_to_pixels:new p.aM(x,o.u_tile_units_to_pixels)}),terrain:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_texture:new p.aL(x,o.u_texture),u_ele_delta:new p.aM(x,o.u_ele_delta)}),terrainDepth:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_ele_delta:new p.aM(x,o.u_ele_delta)}),terrainCoords:(x,o)=>({u_matrix:new p.aN(x,o.u_matrix),u_texture:new p.aL(x,o.u_texture),u_terrain_coords_id:new p.aM(x,o.u_terrain_coords_id),u_ele_delta:new p.aM(x,o.u_ele_delta)})};class ju{constructor(o,g,M){this.context=o;const S=o.gl;this.buffer=S.createBuffer(),this.dynamicDraw=!!M,this.context.unbindVAO(),o.bindElementBuffer.set(this.buffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,g.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete g.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(o){const g=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),g.bufferSubData(g.ELEMENT_ARRAY_BUFFER,0,o.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const dl={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ao{constructor(o,g,M,S){this.length=g.length,this.attributes=M,this.itemSize=g.bytesPerElement,this.dynamicDraw=S,this.context=o;const A=o.gl;this.buffer=A.createBuffer(),o.bindVertexBuffer.set(this.buffer),A.bufferData(A.ARRAY_BUFFER,g.arrayBuffer,this.dynamicDraw?A.DYNAMIC_DRAW:A.STATIC_DRAW),this.dynamicDraw||delete g.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(o){if(o.length!==this.length)throw new Error(`Length of new data is ${o.length}, which doesn't match current length of ${this.length}`);const g=this.context.gl;this.bind(),g.bufferSubData(g.ARRAY_BUFFER,0,o.arrayBuffer)}enableAttributes(o,g){for(let M=0;M<this.attributes.length;M++){const S=g.attributes[this.attributes[M].name];void 0!==S&&o.enableVertexAttribArray(S)}}setVertexAttribPointers(o,g,M){for(let S=0;S<this.attributes.length;S++){const A=this.attributes[S],Y=g.attributes[A.name];void 0!==Y&&o.vertexAttribPointer(Y,A.components,o[dl[A.type]],!1,this.itemSize,A.offset+this.itemSize*(M||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ja=new WeakMap;function gu(x){var o;if(ja.has(x))return ja.get(x);{const g=null===(o=x.getParameter(x.VERSION))||void 0===o?void 0:o.startsWith("WebGL 2.0");return ja.set(x,g),g}}class os{constructor(o){this.gl=o.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(o){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Qs extends os{getDefault(){return p.aT.transparent}set(o){const g=this.current;(o.r!==g.r||o.g!==g.g||o.b!==g.b||o.a!==g.a||this.dirty)&&(this.gl.clearColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class bs extends os{getDefault(){return 1}set(o){(o!==this.current||this.dirty)&&(this.gl.clearDepth(o),this.current=o,this.dirty=!1)}}class Be extends os{getDefault(){return 0}set(o){(o!==this.current||this.dirty)&&(this.gl.clearStencil(o),this.current=o,this.dirty=!1)}}class at extends os{getDefault(){return[!0,!0,!0,!0]}set(o){const g=this.current;(o[0]!==g[0]||o[1]!==g[1]||o[2]!==g[2]||o[3]!==g[3]||this.dirty)&&(this.gl.colorMask(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class zt extends os{getDefault(){return!0}set(o){(o!==this.current||this.dirty)&&(this.gl.depthMask(o),this.current=o,this.dirty=!1)}}class At extends os{getDefault(){return 255}set(o){(o!==this.current||this.dirty)&&(this.gl.stencilMask(o),this.current=o,this.dirty=!1)}}class an extends os{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(o){const g=this.current;(o.func!==g.func||o.ref!==g.ref||o.mask!==g.mask||this.dirty)&&(this.gl.stencilFunc(o.func,o.ref,o.mask),this.current=o,this.dirty=!1)}}class ln extends os{getDefault(){const o=this.gl;return[o.KEEP,o.KEEP,o.KEEP]}set(o){const g=this.current;(o[0]!==g[0]||o[1]!==g[1]||o[2]!==g[2]||this.dirty)&&(this.gl.stencilOp(o[0],o[1],o[2]),this.current=o,this.dirty=!1)}}class or extends os{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;o?g.enable(g.STENCIL_TEST):g.disable(g.STENCIL_TEST),this.current=o,this.dirty=!1}}class _n extends os{getDefault(){return[0,1]}set(o){const g=this.current;(o[0]!==g[0]||o[1]!==g[1]||this.dirty)&&(this.gl.depthRange(o[0],o[1]),this.current=o,this.dirty=!1)}}class Jn extends os{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;o?g.enable(g.DEPTH_TEST):g.disable(g.DEPTH_TEST),this.current=o,this.dirty=!1}}class nr extends os{getDefault(){return this.gl.LESS}set(o){(o!==this.current||this.dirty)&&(this.gl.depthFunc(o),this.current=o,this.dirty=!1)}}class br extends os{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;o?g.enable(g.BLEND):g.disable(g.BLEND),this.current=o,this.dirty=!1}}class Rr extends os{getDefault(){const o=this.gl;return[o.ONE,o.ZERO]}set(o){const g=this.current;(o[0]!==g[0]||o[1]!==g[1]||this.dirty)&&(this.gl.blendFunc(o[0],o[1]),this.current=o,this.dirty=!1)}}class ri extends os{getDefault(){return p.aT.transparent}set(o){const g=this.current;(o.r!==g.r||o.g!==g.g||o.b!==g.b||o.a!==g.a||this.dirty)&&(this.gl.blendColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class ii extends os{getDefault(){return this.gl.FUNC_ADD}set(o){(o!==this.current||this.dirty)&&(this.gl.blendEquation(o),this.current=o,this.dirty=!1)}}class Vs extends os{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;o?g.enable(g.CULL_FACE):g.disable(g.CULL_FACE),this.current=o,this.dirty=!1}}class Eo extends os{getDefault(){return this.gl.BACK}set(o){(o!==this.current||this.dirty)&&(this.gl.cullFace(o),this.current=o,this.dirty=!1)}}class To extends os{getDefault(){return this.gl.CCW}set(o){(o!==this.current||this.dirty)&&(this.gl.frontFace(o),this.current=o,this.dirty=!1)}}class xs extends os{getDefault(){return null}set(o){(o!==this.current||this.dirty)&&(this.gl.useProgram(o),this.current=o,this.dirty=!1)}}class Ur extends os{getDefault(){return this.gl.TEXTURE0}set(o){(o!==this.current||this.dirty)&&(this.gl.activeTexture(o),this.current=o,this.dirty=!1)}}class Gi extends os{getDefault(){const o=this.gl;return[0,0,o.drawingBufferWidth,o.drawingBufferHeight]}set(o){const g=this.current;(o[0]!==g[0]||o[1]!==g[1]||o[2]!==g[2]||o[3]!==g[3]||this.dirty)&&(this.gl.viewport(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class ya extends os{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,o),this.current=o,this.dirty=!1}}class No extends os{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;g.bindRenderbuffer(g.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class gs extends os{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;g.bindTexture(g.TEXTURE_2D,o),this.current=o,this.dirty=!1}}class $l extends os{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;g.bindBuffer(g.ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class md extends os{getDefault(){return null}set(o){const g=this.gl;g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class lo extends os{getDefault(){return null}set(o){var g;if(o===this.current&&!this.dirty)return;const M=this.gl;gu(M)?M.bindVertexArray(o):null===(g=M.getExtension("OES_vertex_array_object"))||void 0===g||g.bindVertexArrayOES(o),this.current=o,this.dirty=!1}}class _d extends os{getDefault(){return 4}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_ALIGNMENT,o),this.current=o,this.dirty=!1}}class _s extends os{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),this.current=o,this.dirty=!1}}class mr extends os{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const g=this.gl;g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,o),this.current=o,this.dirty=!1}}class Ys extends os{constructor(o,g){super(o),this.context=o,this.parent=g}getDefault(){return null}}class mu extends Ys{setDirty(){this.dirty=!0}set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,o,0),this.current=o,this.dirty=!1}}class Ol extends Ys{set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_ATTACHMENT,g.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class Pc extends Ys{set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const g=this.gl;g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class Ei{constructor(o,g,M,S,A){this.context=o,this.width=g,this.height=M;const Y=o.gl,U=this.framebuffer=Y.createFramebuffer();if(this.colorAttachment=new mu(o,U),S)this.depthAttachment=A?new Pc(o,U):new Ol(o,U);else if(A)throw new Error("Stencil cannot be setted without depth");if(Y.checkFramebufferStatus(Y.FRAMEBUFFER)!==Y.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const o=this.context.gl,g=this.colorAttachment.get();if(g&&o.deleteTexture(g),this.depthAttachment){const M=this.depthAttachment.get();M&&o.deleteRenderbuffer(M)}o.deleteFramebuffer(this.framebuffer)}}class Co{constructor(o,g,M){this.blendFunction=o,this.blendColor=g,this.mask=M}}Co.Replace=[1,0],Co.disabled=new Co(Co.Replace,p.aT.transparent,[!1,!1,!1,!1]),Co.unblended=new Co(Co.Replace,p.aT.transparent,[!0,!0,!0,!0]),Co.alphaBlended=new Co([1,771],p.aT.transparent,[!0,!0,!0,!0]);class da{constructor(o){var g,M;if(this.gl=o,this.clearColor=new Qs(this),this.clearDepth=new bs(this),this.clearStencil=new Be(this),this.colorMask=new at(this),this.depthMask=new zt(this),this.stencilMask=new At(this),this.stencilFunc=new an(this),this.stencilOp=new ln(this),this.stencilTest=new or(this),this.depthRange=new _n(this),this.depthTest=new Jn(this),this.depthFunc=new nr(this),this.blend=new br(this),this.blendFunc=new Rr(this),this.blendColor=new ri(this),this.blendEquation=new ii(this),this.cullFace=new Vs(this),this.cullFaceSide=new Eo(this),this.frontFace=new To(this),this.program=new xs(this),this.activeTexture=new Ur(this),this.viewport=new Gi(this),this.bindFramebuffer=new ya(this),this.bindRenderbuffer=new No(this),this.bindTexture=new gs(this),this.bindVertexBuffer=new $l(this),this.bindElementBuffer=new md(this),this.bindVertexArray=new lo(this),this.pixelStoreUnpack=new _d(this),this.pixelStoreUnpackPremultiplyAlpha=new _s(this),this.pixelStoreUnpackFlipY=new mr(this),this.extTextureFilterAnisotropic=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=o.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),gu(o)){this.HALF_FLOAT=o.HALF_FLOAT;const S=o.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(g=o.RGBA16F)&&void 0!==g?g:S?.RGBA16F_EXT,this.RGB16F=null!==(M=o.RGB16F)&&void 0!==M?M:S?.RGB16F_EXT,o.getExtension("EXT_color_buffer_float")}else{o.getExtension("EXT_color_buffer_half_float"),o.getExtension("OES_texture_half_float_linear");const S=o.getExtension("OES_texture_half_float");this.HALF_FLOAT=S?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(o,g){return new ju(this,o,g)}createVertexBuffer(o,g,M){return new Ao(this,o,g,M)}createRenderbuffer(o,g,M){const S=this.gl,A=S.createRenderbuffer();return this.bindRenderbuffer.set(A),S.renderbufferStorage(S.RENDERBUFFER,o,g,M),this.bindRenderbuffer.set(null),A}createFramebuffer(o,g,M,S){return new Ei(this,o,g,M,S)}clear({color:o,depth:g,stencil:M}){const S=this.gl;let A=0;o&&(A|=S.COLOR_BUFFER_BIT,this.clearColor.set(o),this.colorMask.set([!0,!0,!0,!0])),void 0!==g&&(A|=S.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(g),this.depthMask.set(!0)),void 0!==M&&(A|=S.STENCIL_BUFFER_BIT,this.clearStencil.set(M),this.stencilMask.set(255)),S.clear(A)}setCullFace(o){!1===o.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(o.mode),this.frontFace.set(o.frontFace))}setDepthMode(o){o.func!==this.gl.ALWAYS||o.mask?(this.depthTest.set(!0),this.depthFunc.set(o.func),this.depthMask.set(o.mask),this.depthRange.set(o.range)):this.depthTest.set(!1)}setStencilMode(o){o.test.func!==this.gl.ALWAYS||o.mask?(this.stencilTest.set(!0),this.stencilMask.set(o.mask),this.stencilOp.set([o.fail,o.depthFail,o.pass]),this.stencilFunc.set({func:o.test.func,ref:o.ref,mask:o.test.mask})):this.stencilTest.set(!1)}setColorMode(o){p.aG(o.blendFunction,Co.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(o.blendFunction),this.blendColor.set(o.blendColor)),this.colorMask.set(o.mask)}createVertexArray(){var o;return gu(this.gl)?this.gl.createVertexArray():null===(o=this.gl.getExtension("OES_vertex_array_object"))||void 0===o?void 0:o.createVertexArrayOES()}deleteVertexArray(o){var g;return gu(this.gl)?this.gl.deleteVertexArray(o):null===(g=this.gl.getExtension("OES_vertex_array_object"))||void 0===g?void 0:g.deleteVertexArrayOES(o)}unbindVAO(){this.bindVertexArray.set(null)}}class zs{constructor(o,g,M){this.func=o,this.mask=g,this.range=M}}zs.ReadOnly=!1,zs.ReadWrite=!0,zs.disabled=new zs(519,zs.ReadOnly,[0,1]);class po{constructor(o,g,M,S,A,Y){this.test=o,this.ref=g,this.mask=M,this.fail=S,this.depthFail=A,this.pass=Y}}po.disabled=new po({func:519,mask:0},0,0,7680,7680,7680);class ka{constructor(o,g,M){this.enable=o,this.mode=g,this.frontFace=M}}let Xa;function Gs(x,o,g,M,S,A,Y){const U=x.context,K=U.gl,ge=x.useProgram("collisionBox"),Ce=[];let Ne=0,ot=0;for(let bt=0;bt<M.length;bt++){const Mn=M[bt],Bn=o.getTile(Mn),qn=Bn.getBucket(g);if(!qn)continue;let Hn=Mn.posMatrix;0===S[0]&&0===S[1]||(Hn=x.translatePosMatrix(Mn.posMatrix,Bn,S,A));const _r=Y?qn.textCollisionBox:qn.iconCollisionBox,yr=qn.collisionCircleArray;if(yr.length>0){const Fr=p.Z(),ti=Hn;p.aU(Fr,qn.placementInvProjMatrix,x.transform.glCoordMatrix),p.aU(Fr,Fr,qn.placementViewportMatrix),Ce.push({circleArray:yr,circleOffset:ot,transform:ti,invTransform:Fr,coord:Mn}),Ne+=yr.length/4,ot=Ne}_r&&ge.draw(U,K.LINES,zs.disabled,po.disabled,x.colorModeForRenderPass(),ka.disabled,ss(Hn,x.transform,Bn),x.style.map.terrain&&x.style.map.terrain.getTerrainData(Mn),g.id,_r.layoutVertexBuffer,_r.indexBuffer,_r.segments,null,x.transform.zoom,null,null,_r.collisionVertexBuffer)}if(!Y||!Ce.length)return;const Pt=x.useProgram("collisionCircle"),Lt=new p.aV;Lt.resize(4*Ne),Lt._trim();let jt=0;for(const bt of Ce)for(let Mn=0;Mn<bt.circleArray.length/4;Mn++){const Bn=4*Mn,qn=bt.circleArray[Bn+0],Hn=bt.circleArray[Bn+1],_r=bt.circleArray[Bn+2],yr=bt.circleArray[Bn+3];Lt.emplace(jt++,qn,Hn,_r,yr,0),Lt.emplace(jt++,qn,Hn,_r,yr,1),Lt.emplace(jt++,qn,Hn,_r,yr,2),Lt.emplace(jt++,qn,Hn,_r,yr,3)}(!Xa||Xa.length<2*Ne)&&(Xa=function(bt){const Mn=2*bt,Bn=new p.aX;Bn.resize(Mn),Bn._trim();for(let qn=0;qn<Mn;qn++){const Hn=6*qn;Bn.uint16[Hn+0]=4*qn+0,Bn.uint16[Hn+1]=4*qn+1,Bn.uint16[Hn+2]=4*qn+2,Bn.uint16[Hn+3]=4*qn+2,Bn.uint16[Hn+4]=4*qn+3,Bn.uint16[Hn+5]=4*qn+0}return Bn}(Ne));const Nt=U.createIndexBuffer(Xa,!0),vn=U.createVertexBuffer(Lt,p.aW.members,!0);for(const bt of Ce){const Mn={u_matrix:bt.transform,u_inv_matrix:bt.invTransform,u_camera_to_center_distance:(Pn=x.transform).cameraToCenterDistance,u_viewport_size:[Pn.width,Pn.height]};Pt.draw(U,K.TRIANGLES,zs.disabled,po.disabled,x.colorModeForRenderPass(),ka.disabled,Mn,x.style.map.terrain&&x.style.map.terrain.getTerrainData(bt.coord),g.id,vn,Nt,p.S.simpleSegment(0,2*bt.circleOffset,bt.circleArray.length,bt.circleArray.length/2),null,x.transform.zoom,null,null,null)}var Pn;vn.destroy(),Nt.destroy()}ka.disabled=new ka(!1,1029,2305),ka.backCCW=new ka(!0,1029,2305);const Ha=p.ao(new Float32Array(16));function Qu(x,o,g,M,S,A){const{horizontalAlign:Y,verticalAlign:U}=p.au(x);return new p.P((-(Y-.5)*o/S+M[0])*A,(-(U-.5)*g/S+M[1])*A)}function Nl(x,o,g,M,S,A,Y,U,K,ge,Ce){const Ne=x.text.placedSymbolArray,ot=x.text.dynamicLayoutVertexArray,Pt=x.icon.dynamicLayoutVertexArray,Lt={};ot.clear();for(let jt=0;jt<Ne.length;jt++){const Nt=Ne.get(jt),vn=Nt.hidden||!Nt.crossTileID||x.allowVerticalPlacement&&!Nt.placedOrientation?null:M[Nt.crossTileID];if(vn){const Pn=new p.P(Nt.anchorX,Nt.anchorY),bt=ke(Pn,g?Y:A,Ce),Mn=Ge(S.cameraToCenterDistance,bt.signedDistanceFromCamera);let Bn=p.aj(x.textSizeData,K,Nt)*Mn/p.ap;g&&(Bn*=x.tilePixelRatio/U);const{width:qn,height:Hn,anchor:_r,textOffset:yr,textBoxScale:Fr}=vn,ti=Qu(_r,qn,Hn,yr,Fr,Bn),Hs=g?ke(Pn.add(ti),A,Ce).point:bt.point.add(o?ti.rotate(-S.angle):ti),Br=x.allowVerticalPlacement&&Nt.placedOrientation===p.ai.vertical?Math.PI/2:0;for(let Ki=0;Ki<Nt.numGlyphs;Ki++)p.ak(ot,Hs,Br);ge&&Nt.associatedIconIndex>=0&&(Lt[Nt.associatedIconIndex]={shiftedAnchor:Hs,angle:Br})}else Me(Nt.numGlyphs,ot)}if(ge){Pt.clear();const jt=x.icon.placedSymbolArray;for(let Nt=0;Nt<jt.length;Nt++){const vn=jt.get(Nt);if(vn.hidden)Me(vn.numGlyphs,Pt);else{const Pn=Lt[Nt];if(Pn)for(let bt=0;bt<vn.numGlyphs;bt++)p.ak(Pt,Pn.shiftedAnchor,Pn.angle);else Me(vn.numGlyphs,Pt)}}x.icon.dynamicLayoutVertexBuffer.updateData(Pt)}x.text.dynamicLayoutVertexBuffer.updateData(ot)}function Rl(x,o,g){return g.iconsInText&&o?"symbolTextAndIcon":x?"symbolSDF":"symbolIcon"}function Oa(x,o,g,M,S,A,Y,U,K,ge,Ce,Ne){const ot=x.context,Pt=ot.gl,Lt=x.transform,jt="map"===U,Nt="map"===K,vn="viewport"!==U&&"point"!==g.layout.get("symbol-placement"),Pn=jt&&!Nt&&!vn,bt=!g.layout.get("symbol-sort-key").isConstant();let Mn=!1;const Bn=x.depthModeForSublayer(0,zs.ReadOnly),qn=g._unevaluatedLayout.hasValue("text-variable-anchor")||g._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Hn=[];for(const _r of M){const yr=o.getTile(_r),Fr=yr.getBucket(g);if(!Fr)continue;const ti=S?Fr.text:Fr.icon;if(!ti||!ti.segments.get().length||!ti.hasVisibleVertices)continue;const Hs=ti.programConfigurations.get(g.id),Br=S||Fr.sdfIcons,Ki=S?Fr.textSizeData:Fr.iconSizeData,Oi=Nt||0!==Lt.pitch,Ws=x.useProgram(Rl(Br,S,Fr),Hs),Rs=p.ah(Ki,Lt.zoom),Ss=x.style.map.terrain&&x.style.map.terrain.getTerrainData(_r);let Ks,tl,co,Tl,Ra=[0,0],Mo=null;if(S)tl=yr.glyphAtlasTexture,co=Pt.LINEAR,Ks=yr.glyphAtlasTexture.size,Fr.iconsInText&&(Ra=yr.imageAtlasTexture.size,Mo=yr.imageAtlasTexture,Tl=Oi||x.options.rotating||x.options.zooming||"composite"===Ki.kind||"camera"===Ki.kind?Pt.LINEAR:Pt.NEAREST);else{const Ya=1!==g.layout.get("icon-size").constantOr(0)||Fr.iconsNeedLinear;tl=yr.imageAtlasTexture,co=Br||x.options.rotating||x.options.zooming||Ya||Oi?Pt.LINEAR:Pt.NEAREST,Ks=yr.imageAtlasTexture.size}const bu=Tt(yr,1,x.transform.zoom),ao=Dn(_r.posMatrix,Nt,jt,x.transform,bu),iu=nn(_r.posMatrix,Nt,jt,x.transform,bu),Au=qn&&Fr.hasTextData(),$u="none"!==g.layout.get("icon-text-fit")&&Au&&Fr.hasIconData();if(vn){const Ya=x.style.map.terrain?(Ga,Ma)=>x.style.map.terrain.getElevation(_r,Ga,Ma):null,Cl="map"===g.layout.get("text-rotation-alignment");Q(Fr,_r.posMatrix,x,S,ao,iu,Nt,ge,Cl,Ya)}const Dd=x.translatePosMatrix(_r.posMatrix,yr,A,Y),xh=vn||S&&qn||$u?Ha:ao,Bl=x.translatePosMatrix(iu,yr,A,Y,!0),su=Br&&0!==g.paint.get(S?"text-halo-width":"icon-halo-width").constantOr(1);let Pu;Pu=Br?Fr.iconsInText?qa(Ki.kind,Rs,Pn,Nt,x,Dd,xh,Bl,Ks,Ra):Ac(Ki.kind,Rs,Pn,Nt,x,Dd,xh,Bl,S,Ks,!0):Sl(Ki.kind,Rs,Pn,Nt,x,Dd,xh,Bl,S,Ks);const nl={program:Ws,buffers:ti,uniformValues:Pu,atlasTexture:tl,atlasTextureIcon:Mo,atlasInterpolation:co,atlasInterpolationIcon:Tl,isSDF:Br,hasHalo:su};if(bt&&Fr.canOverlap){Mn=!0;const Ya=ti.segments.get();for(const Cl of Ya)Hn.push({segments:new p.S([Cl]),sortKey:Cl.sortKey,state:nl,terrainData:Ss})}else Hn.push({segments:ti.segments,sortKey:0,state:nl,terrainData:Ss})}Mn&&Hn.sort((_r,yr)=>_r.sortKey-yr.sortKey);for(const _r of Hn){const yr=_r.state;if(ot.activeTexture.set(Pt.TEXTURE0),yr.atlasTexture.bind(yr.atlasInterpolation,Pt.CLAMP_TO_EDGE),yr.atlasTextureIcon&&(ot.activeTexture.set(Pt.TEXTURE1),yr.atlasTextureIcon&&yr.atlasTextureIcon.bind(yr.atlasInterpolationIcon,Pt.CLAMP_TO_EDGE)),yr.isSDF){const Fr=yr.uniformValues;yr.hasHalo&&(Fr.u_is_halo=1,vc(yr.buffers,_r.segments,g,x,yr.program,Bn,Ce,Ne,Fr,_r.terrainData)),Fr.u_is_halo=0}vc(yr.buffers,_r.segments,g,x,yr.program,Bn,Ce,Ne,yr.uniformValues,_r.terrainData)}}function vc(x,o,g,M,S,A,Y,U,K,ge){const Ce=M.context;S.draw(Ce,Ce.gl.TRIANGLES,A,Y,U,ka.disabled,K,ge,g.id,x.layoutVertexBuffer,x.indexBuffer,o,g.paint,M.transform.zoom,x.programConfigurations.get(g.id),x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer)}function yd(x,o,g,M,S){if(!g||!M||!M.imageAtlas)return;const A=M.imageAtlas.patternPositions;let Y=A[g.to.toString()],U=A[g.from.toString()];if(!Y&&U&&(Y=U),!U&&Y&&(U=Y),!Y||!U){const K=S.getPaintProperty(o);Y=A[K],U=A[K]}Y&&U&&x.setConstantPatternPositions(Y,U)}function Za(x,o,g,M,S,A,Y){const U=x.context.gl,K="fill-pattern",ge=g.paint.get(K),Ce=ge&&ge.constantOr(1),Ne=g.getCrossfadeParameters();let ot,Pt,Lt,jt,Nt;Y?(Pt=Ce&&!g.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ot=U.LINES):(Pt=Ce?"fillPattern":"fill",ot=U.TRIANGLES);const vn=ge.constantOr(null);for(const Pn of M){const bt=o.getTile(Pn);if(Ce&&!bt.patternsLoaded())continue;const Mn=bt.getBucket(g);if(!Mn)continue;const Bn=Mn.programConfigurations.get(g.id),qn=x.useProgram(Pt,Bn),Hn=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Pn);Ce&&(x.context.activeTexture.set(U.TEXTURE0),bt.imageAtlasTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),Bn.updatePaintBuffers(Ne)),yd(Bn,K,vn,bt,g);const _r=Hn?Pn:null,yr=x.translatePosMatrix(_r?_r.posMatrix:Pn.posMatrix,bt,g.paint.get("fill-translate"),g.paint.get("fill-translate-anchor"));if(Y){jt=Mn.indexBuffer2,Nt=Mn.segments2;const Fr=[U.drawingBufferWidth,U.drawingBufferHeight];Lt="fillOutlinePattern"===Pt&&Ce?qr(yr,x,Ne,bt,Fr):ar(yr,Fr)}else jt=Mn.indexBuffer,Nt=Mn.segments,Lt=Ce?Lr(yr,x,Ne,bt):wr(yr);qn.draw(x.context,ot,S,x.stencilModeForClipping(Pn),A,ka.disabled,Lt,Hn,g.id,Mn.layoutVertexBuffer,jt,Nt,g.paint,x.transform.zoom,Bn)}}function Fo(x,o,g,M,S,A,Y){const U=x.context,K=U.gl,ge="fill-extrusion-pattern",Ce=g.paint.get(ge),Ne=Ce.constantOr(1),ot=g.getCrossfadeParameters(),Pt=g.paint.get("fill-extrusion-opacity"),Lt=Ce.constantOr(null);for(const jt of M){const Nt=o.getTile(jt),vn=Nt.getBucket(g);if(!vn)continue;const Pn=x.style.map.terrain&&x.style.map.terrain.getTerrainData(jt),bt=vn.programConfigurations.get(g.id),Mn=x.useProgram(Ne?"fillExtrusionPattern":"fillExtrusion",bt);Ne&&(x.context.activeTexture.set(K.TEXTURE0),Nt.imageAtlasTexture.bind(K.LINEAR,K.CLAMP_TO_EDGE),bt.updatePaintBuffers(ot)),yd(bt,ge,Lt,Nt,g);const Bn=x.translatePosMatrix(jt.posMatrix,Nt,g.paint.get("fill-extrusion-translate"),g.paint.get("fill-extrusion-translate-anchor")),qn=g.paint.get("fill-extrusion-vertical-gradient"),Hn=Ne?Cn(Bn,x,qn,Pt,jt,ot,Nt):rr(Bn,x,qn,Pt);Mn.draw(U,U.gl.TRIANGLES,S,A,Y,ka.backCCW,Hn,Pn,g.id,vn.layoutVertexBuffer,vn.indexBuffer,vn.segments,g.paint,x.transform.zoom,bt,x.style.map.terrain&&vn.centroidVertexBuffer)}}function tr(x,o,g,M,S,A,Y){const U=x.context,K=U.gl,ge=g.fbo;if(!ge)return;const Ce=x.useProgram("hillshade"),Ne=x.style.map.terrain&&x.style.map.terrain.getTerrainData(o);U.activeTexture.set(K.TEXTURE0),K.bindTexture(K.TEXTURE_2D,ge.colorAttachment.get()),Ce.draw(U,K.TRIANGLES,S,A,Y,ka.disabled,((ot,Pt,Lt,jt)=>{const Nt=Lt.paint.get("hillshade-shadow-color"),vn=Lt.paint.get("hillshade-highlight-color"),Pn=Lt.paint.get("hillshade-accent-color");let bt=Lt.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===Lt.paint.get("hillshade-illumination-anchor")&&(bt-=ot.transform.angle);const Mn=!ot.options.moving;return{u_matrix:jt?jt.posMatrix:ot.transform.calculatePosMatrix(Pt.tileID.toUnwrapped(),Mn),u_image:0,u_latrange:Wt(0,Pt.tileID),u_light:[Lt.paint.get("hillshade-exaggeration"),bt],u_shadow:Nt,u_highlight:vn,u_accent:Pn}})(x,g,M,Ne?o:null),Ne,M.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}function Ms(x,o,g,M,S,A){const Y=x.context,U=Y.gl,K=o.dem;if(K&&K.data){const ge=K.dim,Ce=K.stride,Ne=K.getPixels();if(Y.activeTexture.set(U.TEXTURE1),Y.pixelStoreUnpackPremultiplyAlpha.set(!1),o.demTexture=o.demTexture||x.getTileTexture(Ce),o.demTexture){const Pt=o.demTexture;Pt.update(Ne,{premultiply:!1}),Pt.bind(U.NEAREST,U.CLAMP_TO_EDGE)}else o.demTexture=new ne(Y,Ne,U.RGBA,{premultiply:!1}),o.demTexture.bind(U.NEAREST,U.CLAMP_TO_EDGE);Y.activeTexture.set(U.TEXTURE0);let ot=o.fbo;if(!ot){const Pt=new ne(Y,{width:ge,height:ge,data:null},U.RGBA);Pt.bind(U.LINEAR,U.CLAMP_TO_EDGE),ot=o.fbo=Y.createFramebuffer(ge,ge,!0,!1),ot.colorAttachment.set(Pt.texture)}Y.bindFramebuffer.set(ot.framebuffer),Y.viewport.set([0,0,ge,ge]),x.useProgram("hillshadePrepare").draw(Y,U.TRIANGLES,M,S,A,ka.disabled,((Pt,Lt)=>{const jt=Lt.stride,Nt=p.Z();return p.aS(Nt,0,p.N,-p.N,0,0,1),p.$(Nt,Nt,[0,-p.N,0]),{u_matrix:Nt,u_image:1,u_dimension:[jt,jt],u_zoom:Pt.overscaledZ,u_unpack:Lt.getUnpackVector()}})(o.tileID,K),null,g.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments),o.needsHillshadePrepare=!1}}function Pr(x,o,g,M,S,A){const Y=M.paint.get("raster-fade-duration");if(!A&&Y>0){const U=p.h.now(),K=(U-x.timeAdded)/Y,ge=o?(U-o.timeAdded)/Y:-1,Ce=g.getSource(),Ne=S.coveringZoomLevel({tileSize:Ce.tileSize,roundZoom:Ce.roundZoom}),ot=!o||Math.abs(o.tileID.overscaledZ-Ne)>Math.abs(x.tileID.overscaledZ-Ne),Pt=ot&&x.refreshedUponExpiration?1:p.ad(ot?K:1-ge,0,1);return x.refreshedUponExpiration&&K>=1&&(x.refreshedUponExpiration=!1),o?{opacity:1,mix:1-Pt}:{opacity:Pt,mix:0}}return{opacity:1,mix:0}}const Ul=new p.aT(1,0,0,1),_u=new p.aT(0,1,0,1),Vl=new p.aT(0,0,1,1),ol=new p.aT(1,0,1,1),wh=new p.aT(0,1,1,1);function Hu(x,o,g,M){eu(x,0,o+g/2,x.transform.width,g,M)}function mo(x,o,g,M){eu(x,o-g/2,0,g,x.transform.height,M)}function eu(x,o,g,M,S,A){const Y=x.context,U=Y.gl;U.enable(U.SCISSOR_TEST),U.scissor(o*x.pixelRatio,g*x.pixelRatio,M*x.pixelRatio,S*x.pixelRatio),Y.clear({color:A}),U.disable(U.SCISSOR_TEST)}function Ba(x,o,g){const M=x.context,S=M.gl,A=g.posMatrix,Y=x.useProgram("debug"),U=zs.disabled,K=po.disabled,ge=x.colorModeForRenderPass(),Ne=x.style.map.terrain&&x.style.map.terrain.getTerrainData(g);M.activeTexture.set(S.TEXTURE0);const ot=o.getTileByID(g.key).latestRawTileData,Pt=Math.floor((ot&&ot.byteLength||0)/1024),Lt=o.getTile(g).tileSize,jt=512/Math.min(Lt,512)*(g.overscaledZ/x.transform.zoom)*.5;let Nt=g.canonical.toString();g.overscaledZ!==g.canonical.z&&(Nt+=` => ${g.overscaledZ}`),function(vn,Pn){vn.initDebugOverlayCanvas();const bt=vn.debugOverlayCanvas,Mn=vn.context.gl,Bn=vn.debugOverlayCanvas.getContext("2d");Bn.clearRect(0,0,bt.width,bt.height),Bn.shadowColor="white",Bn.shadowBlur=2,Bn.lineWidth=1.5,Bn.strokeStyle="white",Bn.textBaseline="top",Bn.font="bold 36px Open Sans, sans-serif",Bn.fillText(Pn,5,5),Bn.strokeText(Pn,5,5),vn.debugOverlayTexture.update(bt),vn.debugOverlayTexture.bind(Mn.LINEAR,Mn.CLAMP_TO_EDGE)}(x,`${Nt} ${Pt}kB`),Y.draw(M,S.TRIANGLES,U,K,Co.alphaBlended,ka.disabled,Ps(A,p.aT.transparent,jt),null,"$debug",x.debugBuffer,x.quadTriangleIndexBuffer,x.debugSegments),Y.draw(M,S.LINE_STRIP,U,K,ge,ka.disabled,Ps(A,p.aT.red),Ne,"$debug",x.debugBuffer,x.tileBorderIndexBuffer,x.debugSegments)}function ro(x,o,g){const M=x.context,S=M.gl,A=x.colorModeForRenderPass(),Y=new zs(S.LEQUAL,zs.ReadWrite,x.depthRangeFor3D),U=x.useProgram("terrain"),K=o.getTerrainMesh();M.bindFramebuffer.set(null),M.viewport.set([0,0,x.width,x.height]);for(const ge of g){const Ce=x.renderToTexture.getTexture(ge),Ne=o.getTerrainData(ge.tileID);M.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,Ce.texture);const ot={u_matrix:x.transform.calculatePosMatrix(ge.tileID.toUnwrapped()),u_texture:0,u_ele_delta:o.getMeshFrameDelta(x.transform.zoom)};U.draw(M,S.TRIANGLES,Y,po.disabled,A,ka.backCCW,ot,Ne,"terrain",K.vertexBuffer,K.indexBuffer,K.segments)}}class qi{constructor(o,g){this.context=new da(o),this.transform=g,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:p.Z(),renderTime:0},this.setup(),this.numSublayers=Wn.maxUnderzooming+Wn.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new jn}resize(o,g,M){if(this.width=Math.floor(o*M),this.height=Math.floor(g*M),this.pixelRatio=M,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const S of this.style._order)this.style._layers[S].resize()}setup(){const o=this.context,g=new p.a_;g.emplaceBack(0,0),g.emplaceBack(p.N,0),g.emplaceBack(0,p.N),g.emplaceBack(p.N,p.N),this.tileExtentBuffer=o.createVertexBuffer(g,Ds.members),this.tileExtentSegments=p.S.simpleSegment(0,0,4,2);const M=new p.a_;M.emplaceBack(0,0),M.emplaceBack(p.N,0),M.emplaceBack(0,p.N),M.emplaceBack(p.N,p.N),this.debugBuffer=o.createVertexBuffer(M,Ds.members),this.debugSegments=p.S.simpleSegment(0,0,4,5);const S=new p.V;S.emplaceBack(0,0,0,0),S.emplaceBack(p.N,0,p.N,0),S.emplaceBack(0,p.N,0,p.N),S.emplaceBack(p.N,p.N,p.N,p.N),this.rasterBoundsBuffer=o.createVertexBuffer(S,fn.members),this.rasterBoundsSegments=p.S.simpleSegment(0,0,4,2);const A=new p.a_;A.emplaceBack(0,0),A.emplaceBack(1,0),A.emplaceBack(0,1),A.emplaceBack(1,1),this.viewportBuffer=o.createVertexBuffer(A,Ds.members),this.viewportSegments=p.S.simpleSegment(0,0,4,2);const Y=new p.a$;Y.emplaceBack(0),Y.emplaceBack(1),Y.emplaceBack(3),Y.emplaceBack(2),Y.emplaceBack(0),this.tileBorderIndexBuffer=o.createIndexBuffer(Y);const U=new p.b0;U.emplaceBack(0,1,2),U.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=o.createIndexBuffer(U);const K=this.context.gl;this.stencilClearMode=new po({func:K.ALWAYS,mask:0},0,255,K.ZERO,K.ZERO,K.ZERO)}clearStencil(){const o=this.context,g=o.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const M=p.Z();p.aS(M,0,this.width,this.height,0,0,1),p.a0(M,M,[g.drawingBufferWidth,g.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(o,g.TRIANGLES,zs.disabled,this.stencilClearMode,Co.disabled,ka.disabled,Re(M),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(o,g){if(this.currentStencilSource===o.source||!o.isTileClipped()||!g||!g.length)return;this.currentStencilSource=o.source;const M=this.context,S=M.gl;this.nextStencilID+g.length>256&&this.clearStencil(),M.setColorMode(Co.disabled),M.setDepthMode(zs.disabled);const A=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const Y of g){const U=this._tileClippingMaskIDs[Y.key]=this.nextStencilID++,K=this.style.map.terrain&&this.style.map.terrain.getTerrainData(Y);A.draw(M,S.TRIANGLES,zs.disabled,new po({func:S.ALWAYS,mask:0},U,255,S.KEEP,S.KEEP,S.REPLACE),Co.disabled,ka.disabled,Re(Y.posMatrix),K,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const o=this.nextStencilID++,g=this.context.gl;return new po({func:g.NOTEQUAL,mask:255},o,255,g.KEEP,g.KEEP,g.REPLACE)}stencilModeForClipping(o){const g=this.context.gl;return new po({func:g.EQUAL,mask:255},this._tileClippingMaskIDs[o.key],0,g.KEEP,g.KEEP,g.REPLACE)}stencilConfigForOverlap(o){const g=this.context.gl,M=o.sort((Y,U)=>U.overscaledZ-Y.overscaledZ),S=M[M.length-1].overscaledZ,A=M[0].overscaledZ-S+1;if(A>1){this.currentStencilSource=void 0,this.nextStencilID+A>256&&this.clearStencil();const Y={};for(let U=0;U<A;U++)Y[U+S]=new po({func:g.GEQUAL,mask:255},U+this.nextStencilID,255,g.KEEP,g.KEEP,g.REPLACE);return this.nextStencilID+=A,[Y,M]}return[{[S]:po.disabled},M]}colorModeForRenderPass(){const o=this.context.gl;return this._showOverdrawInspector?new Co([o.CONSTANT_COLOR,o.ONE],new p.aT(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Co.unblended:Co.alphaBlended}depthModeForSublayer(o,g,M){if(!this.opaquePassEnabledForLayer())return zs.disabled;const S=1-((1+this.currentLayer)*this.numSublayers+o)*this.depthEpsilon;return new zs(M||this.context.gl.LEQUAL,g,[S,S])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(o,g){this.style=o,this.options=g,this.lineAtlas=o.lineAtlas,this.imageManager=o.imageManager,this.glyphManager=o.glyphManager,this.symbolFadeChange=o.placement.symbolFadeChange(p.h.now()),this.imageManager.beginFrame();const M=this.style._order,S=this.style.sourceCaches,A={},Y={},U={};for(const K in S){const ge=S[K];ge.used&&ge.prepare(this.context),A[K]=ge.getVisibleCoordinates(),Y[K]=A[K].slice().reverse(),U[K]=ge.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let K=0;K<M.length;K++)if(this.style._layers[M[K]].is3D()){this.opaquePassCutoff=K;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const K=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!p.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||K.length)&&(p.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(ge,Ce){const Ne=ge.context,ot=Ne.gl,Pt=Co.unblended,Lt=new zs(ot.LEQUAL,zs.ReadWrite,[0,1]),jt=Ce.getTerrainMesh(),Nt=Ce.sourceCache.getRenderableTiles(),vn=ge.useProgram("terrainDepth");Ne.bindFramebuffer.set(Ce.getFramebuffer("depth").framebuffer),Ne.viewport.set([0,0,ge.width/devicePixelRatio,ge.height/devicePixelRatio]),Ne.clear({color:p.aT.transparent,depth:1});for(const Pn of Nt){const bt=Ce.getTerrainData(Pn.tileID),Mn={u_matrix:ge.transform.calculatePosMatrix(Pn.tileID.toUnwrapped()),u_ele_delta:Ce.getMeshFrameDelta(ge.transform.zoom)};vn.draw(Ne,ot.TRIANGLES,Lt,po.disabled,Pt,ka.backCCW,Mn,bt,"terrain",jt.vertexBuffer,jt.indexBuffer,jt.segments)}Ne.bindFramebuffer.set(null),Ne.viewport.set([0,0,ge.width,ge.height])}(this,this.style.map.terrain),function(ge,Ce){const Ne=ge.context,ot=Ne.gl,Pt=Co.unblended,Lt=new zs(ot.LEQUAL,zs.ReadWrite,[0,1]),jt=Ce.getTerrainMesh(),Nt=Ce.getCoordsTexture(),vn=Ce.sourceCache.getRenderableTiles(),Pn=ge.useProgram("terrainCoords");Ne.bindFramebuffer.set(Ce.getFramebuffer("coords").framebuffer),Ne.viewport.set([0,0,ge.width/devicePixelRatio,ge.height/devicePixelRatio]),Ne.clear({color:p.aT.transparent,depth:1}),Ce.coordsIndex=[];for(const bt of vn){const Mn=Ce.getTerrainData(bt.tileID);Ne.activeTexture.set(ot.TEXTURE0),ot.bindTexture(ot.TEXTURE_2D,Nt.texture);const Bn={u_matrix:ge.transform.calculatePosMatrix(bt.tileID.toUnwrapped()),u_terrain_coords_id:(255-Ce.coordsIndex.length)/255,u_texture:0,u_ele_delta:Ce.getMeshFrameDelta(ge.transform.zoom)};Pn.draw(Ne,ot.TRIANGLES,Lt,po.disabled,Pt,ka.backCCW,Bn,Mn,"terrain",jt.vertexBuffer,jt.indexBuffer,jt.segments),Ce.coordsIndex.push(bt.tileID.key)}Ne.bindFramebuffer.set(null),Ne.viewport.set([0,0,ge.width,ge.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const K of M){const ge=this.style._layers[K];if(!ge.hasOffscreenPass()||ge.isHidden(this.transform.zoom))continue;const Ce=Y[ge.source];("custom"===ge.type||Ce.length)&&this.renderLayer(this,S[ge.source],ge,Ce)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:g.showOverdrawInspector?p.aT.black:p.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=g.showOverdrawInspector,this.depthRangeFor3D=[0,1-(o._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=M.length-1;this.currentLayer>=0;this.currentLayer--){const K=this.style._layers[M[this.currentLayer]],ge=S[K.source],Ce=A[K.source];this._renderTileClippingMasks(K,Ce),this.renderLayer(this,ge,K,Ce)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<M.length;this.currentLayer++){const K=this.style._layers[M[this.currentLayer]],ge=S[K.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(K))continue;const Ce=("symbol"===K.type?U:Y)[K.source];this._renderTileClippingMasks(K,A[K.source]),this.renderLayer(this,ge,K,Ce)}if(this.options.showTileBoundaries){const K=function(ge,Ce){let Ne=null;const ot=Object.values(ge._layers).flatMap(Nt=>Nt.source&&!Nt.isHidden(Ce)?[ge.sourceCaches[Nt.source]]:[]),Pt=ot.filter(Nt=>"vector"===Nt.getSource().type),Lt=ot.filter(Nt=>"vector"!==Nt.getSource().type),jt=Nt=>{(!Ne||Ne.getSource().maxzoom<Nt.getSource().maxzoom)&&(Ne=Nt)};return Pt.forEach(Nt=>jt(Nt)),Ne||Lt.forEach(Nt=>jt(Nt)),Ne}(this.style,this.transform.zoom);K&&function(ge,Ce,Ne){for(let ot=0;ot<Ne.length;ot++)Ba(ge,Ce,Ne[ot])}(this,K,K.getVisibleCoordinates())}this.options.showPadding&&function(K){const ge=K.transform.padding;Hu(K,K.transform.height-(ge.top||0),3,Ul),Hu(K,ge.bottom||0,3,_u),mo(K,ge.left||0,3,Vl),mo(K,K.transform.width-(ge.right||0),3,ol);const Ce=K.transform.centerPoint;var Ne,ot,Pt,Lt;eu(Ne=K,(ot=Ce.x)-1,(Pt=K.transform.height-Ce.y)-10,2,20,Lt=wh),eu(Ne,ot-10,Pt-1,20,2,Lt)}(this),this.context.setDefault()}renderLayer(o,g,M,S){if(!M.isHidden(this.transform.zoom)&&("background"===M.type||"custom"===M.type||(S||[]).length))switch(this.id=M.id,M.type){case"symbol":!function(A,Y,U,K,ge){if("translucent"!==A.renderPass)return;const Ce=po.disabled,Ne=A.colorModeForRenderPass();(U._unevaluatedLayout.hasValue("text-variable-anchor")||U._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(ot,Pt,Lt,jt,Nt,vn,Pn){const bt=Pt.transform,Mn="map"===Nt,Bn="map"===vn;for(const qn of ot){const Hn=jt.getTile(qn),_r=Hn.getBucket(Lt);if(!_r||!_r.text||!_r.text.segments.get().length)continue;const yr=p.ah(_r.textSizeData,bt.zoom),Fr=Tt(Hn,1,Pt.transform.zoom),ti=Dn(qn.posMatrix,Bn,Mn,Pt.transform,Fr),Hs="none"!==Lt.layout.get("icon-text-fit")&&_r.hasIconData();if(yr){const Br=Math.pow(2,bt.zoom-Hn.tileID.overscaledZ);Nl(_r,Mn,Bn,Pn,bt,ti,qn.posMatrix,Br,yr,Hs,Pt.style.map.terrain?(Ki,Oi)=>Pt.style.map.terrain.getElevation(qn,Ki,Oi):null)}}}(K,A,U,Y,U.layout.get("text-rotation-alignment"),U.layout.get("text-pitch-alignment"),ge),0!==U.paint.get("icon-opacity").constantOr(1)&&Oa(A,Y,U,K,!1,U.paint.get("icon-translate"),U.paint.get("icon-translate-anchor"),U.layout.get("icon-rotation-alignment"),U.layout.get("icon-pitch-alignment"),U.layout.get("icon-keep-upright"),Ce,Ne),0!==U.paint.get("text-opacity").constantOr(1)&&Oa(A,Y,U,K,!0,U.paint.get("text-translate"),U.paint.get("text-translate-anchor"),U.layout.get("text-rotation-alignment"),U.layout.get("text-pitch-alignment"),U.layout.get("text-keep-upright"),Ce,Ne),Y.map.showCollisionBoxes&&(Gs(A,Y,U,K,U.paint.get("text-translate"),U.paint.get("text-translate-anchor"),!0),Gs(A,Y,U,K,U.paint.get("icon-translate"),U.paint.get("icon-translate-anchor"),!1))}(o,g,M,S,this.style.placement.variableOffsets);break;case"circle":!function(A,Y,U,K){if("translucent"!==A.renderPass)return;const ge=U.paint.get("circle-opacity"),Ce=U.paint.get("circle-stroke-width"),Ne=U.paint.get("circle-stroke-opacity"),ot=!U.layout.get("circle-sort-key").isConstant();if(0===ge.constantOr(1)&&(0===Ce.constantOr(1)||0===Ne.constantOr(1)))return;const Pt=A.context,Lt=Pt.gl,jt=A.depthModeForSublayer(0,zs.ReadOnly),Nt=po.disabled,vn=A.colorModeForRenderPass(),Pn=[];for(let bt=0;bt<K.length;bt++){const Mn=K[bt],Bn=Y.getTile(Mn),qn=Bn.getBucket(U);if(!qn)continue;const Hn=qn.programConfigurations.get(U.id),_r=A.useProgram("circle",Hn),yr=qn.layoutVertexBuffer,Fr=qn.indexBuffer,ti=A.style.map.terrain&&A.style.map.terrain.getTerrainData(Mn),Hs={programConfiguration:Hn,program:_r,layoutVertexBuffer:yr,indexBuffer:Fr,uniformValues:ei(A,Mn,Bn,U),terrainData:ti};if(ot){const Br=qn.segments.get();for(const Ki of Br)Pn.push({segments:new p.S([Ki]),sortKey:Ki.sortKey,state:Hs})}else Pn.push({segments:qn.segments,sortKey:0,state:Hs})}ot&&Pn.sort((bt,Mn)=>bt.sortKey-Mn.sortKey);for(const bt of Pn){const{programConfiguration:Mn,program:Bn,layoutVertexBuffer:qn,indexBuffer:Hn,uniformValues:_r,terrainData:yr}=bt.state;Bn.draw(Pt,Lt.TRIANGLES,jt,Nt,vn,ka.disabled,_r,yr,U.id,qn,Hn,bt.segments,U.paint,A.transform.zoom,Mn)}}(o,g,M,S);break;case"heatmap":!function(A,Y,U,K){if(0!==U.paint.get("heatmap-opacity"))if("offscreen"===A.renderPass){const ge=A.context,Ce=ge.gl,Ne=po.disabled,ot=new Co([Ce.ONE,Ce.ONE],p.aT.transparent,[!0,!0,!0,!0]);(function(Pt,Lt,jt){const Nt=Pt.gl;Pt.activeTexture.set(Nt.TEXTURE1),Pt.viewport.set([0,0,Lt.width/4,Lt.height/4]);let vn=jt.heatmapFbo;if(vn)Nt.bindTexture(Nt.TEXTURE_2D,vn.colorAttachment.get()),Pt.bindFramebuffer.set(vn.framebuffer);else{const Pn=Nt.createTexture();Nt.bindTexture(Nt.TEXTURE_2D,Pn),Nt.texParameteri(Nt.TEXTURE_2D,Nt.TEXTURE_WRAP_S,Nt.CLAMP_TO_EDGE),Nt.texParameteri(Nt.TEXTURE_2D,Nt.TEXTURE_WRAP_T,Nt.CLAMP_TO_EDGE),Nt.texParameteri(Nt.TEXTURE_2D,Nt.TEXTURE_MIN_FILTER,Nt.LINEAR),Nt.texParameteri(Nt.TEXTURE_2D,Nt.TEXTURE_MAG_FILTER,Nt.LINEAR),vn=jt.heatmapFbo=Pt.createFramebuffer(Lt.width/4,Lt.height/4,!1,!1),function(bt,Mn,Bn,qn){var Hn,_r;const yr=bt.gl,Fr=null!==(Hn=bt.HALF_FLOAT)&&void 0!==Hn?Hn:yr.UNSIGNED_BYTE,ti=null!==(_r=bt.RGBA16F)&&void 0!==_r?_r:yr.RGBA;yr.texImage2D(yr.TEXTURE_2D,0,ti,Mn.width/4,Mn.height/4,0,yr.RGBA,Fr,null),qn.colorAttachment.set(Bn)}(Pt,Lt,Pn,vn)}})(ge,A,U),ge.clear({color:p.aT.transparent});for(let Pt=0;Pt<K.length;Pt++){const Lt=K[Pt];if(Y.hasRenderableParent(Lt))continue;const jt=Y.getTile(Lt),Nt=jt.getBucket(U);if(!Nt)continue;const vn=Nt.programConfigurations.get(U.id),Pn=A.useProgram("heatmap",vn),{zoom:bt}=A.transform;Pn.draw(ge,Ce.TRIANGLES,zs.disabled,Ne,ot,ka.disabled,ut(Lt.posMatrix,jt,bt,U.paint.get("heatmap-intensity")),null,U.id,Nt.layoutVertexBuffer,Nt.indexBuffer,Nt.segments,U.paint,A.transform.zoom,vn)}ge.viewport.set([0,0,A.width,A.height])}else"translucent"===A.renderPass&&(A.context.setColorMode(A.colorModeForRenderPass()),function(ge,Ce){const Ne=ge.context,ot=Ne.gl,Pt=Ce.heatmapFbo;if(!Pt)return;Ne.activeTexture.set(ot.TEXTURE0),ot.bindTexture(ot.TEXTURE_2D,Pt.colorAttachment.get()),Ne.activeTexture.set(ot.TEXTURE1);let Lt=Ce.colorRampTexture;Lt||(Lt=Ce.colorRampTexture=new ne(Ne,Ce.colorRamp,ot.RGBA)),Lt.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),ge.useProgram("heatmapTexture").draw(Ne,ot.TRIANGLES,zs.disabled,po.disabled,ge.colorModeForRenderPass(),ka.disabled,((jt,Nt,vn,Pn)=>{const bt=p.Z();p.aS(bt,0,jt.width,jt.height,0,0,1);const Mn=jt.context.gl;return{u_matrix:bt,u_world:[Mn.drawingBufferWidth,Mn.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Nt.paint.get("heatmap-opacity")}})(ge,Ce),null,Ce.id,ge.viewportBuffer,ge.quadTriangleIndexBuffer,ge.viewportSegments,Ce.paint,ge.transform.zoom)}(A,U))}(o,g,M,S);break;case"line":!function(A,Y,U,K){if("translucent"!==A.renderPass)return;const ge=U.paint.get("line-opacity"),Ce=U.paint.get("line-width");if(0===ge.constantOr(1)||0===Ce.constantOr(1))return;const Ne=A.depthModeForSublayer(0,zs.ReadOnly),ot=A.colorModeForRenderPass(),Pt=U.paint.get("line-dasharray"),Lt=U.paint.get("line-pattern"),jt=Lt.constantOr(1),Nt=U.paint.get("line-gradient"),vn=U.getCrossfadeParameters(),Pn=jt?"linePattern":Pt?"lineSDF":Nt?"lineGradient":"line",bt=A.context,Mn=bt.gl;let Bn=!0;for(const qn of K){const Hn=Y.getTile(qn);if(jt&&!Hn.patternsLoaded())continue;const _r=Hn.getBucket(U);if(!_r)continue;const yr=_r.programConfigurations.get(U.id),Fr=A.context.program.get(),ti=A.useProgram(Pn,yr),Hs=Bn||ti.program!==Fr,Br=A.style.map.terrain&&A.style.map.terrain.getTerrainData(qn),Ki=Lt.constantOr(null);if(Ki&&Hn.imageAtlas){const Rs=Hn.imageAtlas,Ss=Rs.patternPositions[Ki.to.toString()],Ks=Rs.patternPositions[Ki.from.toString()];Ss&&Ks&&yr.setConstantPatternPositions(Ss,Ks)}const Oi=Br?qn:null,Ws=jt?Hr(A,Hn,U,vn,Oi):Pt?gn(A,Hn,U,Pt,vn,Oi):Nt?Mr(A,Hn,U,_r.lineClipsArray.length,Oi):An(A,Hn,U,Oi);if(jt)bt.activeTexture.set(Mn.TEXTURE0),Hn.imageAtlasTexture.bind(Mn.LINEAR,Mn.CLAMP_TO_EDGE),yr.updatePaintBuffers(vn);else if(Pt&&(Hs||A.lineAtlas.dirty))bt.activeTexture.set(Mn.TEXTURE0),A.lineAtlas.bind(bt);else if(Nt){const Rs=_r.gradients[U.id];let Ss=Rs.texture;if(U.gradientVersion!==Rs.version){let Ks=256;if(U.stepInterpolant){const tl=Y.getSource().maxzoom,co=qn.canonical.z===tl?Math.ceil(1<<A.transform.maxZoom-qn.canonical.z):1;Ks=p.ad(p.aY(_r.maxLineLength/p.N*1024*co),256,bt.maxTextureSize)}Rs.gradient=p.aZ({expression:U.gradientExpression(),evaluationKey:"lineProgress",resolution:Ks,image:Rs.gradient||void 0,clips:_r.lineClipsArray}),Rs.texture?Rs.texture.update(Rs.gradient):Rs.texture=new ne(bt,Rs.gradient,Mn.RGBA),Rs.version=U.gradientVersion,Ss=Rs.texture}bt.activeTexture.set(Mn.TEXTURE0),Ss.bind(U.stepInterpolant?Mn.NEAREST:Mn.LINEAR,Mn.CLAMP_TO_EDGE)}ti.draw(bt,Mn.TRIANGLES,Ne,A.stencilModeForClipping(qn),ot,ka.disabled,Ws,Br,U.id,_r.layoutVertexBuffer,_r.indexBuffer,_r.segments,U.paint,A.transform.zoom,yr,_r.layoutVertexBuffer2),Bn=!1}}(o,g,M,S);break;case"fill":!function(A,Y,U,K){const ge=U.paint.get("fill-color"),Ce=U.paint.get("fill-opacity");if(0===Ce.constantOr(1))return;const Ne=A.colorModeForRenderPass(),ot=U.paint.get("fill-pattern"),Pt=A.opaquePassEnabledForLayer()&&!ot.constantOr(1)&&1===ge.constantOr(p.aT.transparent).a&&1===Ce.constantOr(0)?"opaque":"translucent";if(A.renderPass===Pt){const Lt=A.depthModeForSublayer(1,"opaque"===A.renderPass?zs.ReadWrite:zs.ReadOnly);Za(A,Y,U,K,Lt,Ne,!1)}if("translucent"===A.renderPass&&U.paint.get("fill-antialias")){const Lt=A.depthModeForSublayer(U.getPaintProperty("fill-outline-color")?2:0,zs.ReadOnly);Za(A,Y,U,K,Lt,Ne,!0)}}(o,g,M,S);break;case"fill-extrusion":!function(A,Y,U,K){const ge=U.paint.get("fill-extrusion-opacity");if(0!==ge&&"translucent"===A.renderPass){const Ce=new zs(A.context.gl.LEQUAL,zs.ReadWrite,A.depthRangeFor3D);if(1!==ge||U.paint.get("fill-extrusion-pattern").constantOr(1))Fo(A,Y,U,K,Ce,po.disabled,Co.disabled),Fo(A,Y,U,K,Ce,A.stencilModeFor3D(),A.colorModeForRenderPass());else{const Ne=A.colorModeForRenderPass();Fo(A,Y,U,K,Ce,po.disabled,Ne)}}}(o,g,M,S);break;case"hillshade":!function(A,Y,U,K){if("offscreen"!==A.renderPass&&"translucent"!==A.renderPass)return;const ge=A.context,Ce=A.depthModeForSublayer(0,zs.ReadOnly),Ne=A.colorModeForRenderPass(),[ot,Pt]="translucent"===A.renderPass?A.stencilConfigForOverlap(K):[{},K];for(const Lt of Pt){const jt=Y.getTile(Lt);void 0!==jt.needsHillshadePrepare&&jt.needsHillshadePrepare&&"offscreen"===A.renderPass?Ms(A,jt,U,Ce,po.disabled,Ne):"translucent"===A.renderPass&&tr(A,Lt,jt,U,Ce,ot[Lt.overscaledZ],Ne)}ge.viewport.set([0,0,A.width,A.height])}(o,g,M,S);break;case"raster":!function(A,Y,U,K){if("translucent"!==A.renderPass||0===U.paint.get("raster-opacity")||!K.length)return;const ge=A.context,Ce=ge.gl,Ne=Y.getSource(),ot=A.useProgram("raster"),Pt=A.colorModeForRenderPass(),[Lt,jt]=Ne instanceof kn?[{},K]:A.stencilConfigForOverlap(K),Nt=jt[jt.length-1].overscaledZ,vn=!A.options.moving;for(const Pn of jt){const bt=A.depthModeForSublayer(Pn.overscaledZ-Nt,1===U.paint.get("raster-opacity")?zs.ReadWrite:zs.ReadOnly,Ce.LESS),Mn=Y.getTile(Pn);Mn.registerFadeDuration(U.paint.get("raster-fade-duration"));const Bn=Y.findLoadedParent(Pn,0),qn=Pr(Mn,Bn,Y,U,A.transform,A.style.map.terrain);let Hn,_r;const yr="nearest"===U.paint.get("raster-resampling")?Ce.NEAREST:Ce.LINEAR;ge.activeTexture.set(Ce.TEXTURE0),Mn.texture.bind(yr,Ce.CLAMP_TO_EDGE,Ce.LINEAR_MIPMAP_NEAREST),ge.activeTexture.set(Ce.TEXTURE1),Bn?(Bn.texture.bind(yr,Ce.CLAMP_TO_EDGE,Ce.LINEAR_MIPMAP_NEAREST),Hn=Math.pow(2,Bn.tileID.overscaledZ-Mn.tileID.overscaledZ),_r=[Mn.tileID.canonical.x*Hn%1,Mn.tileID.canonical.y*Hn%1]):Mn.texture.bind(yr,Ce.CLAMP_TO_EDGE,Ce.LINEAR_MIPMAP_NEAREST);const Fr=A.style.map.terrain&&A.style.map.terrain.getTerrainData(Pn),ti=Fr?Pn:null,Hs=ti?ti.posMatrix:A.transform.calculatePosMatrix(Pn.toUnwrapped(),vn),Br=ns(Hs,_r||[0,0],Hn||1,qn,U);Ne instanceof kn?ot.draw(ge,Ce.TRIANGLES,bt,po.disabled,Pt,ka.disabled,Br,Fr,U.id,Ne.boundsBuffer,A.quadTriangleIndexBuffer,Ne.boundsSegments):ot.draw(ge,Ce.TRIANGLES,bt,Lt[Pn.overscaledZ],Pt,ka.disabled,Br,Fr,U.id,A.rasterBoundsBuffer,A.quadTriangleIndexBuffer,A.rasterBoundsSegments)}}(o,g,M,S);break;case"background":!function(A,Y,U,K){const ge=U.paint.get("background-color"),Ce=U.paint.get("background-opacity");if(0===Ce)return;const Ne=A.context,ot=Ne.gl,Pt=A.transform,Lt=Pt.tileSize,jt=U.paint.get("background-pattern");if(A.isPatternMissing(jt))return;const Nt=!jt&&1===ge.a&&1===Ce&&A.opaquePassEnabledForLayer()?"opaque":"translucent";if(A.renderPass!==Nt)return;const vn=po.disabled,Pn=A.depthModeForSublayer(0,"opaque"===Nt?zs.ReadWrite:zs.ReadOnly),bt=A.colorModeForRenderPass(),Mn=A.useProgram(jt?"backgroundPattern":"background"),Bn=K||Pt.coveringTiles({tileSize:Lt,terrain:A.style.map.terrain});jt&&(Ne.activeTexture.set(ot.TEXTURE0),A.imageManager.bind(A.context));const qn=U.getCrossfadeParameters();for(const Hn of Bn){const _r=K?Hn.posMatrix:A.transform.calculatePosMatrix(Hn.toUnwrapped()),yr=jt?_l(_r,Ce,A,jt,{tileID:Hn,tileSize:Lt},qn):us(_r,Ce,ge),Fr=A.style.map.terrain&&A.style.map.terrain.getTerrainData(Hn);Mn.draw(Ne,ot.TRIANGLES,Pn,vn,bt,ka.disabled,yr,Fr,U.id,A.tileExtentBuffer,A.quadTriangleIndexBuffer,A.tileExtentSegments)}}(o,0,M,S);break;case"custom":!function(A,Y,U){const K=A.context,ge=U.implementation;if("offscreen"===A.renderPass){const Ce=ge.prerender;Ce&&(A.setCustomLayerDefaults(),K.setColorMode(A.colorModeForRenderPass()),Ce.call(ge,K.gl,A.transform.customLayerMatrix()),K.setDirty(),A.setBaseState())}else if("translucent"===A.renderPass){A.setCustomLayerDefaults(),K.setColorMode(A.colorModeForRenderPass()),K.setStencilMode(po.disabled);const Ce="3d"===ge.renderingMode?new zs(A.context.gl.LEQUAL,zs.ReadWrite,A.depthRangeFor3D):A.depthModeForSublayer(0,zs.ReadOnly);K.setDepthMode(Ce),ge.render(K.gl,A.transform.customLayerMatrix()),K.setDirty(),A.setBaseState(),K.bindFramebuffer.set(null)}}(o,0,M)}}translatePosMatrix(o,g,M,S,A){if(!M[0]&&!M[1])return o;const Y=A?"map"===S?this.transform.angle:0:"viewport"===S?-this.transform.angle:0;if(Y){const ge=Math.sin(Y),Ce=Math.cos(Y);M=[M[0]*Ce-M[1]*ge,M[0]*ge+M[1]*Ce]}const U=[A?M[0]:Tt(g,M[0],this.transform.zoom),A?M[1]:Tt(g,M[1],this.transform.zoom),0],K=new Float32Array(16);return p.$(K,o,U),K}saveTileTexture(o){const g=this._tileTextures[o.size[0]];g?g.push(o):this._tileTextures[o.size[0]]=[o]}getTileTexture(o){const g=this._tileTextures[o];return g&&g.length>0?g.pop():null}isPatternMissing(o){if(!o)return!1;if(!o.from||!o.to)return!0;const g=this.imageManager.getPattern(o.from.toString()),M=this.imageManager.getPattern(o.to.toString());return!g||!M}useProgram(o,g){this.cache=this.cache||{};const M=o+(g?g.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[M]||(this.cache[M]=new Xt(this.context,mt[o],g,Aa[o],this._showOverdrawInspector,this.style.map.terrain)),this.cache[M]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const o=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(o.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new ne(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:o,drawingBufferHeight:g}=this.context.gl;return this.width!==o||this.height!==g}}class va{constructor(o,g){this.points=o,this.planes=g}static fromInvProjectionMatrix(o,g,M){const S=Math.pow(2,M),A=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(U=>{const K=1/(U=p.ag([],U,o))[3]/g*S;return p.b3(U,U,[K,K,1/U[3],K])}),Y=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(U=>{const K=function(ot,Pt){var Lt=Pt[0],jt=Pt[1],Nt=Pt[2],vn=Lt*Lt+jt*jt+Nt*Nt;return vn>0&&(vn=1/Math.sqrt(vn)),ot[0]=Pt[0]*vn,ot[1]=Pt[1]*vn,ot[2]=Pt[2]*vn,ot}([],(ot=[],Pt=te([],A[U[0]],A[U[1]]),Lt=te([],A[U[2]],A[U[1]]),jt=Pt[0],Pn=Lt[0],ot[0]=(Nt=Pt[1])*(Mn=Lt[2])-(vn=Pt[2])*(bt=Lt[1]),ot[1]=vn*Pn-jt*Mn,ot[2]=jt*bt-Nt*Pn,ot)),ge=-((Ce=K)[0]*(Ne=A[U[1]])[0]+Ce[1]*Ne[1]+Ce[2]*Ne[2]);var ot,Pt,Lt,jt,Nt,vn,Pn,bt,Mn,Ce,Ne;return K.concat(ge)});return new va(A,Y)}}class tu{constructor(o,g){var M,S,A;this.min=o,this.max=g,this.center=function(M,S,A){return M[0]=.5*S[0],M[1]=.5*S[1],M[2]=.5*S[2],M}([],((M=[])[0]=(S=this.min)[0]+(A=this.max)[0],M[1]=S[1]+A[1],M[2]=S[2]+A[2],M))}quadrant(o){const g=[o%2==0,o<2],M=de(this.min),S=de(this.max);for(let A=0;A<g.length;A++)M[A]=g[A]?this.min[A]:this.center[A],S[A]=g[A]?this.center[A]:this.max[A];return S[2]=this.max[2],new tu(M,S)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}intersects(o){const g=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let M=!0;for(let S=0;S<o.planes.length;S++){const A=o.planes[S];let Y=0;for(let U=0;U<g.length;U++)p.b4(A,g[U])>=0&&Y++;if(0===Y)return 0;Y!==g.length&&(M=!1)}if(M)return 2;for(let S=0;S<3;S++){let A=Number.MAX_VALUE,Y=-Number.MAX_VALUE;for(let U=0;U<o.points.length;U++){const K=o.points[U][S]-this.min[S];A=Math.min(A,K),Y=Math.max(Y,K)}if(Y<0||A>this.max[S]-this.min[S])return 0}return 1}}class Cu{constructor(o=0,g=0,M=0,S=0){if(isNaN(o)||o<0||isNaN(g)||g<0||isNaN(M)||M<0||isNaN(S)||S<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=o,this.bottom=g,this.left=M,this.right=S}interpolate(o,g,M){return null!=g.top&&null!=o.top&&(this.top=p.B.number(o.top,g.top,M)),null!=g.bottom&&null!=o.bottom&&(this.bottom=p.B.number(o.bottom,g.bottom,M)),null!=g.left&&null!=o.left&&(this.left=p.B.number(o.left,g.left,M)),null!=g.right&&null!=o.right&&(this.right=p.B.number(o.right,g.right,M)),this}getCenter(o,g){const M=p.ad((this.left+o-this.right)/2,0,o),S=p.ad((this.top+g-this.bottom)/2,0,g);return new p.P(M,S)}equals(o){return this.top===o.top&&this.bottom===o.bottom&&this.left===o.left&&this.right===o.right}clone(){return new Cu(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class vd{constructor(o,g,M,S,A){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===A||!!A,this._minZoom=o||0,this._maxZoom=g||22,this._minPitch=M??0,this._maxPitch=S??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new p.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Cu,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const o=new vd(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return o.apply(this),o}apply(o){this.tileSize=o.tileSize,this.latRange=o.latRange,this.width=o.width,this.height=o.height,this._center=o._center,this._elevation=o._elevation,this._minEleveationForCurrentTile=o._minEleveationForCurrentTile,this.zoom=o.zoom,this.angle=o.angle,this._fov=o._fov,this._pitch=o._pitch,this._unmodified=o._unmodified,this._edgeInsets=o._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(o){this._minZoom!==o&&(this._minZoom=o,this.zoom=Math.max(this.zoom,o))}get maxZoom(){return this._maxZoom}set maxZoom(o){this._maxZoom!==o&&(this._maxZoom=o,this.zoom=Math.min(this.zoom,o))}get minPitch(){return this._minPitch}set minPitch(o){this._minPitch!==o&&(this._minPitch=o,this.pitch=Math.max(this.pitch,o))}get maxPitch(){return this._maxPitch}set maxPitch(o){this._maxPitch!==o&&(this._maxPitch=o,this.pitch=Math.min(this.pitch,o))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(o){void 0===o?o=!0:null===o&&(o=!1),this._renderWorldCopies=o}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new p.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(o){const g=-p.b5(o,-180,180)*Math.PI/180;var M;this.angle!==g&&(this._unmodified=!1,this.angle=g,this._calcMatrices(),this.rotationMatrix=(M=new p.A(4),p.A!=Float32Array&&(M[1]=0,M[2]=0),M[0]=1,M[3]=1,M),function(M,S,A){var Y=S[0],U=S[1],K=S[2],ge=S[3],Ce=Math.sin(A),Ne=Math.cos(A);M[0]=Y*Ne+K*Ce,M[1]=U*Ne+ge*Ce,M[2]=Y*-Ce+K*Ne,M[3]=U*-Ce+ge*Ne}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(o){const g=p.ad(o,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==g&&(this._unmodified=!1,this._pitch=g,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(o){o=Math.max(.01,Math.min(60,o)),this._fov!==o&&(this._unmodified=!1,this._fov=o/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(o){const g=Math.min(Math.max(o,this.minZoom),this.maxZoom);this._zoom!==g&&(this._unmodified=!1,this._zoom=g,this.tileZoom=Math.max(0,Math.floor(g)),this.scale=this.zoomScale(g),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(o){o.lat===this._center.lat&&o.lng===this._center.lng||(this._unmodified=!1,this._center=o,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(o){o!==this._elevation&&(this._elevation=o,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(o){this._edgeInsets.equals(o)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,o,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(o){return this._edgeInsets.equals(o)}interpolatePadding(o,g,M){this._unmodified=!1,this._edgeInsets.interpolate(o,g,M),this._constrain(),this._calcMatrices()}coveringZoomLevel(o){const g=(o.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/o.tileSize));return Math.max(0,g)}getVisibleUnwrappedCoordinates(o){const g=[new p.b6(0,o)];if(this._renderWorldCopies){const M=this.pointCoordinate(new p.P(0,0)),S=this.pointCoordinate(new p.P(this.width,0)),A=this.pointCoordinate(new p.P(this.width,this.height)),Y=this.pointCoordinate(new p.P(0,this.height)),U=Math.floor(Math.min(M.x,S.x,A.x,Y.x)),K=Math.floor(Math.max(M.x,S.x,A.x,Y.x)),ge=1;for(let Ce=U-ge;Ce<=K+ge;Ce++)0!==Ce&&g.push(new p.b6(Ce,o))}return g}coveringTiles(o){var g,M;let S=this.coveringZoomLevel(o);const A=S;if(void 0!==o.minzoom&&S<o.minzoom)return[];void 0!==o.maxzoom&&S>o.maxzoom&&(S=o.maxzoom);const Y=this.pointCoordinate(this.getCameraPoint()),U=p.U.fromLngLat(this.center),K=Math.pow(2,S),ge=[K*Y.x,K*Y.y,0],Ce=[K*U.x,K*U.y,0],Ne=va.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,S);let ot=o.minzoom||0;!o.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(ot=S);const Pt=o.terrain?2/Math.min(this.tileSize,o.tileSize)*this.tileSize:3,Lt=bt=>({aabb:new tu([bt*K,0,0],[(bt+1)*K,K,0]),zoom:0,x:0,y:0,wrap:bt,fullyVisible:!1}),jt=[],Nt=[],vn=S,Pn=o.reparseOverscaled?A:S;if(this._renderWorldCopies)for(let bt=1;bt<=3;bt++)jt.push(Lt(-bt)),jt.push(Lt(bt));for(jt.push(Lt(0));jt.length>0;){const bt=jt.pop(),Mn=bt.x,Bn=bt.y;let qn=bt.fullyVisible;if(!qn){const ti=bt.aabb.intersects(Ne);if(0===ti)continue;qn=2===ti}const Hn=o.terrain?ge:Ce,_r=bt.aabb.distanceX(Hn),yr=bt.aabb.distanceY(Hn),Fr=Math.max(Math.abs(_r),Math.abs(yr));if(bt.zoom===vn||Fr>Pt+(1<<vn-bt.zoom)-2&&bt.zoom>=ot){const ti=vn-bt.zoom,Hs=ge[0]-.5-(Mn<<ti),Br=ge[1]-.5-(Bn<<ti);Nt.push({tileID:new p.O(bt.zoom===vn?Pn:bt.zoom,bt.wrap,bt.zoom,Mn,Bn),distanceSq:be([Ce[0]-.5-Mn,Ce[1]-.5-Bn]),tileDistanceToCamera:Math.sqrt(Hs*Hs+Br*Br)})}else for(let ti=0;ti<4;ti++){const Hs=(Mn<<1)+ti%2,Br=(Bn<<1)+(ti>>1),Ki=bt.zoom+1;let Oi=bt.aabb.quadrant(ti);if(o.terrain){const Ws=new p.O(Ki,bt.wrap,Ki,Hs,Br),Rs=o.terrain.getMinMaxElevation(Ws),Ss=null!==(g=Rs.minElevation)&&void 0!==g?g:this.elevation,Ks=null!==(M=Rs.maxElevation)&&void 0!==M?M:this.elevation;Oi=new tu([Oi.min[0],Oi.min[1],Ss],[Oi.max[0],Oi.max[1],Ks])}jt.push({aabb:Oi,zoom:Ki,x:Hs,y:Br,wrap:bt.wrap,fullyVisible:qn})}}return Nt.sort((bt,Mn)=>bt.distanceSq-Mn.distanceSq).map(bt=>bt.tileID)}resize(o,g){this.width=o,this.height=g,this.pixelsToGLUnits=[2/o,-2/g],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(o){return Math.pow(2,o)}scaleZoom(o){return Math.log(o)/Math.LN2}project(o){const g=p.ad(o.lat,-this.maxValidLatitude,this.maxValidLatitude);return new p.P(p.G(o.lng)*this.worldSize,p.H(g)*this.worldSize)}unproject(o){return new p.U(o.x/this.worldSize,o.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(o){const g=this.pointLocation(this.centerPoint,o),M=o.getElevationForLngLatZoom(g,this.tileZoom);if(!(this.elevation-M))return;const S=this.getCameraPosition(),A=p.U.fromLngLat(S.lngLat,S.altitude),Y=p.U.fromLngLat(g,M),U=A.x-Y.x,K=A.y-Y.y,ge=A.z-Y.z,Ce=Math.sqrt(U*U+K*K+ge*ge),Ne=this.scaleZoom(this.cameraToCenterDistance/Ce/this.tileSize);this._elevation=M,this._center=g,this.zoom=Ne}setLocationAtPoint(o,g){const M=this.pointCoordinate(g),S=this.pointCoordinate(this.centerPoint),A=this.locationCoordinate(o),Y=new p.U(A.x-(M.x-S.x),A.y-(M.y-S.y));this.center=this.coordinateLocation(Y),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(o,g){return g?this.coordinatePoint(this.locationCoordinate(o),g.getElevationForLngLatZoom(o,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(o))}pointLocation(o,g){return this.coordinateLocation(this.pointCoordinate(o,g))}locationCoordinate(o){return p.U.fromLngLat(o)}coordinateLocation(o){return o&&o.toLngLat()}pointCoordinate(o,g){if(g){const ot=g.pointCoordinate(o);if(null!=ot)return ot}const M=[o.x,o.y,0,1],S=[o.x,o.y,1,1];p.ag(M,M,this.pixelMatrixInverse),p.ag(S,S,this.pixelMatrixInverse);const A=M[3],Y=S[3],U=M[1]/A,K=S[1]/Y,ge=M[2]/A,Ce=S[2]/Y,Ne=ge===Ce?0:(0-ge)/(Ce-ge);return new p.U(p.B.number(M[0]/A,S[0]/Y,Ne)/this.worldSize,p.B.number(U,K,Ne)/this.worldSize)}coordinatePoint(o,g=0,M=this.pixelMatrix){const S=[o.x*this.worldSize,o.y*this.worldSize,g,1];return p.ag(S,S,M),new p.P(S[0]/S[3],S[1]/S[3])}getBounds(){const o=Math.max(0,this.height/2-this.getHorizon());return(new le).extend(this.pointLocation(new p.P(0,o))).extend(this.pointLocation(new p.P(this.width,o))).extend(this.pointLocation(new p.P(this.width,this.height))).extend(this.pointLocation(new p.P(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new le([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(o){o?(this.lngRange=[o.getWest(),o.getEast()],this.latRange=[o.getSouth(),o.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(o,g=!1){const M=o.key,S=g?this._alignedPosMatrixCache:this._posMatrixCache;if(S[M])return S[M];const A=o.canonical,Y=this.worldSize/this.zoomScale(A.z),U=A.x+Math.pow(2,A.z)*o.wrap,K=p.ao(new Float64Array(16));return p.$(K,K,[U*Y,A.y*Y,0]),p.a0(K,K,[Y/p.N,Y/p.N,1]),p.a1(K,g?this.alignedProjMatrix:this.projMatrix,K),S[M]=new Float32Array(K),S[M]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let o,g,M,S,A=-90,Y=90,U=-180,K=180;const ge=this.size,Ce=this._unmodified;if(this.latRange){const Pt=this.latRange;A=p.H(Pt[1])*this.worldSize,Y=p.H(Pt[0])*this.worldSize,o=Y-A<ge.y?ge.y/(Y-A):0}if(this.lngRange){const Pt=this.lngRange;U=p.b5(p.G(Pt[0])*this.worldSize,0,this.worldSize),K=p.b5(p.G(Pt[1])*this.worldSize,0,this.worldSize),K<U&&(K+=this.worldSize),g=K-U<ge.x?ge.x/(K-U):0}const Ne=this.point,ot=Math.max(g||0,o||0);if(ot)return this.center=this.unproject(new p.P(g?(K+U)/2:Ne.x,o?(Y+A)/2:Ne.y)),this.zoom+=this.scaleZoom(ot),this._unmodified=Ce,void(this._constraining=!1);if(this.latRange){const Pt=Ne.y,Lt=ge.y/2;Pt-Lt<A&&(S=A+Lt),Pt+Lt>Y&&(S=Y-Lt)}if(this.lngRange){const Pt=(U+K)/2,Lt=p.b5(Ne.x,Pt-this.worldSize/2,Pt+this.worldSize/2),jt=ge.x/2;Lt-jt<U&&(M=U+jt),Lt+jt>K&&(M=K-jt)}void 0===M&&void 0===S||(this.center=this.unproject(new p.P(void 0!==M?M:Ne.x,void 0!==S?S:Ne.y)).wrap()),this._unmodified=Ce,this._constraining=!1}_calcMatrices(){if(!this.height)return;const o=this.centerOffset,g=this.point.x,M=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=p.b7(1,this.center.lat)*this.worldSize;let S=p.ao(new Float64Array(16));p.a0(S,S,[this.width/2,-this.height/2,1]),p.$(S,S,[1,-1,0]),this.labelPlaneMatrix=S,S=p.ao(new Float64Array(16)),p.a0(S,S,[1,-1,1]),p.$(S,S,[-1,-1,0]),p.a0(S,S,[2/this.width,2/this.height,1]),this.glCoordMatrix=S;const A=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),Y=Math.min(this.elevation,this._minEleveationForCurrentTile),U=A-Y*this._pixelPerMeter/Math.cos(this._pitch),K=Y<0?U:A,ge=Math.PI/2+this._pitch,Ce=this._fov*(.5+o.y/this.height),Ne=Math.sin(Ce)*K/Math.sin(p.ad(Math.PI-ge-Ce,.01,Math.PI-.01)),ot=this.getHorizon(),Pt=2*Math.atan(ot/this.cameraToCenterDistance)*(.5+o.y/(2*ot)),Lt=Math.sin(Pt)*K/Math.sin(p.ad(Math.PI-ge-Pt,.01,Math.PI-.01)),jt=Math.min(Ne,Lt),Nt=1.01*(Math.cos(Math.PI/2-this._pitch)*jt+K),vn=this.height/50;S=new Float64Array(16),p.b8(S,this._fov,this.width/this.height,vn,Nt),S[8]=2*-o.x/this.width,S[9]=2*o.y/this.height,p.a0(S,S,[1,-1,1]),p.$(S,S,[0,0,-this.cameraToCenterDistance]),p.b9(S,S,this._pitch),p.ae(S,S,this.angle),p.$(S,S,[-g,-M,0]),this.mercatorMatrix=p.a0([],S,[this.worldSize,this.worldSize,this.worldSize]),p.a0(S,S,[1,1,this._pixelPerMeter]),this.pixelMatrix=p.a1(new Float64Array(16),this.labelPlaneMatrix,S),p.$(S,S,[0,0,-this.elevation]),this.projMatrix=S,this.invProjMatrix=p.as([],S),this.pixelMatrix3D=p.a1(new Float64Array(16),this.labelPlaneMatrix,S);const Pn=this.width%2/2,bt=this.height%2/2,Mn=Math.cos(this.angle),Bn=Math.sin(this.angle),qn=g-Math.round(g)+Mn*Pn+Bn*bt,Hn=M-Math.round(M)+Mn*bt+Bn*Pn,_r=new Float64Array(S);if(p.$(_r,_r,[qn>.5?qn-1:qn,Hn>.5?Hn-1:Hn,0]),this.alignedProjMatrix=_r,S=p.as(new Float64Array(16),this.pixelMatrix),!S)throw new Error("failed to invert matrix");this.pixelMatrixInverse=S,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const o=this.pointCoordinate(new p.P(0,0)),g=[o.x*this.worldSize,o.y*this.worldSize,0,1];return p.ag(g,g,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const o=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new p.P(0,o))}getCameraQueryGeometry(o){const g=this.getCameraPoint();if(1===o.length)return[o[0],g];{let M=g.x,S=g.y,A=g.x,Y=g.y;for(const U of o)M=Math.min(M,U.x),S=Math.min(S,U.y),A=Math.max(A,U.x),Y=Math.max(Y,U.y);return[new p.P(M,S),new p.P(A,S),new p.P(A,Y),new p.P(M,Y),new p.P(M,S)]}}}function El(x,o){let g,M=!1,S=null,A=null;const Y=()=>{S=null,M&&(x.apply(A,g),S=setTimeout(Y,o),M=!1)};return(...U)=>(M=!0,A=this,g=U,S||Y(),S)}class Ka{constructor(o){this._getCurrentHash=()=>{const g=window.location.hash.replace("#","");if(this._hashName){let M;return g.split("&").map(S=>S.split("=")).forEach(S=>{S[0]===this._hashName&&(M=S)}),(M&&M[1]||"").split("/")}return g.split("/")},this._onHashChange=()=>{const g=this._getCurrentHash();if(g.length>=3&&!g.some(M=>isNaN(M))){const M=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(g[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+g[2],+g[1]],zoom:+g[0],bearing:M,pitch:+(g[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const g=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,g)}catch{}},this._updateHash=El(this._updateHashUnthrottled,300),this._hashName=o&&encodeURIComponent(o)}addTo(o){return this._map=o,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(o){const g=this._map.getCenter(),M=Math.round(100*this._map.getZoom())/100,S=Math.ceil((M*Math.LN2+Math.log(512/360/.5))/Math.LN10),A=Math.pow(10,S),Y=Math.round(g.lng*A)/A,U=Math.round(g.lat*A)/A,K=this._map.getBearing(),ge=this._map.getPitch();let Ce="";if(Ce+=o?`/${Y}/${U}/${M}`:`${M}/${U}/${Y}`,(K||ge)&&(Ce+="/"+Math.round(10*K)/10),ge&&(Ce+=`/${Math.round(ge)}`),this._hashName){const Ne=this._hashName;let ot=!1;const Pt=window.location.hash.slice(1).split("&").map(Lt=>{const jt=Lt.split("=")[0];return jt===Ne?(ot=!0,`${jt}=${Ce}`):Lt}).filter(Lt=>Lt);return ot||Pt.push(`${Ne}=${Ce}`),`#${Pt.join("&")}`}return`#${Ce}`}}const Bo={linearity:.3,easing:p.ba(0,0,.3,1)},$a=p.e({deceleration:2500,maxSpeed:1400},Bo),kc=p.e({deceleration:20,maxSpeed:1400},Bo),hl=p.e({deceleration:1e3,maxSpeed:360},Bo),Du=p.e({deceleration:1e3,maxSpeed:90},Bo);class Iu{constructor(o){this._map=o,this.clear()}clear(){this._inertiaBuffer=[]}record(o){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:p.h.now(),settings:o})}_drainInertiaBuffer(){const o=this._inertiaBuffer,g=p.h.now();for(;o.length>0&&g-o[0].time>160;)o.shift()}_onMoveEnd(o){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const g={zoom:0,bearing:0,pitch:0,pan:new p.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:A}of this._inertiaBuffer)g.zoom+=A.zoomDelta||0,g.bearing+=A.bearingDelta||0,g.pitch+=A.pitchDelta||0,A.panDelta&&g.pan._add(A.panDelta),A.around&&(g.around=A.around),A.pinchAround&&(g.pinchAround=A.pinchAround);const M=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,S={};if(g.pan.mag()){const A=nu(g.pan.mag(),M,p.e({},$a,o||{}));S.offset=g.pan.mult(A.amount/g.pan.mag()),S.center=this._map.transform.center,Lu(S,A)}if(g.zoom){const A=nu(g.zoom,M,kc);S.zoom=this._map.transform.zoom+A.amount,Lu(S,A)}if(g.bearing){const A=nu(g.bearing,M,hl);S.bearing=this._map.transform.bearing+p.ad(A.amount,-179,179),Lu(S,A)}if(g.pitch){const A=nu(g.pitch,M,Du);S.pitch=this._map.transform.pitch+A.amount,Lu(S,A)}if(S.zoom||S.bearing){const A=void 0===g.pinchAround?g.around:g.pinchAround;S.around=A?this._map.unproject(A):this._map.getCenter()}return this.clear(),p.e(S,{noMoveStart:!0})}}function Lu(x,o){(!x.duration||x.duration<o.duration)&&(x.duration=o.duration,x.easing=o.easing)}function nu(x,o,g){const{maxSpeed:M,linearity:S,deceleration:A}=g,Y=p.ad(x*S/(o/1e3),-M,M),U=Math.abs(Y)/(A*S);return{easing:g.easing,duration:1e3*U,amount:Y*(U/2)}}class yn extends p.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,g,M,S={}){const A=R.mousePos(g.getCanvasContainer(),M),Y=g.unproject(A);super(o,p.e({point:A,lngLat:Y,originalEvent:M},S)),this._defaultPrevented=!1,this.target=g}}class er extends p.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,g,M){const S="touchend"===o?M.changedTouches:M.touches,A=R.touchPos(g.getCanvasContainer(),S),Y=A.map(K=>g.unproject(K)),U=A.reduce((K,ge,Ce,Ne)=>K.add(ge.div(Ne.length)),new p.P(0,0));super(o,{points:A,point:U,lngLats:Y,lngLat:g.unproject(U),originalEvent:M}),this._defaultPrevented=!1}}class zn extends p.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,g,M){super(o,{originalEvent:M}),this._defaultPrevented=!1}}class ui{constructor(o,g){this._map=o,this._clickTolerance=g.clickTolerance}reset(){delete this._mousedownPos}wheel(o){return this._firePreventable(new zn(o.type,this._map,o))}mousedown(o,g){return this._mousedownPos=g,this._firePreventable(new yn(o.type,this._map,o))}mouseup(o){this._map.fire(new yn(o.type,this._map,o))}click(o,g){this._mousedownPos&&this._mousedownPos.dist(g)>=this._clickTolerance||this._map.fire(new yn(o.type,this._map,o))}dblclick(o){return this._firePreventable(new yn(o.type,this._map,o))}mouseover(o){this._map.fire(new yn(o.type,this._map,o))}mouseout(o){this._map.fire(new yn(o.type,this._map,o))}touchstart(o){return this._firePreventable(new er(o.type,this._map,o))}touchmove(o){this._map.fire(new er(o.type,this._map,o))}touchend(o){this._map.fire(new er(o.type,this._map,o))}touchcancel(o){this._map.fire(new er(o.type,this._map,o))}_firePreventable(o){if(this._map.fire(o),o.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ci{constructor(o){this._map=o}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(o){this._map.fire(new yn(o.type,this._map,o))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new yn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(o){this._delayContextMenu?this._contextMenuEvent=o:this._ignoreContextMenu||this._map.fire(new yn(o.type,this._map,o)),this._map.listens("contextmenu")&&o.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Zs{constructor(o){this._map=o}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(o){return this.transform.pointLocation(p.P.convert(o),this._map.terrain)}}class eo{constructor(o,g){this._map=o,this._tr=new Zs(o),this._el=o.getCanvasContainer(),this._container=o.getContainer(),this._clickTolerance=g.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(o,g){this.isEnabled()&&o.shiftKey&&0===o.button&&(R.disableDrag(),this._startPos=this._lastPos=g,this._active=!0)}mousemoveWindow(o,g){if(!this._active)return;const M=g;if(this._lastPos.equals(M)||!this._box&&M.dist(this._startPos)<this._clickTolerance)return;const S=this._startPos;this._lastPos=M,this._box||(this._box=R.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",o));const A=Math.min(S.x,M.x),Y=Math.max(S.x,M.x),U=Math.min(S.y,M.y),K=Math.max(S.y,M.y);R.setTransform(this._box,`translate(${A}px,${U}px)`),this._box.style.width=Y-A+"px",this._box.style.height=K-U+"px"}mouseupWindow(o,g){if(!this._active||0!==o.button)return;const M=this._startPos,S=g;if(this.reset(),R.suppressClick(),M.x!==S.x||M.y!==S.y)return this._map.fire(new p.k("boxzoomend",{originalEvent:o})),{cameraAnimation:A=>A.fitScreenCoordinates(M,S,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",o)}keydown(o){this._active&&27===o.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",o))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(R.remove(this._box),this._box=null),R.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(o,g){return this._map.fire(new p.k(o,{originalEvent:g}))}}function cs(x,o){if(x.length!==o.length)throw new Error(`The number of touches and points are not equal - touches ${x.length}, points ${o.length}`);const g={};for(let M=0;M<x.length;M++)g[x[M].identifier]=o[M];return g}class Po{constructor(o){this.reset(),this.numTouches=o.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(o,g,M){(this.centroid||M.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=o.timeStamp),M.length===this.numTouches&&(this.centroid=function(S){const A=new p.P(0,0);for(const Y of S)A._add(Y);return A.div(S.length)}(g),this.touches=cs(M,g)))}touchmove(o,g,M){if(this.aborted||!this.centroid)return;const S=cs(M,g);for(const A in this.touches){const Y=S[A];(!Y||Y.dist(this.touches[A])>30)&&(this.aborted=!0)}}touchend(o,g,M){if((!this.centroid||o.timeStamp-this.startTime>500)&&(this.aborted=!0),0===M.length){const S=!this.aborted&&this.centroid;if(this.reset(),S)return S}}}class Ja{constructor(o){this.singleTap=new Po(o),this.numTaps=o.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(o,g,M){this.singleTap.touchstart(o,g,M)}touchmove(o,g,M){this.singleTap.touchmove(o,g,M)}touchend(o,g,M){const S=this.singleTap.touchend(o,g,M);if(S){const A=o.timeStamp-this.lastTime<500,Y=!this.lastTap||this.lastTap.dist(S)<30;if(A&&Y||this.reset(),this.count++,this.lastTime=o.timeStamp,this.lastTap=S,this.count===this.numTaps)return this.reset(),S}}}class Do{constructor(o){this._tr=new Zs(o),this._zoomIn=new Ja({numTouches:1,numTaps:2}),this._zoomOut=new Ja({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(o,g,M){this._zoomIn.touchstart(o,g,M),this._zoomOut.touchstart(o,g,M)}touchmove(o,g,M){this._zoomIn.touchmove(o,g,M),this._zoomOut.touchmove(o,g,M)}touchend(o,g,M){const S=this._zoomIn.touchend(o,g,M),A=this._zoomOut.touchend(o,g,M),Y=this._tr;return S?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:Y.zoom+1,around:Y.unproject(S)},{originalEvent:o})}):A?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:Y.zoom-1,around:Y.unproject(A)},{originalEvent:o})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wa{constructor(o){this._enabled=!!o.enable,this._moveStateManager=o.moveStateManager,this._clickTolerance=o.clickTolerance||1,this._moveFunction=o.move,this._activateOnStart=!!o.activateOnStart,o.assignEvents(this),this.reset()}reset(o){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(o)}_move(...o){const g=this._moveFunction(...o);if(g.bearingDelta||g.pitchDelta||g.around||g.panDelta)return this._active=!0,g}dragStart(o,g){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(o)&&(this._moveStateManager.startMove(o),this._lastPoint=g.length?g[0]:g,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(o,g){if(!this.isEnabled())return;const M=this._lastPoint;if(!M)return;if(o.preventDefault(),!this._moveStateManager.isValidMoveEvent(o))return void this.reset(o);const S=g.length?g[0]:g;return!this._moved&&S.dist(M)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=S,this._move(M,S))}dragEnd(o){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(o)&&(this._moved&&R.suppressClick(),this.reset(o))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const bh={0:1,2:2};class yu{constructor(o){this._correctEvent=o.checkCorrectEvent}startMove(o){const g=R.mouseButton(o);this._eventButton=g}endMove(o){delete this._eventButton}isValidStartEvent(o){return this._correctEvent(o)}isValidMoveEvent(o){return!function(g,M){const S=bh[M];return void 0===g.buttons||(g.buttons&S)!==S}(o,this._eventButton)}isValidEndEvent(o){return R.mouseButton(o)===this._eventButton}}class vu{constructor(){this._firstTouch=void 0}_isOneFingerTouch(o){return 1===o.targetTouches.length}_isSameTouchEvent(o){return o.targetTouches[0].identifier===this._firstTouch}startMove(o){this._firstTouch=o.targetTouches[0].identifier}endMove(o){delete this._firstTouch}isValidStartEvent(o){return this._isOneFingerTouch(o)}isValidMoveEvent(o){return this._isOneFingerTouch(o)&&this._isSameTouchEvent(o)}isValidEndEvent(o){return this._isOneFingerTouch(o)&&this._isSameTouchEvent(o)}}const Qn=x=>{x.mousedown=x.dragStart,x.mousemoveWindow=x.dragMove,x.mouseup=x.dragEnd,x.contextmenu=function(o){o.preventDefault()}},uo=({enable:x,clickTolerance:o,bearingDegreesPerPixelMoved:g=.8})=>{const M=new yu({checkCorrectEvent:S=>0===R.mouseButton(S)&&S.ctrlKey||2===R.mouseButton(S)});return new wa({clickTolerance:o,move:(S,A)=>({bearingDelta:(A.x-S.x)*g}),moveStateManager:M,enable:x,assignEvents:Qn})},ha=({enable:x,clickTolerance:o,pitchDegreesPerPixelMoved:g=-.5})=>{const M=new yu({checkCorrectEvent:S=>0===R.mouseButton(S)&&S.ctrlKey||2===R.mouseButton(S)});return new wa({clickTolerance:o,move:(S,A)=>({pitchDelta:(A.y-S.y)*g}),moveStateManager:M,enable:x,assignEvents:Qn})};class hi{constructor(o,g){this._minTouches=o.cooperativeGestures?2:1,this._clickTolerance=o.clickTolerance||1,this._map=g,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new p.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(o,g,M){return this._calculateTransform(o,g,M)}touchmove(o,g,M){if(this._map._cooperativeGestures&&(2===this._minTouches&&M.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(o,!1,M.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(M.length<this._minTouches))return o.preventDefault(),this._calculateTransform(o,g,M)}touchend(o,g,M){this._calculateTransform(o,g,M),this._active&&M.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(o,g,M){M.length>0&&(this._active=!0);const S=cs(M,g),A=new p.P(0,0),Y=new p.P(0,0);let U=0;for(const ge in S){const Ce=S[ge],Ne=this._touches[ge];Ne&&(A._add(Ce),Y._add(Ce.sub(Ne)),U++,S[ge]=Ce)}if(this._touches=S,U<this._minTouches||!Y.mag())return;const K=Y.div(U);return this._sum._add(K),this._sum.mag()<this._clickTolerance?void 0:{around:A.div(U),panDelta:K}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class go{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(o,g,M){this._firstTwoTouches||M.length<2||(this._firstTwoTouches=[M[0].identifier,M[1].identifier],this._start([g[0],g[1]]))}touchmove(o,g,M){if(!this._firstTwoTouches)return;o.preventDefault();const[S,A]=this._firstTwoTouches,Y=fa(M,g,S),U=fa(M,g,A);if(!Y||!U)return;const K=this._aroundCenter?null:Y.add(U).div(2);return this._move([Y,U],K,o)}touchend(o,g,M){if(!this._firstTwoTouches)return;const[S,A]=this._firstTwoTouches,Y=fa(M,g,S),U=fa(M,g,A);Y&&U||(this._active&&R.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(o){this._enabled=!0,this._aroundCenter=!!o&&"center"===o.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function fa(x,o,g){for(let M=0;M<x.length;M++)if(x[M].identifier===g)return o[M]}function yl(x,o){return Math.log(x/o)/Math.LN2}class Ti extends go{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(o){this._startDistance=this._distance=o[0].dist(o[1])}_move(o,g){const M=this._distance;if(this._distance=o[0].dist(o[1]),this._active||!(Math.abs(yl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:yl(this._distance,M),pinchAround:g}}}function Kn(x,o){return 180*x.angleWith(o)/Math.PI}class es extends go{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(o){this._startVector=this._vector=o[0].sub(o[1]),this._minDiameter=o[0].dist(o[1])}_move(o,g){const M=this._vector;if(this._vector=o[0].sub(o[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Kn(this._vector,M),pinchAround:g}}_isBelowThreshold(o){this._minDiameter=Math.min(this._minDiameter,o.mag());const g=25/(Math.PI*this._minDiameter)*360,M=Kn(o,this._startVector);return Math.abs(M)<g}}function pa(x){return Math.abs(x.y)>Math.abs(x.x)}class Io extends go{constructor(o){super(),this._map=o}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(o,g,M){super.touchstart(o,g,M),this._currentTouchCount=M.length}_start(o){this._lastPoints=o,pa(o[0].sub(o[1]))&&(this._valid=!1)}_move(o,g,M){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const S=o[0].sub(this._lastPoints[0]),A=o[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(S,A,M.timeStamp),this._valid?(this._lastPoints=o,this._active=!0,{pitchDelta:(S.y+A.y)/2*-.5}):void 0}gestureBeginsVertically(o,g,M){if(void 0!==this._valid)return this._valid;const S=o.mag()>=2,A=g.mag()>=2;if(!S&&!A)return;if(!S||!A)return void 0===this._firstMove&&(this._firstMove=M),M-this._firstMove<100&&void 0;const Y=o.y>0==g.y>0;return pa(o)&&pa(g)&&Y}}const al={panStep:100,bearingStep:15,pitchStep:10};class to{constructor(o){this._tr=new Zs(o);const g=al;this._panStep=g.panStep,this._bearingStep=g.bearingStep,this._pitchStep=g.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(o){if(o.altKey||o.ctrlKey||o.metaKey)return;let g=0,M=0,S=0,A=0,Y=0;switch(o.keyCode){case 61:case 107:case 171:case 187:g=1;break;case 189:case 109:case 173:g=-1;break;case 37:o.shiftKey?M=-1:(o.preventDefault(),A=-1);break;case 39:o.shiftKey?M=1:(o.preventDefault(),A=1);break;case 38:o.shiftKey?S=1:(o.preventDefault(),Y=-1);break;case 40:o.shiftKey?S=-1:(o.preventDefault(),Y=1);break;default:return}return this._rotationDisabled&&(M=0,S=0),{cameraAnimation:U=>{const K=this._tr;U.easeTo({duration:300,easeId:"keyboardHandler",easing:Vc,zoom:g?Math.round(K.zoom)+g*(o.shiftKey?2:1):K.zoom,bearing:K.bearing+M*this._bearingStep,pitch:K.pitch+S*this._pitchStep,offset:[-A*this._panStep,-Y*this._panStep],center:K.center},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Vc(x){return x*(2-x)}const id=4.000244140625;class Qa{constructor(o,g){this._onTimeout=M=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(M)},this._map=o,this._tr=new Zs(o),this._el=o.getCanvasContainer(),this._triggerRenderFrame=g,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(o){this._defaultZoomRate=o}setWheelZoomRate(o){this._wheelZoomRate=o}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(o){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!o&&"center"===o.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(o){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!o[this._map._metaKey])return;o.preventDefault()}let g=o.deltaMode===WheelEvent.DOM_DELTA_LINE?40*o.deltaY:o.deltaY;const M=p.h.now(),S=M-(this._lastWheelEventTime||0);this._lastWheelEventTime=M,0!==g&&g%id==0?this._type="wheel":0!==g&&Math.abs(g)<4?this._type="trackpad":S>400?(this._type=null,this._lastValue=g,this._timeout=setTimeout(this._onTimeout,40,o)):this._type||(this._type=Math.abs(S*g)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,g+=this._lastValue)),o.shiftKey&&g&&(g/=4),this._type&&(this._lastWheelEvent=o,this._delta-=g,this._active||this._start(o)),o.preventDefault()}_start(o){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const g=R.mousePos(this._el,o),M=this._tr;this._around=p.L.convert(this._aroundCenter?M.center:M.unproject(g)),this._aroundPoint=M.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const o=this._tr.transform;if(0!==this._delta){const U="wheel"===this._type&&Math.abs(this._delta)>id?this._wheelZoomRate:this._defaultZoomRate;let K=2/(1+Math.exp(-Math.abs(this._delta*U)));this._delta<0&&0!==K&&(K=1/K);const ge="number"==typeof this._targetZoom?o.zoomScale(this._targetZoom):o.scale;this._targetZoom=Math.min(o.maxZoom,Math.max(o.minZoom,o.scaleZoom(ge*K))),"wheel"===this._type&&(this._startZoom=o.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const g="number"==typeof this._targetZoom?this._targetZoom:o.zoom,M=this._startZoom,S=this._easing;let A,Y=!1;if("wheel"===this._type&&M&&S){const U=Math.min((p.h.now()-this._lastWheelEventTime)/200,1),K=S(U);A=p.B.number(M,g,K),U<1?this._frameId||(this._frameId=!0):Y=!0}else A=g,Y=!0;return this._active=!0,Y&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Y,zoomDelta:A-o.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(o){let g=p.bb;if(this._prevEase){const M=this._prevEase,S=(p.h.now()-M.start)/M.duration,A=M.easing(S+.01)-M.easing(S),Y=.27/Math.sqrt(A*A+1e-4)*.01,U=Math.sqrt(.0729-Y*Y);g=p.ba(Y,U,.25,1)}return this._prevEase={start:p.h.now(),duration:o,easing:g},g}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class ru{constructor(o,g){this._clickZoom=o,this._tapZoom=g}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ec{constructor(o){this._tr=new Zs(o),this.reset()}reset(){this._active=!1}dblclick(o,g){return o.preventDefault(),{cameraAnimation:M=>{M.easeTo({duration:300,zoom:this._tr.zoom+(o.shiftKey?-1:1),around:this._tr.unproject(g)},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wo{constructor(){this._tap=new Ja({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(o,g,M){if(!this._swipePoint)if(this._tapTime){const S=g[0],A=o.timeStamp-this._tapTime<500,Y=this._tapPoint.dist(S)<30;A&&Y?M.length>0&&(this._swipePoint=S,this._swipeTouch=M[0].identifier):this.reset()}else this._tap.touchstart(o,g,M)}touchmove(o,g,M){if(this._tapTime){if(this._swipePoint){if(M[0].identifier!==this._swipeTouch)return;const S=g[0],A=S.y-this._swipePoint.y;return this._swipePoint=S,o.preventDefault(),this._active=!0,{zoomDelta:A/128}}}else this._tap.touchmove(o,g,M)}touchend(o,g,M){if(this._tapTime)this._swipePoint&&0===M.length&&this.reset();else{const S=this._tap.touchend(o,g,M);S&&(this._tapTime=o.timeStamp,this._tapPoint=S)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class si{constructor(o,g,M){this._el=o,this._mousePan=g,this._touchPan=M}enable(o){this._inertiaOptions=o||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class _i{constructor(o,g,M){this._pitchWithRotate=o.pitchWithRotate,this._mouseRotate=g,this._mousePitch=M}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ms{constructor(o,g,M,S){this._el=o,this._touchZoom=g,this._touchRotate=M,this._tapDragZoom=S,this._rotationDisabled=!1,this._enabled=!0}enable(o){this._touchZoom.enable(o),this._rotationDisabled||this._touchRotate.enable(o),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ua=x=>x.zoom||x.drag||x.pitch||x.rotate;class Ca extends p.k{}function Na(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta}class wu{constructor(o,g){this.handleWindowEvent=S=>{this.handleEvent(S,`${S.type}Window`)},this.handleEvent=(S,A)=>{if("blur"===S.type)return void this.stop(!0);this._updatingCamera=!0;const Y="renderFrame"===S.type?void 0:S,U={needsRenderFrame:!1},K={},ge={},Ce=S.touches,Ne=Ce?this._getMapTouches(Ce):void 0,ot=Ne?R.touchPos(this._el,Ne):R.mousePos(this._el,S);for(const{handlerName:jt,handler:Nt,allowed:vn}of this._handlers){if(!Nt.isEnabled())continue;let Pn;this._blockedByActive(ge,vn,jt)?Nt.reset():Nt[A||S.type]&&(Pn=Nt[A||S.type](S,ot,Ne),this.mergeHandlerResult(U,K,Pn,jt,Y),Pn&&Pn.needsRenderFrame&&this._triggerRenderFrame()),(Pn||Nt.isActive())&&(ge[jt]=Nt)}const Pt={};for(const jt in this._previousActiveHandlers)ge[jt]||(Pt[jt]=Y);this._previousActiveHandlers=ge,(Object.keys(Pt).length||Na(U))&&(this._changes.push([U,K,Pt]),this._triggerRenderFrame()),(Object.keys(ge).length||Na(U))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Lt}=U;Lt&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Lt(this._map))},this._map=o,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Iu(o),this._bearingSnap=g.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(g);const M=this._el;this._listeners=[[M,"touchstart",{passive:!0}],[M,"touchmove",{passive:!1}],[M,"touchend",void 0],[M,"touchcancel",void 0],[M,"mousedown",void 0],[M,"mousemove",void 0],[M,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[M,"mouseover",void 0],[M,"mouseout",void 0],[M,"dblclick",void 0],[M,"click",void 0],[M,"keydown",{capture:!1}],[M,"keyup",void 0],[M,"wheel",{passive:!1}],[M,"contextmenu",void 0],[window,"blur",void 0]];for(const[S,A,Y]of this._listeners)R.addEventListener(S,A,S===document?this.handleWindowEvent:this.handleEvent,Y)}destroy(){for(const[o,g,M]of this._listeners)R.removeEventListener(o,g,o===document?this.handleWindowEvent:this.handleEvent,M)}_addDefaultHandlers(o){const g=this._map,M=g.getCanvasContainer();this._add("mapEvent",new ui(g,o));const S=g.boxZoom=new eo(g,o);this._add("boxZoom",S),o.interactive&&o.boxZoom&&S.enable();const A=new Do(g),Y=new ec(g);g.doubleClickZoom=new ru(Y,A),this._add("tapZoom",A),this._add("clickZoom",Y),o.interactive&&o.doubleClickZoom&&g.doubleClickZoom.enable();const U=new wo;this._add("tapDragZoom",U);const K=g.touchPitch=new Io(g);this._add("touchPitch",K),o.interactive&&o.touchPitch&&g.touchPitch.enable(o.touchPitch);const ge=uo(o),Ce=ha(o);g.dragRotate=new _i(o,ge,Ce),this._add("mouseRotate",ge,["mousePitch"]),this._add("mousePitch",Ce,["mouseRotate"]),o.interactive&&o.dragRotate&&g.dragRotate.enable();const Ne=(({enable:vn,clickTolerance:Pn})=>{const bt=new yu({checkCorrectEvent:Mn=>0===R.mouseButton(Mn)&&!Mn.ctrlKey});return new wa({clickTolerance:Pn,move:(Mn,Bn)=>({around:Bn,panDelta:Bn.sub(Mn)}),activateOnStart:!0,moveStateManager:bt,enable:vn,assignEvents:Qn})})(o),ot=new hi(o,g);g.dragPan=new si(M,Ne,ot),this._add("mousePan",Ne),this._add("touchPan",ot,["touchZoom","touchRotate"]),o.interactive&&o.dragPan&&g.dragPan.enable(o.dragPan);const Pt=new es,Lt=new Ti;g.touchZoomRotate=new ms(M,Lt,Pt,U),this._add("touchRotate",Pt,["touchPan","touchZoom"]),this._add("touchZoom",Lt,["touchPan","touchRotate"]),o.interactive&&o.touchZoomRotate&&g.touchZoomRotate.enable(o.touchZoomRotate);const jt=g.scrollZoom=new Qa(g,()=>this._triggerRenderFrame());this._add("scrollZoom",jt,["mousePan"]),o.interactive&&o.scrollZoom&&g.scrollZoom.enable(o.scrollZoom);const Nt=g.keyboard=new to(g);this._add("keyboard",Nt),o.interactive&&o.keyboard&&g.keyboard.enable(),this._add("blockableMapEvent",new Ci(g))}_add(o,g,M){this._handlers.push({handlerName:o,handler:g,allowed:M}),this._handlersById[o]=g}stop(o){if(!this._updatingCamera){for(const{handler:g}of this._handlers)g.reset();this._inertia.clear(),this._fireEvents({},{},o),this._changes=[]}}isActive(){for(const{handler:o}of this._handlers)if(o.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ua(this._eventsInProgress)||this.isZooming()}_blockedByActive(o,g,M){for(const S in o)if(S!==M&&(!g||g.indexOf(S)<0))return!0;return!1}_getMapTouches(o){const g=[];for(const M of o)this._el.contains(M.target)&&g.push(M);return g}mergeHandlerResult(o,g,M,S,A){if(!M)return;p.e(o,M);const Y={handlerName:S,originalEvent:M.originalEvent||A};void 0!==M.zoomDelta&&(g.zoom=Y),void 0!==M.panDelta&&(g.drag=Y),void 0!==M.pitchDelta&&(g.pitch=Y),void 0!==M.bearingDelta&&(g.rotate=Y)}_applyChanges(){const o={},g={},M={};for(const[S,A,Y]of this._changes)S.panDelta&&(o.panDelta=(o.panDelta||new p.P(0,0))._add(S.panDelta)),S.zoomDelta&&(o.zoomDelta=(o.zoomDelta||0)+S.zoomDelta),S.bearingDelta&&(o.bearingDelta=(o.bearingDelta||0)+S.bearingDelta),S.pitchDelta&&(o.pitchDelta=(o.pitchDelta||0)+S.pitchDelta),void 0!==S.around&&(o.around=S.around),void 0!==S.pinchAround&&(o.pinchAround=S.pinchAround),S.noInertia&&(o.noInertia=S.noInertia),p.e(g,A),p.e(M,Y);this._updateMapTransform(o,g,M),this._changes=[]}_updateMapTransform(o,g,M){const S=this._map,A=S._getTransformForUpdate(),Y=S.terrain;if(!(Na(o)||Y&&this._terrainMovement))return this._fireEvents(g,M,!0);let{panDelta:U,zoomDelta:K,bearingDelta:ge,pitchDelta:Ce,around:Ne,pinchAround:ot}=o;void 0!==ot&&(Ne=ot),S._stop(!0),Ne=Ne||S.transform.centerPoint;const Pt=A.pointLocation(U?Ne.sub(U):Ne);ge&&(A.bearing+=ge),Ce&&(A.pitch+=Ce),K&&(A.zoom+=K),Y?this._terrainMovement||!g.drag&&!g.zoom?g.drag&&this._terrainMovement?A.center=A.pointLocation(A.centerPoint.sub(U)):A.setLocationAtPoint(Pt,Ne):(this._terrainMovement=!0,this._map._elevationFreeze=!0,A.setLocationAtPoint(Pt,Ne),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,A.recalculateZoom(S.terrain)})):A.setLocationAtPoint(Pt,Ne),S._applyUpdatedTransform(A),this._map._update(),o.noInertia||this._inertia.record(o),this._fireEvents(g,M,!0)}_fireEvents(o,g,M){const S=Ua(this._eventsInProgress),A=Ua(o),Y={};for(const Ce in o){const{originalEvent:Ne}=o[Ce];this._eventsInProgress[Ce]||(Y[`${Ce}start`]=Ne),this._eventsInProgress[Ce]=o[Ce]}!S&&A&&this._fireEvent("movestart",A.originalEvent);for(const Ce in Y)this._fireEvent(Ce,Y[Ce]);A&&this._fireEvent("move",A.originalEvent);for(const Ce in o){const{originalEvent:Ne}=o[Ce];this._fireEvent(Ce,Ne)}const U={};let K;for(const Ce in this._eventsInProgress){const{handlerName:Ne,originalEvent:ot}=this._eventsInProgress[Ce];this._handlersById[Ne].isActive()||(delete this._eventsInProgress[Ce],K=g[Ne]||ot,U[`${Ce}end`]=K)}for(const Ce in U)this._fireEvent(Ce,U[Ce]);const ge=Ua(this._eventsInProgress);if(M&&(S||A)&&!ge){this._updatingCamera=!0;const Ce=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ne=ot=>0!==ot&&-this._bearingSnap<ot&&ot<this._bearingSnap;!Ce||!Ce.essential&&p.h.prefersReducedMotion?(this._map.fire(new p.k("moveend",{originalEvent:K})),Ne(this._map.getBearing())&&this._map.resetNorth()):(Ne(Ce.bearing||this._map.getBearing())&&(Ce.bearing=0),Ce.freezeElevation=!0,this._map.easeTo(Ce,{originalEvent:K})),this._updatingCamera=!1}}_fireEvent(o,g){this._map.fire(new p.k(o,g?{originalEvent:g}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(o=>{delete this._frameId,this.handleEvent(new Ca("renderFrame",{timeStamp:o})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class ys extends p.E{constructor(o,g){super(),this._renderFrameCallback=()=>{const M=Math.min((p.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(M)),M<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=o,this._bearingSnap=g.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new p.L(this.transform.center.lng,this.transform.center.lat)}setCenter(o,g){return this.jumpTo({center:o},g)}panBy(o,g,M){return o=p.P.convert(o).mult(-1),this.panTo(this.transform.center,p.e({offset:o},g),M)}panTo(o,g,M){return this.easeTo(p.e({center:o},g),M)}getZoom(){return this.transform.zoom}setZoom(o,g){return this.jumpTo({zoom:o},g),this}zoomTo(o,g,M){return this.easeTo(p.e({zoom:o},g),M)}zoomIn(o,g){return this.zoomTo(this.getZoom()+1,o,g),this}zoomOut(o,g){return this.zoomTo(this.getZoom()-1,o,g),this}getBearing(){return this.transform.bearing}setBearing(o,g){return this.jumpTo({bearing:o},g),this}getPadding(){return this.transform.padding}setPadding(o,g){return this.jumpTo({padding:o},g),this}rotateTo(o,g,M){return this.easeTo(p.e({bearing:o},g),M)}resetNorth(o,g){return this.rotateTo(0,p.e({duration:1e3},o),g),this}resetNorthPitch(o,g){return this.easeTo(p.e({bearing:0,pitch:0,duration:1e3},o),g),this}snapToNorth(o,g){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(o,g):this}getPitch(){return this.transform.pitch}setPitch(o,g){return this.jumpTo({pitch:o},g),this}cameraForBounds(o,g){o=le.convert(o);const M=g&&g.bearing||0;return this._cameraForBoxAndBearing(o.getNorthWest(),o.getSouthEast(),M,g)}_cameraForBoxAndBearing(o,g,M,S){const A={top:0,bottom:0,right:0,left:0};if("number"==typeof(S=p.e({padding:A,offset:[0,0],maxZoom:this.transform.maxZoom},S)).padding){const Bn=S.padding;S.padding={top:Bn,bottom:Bn,right:Bn,left:Bn}}S.padding=p.e(A,S.padding);const Y=this.transform,U=Y.padding,K=Y.project(p.L.convert(o)),ge=Y.project(p.L.convert(g)),Ce=K.rotate(-M*Math.PI/180),Ne=ge.rotate(-M*Math.PI/180),ot=new p.P(Math.max(Ce.x,Ne.x),Math.max(Ce.y,Ne.y)),Pt=new p.P(Math.min(Ce.x,Ne.x),Math.min(Ce.y,Ne.y)),Lt=ot.sub(Pt),jt=(Y.width-(U.left+U.right+S.padding.left+S.padding.right))/Lt.x,Nt=(Y.height-(U.top+U.bottom+S.padding.top+S.padding.bottom))/Lt.y;if(Nt<0||jt<0)return void p.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const vn=Math.min(Y.scaleZoom(Y.scale*Math.min(jt,Nt)),S.maxZoom),Pn=p.P.convert(S.offset),bt=new p.P((S.padding.left-S.padding.right)/2,(S.padding.top-S.padding.bottom)/2).rotate(M*Math.PI/180),Mn=Pn.add(bt).mult(Y.scale/Y.zoomScale(vn));return{center:Y.unproject(K.add(ge).div(2).sub(Mn)),zoom:vn,bearing:M}}fitBounds(o,g,M){return this._fitInternal(this.cameraForBounds(o,g),g,M)}fitScreenCoordinates(o,g,M,S,A){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(p.P.convert(o)),this.transform.pointLocation(p.P.convert(g)),M,S),S,A)}_fitInternal(o,g,M){return o?(delete(g=p.e(o,g)).padding,g.linear?this.easeTo(g,M):this.flyTo(g,M)):this}jumpTo(o,g){this.stop();const M=this._getTransformForUpdate();let S=!1,A=!1,Y=!1;return"zoom"in o&&M.zoom!==+o.zoom&&(S=!0,M.zoom=+o.zoom),void 0!==o.center&&(M.center=p.L.convert(o.center)),"bearing"in o&&M.bearing!==+o.bearing&&(A=!0,M.bearing=+o.bearing),"pitch"in o&&M.pitch!==+o.pitch&&(Y=!0,M.pitch=+o.pitch),null==o.padding||M.isPaddingEqual(o.padding)||(M.padding=o.padding),this._applyUpdatedTransform(M),this.fire(new p.k("movestart",g)).fire(new p.k("move",g)),S&&this.fire(new p.k("zoomstart",g)).fire(new p.k("zoom",g)).fire(new p.k("zoomend",g)),A&&this.fire(new p.k("rotatestart",g)).fire(new p.k("rotate",g)).fire(new p.k("rotateend",g)),Y&&this.fire(new p.k("pitchstart",g)).fire(new p.k("pitch",g)).fire(new p.k("pitchend",g)),this.fire(new p.k("moveend",g))}calculateCameraOptionsFromTo(o,g,M,S=0){const A=p.U.fromLngLat(o,g),Y=p.U.fromLngLat(M,S),U=Y.x-A.x,K=Y.y-A.y,ge=Y.z-A.z,Ce=Math.hypot(U,K,ge);if(0===Ce)throw new Error("Can't calculate camera options with same From and To");const Ne=Math.hypot(U,K),ot=this.transform.scaleZoom(this.transform.cameraToCenterDistance/Ce/this.transform.tileSize),Pt=180*Math.atan2(U,-K)/Math.PI;let Lt=180*Math.acos(Ne/Ce)/Math.PI;return Lt=ge<0?90-Lt:90+Lt,{center:Y.toLngLat(),zoom:ot,pitch:Lt,bearing:Pt}}easeTo(o,g){this._stop(!1,o.easeId),(!1===(o=p.e({offset:[0,0],duration:500,easing:p.bb},o)).animate||!o.essential&&p.h.prefersReducedMotion)&&(o.duration=0);const M=this._getTransformForUpdate(),S=this.getZoom(),A=this.getBearing(),Y=this.getPitch(),U=this.getPadding(),K="zoom"in o?+o.zoom:S,ge="bearing"in o?this._normalizeBearing(o.bearing,A):A,Ce="pitch"in o?+o.pitch:Y,Ne="padding"in o?o.padding:M.padding,ot=p.P.convert(o.offset);let Pt=M.centerPoint.add(ot);const Lt=M.pointLocation(Pt),jt=p.L.convert(o.center||Lt);this._normalizeCenter(jt);const Nt=M.project(Lt),vn=M.project(jt).sub(Nt),Pn=M.zoomScale(K-S);let bt,Mn;o.around&&(bt=p.L.convert(o.around),Mn=M.locationPoint(bt));const Bn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||K!==S,this._rotating=this._rotating||A!==ge,this._pitching=this._pitching||Ce!==Y,this._padding=!M.isPaddingEqual(Ne),this._easeId=o.easeId,this._prepareEase(g,o.noMoveStart,Bn),this.terrain&&this._prepareElevation(jt),this._ease(qn=>{if(this._zooming&&(M.zoom=p.B.number(S,K,qn)),this._rotating&&(M.bearing=p.B.number(A,ge,qn)),this._pitching&&(M.pitch=p.B.number(Y,Ce,qn)),this._padding&&(M.interpolatePadding(U,Ne,qn),Pt=M.centerPoint.add(ot)),this.terrain&&!o.freezeElevation&&this._updateElevation(qn),bt)M.setLocationAtPoint(bt,Mn);else{const Hn=M.zoomScale(M.zoom-S),_r=K>S?Math.min(2,Pn):Math.max(.5,Pn),yr=Math.pow(_r,1-qn),Fr=M.unproject(Nt.add(vn.mult(qn*yr)).mult(Hn));M.setLocationAtPoint(M.renderWorldCopies?Fr.wrap():Fr,Pt)}this._applyUpdatedTransform(M),this._fireMoveEvents(g)},qn=>{this.terrain&&this._finalizeElevation(),this._afterEase(g,qn)},o),this}_prepareEase(o,g,M={}){this._moving=!0,g||M.moving||this.fire(new p.k("movestart",o)),this._zooming&&!M.zooming&&this.fire(new p.k("zoomstart",o)),this._rotating&&!M.rotating&&this.fire(new p.k("rotatestart",o)),this._pitching&&!M.pitching&&this.fire(new p.k("pitchstart",o))}_prepareElevation(o){this._elevationCenter=o,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(o,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(o){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const g=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(o<1&&g!==this._elevationTarget){const M=this._elevationTarget-this._elevationStart;this._elevationStart+=o*(M-(g-(M*o+this._elevationStart))/(1-o)),this._elevationTarget=g}this.transform.elevation=p.B.number(this._elevationStart,this._elevationTarget,o)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(o){if(!this.transformCameraUpdate)return;const g=o.clone(),{center:M,zoom:S,pitch:A,bearing:Y,elevation:U}=this.transformCameraUpdate(g);M&&(g.center=M),void 0!==S&&(g.zoom=S),void 0!==A&&(g.pitch=A),void 0!==Y&&(g.bearing=Y),void 0!==U&&(g.elevation=U),this.transform.apply(g)}_fireMoveEvents(o){this.fire(new p.k("move",o)),this._zooming&&this.fire(new p.k("zoom",o)),this._rotating&&this.fire(new p.k("rotate",o)),this._pitching&&this.fire(new p.k("pitch",o))}_afterEase(o,g){if(this._easeId&&g&&this._easeId===g)return;delete this._easeId;const M=this._zooming,S=this._rotating,A=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,M&&this.fire(new p.k("zoomend",o)),S&&this.fire(new p.k("rotateend",o)),A&&this.fire(new p.k("pitchend",o)),this.fire(new p.k("moveend",o))}flyTo(o,g){if(!o.essential&&p.h.prefersReducedMotion){const Oi=p.F(o,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Oi,g)}this.stop(),o=p.e({offset:[0,0],speed:1.2,curve:1.42,easing:p.bb},o);const M=this._getTransformForUpdate(),S=this.getZoom(),A=this.getBearing(),Y=this.getPitch(),U=this.getPadding(),K="zoom"in o?p.ad(+o.zoom,M.minZoom,M.maxZoom):S,ge="bearing"in o?this._normalizeBearing(o.bearing,A):A,Ce="pitch"in o?+o.pitch:Y,Ne="padding"in o?o.padding:M.padding,ot=M.zoomScale(K-S),Pt=p.P.convert(o.offset);let Lt=M.centerPoint.add(Pt);const jt=M.pointLocation(Lt),Nt=p.L.convert(o.center||jt);this._normalizeCenter(Nt);const vn=M.project(jt),Pn=M.project(Nt).sub(vn);let bt=o.curve;const Mn=Math.max(M.width,M.height),Bn=Mn/ot,qn=Pn.mag();if("minZoom"in o){const Oi=p.ad(Math.min(o.minZoom,S,K),M.minZoom,M.maxZoom),Ws=Mn/M.zoomScale(Oi-S);bt=Math.sqrt(Ws/qn*2)}const Hn=bt*bt;function _r(Oi){const Ws=(Bn*Bn-Mn*Mn+(Oi?-1:1)*Hn*Hn*qn*qn)/(2*(Oi?Bn:Mn)*Hn*qn);return Math.log(Math.sqrt(Ws*Ws+1)-Ws)}function yr(Oi){return(Math.exp(Oi)-Math.exp(-Oi))/2}function Fr(Oi){return(Math.exp(Oi)+Math.exp(-Oi))/2}const ti=_r(!1);let Hs=function(Oi){return Fr(ti)/Fr(ti+bt*Oi)},Br=function(Oi){return Mn*((Fr(ti)*(yr(Ws=ti+bt*Oi)/Fr(Ws))-yr(ti))/Hn)/qn;var Ws},Ki=(_r(!0)-ti)/bt;if(Math.abs(qn)<1e-6||!isFinite(Ki)){if(Math.abs(Mn-Bn)<1e-6)return this.easeTo(o,g);const Oi=Bn<Mn?-1:1;Ki=Math.abs(Math.log(Bn/Mn))/bt,Br=function(){return 0},Hs=function(Ws){return Math.exp(Oi*bt*Ws)}}return o.duration="duration"in o?+o.duration:1e3*Ki/("screenSpeed"in o?+o.screenSpeed/bt:+o.speed),o.maxDuration&&o.duration>o.maxDuration&&(o.duration=0),this._zooming=!0,this._rotating=A!==ge,this._pitching=Ce!==Y,this._padding=!M.isPaddingEqual(Ne),this._prepareEase(g,!1),this.terrain&&this._prepareElevation(Nt),this._ease(Oi=>{const Ws=Oi*Ki,Rs=1/Hs(Ws);M.zoom=1===Oi?K:S+M.scaleZoom(Rs),this._rotating&&(M.bearing=p.B.number(A,ge,Oi)),this._pitching&&(M.pitch=p.B.number(Y,Ce,Oi)),this._padding&&(M.interpolatePadding(U,Ne,Oi),Lt=M.centerPoint.add(Pt)),this.terrain&&!o.freezeElevation&&this._updateElevation(Oi);const Ss=1===Oi?Nt:M.unproject(vn.add(Pn.mult(Br(Ws))).mult(Rs));M.setLocationAtPoint(M.renderWorldCopies?Ss.wrap():Ss,Lt),this._applyUpdatedTransform(M),this._fireMoveEvents(g)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(g)},o),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(o,g){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const M=this._onEaseEnd;delete this._onEaseEnd,M.call(this,g)}if(!o){const M=this.handlers;M&&M.stop(!1)}return this}_ease(o,g,M){!1===M.animate||0===M.duration?(o(1),g()):(this._easeStart=p.h.now(),this._easeOptions=M,this._onEaseFrame=o,this._onEaseEnd=g,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(o,g){o=p.b5(o,-180,180);const M=Math.abs(o-g);return Math.abs(o-360-g)<M&&(o-=360),Math.abs(o+360-g)<M&&(o+=360),o}_normalizeCenter(o){const g=this.transform;if(!g.renderWorldCopies||g.lngRange)return;const M=o.lng-g.center.lng;o.lng+=M>180?-360:M<-180?360:0}queryTerrainElevation(o){return this.terrain?this.terrain.getElevationForLngLatZoom(p.L.convert(o),this.transform.tileZoom)-this.transform.elevation:null}}class Va{constructor(o={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=g=>{!g||"metadata"!==g.sourceDataType&&"visibility"!==g.sourceDataType&&"style"!==g.dataType&&"terrain"!==g.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=o}getDefaultPosition(){return"bottom-right"}onAdd(o){return this._map=o,this._compact=this.options&&this.options.compact,this._container=R.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=R.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=R.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){R.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(o,g){const M=this._map._getUIString(`AttributionControl.${g}`);o.title=M,o.setAttribute("aria-label",M)}_updateAttributions(){if(!this._map.style)return;let o=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?o=o.concat(this.options.customAttribution.map(S=>"string"!=typeof S?"":S)):"string"==typeof this.options.customAttribution&&o.push(this.options.customAttribution)),this._map.style.stylesheet){const S=this._map.style.stylesheet;this.styleOwner=S.owner,this.styleId=S.id}const g=this._map.style.sourceCaches;for(const S in g){const A=g[S];if(A.used||A.usedForTerrain){const Y=A.getSource();Y.attribution&&o.indexOf(Y.attribution)<0&&o.push(Y.attribution)}}o=o.filter(S=>String(S).trim()),o.sort((S,A)=>S.length-A.length),o=o.filter((S,A)=>{for(let Y=A+1;Y<o.length;Y++)if(o[Y].indexOf(S)>=0)return!1;return!0});const M=o.join(" | ");M!==this._attribHTML&&(this._attribHTML=M,o.length?(this._innerContainer.innerHTML=M,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class js{constructor(o={}){this._updateCompact=()=>{const g=this._container.children;if(g.length){const M=g[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&M.classList.add("maplibregl-compact"):M.classList.remove("maplibregl-compact")}},this.options=o}getDefaultPosition(){return"bottom-left"}onAdd(o){this._map=o,this._compact=this.options&&this.options.compact,this._container=R.create("div","maplibregl-ctrl");const g=R.create("a","maplibregl-ctrl-logo");return g.target="_blank",g.rel="noopener nofollow",g.href="https://maplibre.org/",g.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),g.setAttribute("rel","noopener nofollow"),this._container.appendChild(g),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){R.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Di{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(o){const g=++this._id;return this._queue.push({callback:o,id:g,cancelled:!1}),g}remove(o){const g=this._currentlyRunning,M=g?this._queue.concat(g):this._queue;for(const S of M)if(S.id===o)return void(S.cancelled=!0)}run(o=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const g=this._currentlyRunning=this._queue;this._queue=[];for(const M of g)if(!M.cancelled&&(M.callback(o),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ba={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Jd=p.Q([{name:"a_pos3d",type:"Int16",components:3}]);class sd extends p.E{constructor(o){super(),this.sourceCache=o,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,o.usedForTerrain=!0,o.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(o,g){this.sourceCache.update(o,g),this._renderableTilesKeys=[];const M={};for(const S of o.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:g}))M[S.key]=!0,this._renderableTilesKeys.push(S.key),this._tiles[S.key]||(S.posMatrix=new Float64Array(16),p.aS(S.posMatrix,0,p.N,0,p.N,0,1),this._tiles[S.key]=new xr(S,this.tileSize));for(const S in this._tiles)M[S]||delete this._tiles[S]}freeRtt(o){for(const g in this._tiles){const M=this._tiles[g];(!o||M.tileID.equals(o)||M.tileID.isChildOf(o)||o.isChildOf(M.tileID))&&(M.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(o=>this.getTileByID(o))}getTileByID(o){return this._tiles[o]}getTerrainCoords(o){const g={};for(const M of this._renderableTilesKeys){const S=this._tiles[M].tileID;if(S.canonical.equals(o.canonical)){const A=o.clone();A.posMatrix=new Float64Array(16),p.aS(A.posMatrix,0,p.N,0,p.N,0,1),g[M]=A}else if(S.canonical.isChildOf(o.canonical)){const A=o.clone();A.posMatrix=new Float64Array(16);const Y=S.canonical.z-o.canonical.z,U=S.canonical.x-(S.canonical.x>>Y<<Y),K=S.canonical.y-(S.canonical.y>>Y<<Y),ge=p.N>>Y;p.aS(A.posMatrix,0,ge,0,ge,0,1),p.$(A.posMatrix,A.posMatrix,[-U*ge,-K*ge,0]),g[M]=A}else if(o.canonical.isChildOf(S.canonical)){const A=o.clone();A.posMatrix=new Float64Array(16);const Y=o.canonical.z-S.canonical.z,U=o.canonical.x-(o.canonical.x>>Y<<Y),K=o.canonical.y-(o.canonical.y>>Y<<Y),ge=p.N>>Y;p.aS(A.posMatrix,0,p.N,0,p.N,0,1),p.$(A.posMatrix,A.posMatrix,[U*ge,K*ge,0]),p.a0(A.posMatrix,A.posMatrix,[1/2**Y,1/2**Y,0]),g[M]=A}}return g}getSourceTile(o,g){const M=this.sourceCache._source;let S=o.overscaledZ-this.deltaZoom;if(S>M.maxzoom&&(S=M.maxzoom),S<M.minzoom)return null;this._sourceTileCache[o.key]||(this._sourceTileCache[o.key]=o.scaledTo(S).key);let A=this.sourceCache.getTileByID(this._sourceTileCache[o.key]);if((!A||!A.dem)&&g)for(;S>=M.minzoom&&(!A||!A.dem);)A=this.sourceCache.getTileByID(o.scaledTo(S--).key);return A}tilesAfterTime(o=Date.now()){return Object.values(this._tiles).filter(g=>g.timeAdded>=o)}}class bo{constructor(o,g,M){this.painter=o,this.sourceCache=new sd(g),this.options=M,this.exaggeration="number"==typeof M.exaggeration?M.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(o,g,M,S=p.N){var A;if(!(g>=0&&g<S&&M>=0&&M<S))return 0;const Y=this.getTerrainData(o),U=null===(A=Y.tile)||void 0===A?void 0:A.dem;if(!U)return 0;const K=((Lt=[])[0]=(Nt=Y.u_terrain_matrix)[0]*(vn=(jt=[g/S*p.N,M/S*p.N])[0])+Nt[4]*(Pn=jt[1])+Nt[12],Lt[1]=Nt[1]*vn+Nt[5]*Pn+Nt[13],Lt),ge=[K[0]*U.dim,K[1]*U.dim],Ce=Math.floor(ge[0]),Ne=Math.floor(ge[1]),ot=ge[0]-Ce,Pt=ge[1]-Ne;var Lt,jt,Nt,vn,Pn;return U.get(Ce,Ne)*(1-ot)*(1-Pt)+U.get(Ce+1,Ne)*ot*(1-Pt)+U.get(Ce,Ne+1)*(1-ot)*Pt+U.get(Ce+1,Ne+1)*ot*Pt}getElevationForLngLatZoom(o,g){const{tileID:M,mercatorX:S,mercatorY:A}=this._getOverscaledTileIDFromLngLatZoom(o,g);return this.getElevation(M,S%p.N,A%p.N,p.N)}getElevation(o,g,M,S=p.N){return this.getDEMElevation(o,g,M,S)*this.exaggeration}getTerrainData(o){if(!this._emptyDemTexture){const S=this.painter.context,A=new p.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new ne(S,A,S.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new ne(S,new p.R({width:1,height:1}),S.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=p.ao([])}const g=this.sourceCache.getSourceTile(o,!0);if(g&&g.dem&&(!g.demTexture||g.needsTerrainPrepare)){const S=this.painter.context;g.demTexture=this.painter.getTileTexture(g.dem.stride),g.demTexture?g.demTexture.update(g.dem.getPixels(),{premultiply:!1}):g.demTexture=new ne(S,g.dem.getPixels(),S.gl.RGBA,{premultiply:!1}),g.demTexture.bind(S.gl.NEAREST,S.gl.CLAMP_TO_EDGE),g.needsTerrainPrepare=!1}const M=g&&g+g.tileID.key+o.key;if(M&&!this._demMatrixCache[M]){const S=this.sourceCache.sourceCache._source.maxzoom;let A=o.canonical.z-g.tileID.canonical.z;o.overscaledZ>o.canonical.z&&(o.canonical.z>=S?A=o.canonical.z-S:p.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const Y=o.canonical.x-(o.canonical.x>>A<<A),U=o.canonical.y-(o.canonical.y>>A<<A),K=p.bc(new Float64Array(16),[1/(p.N<<A),1/(p.N<<A),0]);p.$(K,K,[Y*p.N,U*p.N,0]),this._demMatrixCache[o.key]={matrix:K,coord:o}}return{u_depth:2,u_terrain:3,u_terrain_dim:g&&g.dem&&g.dem.dim||1,u_terrain_matrix:M?this._demMatrixCache[o.key].matrix:this._emptyDemMatrix,u_terrain_unpack:g&&g.dem&&g.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(g&&g.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:g}}getFramebuffer(o){const g=this.painter,M=g.width/devicePixelRatio,S=g.height/devicePixelRatio;return!this._fbo||this._fbo.width===M&&this._fbo.height===S||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new ne(g.context,{width:M,height:S,data:null},g.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(g.context.gl.NEAREST,g.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new ne(g.context,{width:M,height:S,data:null},g.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(g.context.gl.NEAREST,g.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=g.context.createFramebuffer(M,S,!0,!1),this._fbo.depthAttachment.set(g.context.createRenderbuffer(g.context.gl.DEPTH_COMPONENT16,M,S))),this._fbo.colorAttachment.set("coords"===o?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const o=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const g=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let A=0,Y=0;A<this._coordsTextureSize;A++)for(let U=0;U<this._coordsTextureSize;U++,Y+=4)g[Y+0]=255&U,g[Y+1]=255&A,g[Y+2]=U>>8<<4|A>>8,g[Y+3]=0;const M=new p.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(g.buffer)),S=new ne(o,M,o.gl.RGBA,{premultiply:!1});return S.bind(o.gl.NEAREST,o.gl.CLAMP_TO_EDGE),this._coordsTexture=S,S}pointCoordinate(o){const g=new Uint8Array(4),M=this.painter.context,S=M.gl;M.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),S.readPixels(o.x,this.painter.height/devicePixelRatio-o.y-1,1,1,S.RGBA,S.UNSIGNED_BYTE,g),M.bindFramebuffer.set(null);const A=g[0]+(g[2]>>4<<8),Y=g[1]+((15&g[2])<<8),U=this.coordsIndex[255-g[3]],K=U&&this.sourceCache.getTileByID(U);if(!K)return null;const ge=this._coordsTextureSize,Ce=(1<<K.tileID.canonical.z)*ge;return new p.U(this._allowMercatorOverflow(o,(K.tileID.canonical.x*ge+A)/Ce),(K.tileID.canonical.y*ge+Y)/Ce,this.getElevation(K.tileID,A,Y,ge))}getTerrainMesh(){if(this._mesh)return this._mesh;const o=this.painter.context,g=new p.bd,M=new p.b0,S=this.meshSize,A=p.N/S,Y=S*S;for(let Ne=0;Ne<=S;Ne++)for(let ot=0;ot<=S;ot++)g.emplaceBack(ot*A,Ne*A,0);for(let Ne=0;Ne<Y;Ne+=S+1)for(let ot=0;ot<S;ot++)M.emplaceBack(ot+Ne,S+ot+Ne+1,S+ot+Ne+2),M.emplaceBack(ot+Ne,S+ot+Ne+2,ot+Ne+1);const U=g.length,K=U+2*(S+1);for(const Ne of[0,1])for(let ot=0;ot<=S;ot++)for(const Pt of[0,1])g.emplaceBack(ot*A,Ne*p.N,Pt);for(let Ne=0;Ne<2*S;Ne+=2)M.emplaceBack(K+Ne,K+Ne+1,K+Ne+3),M.emplaceBack(K+Ne,K+Ne+3,K+Ne+2),M.emplaceBack(U+Ne,U+Ne+3,U+Ne+1),M.emplaceBack(U+Ne,U+Ne+2,U+Ne+3);const ge=g.length,Ce=ge+2*(S+1);for(const Ne of[0,1])for(let ot=0;ot<=S;ot++)for(const Pt of[0,1])g.emplaceBack(Ne*p.N,ot*A,Pt);for(let Ne=0;Ne<2*S;Ne+=2)M.emplaceBack(ge+Ne,ge+Ne+1,ge+Ne+3),M.emplaceBack(ge+Ne,ge+Ne+3,ge+Ne+2),M.emplaceBack(Ce+Ne,Ce+Ne+3,Ce+Ne+1),M.emplaceBack(Ce+Ne,Ce+Ne+2,Ce+Ne+3);return this._mesh={indexBuffer:o.createIndexBuffer(M),vertexBuffer:o.createVertexBuffer(g,Jd.members),segments:p.S.simpleSegment(0,0,g.length,M.length)},this._mesh}getMeshFrameDelta(o){return 2*Math.PI*p.be/Math.pow(2,o)/5}getMinTileElevationForLngLatZoom(o,g){var M;const{tileID:S}=this._getOverscaledTileIDFromLngLatZoom(o,g);return null!==(M=this.getMinMaxElevation(S).minElevation)&&void 0!==M?M:0}getMinMaxElevation(o){const g=this.getTerrainData(o).tile,M={minElevation:null,maxElevation:null};return g&&g.dem&&(M.minElevation=g.dem.min*this.exaggeration,M.maxElevation=g.dem.max*this.exaggeration),M}_getOverscaledTileIDFromLngLatZoom(o,g){const M=p.U.fromLngLat(o.wrap()),S=(1<<g)*p.N,A=M.x*S,Y=M.y*S,U=Math.floor(A/p.N),K=Math.floor(Y/p.N);return{tileID:new p.O(g,0,g,U,K),mercatorX:A,mercatorY:Y}}_allowMercatorOverflow(o,g){const M=o.x<this.painter.width/2;let S=p.bf(g);const A=this.painter.transform.center.lng;return M&&Math.sign(S)>0&&Math.sign(A)<0||!M&&Math.sign(S)<0&&Math.sign(A)>0?(S=360*Math.sign(A)+S,p.G(S)):g}}class wc{constructor(o,g,M){this._context=o,this._size=g,this._tileSize=M,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const o of this._objects)o.texture.destroy(),o.fbo.destroy()}_createObject(o){const g=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),M=new ne(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return M.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),g.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),g.colorAttachment.set(M.texture),{id:o,fbo:g,texture:M,stamp:-1,inUse:!1}}getObjectForId(o){return this._objects[o]}useObject(o){o.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(g=>o.id!==g),this._recentlyUsed.push(o.id)}stampObject(o){o.stamp=++this._stamp}getOrCreateFreeObject(){for(const g of this._recentlyUsed)if(!this._objects[g].inUse)return this._objects[g];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const o=this._createObject(this._objects.length);return this._objects.push(o),o}freeObject(o){o.inUse=!1}freeAllObjects(){for(const o of this._objects)this.freeObject(o)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(o=>!o.inUse)}}const xa={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class vl{constructor(o,g){this.painter=o,this.terrain=g,this.pool=new wc(o.context,30,g.sourceCache.tileSize*g.qualityFactor)}destruct(){this.pool.destruct()}getTexture(o){return this.pool.getObjectForId(o.rtt[this._stacks.length-1].id).texture}prepareForRender(o,g){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=o._order.filter(M=>!o._layers[M].isHidden(g)),this._coordsDescendingInv={};for(const M in o.sourceCaches){this._coordsDescendingInv[M]={};const S=o.sourceCaches[M].getVisibleCoordinates();for(const A of S){const Y=this.terrain.sourceCache.getTerrainCoords(A);for(const U in Y)this._coordsDescendingInv[M][U]||(this._coordsDescendingInv[M][U]=[]),this._coordsDescendingInv[M][U].push(Y[U])}}this._coordsDescendingInvStr={};for(const M of o._order){const S=o._layers[M],A=S.source;if(xa[S.type]&&!this._coordsDescendingInvStr[A]){this._coordsDescendingInvStr[A]={};for(const Y in this._coordsDescendingInv[A])this._coordsDescendingInvStr[A][Y]=this._coordsDescendingInv[A][Y].map(U=>U.key).sort().join()}}for(const M of this._renderableTiles)for(const S in this._coordsDescendingInvStr){const A=this._coordsDescendingInvStr[S][M.tileID.key];A&&A!==M.rttCoords[S]&&(M.rtt=[])}}renderLayer(o){if(o.isHidden(this.painter.transform.zoom))return!1;const g=o.type,M=this.painter,S=this._renderableLayerIds[this._renderableLayerIds.length-1]===o.id;if(xa[g]&&(this._prevType&&xa[this._prevType]||this._stacks.push([]),this._prevType=g,this._stacks[this._stacks.length-1].push(o.id),!S))return!0;if(xa[this._prevType]||xa[g]&&S){this._prevType=g;const A=this._stacks.length-1,Y=this._stacks[A]||[];for(const U of this._renderableTiles){if(this.pool.isFull()&&(ro(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(U),U.rtt[A]){const ge=this.pool.getObjectForId(U.rtt[A].id);if(ge.stamp===U.rtt[A].stamp){this.pool.useObject(ge);continue}}const K=this.pool.getOrCreateFreeObject();this.pool.useObject(K),this.pool.stampObject(K),U.rtt[A]={id:K.id,stamp:K.stamp},M.context.bindFramebuffer.set(K.fbo.framebuffer),M.context.clear({color:p.aT.transparent,stencil:0}),M.currentStencilSource=void 0;for(let ge=0;ge<Y.length;ge++){const Ce=M.style._layers[Y[ge]],Ne=Ce.source?this._coordsDescendingInv[Ce.source][U.tileID.key]:[U.tileID];M.context.viewport.set([0,0,K.fbo.width,K.fbo.height]),M._renderTileClippingMasks(Ce,Ne),M.renderLayer(M,M.style.sourceCaches[Ce.source],Ce,Ne),Ce.source&&(U.rttCoords[Ce.source]=this._coordsDescendingInvStr[Ce.source][U.tileID.key])}}return ro(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),xa[g]}return!1}}const yi=O,ki={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:p.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},fl=x=>{x.touchstart=x.dragStart,x.touchmoveWindow=x.dragMove,x.touchend=x.dragEnd},pl={showCompass:!0,showZoom:!0,visualizePitch:!1};class Fl{constructor(o,g,M=!1){this.mousedown=Y=>{this.startMouse(p.e({},Y,{ctrlKey:!0,preventDefault:()=>Y.preventDefault()}),R.mousePos(this.element,Y)),R.addEventListener(window,"mousemove",this.mousemove),R.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=Y=>{this.moveMouse(Y,R.mousePos(this.element,Y))},this.mouseup=Y=>{this.mouseRotate.dragEnd(Y),this.mousePitch&&this.mousePitch.dragEnd(Y),this.offTemp()},this.touchstart=Y=>{1!==Y.targetTouches.length?this.reset():(this._startPos=this._lastPos=R.touchPos(this.element,Y.targetTouches)[0],this.startTouch(Y,this._startPos),R.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),R.addEventListener(window,"touchend",this.touchend))},this.touchmove=Y=>{1!==Y.targetTouches.length?this.reset():(this._lastPos=R.touchPos(this.element,Y.targetTouches)[0],this.moveTouch(Y,this._lastPos))},this.touchend=Y=>{0===Y.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const S=o.dragRotate._mouseRotate.getClickTolerance(),A=o.dragRotate._mousePitch.getClickTolerance();this.element=g,this.mouseRotate=uo({clickTolerance:S,enable:!0}),this.touchRotate=(({enable:Y,clickTolerance:U,bearingDegreesPerPixelMoved:K=.8})=>{const ge=new vu;return new wa({clickTolerance:U,move:(Ce,Ne)=>({bearingDelta:(Ne.x-Ce.x)*K}),moveStateManager:ge,enable:Y,assignEvents:fl})})({clickTolerance:S,enable:!0}),this.map=o,M&&(this.mousePitch=ha({clickTolerance:A,enable:!0}),this.touchPitch=(({enable:Y,clickTolerance:U,pitchDegreesPerPixelMoved:K=-.5})=>{const ge=new vu;return new wa({clickTolerance:U,move:(Ce,Ne)=>({pitchDelta:(Ne.y-Ce.y)*K}),moveStateManager:ge,enable:Y,assignEvents:fl})})({clickTolerance:A,enable:!0})),R.addEventListener(g,"mousedown",this.mousedown),R.addEventListener(g,"touchstart",this.touchstart,{passive:!1}),R.addEventListener(g,"touchcancel",this.reset)}startMouse(o,g){this.mouseRotate.dragStart(o,g),this.mousePitch&&this.mousePitch.dragStart(o,g),R.disableDrag()}startTouch(o,g){this.touchRotate.dragStart(o,g),this.touchPitch&&this.touchPitch.dragStart(o,g),R.disableDrag()}moveMouse(o,g){const M=this.map,{bearingDelta:S}=this.mouseRotate.dragMove(o,g)||{};if(S&&M.setBearing(M.getBearing()+S),this.mousePitch){const{pitchDelta:A}=this.mousePitch.dragMove(o,g)||{};A&&M.setPitch(M.getPitch()+A)}}moveTouch(o,g){const M=this.map,{bearingDelta:S}=this.touchRotate.dragMove(o,g)||{};if(S&&M.setBearing(M.getBearing()+S),this.touchPitch){const{pitchDelta:A}=this.touchPitch.dragMove(o,g)||{};A&&M.setPitch(M.getPitch()+A)}}off(){const o=this.element;R.removeEventListener(o,"mousedown",this.mousedown),R.removeEventListener(o,"touchstart",this.touchstart,{passive:!1}),R.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),R.removeEventListener(window,"touchend",this.touchend),R.removeEventListener(o,"touchcancel",this.reset),this.offTemp()}offTemp(){R.enableDrag(),R.removeEventListener(window,"mousemove",this.mousemove),R.removeEventListener(window,"mouseup",this.mouseup),R.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),R.removeEventListener(window,"touchend",this.touchend)}}let ci;function vs(x,o,g){if(x=new p.L(x.lng,x.lat),o){const M=new p.L(x.lng-360,x.lat),S=new p.L(x.lng+360,x.lat),A=g.locationPoint(x).distSqr(o);g.locationPoint(M).distSqr(o)<A?x=M:g.locationPoint(S).distSqr(o)<A&&(x=S)}for(;Math.abs(x.lng-g.center.lng)>180;){const M=g.locationPoint(x);if(M.x>=0&&M.y>=0&&M.x<=g.width&&M.y<=g.height)break;x.lng>g.center.lng?x.lng-=360:x.lng+=360}return x}const Gl={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function tc(x,o,g){const M=x.classList;for(const S in Gl)M.remove(`maplibregl-${g}-anchor-${S}`);M.add(`maplibregl-${g}-anchor-${o}`)}class el extends p.E{constructor(o){if(super(),this._onKeyPress=g=>{const M=g.code,S=g.charCode||g.keyCode;"Space"!==M&&"Enter"!==M&&32!==S&&13!==S||this.togglePopup()},this._onMapClick=g=>{const M=g.originalEvent.target,S=this._element;this._popup&&(M===S||S.contains(M))&&this.togglePopup()},this._update=g=>{if(!this._map)return;const M=this._map.loaded()&&!this._map.isMoving();("terrain"===g?.type||"render"===g?.type&&!M)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=vs(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let S="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?S=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(S=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let A="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?A="rotateX(0deg)":"map"===this._pitchAlignment&&(A=`rotateX(${this._map.getPitch()}deg)`),g&&"moveend"!==g.type||(this._pos=this._pos.round()),R.setTransform(this._element,`${Gl[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${A} ${S}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const Y=this._map.unproject(this._pos),U=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=Y.distanceTo(this._lngLat)>20*U?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=g=>{if(!this._isDragging){const M=this._clickTolerance||this._map._clickTolerance;this._isDragging=g.point.dist(this._pointerdownPos)>=M}this._isDragging&&(this._pos=g.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new p.k("dragstart"))),this.fire(new p.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new p.k("dragend")),this._state="inactive"},this._addDragHandler=g=>{this._element.contains(g.originalEvent.target)&&(g.preventDefault(),this._positionDelta=g.point.sub(this._pos).add(this._offset),this._pointerdownPos=g.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=o&&o.anchor||"center",this._color=o&&o.color||"#3FB1CE",this._scale=o&&o.scale||1,this._draggable=o&&o.draggable||!1,this._clickTolerance=o&&o.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=o&&o.rotation||0,this._rotationAlignment=o&&o.rotationAlignment||"auto",this._pitchAlignment=o&&o.pitchAlignment&&"auto"!==o.pitchAlignment?o.pitchAlignment:this._rotationAlignment,o&&o.element)this._element=o.element,this._offset=p.P.convert(o&&o.offset||[0,0]);else{this._defaultMarker=!0,this._element=R.create("div"),this._element.setAttribute("aria-label","Map marker");const g=R.createNS("http://www.w3.org/2000/svg","svg"),M=41,S=27;g.setAttributeNS(null,"display","block"),g.setAttributeNS(null,"height",`${M}px`),g.setAttributeNS(null,"width",`${S}px`),g.setAttributeNS(null,"viewBox",`0 0 ${S} ${M}`);const A=R.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"stroke","none"),A.setAttributeNS(null,"stroke-width","1"),A.setAttributeNS(null,"fill","none"),A.setAttributeNS(null,"fill-rule","evenodd");const Y=R.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"fill-rule","nonzero");const U=R.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"transform","translate(3.0, 29.0)"),U.setAttributeNS(null,"fill","#000000");const K=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const vn of K){const Pn=R.createNS("http://www.w3.org/2000/svg","ellipse");Pn.setAttributeNS(null,"opacity","0.04"),Pn.setAttributeNS(null,"cx","10.5"),Pn.setAttributeNS(null,"cy","5.80029008"),Pn.setAttributeNS(null,"rx",vn.rx),Pn.setAttributeNS(null,"ry",vn.ry),U.appendChild(Pn)}const ge=R.createNS("http://www.w3.org/2000/svg","g");ge.setAttributeNS(null,"fill",this._color);const Ce=R.createNS("http://www.w3.org/2000/svg","path");Ce.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ge.appendChild(Ce);const Ne=R.createNS("http://www.w3.org/2000/svg","g");Ne.setAttributeNS(null,"opacity","0.25"),Ne.setAttributeNS(null,"fill","#000000");const ot=R.createNS("http://www.w3.org/2000/svg","path");ot.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ne.appendChild(ot);const Pt=R.createNS("http://www.w3.org/2000/svg","g");Pt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Pt.setAttributeNS(null,"fill","#FFFFFF");const Lt=R.createNS("http://www.w3.org/2000/svg","g");Lt.setAttributeNS(null,"transform","translate(8.0, 8.0)");const jt=R.createNS("http://www.w3.org/2000/svg","circle");jt.setAttributeNS(null,"fill","#000000"),jt.setAttributeNS(null,"opacity","0.25"),jt.setAttributeNS(null,"cx","5.5"),jt.setAttributeNS(null,"cy","5.5"),jt.setAttributeNS(null,"r","5.4999962");const Nt=R.createNS("http://www.w3.org/2000/svg","circle");Nt.setAttributeNS(null,"fill","#FFFFFF"),Nt.setAttributeNS(null,"cx","5.5"),Nt.setAttributeNS(null,"cy","5.5"),Nt.setAttributeNS(null,"r","5.4999962"),Lt.appendChild(jt),Lt.appendChild(Nt),Y.appendChild(U),Y.appendChild(ge),Y.appendChild(Ne),Y.appendChild(Pt),Y.appendChild(Lt),g.appendChild(Y),g.setAttributeNS(null,"height",M*this._scale+"px"),g.setAttributeNS(null,"width",S*this._scale+"px"),this._element.appendChild(g),this._offset=p.P.convert(o&&o.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",g=>{g.preventDefault()}),this._element.addEventListener("mousedown",g=>{g.preventDefault()}),tc(this._element,this._anchor,"marker"),o&&o.className)for(const g of o.className.split(" "))this._element.classList.add(g);this._popup=null}addTo(o){return this.remove(),this._map=o,o.getCanvasContainer().appendChild(this._element),o.on("move",this._update),o.on("moveend",this._update),o.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),R.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(o){return this._lngLat=p.L.convert(o),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(o){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),o){if(!("offset"in o.options)){const S=Math.abs(13.5)/Math.SQRT2;o.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[S,-1*(24.6+S)],"bottom-right":[-S,-1*(24.6+S)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=o,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const o=this._popup;return o?(o.isOpen()?o.remove():o.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(o){return this._offset=p.P.convert(o),this._update(),this}addClassName(o){this._element.classList.add(o)}removeClassName(o){this._element.classList.remove(o)}toggleClassName(o){return this._element.classList.toggle(o)}setDraggable(o){return this._draggable=!!o,this._map&&(o?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(o){return this._rotation=o||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(o){return this._rotationAlignment=o||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(o){return this._pitchAlignment=o&&"auto"!==o?o:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const xo={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let ks=0,io=!1;const nc={maxWidth:100,unit:"metric"};function yt(x,o,g){const M=g&&g.maxWidth||100,S=x._container.clientHeight/2,A=x.unproject([0,S]),Y=x.unproject([M,S]),U=A.distanceTo(Y);if(g&&"imperial"===g.unit){const K=3.2808*U;K>5280?l(o,M,K/5280,x._getUIString("ScaleControl.Miles")):l(o,M,K,x._getUIString("ScaleControl.Feet"))}else g&&"nautical"===g.unit?l(o,M,U/1852,x._getUIString("ScaleControl.NauticalMiles")):U>=1e3?l(o,M,U/1e3,x._getUIString("ScaleControl.Kilometers")):l(o,M,U,x._getUIString("ScaleControl.Meters"))}function l(x,o,g,M){const S=function(A){const Y=Math.pow(10,`${Math.floor(A)}`.length-1);let U=A/Y;return U=U>=10?10:U>=5?5:U>=3?3:U>=2?2:U>=1?1:function(K){const ge=Math.pow(10,Math.ceil(-Math.log(K)/Math.LN10));return Math.round(K*ge)/ge}(U),Y*U}(g);x.style.width=o*(S/g)+"px",x.innerHTML=`${S}&nbsp;${M}`}const c={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},_=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function w(x){if(x){if("number"==typeof x){const o=Math.round(Math.abs(x)/Math.SQRT2);return{center:new p.P(0,0),top:new p.P(0,x),"top-left":new p.P(o,o),"top-right":new p.P(-o,o),bottom:new p.P(0,-x),"bottom-left":new p.P(o,-o),"bottom-right":new p.P(-o,-o),left:new p.P(x,0),right:new p.P(-x,0)}}if(x instanceof p.P||Array.isArray(x)){const o=p.P.convert(x);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:p.P.convert(x.center||[0,0]),top:p.P.convert(x.top||[0,0]),"top-left":p.P.convert(x["top-left"]||[0,0]),"top-right":p.P.convert(x["top-right"]||[0,0]),bottom:p.P.convert(x.bottom||[0,0]),"bottom-left":p.P.convert(x["bottom-left"]||[0,0]),"bottom-right":p.P.convert(x["bottom-right"]||[0,0]),left:p.P.convert(x.left||[0,0]),right:p.P.convert(x.right||[0,0])}}return w(new p.P(0,0))}const I={extend:(x,...o)=>p.e(x,...o),run(x){x()},logToElement(x,o=!1,g="log"){const M=window.document.getElementById(g);M&&(o&&(M.innerHTML=""),M.innerHTML+=`<br>${x}`)}},W=O;class re{static get version(){return W}static get workerCount(){return zr.workerCount}static set workerCount(o){zr.workerCount=o}static get maxParallelImageRequests(){return p.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(o){p.c.MAX_PARALLEL_IMAGE_REQUESTS=o}static get workerUrl(){return p.c.WORKER_URL}static set workerUrl(o){p.c.WORKER_URL=o}static addProtocol(o,g){p.c.REGISTERED_PROTOCOLS[o]=g}static removeProtocol(o){delete p.c.REGISTERED_PROTOCOLS[o]}}return re.Map=class extends ys{constructor(x){if(p.bg.mark(p.bh.create),null!=(x=p.e({},ki,x)).minZoom&&null!=x.maxZoom&&x.minZoom>x.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=x.minPitch&&null!=x.maxPitch&&x.minPitch>x.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=x.minPitch&&x.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=x.maxPitch&&x.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new vd(x.minZoom,x.maxZoom,x.minPitch,x.maxPitch,x.renderWorldCopies),{bearingSnap:x.bearingSnap}),this._cooperativeGesturesOnWheel=o=>{this._onCooperativeGesture(o,o[this._metaKey],1)},this._contextLost=o=>{o.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new p.k("webglcontextlost",{originalEvent:o}))},this._contextRestored=o=>{this._setupPainter(),this.resize(),this._update(),this.fire(new p.k("webglcontextrestored",{originalEvent:o}))},this._onMapScroll=o=>{if(o.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=x.interactive,this._cooperativeGestures=x.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=x.maxTileCacheSize,this._maxTileCacheZoomLevels=x.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=x.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=x.preserveDrawingBuffer,this._antialias=x.antialias,this._trackResize=x.trackResize,this._bearingSnap=x.bearingSnap,this._refreshExpiredTiles=x.refreshExpiredTiles,this._fadeDuration=x.fadeDuration,this._crossSourceCollisions=x.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=x.collectResourceTiming,this._renderTaskQueue=new Di,this._controls=[],this._mapId=p.a2(),this._locale=p.e({},ba,x.locale),this._clickTolerance=x.clickTolerance,this._overridePixelRatio=x.pixelRatio,this._maxCanvasSize=x.maxCanvasSize,this.transformCameraUpdate=x.transformCameraUpdate,this._imageQueueHandle=Ie.addThrottleControl(()=>this.isMoving()),this._requestManager=new pe(x.transformRequest),"string"==typeof x.container){if(this._container=document.getElementById(x.container),!this._container)throw new Error(`Container '${x.container}' not found.`)}else{if(!(x.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=x.container}if(x.maxBounds&&this.setMaxBounds(x.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let o=!1;const g=El(M=>{this._trackResize&&!this._removed&&this.resize(M)._update()},50);this._resizeObserver=new ResizeObserver(M=>{o?g(M):o=!0}),this._resizeObserver.observe(this._container)}this.handlers=new wu(this,x),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=x.hash&&new Ka("string"==typeof x.hash&&x.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:x.center,zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),x.bounds&&(this.resize(),this.fitBounds(x.bounds,p.e({},x.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=x.localIdeographFontFamily,this._validateStyle=x.validateStyle,x.style&&this.setStyle(x.style,{localIdeographFontFamily:x.localIdeographFontFamily}),x.attributionControl&&this.addControl(new Va({customAttribution:x.customAttribution})),x.maplibreLogo&&this.addControl(new js,x.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",o=>{this._update("style"===o.dataType),this.fire(new p.k(`${o.dataType}data`,o))}),this.on("dataloading",o=>{this.fire(new p.k(`${o.dataType}dataloading`,o))}),this.on("dataabort",o=>{this.fire(new p.k("sourcedataabort",o))})}_getMapId(){return this._mapId}addControl(x,o){if(void 0===o&&(o=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new p.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const g=x.onAdd(this);this._controls.push(x);const M=this._controlPositions[o];return-1!==o.indexOf("bottom")?M.insertBefore(g,M.firstChild):M.appendChild(g),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new p.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const o=this._controls.indexOf(x);return o>-1&&this._controls.splice(o,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}calculateCameraOptionsFromTo(x,o,g,M){return null==M&&this.terrain&&(M=this.terrain.getElevationForLngLatZoom(g,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(x,o,g,M)}resize(x){var o;const g=this._containerDimensions(),M=g[0],S=g[1],A=this._getClampedPixelRatio(M,S);if(this._resizeCanvas(M,S,A),this.painter.resize(M,S,A),this.painter.overLimit()){const U=this.painter.context.gl;this._maxCanvasSize=[U.drawingBufferWidth,U.drawingBufferHeight];const K=this._getClampedPixelRatio(M,S);this._resizeCanvas(M,S,K),this.painter.resize(M,S,K)}this.transform.resize(M,S),null===(o=this._requestedCameraState)||void 0===o||o.resize(M,S);const Y=!this._moving;return Y&&(this.stop(),this.fire(new p.k("movestart",x)).fire(new p.k("move",x))),this.fire(new p.k("resize",x)),Y&&this.fire(new p.k("moveend",x)),this}_getClampedPixelRatio(x,o){const{0:g,1:M}=this._maxCanvasSize,S=this.getPixelRatio(),A=x*S,Y=o*S;return Math.min(A>g?g/A:1,Y>M?M/Y:1)*S}getPixelRatio(){var x;return null!==(x=this._overridePixelRatio)&&void 0!==x?x:devicePixelRatio}setPixelRatio(x){this._overridePixelRatio=x,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(x){return this.transform.setMaxBounds(le.convert(x)),this._update()}setMinZoom(x){if((x=x??-2)>=-2&&x<=this.transform.maxZoom)return this.transform.minZoom=x,this._update(),this.getZoom()<x&&this.setZoom(x),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x??22)>=this.transform.minZoom)return this.transform.maxZoom=x,this._update(),this.getZoom()>x&&this.setZoom(x),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.minPitch=x,this._update(),this.getPitch()<x&&this.setPitch(x),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(x>=this.transform.minPitch)return this.transform.maxPitch=x,this._update(),this.getPitch()>x&&this.setPitch(x),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.renderWorldCopies=x,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(x){return this._cooperativeGestures=x,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(x){return this.transform.locationPoint(p.L.convert(x),this.style&&this.terrain)}unproject(x){return this.transform.pointLocation(p.P.convert(x),this.terrain)}isMoving(){var x;return this._moving||(null===(x=this.handlers)||void 0===x?void 0:x.isMoving())}isZooming(){var x;return this._zooming||(null===(x=this.handlers)||void 0===x?void 0:x.isZooming())}isRotating(){var x;return this._rotating||(null===(x=this.handlers)||void 0===x?void 0:x.isRotating())}_createDelegatedListener(x,o,g){if("mouseenter"===x||"mouseover"===x){let M=!1;return{layer:o,listener:g,delegates:{mousemove:A=>{const Y=this.getLayer(o)?this.queryRenderedFeatures(A.point,{layers:[o]}):[];Y.length?M||(M=!0,g.call(this,new yn(x,this,A.originalEvent,{features:Y}))):M=!1},mouseout:()=>{M=!1}}}}if("mouseleave"===x||"mouseout"===x){let M=!1;return{layer:o,listener:g,delegates:{mousemove:Y=>{(this.getLayer(o)?this.queryRenderedFeatures(Y.point,{layers:[o]}):[]).length?M=!0:M&&(M=!1,g.call(this,new yn(x,this,Y.originalEvent)))},mouseout:Y=>{M&&(M=!1,g.call(this,new yn(x,this,Y.originalEvent)))}}}}{const M=S=>{const A=this.getLayer(o)?this.queryRenderedFeatures(S.point,{layers:[o]}):[];A.length&&(S.features=A,g.call(this,S),delete S.features)};return{layer:o,listener:g,delegates:{[x]:M}}}}on(x,o,g){if(void 0===g)return super.on(x,o);const M=this._createDelegatedListener(x,o,g);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(M);for(const S in M.delegates)this.on(S,M.delegates[S]);return this}once(x,o,g){if(void 0===g)return super.once(x,o);const M=this._createDelegatedListener(x,o,g);for(const S in M.delegates)this.once(S,M.delegates[S]);return this}off(x,o,g){return void 0===g?super.off(x,o):(this._delegatedListeners&&this._delegatedListeners[x]&&(M=>{const S=this._delegatedListeners[x];for(let A=0;A<S.length;A++){const Y=S[A];if(Y.layer===o&&Y.listener===g){for(const U in Y.delegates)this.off(U,Y.delegates[U]);return S.splice(A,1),this}}})(),this)}queryRenderedFeatures(x,o){if(!this.style)return[];let g;const M=x instanceof p.P||Array.isArray(x),S=M?x:[[0,0],[this.transform.width,this.transform.height]];if(o=o||(M?{}:x)||{},S instanceof p.P||"number"==typeof S[0])g=[p.P.convert(S)];else{const A=p.P.convert(S[0]),Y=p.P.convert(S[1]);g=[A,new p.P(Y.x,A.y),Y,new p.P(A.x,Y.y),A]}return this.style.queryRenderedFeatures(g,o,this.transform)}querySourceFeatures(x,o){return this.style.querySourceFeatures(x,o)}setStyle(x,o){return!1!==(o=p.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},o)).diff&&o.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&x?(this._diffStyle(x,o),this):(this._localIdeographFontFamily=o.localIdeographFontFamily,this._updateStyle(x,o))}setTransformRequest(x){return this._requestManager.setTransformRequest(x),this}_getUIString(x){const o=this._locale[x];if(null==o)throw new Error(`Missing UI string '${x}'`);return o}_updateStyle(x,o){if(o.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(x,o));const g=this.style&&o.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!x)),x?(this.style=new ps(this,o||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof x?this.style.loadURL(x,o,g):this.style.loadJSON(x,o,g),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ps(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(x,o){if("string"==typeof x){const g=this._requestManager.transformRequest(x,it.Style);p.f(g,(M,S)=>{M?this.fire(new p.j(M)):S&&this._updateDiff(S,o)})}else"object"==typeof x&&this._updateDiff(x,o)}_updateDiff(x,o){try{this.style.setState(x,o)&&this._update(!0)}catch(g){p.w(`Unable to perform style diff: ${g.message||g.error||g}.  Rebuilding the style from scratch.`),this._updateStyle(x,o)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():p.w("There is no style added to the map.")}addSource(x,o){return this._lazyInitEmptyStyle(),this.style.addSource(x,o),this._update(!0)}isSourceLoaded(x){const o=this.style&&this.style.sourceCaches[x];if(void 0!==o)return o.loaded();this.fire(new p.j(new Error(`There is no source with ID '${x}'`)))}setTerrain(x){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),x){const o=this.style.sourceCaches[x.source];if(!o)throw new Error(`cannot load terrain, because there exists no source with ID: ${x.source}`);for(const g in this.style._layers){const M=this.style._layers[g];"hillshade"===M.type&&M.source===x.source&&p.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new bo(this.painter,o,x),this.painter.renderToTexture=new vl(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=g=>{"style"===g.dataType?this.terrain.sourceCache.freeRtt():"source"===g.dataType&&g.tile&&(g.sourceId!==x.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(g.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new p.k("terrain",{terrain:x})),this}getTerrain(){var x,o;return null!==(o=null===(x=this.terrain)||void 0===x?void 0:x.options)&&void 0!==o?o:null}areTilesLoaded(){const x=this.style&&this.style.sourceCaches;for(const o in x){const g=x[o]._tiles;for(const M in g){const S=g[M];if("loaded"!==S.state&&"errored"!==S.state)return!1}}return!0}addSourceType(x,o,g){return this._lazyInitEmptyStyle(),this.style.addSourceType(x,o,g)}removeSource(x){return this.style.removeSource(x),this._update(!0)}getSource(x){return this.style.getSource(x)}addImage(x,o,g={}){const{pixelRatio:M=1,sdf:S=!1,stretchX:A,stretchY:Y,content:U}=g;if(this._lazyInitEmptyStyle(),!(o instanceof HTMLImageElement||p.a(o))){if(void 0===o.width||void 0===o.height)return this.fire(new p.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:K,height:ge,data:Ce}=o,Ne=o;return this.style.addImage(x,{data:new p.R({width:K,height:ge},new Uint8Array(Ce)),pixelRatio:M,stretchX:A,stretchY:Y,content:U,sdf:S,version:0,userImage:Ne}),Ne.onAdd&&Ne.onAdd(this,x),this}}{const{width:K,height:ge,data:Ce}=p.h.getImageData(o);this.style.addImage(x,{data:new p.R({width:K,height:ge},Ce),pixelRatio:M,stretchX:A,stretchY:Y,content:U,sdf:S,version:0})}}updateImage(x,o){const g=this.style.getImage(x);if(!g)return this.fire(new p.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const M=o instanceof HTMLImageElement||p.a(o)?p.h.getImageData(o):o,{width:S,height:A,data:Y}=M;if(void 0===S||void 0===A)return this.fire(new p.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(S!==g.data.width||A!==g.data.height)return this.fire(new p.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const U=!(o instanceof HTMLImageElement||p.a(o));return g.data.replace(Y,U),this.style.updateImage(x,g),this}getImage(x){return this.style.getImage(x)}hasImage(x){return x?!!this.style.getImage(x):(this.fire(new p.j(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x,o){Ie.getImage(this._requestManager.transformRequest(x,it.Image),o)}listImages(){return this.style.listImages()}addLayer(x,o){return this._lazyInitEmptyStyle(),this.style.addLayer(x,o),this._update(!0)}moveLayer(x,o){return this.style.moveLayer(x,o),this._update(!0)}removeLayer(x){return this.style.removeLayer(x),this._update(!0)}getLayer(x){return this.style.getLayer(x)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(x,o,g){return this.style.setLayerZoomRange(x,o,g),this._update(!0)}setFilter(x,o,g={}){return this.style.setFilter(x,o,g),this._update(!0)}getFilter(x){return this.style.getFilter(x)}setPaintProperty(x,o,g,M={}){return this.style.setPaintProperty(x,o,g,M),this._update(!0)}getPaintProperty(x,o){return this.style.getPaintProperty(x,o)}setLayoutProperty(x,o,g,M={}){return this.style.setLayoutProperty(x,o,g,M),this._update(!0)}getLayoutProperty(x,o){return this.style.getLayoutProperty(x,o)}setGlyphs(x,o={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(x,o),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(x,o,g={}){return this._lazyInitEmptyStyle(),this.style.addSprite(x,o,g,M=>{M||this._update(!0)}),this}removeSprite(x){return this._lazyInitEmptyStyle(),this.style.removeSprite(x),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(x,o={}){return this._lazyInitEmptyStyle(),this.style.setSprite(x,o,g=>{g||this._update(!0)}),this}setLight(x,o={}){return this._lazyInitEmptyStyle(),this.style.setLight(x,o),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(x,o){return this.style.setFeatureState(x,o),this._update()}removeFeatureState(x,o){return this.style.removeFeatureState(x,o),this._update()}getFeatureState(x){return this.style.getFeatureState(x)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let x=0,o=0;return this._container&&(x=this._container.clientWidth||400,o=this._container.clientHeight||300),[x,o]}_setupContainer(){const x=this._container;x.classList.add("maplibregl-map");const o=this._canvasContainer=R.create("div","maplibregl-canvas-container",x);this._interactive&&o.classList.add("maplibregl-interactive"),this._canvas=R.create("canvas","maplibregl-canvas",o),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const g=this._containerDimensions(),M=this._getClampedPixelRatio(g[0],g[1]);this._resizeCanvas(g[0],g[1],M);const S=this._controlContainer=R.create("div","maplibregl-control-container",x),A=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(Y=>{A[Y]=R.create("div",`maplibregl-ctrl-${Y} `,S)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=R.create("div","maplibregl-cooperative-gesture-screen",this._container);let x="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(x="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${x}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){R.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(x,o,g){this._canvas.width=Math.floor(g*x),this._canvas.height=Math.floor(g*o),this._canvas.style.width=`${x}px`,this._canvas.style.height=`${o}px`}_setupPainter(){const x={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let o=null;this._canvas.addEventListener("webglcontextcreationerror",M=>{o={requestedAttributes:x},M&&(o.statusMessage=M.statusMessage,o.type=M.type)},{once:!0});const g=this._canvas.getContext("webgl2",x)||this._canvas.getContext("webgl",x);if(!g){const M="Failed to initialize WebGL";throw o?(o.message=M,new Error(JSON.stringify(o))):new Error(M)}this.painter=new qi(g,this.transform),H.testSupport(g)}_onCooperativeGesture(x,o,g){return!o&&g<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(x){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_render(x){const o=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(x),this._removed)return;let g=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const S=this.transform.zoom,A=p.h.now();this.style.zoomHistory.update(S,A);const Y=new p.a8(S,{now:A,fadeDuration:o,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),U=Y.crossFadingFactor();1===U&&U===this._crossFadingFactor||(g=!0,this._crossFadingFactor=U),this.style.update(Y)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,showPadding:this.showPadding}),this.fire(new p.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,p.bg.mark(p.bh.load),this.fire(new p.k("load"))),this.style&&(this.style.hasTransitions()||g)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const M=this._sourcesDirty||this._styleDirty||this._placementDirty;return M||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new p.k("idle")),!this._loaded||this._fullyLoaded||M||(this._fullyLoaded=!0,p.bg.mark(p.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var x;this._hash&&this._hash.remove();for(const g of this._controls)g.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),Ie.removeThrottleControl(this._imageQueueHandle),null===(x=this._resizeObserver)||void 0===x||x.disconnect();const o=this.painter.context.gl.getExtension("WEBGL_lose_context");o&&o.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),R.remove(this._canvasContainer),R.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),p.bg.clearMetrics(),this._removed=!0,this.fire(new p.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=p.h.frame(x=>{p.bg.frame(x),this._frame=null,this._render(x)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}get version(){return yi}getCameraTargetElevation(){return this.transform.elevation}},re.NavigationControl=class{constructor(x){this._updateZoomButtons=()=>{const o=this._map.getZoom(),g=o===this._map.getMaxZoom(),M=o===this._map.getMinZoom();this._zoomInButton.disabled=g,this._zoomOutButton.disabled=M,this._zoomInButton.setAttribute("aria-disabled",g.toString()),this._zoomOutButton.setAttribute("aria-disabled",M.toString())},this._rotateCompassArrow=()=>{const o=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=o},this._setButtonTitle=(o,g)=>{const M=this._map._getUIString(`NavigationControl.${g}`);o.title=M,o.setAttribute("aria-label",M)},this.options=p.e({},pl,x),this._container=R.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",o=>o.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",o=>this._map.zoomIn({},{originalEvent:o})),R.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",o=>this._map.zoomOut({},{originalEvent:o})),R.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",o=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:o}):this._map.resetNorth({},{originalEvent:o})}),this._compassIcon=R.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fl(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){R.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(x,o){const g=R.create("button",x,this._container);return g.type="button",g.addEventListener("click",o),g}},re.GeolocateControl=class extends p.E{constructor(x){super(),this._onSuccess=o=>{if(this._map){if(this._isOutOfMapMaxBounds(o))return this._setErrorState(),this.fire(new p.k("outofmaxbounds",o)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=o,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(o),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(o),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new p.k("geolocate",o)),this._finish()}},this._updateCamera=o=>{const g=new p.L(o.coords.longitude,o.coords.latitude),M=o.coords.accuracy,S=this._map.getBearing(),A=p.e({bearing:S},this.options.fitBoundsOptions),Y=le.fromLngLat(g,M);this._map.fitBounds(Y,A,{geolocateSource:!0})},this._updateMarker=o=>{if(o){const g=new p.L(o.coords.longitude,o.coords.latitude);this._accuracyCircleMarker.setLngLat(g).addTo(this._map),this._userLocationDotMarker.setLngLat(g).addTo(this._map),this._accuracy=o.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=o=>{if(this._map){if(this.options.trackUserLocation)if(1===o.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const g=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===o.code&&io)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new p.k("error",o)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=o=>{if(this._map){if(this._container.addEventListener("contextmenu",g=>g.preventDefault()),this._geolocateButton=R.create("button","maplibregl-ctrl-geolocate",this._container),R.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===o){p.w("Geolocation support is not available so the GeolocateControl will be disabled.");const g=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g)}else{const g=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=g,this._geolocateButton.setAttribute("aria-label",g)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=R.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new el({element:this._dotElement}),this._circleElement=R.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new el({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",g=>{g.geolocateSource||"ACTIVE_LOCK"!==this._watchState||g.originalEvent&&"resize"===g.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new p.k("trackuserlocationend")))})}},this.options=p.e({},xo,x)}onAdd(x){return this._map=x,this._container=R.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(o,g=!1){void 0===ci||g?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(M=>{ci="denied"!==M.state,o(ci)}).catch(()=>{ci=!!window.navigator.geolocation,o(ci)}):(ci=!!window.navigator.geolocation,o(ci)):o(ci)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),R.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ks=0,io=!1}_isOutOfMapMaxBounds(x){const o=this._map.getMaxBounds(),g=x.coords;return o&&(g.longitude<o.getWest()||g.longitude>o.getEast()||g.latitude<o.getSouth()||g.latitude>o.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const x=this._map.getBounds(),o=x.getSouthEast(),g=x.getNorthEast(),M=o.distanceTo(g),S=Math.ceil(this._accuracy/(M/this._map._container.clientHeight)*2);this._circleElement.style.width=`${S}px`,this._circleElement.style.height=`${S}px`}trigger(){if(!this._setup)return p.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new p.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ks--,io=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new p.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new p.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let x;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ks++,ks>1?(x={maximumAge:6e5,timeout:0},io=!0):(x=this.options.positionOptions,io=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,x)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},re.AttributionControl=Va,re.LogoControl=js,re.ScaleControl=class{constructor(x){this._onMove=()=>{yt(this._map,this._container,this.options)},this.setUnit=o=>{this.options.unit=o,yt(this._map,this._container,this.options)},this.options=p.e({},nc,x)}getDefaultPosition(){return"bottom-left"}onAdd(x){return this._map=x,this._container=R.create("div","maplibregl-ctrl maplibregl-ctrl-scale",x.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){R.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},re.FullscreenControl=class extends p.E{constructor(x={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,x&&x.container&&(x.container instanceof HTMLElement?this._container=x.container:p.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=R.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){R.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const x=this._fullscreenButton=R.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);R.create("span","maplibregl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.title=x}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new p.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new p.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},re.TerrainControl=class{constructor(x){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=x}onAdd(x){return this._map=x,this._container=R.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=R.create("button","maplibregl-ctrl-terrain",this._container),R.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){R.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},re.Popup=class extends p.E{constructor(x){super(),this.remove=()=>(this._content&&R.remove(this._content),this._container&&(R.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new p.k("close")),this),this._onMouseUp=o=>{this._update(o.point)},this._onMouseMove=o=>{this._update(o.point)},this._onDrag=o=>{this._update(o.point)},this._update=o=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=R.create("div","maplibregl-popup",this._map.getContainer()),this._tip=R.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const Y of this.options.className.split(" "))this._container.classList.add(Y);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=vs(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!o)return;const g=this._pos=this._trackPointer&&o?o:this._map.project(this._lngLat);let M=this.options.anchor;const S=w(this.options.offset);if(!M){const Y=this._container.offsetWidth,U=this._container.offsetHeight;let K;K=g.y+S.bottom.y<U?["top"]:g.y>this._map.transform.height-U?["bottom"]:[],g.x<Y/2?K.push("left"):g.x>this._map.transform.width-Y/2&&K.push("right"),M=0===K.length?"bottom":K.join("-")}const A=g.add(S[M]).round();R.setTransform(this._container,`${Gl[M]} translate(${A.x}px,${A.y}px)`),tc(this._container,M,"popup")},this._onClose=()=>{this.remove()},this.options=p.e(Object.create(c),x)}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new p.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(x){return this._lngLat=p.L.convert(x),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(document.createTextNode(x))}setHTML(x){const o=document.createDocumentFragment(),g=document.createElement("body");let M;for(g.innerHTML=x;M=g.firstChild,M;)o.appendChild(M);return this.setDOMContent(o)}getMaxWidth(){var x;return null===(x=this._container)||void 0===x?void 0:x.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=R.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(x),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(x){this._container&&this._container.classList.add(x)}removeClassName(x){this._container&&this._container.classList.remove(x)}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){if(this._container)return this._container.classList.toggle(x)}_createCloseButton(){this.options.closeButton&&(this._closeButton=R.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const x=this._container.querySelector(_);x&&x.focus()}},re.Marker=el,re.Style=ps,re.LngLat=p.L,re.LngLatBounds=le,re.Point=p.P,re.MercatorCoordinate=p.U,re.Evented=p.E,re.AJAXError=p.bi,re.config=p.c,re.CanvasSource=Xn,re.GeoJSONSource=bn,re.ImageSource=kn,re.RasterDEMTileSource=Ct,re.RasterTileSource=Yt,re.VectorTileSource=Ve,re.VideoSource=un,re.setRTLTextPlugin=p.bj,re.getRTLTextPluginStatus=p.bk,re.prewarm=function(){Zn().acquire(Fn)},re.clearPrewarmedResources=function(){const x=ai;x&&(x.isPreloaded()&&1===x.numActive()?(x.release(Fn),ai=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},I.extend(re,{isSafari:p.ac,getPerformanceMetrics:p.bg.getPerformanceMetrics}),re}),B}()},5861:(pt,Ze,X)=>{"use strict";function B(z,p,O,R,H,G,ie){try{var Ee=z[G](ie),he=Ee.value}catch(Pe){return void O(Pe)}Ee.done?p(he):Promise.resolve(he).then(R,H)}function E(z){return function(){var p=this,O=arguments;return new Promise(function(R,H){var G=z.apply(p,O);function ie(he){B(G,R,H,ie,Ee,"next",he)}function Ee(he){B(G,R,H,ie,Ee,"throw",he)}ie(void 0)})}}X.d(Ze,{Z:()=>E})}},pt=>{pt(pt.s=6895)}]);